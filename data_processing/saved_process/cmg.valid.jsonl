{"code_tokens": ["static", "inline", "char", "*", "pack", "_", "hex", "_", "byte", "(", "char", "*", "buf", ",", "u8", "byte", ")", "<nl>", "/", "*", "<nl>", "*", "swap", "-", "swap", "value", "of", "@", "a", "and", "@", "b", "<nl>", "*", "/", "<nl>", "-", "#", "define", "swap", "(", "a", ",", "b", ")", "(", "{", "typeof", "(", "a", ")", "_", "_", "tmp", "=", "(", "a", ")", ";", "(", "a", ")", "=", "(", "b", ")", ";", "(", "b", ")", "=", "_", "_", "tmp", ";", "}", ")", "<nl>", "+", "#", "define", "swap", "(", "a", ",", "b", ")", "\\", "<nl>", "+", "do", "{", "typeof", "(", "a", ")", "_", "_", "tmp", "=", "(", "a", ")", ";", "(", "a", ")", "=", "(", "b", ")", ";", "(", "b", ")", "=", "_", "_", "tmp", ";", "}", "while", "(", "0", ")", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "container", "_", "of", "-", "cast", "a", "member", "of", "a", "structure", "out", "to", "the", "containing", "structure", "<nl>"], "docstring_tokens": ["generic", "swap", "don", "t", "return", "a", "value", "from", "swap"]}
{"code_tokens": ["#", "include", "<", "asm", "/", "smp", "_", "plat", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "smp", "_", "scu", ".", "h", ">", "<nl>", "<nl>", "-", "#", "define", "CPU", "_", "RESET", "0x00", "<nl>", "+", "/", "*", "<nl>", "+", "*", "There", "are", "two", "reset", "registers", ",", "one", "with", "self", "-", "clearing", "(", "SC", ")", "<nl>", "+", "*", "reset", "and", "one", "with", "non", "-", "self", "-", "clearing", "reset", "(", "NON", "_", "SC", ")", ".", "<nl>", "+", "*", "/", "<nl>", "+", "#", "define", "CPU", "_", "RESET", "_", "SC", "0x00", "<nl>", "+", "#", "define", "CPU", "_", "RESET", "_", "NON", "_", "SC", "0x20", "<nl>", "<nl>", "#", "define", "RESET", "_", "VECT", "0x00", "<nl>", "#", "define", "SW", "_", "RESET", "_", "ADDR", "0x94", "<nl>", "static", "inline", "void", "berlin", "_", "perform", "_", "reset", "_", "cpu", "(", "unsigned", "int", "cpu", ")", "<nl>", "{", "<nl>", "u32", "val", ";", "<nl>", "<nl>", "-", "val", "=", "readl", "(", "cpu", "_", "ctrl", "+", "CPU", "_", "RESET", ")", ";", "<nl>", "+", "val", "=", "readl", "(", "cpu", "_", "ctrl", "+", "CPU", "_", "RESET", "_", "NON", "_", "SC", ")", ";", "<nl>", "+", "val", "&", "=", "~", "BIT", "(", "cpu", "_", "logical", "_", "map", "(", "cpu", ")", ")", ";", "<nl>", "+", "writel", "(", "val", ",", "cpu", "_", "ctrl", "+", "CPU", "_", "RESET", "_", "NON", "_", "SC", ")", ";", "<nl>", "val", "|", "=", "BIT", "(", "cpu", "_", "logical", "_", "map", "(", "cpu", ")", ")", ";", "<nl>", "-", "writel", "(", "val", ",", "cpu", "_", "ctrl", "+", "CPU", "_", "RESET", ")", ";", "<nl>", "+", "writel", "(", "val", ",", "cpu", "_", "ctrl", "+", "CPU", "_", "RESET", "_", "NON", "_", "SC", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "berlin", "_", "boot", "_", "secondary", "(", "unsigned", "int", "cpu", ",", "struct", "task", "_", "struct", "*", "idle", ")", "<nl>"], "docstring_tokens": ["arm", "berlin", "use", "non", "self", "cleared", "reset", "register", "to", "reset", "cpu"]}
{"code_tokens": ["static", "bool", "snd", "_", "ctl", "_", "remove", "_", "numid", "_", "conflict", "(", "struct", "snd", "_", "card", "*", "card", ",", "<nl>", "{", "<nl>", "struct", "snd", "_", "kcontrol", "*", "kctl", ";", "<nl>", "<nl>", "+", "/", "*", "Make", "sure", "that", "the", "ids", "assigned", "to", "the", "control", "do", "not", "wrap", "around", "*", "/", "<nl>", "+", "if", "(", "card", "-", ">", "last", "_", "numid", ">", "=", "UINT", "_", "MAX", "-", "count", ")", "<nl>", "+", "card", "-", ">", "last", "_", "numid", "=", "0", ";", "<nl>", "+", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "kctl", ",", "&", "card", "-", ">", "controls", ",", "list", ")", "{", "<nl>", "if", "(", "kctl", "-", ">", "id", ".", "numid", "<", "card", "-", ">", "last", "_", "numid", "+", "1", "+", "count", "&", "&", "<nl>", "kctl", "-", ">", "id", ".", "numid", "+", "kctl", "-", ">", "count", ">", "card", "-", ">", "last", "_", "numid", "+", "1", ")", "{", "<nl>"], "docstring_tokens": ["ALSA", "control", "Handle", "numid", "overflow"]}
{"code_tokens": ["static", "void", "uli526x", "_", "rx", "_", "packet", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "uli526x", "_", "board", "_", "info", "<nl>", "<nl>", "if", "(", "!", "(", "rdes0", "&", "0x8000", ")", "|", "|", "<nl>", "(", "(", "db", "-", ">", "cr6", "_", "data", "&", "CR6", "_", "PM", ")", "&", "&", "(", "rxlen", ">", "6", ")", ")", ")", "{", "<nl>", "+", "struct", "sk", "_", "buff", "*", "new", "_", "skb", "=", "NULL", ";", "<nl>", "+", "<nl>", "skb", "=", "rxptr", "-", ">", "rx", "_", "skb", "_", "ptr", ";", "<nl>", "<nl>", "/", "*", "Good", "packet", ",", "send", "to", "upper", "layer", "*", "/", "<nl>", "/", "*", "Shorst", "packet", "used", "new", "SKB", "*", "/", "<nl>", "-", "if", "(", "(", "rxlen", "<", "RX", "_", "COPY", "_", "SIZE", ")", "&", "&", "<nl>", "-", "(", "(", "skb", "=", "dev", "_", "alloc", "_", "skb", "(", "rxlen", "+", "2", ")", ")", "<nl>", "-", "!", "=", "NULL", ")", ")", "{", "<nl>", "+", "if", "(", "(", "rxlen", "<", "RX", "_", "COPY", "_", "SIZE", ")", "&", "&", "<nl>", "+", "(", "(", "new", "_", "skb", "=", "dev", "_", "alloc", "_", "skb", "(", "rxlen", "+", "2", ")", "!", "=", "NULL", ")", ")", ")", "{", "<nl>", "+", "skb", "=", "new", "_", "skb", ";", "<nl>", "/", "*", "size", "less", "than", "COPY", "_", "SIZE", ",", "allocate", "a", "rxlen", "SKB", "*", "/", "<nl>", "skb", "_", "reserve", "(", "skb", ",", "2", ")", ";", "/", "*", "16byte", "align", "*", "/", "<nl>", "memcpy", "(", "skb", "_", "put", "(", "skb", ",", "rxlen", ")", ",", "<nl>"], "docstring_tokens": ["tulip", "Fix", "null", "dereference", "in", "uli526x_rx_packet"]}
{"code_tokens": ["int", "tcp", "_", "sendmsg", "(", "struct", "sock", "*", "sk", ",", "struct", "msghdr", "*", "msg", ",", "size", "_", "t", "size", ")", "<nl>", "<nl>", "if", "(", "!", "skb", "_", "can", "_", "coalesce", "(", "skb", ",", "i", ",", "pfrag", "-", ">", "page", ",", "<nl>", "pfrag", "-", ">", "offset", ")", ")", "{", "<nl>", "-", "if", "(", "i", "=", "=", "sysctl", "_", "max", "_", "skb", "_", "frags", "|", "|", "!", "sg", ")", "{", "<nl>", "+", "if", "(", "i", ">", "=", "sysctl", "_", "max", "_", "skb", "_", "frags", "|", "|", "!", "sg", ")", "{", "<nl>", "tcp", "_", "mark", "_", "push", "(", "tp", ",", "skb", ")", ";", "<nl>", "goto", "new", "_", "segment", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tcp", "fix", "potential", "memory", "corruption"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "(", "clk", "_", "enable", ")", ";", "<nl>", "<nl>", "void", "clk", "_", "disable", "(", "struct", "clk", "*", "clk", ")", "<nl>", "{", "<nl>", "+", "if", "(", "!", "clk", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "if", "(", "clk", "-", ">", "ops", "&", "&", "clk", "-", ">", "ops", "-", ">", "disable", ")", "<nl>", "clk", "-", ">", "ops", "-", ">", "disable", "(", "clk", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["blackfin", "bf609", "let", "clk_disable", "return", "immediately", "if", "clk", "is", "NULL"]}
{"code_tokens": ["void", "edac", "_", "mc", "_", "free", "(", "struct", "mem", "_", "ctl", "_", "info", "*", "mci", ")", "<nl>", "debugf1", "(", "\"", "%", "s", "(", ")", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "<nl>", "edac", "_", "mc", "_", "unregister", "_", "sysfs", "_", "main", "_", "kobj", "(", "mci", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "free", "the", "mci", "instance", "memory", "here", "*", "/", "<nl>", "+", "kfree", "(", "mci", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "edac", "_", "mc", "_", "free", ")", ";", "<nl>", "void", "edac", "_", "mc", "_", "free", "(", "struct", "mem", "_", "ctl", "_", "info", "*", "mci", ")", "<nl>", "debugf1", "(", "\"", "%", "s", "(", ")", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "<nl>", "edac", "_", "mc", "_", "unregister", "_", "sysfs", "_", "main", "_", "kobj", "(", "mci", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "free", "the", "mci", "instance", "memory", "here", "*", "/", "<nl>", "+", "kfree", "(", "mci", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "edac", "_", "mc", "_", "free", ")", ";", "<nl>", "<nl>", "static", "void", "_", "_", "devexit", "i7core", "_", "remove", "(", "struct", "pci", "_", "dev", "*", "pdev", ")", "<nl>", "/", "*", "Remove", "MC", "sysfs", "nodes", "*", "/", "<nl>", "edac", "_", "mc", "_", "del", "_", "mc", "(", "&", "i7core", "_", "dev", "-", ">", "pdev", "[", "0", "]", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "-", "/", "*", "Free", "data", "*", "/", "<nl>", "-", "debugf1", "(", "\"", "%", "s", ":", "free", "structs", "\\", "n", "\"", ")", ";", "<nl>", "+", "debugf1", "(", "\"", "%", "s", ":", "free", "mci", "struct", "\\", "n", "\"", ",", "mci", "-", ">", "ctl", "_", "name", ")", ";", "<nl>", "kfree", "(", "mci", "-", ">", "ctl", "_", "name", ")", ";", "<nl>", "edac", "_", "mc", "_", "free", "(", "mci", ")", ";", "<nl>", "void", "edac", "_", "mc", "_", "free", "(", "struct", "mem", "_", "ctl", "_", "info", "*", "mci", ")", "<nl>", "debugf1", "(", "\"", "%", "s", "(", ")", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "<nl>", "edac", "_", "mc", "_", "unregister", "_", "sysfs", "_", "main", "_", "kobj", "(", "mci", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "free", "the", "mci", "instance", "memory", "here", "*", "/", "<nl>", "+", "kfree", "(", "mci", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "edac", "_", "mc", "_", "free", ")", ";", "<nl>", "<nl>", "static", "void", "_", "_", "devexit", "i7core", "_", "remove", "(", "struct", "pci", "_", "dev", "*", "pdev", ")", "<nl>", "/", "*", "Remove", "MC", "sysfs", "nodes", "*", "/", "<nl>", "edac", "_", "mc", "_", "del", "_", "mc", "(", "&", "i7core", "_", "dev", "-", ">", "pdev", "[", "0", "]", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "-", "/", "*", "Free", "data", "*", "/", "<nl>", "-", "debugf1", "(", "\"", "%", "s", ":", "free", "structs", "\\", "n", "\"", ")", ";", "<nl>", "+", "debugf1", "(", "\"", "%", "s", ":", "free", "mci", "struct", "\\", "n", "\"", ",", "mci", "-", ">", "ctl", "_", "name", ")", ";", "<nl>", "kfree", "(", "mci", "-", ">", "ctl", "_", "name", ")", ";", "<nl>", "edac", "_", "mc", "_", "free", "(", "mci", ")", ";", "<nl>", "<nl>", "static", "void", "edac", "_", "mci", "_", "control", "_", "release", "(", "struct", "kobject", "*", "kobj", ")", "<nl>", "<nl>", "/", "*", "decrement", "the", "module", "ref", "count", "*", "/", "<nl>", "module", "_", "put", "(", "mci", "-", ">", "owner", ")", ";", "<nl>", "-", "<nl>", "-", "/", "*", "free", "the", "mci", "instance", "memory", "here", "*", "/", "<nl>", "-", "kfree", "(", "mci", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "kobj", "_", "type", "ktype", "_", "mci", "=", "{", "<nl>"], "docstring_tokens": ["i7core_edac", "don", "t", "use", "a", "freed", "mci", "struct"]}
{"code_tokens": ["int", "ipv6", "_", "find", "_", "hdr", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "unsigned", "int", "*", "offset", ",", "<nl>", "found", "=", "(", "nexthdr", "=", "=", "target", ")", ";", "<nl>", "<nl>", "if", "(", "(", "!", "ipv6", "_", "ext", "_", "hdr", "(", "nexthdr", ")", ")", "|", "|", "nexthdr", "=", "=", "NEXTHDR", "_", "NONE", ")", "{", "<nl>", "-", "if", "(", "target", "<", "0", ")", "<nl>", "+", "if", "(", "target", "<", "0", "|", "|", "found", ")", "<nl>", "break", ";", "<nl>", "return", "-", "ENOENT", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ipv6", "ipv6_find_hdr", "restore", "prev", "functionality"]}
{"code_tokens": ["static", "inline", "struct", "page", "*", "pmd", "_", "page", "(", "pmd", "_", "t", "pmd", ")", "<nl>", "<nl>", "static", "inline", "pmd", "_", "t", "pmd", "_", "modify", "(", "pmd", "_", "t", "pmd", ",", "pgprot", "_", "t", "newprot", ")", "<nl>", "{", "<nl>", "-", "pmd", "_", "val", "(", "pmd", ")", "=", "(", "pmd", "_", "val", "(", "pmd", ")", "&", "_", "PAGE", "_", "CHG", "_", "MASK", ")", "|", "<nl>", "+", "pmd", "_", "val", "(", "pmd", ")", "=", "(", "pmd", "_", "val", "(", "pmd", ")", "&", "(", "_", "PAGE", "_", "CHG", "_", "MASK", "|", "_", "PAGE", "_", "HUGE", ")", ")", "|", "<nl>", "(", "pgprot", "_", "val", "(", "newprot", ")", "&", "~", "_", "PAGE", "_", "CHG", "_", "MASK", ")", ";", "<nl>", "return", "pmd", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["MIPS", "Fix", "page", "table", "corruption", "on", "THP", "permission", "changes"]}
{"code_tokens": ["static", "int", "sctp", "_", "getsockopt", "_", "disable", "_", "fragments", "(", "struct", "sock", "*", "sk", ",", "int", "len", ",", "<nl>", "static", "int", "sctp", "_", "getsockopt", "_", "events", "(", "struct", "sock", "*", "sk", ",", "int", "len", ",", "char", "_", "_", "user", "*", "optval", ",", "<nl>", "int", "_", "_", "user", "*", "optlen", ")", "<nl>", "{", "<nl>", "-", "if", "(", "len", "<", "sizeof", "(", "struct", "sctp", "_", "event", "_", "subscribe", ")", ")", "<nl>", "+", "if", "(", "len", "<", "=", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "-", "len", "=", "sizeof", "(", "struct", "sctp", "_", "event", "_", "subscribe", ")", ";", "<nl>", "+", "if", "(", "len", ">", "sizeof", "(", "struct", "sctp", "_", "event", "_", "subscribe", ")", ")", "<nl>", "+", "len", "=", "sizeof", "(", "struct", "sctp", "_", "event", "_", "subscribe", ")", ";", "<nl>", "if", "(", "put", "_", "user", "(", "len", ",", "optlen", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "if", "(", "copy", "_", "to", "_", "user", "(", "optval", ",", "&", "sctp", "_", "sk", "(", "sk", ")", "-", ">", "subscribe", ",", "len", ")", ")", "<nl>"], "docstring_tokens": ["sctp", "Allow", "struct", "sctp_event_subscribe", "to", "grow", "without", "breaking", "binaries"]}
{"code_tokens": ["static", "ssize", "_", "t", "idt", "_", "dbgfs", "_", "csr", "_", "write", "(", "struct", "file", "*", "filep", ",", "const", "char", "_", "_", "user", "*", "ubuf", ",", "<nl>", "csraddr", "_", "len", "=", "colon", "_", "ch", "-", "buf", ";", "<nl>", "csraddr", "_", "str", "=", "<nl>", "kmalloc", "(", "sizeof", "(", "char", ")", "*", "(", "csraddr", "_", "len", "+", "1", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "csraddr", "_", "str", "=", "=", "NULL", ")", "<nl>", "-", "return", "-", "ENOMEM", ";", "<nl>", "+", "if", "(", "csraddr", "_", "str", "=", "=", "NULL", ")", "{", "<nl>", "+", "ret", "=", "-", "ENOMEM", ";", "<nl>", "+", "goto", "free", "_", "buf", ";", "<nl>", "+", "}", "<nl>", "/", "*", "Copy", "the", "register", "address", "to", "the", "substring", "buffer", "*", "/", "<nl>", "strncpy", "(", "csraddr", "_", "str", ",", "buf", ",", "csraddr", "_", "len", ")", ";", "<nl>", "csraddr", "_", "str", "[", "csraddr", "_", "len", "]", "=", "'", "\\", "0", "'", ";", "<nl>"], "docstring_tokens": ["eeprom", "fix", "memory", "leak", "on", "buf", "when", "failed", "allocation", "of", "csraddr_str"]}
{"code_tokens": ["static", "int", "dgap", "_", "init", "_", "one", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "const", "struct", "pci", "_", "device", "_", "id", "*", "ent", ")", "<nl>", "{", "<nl>", "int", "rc", ";", "<nl>", "<nl>", "+", "if", "(", "dgap", "_", "NumBoards", ">", "=", "MAXBOARDS", ")", "<nl>", "+", "return", "-", "EPERM", ";", "<nl>", "+", "<nl>", "/", "*", "wake", "up", "and", "enable", "device", "*", "/", "<nl>", "rc", "=", "pci", "_", "enable", "_", "device", "(", "pdev", ")", ";", "<nl>"], "docstring_tokens": ["staging", "dgap", "Add", "check", "for", "MAXBOARDS", "in", "probe", "dgap_init_one"]}
{"code_tokens": ["int", "ovl", "_", "setattr", "(", "struct", "dentry", "*", "dentry", ",", "struct", "iattr", "*", "attr", ")", "<nl>", "if", "(", "err", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "-", "upperdentry", "=", "ovl", "_", "dentry", "_", "upper", "(", "dentry", ")", ";", "<nl>", "-", "if", "(", "upperdentry", ")", "{", "<nl>", "+", "err", "=", "ovl", "_", "copy", "_", "up", "(", "dentry", ")", ";", "<nl>", "+", "if", "(", "!", "err", ")", "{", "<nl>", "+", "upperdentry", "=", "ovl", "_", "dentry", "_", "upper", "(", "dentry", ")", ";", "<nl>", "+", "<nl>", "mutex", "_", "lock", "(", "&", "upperdentry", "-", ">", "d", "_", "inode", "-", ">", "i", "_", "mutex", ")", ";", "<nl>", "err", "=", "notify", "_", "change", "(", "upperdentry", ",", "attr", ",", "NULL", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "upperdentry", "-", ">", "d", "_", "inode", "-", ">", "i", "_", "mutex", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "-", "err", "=", "ovl", "_", "copy", "_", "up", "_", "last", "(", "dentry", ",", "attr", ",", "false", ")", ";", "<nl>", "}", "<nl>", "ovl", "_", "drop", "_", "write", "(", "dentry", ")", ";", "<nl>", "out", ":", "<nl>"], "docstring_tokens": ["ovl", "fix", "permission", "checking", "for", "setattr"]}
{"code_tokens": ["static", "int", "eeti", "_", "ts", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "priv", "=", "kzalloc", "(", "sizeof", "(", "*", "priv", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "priv", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "client", "-", ">", "dev", ",", "\"", "failed", "to", "allocate", "driver", "data", "\\", "n", "\"", ")", ";", "<nl>", "-", "goto", "err0", ";", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>", "<nl>", "mutex", "_", "init", "(", "&", "priv", "-", ">", "mutex", ")", ";", "<nl>", "input", "=", "input", "_", "allocate", "_", "device", "(", ")", ";", "<nl>", "-", "<nl>", "if", "(", "!", "input", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "client", "-", ">", "dev", ",", "\"", "Failed", "to", "allocate", "input", "device", ".", "\\", "n", "\"", ")", ";", "<nl>", "goto", "err1", ";", "<nl>", "static", "int", "eeti", "_", "ts", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "err1", ":", "<nl>", "input", "_", "free", "_", "device", "(", "input", ")", ";", "<nl>", "kfree", "(", "priv", ")", ";", "<nl>", "-", "err0", ":", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Input", "eeti_ts", "drop", "goto", "to", "return", "statement"]}
{"code_tokens": ["static", "int", "drbd", "_", "asb", "_", "recover", "_", "0p", "(", "struct", "drbd", "_", "conf", "*", "mdev", ")", "_", "_", "must", "_", "hold", "(", "local", ")", "<nl>", "break", ";", "<nl>", "}", "<nl>", "/", "*", "Else", "fall", "through", "to", "one", "of", "the", "other", "strategies", ".", ".", ".", "*", "/", "<nl>", "-", "dev", "_", "warn", "(", "DEV", ",", "\"", "Discard", "younger", "/", "older", "primary", "did", "not", "found", "a", "decision", "\\", "n", "\"", "<nl>", "+", "dev", "_", "warn", "(", "DEV", ",", "\"", "Discard", "younger", "/", "older", "primary", "did", "not", "find", "a", "decision", "\\", "n", "\"", "<nl>", "\"", "Using", "discard", "-", "least", "-", "changes", "instead", "\\", "n", "\"", ")", ";", "<nl>", "case", "ASB", "_", "DISCARD", "_", "ZERO", "_", "CHG", ":", "<nl>", "if", "(", "ch", "_", "peer", "=", "=", "0", "&", "&", "ch", "_", "self", "=", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["fix", "grammar", "in", "printk"]}
{"code_tokens": ["int", "c2", "_", "qp", "_", "modify", "(", "struct", "c2", "_", "dev", "*", "c2dev", ",", "struct", "c2", "_", "qp", "*", "qp", ",", "<nl>", "<nl>", "if", "(", "attr", "_", "mask", "&", "IB", "_", "QP", "_", "STATE", ")", "{", "<nl>", "/", "*", "Ensure", "the", "state", "is", "valid", "*", "/", "<nl>", "-", "if", "(", "attr", "-", ">", "qp", "_", "state", "<", "0", "|", "|", "attr", "-", ">", "qp", "_", "state", ">", "IB", "_", "QPS", "_", "ERR", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "+", "if", "(", "attr", "-", ">", "qp", "_", "state", "<", "0", "|", "|", "attr", "-", ">", "qp", "_", "state", ">", "IB", "_", "QPS", "_", "ERR", ")", "{", "<nl>", "+", "err", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "bail0", ";", "<nl>", "+", "}", "<nl>", "<nl>", "wr", ".", "next", "_", "qp", "_", "state", "=", "cpu", "_", "to", "_", "be32", "(", "to", "_", "c2", "_", "state", "(", "attr", "-", ">", "qp", "_", "state", ")", ")", ";", "<nl>", "<nl>", "int", "c2", "_", "qp", "_", "modify", "(", "struct", "c2", "_", "dev", "*", "c2dev", ",", "struct", "c2", "_", "qp", "*", "qp", ",", "<nl>", "if", "(", "attr", "-", ">", "cur", "_", "qp", "_", "state", "!", "=", "IB", "_", "QPS", "_", "RTR", "&", "&", "<nl>", "attr", "-", ">", "cur", "_", "qp", "_", "state", "!", "=", "IB", "_", "QPS", "_", "RTS", "&", "&", "<nl>", "attr", "-", ">", "cur", "_", "qp", "_", "state", "!", "=", "IB", "_", "QPS", "_", "SQD", "&", "&", "<nl>", "-", "attr", "-", ">", "cur", "_", "qp", "_", "state", "!", "=", "IB", "_", "QPS", "_", "SQE", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "-", "else", "<nl>", "+", "attr", "-", ">", "cur", "_", "qp", "_", "state", "!", "=", "IB", "_", "QPS", "_", "SQE", ")", "{", "<nl>", "+", "err", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "bail0", ";", "<nl>", "+", "}", "else", "<nl>", "wr", ".", "next", "_", "qp", "_", "state", "=", "<nl>", "cpu", "_", "to", "_", "be32", "(", "to", "_", "c2", "_", "state", "(", "attr", "-", ">", "cur", "_", "qp", "_", "state", ")", ")", ";", "<nl>"], "docstring_tokens": ["RDMA", "amso1100", "Fix", "memory", "leak", "in", "c2_qp_modify"]}
{"code_tokens": ["static", "int", "_", "_", "decode", "_", "pool", "_", "names", "(", "void", "*", "*", "p", ",", "void", "*", "end", ",", "struct", "ceph", "_", "osdmap", "*", "map", ")", "<nl>", "ceph", "_", "decode", "_", "32", "_", "safe", "(", "p", ",", "end", ",", "pool", ",", "bad", ")", ";", "<nl>", "ceph", "_", "decode", "_", "32", "_", "safe", "(", "p", ",", "end", ",", "len", ",", "bad", ")", ";", "<nl>", "dout", "(", "\"", "pool", "%", "d", "len", "%", "d", "\\", "n", "\"", ",", "pool", ",", "len", ")", ";", "<nl>", "+", "ceph", "_", "decode", "_", "need", "(", "p", ",", "end", ",", "len", ",", "bad", ")", ";", "<nl>", "pi", "=", "_", "_", "lookup", "_", "pg", "_", "pool", "(", "&", "map", "-", ">", "pg", "_", "pools", ",", "pool", ")", ";", "<nl>", "if", "(", "pi", ")", "{", "<nl>", "+", "char", "*", "name", "=", "kstrndup", "(", "*", "p", ",", "len", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "name", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "kfree", "(", "pi", "-", ">", "name", ")", ";", "<nl>", "-", "pi", "-", ">", "name", "=", "kmalloc", "(", "len", "+", "1", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "-", "if", "(", "pi", "-", ">", "name", ")", "{", "<nl>", "-", "memcpy", "(", "pi", "-", ">", "name", ",", "*", "p", ",", "len", ")", ";", "<nl>", "-", "pi", "-", ">", "name", "[", "len", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "-", "dout", "(", "\"", "name", "is", "%", "s", "\\", "n", "\"", ",", "pi", "-", ">", "name", ")", ";", "<nl>", "-", "}", "<nl>", "+", "pi", "-", ">", "name", "=", "name", ";", "<nl>", "+", "dout", "(", "\"", "name", "is", "%", "s", "\\", "n", "\"", ",", "pi", "-", ">", "name", ")", ";", "<nl>", "}", "<nl>", "*", "p", "+", "=", "len", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["libceph", "fix", "overflow", "in", "__decode_pool_names"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "hvcs", "_", "initialize", "(", "void", ")", "<nl>", "num", "_", "ttys", "_", "to", "_", "alloc", "=", "hvcs", "_", "parm", "_", "num", "_", "devs", ";", "<nl>", "<nl>", "hvcs", "_", "tty", "_", "driver", "=", "alloc", "_", "tty", "_", "driver", "(", "num", "_", "ttys", "_", "to", "_", "alloc", ")", ";", "<nl>", "-", "if", "(", "!", "hvcs", "_", "tty", "_", "driver", ")", "<nl>", "+", "if", "(", "!", "hvcs", "_", "tty", "_", "driver", ")", "{", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "hvcs", "_", "init", "_", "mutex", ")", ";", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "hvcs", "_", "alloc", "_", "index", "_", "list", "(", "num", "_", "ttys", "_", "to", "_", "alloc", ")", ")", "{", "<nl>", "rc", "=", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["TTY", "hvcs", "fix", "missing", "unlock", "on", "error", "in", "hvcs_initialize"]}
{"code_tokens": ["static", "void", "logi", "_", "dj", "_", "recv", "_", "add", "_", "djhid", "_", "device", "(", "struct", "dj", "_", "receiver", "_", "dev", "*", "djrcv", "_", "dev", ",", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "(", "dj", "_", "report", "-", ">", "device", "_", "index", "<", "DJ", "_", "DEVICE", "_", "INDEX", "_", "MIN", ")", "|", "|", "<nl>", "-", "(", "dj", "_", "report", "-", ">", "device", "_", "index", ">", "DJ", "_", "DEVICE", "_", "INDEX", "_", "MAX", ")", ")", "{", "<nl>", "-", "dev", "_", "err", "(", "&", "djrcv", "_", "hdev", "-", ">", "dev", ",", "\"", "%", "s", ":", "invalid", "device", "index", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "-", "_", "_", "func", "_", "_", ",", "dj", "_", "report", "-", ">", "device", "_", "index", ")", ";", "<nl>", "-", "return", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "if", "(", "djrcv", "_", "dev", "-", ">", "paired", "_", "dj", "_", "devices", "[", "dj", "_", "report", "-", ">", "device", "_", "index", "]", ")", "{", "<nl>", "/", "*", "The", "device", "is", "already", "known", ".", "No", "need", "to", "reallocate", "it", ".", "*", "/", "<nl>", "dbg", "_", "hid", "(", "\"", "%", "s", ":", "device", "is", "already", "known", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "static", "int", "logi", "_", "dj", "_", "raw", "_", "event", "(", "struct", "hid", "_", "device", "*", "hdev", ",", "<nl>", "*", "device", "(", "via", "hid", "_", "input", "_", "report", "(", ")", ")", "and", "return", "1", "so", "hid", "-", "core", "does", "not", "do", "<nl>", "*", "anything", "else", "with", "it", ".", "<nl>", "*", "/", "<nl>", "+", "if", "(", "(", "dj", "_", "report", "-", ">", "device", "_", "index", "<", "DJ", "_", "DEVICE", "_", "INDEX", "_", "MIN", ")", "|", "|", "<nl>", "+", "(", "dj", "_", "report", "-", ">", "device", "_", "index", ">", "DJ", "_", "DEVICE", "_", "INDEX", "_", "MAX", ")", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "hdev", "-", ">", "dev", ",", "\"", "%", "s", ":", "invalid", "device", "index", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "+", "_", "_", "func", "_", "_", ",", "dj", "_", "report", "-", ">", "device", "_", "index", ")", ";", "<nl>", "+", "return", "false", ";", "<nl>", "+", "}", "<nl>", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "djrcv", "_", "dev", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "if", "(", "dj", "_", "report", "-", ">", "report", "_", "id", "=", "=", "REPORT", "_", "ID", "_", "DJ", "_", "SHORT", ")", "{", "<nl>"], "docstring_tokens": ["HID", "logitech", "perform", "bounds", "checking", "on", "device_id", "early", "enough"]}
{"code_tokens": ["static", "bool", "r5l", "_", "has", "_", "free", "_", "space", "(", "struct", "r5l", "_", "log", "*", "log", ",", "sector", "_", "t", "size", ")", "<nl>", "return", "log", "-", ">", "device", "_", "size", ">", "used", "_", "size", "+", "size", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "r5l", "_", "free", "_", "io", "_", "unit", "(", "struct", "r5l", "_", "log", "*", "log", ",", "struct", "r5l", "_", "io", "_", "unit", "*", "io", ")", "<nl>", "-", "{", "<nl>", "-", "_", "_", "free", "_", "page", "(", "io", "-", ">", "meta", "_", "page", ")", ";", "<nl>", "-", "kmem", "_", "cache", "_", "free", "(", "log", "-", ">", "io", "_", "kc", ",", "io", ")", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "static", "void", "_", "_", "r5l", "_", "set", "_", "io", "_", "unit", "_", "state", "(", "struct", "r5l", "_", "io", "_", "unit", "*", "io", ",", "<nl>", "enum", "r5l", "_", "io", "_", "unit", "_", "state", "state", ")", "<nl>", "{", "<nl>", "static", "void", "r5l", "_", "log", "_", "endio", "(", "struct", "bio", "*", "bio", ")", "<nl>", "md", "_", "error", "(", "log", "-", ">", "rdev", "-", ">", "mddev", ",", "log", "-", ">", "rdev", ")", ";", "<nl>", "<nl>", "bio", "_", "put", "(", "bio", ")", ";", "<nl>", "+", "_", "_", "free", "_", "page", "(", "io", "-", ">", "meta", "_", "page", ")", ";", "<nl>", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "log", "-", ">", "io", "_", "list", "_", "lock", ",", "flags", ")", ";", "<nl>", "_", "_", "r5l", "_", "set", "_", "io", "_", "unit", "_", "state", "(", "io", ",", "IO", "_", "UNIT", "_", "IO", "_", "END", ")", ";", "<nl>", "static", "bool", "r5l", "_", "complete", "_", "finished", "_", "ios", "(", "struct", "r5l", "_", "log", "*", "log", ")", "<nl>", "log", "-", ">", "next", "_", "cp", "_", "seq", "=", "io", "-", ">", "seq", ";", "<nl>", "<nl>", "list", "_", "del", "(", "&", "io", "-", ">", "log", "_", "sibling", ")", ";", "<nl>", "-", "r5l", "_", "free", "_", "io", "_", "unit", "(", "log", ",", "io", ")", ";", "<nl>", "+", "kmem", "_", "cache", "_", "free", "(", "log", "-", ">", "io", "_", "kc", ",", "io", ")", ";", "<nl>", "<nl>", "found", "=", "true", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["raid5", "cache", "free", "meta_page", "earlier"]}
{"code_tokens": ["static", "struct", "irq", "_", "desc", "*", "_", "_", "real", "_", "move", "_", "irq", "_", "desc", "(", "struct", "irq", "_", "desc", "*", "old", "_", "desc", ",", "<nl>", "<nl>", "struct", "irq", "_", "desc", "*", "move", "_", "irq", "_", "desc", "(", "struct", "irq", "_", "desc", "*", "desc", ",", "int", "node", ")", "<nl>", "{", "<nl>", "-", "/", "*", "those", "all", "static", ",", "do", "move", "them", "*", "/", "<nl>", "-", "if", "(", "desc", "-", ">", "irq", "<", "NR", "_", "IRQS", "_", "LEGACY", ")", "<nl>", "+", "/", "*", "those", "static", "or", "target", "node", "is", "-", "1", ",", "do", "not", "move", "them", "*", "/", "<nl>", "+", "if", "(", "desc", "-", ">", "irq", "<", "NR", "_", "IRQS", "_", "LEGACY", "|", "|", "node", "=", "=", "-", "1", ")", "<nl>", "return", "desc", ";", "<nl>", "<nl>", "if", "(", "desc", "-", ">", "node", "!", "=", "node", ")", "<nl>"], "docstring_tokens": ["x86", "irq", "Fix", "move_irq_desc", "for", "nodes", "without", "ram"]}
{"code_tokens": ["static", "const", "struct", "snd", "_", "pci", "_", "quirk", "alc662", "_", "fixup", "_", "tbl", "[", "]", "=", "{", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "0x1025", ",", "0x038b", ",", "\"", "Acer", "Aspire", "8943G", "\"", ",", "ALC662", "_", "FIXUP", "_", "ASPIRE", ")", ",", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "0x1028", ",", "0x05d8", ",", "\"", "Dell", "\"", ",", "ALC668", "_", "FIXUP", "_", "DELL", "_", "MIC", "_", "NO", "_", "PRESENCE", ")", ",", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "0x1028", ",", "0x05db", ",", "\"", "Dell", "\"", ",", "ALC668", "_", "FIXUP", "_", "DELL", "_", "MIC", "_", "NO", "_", "PRESENCE", ")", ",", "<nl>", "+", "SND", "_", "PCI", "_", "QUIRK", "(", "0x1028", ",", "0x0626", ",", "\"", "Dell", "\"", ",", "ALC668", "_", "FIXUP", "_", "DELL", "_", "MIC", "_", "NO", "_", "PRESENCE", ")", ",", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "0x103c", ",", "0x1632", ",", "\"", "HP", "RP5800", "\"", ",", "ALC662", "_", "FIXUP", "_", "HP", "_", "RP5800", ")", ",", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "0x1043", ",", "0x1477", ",", "\"", "ASUS", "N56VZ", "\"", ",", "ALC662", "_", "FIXUP", "_", "BASS", "_", "CHMAP", ")", ",", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "0x1043", ",", "0x1bf3", ",", "\"", "ASUS", "N76VZ", "\"", ",", "ALC662", "_", "FIXUP", "_", "BASS", "_", "CHMAP", ")", ",", "<nl>"], "docstring_tokens": ["ALSA", "hda", "Another", "Dell", "headset", "quirk"]}
{"code_tokens": ["#", "define", "MAX30102", "_", "DRV", "_", "NAME", "\"", "max30102", "\"", "<nl>", "#", "define", "MAX30102", "_", "PART", "_", "NUMBER", "0x15", "<nl>", "<nl>", "+", "enum", "max3012", "_", "led", "_", "idx", "{", "<nl>", "+", "MAX30102", "_", "LED", "_", "RED", ",", "<nl>", "+", "MAX30102", "_", "LED", "_", "IR", ",", "<nl>", "+", "}", ";", "<nl>", "+", "<nl>", "#", "define", "MAX30102", "_", "REG", "_", "INT", "_", "STATUS", "0x00", "<nl>", "#", "define", "MAX30102", "_", "REG", "_", "INT", "_", "STATUS", "_", "PWR", "_", "RDY", "BIT", "(", "0", ")", "<nl>", "#", "define", "MAX30102", "_", "REG", "_", "INT", "_", "STATUS", "_", "PROX", "_", "INT", "BIT", "(", "4", ")", "<nl>", "static", "const", "struct", "regmap", "_", "config", "max30102", "_", "regmap", "_", "config", "=", "{", "<nl>", ".", "val", "_", "bits", "=", "8", ",", "<nl>", "}", ";", "<nl>", "<nl>", "-", "static", "const", "unsigned", "long", "max30102", "_", "scan", "_", "masks", "[", "]", "=", "{", "0x3", ",", "0", "}", ";", "<nl>", "+", "static", "const", "unsigned", "long", "max30102", "_", "scan", "_", "masks", "[", "]", "=", "{", "<nl>", "+", "BIT", "(", "MAX30102", "_", "LED", "_", "RED", ")", "|", "BIT", "(", "MAX30102", "_", "LED", "_", "IR", ")", ",", "<nl>", "+", "0", "<nl>", "+", "}", ";", "<nl>", "<nl>", "#", "define", "MAX30102", "_", "INTENSITY", "_", "CHANNEL", "(", "_", "si", ",", "_", "mod", ")", "{", "\\", "<nl>", ".", "type", "=", "IIO", "_", "INTENSITY", ",", "\\", "<nl>", "static", "const", "unsigned", "long", "max30102", "_", "scan", "_", "masks", "[", "]", "=", "{", "0x3", ",", "0", "}", ";", "<nl>", "}", "<nl>", "<nl>", "static", "const", "struct", "iio", "_", "chan", "_", "spec", "max30102", "_", "channels", "[", "]", "=", "{", "<nl>", "-", "MAX30102", "_", "INTENSITY", "_", "CHANNEL", "(", "0", ",", "IIO", "_", "MOD", "_", "LIGHT", "_", "RED", ")", ",", "<nl>", "-", "MAX30102", "_", "INTENSITY", "_", "CHANNEL", "(", "1", ",", "IIO", "_", "MOD", "_", "LIGHT", "_", "IR", ")", ",", "<nl>", "+", "MAX30102", "_", "INTENSITY", "_", "CHANNEL", "(", "MAX30102", "_", "LED", "_", "RED", ",", "IIO", "_", "MOD", "_", "LIGHT", "_", "RED", ")", ",", "<nl>", "+", "MAX30102", "_", "INTENSITY", "_", "CHANNEL", "(", "MAX30102", "_", "LED", "_", "IR", ",", "IIO", "_", "MOD", "_", "LIGHT", "_", "IR", ")", ",", "<nl>", "{", "<nl>", ".", "type", "=", "IIO", "_", "TEMP", ",", "<nl>", ".", "info", "_", "mask", "_", "separate", "=", "<nl>"], "docstring_tokens": ["iio", "health", "max30102", "Introduce", "indices", "for", "LED", "channels"]}
{"code_tokens": ["static", "void", "_", "_", "ieee80211", "_", "wake", "_", "queue", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ",", "int", "queue", ",", "<nl>", "if", "(", "WARN", "_", "ON", "(", "queue", ">", "=", "hw", "-", ">", "queues", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "+", "if", "(", "!", "test", "_", "bit", "(", "reason", ",", "&", "local", "-", ">", "queue", "_", "stop", "_", "reasons", "[", "queue", "]", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "_", "_", "clear", "_", "bit", "(", "reason", ",", "&", "local", "-", ">", "queue", "_", "stop", "_", "reasons", "[", "queue", "]", ")", ";", "<nl>", "<nl>", "if", "(", "local", "-", ">", "queue", "_", "stop", "_", "reasons", "[", "queue", "]", "!", "=", "0", ")", "<nl>", "static", "void", "_", "_", "ieee80211", "_", "stop", "_", "queue", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ",", "int", "queue", ",", "<nl>", "if", "(", "WARN", "_", "ON", "(", "queue", ">", "=", "hw", "-", ">", "queues", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "+", "if", "(", "test", "_", "bit", "(", "reason", ",", "&", "local", "-", ">", "queue", "_", "stop", "_", "reasons", "[", "queue", "]", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "_", "_", "set", "_", "bit", "(", "reason", ",", "&", "local", "-", ">", "queue", "_", "stop", "_", "reasons", "[", "queue", "]", ")", ";", "<nl>", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>"], "docstring_tokens": ["mac80211", "debounce", "queue", "stop", "wake"]}
{"code_tokens": ["static", "int", "_", "_", "devexit", "wm8753", "_", "spi", "_", "remove", "(", "struct", "spi", "_", "device", "*", "spi", ")", "<nl>", "<nl>", "snd", "_", "soc", "_", "unregister", "_", "codec", "(", "&", "spi", "-", ">", "dev", ")", ";", "<nl>", "regmap", "_", "exit", "(", "wm8753", "-", ">", "regmap", ")", ";", "<nl>", "-", "kfree", "(", "wm8753", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "wm8753", "remove", "invalid", "free", "of", "devm_", "allocated", "data"]}
{"code_tokens": ["static", "int", "mini", "_", "cm", "_", "del", "_", "listen", "(", "struct", "nes", "_", "cm", "_", "core", "*", "cm", "_", "core", ",", "<nl>", "static", "inline", "int", "mini", "_", "cm", "_", "accelerated", "(", "struct", "nes", "_", "cm", "_", "core", "*", "cm", "_", "core", ",", "<nl>", "struct", "nes", "_", "cm", "_", "node", "*", "cm", "_", "node", ")", "<nl>", "{", "<nl>", "-", "cm", "_", "node", "-", ">", "accelerated", "=", "1", ";", "<nl>", "+", "cm", "_", "node", "-", ">", "accelerated", "=", "true", ";", "<nl>", "<nl>", "if", "(", "cm", "_", "node", "-", ">", "accept", "_", "pend", ")", "{", "<nl>", "BUG", "_", "ON", "(", "!", "cm", "_", "node", "-", ">", "listener", ")", ";", "mmm", "drivers", "/", "infiniband", "/", "hw", "/", "nes", "/", "nes", "_", "cm", ".", "h", "<nl>", "static", "int", "mini", "_", "cm", "_", "del", "_", "listen", "(", "struct", "nes", "_", "cm", "_", "core", "*", "cm", "_", "core", ",", "<nl>", "static", "inline", "int", "mini", "_", "cm", "_", "accelerated", "(", "struct", "nes", "_", "cm", "_", "core", "*", "cm", "_", "core", ",", "<nl>", "struct", "nes", "_", "cm", "_", "node", "*", "cm", "_", "node", ")", "<nl>", "{", "<nl>", "-", "cm", "_", "node", "-", ">", "accelerated", "=", "1", ";", "<nl>", "+", "cm", "_", "node", "-", ">", "accelerated", "=", "true", ";", "<nl>", "<nl>", "if", "(", "cm", "_", "node", "-", ">", "accept", "_", "pend", ")", "{", "<nl>", "BUG", "_", "ON", "(", "!", "cm", "_", "node", "-", ">", "listener", ")", ";", "<nl>", "struct", "nes", "_", "cm", "_", "node", "{", "<nl>", "u16", "mpa", "_", "frame", "_", "size", ";", "<nl>", "struct", "iw", "_", "cm", "_", "id", "*", "cm", "_", "id", ";", "<nl>", "struct", "list", "_", "head", "list", ";", "<nl>", "-", "int", "accelerated", ";", "<nl>", "+", "bool", "accelerated", ";", "<nl>", "struct", "nes", "_", "cm", "_", "listener", "*", "listener", ";", "<nl>", "enum", "nes", "_", "cm", "_", "conn", "_", "type", "conn", "_", "type", ";", "<nl>", "struct", "nes", "_", "vnic", "*", "nesvnic", ";", "<nl>"], "docstring_tokens": ["nes", "Change", "accelerated", "flag", "to", "bool"]}
{"code_tokens": ["DECLARE", "_", "PER", "_", "CPU", "(", "const", "struct", "arch", "_", "timer", "_", "erratum", "_", "workaround", "*", ",", "<nl>", "u64", "_", "val", ";", "\\", "<nl>", "if", "(", "needs", "_", "unstable", "_", "timer", "_", "counter", "_", "workaround", "(", ")", ")", "{", "\\", "<nl>", "const", "struct", "arch", "_", "timer", "_", "erratum", "_", "workaround", "*", "wa", ";", "\\", "<nl>", "-", "preempt", "_", "disable", "(", ")", ";", "\\", "<nl>", "+", "preempt", "_", "disable", "_", "notrace", "(", ")", ";", "\\", "<nl>", "wa", "=", "_", "_", "this", "_", "cpu", "_", "read", "(", "timer", "_", "unstable", "_", "counter", "_", "workaround", ")", ";", "\\", "<nl>", "if", "(", "wa", "&", "&", "wa", "-", ">", "read", "_", "#", "#", "reg", ")", "\\", "<nl>", "_", "val", "=", "wa", "-", ">", "read", "_", "#", "#", "reg", "(", ")", ";", "\\", "<nl>", "else", "\\", "<nl>", "_", "val", "=", "read", "_", "sysreg", "(", "reg", ")", ";", "\\", "<nl>", "-", "preempt", "_", "enable", "(", ")", ";", "\\", "<nl>", "+", "preempt", "_", "enable", "_", "notrace", "(", ")", ";", "\\", "<nl>", "}", "else", "{", "\\", "<nl>", "_", "val", "=", "read", "_", "sysreg", "(", "reg", ")", ";", "\\", "<nl>", "}", "\\", "<nl>"], "docstring_tokens": ["clocksource", "drivers", "arm_arch_timer", "Avoid", "infinite", "recursion", "when", "ftrace", "is", "enabled"]}
{"code_tokens": ["static", "int", "ath10k", "_", "abort", "_", "scan", "(", "struct", "ath10k", "*", "ar", ")", "<nl>", "ret", "=", "ath10k", "_", "wmi", "_", "stop", "_", "scan", "(", "ar", ",", "&", "arg", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "ath10k", "_", "warn", "(", "\"", "could", "not", "submit", "wmi", "stop", "scan", "(", "%", "d", ")", "\\", "n", "\"", ",", "ret", ")", ";", "<nl>", "+", "spin", "_", "lock", "_", "bh", "(", "&", "ar", "-", ">", "data", "_", "lock", ")", ";", "<nl>", "+", "ar", "-", ">", "scan", ".", "in", "_", "progress", "=", "false", ";", "<nl>", "+", "ath10k", "_", "offchan", "_", "tx", "_", "purge", "(", "ar", ")", ";", "<nl>", "+", "spin", "_", "unlock", "_", "bh", "(", "&", "ar", "-", ">", "data", "_", "lock", ")", ";", "<nl>", "return", "-", "EIO", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ath10k", "abort", "scan", "properly", "if", "wmi_scan_stop", "fails"]}
{"code_tokens": ["static", "void", "smsc", "_", "ircc", "_", "sir", "_", "wait", "_", "hw", "_", "transmitter", "_", "finish", "(", "struct", "smsc", "_", "ircc", "_", "cb", "*", "self", ")", "<nl>", "while", "(", "count", "-", "-", ">", "0", "&", "&", "!", "(", "inb", "(", "iobase", "+", "UART", "_", "LSR", ")", "&", "UART", "_", "LSR", "_", "TEMT", ")", ")", "<nl>", "udelay", "(", "1", ")", ";", "<nl>", "<nl>", "-", "if", "(", "count", "=", "=", "0", ")", "<nl>", "+", "if", "(", "count", "<", "0", ")", "<nl>", "IRDA", "_", "DEBUG", "(", "0", ",", "\"", "%", "s", "(", ")", ":", "stuck", "transmitter", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["irda", "smsc", "wait", "count", "reaches", "1"]}
{"code_tokens": ["masquerade", "_", "target", "(", "struct", "sk", "_", "buff", "*", "*", "pskb", ",", "<nl>", "IP", "_", "NF", "_", "ASSERT", "(", "ct", "&", "&", "(", "ctinfo", "=", "=", "IP", "_", "CT", "_", "NEW", "|", "|", "ctinfo", "=", "=", "IP", "_", "CT", "_", "RELATED", "<nl>", "|", "|", "ctinfo", "=", "=", "IP", "_", "CT", "_", "RELATED", "+", "IP", "_", "CT", "_", "IS", "_", "REPLY", ")", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Source", "address", "is", "0", ".", "0", ".", "0", ".", "0", "-", "locally", "generated", "packet", "that", "is", "<nl>", "+", "*", "probably", "not", "supposed", "to", "be", "masqueraded", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "ct", "-", ">", "tuplehash", "[", "IP", "_", "CT", "_", "DIR", "_", "ORIGINAL", "]", ".", "tuple", ".", "src", ".", "ip", "=", "=", "0", ")", "<nl>", "+", "return", "NF", "_", "ACCEPT", ";", "<nl>", "+", "<nl>", "mr", "=", "targinfo", ";", "<nl>", "rt", "=", "(", "struct", "rtable", "*", ")", "(", "*", "pskb", ")", "-", ">", "dst", ";", "<nl>", "newsrc", "=", "inet", "_", "select", "_", "addr", "(", "out", ",", "rt", "-", ">", "rt", "_", "gateway", ",", "RT", "_", "SCOPE", "_", "UNIVERSE", ")", ";", "<nl>"], "docstring_tokens": ["NETFILTER", "Fix", "DHCP", "MASQUERADE", "problem"]}
{"code_tokens": ["static", "int", "udf", "_", "load", "_", "logicalvol", "(", "struct", "super", "_", "block", "*", "sb", ",", "sector", "_", "t", "block", ",", "<nl>", "struct", "genericPartitionMap", "*", "gpm", ";", "<nl>", "uint16", "_", "t", "ident", ";", "<nl>", "struct", "buffer", "_", "head", "*", "bh", ";", "<nl>", "+", "unsigned", "int", "table", "_", "len", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "bh", "=", "udf", "_", "read", "_", "tagged", "(", "sb", ",", "block", ",", "block", ",", "&", "ident", ")", ";", "<nl>", "static", "int", "udf", "_", "load", "_", "logicalvol", "(", "struct", "super", "_", "block", "*", "sb", ",", "sector", "_", "t", "block", ",", "<nl>", "return", "1", ";", "<nl>", "BUG", "_", "ON", "(", "ident", "!", "=", "TAG", "_", "IDENT", "_", "LVD", ")", ";", "<nl>", "lvd", "=", "(", "struct", "logicalVolDesc", "*", ")", "bh", "-", ">", "b", "_", "data", ";", "<nl>", "+", "table", "_", "len", "=", "le32", "_", "to", "_", "cpu", "(", "lvd", "-", ">", "mapTableLength", ")", ";", "<nl>", "+", "if", "(", "sizeof", "(", "*", "lvd", ")", "+", "table", "_", "len", ">", "sb", "-", ">", "s", "_", "blocksize", ")", "{", "<nl>", "+", "udf", "_", "err", "(", "sb", ",", "\"", "error", "loading", "logical", "volume", "descriptor", ":", "\"", "<nl>", "+", "\"", "Partition", "table", "too", "long", "(", "%", "u", ">", "%", "lu", ")", "\\", "n", "\"", ",", "table", "_", "len", ",", "<nl>", "+", "sb", "-", ">", "s", "_", "blocksize", "-", "sizeof", "(", "*", "lvd", ")", ")", ";", "<nl>", "+", "goto", "out", "_", "bh", ";", "<nl>", "+", "}", "<nl>", "<nl>", "ret", "=", "udf", "_", "sb", "_", "alloc", "_", "partition", "_", "maps", "(", "sb", ",", "le32", "_", "to", "_", "cpu", "(", "lvd", "-", ">", "numPartitionMaps", ")", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "goto", "out", "_", "bh", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ",", "offset", "=", "0", ";", "<nl>", "-", "i", "<", "sbi", "-", ">", "s", "_", "partitions", "&", "&", "offset", "<", "le32", "_", "to", "_", "cpu", "(", "lvd", "-", ">", "mapTableLength", ")", ";", "<nl>", "+", "i", "<", "sbi", "-", ">", "s", "_", "partitions", "&", "&", "offset", "<", "table", "_", "len", ";", "<nl>", "i", "+", "+", ",", "offset", "+", "=", "gpm", "-", ">", "partitionMapLength", ")", "{", "<nl>", "struct", "udf", "_", "part", "_", "map", "*", "map", "=", "&", "sbi", "-", ">", "s", "_", "partmaps", "[", "i", "]", ";", "<nl>", "gpm", "=", "(", "struct", "genericPartitionMap", "*", ")", "<nl>"], "docstring_tokens": ["udf", "Avoid", "run", "away", "loop", "when", "partition", "table", "length", "is", "corrupted"]}
{"code_tokens": ["omap2", "_", "mcspi", "_", "txrx", "_", "pio", "(", "struct", "spi", "_", "device", "*", "spi", ",", "struct", "spi", "_", "transfer", "*", "xfer", ")", "<nl>", "rx", "_", "reg", "=", "base", "+", "OMAP2", "_", "MCSPI", "_", "RX0", ";", "<nl>", "chstat", "_", "reg", "=", "base", "+", "OMAP2", "_", "MCSPI", "_", "CHSTAT0", ";", "<nl>", "<nl>", "+", "if", "(", "c", "<", "(", "word", "_", "len", ">", ">", "3", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "if", "(", "word", "_", "len", "<", "=", "8", ")", "{", "<nl>", "u8", "*", "rx", ";", "<nl>", "const", "u8", "*", "tx", ";", "<nl>", "omap2", "_", "mcspi", "_", "txrx", "_", "pio", "(", "struct", "spi", "_", "device", "*", "spi", ",", "struct", "spi", "_", "transfer", "*", "xfer", ")", "<nl>", "dev", "_", "vdbg", "(", "&", "spi", "-", ">", "dev", ",", "\"", "read", "-", "%", "d", "%", "02x", "\\", "n", "\"", ",", "<nl>", "word", "_", "len", ",", "*", "(", "rx", "-", "1", ")", ")", ";", "<nl>", "}", "<nl>", "-", "}", "while", "(", "c", ")", ";", "<nl>", "+", "}", "while", "(", "c", ">", "(", "word", "_", "len", ">", ">", "3", ")", ")", ";", "<nl>", "}", "else", "if", "(", "word", "_", "len", "<", "=", "16", ")", "{", "<nl>", "u16", "*", "rx", ";", "<nl>", "const", "u16", "*", "tx", ";", "<nl>", "omap2", "_", "mcspi", "_", "txrx", "_", "pio", "(", "struct", "spi", "_", "device", "*", "spi", ",", "struct", "spi", "_", "transfer", "*", "xfer", ")", "<nl>", "dev", "_", "vdbg", "(", "&", "spi", "-", ">", "dev", ",", "\"", "read", "-", "%", "d", "%", "04x", "\\", "n", "\"", ",", "<nl>", "word", "_", "len", ",", "*", "(", "rx", "-", "1", ")", ")", ";", "<nl>", "}", "<nl>", "-", "}", "while", "(", "c", ")", ";", "<nl>", "+", "}", "while", "(", "c", ">", "(", "word", "_", "len", ">", ">", "3", ")", ")", ";", "<nl>", "}", "else", "if", "(", "word", "_", "len", "<", "=", "32", ")", "{", "<nl>", "u32", "*", "rx", ";", "<nl>", "const", "u32", "*", "tx", ";", "<nl>", "omap2", "_", "mcspi", "_", "txrx", "_", "pio", "(", "struct", "spi", "_", "device", "*", "spi", ",", "struct", "spi", "_", "transfer", "*", "xfer", ")", "<nl>", "dev", "_", "vdbg", "(", "&", "spi", "-", ">", "dev", ",", "\"", "read", "-", "%", "d", "%", "08x", "\\", "n", "\"", ",", "<nl>", "word", "_", "len", ",", "*", "(", "rx", "-", "1", ")", ")", ";", "<nl>", "}", "<nl>", "-", "}", "while", "(", "c", ")", ";", "<nl>", "+", "}", "while", "(", "c", ">", "(", "word", "_", "len", ">", ">", "3", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "for", "TX", "_", "ONLY", "mode", ",", "be", "sure", "all", "words", "have", "shifted", "out", "*", "/", "<nl>"], "docstring_tokens": ["spi", "omap_mcspi", "catch", "xfers", "of", "non", "multiple", "SPI", "word", "size"]}
{"code_tokens": ["void", "igb", "_", "update", "_", "stats", "(", "struct", "igb", "_", "adapter", "*", "adapter", ",", "<nl>", "bytes", "=", "0", ";", "<nl>", "packets", "=", "0", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "adapter", "-", ">", "num", "_", "rx", "_", "queues", ";", "i", "+", "+", ")", "{", "<nl>", "-", "u32", "rqdpc", "_", "tmp", "=", "rd32", "(", "E1000", "_", "RQDPC", "(", "i", ")", ")", "&", "0x0FFF", ";", "<nl>", "+", "u32", "rqdpc", "=", "rd32", "(", "E1000", "_", "RQDPC", "(", "i", ")", ")", ";", "<nl>", "struct", "igb", "_", "ring", "*", "ring", "=", "adapter", "-", ">", "rx", "_", "ring", "[", "i", "]", ";", "<nl>", "<nl>", "-", "ring", "-", ">", "rx", "_", "stats", ".", "drops", "+", "=", "rqdpc", "_", "tmp", ";", "<nl>", "-", "net", "_", "stats", "-", ">", "rx", "_", "fifo", "_", "errors", "+", "=", "rqdpc", "_", "tmp", ";", "<nl>", "+", "if", "(", "rqdpc", ")", "{", "<nl>", "+", "ring", "-", ">", "rx", "_", "stats", ".", "drops", "+", "=", "rqdpc", ";", "<nl>", "+", "net", "_", "stats", "-", ">", "rx", "_", "fifo", "_", "errors", "+", "=", "rqdpc", ";", "<nl>", "+", "}", "<nl>", "<nl>", "do", "{", "<nl>", "start", "=", "u64", "_", "stats", "_", "fetch", "_", "begin", "_", "bh", "(", "&", "ring", "-", ">", "rx", "_", "syncp", ")", ";", "<nl>"], "docstring_tokens": ["igb", "Remove", "artificial", "restriction", "on", "RQDPC", "stat", "reading"]}
{"code_tokens": ["static", "int", "imx", "_", "ssi", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "}", "<nl>", "<nl>", "ssi", "-", ">", "irq", "=", "platform", "_", "get", "_", "irq", "(", "pdev", ",", "0", ")", ";", "<nl>", "+", "if", "(", "ssi", "-", ">", "irq", "<", "0", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Failed", "to", "get", "IRQ", ":", "%", "d", "\\", "n", "\"", ",", "ssi", "-", ">", "irq", ")", ";", "<nl>", "+", "return", "ssi", "-", ">", "irq", ";", "<nl>", "+", "}", "<nl>", "<nl>", "ssi", "-", ">", "clk", "=", "devm", "_", "clk", "_", "get", "(", "&", "pdev", "-", ">", "dev", ",", "NULL", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "ssi", "-", ">", "clk", ")", ")", "{", "<nl>"], "docstring_tokens": ["ASoC", "imx", "ssi", "add", "check", "on", "platform_get_irq", "return", "value"]}
{"code_tokens": ["#", "define", "ADI", "_", "VID", "0x0456", "<nl>", "#", "define", "ADI", "_", "GNICE", "_", "PID", "0xF000", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "JETI", "SPECTROMETER", "SPECBOS", "1201", "<nl>", "+", "*", "http", ":", "/", "/", "www", ".", "jeti", ".", "com", "/", "products", "/", "sys", "/", "scb", "/", "scb1201", ".", "php", "<nl>", "+", "*", "/", "<nl>", "+", "#", "define", "JETI", "_", "VID", "0x0c6c", "<nl>", "+", "#", "define", "JETI", "_", "SPC1201", "_", "PID", "0x04b2", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "BmRequestType", ":", "1100", "0000", "b", "<nl>", "*", "bRequest", ":", "FTDI", "_", "E2", "_", "READmmm", "drivers", "/", "usb", "/", "serial", "/", "ftdi", "_", "sio", ".", "c", "<nl>", "#", "define", "ADI", "_", "VID", "0x0456", "<nl>", "#", "define", "ADI", "_", "GNICE", "_", "PID", "0xF000", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "JETI", "SPECTROMETER", "SPECBOS", "1201", "<nl>", "+", "*", "http", ":", "/", "/", "www", ".", "jeti", ".", "com", "/", "products", "/", "sys", "/", "scb", "/", "scb1201", ".", "php", "<nl>", "+", "*", "/", "<nl>", "+", "#", "define", "JETI", "_", "VID", "0x0c6c", "<nl>", "+", "#", "define", "JETI", "_", "SPC1201", "_", "PID", "0x04b2", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "BmRequestType", ":", "1100", "0000", "b", "<nl>", "*", "bRequest", ":", "FTDI", "_", "E2", "_", "READ", "<nl>", "static", "struct", "usb", "_", "device", "_", "id", "id", "_", "table", "_", "combined", "[", "]", "=", "{", "<nl>", "{", "USB", "_", "DEVICE", "(", "DE", "_", "VID", ",", "WHT", "_", "PID", ")", "}", ",", "<nl>", "{", "USB", "_", "DEVICE", "(", "ADI", "_", "VID", ",", "ADI", "_", "GNICE", "_", "PID", ")", ",", "<nl>", ".", "driver", "_", "info", "=", "(", "kernel", "_", "ulong", "_", "t", ")", "&", "ftdi", "_", "jtag", "_", "quirk", "}", ",", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "JETI", "_", "VID", ",", "JETI", "_", "SPC1201", "_", "PID", ")", "}", ",", "<nl>", "{", "}", ",", "/", "*", "Optional", "parameter", "entry", "*", "/", "<nl>", "{", "}", "/", "*", "Terminating", "entry", "*", "/", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["USB", "ftdi_sio", "add", "vendor", "project", "id", "for", "JETI", "specbos", "1201", "spectrometer"]}
{"code_tokens": ["void", "unregister", "_", "shrinker", "(", "struct", "shrinker", "*", "shrinker", ")", "<nl>", "down", "_", "write", "(", "&", "shrinker", "_", "rwsem", ")", ";", "<nl>", "list", "_", "del", "(", "&", "shrinker", "-", ">", "list", ")", ";", "<nl>", "up", "_", "write", "(", "&", "shrinker", "_", "rwsem", ")", ";", "<nl>", "+", "kfree", "(", "shrinker", "-", ">", "nr", "_", "deferred", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "unregister", "_", "shrinker", ")", ";", "<nl>"], "docstring_tokens": ["mm", "vmscan", "c", "don", "t", "forget", "to", "free", "shrinker", "nr_deferred"]}
{"code_tokens": ["int", "_", "_", "init", "dmar", "_", "parse", "_", "dev", "_", "scope", "(", "void", "*", "start", ",", "void", "*", "end", ",", "int", "*", "cnt", ",", "<nl>", "if", "(", "scope", "-", ">", "entry", "_", "type", "=", "=", "ACPI", "_", "DMAR", "_", "SCOPE", "_", "TYPE", "_", "ENDPOINT", "|", "|", "<nl>", "scope", "-", ">", "entry", "_", "type", "=", "=", "ACPI", "_", "DMAR", "_", "SCOPE", "_", "TYPE", "_", "BRIDGE", ")", "<nl>", "(", "*", "cnt", ")", "+", "+", ";", "<nl>", "-", "else", "if", "(", "scope", "-", ">", "entry", "_", "type", "!", "=", "ACPI", "_", "DMAR", "_", "SCOPE", "_", "TYPE", "_", "IOAPIC", ")", "{", "<nl>", "+", "else", "if", "(", "scope", "-", ">", "entry", "_", "type", "!", "=", "ACPI", "_", "DMAR", "_", "SCOPE", "_", "TYPE", "_", "IOAPIC", "&", "&", "<nl>", "+", "scope", "-", ">", "entry", "_", "type", "!", "=", "ACPI", "_", "DMAR", "_", "SCOPE", "_", "TYPE", "_", "HPET", ")", "{", "<nl>", "pr", "_", "warn", "(", "\"", "Unsupported", "device", "scope", "\\", "n", "\"", ")", ";", "<nl>", "}", "<nl>", "start", "+", "=", "scope", "-", ">", "length", ";", "<nl>"], "docstring_tokens": ["iommu", "vt", "d", "Remove", "warning", "for", "HPET", "scope", "type"]}
{"code_tokens": ["int", "sctp", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "*", "/", "<nl>", "sctp", "_", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "<nl>", "+", "if", "(", "sk", "!", "=", "rcvr", "-", ">", "sk", ")", "{", "<nl>", "+", "/", "*", "Our", "cached", "sk", "is", "different", "from", "the", "rcvr", "-", ">", "sk", ".", "This", "is", "<nl>", "+", "*", "because", "migrate", "(", ")", "/", "accept", "(", ")", "may", "have", "moved", "the", "association", "<nl>", "+", "*", "to", "a", "new", "socket", "and", "released", "all", "the", "sockets", ".", "So", "now", "we", "<nl>", "+", "*", "are", "holding", "a", "lock", "on", "the", "old", "socket", "while", "the", "user", "may", "<nl>", "+", "*", "be", "doing", "something", "with", "the", "new", "socket", ".", "Switch", "our", "veiw", "<nl>", "+", "*", "of", "the", "current", "sk", ".", "<nl>", "+", "*", "/", "<nl>", "+", "sctp", "_", "bh", "_", "unlock", "_", "sock", "(", "sk", ")", ";", "<nl>", "+", "sk", "=", "rcvr", "-", ">", "sk", ";", "<nl>", "+", "sctp", "_", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk", ")", ")", "{", "<nl>", "SCTP", "_", "INC", "_", "STATS", "_", "BH", "(", "SCTP", "_", "MIB", "_", "IN", "_", "PKT", "_", "BACKLOG", ")", ";", "<nl>", "sctp", "_", "add", "_", "backlog", "(", "sk", ",", "skb", ")", ";", "<nl>"], "docstring_tokens": ["sctp", "Fix", "another", "socket", "race", "during", "accept", "peeloff"]}
{"code_tokens": ["static", "u32", "atombios", "_", "adjust", "_", "pll", "(", "struct", "drm", "_", "crtc", "*", "crtc", ",", "<nl>", "if", "(", "radeon", "_", "crtc", "-", ">", "ss", ".", "refdiv", ")", "{", "<nl>", "radeon", "_", "crtc", "-", ">", "pll", "_", "flags", "|", "=", "RADEON", "_", "PLL", "_", "USE", "_", "REF", "_", "DIV", ";", "<nl>", "radeon", "_", "crtc", "-", ">", "pll", "_", "reference", "_", "div", "=", "radeon", "_", "crtc", "-", ">", "ss", ".", "refdiv", ";", "<nl>", "-", "if", "(", "rdev", "-", ">", "family", ">", "=", "CHIP", "_", "RV770", ")", "<nl>", "+", "if", "(", "ASIC", "_", "IS", "_", "AVIVO", "(", "rdev", ")", "&", "&", "<nl>", "+", "rdev", "-", ">", "family", "!", "=", "CHIP", "_", "RS780", "&", "&", "<nl>", "+", "rdev", "-", ">", "family", "!", "=", "CHIP", "_", "RS880", ")", "<nl>", "radeon", "_", "crtc", "-", ">", "pll", "_", "flags", "|", "=", "RADEON", "_", "PLL", "_", "USE", "_", "FRAC", "_", "FB", "_", "DIV", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "radeon", "only", "apply", "the", "SS", "fractional", "workaround", "to", "RS", "78", "80"]}
{"code_tokens": ["static", "int", "lo", "_", "open", "(", "struct", "block", "_", "device", "*", "bdev", ",", "fmode", "_", "t", "mode", ")", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "lo", "_", "release", "(", "struct", "gendisk", "*", "disk", ",", "fmode", "_", "t", "mode", ")", "<nl>", "+", "static", "void", "_", "_", "lo", "_", "release", "(", "struct", "loop", "_", "device", "*", "lo", ")", "<nl>", "{", "<nl>", "-", "struct", "loop", "_", "device", "*", "lo", "=", "disk", "-", ">", "private", "_", "data", ";", "<nl>", "int", "err", ";", "<nl>", "<nl>", "if", "(", "atomic", "_", "dec", "_", "return", "(", "&", "lo", "-", ">", "lo", "_", "refcnt", ")", ")", "<nl>", "static", "void", "lo", "_", "release", "(", "struct", "gendisk", "*", "disk", ",", "fmode", "_", "t", "mode", ")", "<nl>", "mutex", "_", "unlock", "(", "&", "lo", "-", ">", "lo", "_", "ctl", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "void", "lo", "_", "release", "(", "struct", "gendisk", "*", "disk", ",", "fmode", "_", "t", "mode", ")", "<nl>", "+", "{", "<nl>", "+", "mutex", "_", "lock", "(", "&", "loop", "_", "index", "_", "mutex", ")", ";", "<nl>", "+", "_", "_", "lo", "_", "release", "(", "disk", "-", ">", "private", "_", "data", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "loop", "_", "index", "_", "mutex", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "const", "struct", "block", "_", "device", "_", "operations", "lo", "_", "fops", "=", "{", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "open", "=", "lo", "_", "open", ",", "<nl>"], "docstring_tokens": ["loop", "fix", "concurrent", "lo_open", "lo_release"]}
{"code_tokens": ["int", "fib6", "_", "add", "(", "struct", "fib6", "_", "node", "*", "root", ",", "struct", "rt6", "_", "info", "*", "rt", ",", "struct", "nl", "_", "info", "*", "info", ")", "<nl>", "fn", "=", "fib6", "_", "add", "_", "1", "(", "root", ",", "&", "rt", "-", ">", "rt6i", "_", "dst", ".", "addr", ",", "rt", "-", ">", "rt6i", "_", "dst", ".", "plen", ",", "<nl>", "offsetof", "(", "struct", "rt6", "_", "info", ",", "rt6i", "_", "dst", ")", ",", "allow", "_", "create", ",", "<nl>", "replace", "_", "required", ")", ";", "<nl>", "-", "<nl>", "if", "(", "IS", "_", "ERR", "(", "fn", ")", ")", "{", "<nl>", "err", "=", "PTR", "_", "ERR", "(", "fn", ")", ";", "<nl>", "+", "fn", "=", "NULL", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "fib", "fib6_add", "fix", "potential", "NULL", "pointer", "dereference"]}
{"code_tokens": ["static", "int", "ufs", "_", "qcom", "_", "pwr", "_", "change", "_", "notify", "(", "struct", "ufs", "_", "hba", "*", "hba", ",", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "u32", "ufs", "_", "qcom", "_", "get", "_", "ufs", "_", "hci", "_", "version", "(", "struct", "ufs", "_", "hba", "*", "hba", ")", "<nl>", "+", "{", "<nl>", "+", "struct", "ufs", "_", "qcom", "_", "host", "*", "host", "=", "hba", "-", ">", "priv", ";", "<nl>", "+", "<nl>", "+", "if", "(", "host", "-", ">", "hw", "_", "ver", ".", "major", "=", "=", "0x1", ")", "<nl>", "+", "return", "UFSHCI", "_", "VERSION", "_", "11", ";", "<nl>", "+", "else", "<nl>", "+", "return", "UFSHCI", "_", "VERSION", "_", "20", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "*", "<nl>", "*", "ufs", "_", "qcom", "_", "advertise", "_", "quirks", "-", "advertise", "the", "known", "QCOM", "UFS", "controller", "quirks", "<nl>", "*", "@", "hba", ":", "host", "controller", "instance", "<nl>", "static", "void", "ufs", "_", "qcom", "_", "advertise", "_", "quirks", "(", "struct", "ufs", "_", "hba", "*", "hba", ")", "<nl>", "<nl>", "if", "(", "host", "-", ">", "hw", "_", "ver", ".", "major", ">", "=", "0x2", ")", "{", "<nl>", "hba", "-", ">", "quirks", "|", "=", "UFSHCD", "_", "QUIRK", "_", "BROKEN", "_", "LCC", ";", "<nl>", "+", "hba", "-", ">", "quirks", "|", "=", "UFSHCD", "_", "QUIRK", "_", "BROKEN", "_", "UFS", "_", "HCI", "_", "VERSION", ";", "<nl>", "<nl>", "if", "(", "!", "ufs", "_", "qcom", "_", "cap", "_", "qunipro", "(", "host", ")", ")", "<nl>", "/", "*", "Legacy", "UniPro", "mode", "still", "need", "following", "quirks", "*", "/", "<nl>", "static", "const", "struct", "ufs", "_", "hba", "_", "variant", "_", "ops", "ufs", "_", "hba", "_", "qcom", "_", "vops", "=", "{", "<nl>", ".", "name", "=", "\"", "qcom", "\"", ",", "<nl>", ".", "init", "=", "ufs", "_", "qcom", "_", "init", ",", "<nl>", ".", "exit", "=", "ufs", "_", "qcom", "_", "exit", ",", "<nl>", "+", ".", "get", "_", "ufs", "_", "hci", "_", "version", "=", "ufs", "_", "qcom", "_", "get", "_", "ufs", "_", "hci", "_", "version", ",", "<nl>", ".", "clk", "_", "scale", "_", "notify", "=", "ufs", "_", "qcom", "_", "clk", "_", "scale", "_", "notify", ",", "<nl>", ".", "setup", "_", "clocks", "=", "ufs", "_", "qcom", "_", "setup", "_", "clocks", ",", "<nl>", ".", "hce", "_", "enable", "_", "notify", "=", "ufs", "_", "qcom", "_", "hce", "_", "enable", "_", "notify", ",", "<nl>"], "docstring_tokens": ["scsi", "ufs", "qcom", "enable", "UFSHCD_QUIRK_BROKEN_UFS_HCI_VERSION"]}
{"code_tokens": ["static", "void", "mtk", "_", "drm", "_", "unbind", "(", "struct", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "struct", "mtk", "_", "drm", "_", "private", "*", "private", "=", "dev", "_", "get", "_", "drvdata", "(", "dev", ")", ";", "<nl>", "<nl>", "-", "drm", "_", "put", "_", "dev", "(", "private", "-", ">", "drm", ")", ";", "<nl>", "+", "drm", "_", "dev", "_", "unregister", "(", "private", "-", ">", "drm", ")", ";", "<nl>", "+", "drm", "_", "dev", "_", "unref", "(", "private", "-", ">", "drm", ")", ";", "<nl>", "private", "-", ">", "drm", "=", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "mediatek", "don", "t", "use", "drm_put_dev"]}
{"code_tokens": ["static", "int", "ata", "_", "eh", "_", "recover", "(", "struct", "ata", "_", "port", "*", "ap", ",", "ata", "_", "prereset", "_", "fn", "_", "t", "prereset", ",", "<nl>", "down", "_", "xfermask", "=", "0", ";", "<nl>", "rc", "=", "0", ";", "<nl>", "<nl>", "+", "/", "*", "if", "UNLOADING", ",", "finish", "immediately", "*", "/", "<nl>", "+", "if", "(", "ap", "-", ">", "flags", "&", "ATA", "_", "FLAG", "_", "UNLOADING", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "<nl>", "/", "*", "skip", "EH", "if", "possible", ".", "*", "/", "<nl>", "if", "(", "ata", "_", "eh", "_", "skip", "_", "recovery", "(", "ap", ")", ")", "<nl>", "ehc", "-", ">", "i", ".", "action", "=", "0", ";", "<nl>"], "docstring_tokens": ["PATCH", "libata", "fast", "exit", "from", "EH", "while", "unloading"]}
{"code_tokens": ["static", "int", "dvd", "_", "read", "_", "manufact", "(", "struct", "cdrom", "_", "device", "_", "info", "*", "cdi", ",", "dvd", "_", "struct", "*", "s", ",", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "s", "-", ">", "manufact", ".", "len", "=", "buf", "[", "0", "]", "<", "<", "8", "|", "buf", "[", "1", "]", ";", "<nl>", "-", "if", "(", "s", "-", ">", "manufact", ".", "len", "<", "0", "|", "|", "s", "-", ">", "manufact", ".", "len", ">", "2048", ")", "{", "<nl>", "+", "if", "(", "s", "-", ">", "manufact", ".", "len", "<", "0", ")", "{", "<nl>", "cdinfo", "(", "CD", "_", "WARNING", ",", "\"", "Received", "invalid", "manufacture", "info", "length", "\"", "<nl>", "\"", "(", "%", "d", ")", "\\", "n", "\"", ",", "s", "-", ">", "manufact", ".", "len", ")", ";", "<nl>", "ret", "=", "-", "EIO", ";", "<nl>", "}", "else", "{", "<nl>", "+", "if", "(", "s", "-", ">", "manufact", ".", "len", ">", "2048", ")", "{", "<nl>", "+", "cdinfo", "(", "CD", "_", "WARNING", ",", "\"", "Received", "invalid", "manufacture", "info", "\"", "<nl>", "+", "\"", "length", "(", "%", "d", ")", ":", "truncating", "to", "2048", "\\", "n", "\"", ",", "<nl>", "+", "s", "-", ">", "manufact", ".", "len", ")", ";", "<nl>", "+", "s", "-", ">", "manufact", ".", "len", "=", "2048", ";", "<nl>", "+", "}", "<nl>", "memcpy", "(", "s", "-", ">", "manufact", ".", "value", ",", "&", "buf", "[", "4", "]", ",", "s", "-", ">", "manufact", ".", "len", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drivers", "cdrom", "cdrom", "c", "relax", "check", "on", "dvd", "manufacturer", "value"]}
{"code_tokens": ["static", "int", "wl1271", "_", "op", "_", "hw", "_", "scan", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ",", "<nl>", "static", "int", "wl1271", "_", "op", "_", "set", "_", "rts", "_", "threshold", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ",", "u32", "value", ")", "<nl>", "{", "<nl>", "struct", "wl1271", "*", "wl", "=", "hw", "-", ">", "priv", ";", "<nl>", "-", "int", "ret", ";", "<nl>", "+", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "wl", "-", ">", "mutex", ")", ";", "<nl>", "<nl>", "+", "if", "(", "unlikely", "(", "wl", "-", ">", "state", "=", "=", "WL1271", "_", "STATE", "_", "OFF", ")", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "<nl>", "ret", "=", "wl1271", "_", "ps", "_", "elp", "_", "wakeup", "(", "wl", ",", "false", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "<nl>", "goto", "out", ";", "<nl>"], "docstring_tokens": ["wl1271", "Fix", "mac80211", "RTS", "threshold", "requests", "during", "WL1271_STATE_OFF"]}
{"code_tokens": ["int", "inode", "_", "init", "_", "always", "(", "struct", "super", "_", "block", "*", "sb", ",", "struct", "inode", "*", "inode", ")", "<nl>", "mapping", "-", ">", "a", "_", "ops", "=", "&", "empty", "_", "aops", ";", "<nl>", "mapping", "-", ">", "host", "=", "inode", ";", "<nl>", "mapping", "-", ">", "flags", "=", "0", ";", "<nl>", "+", "mapping", "-", ">", "wb", "_", "err", "=", "0", ";", "<nl>", "atomic", "_", "set", "(", "&", "mapping", "-", ">", "i", "_", "mmap", "_", "writable", ",", "0", ")", ";", "<nl>", "mapping", "_", "set", "_", "gfp", "_", "mask", "(", "mapping", ",", "GFP", "_", "HIGHUSER", "_", "MOVABLE", ")", ";", "<nl>", "mapping", "-", ">", "private", "_", "data", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["fs", "clear", "writeback", "errors", "in", "inode_init_always"]}
{"code_tokens": ["ieee80211", "_", "deliver", "_", "skb", "(", "struct", "ieee80211", "_", "rx", "_", "data", "*", "rx", ")", "<nl>", "}", "<nl>", "<nl>", "if", "(", "xmit", "_", "skb", ")", "{", "<nl>", "-", "/", "*", "send", "to", "wireless", "media", "*", "/", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Send", "to", "wireless", "media", "and", "increase", "priority", "by", "256", "to", "<nl>", "+", "*", "keep", "the", "received", "priority", "instead", "of", "reclassifying", "<nl>", "+", "*", "the", "frame", "(", "see", "cfg80211", "_", "classify8021d", ")", ".", "<nl>", "+", "*", "/", "<nl>", "+", "xmit", "_", "skb", "-", ">", "priority", "+", "=", "256", ";", "<nl>", "xmit", "_", "skb", "-", ">", "protocol", "=", "htons", "(", "ETH", "_", "P", "_", "802", "_", "3", ")", ";", "<nl>", "skb", "_", "reset", "_", "network", "_", "header", "(", "xmit", "_", "skb", ")", ";", "<nl>", "skb", "_", "reset", "_", "mac", "_", "header", "(", "xmit", "_", "skb", ")", ";", "<nl>"], "docstring_tokens": ["mac80211", "Keep", "skb", "piority", "for", "relayed", "frames", "in", "AP", "mode"]}
{"code_tokens": ["static", "int", "start", "_", "afu", "(", "struct", "cxlflash", "_", "cfg", "*", "cfg", ")", "<nl>", "<nl>", "init", "_", "pcr", "(", "cfg", ")", ";", "<nl>", "<nl>", "+", "/", "*", "After", "an", "AFU", "reset", ",", "RRQ", "entries", "are", "stale", ",", "clear", "them", "*", "/", "<nl>", "+", "memset", "(", "&", "afu", "-", ">", "rrq", "_", "entry", ",", "0", ",", "sizeof", "(", "afu", "-", ">", "rrq", "_", "entry", ")", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Initialize", "RRQ", "pointers", "*", "/", "<nl>", "afu", "-", ">", "hrrq", "_", "start", "=", "&", "afu", "-", ">", "rrq", "_", "entry", "[", "0", "]", ";", "<nl>", "afu", "-", ">", "hrrq", "_", "end", "=", "&", "afu", "-", ">", "rrq", "_", "entry", "[", "NUM", "_", "RRQ", "_", "ENTRY", "-", "1", "]", ";", "<nl>"], "docstring_tokens": ["cxlflash", "Fix", "to", "prevent", "stale", "AFU", "RRQ"]}
{"code_tokens": ["static", "int", "seg6", "_", "input", "(", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "skb", "_", "dst", "_", "set", "(", "skb", ",", "dst", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "err", "=", "skb", "_", "cow", "_", "head", "(", "skb", ",", "LL", "_", "RESERVED", "_", "SPACE", "(", "dst", "-", ">", "dev", ")", ")", ";", "<nl>", "+", "if", "(", "unlikely", "(", "err", ")", ")", "<nl>", "+", "return", "err", ";", "<nl>", "+", "<nl>", "return", "dst", "_", "input", "(", "skb", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "seg6", "_", "output", "(", "struct", "net", "*", "net", ",", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "skb", "_", "dst", "_", "drop", "(", "skb", ")", ";", "<nl>", "skb", "_", "dst", "_", "set", "(", "skb", ",", "dst", ")", ";", "<nl>", "<nl>", "+", "err", "=", "skb", "_", "cow", "_", "head", "(", "skb", ",", "LL", "_", "RESERVED", "_", "SPACE", "(", "dst", "-", ">", "dev", ")", ")", ";", "<nl>", "+", "if", "(", "unlikely", "(", "err", ")", ")", "<nl>", "+", "goto", "drop", ";", "<nl>", "+", "<nl>", "return", "dst", "_", "output", "(", "net", ",", "sk", ",", "skb", ")", ";", "<nl>", "drop", ":", "<nl>", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>"], "docstring_tokens": ["ipv6", "sr", "fix", "BUG", "due", "to", "headroom", "too", "small", "after", "SRH", "push"]}
{"code_tokens": ["static", "int", "_", "_", "end", "_", "that", "_", "request", "_", "first", "(", "struct", "request", "*", "req", ",", "int", "error", ",", "<nl>", "}", "else", "{", "<nl>", "int", "idx", "=", "bio", "-", ">", "bi", "_", "idx", "+", "next", "_", "idx", ";", "<nl>", "<nl>", "-", "if", "(", "unlikely", "(", "bio", "-", ">", "bi", "_", "idx", ">", "=", "bio", "-", ">", "bi", "_", "vcnt", ")", ")", "{", "<nl>", "+", "if", "(", "unlikely", "(", "idx", ">", "=", "bio", "-", ">", "bi", "_", "vcnt", ")", ")", "{", "<nl>", "blk", "_", "dump", "_", "rq", "_", "flags", "(", "req", ",", "\"", "_", "_", "end", "_", "that", "\"", ")", ";", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "%", "s", ":", "bio", "idx", "%", "d", ">", "=", "vcnt", "%", "d", "\\", "n", "\"", ",", "<nl>", "-", "_", "_", "func", "_", "_", ",", "bio", "-", ">", "bi", "_", "idx", ",", "bio", "-", ">", "bi", "_", "vcnt", ")", ";", "<nl>", "+", "_", "_", "func", "_", "_", ",", "idx", ",", "bio", "-", ">", "bi", "_", "vcnt", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["block", "fix", "the", "bio_vec", "array", "index", "out", "of", "bounds", "test"]}
{"code_tokens": ["static", "void", "digital", "_", "wq", "_", "cmd", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "+", "cmd", "-", ">", "pending", "=", "1", ";", "<nl>", "+", "<nl>", "mutex", "_", "unlock", "(", "&", "ddev", "-", ">", "cmd", "_", "lock", ")", ";", "<nl>", "<nl>", "if", "(", "cmd", "-", ">", "req", ")", "<nl>"], "docstring_tokens": ["NFC", "digital", "Set", "the", "command", "pending", "flag"]}
{"code_tokens": ["static", "struct", "sk", "_", "buff", "*", "validate", "_", "xmit", "_", "skb", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "<nl>", "<nl>", "segs", "=", "skb", "_", "gso", "_", "segment", "(", "skb", ",", "features", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "segs", ")", ")", "{", "<nl>", "-", "segs", "=", "NULL", ";", "<nl>", "+", "goto", "out", "_", "kfree", "_", "skb", ";", "<nl>", "}", "else", "if", "(", "segs", ")", "{", "<nl>", "consume", "_", "skb", "(", "skb", ")", ";", "<nl>", "skb", "=", "segs", ";", "<nl>"], "docstring_tokens": ["net", "drop", "the", "packet", "when", "fails", "to", "do", "software", "segmentation", "or", "header", "check"]}
{"code_tokens": ["static", "ssize", "_", "t", "w1", "_", "master", "_", "attribute", "_", "store", "_", "search", "(", "struct", "device", "*", "dev", ",", "<nl>", "mutex", "_", "lock", "(", "&", "md", "-", ">", "mutex", ")", ";", "<nl>", "md", "-", ">", "search", "_", "count", "=", "tmp", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "md", "-", ">", "mutex", ")", ";", "<nl>", "-", "wake", "_", "up", "_", "process", "(", "md", "-", ">", "thread", ")", ";", "<nl>", "+", "/", "*", "Only", "wake", "if", "it", "is", "going", "to", "be", "searching", ".", "*", "/", "<nl>", "+", "if", "(", "tmp", ")", "<nl>", "+", "wake", "_", "up", "_", "process", "(", "md", "-", ">", "thread", ")", ";", "<nl>", "<nl>", "return", "count", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["w1", "Only", "wake", "up", "the", "search", "process", "if", "it", "is", "going", "to", "be", "searching"]}
{"code_tokens": ["void", "bnx2x", "_", "disable", "_", "sriov", "(", "struct", "bnx2x", "*", "bp", ")", "<nl>", "static", "int", "bnx2x", "_", "vf", "_", "ndo", "_", "sanity", "(", "struct", "bnx2x", "*", "bp", ",", "int", "vfidx", ",", "<nl>", "struct", "bnx2x", "_", "virtf", "*", "vf", ")", "<nl>", "{", "<nl>", "+", "if", "(", "bp", "-", ">", "state", "!", "=", "BNX2X", "_", "STATE", "_", "OPEN", ")", "{", "<nl>", "+", "BNX2X", "_", "ERR", "(", "\"", "vf", "ndo", "called", "though", "PF", "is", "down", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "!", "IS", "_", "SRIOV", "(", "bp", ")", ")", "{", "<nl>", "BNX2X", "_", "ERR", "(", "\"", "vf", "ndo", "called", "though", "sriov", "is", "disabled", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["bnx2x", "VF", "ndo", "sanity"]}
{"code_tokens": ["struct", "timekeeper", "{", "<nl>", "u32", "mult", ";", "<nl>", "}", ";", "<nl>", "<nl>", "-", "struct", "timekeeper", "timekeeper", ";", "<nl>", "+", "static", "struct", "timekeeper", "timekeeper", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "timekeeper", "_", "setup", "_", "internals", "-", "Set", "up", "internals", "to", "use", "clocksource", "clock", ".", "<nl>", "static", "struct", "timespec", "total", "_", "sleep", "_", "time", ";", "<nl>", "/", "*", "<nl>", "*", "The", "raw", "monotonic", "time", "for", "the", "CLOCK", "_", "MONOTONIC", "_", "RAW", "posix", "clock", ".", "<nl>", "*", "/", "<nl>", "-", "struct", "timespec", "raw", "_", "time", ";", "<nl>", "+", "static", "struct", "timespec", "raw", "_", "time", ";", "<nl>", "<nl>", "/", "*", "flag", "for", "if", "timekeeping", "is", "suspended", "*", "/", "<nl>", "int", "_", "_", "read", "_", "mostly", "timekeeping", "_", "suspended", ";", "<nl>"], "docstring_tokens": ["timekeeping", "Make", "local", "variables", "static"]}
{"code_tokens": ["static", "void", "ath9k", "_", "stop", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ")", "<nl>", "ath9k", "_", "ps", "_", "restore", "(", "sc", ")", ";", "<nl>", "<nl>", "sc", "-", ">", "ps", "_", "idle", "=", "true", ";", "<nl>", "+", "ath9k", "_", "set", "_", "wiphy", "_", "idle", "(", "aphy", ",", "true", ")", ";", "<nl>", "ath", "_", "radio", "_", "disable", "(", "sc", ",", "hw", ")", ";", "<nl>", "<nl>", "sc", "-", ">", "sc", "_", "flags", "|", "=", "SC", "_", "OP", "_", "INVALID", ";", "mmm", "drivers", "/", "net", "/", "wireless", "/", "ath", "/", "ath9k", "/", "pci", ".", "c", "<nl>", "static", "void", "ath9k", "_", "stop", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ")", "<nl>", "ath9k", "_", "ps", "_", "restore", "(", "sc", ")", ";", "<nl>", "<nl>", "sc", "-", ">", "ps", "_", "idle", "=", "true", ";", "<nl>", "+", "ath9k", "_", "set", "_", "wiphy", "_", "idle", "(", "aphy", ",", "true", ")", ";", "<nl>", "ath", "_", "radio", "_", "disable", "(", "sc", ",", "hw", ")", ";", "<nl>", "<nl>", "sc", "-", ">", "sc", "_", "flags", "|", "=", "SC", "_", "OP", "_", "INVALID", ";", "<nl>", "static", "int", "ath", "_", "pci", "_", "resume", "(", "struct", "device", "*", "device", ")", "<nl>", "ath9k", "_", "hw", "_", "set", "_", "gpio", "(", "sc", "-", ">", "sc", "_", "ah", ",", "sc", "-", ">", "sc", "_", "ah", "-", ">", "led", "_", "pin", ",", "1", ")", ";", "<nl>", "<nl>", "sc", "-", ">", "ps", "_", "idle", "=", "true", ";", "<nl>", "+", "ath9k", "_", "set", "_", "wiphy", "_", "idle", "(", "aphy", ",", "true", ")", ";", "<nl>", "ath", "_", "radio", "_", "disable", "(", "sc", ",", "hw", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["ath9k", "fix", "aphy", "wiphy", "idle", "mismatch"]}
{"code_tokens": ["static", "int", "bf5xx", "_", "i2s", "_", "hw", "_", "params", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ",", "<nl>", "bf5xx", "_", "i2s", "-", ">", "tcr2", "|", "=", "7", ";", "<nl>", "bf5xx", "_", "i2s", "-", ">", "rcr2", "|", "=", "7", ";", "<nl>", "sport", "_", "handle", "-", ">", "wdsize", "=", "1", ";", "<nl>", "+", "break", ";", "<nl>", "case", "SNDRV", "_", "PCM", "_", "FORMAT", "_", "S16", "_", "LE", ":", "<nl>", "bf5xx", "_", "i2s", "-", ">", "tcr2", "|", "=", "15", ";", "<nl>", "bf5xx", "_", "i2s", "-", ">", "rcr2", "|", "=", "15", ";", "<nl>"], "docstring_tokens": ["ASoC", "blackfin", "Fix", "missing", "break"]}
{"code_tokens": ["int", "iio", "_", "sw", "_", "buffer", "_", "preenable", "(", "struct", "iio", "_", "dev", "*", "indio", "_", "dev", ")", "<nl>", "buffer", "-", ">", "scan", "_", "mask", ")", ";", "<nl>", "else", "<nl>", "indio", "_", "dev", "-", ">", "active", "_", "scan", "_", "mask", "=", "buffer", "-", ">", "scan", "_", "mask", ";", "<nl>", "+", "<nl>", "+", "if", "(", "indio", "_", "dev", "-", ">", "active", "_", "scan", "_", "mask", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "iio", "_", "update", "_", "demux", "(", "indio", "_", "dev", ")", ";", "<nl>", "<nl>", "if", "(", "indio", "_", "dev", "-", ">", "info", "-", ">", "update", "_", "scan", "_", "mode", ")", "<nl>"], "docstring_tokens": ["iio", "buffer", "Fix", "NULL", "pointer", "deref", "caused", "by", "empty", "scan", "mask"]}
{"code_tokens": ["static", "void", "gpmc", "_", "cs", "_", "show", "_", "timings", "(", "int", "cs", ",", "const", "char", "*", "desc", ")", "<nl>", "pr", "_", "info", "(", "\"", "gpmc", "cs", "%", "i", "access", "configuration", ":", "\\", "n", "\"", ",", "cs", ")", ";", "<nl>", "GPMC", "_", "GET", "_", "RAW", "_", "BOOL", "(", "GPMC", "_", "CS", "_", "CONFIG1", ",", "4", ",", "4", ",", "\"", "time", "-", "para", "-", "granularity", "\"", ")", ";", "<nl>", "GPMC", "_", "GET", "_", "RAW", "(", "GPMC", "_", "CS", "_", "CONFIG1", ",", "8", ",", "9", ",", "\"", "mux", "-", "add", "-", "data", "\"", ")", ";", "<nl>", "-", "GPMC", "_", "GET", "_", "RAW", "_", "MAX", "(", "GPMC", "_", "CS", "_", "CONFIG1", ",", "12", ",", "13", ",", "<nl>", "+", "GPMC", "_", "GET", "_", "RAW", "_", "SHIFT", "_", "MAX", "(", "GPMC", "_", "CS", "_", "CONFIG1", ",", "12", ",", "13", ",", "1", ",", "<nl>", "GPMC", "_", "CONFIG1", "_", "DEVICESIZE", "_", "MAX", ",", "\"", "device", "-", "width", "\"", ")", ";", "<nl>", "GPMC", "_", "GET", "_", "RAW", "(", "GPMC", "_", "CS", "_", "CONFIG1", ",", "16", ",", "17", ",", "\"", "wait", "-", "pin", "\"", ")", ";", "<nl>", "GPMC", "_", "GET", "_", "RAW", "_", "BOOL", "(", "GPMC", "_", "CS", "_", "CONFIG1", ",", "21", ",", "21", ",", "\"", "wait", "-", "on", "-", "write", "\"", ")", ";", "<nl>"], "docstring_tokens": ["memory", "omap", "gpmc", "Fix", "debug", "output", "for", "access", "width"]}
{"code_tokens": ["static", "int", "pl2303", "_", "tiocmset", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "priv", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "serial", "-", ">", "disc", "_", "mutex", ")", ";", "<nl>", "-", "if", "(", "!", "serial", "-", ">", "disconnected", ")", "<nl>", "+", "if", "(", "!", "serial", "-", ">", "disconnected", ")", "{", "<nl>", "ret", "=", "pl2303", "_", "set", "_", "control", "_", "lines", "(", "port", ",", "control", ")", ";", "<nl>", "-", "else", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "ret", "=", "usb", "_", "translate", "_", "errors", "(", "ret", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "ret", "=", "-", "ENODEV", ";", "<nl>", "+", "}", "<nl>", "mutex", "_", "unlock", "(", "&", "serial", "-", ">", "disc", "_", "mutex", ")", ";", "<nl>", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["USB", "pl2303", "fix", "return", "value", "of", "tiocmset"]}
{"code_tokens": ["void", "snd", "_", "hda", "_", "codec", "_", "setup", "_", "stream", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "hda", "_", "nid", "_", "t", "nid", ",", "<nl>", "\"", "NID", "=", "0x", "%", "x", ",", "stream", "=", "0x", "%", "x", ",", "channel", "=", "%", "d", ",", "format", "=", "0x", "%", "x", "\\", "n", "\"", ",", "<nl>", "nid", ",", "stream", "_", "tag", ",", "channel", "_", "id", ",", "format", ")", ";", "<nl>", "p", "=", "get", "_", "hda", "_", "cvt", "_", "setup", "(", "codec", ",", "nid", ")", ";", "<nl>", "-", "if", "(", "!", "p", ")", "<nl>", "+", "if", "(", "!", "p", "|", "|", "p", "-", ">", "active", ")", "<nl>", "return", ";", "<nl>", "<nl>", "if", "(", "codec", "-", ">", "pcm", "_", "format", "_", "first", ")", "<nl>", "void", "_", "_", "snd", "_", "hda", "_", "codec", "_", "cleanup", "_", "stream", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "hda", "_", "nid", "_", "t", "nid", ",", "<nl>", "<nl>", "snd", "_", "printdd", "(", "\"", "hda", "_", "codec", "_", "cleanup", "_", "stream", ":", "NID", "=", "0x", "%", "x", "\\", "n", "\"", ",", "nid", ")", ";", "<nl>", "p", "=", "get", "_", "hda", "_", "cvt", "_", "setup", "(", "codec", ",", "nid", ")", ";", "<nl>", "-", "if", "(", "p", ")", "{", "<nl>", "+", "if", "(", "p", "&", "&", "p", "-", ">", "active", ")", "{", "<nl>", "/", "*", "here", "we", "just", "clear", "the", "active", "flag", "when", "do", "_", "now", "isn", "'", "t", "set", ";", "<nl>", "*", "actual", "clean", "-", "ups", "will", "be", "done", "later", "in", "<nl>", "*", "purify", "_", "inactive", "_", "streams", "(", ")", "called", "from", "snd", "_", "hda", "_", "codec", "_", "prpapre", "(", ")", "<nl>"], "docstring_tokens": ["ALSA", "hda", "Don", "t", "set", "up", "active", "streams", "twice"]}
{"code_tokens": ["static", "int", "raid1", "_", "remove", "_", "disk", "(", "struct", "mddev", "*", "mddev", ",", "struct", "md", "_", "rdev", "*", "rdev", ")", "<nl>", "int", "number", "=", "rdev", "-", ">", "raid", "_", "disk", ";", "<nl>", "struct", "mirror", "_", "info", "*", "p", "=", "conf", "-", ">", "mirrors", "+", "number", ";", "<nl>", "<nl>", "+", "if", "(", "rdev", "!", "=", "p", "-", ">", "rdev", ")", "<nl>", "+", "p", "=", "conf", "-", ">", "mirrors", "+", "conf", "-", ">", "raid", "_", "disks", "+", "number", ";", "<nl>", "+", "<nl>", "print", "_", "conf", "(", "conf", ")", ";", "<nl>", "if", "(", "rdev", "=", "=", "p", "-", ">", "rdev", ")", "{", "<nl>", "if", "(", "test", "_", "bit", "(", "In", "_", "sync", ",", "&", "rdev", "-", ">", "flags", ")", "|", "|", "<nl>", "static", "int", "raid1", "_", "remove", "_", "disk", "(", "struct", "mddev", "*", "mddev", ",", "struct", "md", "_", "rdev", "*", "rdev", ")", "<nl>", "err", "=", "-", "EBUSY", ";", "<nl>", "p", "-", ">", "rdev", "=", "rdev", ";", "<nl>", "goto", "abort", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "clear", "_", "bit", "(", "Replacement", ",", "&", "rdev", "-", ">", "flags", ")", ";", "<nl>", "+", "clear", "_", "bit", "(", "WantReplacement", ",", "&", "rdev", "-", ">", "flags", ")", ";", "<nl>", "}", "<nl>", "err", "=", "md", "_", "integrity", "_", "register", "(", "mddev", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["md", "raid1", "Allow", "a", "failed", "replacement", "device", "to", "be", "removed"]}
{"code_tokens": ["static", "void", "pcspkr", "_", "do", "_", "sound", "(", "unsigned", "int", "count", ")", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "i8253", "_", "lock", ",", "flags", ")", ";", "<nl>", "<nl>", "if", "(", "count", ")", "{", "<nl>", "-", "/", "*", "enable", "counter", "2", "*", "/", "<nl>", "-", "outb", "_", "p", "(", "inb", "_", "p", "(", "0x61", ")", "|", "3", ",", "0x61", ")", ";", "<nl>", "/", "*", "set", "command", "for", "counter", "2", ",", "2", "byte", "write", "*", "/", "<nl>", "outb", "_", "p", "(", "0xB6", ",", "0x43", ")", ";", "<nl>", "/", "*", "select", "desired", "HZ", "*", "/", "<nl>", "outb", "_", "p", "(", "count", "&", "0xff", ",", "0x42", ")", ";", "<nl>", "outb", "(", "(", "count", ">", ">", "8", ")", "&", "0xff", ",", "0x42", ")", ";", "<nl>", "+", "/", "*", "enable", "counter", "2", "*", "/", "<nl>", "+", "outb", "_", "p", "(", "inb", "_", "p", "(", "0x61", ")", "|", "3", ",", "0x61", ")", ";", "<nl>", "}", "else", "{", "<nl>", "/", "*", "disable", "counter", "2", "*", "/", "<nl>", "outb", "(", "inb", "_", "p", "(", "0x61", ")", "&", "0xFC", ",", "0x61", ")", ";", "<nl>"], "docstring_tokens": ["ALSA", "Fix", "PIT", "lockup", "on", "some", "chipsets", "when", "using", "the", "PC", "Speaker"]}
{"code_tokens": ["int", "ath", "_", "descdma", "_", "setup", "(", "struct", "ath", "_", "softc", "*", "sc", ",", "struct", "ath", "_", "descdma", "*", "dd", ",", "<nl>", "DPRINTF", "(", "sc", ",", "ATH", "_", "DBG", "_", "CONFIG", ",", "\"", "%", "s", "DMA", ":", "%", "u", "buffers", "%", "u", "desc", "/", "buf", "\\", "n", "\"", ",", "<nl>", "name", ",", "nbuf", ",", "ndesc", ")", ";", "<nl>", "<nl>", "+", "INIT", "_", "LIST", "_", "HEAD", "(", "head", ")", ";", "<nl>", "/", "*", "ath", "_", "desc", "must", "be", "a", "multiple", "of", "DWORDs", "*", "/", "<nl>", "if", "(", "(", "sizeof", "(", "struct", "ath", "_", "desc", ")", "%", "4", ")", "!", "=", "0", ")", "{", "<nl>", "DPRINTF", "(", "sc", ",", "ATH", "_", "DBG", "_", "FATAL", ",", "\"", "ath", "_", "desc", "not", "DWORD", "aligned", "\\", "n", "\"", ")", ";", "<nl>", "int", "ath", "_", "descdma", "_", "setup", "(", "struct", "ath", "_", "softc", "*", "sc", ",", "struct", "ath", "_", "descdma", "*", "dd", ",", "<nl>", "}", "<nl>", "dd", "-", ">", "dd", "_", "bufptr", "=", "bf", ";", "<nl>", "<nl>", "-", "INIT", "_", "LIST", "_", "HEAD", "(", "head", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "nbuf", ";", "i", "+", "+", ",", "bf", "+", "+", ",", "ds", "+", "=", "ndesc", ")", "{", "<nl>", "bf", "-", ">", "bf", "_", "desc", "=", "ds", ";", "<nl>", "bf", "-", ">", "bf", "_", "daddr", "=", "DS2PHYS", "(", "dd", ",", "ds", ")", ";", "<nl>"], "docstring_tokens": ["ath9k", "RX", "buffers", "may", "be", "accessed", "freed", "even", "before", "initialized", "alloced"]}
{"code_tokens": ["int", "ping", "_", "init", "_", "sock", "(", "struct", "sock", "*", "sk", ")", "<nl>", "{", "<nl>", "struct", "net", "*", "net", "=", "sock", "_", "net", "(", "sk", ")", ";", "<nl>", "kgid", "_", "t", "group", "=", "current", "_", "egid", "(", ")", ";", "<nl>", "-", "struct", "group", "_", "info", "*", "group", "_", "info", "=", "get", "_", "current", "_", "groups", "(", ")", ";", "<nl>", "-", "int", "i", ",", "j", ",", "count", "=", "group", "_", "info", "-", ">", "ngroups", ";", "<nl>", "+", "struct", "group", "_", "info", "*", "group", "_", "info", ";", "<nl>", "+", "int", "i", ",", "j", ",", "count", ";", "<nl>", "kgid", "_", "t", "low", ",", "high", ";", "<nl>", "+", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "inet", "_", "get", "_", "ping", "_", "group", "_", "range", "_", "net", "(", "net", ",", "&", "low", ",", "&", "high", ")", ";", "<nl>", "if", "(", "gid", "_", "lte", "(", "low", ",", "group", ")", "&", "&", "gid", "_", "lte", "(", "group", ",", "high", ")", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "group", "_", "info", "=", "get", "_", "current", "_", "groups", "(", ")", ";", "<nl>", "+", "count", "=", "group", "_", "info", "-", ">", "ngroups", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "group", "_", "info", "-", ">", "nblocks", ";", "i", "+", "+", ")", "{", "<nl>", "int", "cp", "_", "count", "=", "min", "_", "t", "(", "int", ",", "NGROUPS", "_", "PER", "_", "BLOCK", ",", "count", ")", ";", "<nl>", "for", "(", "j", "=", "0", ";", "j", "<", "cp", "_", "count", ";", "j", "+", "+", ")", "{", "<nl>", "kgid", "_", "t", "gid", "=", "group", "_", "info", "-", ">", "blocks", "[", "i", "]", "[", "j", "]", ";", "<nl>", "if", "(", "gid", "_", "lte", "(", "low", ",", "gid", ")", "&", "&", "gid", "_", "lte", "(", "gid", ",", "high", ")", ")", "<nl>", "-", "return", "0", ";", "<nl>", "+", "goto", "out", "_", "release", "_", "group", ";", "<nl>", "}", "<nl>", "<nl>", "count", "-", "=", "cp", "_", "count", ";", "<nl>", "}", "<nl>", "<nl>", "-", "return", "-", "EACCES", ";", "<nl>", "+", "ret", "=", "-", "EACCES", ";", "<nl>", "+", "<nl>", "+", "out", "_", "release", "_", "group", ":", "<nl>", "+", "put", "_", "group", "_", "info", "(", "group", "_", "info", ")", ";", "<nl>", "+", "return", "ret", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "ping", "_", "init", "_", "sock", ")", ";", "<nl>"], "docstring_tokens": ["net", "ipv4", "current", "group_info", "should", "be", "put", "after", "using"]}
{"code_tokens": ["<nl>", "struct", "via", "_", "i2c", "_", "stuff", "{", "<nl>", "u16", "i2c", "_", "port", ";", "/", "*", "GPIO", "or", "I2C", "port", "*", "/", "<nl>", "+", "u16", "is", "_", "active", ";", "/", "*", "Being", "used", "as", "I2C", "?", "*", "/", "<nl>", "struct", "i2c", "_", "adapter", "adapter", ";", "<nl>", "struct", "i2c", "_", "algo", "_", "bit", "_", "data", "algo", ";", "<nl>", "}", ";", "mmm", "drivers", "/", "video", "/", "via", "/", "via", "_", "i2c", ".", "c", "<nl>", "<nl>", "struct", "via", "_", "i2c", "_", "stuff", "{", "<nl>", "u16", "i2c", "_", "port", ";", "/", "*", "GPIO", "or", "I2C", "port", "*", "/", "<nl>", "+", "u16", "is", "_", "active", ";", "/", "*", "Being", "used", "as", "I2C", "?", "*", "/", "<nl>", "struct", "i2c", "_", "adapter", "adapter", ";", "<nl>", "struct", "i2c", "_", "algo", "_", "bit", "_", "data", "algo", ";", "<nl>", "}", ";", "<nl>", "int", "viafb", "_", "i2c", "_", "readbyte", "(", "u8", "adap", ",", "u8", "slave", "_", "addr", ",", "u8", "index", ",", "u8", "*", "pdata", ")", "<nl>", "u8", "mm1", "[", "]", "=", "{", "0x00", "}", ";", "<nl>", "struct", "i2c", "_", "msg", "msgs", "[", "2", "]", ";", "<nl>", "<nl>", "+", "if", "(", "!", "via", "_", "i2c", "_", "par", "[", "adap", "]", ".", "is", "_", "active", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "*", "pdata", "=", "0", ";", "<nl>", "msgs", "[", "0", "]", ".", "flags", "=", "0", ";", "<nl>", "msgs", "[", "1", "]", ".", "flags", "=", "I2C", "_", "M", "_", "RD", ";", "<nl>", "int", "viafb", "_", "i2c", "_", "writebyte", "(", "u8", "adap", ",", "u8", "slave", "_", "addr", ",", "u8", "index", ",", "u8", "data", ")", "<nl>", "u8", "msg", "[", "2", "]", "=", "{", "index", ",", "data", "}", ";", "<nl>", "struct", "i2c", "_", "msg", "msgs", ";", "<nl>", "<nl>", "+", "if", "(", "!", "via", "_", "i2c", "_", "par", "[", "adap", "]", ".", "is", "_", "active", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "msgs", ".", "flags", "=", "0", ";", "<nl>", "msgs", ".", "addr", "=", "slave", "_", "addr", "/", "2", ";", "<nl>", "msgs", ".", "len", "=", "2", ";", "<nl>", "int", "viafb", "_", "i2c", "_", "readbytes", "(", "u8", "adap", ",", "u8", "slave", "_", "addr", ",", "u8", "index", ",", "u8", "*", "buff", ",", "int", "buff", "_", "len", "<nl>", "u8", "mm1", "[", "]", "=", "{", "0x00", "}", ";", "<nl>", "struct", "i2c", "_", "msg", "msgs", "[", "2", "]", ";", "<nl>", "<nl>", "+", "if", "(", "!", "via", "_", "i2c", "_", "par", "[", "adap", "]", ".", "is", "_", "active", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "msgs", "[", "0", "]", ".", "flags", "=", "0", ";", "<nl>", "msgs", "[", "1", "]", ".", "flags", "=", "I2C", "_", "M", "_", "RD", ";", "<nl>", "msgs", "[", "0", "]", ".", "addr", "=", "msgs", "[", "1", "]", ".", "addr", "=", "slave", "_", "addr", "/", "2", ";", "<nl>", "static", "int", "viafb", "_", "i2c", "_", "probe", "(", "struct", "platform", "_", "device", "*", "platdev", ")", "<nl>", "struct", "via", "_", "port", "_", "cfg", "*", "adap", "_", "cfg", "=", "configs", "+", "+", ";", "<nl>", "struct", "via", "_", "i2c", "_", "stuff", "*", "i2c", "_", "stuff", "=", "&", "via", "_", "i2c", "_", "par", "[", "i", "]", ";", "<nl>", "<nl>", "+", "i2c", "_", "stuff", "-", ">", "is", "_", "active", "=", "0", ";", "<nl>", "if", "(", "adap", "_", "cfg", "-", ">", "type", "=", "=", "0", "|", "|", "adap", "_", "cfg", "-", ">", "mode", "!", "=", "VIA", "_", "MODE", "_", "I2C", ")", "<nl>", "continue", ";", "<nl>", "-", "<nl>", "ret", "=", "create", "_", "i2c", "_", "bus", "(", "&", "i2c", "_", "stuff", "-", ">", "adapter", ",", "<nl>", "&", "i2c", "_", "stuff", "-", ">", "algo", ",", "adap", "_", "cfg", ",", "<nl>", "NULL", ")", ";", "/", "*", "FIXME", ":", "PCIDEV", "*", "/", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "viafb", ":", "cannot", "create", "i2c", "bus", "%", "u", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "i", ",", "ret", ")", ";", "<nl>", "-", "/", "*", "FIXME", ":", "properly", "release", "previous", "busses", "*", "/", "<nl>", "-", "return", "ret", ";", "<nl>", "+", "continue", ";", "/", "*", "Still", "try", "to", "make", "the", "rest", "*", "/", "<nl>", "}", "<nl>", "+", "i2c", "_", "stuff", "-", ">", "is", "_", "active", "=", "1", ";", "<nl>", "}", "<nl>", "<nl>", "return", "0", ";", "<nl>", "static", "int", "viafb", "_", "i2c", "_", "remove", "(", "struct", "platform", "_", "device", "*", "platdev", ")", "<nl>", "*", "Only", "remove", "those", "entries", "in", "the", "array", "that", "we", "'", "ve", "<nl>", "*", "actually", "used", "(", "and", "thus", "initialized", "algo", "_", "data", ")", "<nl>", "*", "/", "<nl>", "-", "if", "(", "i2c", "_", "stuff", "-", ">", "adapter", ".", "algo", "_", "data", "=", "=", "&", "i2c", "_", "stuff", "-", ">", "algo", ")", "<nl>", "+", "if", "(", "i2c", "_", "stuff", "-", ">", "is", "_", "active", ")", "<nl>", "i2c", "_", "del", "_", "adapter", "(", "&", "i2c", "_", "stuff", "-", ">", "adapter", ")", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["via", "Do", "not", "attempt", "I", "O", "on", "inactive", "I2C", "adapters"]}
{"code_tokens": ["static", "int", "gbcodec", "_", "trigger", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ",", "int", "cmd", ",", "<nl>", "dev", "_", "err", "(", "dai", "-", ">", "dev", ",", "\"", "%", "d", ":", "Error", "during", "%", "s", "stream", "\\", "n", "\"", ",", "ret", ",", "<nl>", "start", "?", "\"", "Start", "\"", ":", "\"", "Stop", "\"", ")", ";", "<nl>", "<nl>", "+", "/", "*", "in", "case", "device", "removed", ",", "return", "0", "for", "stop", "trigger", "*", "/", "<nl>", "+", "if", "(", "stop", "&", "&", "(", "ret", "=", "=", "-", "ENODEV", ")", ")", "<nl>", "+", "ret", "=", "0", ";", "<nl>", "+", "<nl>", "func", "_", "exit", ":", "<nl>", "mutex", "_", "unlock", "(", "&", "gb", "-", ">", "lock", ")", ";", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["greybus", "audio", "return", "success", "for", "stop", "trigger", "if", "device", "removed"]}
{"code_tokens": ["int", "amdgpu", "_", "device", "_", "ip", "_", "suspend", "(", "struct", "amdgpu", "_", "device", "*", "adev", ")", "<nl>", "if", "(", "amdgpu", "_", "sriov", "_", "vf", "(", "adev", ")", ")", "<nl>", "amdgpu", "_", "virt", "_", "request", "_", "full", "_", "gpu", "(", "adev", ",", "false", ")", ";", "<nl>", "<nl>", "+", "/", "*", "ungate", "SMC", "block", "powergating", "*", "/", "<nl>", "+", "if", "(", "adev", "-", ">", "powerplay", ".", "pp", "_", "feature", "&", "PP", "_", "GFXOFF", "_", "MASK", ")", "<nl>", "+", "amdgpu", "_", "device", "_", "ip", "_", "set", "_", "powergating", "_", "state", "(", "adev", ",", "<nl>", "+", "AMD", "_", "IP", "_", "BLOCK", "_", "TYPE", "_", "SMC", ",", "<nl>", "+", "AMD", "_", "CG", "_", "STATE", "_", "UNGATE", ")", ";", "<nl>", "+", "<nl>", "/", "*", "ungate", "SMC", "block", "first", "*", "/", "<nl>", "r", "=", "amdgpu", "_", "device", "_", "ip", "_", "set", "_", "clockgating", "_", "state", "(", "adev", ",", "AMD", "_", "IP", "_", "BLOCK", "_", "TYPE", "_", "SMC", ",", "<nl>", "AMD", "_", "CG", "_", "STATE", "_", "UNGATE", ")", ";", "<nl>"], "docstring_tokens": ["drm", "amdgpu", "it", "should", "disable", "gfxoff", "when", "system", "is", "going", "to", "suspend"]}
{"code_tokens": ["static", "struct", "dentry", "*", "get", "_", "default", "_", "root", "(", "struct", "super", "_", "block", "*", "sb", ",", "<nl>", "*", "/", "<nl>", "dir", "_", "id", "=", "btrfs", "_", "super", "_", "root", "_", "dir", "(", "&", "root", "-", ">", "fs", "_", "info", "-", ">", "super", "_", "copy", ")", ";", "<nl>", "di", "=", "btrfs", "_", "lookup", "_", "dir", "_", "item", "(", "NULL", ",", "root", ",", "path", ",", "dir", "_", "id", ",", "\"", "default", "\"", ",", "7", ",", "0", ")", ";", "<nl>", "-", "if", "(", "IS", "_", "ERR", "(", "di", ")", ")", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "di", ")", ")", "{", "<nl>", "+", "btrfs", "_", "free", "_", "path", "(", "path", ")", ";", "<nl>", "return", "ERR", "_", "CAST", "(", "di", ")", ";", "<nl>", "+", "}", "<nl>", "if", "(", "!", "di", ")", "{", "<nl>", "/", "*", "<nl>", "*", "Ok", "the", "default", "dir", "item", "isn", "'", "t", "there", ".", "This", "is", "weird", "sincemmm", "fs", "/", "btrfs", "/", "inode", ".", "c", "<nl>", "static", "struct", "dentry", "*", "get", "_", "default", "_", "root", "(", "struct", "super", "_", "block", "*", "sb", ",", "<nl>", "*", "/", "<nl>", "dir", "_", "id", "=", "btrfs", "_", "super", "_", "root", "_", "dir", "(", "&", "root", "-", ">", "fs", "_", "info", "-", ">", "super", "_", "copy", ")", ";", "<nl>", "di", "=", "btrfs", "_", "lookup", "_", "dir", "_", "item", "(", "NULL", ",", "root", ",", "path", ",", "dir", "_", "id", ",", "\"", "default", "\"", ",", "7", ",", "0", ")", ";", "<nl>", "-", "if", "(", "IS", "_", "ERR", "(", "di", ")", ")", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "di", ")", ")", "{", "<nl>", "+", "btrfs", "_", "free", "_", "path", "(", "path", ")", ";", "<nl>", "return", "ERR", "_", "CAST", "(", "di", ")", ";", "<nl>", "+", "}", "<nl>", "if", "(", "!", "di", ")", "{", "<nl>", "/", "*", "<nl>", "*", "Ok", "the", "default", "dir", "item", "isn", "'", "t", "there", ".", "This", "is", "weird", "since", "<nl>", "static", "int", "btrfs", "_", "symlink", "(", "struct", "inode", "*", "dir", ",", "struct", "dentry", "*", "dentry", ",", "<nl>", "datasize", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "drop", "_", "inode", "=", "1", ";", "<nl>", "+", "btrfs", "_", "free", "_", "path", "(", "path", ")", ";", "<nl>", "goto", "out", "_", "unlock", ";", "<nl>", "}", "<nl>", "leaf", "=", "path", "-", ">", "nodes", "[", "0", "]", ";", "<nl>"], "docstring_tokens": ["fs", "btrfs", "Add", "missing", "btrfs_free_path"]}
{"code_tokens": ["static", "void", "task", "_", "fork", "_", "fair", "(", "struct", "task", "_", "struct", "*", "p", ")", "<nl>", "<nl>", "update", "_", "rq", "_", "clock", "(", "rq", ")", ";", "<nl>", "<nl>", "-", "if", "(", "unlikely", "(", "task", "_", "cpu", "(", "p", ")", "!", "=", "this", "_", "cpu", ")", ")", "<nl>", "+", "if", "(", "unlikely", "(", "task", "_", "cpu", "(", "p", ")", "!", "=", "this", "_", "cpu", ")", ")", "{", "<nl>", "+", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "_", "_", "set", "_", "task", "_", "cpu", "(", "p", ",", "this", "_", "cpu", ")", ";", "<nl>", "+", "rcu", "_", "read", "_", "unlock", "(", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "update", "_", "curr", "(", "cfs", "_", "rq", ")", ";", "<nl>"], "docstring_tokens": ["sched", "suppress", "RCU", "lockdep", "splat", "in", "task_fork_fair"]}
{"code_tokens": ["static", "int", "audit", "_", "log", "_", "single", "_", "execve", "_", "arg", "(", "struct", "audit", "_", "context", "*", "context", ",", "<nl>", "*", "for", "strings", "that", "are", "too", "long", ",", "we", "should", "not", "have", "created", "<nl>", "*", "any", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "unlikely", "(", "(", "len", "=", "-", "1", ")", "|", "|", "len", ">", "MAX", "_", "ARG", "_", "STRLEN", "-", "1", ")", ")", "{", "<nl>", "+", "if", "(", "unlikely", "(", "(", "len", "=", "=", "-", "1", ")", "|", "|", "len", ">", "MAX", "_", "ARG", "_", "STRLEN", "-", "1", ")", ")", "{", "<nl>", "WARN", "_", "ON", "(", "1", ")", ";", "<nl>", "send", "_", "sig", "(", "SIGKILL", ",", "current", ",", "0", ")", ";", "<nl>", "+", "return", "-", "1", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "walk", "the", "whole", "argument", "looking", "for", "non", "-", "ascii", "chars", "*", "/", "<nl>", "static", "int", "audit", "_", "log", "_", "single", "_", "execve", "_", "arg", "(", "struct", "audit", "_", "context", "*", "context", ",", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "WARN", "_", "ON", "(", "1", ")", ";", "<nl>", "send", "_", "sig", "(", "SIGKILL", ",", "current", ",", "0", ")", ";", "<nl>", "+", "return", "-", "1", ";", "<nl>", "}", "<nl>", "buf", "[", "to", "_", "send", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "has", "_", "cntl", "=", "audit", "_", "string", "_", "contains", "_", "control", "(", "buf", ",", "to", "_", "send", ")", ";", "<nl>", "static", "int", "audit", "_", "log", "_", "single", "_", "execve", "_", "arg", "(", "struct", "audit", "_", "context", "*", "context", ",", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "WARN", "_", "ON", "(", "1", ")", ";", "<nl>", "send", "_", "sig", "(", "SIGKILL", ",", "current", ",", "0", ")", ";", "<nl>", "+", "return", "-", "1", ";", "<nl>", "}", "<nl>", "buf", "[", "to", "_", "send", "]", "=", "'", "\\", "0", "'", ";", "<nl>"], "docstring_tokens": ["Audit", "use", "not", "in", "if", "statements"]}
{"code_tokens": ["extern", "struct", "debug", "_", "obj", "_", "descr", "rcuhead", "_", "debug", "_", "descr", ";", "<nl>", "<nl>", "static", "inline", "void", "debug", "_", "rcu", "_", "head", "_", "queue", "(", "struct", "rcu", "_", "head", "*", "head", ")", "<nl>", "{", "<nl>", "+", "WARN", "_", "ON", "_", "ONCE", "(", "(", "unsigned", "long", ")", "head", "&", "0x3", ")", ";", "<nl>", "debug", "_", "object", "_", "activate", "(", "head", ",", "&", "rcuhead", "_", "debug", "_", "descr", ")", ";", "<nl>", "debug", "_", "object", "_", "active", "_", "state", "(", "head", ",", "&", "rcuhead", "_", "debug", "_", "descr", ",", "<nl>", "STATE", "_", "RCU", "_", "HEAD", "_", "READY", ",", "<nl>"], "docstring_tokens": ["rcu", "add", "DEBUG_OBJECTS_RCU_HEAD", "check", "for", "alignment"]}
{"code_tokens": ["acpi", "_", "ex", "_", "store", "_", "buffer", "_", "to", "_", "buffer", "(", "union", "acpi", "_", "operand", "_", "object", "*", "source", "_", "desc", ",", "<nl>", "<nl>", "ACPI", "_", "FUNCTION", "_", "TRACE", "_", "PTR", "(", "ex", "_", "store", "_", "buffer", "_", "to", "_", "buffer", ",", "source", "_", "desc", ")", ";", "<nl>", "<nl>", "+", "/", "*", "If", "Source", "and", "Target", "are", "the", "same", ",", "just", "return", "*", "/", "<nl>", "+", "<nl>", "+", "if", "(", "source", "_", "desc", "=", "=", "target", "_", "desc", ")", "{", "<nl>", "+", "return", "_", "ACPI", "_", "STATUS", "(", "AE", "_", "OK", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "We", "know", "that", "source", "_", "desc", "is", "a", "buffer", "by", "now", "*", "/", "<nl>", "<nl>", "buffer", "=", "ACPI", "_", "CAST", "_", "PTR", "(", "u8", ",", "source", "_", "desc", "-", ">", "buffer", ".", "pointer", ")", ";", "<nl>", "acpi", "_", "ex", "_", "store", "_", "string", "_", "to", "_", "string", "(", "union", "acpi", "_", "operand", "_", "object", "*", "source", "_", "desc", ",", "<nl>", "<nl>", "ACPI", "_", "FUNCTION", "_", "TRACE", "_", "PTR", "(", "ex", "_", "store", "_", "string", "_", "to", "_", "string", ",", "source", "_", "desc", ")", ";", "<nl>", "<nl>", "+", "/", "*", "If", "Source", "and", "Target", "are", "the", "same", ",", "just", "return", "*", "/", "<nl>", "+", "<nl>", "+", "if", "(", "source", "_", "desc", "=", "=", "target", "_", "desc", ")", "{", "<nl>", "+", "return", "_", "ACPI", "_", "STATUS", "(", "AE", "_", "OK", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "We", "know", "that", "source", "_", "desc", "is", "a", "string", "by", "now", "*", "/", "<nl>", "<nl>", "buffer", "=", "ACPI", "_", "CAST", "_", "PTR", "(", "u8", ",", "source", "_", "desc", "-", ">", "string", ".", "pointer", ")", ";", "<nl>"], "docstring_tokens": ["ACPICA", "Windows", "compatibility", "fix", "same", "buffer", "string", "store"]}
{"code_tokens": ["_", "_", "append", "_", "chain", "(", "struct", "callchain", "_", "node", "*", "root", ",", "struct", "ip", "_", "callchain", "*", "chain", ",", "<nl>", "void", "append", "_", "chain", "(", "struct", "callchain", "_", "node", "*", "root", ",", "struct", "ip", "_", "callchain", "*", "chain", ",", "<nl>", "struct", "symbol", "*", "*", "syms", ")", "<nl>", "{", "<nl>", "+", "if", "(", "!", "chain", "-", ">", "nr", ")", "<nl>", "+", "return", ";", "<nl>", "_", "_", "append", "_", "chain", "_", "children", "(", "root", ",", "chain", ",", "syms", ",", "0", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["perf", "tools", "callchain", "Fix", "spurious", "perf", "report", "warnings", "ignore", "empty", "callchains"]}
{"code_tokens": ["int", "perf", "_", "event", "_", "_", "synthesize", "_", "thread", "_", "map", "(", "struct", "perf", "_", "tool", "*", "tool", ",", "<nl>", "if", "(", "comm", "_", "event", "=", "=", "NULL", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "-", "mmap", "_", "event", "=", "malloc", "(", "sizeof", "(", "mmap", "_", "event", "-", ">", "mmap", ")", "+", "machine", "-", ">", "id", "_", "hdr", "_", "size", ")", ";", "<nl>", "+", "mmap", "_", "event", "=", "malloc", "(", "sizeof", "(", "mmap", "_", "event", "-", ">", "mmap2", ")", "+", "machine", "-", ">", "id", "_", "hdr", "_", "size", ")", ";", "<nl>", "if", "(", "mmap", "_", "event", "=", "=", "NULL", ")", "<nl>", "goto", "out", "_", "free", "_", "comm", ";", "<nl>", "<nl>", "int", "perf", "_", "event", "_", "_", "synthesize", "_", "threads", "(", "struct", "perf", "_", "tool", "*", "tool", ",", "<nl>", "if", "(", "comm", "_", "event", "=", "=", "NULL", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "-", "mmap", "_", "event", "=", "malloc", "(", "sizeof", "(", "mmap", "_", "event", "-", ">", "mmap", ")", "+", "machine", "-", ">", "id", "_", "hdr", "_", "size", ")", ";", "<nl>", "+", "mmap", "_", "event", "=", "malloc", "(", "sizeof", "(", "mmap", "_", "event", "-", ">", "mmap2", ")", "+", "machine", "-", ">", "id", "_", "hdr", "_", "size", ")", ";", "<nl>", "if", "(", "mmap", "_", "event", "=", "=", "NULL", ")", "<nl>", "goto", "out", "_", "free", "_", "comm", ";", "<nl>"], "docstring_tokens": ["perf", "tools", "Fix", "mmap2", "event", "allocation", "in", "synthesize", "code"]}
{"code_tokens": ["mt76", "_", "add", "_", "fragment", "(", "struct", "mt76", "_", "dev", "*", "dev", ",", "struct", "mt76", "_", "queue", "*", "q", ",", "void", "*", "data", ",", "<nl>", "struct", "page", "*", "page", "=", "virt", "_", "to", "_", "head", "_", "page", "(", "data", ")", ";", "<nl>", "int", "offset", "=", "data", "-", "page", "_", "address", "(", "page", ")", ";", "<nl>", "struct", "sk", "_", "buff", "*", "skb", "=", "q", "-", ">", "rx", "_", "head", ";", "<nl>", "+", "struct", "skb", "_", "shared", "_", "info", "*", "shinfo", "=", "skb", "_", "shinfo", "(", "skb", ")", ";", "<nl>", "<nl>", "-", "offset", "+", "=", "q", "-", ">", "buf", "_", "offset", ";", "<nl>", "-", "skb", "_", "add", "_", "rx", "_", "frag", "(", "skb", ",", "skb", "_", "shinfo", "(", "skb", ")", "-", ">", "nr", "_", "frags", ",", "page", ",", "offset", ",", "len", ",", "<nl>", "-", "q", "-", ">", "buf", "_", "size", ")", ";", "<nl>", "+", "if", "(", "shinfo", "-", ">", "nr", "_", "frags", "<", "ARRAY", "_", "SIZE", "(", "shinfo", "-", ">", "frags", ")", ")", "{", "<nl>", "+", "offset", "+", "=", "q", "-", ">", "buf", "_", "offset", ";", "<nl>", "+", "skb", "_", "add", "_", "rx", "_", "frag", "(", "skb", ",", "shinfo", "-", ">", "nr", "_", "frags", ",", "page", ",", "offset", ",", "len", ",", "<nl>", "+", "q", "-", ">", "buf", "_", "size", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "more", ")", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["mt76", "fix", "array", "overflow", "on", "receiving", "too", "many", "fragments", "for", "a", "packet"]}
{"code_tokens": ["int", "_", "_", "init", "omap", "_", "init", "_", "opp", "_", "table", "(", "struct", "omap", "_", "opp", "_", "def", "*", "opp", "_", "def", ",", "<nl>", "omap", "_", "table", "_", "init", "=", "1", ";", "<nl>", "<nl>", "/", "*", "Lets", "now", "register", "with", "OPP", "library", "*", "/", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "opp", "_", "def", "_", "size", ";", "i", "+", "+", ")", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "opp", "_", "def", "_", "size", ";", "i", "+", "+", ",", "opp", "_", "def", "+", "+", ")", "{", "<nl>", "struct", "omap", "_", "hwmod", "*", "oh", ";", "<nl>", "struct", "device", "*", "dev", ";", "<nl>", "<nl>", "int", "_", "_", "init", "omap", "_", "init", "_", "opp", "_", "table", "(", "struct", "omap", "_", "opp", "_", "def", "*", "opp", "_", "def", ",", "<nl>", "_", "_", "func", "_", "_", ",", "opp", "_", "def", "-", ">", "freq", ",", "<nl>", "opp", "_", "def", "-", ">", "hwmod", "_", "name", ",", "i", ",", "r", ")", ";", "<nl>", "}", "<nl>", "-", "opp", "_", "def", "+", "+", ";", "<nl>", "}", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["ARM", "OMAP2", "OPP", "Fix", "to", "ensure", "check", "of", "right", "oppdef", "after", "bad", "one"]}
{"code_tokens": ["static", "int", "_", "_", "cpu", "_", "find", "_", "by", "(", "int", "(", "*", "compare", ")", "(", "int", ",", "int", ",", "void", "*", ")", ",", "void", "*", "compare", "_", "arg", ",", "<nl>", "int", "err", "=", "check", "_", "cpu", "_", "node", "(", "dp", "-", ">", "node", ",", "&", "cur", "_", "inst", ",", "<nl>", "compare", ",", "compare", "_", "arg", ",", "<nl>", "prom", "_", "node", ",", "mid", ")", ";", "<nl>", "-", "if", "(", "!", "err", ")", "<nl>", "+", "if", "(", "!", "err", ")", "{", "<nl>", "+", "of", "_", "node", "_", "put", "(", "dp", ")", ";", "<nl>", "return", "0", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "return", "-", "ENODEV", ";", "<nl>"], "docstring_tokens": ["SPARC", "Add", "missing", "of_node_put"]}
{"code_tokens": ["_", "_", "tree", "_", "mod", "_", "log", "_", "free", "_", "eb", "(", "struct", "btrfs", "_", "fs", "_", "info", "*", "fs", "_", "info", ",", "struct", "extent", "_", "buffer", "*", "eb", ")", "<nl>", "u32", "nritems", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "if", "(", "btrfs", "_", "header", "_", "level", "(", "eb", ")", "=", "=", "0", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "nritems", "=", "btrfs", "_", "header", "_", "nritems", "(", "eb", ")", ";", "<nl>", "for", "(", "i", "=", "nritems", "-", "1", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "<nl>", "ret", "=", "tree", "_", "mod", "_", "log", "_", "insert", "_", "key", "_", "locked", "(", "fs", "_", "info", ",", "eb", ",", "i", ",", "<nl>"], "docstring_tokens": ["Btrfs", "don", "t", "run", "__tree_mod_log_free_eb", "on", "leaves"]}
{"code_tokens": ["ssize", "_", "t", "btrfs", "_", "listxattr", "(", "struct", "dentry", "*", "dentry", ",", "char", "*", "buffer", ",", "size", "_", "t", "size", ")", "<nl>", "<nl>", "if", "(", "!", "buffer", "|", "|", "(", "name", "_", "len", "+", "1", ")", ">", "size", "_", "left", ")", "{", "<nl>", "ret", "=", "-", "ERANGE", ";", "<nl>", "-", "break", ";", "<nl>", "+", "goto", "err", ";", "<nl>", "}", "<nl>", "<nl>", "name", "_", "ptr", "=", "(", "unsigned", "long", ")", "(", "di", "+", "1", ")", ";", "<nl>"], "docstring_tokens": ["Btrfs", "fix", "return", "value", "from", "btrfs_listxattr", "when", "buffer", "size", "is", "too", "small"]}
{"code_tokens": ["#", "include", "<", "net", "/", "strparser", ".", "h", ">", "<nl>", "#", "include", "<", "net", "/", "tls", ".", "h", ">", "<nl>", "<nl>", "+", "#", "define", "MAX", "_", "IV", "_", "SIZE", "TLS", "_", "CIPHER", "_", "AES", "_", "GCM", "_", "128", "_", "IV", "_", "SIZE", "<nl>", "+", "<nl>", "static", "int", "tls", "_", "do", "_", "decryption", "(", "struct", "sock", "*", "sk", ",", "<nl>", "struct", "scatterlist", "*", "sgin", ",", "<nl>", "struct", "scatterlist", "*", "sgout", ",", "<nl>", "static", "int", "decrypt", "_", "skb", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "{", "<nl>", "struct", "tls", "_", "context", "*", "tls", "_", "ctx", "=", "tls", "_", "get", "_", "ctx", "(", "sk", ")", ";", "<nl>", "struct", "tls", "_", "sw", "_", "context", "*", "ctx", "=", "tls", "_", "sw", "_", "ctx", "(", "tls", "_", "ctx", ")", ";", "<nl>", "-", "char", "iv", "[", "TLS", "_", "CIPHER", "_", "AES", "_", "GCM", "_", "128", "_", "SALT", "_", "SIZE", "+", "tls", "_", "ctx", "-", ">", "rx", ".", "iv", "_", "size", "]", ";", "<nl>", "+", "char", "iv", "[", "TLS", "_", "CIPHER", "_", "AES", "_", "GCM", "_", "128", "_", "SALT", "_", "SIZE", "+", "MAX", "_", "IV", "_", "SIZE", "]", ";", "<nl>", "struct", "scatterlist", "sgin", "_", "arr", "[", "MAX", "_", "SKB", "_", "FRAGS", "+", "2", "]", ";", "<nl>", "struct", "scatterlist", "*", "sgin", "=", "&", "sgin", "_", "arr", "[", "0", "]", ";", "<nl>", "struct", "strp", "_", "msg", "*", "rxm", "=", "strp", "_", "msg", "(", "skb", ")", ";", "<nl>", "int", "tls", "_", "set", "_", "sw", "_", "offload", "(", "struct", "sock", "*", "sk", ",", "struct", "tls", "_", "context", "*", "ctx", ",", "int", "tx", ")", "<nl>", "goto", "free", "_", "priv", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Sanity", "-", "check", "the", "IV", "size", "for", "stack", "allocations", ".", "*", "/", "<nl>", "+", "if", "(", "iv", "_", "size", ">", "MAX", "_", "IV", "_", "SIZE", ")", "{", "<nl>", "+", "rc", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "free", "_", "priv", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "cctx", "-", ">", "prepend", "_", "size", "=", "TLS", "_", "HEADER", "_", "SIZE", "+", "nonce", "_", "size", ";", "<nl>", "cctx", "-", ">", "tag", "_", "size", "=", "tag", "_", "size", ";", "<nl>", "cctx", "-", ">", "overhead", "_", "size", "=", "cctx", "-", ">", "prepend", "_", "size", "+", "cctx", "-", ">", "tag", "_", "size", ";", "<nl>"], "docstring_tokens": ["net", "tls", "Remove", "VLA", "usage"]}
{"code_tokens": ["static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "{", "<nl>", "int", "i", "=", "0", ";", "<nl>", "unsigned", "char", "*", "fp", "=", "(", "char", "*", ")", "firmwarePtr", ";", "<nl>", "-", "unsigned", "char", "*", "firmwareBinary", "=", "NULL", ";", "<nl>", "+", "unsigned", "char", "*", "firmwareBinary", ";", "<nl>", "int", "res", "=", "0", ";", "<nl>", "int", "maxAddr", "=", "0", ";", "<nl>", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "j", "+", "+", ";", "<nl>", "if", "(", "j", ">", "=", "sizeof", "(", "buf", ")", ")", "{", "<nl>", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "bogus", "firmware", "file", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "<nl>", "if", "(", "buf", "[", "0", "]", "!", "=", "'", ":", "'", ")", "{", "<nl>", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "upload", ":", "not", "an", "ihex", "record", ":", "%", "s", "\"", ",", "buf", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "<nl>", "if", "(", "maxAddr", ">", "=", "FIRMWARE", "_", "MAX", "_", "LEN", ")", "{", "<nl>", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "firmware", "upload", "goes", "beyond", "FX2", "RAM", "boundaries", ".", "\"", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "/", "/", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "off", "=", "%", "x", ",", "len", "=", "%", "x", ":", "\"", ",", "off", ",", "len", ")", ";", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "<nl>", "if", "(", "type", "!", "=", "0", ")", "{", "<nl>", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "unsupported", "record", "type", ":", "%", "u", "\\", "n", "\"", ",", "type", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "{", "<nl>", "int", "i", "=", "0", ";", "<nl>", "unsigned", "char", "*", "fp", "=", "(", "char", "*", ")", "firmwarePtr", ";", "<nl>", "-", "unsigned", "char", "*", "firmwareBinary", "=", "NULL", ";", "<nl>", "+", "unsigned", "char", "*", "firmwareBinary", ";", "<nl>", "int", "res", "=", "0", ";", "<nl>", "int", "maxAddr", "=", "0", ";", "<nl>", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "j", "+", "+", ";", "<nl>", "if", "(", "j", ">", "=", "sizeof", "(", "buf", ")", ")", "{", "<nl>", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "bogus", "firmware", "file", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "<nl>", "if", "(", "buf", "[", "0", "]", "!", "=", "'", ":", "'", ")", "{", "<nl>", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "upload", ":", "not", "an", "ihex", "record", ":", "%", "s", "\"", ",", "buf", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "<nl>", "if", "(", "maxAddr", ">", "=", "FIRMWARE", "_", "MAX", "_", "LEN", ")", "{", "<nl>", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "firmware", "upload", "goes", "beyond", "FX2", "RAM", "boundaries", ".", "\"", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "/", "/", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "off", "=", "%", "x", ",", "len", "=", "%", "x", ":", "\"", ",", "off", ",", "len", ")", ";", "<nl>", "static", "int", "read", "_", "firmware", "(", "usbduxfastsub", "_", "t", "*", "usbduxfastsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "<nl>", "if", "(", "type", "!", "=", "0", ")", "{", "<nl>", "printk", "(", "\"", "comedi", "_", ":", "usbduxfast", ":", "unsupported", "record", "type", ":", "%", "u", "\\", "n", "\"", ",", "type", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "read", "_", "firmware", "(", "struct", "usbduxsub", "*", "usbduxsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "struct", "device", "*", "dev", "=", "&", "usbduxsub", "-", ">", "interface", "-", ">", "dev", ";", "<nl>", "int", "i", "=", "0", ";", "<nl>", "unsigned", "char", "*", "fp", "=", "(", "char", "*", ")", "firmwarePtr", ";", "<nl>", "-", "unsigned", "char", "*", "firmwareBinary", "=", "NULL", ";", "<nl>", "+", "unsigned", "char", "*", "firmwareBinary", ";", "<nl>", "int", "res", "=", "0", ";", "<nl>", "int", "maxAddr", "=", "0", ";", "<nl>", "<nl>", "static", "int", "read", "_", "firmware", "(", "struct", "usbduxsub", "*", "usbduxsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "j", "+", "+", ";", "<nl>", "if", "(", "j", ">", "=", "sizeof", "(", "buf", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "comedi", "_", ":", "bogus", "firmware", "file", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "int", "read", "_", "firmware", "(", "struct", "usbduxsub", "*", "usbduxsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "if", "(", "buf", "[", "0", "]", "!", "=", "'", ":", "'", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "comedi", "_", ":", "upload", ":", "not", "an", "ihex", "record", ":", "%", "s", "\"", ",", "<nl>", "buf", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "read", "_", "firmware", "(", "struct", "usbduxsub", "*", "usbduxsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "if", "(", "maxAddr", ">", "=", "FIRMWARE", "_", "MAX", "_", "LEN", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "comedi", "_", ":", "firmware", "upload", "goes", "\"", "<nl>", "\"", "beyond", "FX2", "RAM", "boundaries", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "/", "*", "dev", "_", "dbg", "(", "dev", ",", "\"", "comedi", "_", ":", "off", "=", "%", "x", ",", "len", "=", "%", "x", ":", "\\", "n", "\"", ",", "off", ",", "len", ")", ";", "*", "/", "<nl>", "static", "int", "read", "_", "firmware", "(", "struct", "usbduxsub", "*", "usbduxsub", ",", "void", "*", "firmwarePtr", ",", "<nl>", "if", "(", "type", "!", "=", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "comedi", "_", ":", "unsupported", "record", "type", ":", "%", "u", "\\", "n", "\"", ",", "<nl>", "type", ")", ";", "<nl>", "+", "kfree", "(", "firmwareBinary", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Staging", "comedi", "introduce", "missing", "kfree"]}
{"code_tokens": ["static", "void", "_", "_", "ccw", "_", "device", "_", "pm", "_", "restore", "(", "struct", "ccw", "_", "device", "*", "cdev", ")", "<nl>", "*", "available", "again", ".", "Kick", "re", "-", "detection", ".", "<nl>", "*", "/", "<nl>", "cdev", "-", ">", "private", "-", ">", "flags", ".", "resuming", "=", "1", ";", "<nl>", "+", "cdev", "-", ">", "private", "-", ">", "path", "_", "new", "_", "mask", "=", "LPM", "_", "ANYPATH", ";", "<nl>", "css", "_", "schedule", "_", "eval", "(", "sch", "-", ">", "schid", ")", ";", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "sch", "-", ">", "lock", ")", ";", "<nl>", "css", "_", "complete", "_", "work", "(", ")", ";", "<nl>"], "docstring_tokens": ["S390", "cio", "path_event", "overindication", "after", "resume"]}
{"code_tokens": ["static", "int", "atmci", "_", "regs", "_", "show", "(", "struct", "seq", "_", "file", "*", "s", ",", "void", "*", "v", ")", "<nl>", "atmci", "_", "show", "_", "status", "_", "reg", "(", "s", ",", "\"", "SR", "\"", ",", "buf", "[", "MCI", "_", "SR", "/", "4", "]", ")", ";", "<nl>", "atmci", "_", "show", "_", "status", "_", "reg", "(", "s", ",", "\"", "IMR", "\"", ",", "buf", "[", "MCI", "_", "IMR", "/", "4", "]", ")", ";", "<nl>", "<nl>", "+", "kfree", "(", "buf", ")", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["atmel", "mci", "Fix", "memory", "leak", "in", "atmci_regs_show"]}
{"code_tokens": ["static", "int", "ov5642", "_", "set", "_", "fmt", "(", "struct", "v4l2", "_", "subdev", "*", "sd", ",", "<nl>", "mf", "-", ">", "field", "=", "V4L2", "_", "FIELD", "_", "NONE", ";", "<nl>", "<nl>", "if", "(", "format", "-", ">", "which", "=", "=", "V4L2", "_", "SUBDEV", "_", "FORMAT", "_", "ACTIVE", ")", "<nl>", "-", "priv", "-", ">", "fmt", "=", "ov5642", "_", "find", "_", "datafmt", "(", "mf", "-", ">", "code", ")", ";", "<nl>", "+", "priv", "-", ">", "fmt", "=", "fmt", ";", "<nl>", "else", "<nl>", "cfg", "-", ">", "try", "_", "fmt", "=", "*", "mf", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["media", "ov5642", "avoid", "calling", "ov5642_find_datafmt", "twice"]}
{"code_tokens": ["static", "int", "hdlcdev", "_", "ioctl", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "ifreq", "*", "ifr", ",", "int", "cmd", ")", "<nl>", "HDLC", "_", "FLAG", "_", "TXC", "_", "TXCPIN", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "DPLL", "|", "<nl>", "HDLC", "_", "FLAG", "_", "TXC", "_", "BRG", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "RXCPIN", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "new", "_", "line", ",", "0", ",", "sizeof", "(", "new", "_", "line", ")", ")", ";", "<nl>", "switch", "(", "flags", ")", "{", "<nl>", "case", "(", "HDLC", "_", "FLAG", "_", "RXC", "_", "RXCPIN", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "TXCPIN", ")", ":", "new", "_", "line", ".", "clock", "_", "type", "=", "CLOCK", "_", "EXT", ";", "break", ";", "<nl>", "case", "(", "HDLC", "_", "FLAG", "_", "RXC", "_", "BRG", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "BRG", ")", ":", "new", "_", "line", ".", "clock", "_", "type", "=", "CLOCK", "_", "INT", ";", "break", ";", "mmm", "drivers", "/", "tty", "/", "synclink", ".", "c", "<nl>", "static", "int", "hdlcdev", "_", "ioctl", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "ifreq", "*", "ifr", ",", "int", "cmd", ")", "<nl>", "HDLC", "_", "FLAG", "_", "TXC", "_", "TXCPIN", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "DPLL", "|", "<nl>", "HDLC", "_", "FLAG", "_", "TXC", "_", "BRG", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "RXCPIN", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "new", "_", "line", ",", "0", ",", "sizeof", "(", "new", "_", "line", ")", ")", ";", "<nl>", "switch", "(", "flags", ")", "{", "<nl>", "case", "(", "HDLC", "_", "FLAG", "_", "RXC", "_", "RXCPIN", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "TXCPIN", ")", ":", "new", "_", "line", ".", "clock", "_", "type", "=", "CLOCK", "_", "EXT", ";", "break", ";", "<nl>", "case", "(", "HDLC", "_", "FLAG", "_", "RXC", "_", "BRG", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "BRG", ")", ":", "new", "_", "line", ".", "clock", "_", "type", "=", "CLOCK", "_", "INT", ";", "break", ";", "<nl>", "static", "int", "hdlcdev", "_", "ioctl", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "ifreq", "*", "ifr", ",", "int", "cmd", ")", "<nl>", "HDLC", "_", "FLAG", "_", "TXC", "_", "TXCPIN", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "DPLL", "|", "<nl>", "HDLC", "_", "FLAG", "_", "TXC", "_", "BRG", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "RXCPIN", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "new", "_", "line", ",", "0", ",", "sizeof", "(", "new", "_", "line", ")", ")", ";", "<nl>", "switch", "(", "flags", ")", "{", "<nl>", "case", "(", "HDLC", "_", "FLAG", "_", "RXC", "_", "RXCPIN", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "TXCPIN", ")", ":", "new", "_", "line", ".", "clock", "_", "type", "=", "CLOCK", "_", "EXT", ";", "break", ";", "<nl>", "case", "(", "HDLC", "_", "FLAG", "_", "RXC", "_", "BRG", "|", "HDLC", "_", "FLAG", "_", "TXC", "_", "BRG", ")", ":", "new", "_", "line", ".", "clock", "_", "type", "=", "CLOCK", "_", "INT", ";", "break", ";", "<nl>"], "docstring_tokens": ["synclink", "fix", "info", "leak", "in", "ioctl"]}
{"code_tokens": ["static", "int", "l2cap", "_", "parse", "_", "conf", "_", "req", "(", "struct", "l2cap", "_", "chan", "*", "chan", ",", "void", "*", "data", ",", "size", "_", "t", "data", "<nl>", "l2cap", "_", "add", "_", "conf", "_", "opt", "(", "&", "ptr", ",", "L2CAP", "_", "CONF", "_", "RFC", ",", "<nl>", "sizeof", "(", "rfc", ")", ",", "(", "unsigned", "long", ")", "&", "rfc", ",", "endptr", "-", "ptr", ")", ";", "<nl>", "<nl>", "-", "if", "(", "test", "_", "bit", "(", "FLAG", "_", "EFS", "_", "ENABLE", ",", "&", "chan", "-", ">", "flags", ")", ")", "{", "<nl>", "+", "if", "(", "remote", "_", "efs", "&", "&", "<nl>", "+", "test", "_", "bit", "(", "FLAG", "_", "EFS", "_", "ENABLE", ",", "&", "chan", "-", ">", "flags", ")", ")", "{", "<nl>", "chan", "-", ">", "remote", "_", "id", "=", "efs", ".", "id", ";", "<nl>", "chan", "-", ">", "remote", "_", "stype", "=", "efs", ".", "stype", ";", "<nl>", "chan", "-", ">", "remote", "_", "msdu", "=", "le16", "_", "to", "_", "cpu", "(", "efs", ".", "msdu", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "L2CAP", "Fix", "attempting", "to", "access", "uninitialized", "memory"]}
{"code_tokens": ["static", "int", "interface", "_", "tx", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "soft", "_", "iface", ")", "<nl>", "struct", "hard", "_", "iface", "*", "primary", "_", "if", "=", "NULL", ";", "<nl>", "struct", "bcast", "_", "packet", "*", "bcast", "_", "packet", ";", "<nl>", "struct", "vlan", "_", "ethhdr", "*", "vhdr", ";", "<nl>", "+", "static", "const", "uint8", "_", "t", "stp", "_", "addr", "[", "ETH", "_", "ALEN", "]", "=", "{", "0x01", ",", "0x80", ",", "0xC2", ",", "0x00", ",", "0x00", ",", "<nl>", "+", "0x00", "}", ";", "<nl>", "unsigned", "int", "header", "_", "len", "=", "0", ";", "<nl>", "int", "data", "_", "len", "=", "skb", "-", ">", "len", ",", "ret", ";", "<nl>", "short", "vid", "=", "-", "1", ";", "<nl>", "static", "int", "interface", "_", "tx", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "soft", "_", "iface", ")", "<nl>", "/", "*", "Register", "the", "client", "MAC", "in", "the", "transtable", "*", "/", "<nl>", "tt", "_", "local", "_", "add", "(", "soft", "_", "iface", ",", "ethhdr", "-", ">", "h", "_", "source", ",", "skb", "-", ">", "skb", "_", "iif", ")", ";", "<nl>", "<nl>", "+", "/", "*", "don", "'", "t", "accept", "stp", "packets", ".", "STP", "does", "not", "help", "in", "meshes", ".", "<nl>", "+", "*", "better", "use", "the", "bridge", "loop", "avoidance", ".", ".", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "compare", "_", "eth", "(", "ethhdr", "-", ">", "h", "_", "dest", ",", "stp", "_", "addr", ")", ")", "<nl>", "+", "goto", "dropped", ";", "<nl>", "+", "<nl>", "if", "(", "is", "_", "multicast", "_", "ether", "_", "addr", "(", "ethhdr", "-", ">", "h", "_", "dest", ")", ")", "{", "<nl>", "do", "_", "bcast", "=", "true", ";", "<nl>"], "docstring_tokens": ["batman", "adv", "drop", "STP", "over", "batman"]}
{"code_tokens": ["void", "oz", "_", "hcd", "_", "pd", "_", "reset", "(", "void", "*", "hpd", ",", "void", "*", "hport", ")", "<nl>", "/", "*", "<nl>", "*", "Context", ":", "softirq", "<nl>", "*", "/", "<nl>", "-", "void", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "int", "status", ",", "const", "u8", "*", "desc", ",", "<nl>", "-", "int", "length", ",", "int", "offset", ",", "int", "total", "_", "size", ")", "<nl>", "+", "void", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "u8", "status", ",", "const", "u8", "*", "desc", ",", "<nl>", "+", "u8", "length", ",", "u16", "offset", ",", "u16", "total", "_", "size", ")", "<nl>", "{", "<nl>", "struct", "oz", "_", "port", "*", "port", "=", "hport", ";", "<nl>", "struct", "urb", "*", "urb", ";", "<nl>", "void", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "int", "status", ",", "const", "u8", "*", "desc", ",", "<nl>", "if", "(", "!", "urb", ")", "<nl>", "return", ";", "<nl>", "if", "(", "status", "=", "=", "0", ")", "{", "<nl>", "-", "int", "copy", "_", "len", ";", "<nl>", "-", "int", "required", "_", "size", "=", "urb", "-", ">", "transfer", "_", "buffer", "_", "length", ";", "<nl>", "+", "unsigned", "int", "copy", "_", "len", ";", "<nl>", "+", "unsigned", "int", "required", "_", "size", "=", "urb", "-", ">", "transfer", "_", "buffer", "_", "length", ";", "<nl>", "<nl>", "if", "(", "required", "_", "size", ">", "total", "_", "size", ")", "<nl>", "required", "_", "size", "=", "total", "_", "size", ";", "mmm", "drivers", "/", "staging", "/", "ozwpan", "/", "ozusbif", ".", "h", "<nl>", "void", "oz", "_", "hcd", "_", "pd", "_", "reset", "(", "void", "*", "hpd", ",", "void", "*", "hport", ")", "<nl>", "/", "*", "<nl>", "*", "Context", ":", "softirq", "<nl>", "*", "/", "<nl>", "-", "void", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "int", "status", ",", "const", "u8", "*", "desc", ",", "<nl>", "-", "int", "length", ",", "int", "offset", ",", "int", "total", "_", "size", ")", "<nl>", "+", "void", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "u8", "status", ",", "const", "u8", "*", "desc", ",", "<nl>", "+", "u8", "length", ",", "u16", "offset", ",", "u16", "total", "_", "size", ")", "<nl>", "{", "<nl>", "struct", "oz", "_", "port", "*", "port", "=", "hport", ";", "<nl>", "struct", "urb", "*", "urb", ";", "<nl>", "void", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "int", "status", ",", "const", "u8", "*", "desc", ",", "<nl>", "if", "(", "!", "urb", ")", "<nl>", "return", ";", "<nl>", "if", "(", "status", "=", "=", "0", ")", "{", "<nl>", "-", "int", "copy", "_", "len", ";", "<nl>", "-", "int", "required", "_", "size", "=", "urb", "-", ">", "transfer", "_", "buffer", "_", "length", ";", "<nl>", "+", "unsigned", "int", "copy", "_", "len", ";", "<nl>", "+", "unsigned", "int", "required", "_", "size", "=", "urb", "-", ">", "transfer", "_", "buffer", "_", "length", ";", "<nl>", "<nl>", "if", "(", "required", "_", "size", ">", "total", "_", "size", ")", "<nl>", "required", "_", "size", "=", "total", "_", "size", ";", "<nl>", "void", "oz", "_", "usb", "_", "request", "_", "heartbeat", "(", "void", "*", "hpd", ")", ";", "<nl>", "<nl>", "/", "*", "Confirmation", "functions", ".", "<nl>", "*", "/", "<nl>", "-", "void", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "int", "status", ",", "<nl>", "-", "const", "u8", "*", "desc", ",", "int", "length", ",", "int", "offset", ",", "int", "total", "_", "size", ")", ";", "<nl>", "+", "void", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "u8", "status", ",", "<nl>", "+", "const", "u8", "*", "desc", ",", "u8", "length", ",", "u16", "offset", ",", "u16", "total", "_", "size", ")", ";", "<nl>", "void", "oz", "_", "hcd", "_", "control", "_", "cnf", "(", "void", "*", "hport", ",", "u8", "req", "_", "id", ",", "u8", "rcode", ",", "<nl>", "const", "u8", "*", "data", ",", "int", "data", "_", "len", ")", ";", "<nl>"], "docstring_tokens": ["ozwpan", "Use", "unsigned", "ints", "to", "prevent", "heap", "overflow"]}
{"code_tokens": ["unsigned", "int", "solo", "_", "eeprom", "_", "ewen", "(", "struct", "solo", "_", "dev", "*", "solo", "_", "dev", ",", "int", "w", "_", "en", ")", "<nl>", "_", "_", "be16", "solo", "_", "eeprom", "_", "read", "(", "struct", "solo", "_", "dev", "*", "solo", "_", "dev", ",", "int", "loc", ")", "<nl>", "{", "<nl>", "int", "read", "_", "cmd", "=", "loc", "|", "(", "EE", "_", "READ", "_", "CMD", "<", "<", "ADDR", "_", "LEN", ")", ";", "<nl>", "-", "unsigned", "short", "retval", "=", "0", ";", "<nl>", "+", "u16", "retval", "=", "0", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "solo", "_", "eeprom", "_", "cmd", "(", "solo", "_", "dev", ",", "read", "_", "cmd", ")", ";", "<nl>"], "docstring_tokens": ["media", "solo6x10", "Fix", "solo_eeprom_read", "retval", "type"]}
{"code_tokens": ["struct", "guest", "_", "walker", "{", "<nl>", "gpa", "_", "t", "pte", "_", "gpa", "[", "PT", "_", "MAX", "_", "FULL", "_", "LEVELS", "]", ";", "<nl>", "pt", "_", "element", "_", "t", "_", "_", "user", "*", "ptep", "_", "user", "[", "PT", "_", "MAX", "_", "FULL", "_", "LEVELS", "]", ";", "<nl>", "bool", "pte", "_", "writable", "[", "PT", "_", "MAX", "_", "FULL", "_", "LEVELS", "]", ";", "<nl>", "-", "unsigned", "pt", "_", "access", ";", "<nl>", "-", "unsigned", "pte", "_", "access", ";", "<nl>", "+", "unsigned", "int", "pt", "_", "access", "[", "PT", "_", "MAX", "_", "FULL", "_", "LEVELS", "]", ";", "<nl>", "+", "unsigned", "int", "pte", "_", "access", ";", "<nl>", "gfn", "_", "t", "gfn", ";", "<nl>", "struct", "x86", "_", "exception", "fault", ";", "<nl>", "}", ";", "<nl>", "static", "int", "FNAME", "(", "walk", "_", "addr", "_", "generic", ")", "(", "struct", "guest", "_", "walker", "*", "walker", ",", "<nl>", "}", "<nl>", "<nl>", "walker", "-", ">", "ptes", "[", "walker", "-", ">", "level", "-", "1", "]", "=", "pte", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Convert", "to", "ACC", "_", "*", "_", "MASK", "flags", "for", "struct", "guest", "_", "walker", ".", "*", "/", "<nl>", "+", "walker", "-", ">", "pt", "_", "access", "[", "walker", "-", ">", "level", "-", "1", "]", "=", "FNAME", "(", "gpte", "_", "access", ")", "(", "pt", "_", "access", "^", "walk", "_", "nx", "_", "mask", ")", ";", "<nl>", "}", "while", "(", "!", "is", "_", "last", "_", "gpte", "(", "mmu", ",", "walker", "-", ">", "level", ",", "pte", ")", ")", ";", "<nl>", "<nl>", "pte", "_", "pkey", "=", "FNAME", "(", "gpte", "_", "pkeys", ")", "(", "vcpu", ",", "pte", ")", ";", "<nl>", "accessed", "_", "dirty", "=", "have", "_", "ad", "?", "pte", "_", "access", "&", "PT", "_", "GUEST", "_", "ACCESSED", "_", "MASK", ":", "0", ";", "<nl>", "<nl>", "/", "*", "Convert", "to", "ACC", "_", "*", "_", "MASK", "flags", "for", "struct", "guest", "_", "walker", ".", "*", "/", "<nl>", "-", "walker", "-", ">", "pt", "_", "access", "=", "FNAME", "(", "gpte", "_", "access", ")", "(", "pt", "_", "access", "^", "walk", "_", "nx", "_", "mask", ")", ";", "<nl>", "walker", "-", ">", "pte", "_", "access", "=", "FNAME", "(", "gpte", "_", "access", ")", "(", "pte", "_", "access", "^", "walk", "_", "nx", "_", "mask", ")", ";", "<nl>", "errcode", "=", "permission", "_", "fault", "(", "vcpu", ",", "mmu", ",", "walker", "-", ">", "pte", "_", "access", ",", "pte", "_", "pkey", ",", "access", ")", ";", "<nl>", "if", "(", "unlikely", "(", "errcode", ")", ")", "<nl>", "static", "int", "FNAME", "(", "walk", "_", "addr", "_", "generic", ")", "(", "struct", "guest", "_", "walker", "*", "walker", ",", "<nl>", "}", "<nl>", "<nl>", "pgprintk", "(", "\"", "%", "s", ":", "pte", "%", "llx", "pte", "_", "access", "%", "x", "pt", "_", "access", "%", "x", "\\", "n", "\"", ",", "<nl>", "-", "_", "_", "func", "_", "_", ",", "(", "u64", ")", "pte", ",", "walker", "-", ">", "pte", "_", "access", ",", "walker", "-", ">", "pt", "_", "access", ")", ";", "<nl>", "+", "_", "_", "func", "_", "_", ",", "(", "u64", ")", "pte", ",", "walker", "-", ">", "pte", "_", "access", ",", "<nl>", "+", "walker", "-", ">", "pt", "_", "access", "[", "walker", "-", ">", "level", "-", "1", "]", ")", ";", "<nl>", "return", "1", ";", "<nl>", "<nl>", "error", ":", "<nl>", "static", "int", "FNAME", "(", "fetch", ")", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gpa", "_", "t", "addr", ",", "<nl>", "bool", "huge", "_", "page", "_", "disallowed", "=", "exec", "&", "&", "nx", "_", "huge", "_", "page", "_", "workaround", "_", "enabled", ";", "<nl>", "struct", "kvm", "_", "mmu", "_", "page", "*", "sp", "=", "NULL", ";", "<nl>", "struct", "kvm", "_", "shadow", "_", "walk", "_", "iterator", "it", ";", "<nl>", "-", "unsigned", "direct", "_", "access", ",", "access", "=", "gw", "-", ">", "pt", "_", "access", ";", "<nl>", "+", "unsigned", "int", "direct", "_", "access", ",", "access", ";", "<nl>", "int", "top", "_", "level", ",", "level", ",", "req", "_", "level", ",", "ret", ";", "<nl>", "gfn", "_", "t", "base", "_", "gfn", "=", "gw", "-", ">", "gfn", ";", "<nl>", "<nl>", "static", "int", "FNAME", "(", "fetch", ")", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gpa", "_", "t", "addr", ",", "<nl>", "sp", "=", "NULL", ";", "<nl>", "if", "(", "!", "is", "_", "shadow", "_", "present", "_", "pte", "(", "*", "it", ".", "sptep", ")", ")", "{", "<nl>", "table", "_", "gfn", "=", "gw", "-", ">", "table", "_", "gfn", "[", "it", ".", "level", "-", "2", "]", ";", "<nl>", "+", "access", "=", "gw", "-", ">", "pt", "_", "access", "[", "it", ".", "level", "-", "2", "]", ";", "<nl>", "sp", "=", "kvm", "_", "mmu", "_", "get", "_", "page", "(", "vcpu", ",", "table", "_", "gfn", ",", "addr", ",", "it", ".", "level", "-", "1", ",", "<nl>", "false", ",", "access", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["KVM", "X86", "MMU", "Use", "the", "correct", "inherited", "permissions", "to", "get", "shadow", "page"]}
{"code_tokens": ["struct", "omap2", "_", "hsmmc", "_", "info", "{", "<nl>", "bool", "nonremovable", ";", "/", "*", "Nonremovable", "e", ".", "g", ".", "eMMC", "*", "/", "<nl>", "bool", "power", "_", "saving", ";", "/", "*", "Try", "to", "sleep", "or", "power", "off", "when", "possible", "*", "/", "<nl>", "bool", "no", "_", "off", ";", "/", "*", "power", "_", "saving", "and", "power", "is", "not", "to", "go", "off", "*", "/", "<nl>", "+", "bool", "no", "_", "off", "_", "init", ";", "/", "*", "no", "power", "off", "when", "not", "in", "MMC", "sleep", "state", "*", "/", "<nl>", "bool", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ";", "/", "*", "Regulator", "off", "remapped", "to", "sleep", "*", "/", "<nl>", "int", "gpio", "_", "cd", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "int", "gpio", "_", "wp", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "mmm", "drivers", "/", "mmc", "/", "host", "/", "omap", "_", "hsmmc", ".", "c", "<nl>", "struct", "omap2", "_", "hsmmc", "_", "info", "{", "<nl>", "bool", "nonremovable", ";", "/", "*", "Nonremovable", "e", ".", "g", ".", "eMMC", "*", "/", "<nl>", "bool", "power", "_", "saving", ";", "/", "*", "Try", "to", "sleep", "or", "power", "off", "when", "possible", "*", "/", "<nl>", "bool", "no", "_", "off", ";", "/", "*", "power", "_", "saving", "and", "power", "is", "not", "to", "go", "off", "*", "/", "<nl>", "+", "bool", "no", "_", "off", "_", "init", ";", "/", "*", "no", "power", "off", "when", "not", "in", "MMC", "sleep", "state", "*", "/", "<nl>", "bool", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ";", "/", "*", "Regulator", "off", "remapped", "to", "sleep", "*", "/", "<nl>", "int", "gpio", "_", "cd", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "int", "gpio", "_", "wp", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "static", "int", "omap", "_", "hsmmc", "_", "reg", "_", "get", "(", "struct", "omap", "_", "hsmmc", "_", "host", "*", "host", ")", "<nl>", "reg", "=", "regulator", "_", "get", "(", "host", "-", ">", "dev", ",", "\"", "vmmc", "_", "aux", "\"", ")", ";", "<nl>", "host", "-", ">", "vcc", "_", "aux", "=", "IS", "_", "ERR", "(", "reg", ")", "?", "NULL", ":", "reg", ";", "<nl>", "<nl>", "+", "/", "*", "For", "eMMC", "do", "not", "power", "off", "when", "not", "in", "sleep", "state", "*", "/", "<nl>", "+", "if", "(", "mmc", "_", "slot", "(", "host", ")", ".", "no", "_", "regulator", "_", "off", "_", "init", ")", "<nl>", "+", "return", "0", ";", "<nl>", "/", "*", "<nl>", "*", "UGLY", "HACK", ":", "workaround", "regulator", "framework", "bugs", ".", "<nl>", "*", "When", "the", "bootloader", "leaves", "a", "supply", "active", ",", "it", "'", "smmm", "arch", "/", "arm", "/", "plat", "-", "omap", "/", "include", "/", "plat", "/", "mmc", ".", "h", "<nl>", "struct", "omap2", "_", "hsmmc", "_", "info", "{", "<nl>", "bool", "nonremovable", ";", "/", "*", "Nonremovable", "e", ".", "g", ".", "eMMC", "*", "/", "<nl>", "bool", "power", "_", "saving", ";", "/", "*", "Try", "to", "sleep", "or", "power", "off", "when", "possible", "*", "/", "<nl>", "bool", "no", "_", "off", ";", "/", "*", "power", "_", "saving", "and", "power", "is", "not", "to", "go", "off", "*", "/", "<nl>", "+", "bool", "no", "_", "off", "_", "init", ";", "/", "*", "no", "power", "off", "when", "not", "in", "MMC", "sleep", "state", "*", "/", "<nl>", "bool", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ";", "/", "*", "Regulator", "off", "remapped", "to", "sleep", "*", "/", "<nl>", "int", "gpio", "_", "cd", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "int", "gpio", "_", "wp", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "static", "int", "omap", "_", "hsmmc", "_", "reg", "_", "get", "(", "struct", "omap", "_", "hsmmc", "_", "host", "*", "host", ")", "<nl>", "reg", "=", "regulator", "_", "get", "(", "host", "-", ">", "dev", ",", "\"", "vmmc", "_", "aux", "\"", ")", ";", "<nl>", "host", "-", ">", "vcc", "_", "aux", "=", "IS", "_", "ERR", "(", "reg", ")", "?", "NULL", ":", "reg", ";", "<nl>", "<nl>", "+", "/", "*", "For", "eMMC", "do", "not", "power", "off", "when", "not", "in", "sleep", "state", "*", "/", "<nl>", "+", "if", "(", "mmc", "_", "slot", "(", "host", ")", ".", "no", "_", "regulator", "_", "off", "_", "init", ")", "<nl>", "+", "return", "0", ";", "<nl>", "/", "*", "<nl>", "*", "UGLY", "HACK", ":", "workaround", "regulator", "framework", "bugs", ".", "<nl>", "*", "When", "the", "bootloader", "leaves", "a", "supply", "active", ",", "it", "'", "s", "<nl>", "struct", "omap", "_", "mmc", "_", "platform", "_", "data", "{", "<nl>", "/", "*", "If", "using", "power", "_", "saving", "and", "the", "MMC", "power", "is", "not", "to", "go", "off", "*", "/", "<nl>", "unsigned", "no", "_", "off", ":", "1", ";", "<nl>", "<nl>", "+", "/", "*", "eMMC", "does", "not", "handle", "power", "off", "when", "not", "in", "sleep", "state", "*", "/", "<nl>", "+", "unsigned", "no", "_", "regulator", "_", "off", "_", "init", ":", "1", ";", "<nl>", "+", "<nl>", "/", "*", "Regulator", "off", "remapped", "to", "sleep", "*", "/", "<nl>", "unsigned", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ":", "1", ";", "<nl>", "struct", "omap2", "_", "hsmmc", "_", "info", "{", "<nl>", "bool", "nonremovable", ";", "/", "*", "Nonremovable", "e", ".", "g", ".", "eMMC", "*", "/", "<nl>", "bool", "power", "_", "saving", ";", "/", "*", "Try", "to", "sleep", "or", "power", "off", "when", "possible", "*", "/", "<nl>", "bool", "no", "_", "off", ";", "/", "*", "power", "_", "saving", "and", "power", "is", "not", "to", "go", "off", "*", "/", "<nl>", "+", "bool", "no", "_", "off", "_", "init", ";", "/", "*", "no", "power", "off", "when", "not", "in", "MMC", "sleep", "state", "*", "/", "<nl>", "bool", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ";", "/", "*", "Regulator", "off", "remapped", "to", "sleep", "*", "/", "<nl>", "int", "gpio", "_", "cd", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "int", "gpio", "_", "wp", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "static", "int", "omap", "_", "hsmmc", "_", "reg", "_", "get", "(", "struct", "omap", "_", "hsmmc", "_", "host", "*", "host", ")", "<nl>", "reg", "=", "regulator", "_", "get", "(", "host", "-", ">", "dev", ",", "\"", "vmmc", "_", "aux", "\"", ")", ";", "<nl>", "host", "-", ">", "vcc", "_", "aux", "=", "IS", "_", "ERR", "(", "reg", ")", "?", "NULL", ":", "reg", ";", "<nl>", "<nl>", "+", "/", "*", "For", "eMMC", "do", "not", "power", "off", "when", "not", "in", "sleep", "state", "*", "/", "<nl>", "+", "if", "(", "mmc", "_", "slot", "(", "host", ")", ".", "no", "_", "regulator", "_", "off", "_", "init", ")", "<nl>", "+", "return", "0", ";", "<nl>", "/", "*", "<nl>", "*", "UGLY", "HACK", ":", "workaround", "regulator", "framework", "bugs", ".", "<nl>", "*", "When", "the", "bootloader", "leaves", "a", "supply", "active", ",", "it", "'", "s", "<nl>", "struct", "omap", "_", "mmc", "_", "platform", "_", "data", "{", "<nl>", "/", "*", "If", "using", "power", "_", "saving", "and", "the", "MMC", "power", "is", "not", "to", "go", "off", "*", "/", "<nl>", "unsigned", "no", "_", "off", ":", "1", ";", "<nl>", "<nl>", "+", "/", "*", "eMMC", "does", "not", "handle", "power", "off", "when", "not", "in", "sleep", "state", "*", "/", "<nl>", "+", "unsigned", "no", "_", "regulator", "_", "off", "_", "init", ":", "1", ";", "<nl>", "+", "<nl>", "/", "*", "Regulator", "off", "remapped", "to", "sleep", "*", "/", "<nl>", "unsigned", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ":", "1", ";", "<nl>", "<nl>", "static", "struct", "omap2", "_", "hsmmc", "_", "info", "mmc", "[", "]", "=", "{", "<nl>", ".", "gpio", "_", "wp", "=", "-", "EINVAL", ",", "<nl>", ".", "nonremovable", "=", "true", ",", "<nl>", ".", "ocr", "_", "mask", "=", "MMC", "_", "VDD", "_", "29", "_", "30", ",", "<nl>", "+", ".", "no", "_", "off", "_", "init", "=", "true", ",", "<nl>", "}", ",", "<nl>", "{", "<nl>", ".", "mmc", "=", "1", ",", "mmm", "arch", "/", "arm", "/", "mach", "-", "omap2", "/", "hsmmc", ".", "c", "<nl>", "struct", "omap2", "_", "hsmmc", "_", "info", "{", "<nl>", "bool", "nonremovable", ";", "/", "*", "Nonremovable", "e", ".", "g", ".", "eMMC", "*", "/", "<nl>", "bool", "power", "_", "saving", ";", "/", "*", "Try", "to", "sleep", "or", "power", "off", "when", "possible", "*", "/", "<nl>", "bool", "no", "_", "off", ";", "/", "*", "power", "_", "saving", "and", "power", "is", "not", "to", "go", "off", "*", "/", "<nl>", "+", "bool", "no", "_", "off", "_", "init", ";", "/", "*", "no", "power", "off", "when", "not", "in", "MMC", "sleep", "state", "*", "/", "<nl>", "bool", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ";", "/", "*", "Regulator", "off", "remapped", "to", "sleep", "*", "/", "<nl>", "int", "gpio", "_", "cd", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "int", "gpio", "_", "wp", ";", "/", "*", "or", "-", "EINVAL", "*", "/", "<nl>", "static", "int", "omap", "_", "hsmmc", "_", "reg", "_", "get", "(", "struct", "omap", "_", "hsmmc", "_", "host", "*", "host", ")", "<nl>", "reg", "=", "regulator", "_", "get", "(", "host", "-", ">", "dev", ",", "\"", "vmmc", "_", "aux", "\"", ")", ";", "<nl>", "host", "-", ">", "vcc", "_", "aux", "=", "IS", "_", "ERR", "(", "reg", ")", "?", "NULL", ":", "reg", ";", "<nl>", "<nl>", "+", "/", "*", "For", "eMMC", "do", "not", "power", "off", "when", "not", "in", "sleep", "state", "*", "/", "<nl>", "+", "if", "(", "mmc", "_", "slot", "(", "host", ")", ".", "no", "_", "regulator", "_", "off", "_", "init", ")", "<nl>", "+", "return", "0", ";", "<nl>", "/", "*", "<nl>", "*", "UGLY", "HACK", ":", "workaround", "regulator", "framework", "bugs", ".", "<nl>", "*", "When", "the", "bootloader", "leaves", "a", "supply", "active", ",", "it", "'", "s", "<nl>", "struct", "omap", "_", "mmc", "_", "platform", "_", "data", "{", "<nl>", "/", "*", "If", "using", "power", "_", "saving", "and", "the", "MMC", "power", "is", "not", "to", "go", "off", "*", "/", "<nl>", "unsigned", "no", "_", "off", ":", "1", ";", "<nl>", "<nl>", "+", "/", "*", "eMMC", "does", "not", "handle", "power", "off", "when", "not", "in", "sleep", "state", "*", "/", "<nl>", "+", "unsigned", "no", "_", "regulator", "_", "off", "_", "init", ":", "1", ";", "<nl>", "+", "<nl>", "/", "*", "Regulator", "off", "remapped", "to", "sleep", "*", "/", "<nl>", "unsigned", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ":", "1", ";", "<nl>", "<nl>", "static", "struct", "omap2", "_", "hsmmc", "_", "info", "mmc", "[", "]", "=", "{", "<nl>", ".", "gpio", "_", "wp", "=", "-", "EINVAL", ",", "<nl>", ".", "nonremovable", "=", "true", ",", "<nl>", ".", "ocr", "_", "mask", "=", "MMC", "_", "VDD", "_", "29", "_", "30", ",", "<nl>", "+", ".", "no", "_", "off", "_", "init", "=", "true", ",", "<nl>", "}", ",", "<nl>", "{", "<nl>", ".", "mmc", "=", "1", ",", "<nl>", "static", "int", "_", "_", "init", "omap", "_", "hsmmc", "_", "pdata", "_", "init", "(", "struct", "omap2", "_", "hsmmc", "_", "info", "*", "c", ",", "<nl>", "if", "(", "c", "-", ">", "no", "_", "off", ")", "<nl>", "mmc", "-", ">", "slots", "[", "0", "]", ".", "no", "_", "off", "=", "1", ";", "<nl>", "<nl>", "+", "if", "(", "c", "-", ">", "no", "_", "off", "_", "init", ")", "<nl>", "+", "mmc", "-", ">", "slots", "[", "0", "]", ".", "no", "_", "regulator", "_", "off", "_", "init", "=", "c", "-", ">", "no", "_", "off", "_", "init", ";", "<nl>", "+", "<nl>", "if", "(", "c", "-", ">", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", ")", "<nl>", "mmc", "-", ">", "slots", "[", "0", "]", ".", "vcc", "_", "aux", "_", "disable", "_", "is", "_", "sleep", "=", "1", ";", "<nl>"], "docstring_tokens": ["ARM", "OMAP4", "MMC", "no", "regulator", "off", "during", "probe", "for", "eMMC"]}
{"code_tokens": ["static", "int", "s3c64xx", "_", "i2s", "_", "set", "_", "sysclk", "(", "struct", "snd", "_", "soc", "_", "dai", "*", "cpu", "_", "dai", ",", "<nl>", "struct", "clk", "*", "s3c64xx", "_", "i2s", "_", "get", "_", "clock", "(", "struct", "snd", "_", "soc", "_", "dai", "*", "dai", ")", "<nl>", "{", "<nl>", "struct", "s3c", "_", "i2sv2", "_", "info", "*", "i2s", "=", "to", "_", "info", "(", "dai", ")", ";", "<nl>", "+", "u32", "iismod", "=", "readl", "(", "i2s", "-", ">", "regs", "+", "S3C2412", "_", "IISMOD", ")", ";", "<nl>", "<nl>", "-", "return", "i2s", "-", ">", "iis", "_", "cclk", ";", "<nl>", "+", "if", "(", "iismod", "&", "S3C64XX", "_", "IISMOD", "_", "IMS", "_", "SYSMUX", ")", "<nl>", "+", "return", "i2s", "-", ">", "iis", "_", "cclk", ";", "<nl>", "+", "else", "<nl>", "+", "return", "i2s", "-", ">", "iis", "_", "pclk", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "s3c64xx", "_", "i2s", "_", "get", "_", "clock", ")", ";", "<nl>"], "docstring_tokens": ["ASoC", "Return", "correct", "codec", "clock", "in", "s3c64xx", "i2s"]}
{"code_tokens": ["static", "void", "pty", "_", "close", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "struct", "file", "*", "filp", ")", "<nl>", "mutex", "_", "unlock", "(", "&", "devpts", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "+", "tty", "_", "unlock", "(", "tty", ")", ";", "<nl>", "tty", "_", "vhangup", "(", "tty", "-", ">", "link", ")", ";", "<nl>", "+", "tty", "_", "lock", "(", "tty", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["tty", "drop", "the", "pty", "lock", "during", "hangup"]}
{"code_tokens": ["static", "int", "mv643xx", "_", "eth", "_", "receive", "_", "queue", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "struct", "pkt", "_", "info", "pkt", "_", "info", ";", "<nl>", "<nl>", "#", "ifdef", "MV643XX", "_", "NAPI", "<nl>", "-", "while", "(", "eth", "_", "port", "_", "receive", "(", "mp", ",", "&", "pkt", "_", "info", ")", "=", "=", "ETH", "_", "OK", "&", "&", "budget", ">", "0", ")", "{", "<nl>", "+", "while", "(", "budget", "-", "-", ">", "0", "&", "&", "eth", "_", "port", "_", "receive", "(", "mp", ",", "&", "pkt", "_", "info", ")", "=", "=", "ETH", "_", "OK", ")", "{", "<nl>", "#", "else", "<nl>", "while", "(", "eth", "_", "port", "_", "receive", "(", "mp", ",", "&", "pkt", "_", "info", ")", "=", "=", "ETH", "_", "OK", ")", "{", "<nl>", "#", "endif", "<nl>", "mp", "-", ">", "rx", "_", "ring", "_", "skbs", "-", "-", ";", "<nl>", "received", "_", "packets", "+", "+", ";", "<nl>", "-", "#", "ifdef", "MV643XX", "_", "NAPI", "<nl>", "-", "budget", "-", "-", ";", "<nl>", "-", "#", "endif", "<nl>", "+", "<nl>", "/", "*", "Update", "statistics", ".", "Note", "byte", "count", "includes", "4", "byte", "CRC", "count", "*", "/", "<nl>", "stats", "-", ">", "rx", "_", "packets", "+", "+", ";", "<nl>", "stats", "-", ">", "rx", "_", "bytes", "+", "=", "pkt", "_", "info", ".", "byte", "_", "cnt", ";", "<nl>"], "docstring_tokens": ["PATCH", "mv643xx", "fix", "skb", "memory", "leak"]}
{"code_tokens": ["static", "int", "synic", "_", "set", "_", "msr", "(", "struct", "kvm", "_", "vcpu", "_", "hv", "_", "synic", "*", "synic", ",", "<nl>", "struct", "kvm", "_", "vcpu", "*", "vcpu", "=", "hv", "_", "synic", "_", "to", "_", "vcpu", "(", "synic", ")", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "-", "if", "(", "!", "synic", "-", ">", "active", "&", "&", "!", "host", ")", "<nl>", "+", "if", "(", "!", "synic", "-", ">", "active", "&", "&", "(", "!", "host", "|", "|", "data", ")", ")", "<nl>", "return", "1", ";", "<nl>", "<nl>", "trace", "_", "kvm", "_", "hv", "_", "synic", "_", "set", "_", "msr", "(", "vcpu", "-", ">", "vcpu", "_", "id", ",", "msr", ",", "data", ",", "host", ")", ";", "<nl>", "static", "int", "synic", "_", "set", "_", "msr", "(", "struct", "kvm", "_", "vcpu", "_", "hv", "_", "synic", "*", "synic", ",", "<nl>", "case", "HV", "_", "X64", "_", "MSR", "_", "EOM", ":", "{", "<nl>", "int", "i", ";", "<nl>", "<nl>", "+", "if", "(", "!", "synic", "-", ">", "active", ")", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "ARRAY", "_", "SIZE", "(", "synic", "-", ">", "sint", ")", ";", "i", "+", "+", ")", "<nl>", "kvm", "_", "hv", "_", "notify", "_", "acked", "_", "sint", "(", "vcpu", ",", "i", ")", ";", "<nl>", "break", ";", "<nl>", "static", "int", "stimer", "_", "set", "_", "config", "(", "struct", "kvm", "_", "vcpu", "_", "hv", "_", "stimer", "*", "stimer", ",", "u64", "config", ",", "<nl>", "struct", "kvm", "_", "vcpu", "_", "hv", "*", "hv", "_", "vcpu", "=", "to", "_", "hv", "_", "vcpu", "(", "vcpu", ")", ";", "<nl>", "struct", "kvm", "_", "vcpu", "_", "hv", "_", "synic", "*", "synic", "=", "to", "_", "hv", "_", "synic", "(", "vcpu", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "synic", "-", ">", "active", "&", "&", "!", "host", ")", "<nl>", "+", "if", "(", "!", "synic", "-", ">", "active", "&", "&", "(", "!", "host", "|", "|", "config", ")", ")", "<nl>", "return", "1", ";", "<nl>", "<nl>", "if", "(", "unlikely", "(", "!", "host", "&", "&", "hv", "_", "vcpu", "-", ">", "enforce", "_", "cpuid", "&", "&", "new", "_", "config", ".", "direct", "_", "mode", "&", "&", "<nl>", "static", "int", "stimer", "_", "set", "_", "count", "(", "struct", "kvm", "_", "vcpu", "_", "hv", "_", "stimer", "*", "stimer", ",", "u64", "count", ",", "<nl>", "struct", "kvm", "_", "vcpu", "*", "vcpu", "=", "hv", "_", "stimer", "_", "to", "_", "vcpu", "(", "stimer", ")", ";", "<nl>", "struct", "kvm", "_", "vcpu", "_", "hv", "_", "synic", "*", "synic", "=", "to", "_", "hv", "_", "synic", "(", "vcpu", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "synic", "-", ">", "active", "&", "&", "!", "host", ")", "<nl>", "+", "if", "(", "!", "synic", "-", ">", "active", "&", "&", "(", "!", "host", "|", "|", "count", ")", ")", "<nl>", "return", "1", ";", "<nl>", "<nl>", "trace", "_", "kvm", "_", "hv", "_", "stimer", "_", "set", "_", "count", "(", "hv", "_", "stimer", "_", "to", "_", "vcpu", "(", "stimer", ")", "-", ">", "vcpu", "_", "id", ",", "<nl>"], "docstring_tokens": ["KVM", "x86", "Forbid", "VMM", "to", "set", "SYNIC", "STIMER", "MSRs", "when", "SynIC", "wasn", "t", "activated"]}
{"code_tokens": ["static", "struct", "dmi", "_", "system", "_", "id", "video", "_", "dmi", "_", "table", "[", "]", "=", "{", "<nl>", "DMI", "_", "MATCH", "(", "DMI", "_", "PRODUCT", "_", "NAME", ",", "\"", "PORTEGE", "R830", "\"", ")", ",", "<nl>", "}", ",", "<nl>", "}", ",", "<nl>", "+", "{", "<nl>", "+", "/", "*", "https", ":", "/", "/", "bugzilla", ".", "kernel", ".", "org", "/", "show", "_", "bug", ".", "cgi", "?", "id", "=", "21012", "*", "/", "<nl>", "+", ".", "callback", "=", "video", "_", "disable", "_", "backlight", "_", "sysfs", "_", "if", ",", "<nl>", "+", ".", "ident", "=", "\"", "Toshiba", "Satellite", "R830", "\"", ",", "<nl>", "+", ".", "matches", "=", "{", "<nl>", "+", "DMI", "_", "MATCH", "(", "DMI", "_", "SYS", "_", "VENDOR", ",", "\"", "TOSHIBA", "\"", ")", ",", "<nl>", "+", "DMI", "_", "MATCH", "(", "DMI", "_", "PRODUCT", "_", "NAME", ",", "\"", "SATELLITE", "R830", "\"", ")", ",", "<nl>", "+", "}", ",", "<nl>", "+", "}", ",", "<nl>", "/", "*", "<nl>", "*", "Some", "machine", "'", "s", "_", "DOD", "IDs", "don", "'", "t", "have", "bit", "31", "(", "Device", "ID", "Scheme", ")", "set", "<nl>", "*", "but", "the", "IDs", "actually", "follow", "the", "Device", "ID", "Scheme", ".", "<nl>"], "docstring_tokens": ["ACPI", "video", "Add", "disable_backlight_sysfs_if", "quirk", "for", "the", "Toshiba", "Satellite", "R830"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "_", "GPL", "(", "btbcm", "_", "setup", "_", "patchram", ")", ";", "<nl>", "int", "btbcm", "_", "setup", "_", "apple", "(", "struct", "hci", "_", "dev", "*", "hdev", ")", "<nl>", "{", "<nl>", "struct", "sk", "_", "buff", "*", "skb", ";", "<nl>", "+", "int", "err", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Reset", "*", "/", "<nl>", "+", "err", "=", "btbcm", "_", "reset", "(", "hdev", ")", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "return", "err", ";", "<nl>", "<nl>", "/", "*", "Read", "Verbose", "Config", "Version", "Info", "*", "/", "<nl>", "skb", "=", "btbcm", "_", "read", "_", "verbose", "_", "config", "(", "hdev", ")", ";", "<nl>", "if", "(", "!", "IS", "_", "ERR", "(", "skb", ")", ")", "{", "<nl>", "-", "BT", "_", "INFO", "(", "\"", "%", "s", ":", "BCM", ":", "chip", "id", "%", "u", "build", "%", "4", ".", "4u", "\"", ",", "hdev", "-", ">", "name", ",", "skb", "-", ">", "data", "[", "1", "]", ",", "<nl>", "-", "get", "_", "unaligned", "_", "le16", "(", "skb", "-", ">", "data", "+", "5", ")", ")", ";", "<nl>", "+", "BT", "_", "INFO", "(", "\"", "%", "s", ":", "BCM", ":", "chip", "id", "%", "u", "build", "%", "4", ".", "4u", "\"", ",", "hdev", "-", ">", "name", ",", "<nl>", "+", "skb", "-", ">", "data", "[", "1", "]", ",", "get", "_", "unaligned", "_", "le16", "(", "skb", "-", ">", "data", "+", "5", ")", ")", ";", "<nl>", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Bluetooth", "btbcm", "Send", "HCI", "Reset", "before", "sending", "Apple", "specific", "commands"]}
{"code_tokens": ["batadv", "_", "iv", "_", "ogm", "_", "orig", "_", "get", "(", "struct", "batadv", "_", "priv", "*", "bat", "_", "priv", ",", "const", "uint8", "_", "t", "*", "addr", ")", "<nl>", "free", "_", "bcast", "_", "own", ":", "<nl>", "kfree", "(", "orig", "_", "node", "-", ">", "bat", "_", "iv", ".", "bcast", "_", "own", ")", ";", "<nl>", "free", "_", "orig", "_", "node", ":", "<nl>", "+", "/", "*", "free", "twice", ",", "as", "batadv", "_", "orig", "_", "node", "_", "new", "sets", "refcount", "to", "2", "*", "/", "<nl>", "+", "batadv", "_", "orig", "_", "node", "_", "free", "_", "ref", "(", "orig", "_", "node", ")", ";", "<nl>", "batadv", "_", "orig", "_", "node", "_", "free", "_", "ref", "(", "orig", "_", "node", ")", ";", "<nl>", "<nl>", "return", "NULL", ";", "<nl>"], "docstring_tokens": ["batman", "adv", "fix", "potential", "orig_node", "reference", "leak"]}
{"code_tokens": ["static", "int", "_", "_", "init", "parse", "_", "options", "(", "struct", "early", "_", "uart", "_", "device", "*", "device", ",", "char", "*", "options", ")", "<nl>", "<nl>", "if", "(", "(", "options", "=", "strchr", "(", "options", ",", "'", ",", "'", ")", ")", ")", "{", "<nl>", "options", "+", "+", ";", "<nl>", "-", "device", "-", ">", "baud", "=", "simple", "_", "strtoul", "(", "options", ",", "0", ",", "0", ")", ";", "<nl>", "+", "device", "-", ">", "baud", "=", "simple", "_", "strtoul", "(", "options", ",", "NULL", ",", "0", ")", ";", "<nl>", "length", "=", "min", "(", "strcspn", "(", "options", ",", "\"", "\"", ")", ",", "sizeof", "(", "device", "-", ">", "options", ")", ")", ";", "<nl>", "strncpy", "(", "device", "-", ">", "options", ",", "options", ",", "length", ")", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["SERIAL", "8250_early", "c", "passing", "0", "instead", "of", "NULL"]}
{"code_tokens": ["static", "int", "ixp4xx", "_", "spkr", "_", "event", "(", "struct", "input", "_", "dev", "*", "dev", ",", "unsigned", "int", "type", ",", "unsigned", "<nl>", "<nl>", "static", "irqreturn", "_", "t", "ixp4xx", "_", "spkr", "_", "interrupt", "(", "int", "irq", ",", "void", "*", "dev", "_", "id", ")", "<nl>", "{", "<nl>", "+", "unsigned", "int", "pin", "=", "(", "unsigned", "int", ")", "dev", "_", "id", ";", "<nl>", "+", "<nl>", "/", "*", "clear", "interrupt", "*", "/", "<nl>", "*", "IXP4XX", "_", "OSST", "=", "IXP4XX", "_", "OSST", "_", "TIMER", "_", "2", "_", "PEND", ";", "<nl>", "<nl>", "/", "*", "flip", "the", "beeper", "output", "*", "/", "<nl>", "-", "*", "IXP4XX", "_", "GPIO", "_", "GPOUTR", "^", "=", "(", "1", "<", "<", "(", "unsigned", "int", ")", "dev", "_", "id", ")", ";", "<nl>", "+", "gpio", "_", "set", "_", "value", "(", "pin", ",", "!", "gpio", "_", "get", "_", "value", "(", "pin", ")", ")", ";", "<nl>", "<nl>", "return", "IRQ", "_", "HANDLED", ";", "<nl>", "}", "<nl>", "static", "int", "ixp4xx", "_", "spkr", "_", "probe", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "input", "_", "dev", "-", ">", "sndbit", "[", "0", "]", "=", "BIT", "_", "MASK", "(", "SND", "_", "BELL", ")", "|", "BIT", "_", "MASK", "(", "SND", "_", "TONE", ")", ";", "<nl>", "input", "_", "dev", "-", ">", "event", "=", "ixp4xx", "_", "spkr", "_", "event", ";", "<nl>", "<nl>", "+", "err", "=", "gpio", "_", "request", "(", "dev", "-", ">", "id", ",", "\"", "ixp4", "-", "beeper", "\"", ")", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "goto", "err", "_", "free", "_", "device", ";", "<nl>", "+", "<nl>", "err", "=", "request", "_", "irq", "(", "IRQ", "_", "IXP4XX", "_", "TIMER2", ",", "&", "ixp4xx", "_", "spkr", "_", "interrupt", ",", "<nl>", "IRQF", "_", "NO", "_", "SUSPEND", ",", "\"", "ixp4xx", "-", "beeper", "\"", ",", "<nl>", "(", "void", "*", ")", "dev", "-", ">", "id", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "-", "goto", "err", "_", "free", "_", "device", ";", "<nl>", "+", "goto", "err", "_", "free", "_", "gpio", ";", "<nl>", "<nl>", "err", "=", "input", "_", "register", "_", "device", "(", "input", "_", "dev", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "static", "int", "ixp4xx", "_", "spkr", "_", "probe", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "<nl>", "err", "_", "free", "_", "irq", ":", "<nl>", "free", "_", "irq", "(", "IRQ", "_", "IXP4XX", "_", "TIMER2", ",", "(", "void", "*", ")", "dev", "-", ">", "id", ")", ";", "<nl>", "+", "err", "_", "free", "_", "gpio", ":", "<nl>", "+", "gpio", "_", "free", "(", "dev", "-", ">", "id", ")", ";", "<nl>", "err", "_", "free", "_", "device", ":", "<nl>", "input", "_", "free", "_", "device", "(", "input", "_", "dev", ")", ";", "<nl>", "<nl>", "static", "int", "ixp4xx", "_", "spkr", "_", "remove", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "ixp4xx", "_", "spkr", "_", "control", "(", "pin", ",", "0", ")", ";", "<nl>", "<nl>", "free", "_", "irq", "(", "IRQ", "_", "IXP4XX", "_", "TIMER2", ",", "(", "void", "*", ")", "dev", "-", ">", "id", ")", ";", "<nl>", "+", "gpio", "_", "free", "(", "dev", "-", ">", "id", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["input", "misc", "ixp4", "beeper", "use", "gpiolib", "strictly"]}
{"code_tokens": ["static", "bool", "dccp", "_", "new", "(", "struct", "nf", "_", "conn", "*", "ct", ",", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "const", "char", "*", "msg", ";", "<nl>", "u", "_", "int8", "_", "t", "state", ";", "<nl>", "<nl>", "-", "dh", "=", "skb", "_", "header", "_", "pointer", "(", "skb", ",", "dataoff", ",", "sizeof", "(", "_", "dh", ")", ",", "&", "dh", ")", ";", "<nl>", "+", "dh", "=", "skb", "_", "header", "_", "pointer", "(", "skb", ",", "dataoff", ",", "sizeof", "(", "_", "dh", ")", ",", "&", "_", "dh", ")", ";", "<nl>", "BUG", "_", "ON", "(", "dh", "=", "=", "NULL", ")", ";", "<nl>", "<nl>", "state", "=", "dccp", "_", "state", "_", "table", "[", "CT", "_", "DCCP", "_", "ROLE", "_", "CLIENT", "]", "[", "dh", "-", ">", "dccph", "_", "type", "]", "[", "CT", "_", "DCCP", "_", "NONE", "]", ";", "<nl>", "static", "int", "dccp", "_", "packet", "(", "struct", "nf", "_", "conn", "*", "ct", ",", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "u", "_", "int8", "_", "t", "type", ",", "old", "_", "state", ",", "new", "_", "state", ";", "<nl>", "enum", "ct", "_", "dccp", "_", "roles", "role", ";", "<nl>", "<nl>", "-", "dh", "=", "skb", "_", "header", "_", "pointer", "(", "skb", ",", "dataoff", ",", "sizeof", "(", "_", "dh", ")", ",", "&", "dh", ")", ";", "<nl>", "+", "dh", "=", "skb", "_", "header", "_", "pointer", "(", "skb", ",", "dataoff", ",", "sizeof", "(", "_", "dh", ")", ",", "&", "_", "dh", ")", ";", "<nl>", "BUG", "_", "ON", "(", "dh", "=", "=", "NULL", ")", ";", "<nl>", "type", "=", "dh", "-", ">", "dccph", "_", "type", ";", "<nl>", "<nl>", "static", "int", "dccp", "_", "error", "(", "struct", "net", "*", "net", ",", "struct", "nf", "_", "conn", "*", "tmpl", ",", "<nl>", "unsigned", "int", "cscov", ";", "<nl>", "const", "char", "*", "msg", ";", "<nl>", "<nl>", "-", "dh", "=", "skb", "_", "header", "_", "pointer", "(", "skb", ",", "dataoff", ",", "sizeof", "(", "_", "dh", ")", ",", "&", "dh", ")", ";", "<nl>", "+", "dh", "=", "skb", "_", "header", "_", "pointer", "(", "skb", ",", "dataoff", ",", "sizeof", "(", "_", "dh", ")", ",", "&", "_", "dh", ")", ";", "<nl>", "if", "(", "dh", "=", "=", "NULL", ")", "{", "<nl>", "msg", "=", "\"", "nf", "_", "ct", "_", "dccp", ":", "short", "packet", "\"", ";", "<nl>", "goto", "out", "_", "invalid", ";", "<nl>"], "docstring_tokens": ["netfilter", "nf_conntrack_dccp", "fix", "skb_header_pointer", "API", "usages"]}
{"code_tokens": ["int", "iop13xx", "_", "pci", "_", "setup", "(", "int", "nr", ",", "struct", "pci", "_", "sys", "_", "data", "*", "sys", ")", "<nl>", "which", "_", "atu", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "!", "which", "_", "atu", ")", "<nl>", "+", "if", "(", "!", "which", "_", "atu", ")", "{", "<nl>", "+", "kfree", "(", "res", ")", ";", "<nl>", "return", "0", ";", "<nl>", "+", "}", "<nl>", "<nl>", "switch", "(", "which", "_", "atu", ")", "{", "<nl>", "case", "IOP13XX", "_", "INIT", "_", "ATU", "_", "ATUX", ":", "<nl>", "int", "iop13xx", "_", "pci", "_", "setup", "(", "int", "nr", ",", "struct", "pci", "_", "sys", "_", "data", "*", "sys", ")", "<nl>", "sys", "-", ">", "map", "_", "irq", "=", "iop13xx", "_", "pcie", "_", "map", "_", "irq", ";", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "+", "kfree", "(", "res", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ARM", "fix", "leak", "in", "iop13xx", "pci"]}
{"code_tokens": ["int", "dma", "_", "declare", "_", "coherent", "_", "memory", "(", "struct", "device", "*", "dev", ",", "dma", "_", "addr", "_", "t", "bus", "_", "addr", ",", "<nl>", "{", "<nl>", "void", "_", "_", "iomem", "*", "mem", "_", "base", "=", "NULL", ";", "<nl>", "int", "pages", "=", "size", ">", ">", "PAGE", "_", "SHIFT", ";", "<nl>", "-", "int", "bitmap", "_", "size", "=", "(", "pages", "+", "31", ")", "/", "32", ";", "<nl>", "+", "int", "bitmap", "_", "size", "=", "BITS", "_", "TO", "_", "LONGS", "(", "pages", ")", "*", "sizeof", "(", "long", ")", ";", "<nl>", "<nl>", "if", "(", "(", "flags", "&", "(", "DMA", "_", "MEMORY", "_", "MAP", "|", "DMA", "_", "MEMORY", "_", "IO", ")", ")", "=", "=", "0", ")", "<nl>", "goto", "out", ";", "mmm", "arch", "/", "cris", "/", "arch", "-", "v32", "/", "drivers", "/", "pci", "/", "dma", ".", "c", "<nl>", "int", "dma", "_", "declare", "_", "coherent", "_", "memory", "(", "struct", "device", "*", "dev", ",", "dma", "_", "addr", "_", "t", "bus", "_", "addr", ",", "<nl>", "{", "<nl>", "void", "_", "_", "iomem", "*", "mem", "_", "base", "=", "NULL", ";", "<nl>", "int", "pages", "=", "size", ">", ">", "PAGE", "_", "SHIFT", ";", "<nl>", "-", "int", "bitmap", "_", "size", "=", "(", "pages", "+", "31", ")", "/", "32", ";", "<nl>", "+", "int", "bitmap", "_", "size", "=", "BITS", "_", "TO", "_", "LONGS", "(", "pages", ")", "*", "sizeof", "(", "long", ")", ";", "<nl>", "<nl>", "if", "(", "(", "flags", "&", "(", "DMA", "_", "MEMORY", "_", "MAP", "|", "DMA", "_", "MEMORY", "_", "IO", ")", ")", "=", "=", "0", ")", "<nl>", "goto", "out", ";", "<nl>", "int", "dma", "_", "declare", "_", "coherent", "_", "memory", "(", "struct", "device", "*", "dev", ",", "dma", "_", "addr", "_", "t", "bus", "_", "addr", ",", "<nl>", "{", "<nl>", "void", "_", "_", "iomem", "*", "mem", "_", "base", ";", "<nl>", "int", "pages", "=", "size", ">", ">", "PAGE", "_", "SHIFT", ";", "<nl>", "-", "int", "bitmap", "_", "size", "=", "(", "pages", "+", "31", ")", "/", "32", ";", "<nl>", "+", "int", "bitmap", "_", "size", "=", "BITS", "_", "TO", "_", "LONGS", "(", "pages", ")", "*", "sizeof", "(", "long", ")", ";", "<nl>", "<nl>", "if", "(", "(", "flags", "&", "(", "DMA", "_", "MEMORY", "_", "MAP", "|", "DMA", "_", "MEMORY", "_", "IO", ")", ")", "=", "=", "0", ")", "<nl>", "goto", "out", ";", "<nl>"], "docstring_tokens": ["dma_declare_coherent_memory", "wrong", "allocation"]}
{"code_tokens": ["int", "jbd2", "_", "journal", "_", "start", "_", "reserved", "(", "handle", "_", "t", "*", "handle", ",", "unsigned", "int", "type", ",", "<nl>", "*", "/", "<nl>", "ret", "=", "start", "_", "this", "_", "handle", "(", "journal", ",", "handle", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "+", "handle", "-", ">", "h", "_", "journal", "=", "journal", ";", "<nl>", "jbd2", "_", "journal", "_", "free", "_", "reserved", "(", "handle", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ext4", "set", "h_journal", "if", "there", "is", "a", "failure", "starting", "a", "reserved", "handle"]}
{"code_tokens": ["static", "int", "alloc", "_", "and", "_", "submit", "_", "int", "_", "urb", "(", "struct", "gspca", "_", "dev", "*", "gspca", "_", "dev", ",", "<nl>", "void", "*", "buffer", "=", "NULL", ";", "<nl>", "int", "ret", "=", "-", "EINVAL", ";", "<nl>", "<nl>", "-", "buffer", "_", "len", "=", "ep", "-", ">", "wMaxPacketSize", ";", "<nl>", "+", "buffer", "_", "len", "=", "le16", "_", "to", "_", "cpu", "(", "ep", "-", ">", "wMaxPacketSize", ")", ";", "<nl>", "interval", "=", "ep", "-", ">", "bInterval", ";", "<nl>", "PDEBUG", "(", "D", "_", "PROBE", ",", "\"", "found", "int", "in", "endpoint", ":", "0x", "%", "x", ",", "\"", "<nl>", "\"", "buffer", "_", "len", "=", "%", "u", ",", "interval", "=", "%", "u", "\"", ",", "<nl>", "static", "int", "alloc", "_", "and", "_", "submit", "_", "int", "_", "urb", "(", "struct", "gspca", "_", "dev", "*", "gspca", "_", "dev", ",", "<nl>", "goto", "error", ";", "<nl>", "}", "<nl>", "<nl>", "-", "buffer", "=", "usb", "_", "buffer", "_", "alloc", "(", "dev", ",", "ep", "-", ">", "wMaxPacketSize", ",", "<nl>", "+", "buffer", "=", "usb", "_", "buffer", "_", "alloc", "(", "dev", ",", "buffer", "_", "len", ",", "<nl>", "GFP", "_", "KERNEL", ",", "&", "urb", "-", ">", "transfer", "_", "dma", ")", ";", "<nl>", "if", "(", "!", "buffer", ")", "{", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "gspca", "main", "Convert", "wMaxPacketSize", "from", "little", "endian", "16", "to", "cpu"]}
{"code_tokens": ["int", "fwnode", "_", "graph", "_", "parse", "_", "endpoint", "(", "const", "struct", "fwnode", "_", "handle", "*", "fwnode", ",", "<nl>", "return", "fwnode", "_", "call", "_", "int", "_", "op", "(", "fwnode", ",", "graph", "_", "parse", "_", "endpoint", ",", "endpoint", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "fwnode", "_", "graph", "_", "parse", "_", "endpoint", ")", ";", "<nl>", "+", "<nl>", "+", "void", "*", "device", "_", "get", "_", "match", "_", "data", "(", "struct", "device", "*", "dev", ")", "<nl>", "+", "{", "<nl>", "+", "return", "fwnode", "_", "call", "_", "ptr", "_", "op", "(", "dev", "_", "fwnode", "(", "dev", ")", ",", "device", "_", "get", "_", "match", "_", "data", ",", "<nl>", "+", "dev", ")", ";", "<nl>", "+", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "device", "_", "get", "_", "match", "_", "data", ")", ";", "mmm", "include", "/", "linux", "/", "property", ".", "h", "<nl>", "int", "fwnode", "_", "graph", "_", "parse", "_", "endpoint", "(", "const", "struct", "fwnode", "_", "handle", "*", "fwnode", ",", "<nl>", "return", "fwnode", "_", "call", "_", "int", "_", "op", "(", "fwnode", ",", "graph", "_", "parse", "_", "endpoint", ",", "endpoint", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "fwnode", "_", "graph", "_", "parse", "_", "endpoint", ")", ";", "<nl>", "+", "<nl>", "+", "void", "*", "device", "_", "get", "_", "match", "_", "data", "(", "struct", "device", "*", "dev", ")", "<nl>", "+", "{", "<nl>", "+", "return", "fwnode", "_", "call", "_", "ptr", "_", "op", "(", "dev", "_", "fwnode", "(", "dev", ")", ",", "device", "_", "get", "_", "match", "_", "data", ",", "<nl>", "+", "dev", ")", ";", "<nl>", "+", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "device", "_", "get", "_", "match", "_", "data", ")", ";", "<nl>", "bool", "device", "_", "dma", "_", "supported", "(", "struct", "device", "*", "dev", ")", ";", "<nl>", "<nl>", "enum", "dev", "_", "dma", "_", "attr", "device", "_", "get", "_", "dma", "_", "attr", "(", "struct", "device", "*", "dev", ")", ";", "<nl>", "<nl>", "+", "void", "*", "device", "_", "get", "_", "match", "_", "data", "(", "struct", "device", "*", "dev", ")", ";", "<nl>", "+", "<nl>", "int", "device", "_", "get", "_", "phy", "_", "mode", "(", "struct", "device", "*", "dev", ")", ";", "<nl>", "<nl>", "void", "*", "device", "_", "get", "_", "mac", "_", "address", "(", "struct", "device", "*", "dev", ",", "char", "*", "addr", ",", "int", "alen", ")", ";", "mmm", "include", "/", "linux", "/", "fwnode", ".", "h", "<nl>", "int", "fwnode", "_", "graph", "_", "parse", "_", "endpoint", "(", "const", "struct", "fwnode", "_", "handle", "*", "fwnode", ",", "<nl>", "return", "fwnode", "_", "call", "_", "int", "_", "op", "(", "fwnode", ",", "graph", "_", "parse", "_", "endpoint", ",", "endpoint", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "fwnode", "_", "graph", "_", "parse", "_", "endpoint", ")", ";", "<nl>", "+", "<nl>", "+", "void", "*", "device", "_", "get", "_", "match", "_", "data", "(", "struct", "device", "*", "dev", ")", "<nl>", "+", "{", "<nl>", "+", "return", "fwnode", "_", "call", "_", "ptr", "_", "op", "(", "dev", "_", "fwnode", "(", "dev", ")", ",", "device", "_", "get", "_", "match", "_", "data", ",", "<nl>", "+", "dev", ")", ";", "<nl>", "+", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "device", "_", "get", "_", "match", "_", "data", ")", ";", "<nl>", "bool", "device", "_", "dma", "_", "supported", "(", "struct", "device", "*", "dev", ")", ";", "<nl>", "<nl>", "enum", "dev", "_", "dma", "_", "attr", "device", "_", "get", "_", "dma", "_", "attr", "(", "struct", "device", "*", "dev", ")", ";", "<nl>", "<nl>", "+", "void", "*", "device", "_", "get", "_", "match", "_", "data", "(", "struct", "device", "*", "dev", ")", ";", "<nl>", "+", "<nl>", "int", "device", "_", "get", "_", "phy", "_", "mode", "(", "struct", "device", "*", "dev", ")", ";", "<nl>", "<nl>", "void", "*", "device", "_", "get", "_", "mac", "_", "address", "(", "struct", "device", "*", "dev", ",", "char", "*", "addr", ",", "int", "alen", ")", ";", "<nl>", "#", "include", "<", "linux", "/", "types", ".", "h", ">", "<nl>", "<nl>", "struct", "fwnode", "_", "operations", ";", "<nl>", "+", "struct", "device", ";", "<nl>", "<nl>", "struct", "fwnode", "_", "handle", "{", "<nl>", "struct", "fwnode", "_", "handle", "*", "secondary", ";", "<nl>", "struct", "fwnode", "_", "reference", "_", "args", "{", "<nl>", "*", "struct", "fwnode", "_", "operations", "-", "Operations", "for", "fwnode", "interface", "<nl>", "*", "@", "get", ":", "Get", "a", "reference", "to", "an", "fwnode", ".", "<nl>", "*", "@", "put", ":", "Put", "a", "reference", "to", "an", "fwnode", ".", "<nl>", "+", "*", "@", "device", "_", "get", "_", "match", "_", "data", ":", "Return", "the", "device", "driver", "match", "data", ".", "<nl>", "*", "@", "property", "_", "present", ":", "Return", "true", "if", "a", "property", "is", "present", ".", "<nl>", "*", "@", "property", "_", "read", "_", "integer", "_", "array", ":", "Read", "an", "array", "of", "integer", "properties", ".", "Return", "<nl>", "*", "zero", "on", "success", ",", "a", "negative", "error", "code", "<nl>", "struct", "fwnode", "_", "operations", "{", "<nl>", "struct", "fwnode", "_", "handle", "*", "(", "*", "get", ")", "(", "struct", "fwnode", "_", "handle", "*", "fwnode", ")", ";", "<nl>", "void", "(", "*", "put", ")", "(", "struct", "fwnode", "_", "handle", "*", "fwnode", ")", ";", "<nl>", "bool", "(", "*", "device", "_", "is", "_", "available", ")", "(", "const", "struct", "fwnode", "_", "handle", "*", "fwnode", ")", ";", "<nl>", "+", "void", "*", "(", "*", "device", "_", "get", "_", "match", "_", "data", ")", "(", "const", "struct", "fwnode", "_", "handle", "*", "fwnode", ",", "<nl>", "+", "const", "struct", "device", "*", "dev", ")", ";", "<nl>", "bool", "(", "*", "property", "_", "present", ")", "(", "const", "struct", "fwnode", "_", "handle", "*", "fwnode", ",", "<nl>", "const", "char", "*", "propname", ")", ";", "<nl>", "int", "(", "*", "property", "_", "read", "_", "int", "_", "array", ")", "(", "const", "struct", "fwnode", "_", "handle", "*", "fwnode", ",", "<nl>"], "docstring_tokens": ["device", "property", "Introduce", "a", "common", "API", "to", "fetch", "device", "match", "data"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "_", "GPL", "(", "memory", "_", "add", "_", "physaddr", "_", "to", "_", "nid", ")", ";", "<nl>", "void", "_", "_", "init", "acpi", "_", "numa", "_", "slit", "_", "init", "(", "struct", "acpi", "_", "table", "_", "slit", "*", "slit", ")", "<nl>", "{", "<nl>", "}", "<nl>", "+", "<nl>", "+", "void", "_", "_", "init", "<nl>", "+", "acpi", "_", "numa", "_", "processor", "_", "affinity", "_", "init", "(", "struct", "acpi", "_", "srat", "_", "cpu", "_", "affinity", "*", "pa", ")", "<nl>", "+", "{", "<nl>", "+", "}", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["x86", "add", "dummy", "acpi_numa_processor_affinity_init", "implementation", "on", "32", "bit"]}
{"code_tokens": ["static", "int", "create", "_", "tracing", "_", "map", "_", "fields", "(", "struct", "hist", "_", "trigger", "_", "data", "*", "hist", "_", "data", ")", "<nl>", "struct", "tracing", "_", "map", "*", "map", "=", "hist", "_", "data", "-", ">", "map", ";", "<nl>", "struct", "ftrace", "_", "event", "_", "field", "*", "field", ";", "<nl>", "struct", "hist", "_", "field", "*", "hist", "_", "field", ";", "<nl>", "-", "int", "i", ",", "idx", ";", "<nl>", "+", "int", "i", ",", "idx", "=", "0", ";", "<nl>", "<nl>", "for", "_", "each", "_", "hist", "_", "field", "(", "i", ",", "hist", "_", "data", ")", "{", "<nl>", "hist", "_", "field", "=", "hist", "_", "data", "-", ">", "fields", "[", "i", "]", ";", "<nl>"], "docstring_tokens": ["tracing", "Uninitialized", "variable", "in", "create_tracing_map_fields"]}
{"code_tokens": ["static", "int", "_", "_", "f2fs", "_", "setxattr", "(", "struct", "inode", "*", "inode", ",", "int", "index", ",", "<nl>", "goto", "exit", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "f2fs", "_", "xattr", "_", "value", "_", "same", "(", "here", ",", "value", ",", "size", ")", ")", "<nl>", "+", "if", "(", "value", "&", "&", "f2fs", "_", "xattr", "_", "value", "_", "same", "(", "here", ",", "value", ",", "size", ")", ")", "<nl>", "goto", "exit", ";", "<nl>", "}", "else", "if", "(", "(", "flags", "&", "XATTR", "_", "REPLACE", ")", ")", "{", "<nl>", "error", "=", "-", "ENODATA", ";", "<nl>"], "docstring_tokens": ["f2fs", "correct", "removexattr", "behavior", "for", "null", "valued", "extended", "attribute"]}
{"code_tokens": ["static", "int", "regcache", "_", "hw", "_", "init", "(", "struct", "regmap", "*", "map", ")", "<nl>", "<nl>", "/", "*", "calculate", "the", "size", "of", "reg", "_", "defaults", "*", "/", "<nl>", "for", "(", "count", "=", "0", ",", "i", "=", "0", ";", "i", "<", "map", "-", ">", "num", "_", "reg", "_", "defaults", "_", "raw", ";", "i", "+", "+", ")", "<nl>", "-", "if", "(", "!", "regmap", "_", "volatile", "(", "map", ",", "i", "*", "map", "-", ">", "reg", "_", "stride", ")", ")", "<nl>", "+", "if", "(", "regmap", "_", "readable", "(", "map", ",", "i", "*", "map", "-", ">", "reg", "_", "stride", ")", "&", "&", "<nl>", "+", "!", "regmap", "_", "volatile", "(", "map", ",", "i", "*", "map", "-", ">", "reg", "_", "stride", ")", ")", "<nl>", "count", "+", "+", ";", "<nl>", "<nl>", "-", "/", "*", "all", "registers", "are", "volatile", ",", "so", "just", "bypass", "*", "/", "<nl>", "+", "/", "*", "all", "registers", "are", "unreadable", "or", "volatile", ",", "so", "just", "bypass", "*", "/", "<nl>", "if", "(", "!", "count", ")", "{", "<nl>", "map", "-", ">", "cache", "_", "bypass", "=", "true", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["regmap", "cache", "Fix", "num_reg_defaults", "computation", "from", "reg_defaults_raw"]}
{"code_tokens": ["static", "void", "start", "_", "apic", "_", "timer", "(", "struct", "kvm", "_", "lapic", "*", "apic", ")", "<nl>", "{", "<nl>", "ktime", "_", "t", "now", "=", "apic", "-", ">", "lapic", "_", "timer", ".", "timer", ".", "base", "-", ">", "get", "_", "time", "(", ")", ";", "<nl>", "<nl>", "-", "apic", "-", ">", "lapic", "_", "timer", ".", "period", "=", "apic", "_", "get", "_", "reg", "(", "apic", ",", "APIC", "_", "TMICT", ")", "*", "<nl>", "+", "apic", "-", ">", "lapic", "_", "timer", ".", "period", "=", "(", "u64", ")", "apic", "_", "get", "_", "reg", "(", "apic", ",", "APIC", "_", "TMICT", ")", "*", "<nl>", "APIC", "_", "BUS", "_", "CYCLE", "_", "NS", "*", "apic", "-", ">", "divide", "_", "count", ";", "<nl>", "atomic", "_", "set", "(", "&", "apic", "-", ">", "lapic", "_", "timer", ".", "pending", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "fix", "LAPIC", "timer", "period", "overflow"]}
{"code_tokens": ["static", "int", "dso", "_", "_", "load", "_", "sym", "(", "struct", "dso", "*", "self", ",", "struct", "map", "*", "map", ",", "const", "char", "*", "name", ",", "<nl>", "<nl>", "section", "_", "name", "=", "elf", "_", "sec", "_", "_", "name", "(", "&", "shdr", ",", "secstrs", ")", ";", "<nl>", "<nl>", "+", "/", "*", "On", "ARM", ",", "symbols", "for", "thumb", "functions", "have", "1", "added", "to", "<nl>", "+", "*", "the", "symbol", "address", "as", "a", "flag", "-", "remove", "it", "*", "/", "<nl>", "+", "if", "(", "(", "ehdr", ".", "e", "_", "machine", "=", "=", "EM", "_", "ARM", ")", "&", "&", "<nl>", "+", "(", "map", "-", ">", "type", "=", "=", "MAP", "_", "_", "FUNCTION", ")", "&", "&", "<nl>", "+", "(", "sym", ".", "st", "_", "value", "&", "1", ")", ")", "<nl>", "+", "-", "-", "sym", ".", "st", "_", "value", ";", "<nl>", "+", "<nl>", "if", "(", "self", "-", ">", "kernel", "!", "=", "DSO", "_", "TYPE", "_", "USER", "|", "|", "kmodule", ")", "{", "<nl>", "char", "dso", "_", "name", "[", "PATH", "_", "MAX", "]", ";", "<nl>"], "docstring_tokens": ["perf", "symbols", "Fix", "annotation", "of", "thumb", "code"]}
{"code_tokens": ["static", "int", "tsi721", "_", "rio", "_", "map", "_", "inb", "_", "mem", "(", "struct", "rio", "_", "mport", "*", "mport", ",", "dma", "_", "addr", "_", "t", "lstart", ",", "<nl>", "}", "else", "if", "(", "ibw", "_", "start", "<", "(", "ib", "_", "win", "-", ">", "rstart", "+", "ib", "_", "win", "-", ">", "size", ")", "&", "&", "<nl>", "(", "ibw", "_", "start", "+", "ibw", "_", "size", ")", ">", "ib", "_", "win", "-", ">", "rstart", ")", "{", "<nl>", "/", "*", "Return", "error", "if", "address", "translation", "involved", "*", "/", "<nl>", "-", "if", "(", "direct", "&", "&", "ib", "_", "win", "-", ">", "xlat", ")", "{", "<nl>", "+", "if", "(", "!", "direct", "|", "|", "ib", "_", "win", "-", ">", "xlat", ")", "{", "<nl>", "ret", "=", "-", "EFAULT", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["rapidio", "tsi721", "fix", "incorrect", "detection", "of", "address", "translation", "condition"]}
{"code_tokens": ["static", "int", "msm", "_", "otg", "_", "read", "_", "dt", "(", "struct", "platform", "_", "device", "*", "pdev", ",", "struct", "msm", "_", "otg", "*", "motg", ")", "<nl>", "motg", "-", ">", "pdata", "=", "pdata", ";", "<nl>", "<nl>", "id", "=", "of", "_", "match", "_", "device", "(", "msm", "_", "otg", "_", "dt", "_", "match", ",", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "-", "pdata", "-", ">", "phy", "_", "type", "=", "(", "int", ")", "id", "-", ">", "data", ";", "<nl>", "+", "pdata", "-", ">", "phy", "_", "type", "=", "(", "enum", "msm", "_", "usb", "_", "phy", "_", "type", ")", "id", "-", ">", "data", ";", "<nl>", "<nl>", "motg", "-", ">", "link", "_", "rst", "=", "devm", "_", "reset", "_", "control", "_", "get", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "link", "\"", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "motg", "-", ">", "link", "_", "rst", ")", ")", "<nl>"], "docstring_tokens": ["usb", "phy", "msm", "cast", "to", "enum", "msm_usb_phy_type"]}
{"code_tokens": ["static", "int", "ath10k", "_", "htt", "_", "rx", "_", "amsdu", "_", "pop", "(", "struct", "ath10k", "_", "htt", "*", "htt", ",", "<nl>", "while", "(", "msdu", "_", "chained", "-", "-", ")", "{", "<nl>", "struct", "sk", "_", "buff", "*", "next", "=", "ath10k", "_", "htt", "_", "rx", "_", "netbuf", "_", "pop", "(", "htt", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "next", ")", "{", "<nl>", "+", "ath10k", "_", "warn", "(", "ar", ",", "\"", "failed", "to", "pop", "chained", "msdu", "\\", "n", "\"", ")", ";", "<nl>", "+", "ath10k", "_", "htt", "_", "rx", "_", "free", "_", "msdu", "_", "chain", "(", "*", "head", "_", "msdu", ")", ";", "<nl>", "+", "*", "head", "_", "msdu", "=", "NULL", ";", "<nl>", "+", "msdu", "=", "NULL", ";", "<nl>", "+", "htt", "-", ">", "rx", "_", "confused", "=", "true", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "skb", "_", "trim", "(", "next", ",", "0", ")", ";", "<nl>", "skb", "_", "put", "(", "next", ",", "min", "(", "msdu", "_", "len", ",", "HTT", "_", "RX", "_", "BUF", "_", "SIZE", ")", ")", ";", "<nl>", "msdu", "_", "len", "-", "=", "next", "-", ">", "len", ";", "<nl>"], "docstring_tokens": ["ath10k", "add", "extra", "sanity", "check", "when", "popping", "amsdu"]}
{"code_tokens": ["static", "void", "pnv", "_", "ioda", "_", "release", "_", "pe", "(", "struct", "pnv", "_", "ioda", "_", "pe", "*", "pe", ")", "<nl>", "struct", "pnv", "_", "phb", "*", "phb", "=", "pe", "-", ">", "phb", ";", "<nl>", "struct", "pnv", "_", "ioda", "_", "pe", "*", "slave", ",", "*", "tmp", ";", "<nl>", "<nl>", "-", "/", "*", "Release", "slave", "PEs", "in", "compound", "PE", "*", "/", "<nl>", "-", "if", "(", "pe", "-", ">", "flags", "&", "PNV", "_", "IODA", "_", "PE", "_", "MASTER", ")", "{", "<nl>", "-", "list", "_", "for", "_", "each", "_", "entry", "_", "safe", "(", "slave", ",", "tmp", ",", "&", "pe", "-", ">", "slaves", ",", "list", ")", "<nl>", "-", "pnv", "_", "ioda", "_", "release", "_", "pe", "(", "slave", ")", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "list", "_", "del", "(", "&", "pe", "-", ">", "list", ")", ";", "<nl>", "switch", "(", "phb", "-", ">", "type", ")", "{", "<nl>", "case", "PNV", "_", "PHB", "_", "IODA1", ":", "<nl>", "static", "void", "pnv", "_", "ioda", "_", "release", "_", "pe", "(", "struct", "pnv", "_", "ioda", "_", "pe", "*", "pe", ")", "<nl>", "<nl>", "pnv", "_", "ioda", "_", "release", "_", "pe", "_", "seg", "(", "pe", ")", ";", "<nl>", "pnv", "_", "ioda", "_", "deconfigure", "_", "pe", "(", "pe", "-", ">", "phb", ",", "pe", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Release", "slave", "PEs", "in", "the", "compound", "PE", "*", "/", "<nl>", "+", "if", "(", "pe", "-", ">", "flags", "&", "PNV", "_", "IODA", "_", "PE", "_", "MASTER", ")", "{", "<nl>", "+", "list", "_", "for", "_", "each", "_", "entry", "_", "safe", "(", "slave", ",", "tmp", ",", "&", "pe", "-", ">", "slaves", ",", "list", ")", "{", "<nl>", "+", "list", "_", "del", "(", "&", "slave", "-", ">", "list", ")", ";", "<nl>", "+", "pnv", "_", "ioda", "_", "free", "_", "pe", "(", "slave", ")", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "pnv", "_", "ioda", "_", "free", "_", "pe", "(", "pe", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["powerpc", "powernv", "Fix", "crash", "on", "releasing", "compound", "PE"]}
{"code_tokens": ["static", "int", "pn533", "_", "data", "_", "exchange", "_", "complete", "(", "struct", "pn533", "*", "dev", ",", "void", "*", "_", "arg", ",", "<nl>", "*", "/", "<nl>", "void", "pn533", "_", "recv", "_", "frame", "(", "struct", "pn533", "*", "dev", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "int", "status", ")", "<nl>", "{", "<nl>", "+", "if", "(", "!", "dev", "-", ">", "cmd", ")", "<nl>", "+", "goto", "sched", "_", "wq", ";", "<nl>", "+", "<nl>", "dev", "-", ">", "cmd", "-", ">", "status", "=", "status", ";", "<nl>", "<nl>", "+", "if", "(", "status", "!", "=", "0", ")", "{", "<nl>", "+", "dev", "_", "dbg", "(", "dev", "-", ">", "dev", ",", "\"", "%", "s", ":", "Error", "received", ":", "%", "d", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "status", ")", ";", "<nl>", "+", "goto", "sched", "_", "wq", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "skb", "=", "=", "NULL", ")", "{", "<nl>", "pr", "_", "err", "(", "\"", "NULL", "Frame", "-", ">", "link", "is", "dead", "\\", "n", "\"", ")", ";", "<nl>", "goto", "sched", "_", "wq", ";", "<nl>"], "docstring_tokens": ["NFC", "pn533", "handle", "interrupted", "commands", "in", "pn533_recv_frame"]}
{"code_tokens": ["static", "inline", "uint64", "_", "t", "howmany", "_", "64", "(", "uint64", "_", "t", "x", ",", "uint32", "_", "t", "y", ")", "<nl>", "#", "endif", "/", "*", "DEBUG", "*", "/", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "XFS", "_", "RT", "<nl>", "-", "#", "define", "XFS", "_", "IS", "_", "REALTIME", "_", "INODE", "(", "ip", ")", "(", "(", "ip", ")", "-", ">", "i", "_", "d", ".", "di", "_", "flags", "&", "XFS", "_", "DIFLAG", "_", "REALTIME", ")", "<nl>", "+", "<nl>", "+", "/", "*", "<nl>", "+", "*", "make", "sure", "we", "ignore", "the", "inode", "flag", "if", "the", "filesystem", "doesn", "'", "t", "have", "a", "<nl>", "+", "*", "configured", "realtime", "device", ".", "<nl>", "+", "*", "/", "<nl>", "+", "#", "define", "XFS", "_", "IS", "_", "REALTIME", "_", "INODE", "(", "ip", ")", "\\", "<nl>", "+", "(", "(", "(", "ip", ")", "-", ">", "i", "_", "d", ".", "di", "_", "flags", "&", "XFS", "_", "DIFLAG", "_", "REALTIME", ")", "&", "&", "\\", "<nl>", "+", "(", "ip", ")", "-", ">", "i", "_", "mount", "-", ">", "m", "_", "rtdev", "_", "targp", ")", "<nl>", "#", "else", "<nl>", "#", "define", "XFS", "_", "IS", "_", "REALTIME", "_", "INODE", "(", "ip", ")", "(", "0", ")", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["xfs", "XFS_IS_REALTIME_INODE", "should", "be", "false", "if", "no", "rt", "device", "present"]}
{"code_tokens": ["MODULE", "_", "PARM", "_", "DESC", "(", "cidmode", ",", "\"", "Call", "-", "ID", "mode", "\"", ")", ";", "<nl>", "#", "define", "GIGASET", "_", "MODULENAME", "\"", "usb", "_", "gigaset", "\"", "<nl>", "#", "define", "GIGASET", "_", "DEVNAME", "\"", "ttyGU", "\"", "<nl>", "<nl>", "-", "#", "define", "IF", "_", "WRITEBUF", "2000", "/", "*", "arbitrary", "limit", "*", "/", "<nl>", "+", "/", "*", "length", "limit", "according", "to", "Siemens", "3070usb", "-", "protokoll", ".", "doc", "ch", ".", "2", ".", "1", "*", "/", "<nl>", "+", "#", "define", "IF", "_", "WRITEBUF", "264", "<nl>", "<nl>", "/", "*", "Values", "for", "the", "Gigaset", "M105", "Data", "*", "/", "<nl>", "#", "define", "USB", "_", "M105", "_", "VENDOR", "_", "ID", "0x0681", "<nl>"], "docstring_tokens": ["isdn", "gigaset", "adjust", "usb_gigaset", "tty", "write", "buffer", "limit"]}
{"code_tokens": ["static", "void", "xilinx", "_", "msi", "_", "teardown", "_", "irq", "(", "struct", "msi", "_", "controller", "*", "chip", ",", "<nl>", "unsigned", "int", "irq", ")", "<nl>", "{", "<nl>", "xilinx", "_", "pcie", "_", "destroy", "_", "msi", "(", "irq", ")", ";", "<nl>", "+", "irq", "_", "dispose", "_", "mapping", "(", "irq", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["PCI", "xilinx", "Dispose", "of", "MSI", "virtual", "IRQ"]}
{"code_tokens": ["static", "void", "aead", "_", "release", "(", "void", "*", "private", ")", "<nl>", "struct", "aead", "_", "tfm", "*", "tfm", "=", "private", ";", "<nl>", "<nl>", "crypto", "_", "free", "_", "aead", "(", "tfm", "-", ">", "aead", ")", ";", "<nl>", "+", "crypto", "_", "put", "_", "default", "_", "null", "_", "skcipher2", "(", ")", ";", "<nl>", "kfree", "(", "tfm", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "aead", "_", "sock", "_", "destruct", "(", "struct", "sock", "*", "sk", ")", "<nl>", "unsigned", "int", "ivlen", "=", "crypto", "_", "aead", "_", "ivsize", "(", "tfm", ")", ";", "<nl>", "<nl>", "af", "_", "alg", "_", "pull", "_", "tsgl", "(", "sk", ",", "ctx", "-", ">", "used", ",", "NULL", ",", "0", ")", ";", "<nl>", "-", "crypto", "_", "put", "_", "default", "_", "null", "_", "skcipher2", "(", ")", ";", "<nl>", "sock", "_", "kzfree", "_", "s", "(", "sk", ",", "ctx", "-", ">", "iv", ",", "ivlen", ")", ";", "<nl>", "sock", "_", "kfree", "_", "s", "(", "sk", ",", "ctx", ",", "ctx", "-", ">", "len", ")", ";", "<nl>", "af", "_", "alg", "_", "release", "_", "parent", "(", "sk", ")", ";", "<nl>"], "docstring_tokens": ["crypto", "algif_aead", "fix", "reference", "counting", "of", "null", "skcipher"]}
{"code_tokens": ["static", "void", "mv88e6xxx", "_", "remove", "(", "struct", "mdio", "_", "device", "*", "mdiodev", ")", "<nl>", "if", "(", "chip", "-", ">", "irq", ">", "0", ")", "{", "<nl>", "if", "(", "chip", "-", ">", "info", "-", ">", "g2", "_", "irqs", ">", "0", ")", "<nl>", "mv88e6xxx", "_", "g2", "_", "irq", "_", "free", "(", "chip", ")", ";", "<nl>", "+", "mutex", "_", "lock", "(", "&", "chip", "-", ">", "reg", "_", "lock", ")", ";", "<nl>", "mv88e6xxx", "_", "g1", "_", "irq", "_", "free", "(", "chip", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "chip", "-", ">", "reg", "_", "lock", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "dsa", "mv88e6xxx", "lock", "mutex", "when", "freeing", "IRQs"]}
{"code_tokens": ["static", "int", "load", "_", "firmware", "(", "struct", "dvb", "_", "frontend", "*", "fe", ",", "unsigned", "int", "type", ",", "<nl>", "(", "*", "p", ")", "&", "0x7f", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "+", "break", ";", "<nl>", "default", ":", "<nl>", "tuner", "_", "info", "(", "\"", "Invalid", "RESET", "code", "%", "d", "\\", "n", "\"", ",", "<nl>", "size", "&", "0x7f", ")", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "6637", "xc2028", "add", "missing", "break"]}
{"code_tokens": ["static", "inline", "int", "is", "_", "sp", "_", "move", "_", "ins", "(", "union", "mips", "_", "instruction", "*", "ip", ")", "<nl>", "*", "/", "<nl>", "if", "(", "mm", "_", "insn", "_", "16bit", "(", "ip", "-", ">", "halfword", "[", "1", "]", ")", ")", "{", "<nl>", "return", "(", "ip", "-", ">", "mm16", "_", "r3", "_", "format", ".", "opcode", "=", "=", "mm", "_", "pool16d", "_", "op", "&", "&", "<nl>", "-", "ip", "-", ">", "mm16", "_", "r3", "_", "format", ".", "simmediate", "&", "&", "mm", "_", "addiusp", "_", "func", ")", "|", "|", "<nl>", "+", "ip", "-", ">", "mm16", "_", "r3", "_", "format", ".", "simmediate", "&", "mm", "_", "addiusp", "_", "func", ")", "|", "|", "<nl>", "(", "ip", "-", ">", "mm16", "_", "r5", "_", "format", ".", "opcode", "=", "=", "mm", "_", "pool16d", "_", "op", "&", "&", "<nl>", "ip", "-", ">", "mm16", "_", "r5", "_", "format", ".", "rt", "=", "=", "29", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["MIPS", "microMIPS", "Fix", "detection", "of", "addiusp", "instruction"]}
{"code_tokens": ["static", "const", "struct", "ich", "_", "laptop", "ich", "_", "laptop", "[", "]", "=", "{", "<nl>", "{", "0x27DF", ",", "0x0005", ",", "0x0280", "}", ",", "/", "*", "ICH7", "on", "Acer", "5602WLMi", "*", "/", "<nl>", "{", "0x27DF", ",", "0x1025", ",", "0x0110", "}", ",", "/", "*", "ICH7", "on", "Acer", "3682WLMi", "*", "/", "<nl>", "{", "0x27DF", ",", "0x1043", ",", "0x1267", "}", ",", "/", "*", "ICH7", "on", "Asus", "W5F", "*", "/", "<nl>", "+", "{", "0x24CA", ",", "0x1025", ",", "0x0061", "}", ",", "/", "*", "ICH4", "on", "ACER", "Aspire", "2023WLMi", "*", "/", "<nl>", "/", "*", "end", "marker", "*", "/", "<nl>", "{", "0", ",", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["ata_piix", "add", "short", "40c", "quirk", "for", "Acer", "Aspire", "2030", "take", "2"]}
{"code_tokens": ["static", "const", "char", "*", "verstr", "=", "\"", "20080224", "\"", ";", "<nl>", "#", "include", "<", "linux", "/", "cdev", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "delay", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "mutex", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "smp", "_", "lock", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "asm", "/", "uaccess", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "dma", ".", "h", ">", "<nl>", "static", "int", "check", "_", "tape", "(", "struct", "scsi", "_", "tape", "*", "STp", ",", "struct", "file", "*", "filp", ")", "<nl>", "}", "<nl>", "<nl>", "<nl>", "-", "<nl>", "/", "*", "Open", "the", "device", ".", "Needs", "to", "be", "called", "with", "BKL", "only", "because", "of", "incrementing", "the", "SCSI", "host", "<nl>", "+", "<nl>", "/", "*", "Open", "the", "device", ".", "Needs", "to", "take", "the", "BKL", "only", "because", "of", "incrementing", "the", "SCSI", "host", "<nl>", "module", "count", ".", "*", "/", "<nl>", "static", "int", "st", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "{", "<nl>", "static", "int", "st", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "int", "dev", "=", "TAPE", "_", "NR", "(", "inode", ")", ";", "<nl>", "char", "*", "name", ";", "<nl>", "<nl>", "+", "lock", "_", "kernel", "(", ")", ";", "<nl>", "/", "*", "<nl>", "*", "We", "really", "want", "to", "do", "nonseekable", "_", "open", "(", "inode", ",", "filp", ")", ";", "here", ",", "but", "some", "<nl>", "*", "versions", "of", "tar", "incorrectly", "call", "lseek", "on", "tapes", "and", "bail", "out", "if", "that", "<nl>", "static", "int", "st", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "*", "/", "<nl>", "filp", "-", ">", "f", "_", "mode", "&", "=", "~", "(", "FMODE", "_", "PREAD", "|", "FMODE", "_", "PWRITE", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "(", "STp", "=", "scsi", "_", "tape", "_", "get", "(", "dev", ")", ")", ")", "<nl>", "+", "if", "(", "!", "(", "STp", "=", "scsi", "_", "tape", "_", "get", "(", "dev", ")", ")", ")", "{", "<nl>", "+", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "-", "ENXIO", ";", "<nl>", "+", "}", "<nl>", "<nl>", "write", "_", "lock", "(", "&", "st", "_", "dev", "_", "arr", "_", "lock", ")", ";", "<nl>", "filp", "-", ">", "private", "_", "data", "=", "STp", ";", "<nl>", "static", "int", "st", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "if", "(", "STp", "-", ">", "in", "_", "use", ")", "{", "<nl>", "write", "_", "unlock", "(", "&", "st", "_", "dev", "_", "arr", "_", "lock", ")", ";", "<nl>", "scsi", "_", "tape", "_", "put", "(", "STp", ")", ";", "<nl>", "+", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "DEB", "(", "printk", "(", "ST", "_", "DEB", "_", "MSG", "\"", "%", "s", ":", "Device", "already", "in", "use", ".", "\\", "n", "\"", ",", "name", ")", ";", ")", "<nl>", "return", "(", "-", "EBUSY", ")", ";", "<nl>", "}", "<nl>", "static", "int", "st", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "retval", "=", "(", "-", "EIO", ")", ";", "<nl>", "goto", "err", "_", "out", ";", "<nl>", "}", "<nl>", "+", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "0", ";", "<nl>", "<nl>", "err", "_", "out", ":", "<nl>", "normalize", "_", "buffer", "(", "STp", "-", ">", "buffer", ")", ";", "<nl>", "STp", "-", ">", "in", "_", "use", "=", "0", ";", "<nl>", "scsi", "_", "tape", "_", "put", "(", "STp", ")", ";", "<nl>", "+", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "retval", ";", "<nl>", "<nl>", "}", "<nl>"], "docstring_tokens": ["st", "cdev", "lock_kernel", "pushdown"]}
{"code_tokens": ["static", "const", "struct", "nvkm", "_", "device", "_", "chip", "<nl>", "nv134", "_", "chipset", "=", "{", "<nl>", ".", "name", "=", "\"", "GP104", "\"", ",", "<nl>", ".", "mc", "=", "gp100", "_", "mc", "_", "new", ",", "<nl>", "+", ".", "pci", "=", "gp100", "_", "pci", "_", "new", ",", "<nl>", ".", "top", "=", "gk104", "_", "top", "_", "new", ",", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["drm", "nouveau", "pci", "gp104", "initial", "support"]}
{"code_tokens": ["int", "usbip", "_", "recv", "_", "xbuff", "(", "struct", "usbip", "_", "device", "*", "ud", ",", "struct", "urb", "*", "urb", ")", "<nl>", "if", "(", "!", "(", "size", ">", "0", ")", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "if", "(", "size", ">", "urb", "-", ">", "transfer", "_", "buffer", "_", "length", ")", "{", "<nl>", "+", "/", "*", "should", "not", "happen", ",", "probably", "malicious", "packet", "*", "/", "<nl>", "+", "if", "(", "ud", "-", ">", "side", "=", "=", "USBIP", "_", "STUB", ")", "{", "<nl>", "+", "usbip", "_", "event", "_", "add", "(", "ud", ",", "SDEV", "_", "EVENT", "_", "ERROR", "_", "TCP", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "usbip", "_", "event", "_", "add", "(", "ud", ",", "VDEV", "_", "EVENT", "_", "ERROR", "_", "TCP", ")", ";", "<nl>", "+", "return", "-", "EPIPE", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "ret", "=", "usbip", "_", "recv", "(", "ud", "-", ">", "tcp", "_", "socket", ",", "urb", "-", ">", "transfer", "_", "buffer", ",", "size", ")", ";", "<nl>", "if", "(", "ret", "!", "=", "size", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "urb", "-", ">", "dev", "-", ">", "dev", ",", "\"", "recv", "xbuf", ",", "%", "d", "\\", "n", "\"", ",", "ret", ")", ";", "<nl>"], "docstring_tokens": ["USB", "usbip", "fix", "potential", "out", "of", "bounds", "write"]}
{"code_tokens": ["static", "void", "s3c", "_", "hsotg", "_", "core", "_", "init", "(", "struct", "s3c", "_", "hsotg", "*", "hsotg", ")", "<nl>", "/", "*", "Clear", "any", "pending", "interrupts", "*", "/", "<nl>", "writel", "(", "0xffffffff", ",", "hsotg", "-", ">", "regs", "+", "S3C", "_", "GINTSTS", ")", ";", "<nl>", "<nl>", "-", "writel", "(", "S3C", "_", "GINTSTS", "_", "DisconnInt", "|", "S3C", "_", "GINTSTS", "_", "SessReqInt", "|", "<nl>", "+", "writel", "(", "S3C", "_", "GINTSTS", "_", "ErlySusp", "|", "S3C", "_", "GINTSTS", "_", "SessReqInt", "|", "<nl>", "S3C", "_", "GINTSTS", "_", "GOUTNakEff", "|", "S3C", "_", "GINTSTS", "_", "GINNakEff", "|", "<nl>", "S3C", "_", "GINTSTS", "_", "ConIDStsChng", "|", "S3C", "_", "GINTSTS", "_", "USBRst", "|", "<nl>", "S3C", "_", "GINTSTS", "_", "EnumDone", "|", "S3C", "_", "GINTSTS", "_", "OTGInt", "|", "<nl>", "-", "S3C", "_", "GINTSTS", "_", "USBSusp", "|", "S3C", "_", "GINTSTS", "_", "WkUpInt", "|", "<nl>", "-", "S3C", "_", "GINTSTS", "_", "ErlySusp", ",", "<nl>", "+", "S3C", "_", "GINTSTS", "_", "USBSusp", "|", "S3C", "_", "GINTSTS", "_", "WkUpInt", ",", "<nl>", "hsotg", "-", ">", "regs", "+", "S3C", "_", "GINTMSK", ")", ";", "<nl>", "<nl>", "if", "(", "using", "_", "dma", "(", "hsotg", ")", ")", "<nl>", "static", "irqreturn", "_", "t", "s3c", "_", "hsotg", "_", "irq", "(", "int", "irq", ",", "void", "*", "pw", ")", "<nl>", "writel", "(", "otgint", ",", "hsotg", "-", ">", "regs", "+", "S3C", "_", "GOTGINT", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "gintsts", "&", "S3C", "_", "GINTSTS", "_", "DisconnInt", ")", "{", "<nl>", "-", "dev", "_", "dbg", "(", "hsotg", "-", ">", "dev", ",", "\"", "%", "s", ":", "DisconnInt", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "-", "writel", "(", "S3C", "_", "GINTSTS", "_", "DisconnInt", ",", "hsotg", "-", ">", "regs", "+", "S3C", "_", "GINTSTS", ")", ";", "<nl>", "-", "<nl>", "-", "s3c", "_", "hsotg", "_", "disconnect", "_", "irq", "(", "hsotg", ")", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "if", "(", "gintsts", "&", "S3C", "_", "GINTSTS", "_", "SessReqInt", ")", "{", "<nl>", "dev", "_", "dbg", "(", "hsotg", "-", ">", "dev", ",", "\"", "%", "s", ":", "SessReqInt", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "writel", "(", "S3C", "_", "GINTSTS", "_", "SessReqInt", ",", "hsotg", "-", ">", "regs", "+", "S3C", "_", "GINTSTS", ")", ";", "<nl>"], "docstring_tokens": ["usb", "hsotg", "samsung", "Remove", "Disconnect", "Interrupt", "handler"]}
{"code_tokens": ["bool", "acpi", "_", "dev", "_", "resource", "_", "memory", "(", "struct", "acpi", "_", "resource", "*", "ares", ",", "struct", "resource", "*", "res", ")", "<nl>", "switch", "(", "ares", "-", ">", "type", ")", "{", "<nl>", "case", "ACPI", "_", "RESOURCE", "_", "TYPE", "_", "MEMORY24", ":", "<nl>", "memory24", "=", "&", "ares", "-", ">", "data", ".", "memory24", ";", "<nl>", "+", "if", "(", "!", "memory24", "-", ">", "address", "_", "length", ")", "<nl>", "+", "return", "false", ";", "<nl>", "acpi", "_", "dev", "_", "get", "_", "memresource", "(", "res", ",", "memory24", "-", ">", "minimum", ",", "<nl>", "memory24", "-", ">", "address", "_", "length", ",", "<nl>", "memory24", "-", ">", "write", "_", "protect", ")", ";", "<nl>", "break", ";", "<nl>", "case", "ACPI", "_", "RESOURCE", "_", "TYPE", "_", "MEMORY32", ":", "<nl>", "memory32", "=", "&", "ares", "-", ">", "data", ".", "memory32", ";", "<nl>", "+", "if", "(", "!", "memory32", "-", ">", "address", "_", "length", ")", "<nl>", "+", "return", "false", ";", "<nl>", "acpi", "_", "dev", "_", "get", "_", "memresource", "(", "res", ",", "memory32", "-", ">", "minimum", ",", "<nl>", "memory32", "-", ">", "address", "_", "length", ",", "<nl>", "memory32", "-", ">", "write", "_", "protect", ")", ";", "<nl>", "break", ";", "<nl>", "case", "ACPI", "_", "RESOURCE", "_", "TYPE", "_", "FIXED", "_", "MEMORY32", ":", "<nl>", "fixed", "_", "memory32", "=", "&", "ares", "-", ">", "data", ".", "fixed", "_", "memory32", ";", "<nl>", "+", "if", "(", "!", "fixed", "_", "memory32", "-", ">", "address", "_", "length", ")", "<nl>", "+", "return", "false", ";", "<nl>", "acpi", "_", "dev", "_", "get", "_", "memresource", "(", "res", ",", "fixed", "_", "memory32", "-", ">", "address", ",", "<nl>", "fixed", "_", "memory32", "-", ">", "address", "_", "length", ",", "<nl>", "fixed", "_", "memory32", "-", ">", "write", "_", "protect", ")", ";", "<nl>", "bool", "acpi", "_", "dev", "_", "resource", "_", "io", "(", "struct", "acpi", "_", "resource", "*", "ares", ",", "struct", "resource", "*", "res", ")", "<nl>", "switch", "(", "ares", "-", ">", "type", ")", "{", "<nl>", "case", "ACPI", "_", "RESOURCE", "_", "TYPE", "_", "IO", ":", "<nl>", "io", "=", "&", "ares", "-", ">", "data", ".", "io", ";", "<nl>", "+", "if", "(", "!", "io", "-", ">", "address", "_", "length", ")", "<nl>", "+", "return", "false", ";", "<nl>", "acpi", "_", "dev", "_", "get", "_", "ioresource", "(", "res", ",", "io", "-", ">", "minimum", ",", "<nl>", "io", "-", ">", "address", "_", "length", ",", "<nl>", "io", "-", ">", "io", "_", "decode", ")", ";", "<nl>", "break", ";", "<nl>", "case", "ACPI", "_", "RESOURCE", "_", "TYPE", "_", "FIXED", "_", "IO", ":", "<nl>", "fixed", "_", "io", "=", "&", "ares", "-", ">", "data", ".", "fixed", "_", "io", ";", "<nl>", "+", "if", "(", "!", "fixed", "_", "io", "-", ">", "address", "_", "length", ")", "<nl>", "+", "return", "false", ";", "<nl>", "acpi", "_", "dev", "_", "get", "_", "ioresource", "(", "res", ",", "fixed", "_", "io", "-", ">", "address", ",", "<nl>", "fixed", "_", "io", "-", ">", "address", "_", "length", ",", "<nl>", "ACPI", "_", "DECODE", "_", "10", ")", ";", "<nl>"], "docstring_tokens": ["ACPI", "resources", "ignore", "invalid", "ACPI", "device", "resources"]}
{"code_tokens": ["static", "int", "snd", "_", "compr", "_", "allocate", "_", "buffer", "(", "struct", "snd", "_", "compr", "_", "stream", "*", "stream", ",", "<nl>", "unsigned", "int", "buffer", "_", "size", ";", "<nl>", "void", "*", "buffer", ";", "<nl>", "<nl>", "+", "if", "(", "params", "-", ">", "buffer", ".", "fragment", "_", "size", "=", "=", "0", "|", "|", "<nl>", "+", "params", "-", ">", "buffer", ".", "fragments", ">", "SIZE", "_", "MAX", "/", "params", "-", ">", "buffer", ".", "fragment", "_", "size", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "buffer", "_", "size", "=", "params", "-", ">", "buffer", ".", "fragment", "_", "size", "*", "params", "-", ">", "buffer", ".", "fragments", ";", "<nl>", "if", "(", "stream", "-", ">", "ops", "-", ">", "copy", ")", "{", "<nl>", "buffer", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["ALSA", "compress_core", "integer", "overflow", "in", "snd_compr_allocate_buffer"]}
{"code_tokens": ["static", "ssize", "_", "t", "regulator", "_", "name", "_", "show", "(", "struct", "device", "*", "dev", ",", "<nl>", "struct", "regulator", "_", "dev", "*", "rdev", "=", "dev", "_", "get", "_", "drvdata", "(", "dev", ")", ";", "<nl>", "const", "char", "*", "name", ";", "<nl>", "<nl>", "-", "if", "(", "rdev", "-", ">", "constraints", "-", ">", "name", ")", "<nl>", "+", "if", "(", "rdev", "-", ">", "constraints", "&", "&", "rdev", "-", ">", "constraints", "-", ">", "name", ")", "<nl>", "name", "=", "rdev", "-", ">", "constraints", "-", ">", "name", ";", "<nl>", "else", "if", "(", "rdev", "-", ">", "desc", "-", ">", "name", ")", "<nl>", "name", "=", "rdev", "-", ">", "desc", "-", ">", "name", ";", "<nl>"], "docstring_tokens": ["regulator", "Check", "for", "constraints", "before", "using", "them", "for", "name"]}
{"code_tokens": ["static", "void", "process", "_", "init", "_", "reply", "(", "struct", "fuse", "_", "conn", "*", "fc", ",", "struct", "fuse", "_", "req", "*", "req", ")", "<nl>", "int", "i", ";", "<nl>", "struct", "fuse", "_", "init", "_", "out", "*", "arg", "=", "&", "req", "-", ">", "misc", ".", "init", "_", "out", ";", "<nl>", "<nl>", "-", "if", "(", "arg", "-", ">", "major", "!", "=", "FUSE", "_", "KERNEL", "_", "VERSION", ")", "<nl>", "+", "if", "(", "req", "-", ">", "out", ".", "h", ".", "error", "|", "|", "arg", "-", ">", "major", "!", "=", "FUSE", "_", "KERNEL", "_", "VERSION", ")", "<nl>", "fc", "-", ">", "conn", "_", "error", "=", "1", ";", "<nl>", "else", "{", "<nl>", "fc", "-", ">", "minor", "=", "arg", "-", ">", "minor", ";", "<nl>"], "docstring_tokens": ["PATCH", "fuse", "handle", "error", "INIT", "reply"]}
{"code_tokens": ["static", "void", "tcp", "_", "mark", "_", "head", "_", "lost", "(", "struct", "sock", "*", "sk", ",", "int", "packets", ")", "<nl>", "cnt", "+", "=", "tcp", "_", "skb", "_", "pcount", "(", "skb", ")", ";", "<nl>", "<nl>", "if", "(", "cnt", ">", "packets", ")", "{", "<nl>", "-", "if", "(", "tcp", "_", "is", "_", "sack", "(", "tp", ")", "|", "|", "(", "oldcnt", ">", "=", "packets", ")", ")", "<nl>", "+", "if", "(", "(", "tcp", "_", "is", "_", "sack", "(", "tp", ")", "&", "&", "!", "tcp", "_", "is", "_", "fack", "(", "tp", ")", ")", "|", "|", "<nl>", "+", "(", "oldcnt", ">", "=", "packets", ")", ")", "<nl>", "break", ";", "<nl>", "<nl>", "mss", "=", "skb", "_", "shinfo", "(", "skb", ")", "-", ">", "gso", "_", "size", ";", "<nl>"], "docstring_tokens": ["tcp", "fix", "TSO", "FACK", "loss", "marking", "in", "tcp_mark_head_lost"]}
{"code_tokens": ["static", "int", "pci", "_", "quirk", "_", "amd", "_", "sb", "_", "acs", "(", "struct", "pci", "_", "dev", "*", "dev", ",", "u16", "acs", "_", "flags", ")", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "pci", "_", "quirk", "_", "cavium", "_", "acs", "(", "struct", "pci", "_", "dev", "*", "dev", ",", "u16", "acs", "_", "flags", ")", "<nl>", "+", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Cavium", "devices", "matching", "this", "quirk", "do", "not", "perform", "peer", "-", "to", "-", "peer", "<nl>", "+", "*", "with", "other", "functions", ",", "allowing", "masking", "out", "these", "bits", "as", "if", "they", "<nl>", "+", "*", "were", "unimplemented", "in", "the", "ACS", "capability", ".", "<nl>", "+", "*", "/", "<nl>", "+", "acs", "_", "flags", "&", "=", "~", "(", "PCI", "_", "ACS", "_", "SV", "|", "PCI", "_", "ACS", "_", "TB", "|", "PCI", "_", "ACS", "_", "RR", "|", "<nl>", "+", "PCI", "_", "ACS", "_", "CR", "|", "PCI", "_", "ACS", "_", "UF", "|", "PCI", "_", "ACS", "_", "DT", ")", ";", "<nl>", "+", "<nl>", "+", "return", "acs", "_", "flags", "?", "0", ":", "1", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Many", "Intel", "PCH", "root", "ports", "do", "provide", "ACS", "-", "like", "features", "to", "disable", "peer", "<nl>", "*", "transactions", "and", "validate", "bus", "numbers", "in", "requests", ",", "but", "do", "not", "provide", "an", "<nl>", "static", "const", "struct", "pci", "_", "dev", "_", "acs", "_", "enabled", "{", "<nl>", "{", "PCI", "_", "VENDOR", "_", "ID", "_", "INTEL", ",", "PCI", "_", "ANY", "_", "ID", ",", "pci", "_", "quirk", "_", "intel", "_", "pch", "_", "acs", "}", ",", "<nl>", "{", "0x19a2", ",", "0x710", ",", "pci", "_", "quirk", "_", "mf", "_", "endpoint", "_", "acs", "}", ",", "/", "*", "Emulex", "BE3", "-", "R", "*", "/", "<nl>", "{", "0x10df", ",", "0x720", ",", "pci", "_", "quirk", "_", "mf", "_", "endpoint", "_", "acs", "}", ",", "/", "*", "Emulex", "Skyhawk", "-", "R", "*", "/", "<nl>", "+", "/", "*", "Cavium", "ThunderX", "*", "/", "<nl>", "+", "{", "PCI", "_", "VENDOR", "_", "ID", "_", "CAVIUM", ",", "PCI", "_", "ANY", "_", "ID", ",", "pci", "_", "quirk", "_", "cavium", "_", "acs", "}", ",", "<nl>", "{", "0", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["PCI", "Add", "ACS", "quirk", "for", "all", "Cavium", "devices"]}
{"code_tokens": ["void", "free", "_", "fib", "_", "info", "(", "struct", "fib", "_", "info", "*", "fi", ")", "<nl>", "#", "endif", "<nl>", "call", "_", "rcu", "(", "&", "fi", "-", ">", "rcu", ",", "free", "_", "fib", "_", "info", "_", "rcu", ")", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "free", "_", "fib", "_", "info", ")", ";", "<nl>", "<nl>", "void", "fib", "_", "release", "_", "info", "(", "struct", "fib", "_", "info", "*", "fi", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["ipv4", "fib", "Export", "free_fib_info"]}
{"code_tokens": ["static", "void", "intel", "_", "lvds", "_", "mode", "_", "set", "(", "struct", "drm", "_", "encoder", "*", "encoder", ",", "<nl>", "/", "*", "*", "<nl>", "*", "Detect", "the", "LVDS", "connection", ".", "<nl>", "*", "<nl>", "-", "*", "This", "always", "returns", "CONNECTOR", "_", "STATUS", "_", "CONNECTED", ".", "This", "connector", "should", "only", "have", "<nl>", "-", "*", "been", "set", "up", "if", "the", "LVDS", "was", "actually", "connected", "anyway", ".", "<nl>", "+", "*", "Since", "LVDS", "doesn", "'", "t", "have", "hotlug", ",", "we", "use", "the", "lid", "as", "a", "proxy", ".", "Open", "means", "<nl>", "+", "*", "connected", "and", "closed", "means", "disconnected", ".", "We", "also", "send", "hotplug", "events", "as", "<nl>", "+", "*", "needed", ",", "using", "lid", "status", "notification", "from", "the", "input", "layer", ".", "<nl>", "*", "/", "<nl>", "static", "enum", "drm", "_", "connector", "_", "status", "intel", "_", "lvds", "_", "detect", "(", "struct", "drm", "_", "connector", "*", "connector", ")", "<nl>", "{", "<nl>", "-", "return", "connector", "_", "status", "_", "connected", ";", "<nl>", "+", "enum", "drm", "_", "connector", "_", "status", "status", "=", "connector", "_", "status", "_", "connected", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "acpi", "_", "lid", "_", "open", "(", ")", ")", "<nl>", "+", "status", "=", "connector", "_", "status", "_", "disconnected", ";", "<nl>", "+", "<nl>", "+", "return", "status", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["drm", "i915", "use", "ACPI", "LID", "status", "for", "LVDS", "detect", "hook"]}
{"code_tokens": ["static", "int", "create", "_", "qp", "_", "common", "(", "struct", "mlx4", "_", "ib", "_", "dev", "*", "dev", ",", "struct", "ib", "_", "pd", "*", "pd", ",", "<nl>", "int", "qpn", ";", "<nl>", "int", "err", ";", "<nl>", "struct", "ib", "_", "qp", "_", "cap", "backup", "_", "cap", ";", "<nl>", "-", "struct", "mlx4", "_", "ib", "_", "sqp", "*", "sqp", ";", "<nl>", "+", "struct", "mlx4", "_", "ib", "_", "sqp", "*", "sqp", "=", "NULL", ";", "<nl>", "struct", "mlx4", "_", "ib", "_", "qp", "*", "qp", ";", "<nl>", "enum", "mlx4", "_", "ib", "_", "qp", "_", "type", "qp", "_", "type", "=", "(", "enum", "mlx4", "_", "ib", "_", "qp", "_", "type", ")", "init", "_", "attr", "-", ">", "qp", "_", "type", ";", "<nl>", "struct", "mlx4", "_", "ib", "_", "cq", "*", "mcq", ";", "<nl>", "static", "int", "create", "_", "qp", "_", "common", "(", "struct", "mlx4", "_", "ib", "_", "dev", "*", "dev", ",", "struct", "ib", "_", "pd", "*", "pd", ",", "<nl>", "mlx4", "_", "db", "_", "free", "(", "dev", "-", ">", "dev", ",", "&", "qp", "-", ">", "db", ")", ";", "<nl>", "<nl>", "err", ":", "<nl>", "-", "if", "(", "!", "*", "caller", "_", "qp", ")", "<nl>", "+", "if", "(", "sqp", ")", "<nl>", "+", "kfree", "(", "sqp", ")", ";", "<nl>", "+", "else", "if", "(", "!", "*", "caller", "_", "qp", ")", "<nl>", "kfree", "(", "qp", ")", ";", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["IB", "mlx4", "Rework", "special", "QP", "creation", "error", "path"]}
{"code_tokens": ["struct", "lock", "_", "chain", "{", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "MAX", "_", "LOCKDEP", "_", "KEYS", "_", "BITS", "11", "<nl>", "-", "#", "define", "MAX", "_", "LOCKDEP", "_", "KEYS", "(", "1UL", "<", "<", "MAX", "_", "LOCKDEP", "_", "KEYS", "_", "BITS", ")", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Subtract", "one", "because", "we", "offset", "hlock", "-", ">", "class", "_", "idx", "by", "1", "in", "order", "<nl>", "+", "*", "to", "make", "0", "mean", "no", "class", ".", "This", "avoids", "overflowing", "the", "class", "_", "idx", "<nl>", "+", "*", "bitfield", "and", "hitting", "the", "BUG", "in", "hlock", "_", "class", "(", ")", ".", "<nl>", "+", "*", "/", "<nl>", "+", "#", "define", "MAX", "_", "LOCKDEP", "_", "KEYS", "(", "(", "1UL", "<", "<", "MAX", "_", "LOCKDEP", "_", "KEYS", "_", "BITS", ")", "-", "1", ")", "<nl>", "<nl>", "struct", "held", "_", "lock", "{", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["lockdep", "fix", "overflow", "in", "the", "hlock", "shrinkage", "code"]}
{"code_tokens": ["static", "int", "device", "_", "rtc", "_", "init", "(", "struct", "pm80x", "_", "chip", "*", "chip", ",", "<nl>", "{", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "-", "rtc", "_", "devs", "[", "0", "]", ".", "platform", "_", "data", "=", "pdata", "-", ">", "rtc", ";", "<nl>", "-", "rtc", "_", "devs", "[", "0", "]", ".", "pdata", "_", "size", "=", "<nl>", "-", "pdata", "-", ">", "rtc", "?", "sizeof", "(", "struct", "pm80x", "_", "rtc", "_", "pdata", ")", ":", "0", ";", "<nl>", "+", "if", "(", "pdata", ")", "{", "<nl>", "+", "rtc", "_", "devs", "[", "0", "]", ".", "platform", "_", "data", "=", "pdata", "-", ">", "rtc", ";", "<nl>", "+", "rtc", "_", "devs", "[", "0", "]", ".", "pdata", "_", "size", "=", "<nl>", "+", "pdata", "-", ">", "rtc", "?", "sizeof", "(", "struct", "pm80x", "_", "rtc", "_", "pdata", ")", ":", "0", ";", "<nl>", "+", "}", "<nl>", "ret", "=", "mfd", "_", "add", "_", "devices", "(", "chip", "-", ">", "dev", ",", "0", ",", "&", "rtc", "_", "devs", "[", "0", "]", ",", "<nl>", "ARRAY", "_", "SIZE", "(", "rtc", "_", "devs", ")", ",", "NULL", ",", "0", ",", "NULL", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "static", "int", "pm800", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "goto", "err", "_", "device", "_", "init", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "pdata", "-", ">", "plat", "_", "config", ")", "<nl>", "+", "if", "(", "pdata", "&", "&", "pdata", "-", ">", "plat", "_", "config", ")", "<nl>", "pdata", "-", ">", "plat", "_", "config", "(", "chip", ",", "pdata", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["mfd", "88pm800", "Fix", "potential", "NULL", "pdata", "dereference"]}
{"code_tokens": ["static", "int", "smack", "_", "cred", "_", "prepare", "(", "struct", "cred", "*", "new", ",", "const", "struct", "cred", "*", "old", ",", "<nl>", "if", "(", "new", "_", "tsp", "=", "=", "NULL", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "+", "new", "-", ">", "security", "=", "new", "_", "tsp", ";", "<nl>", "+", "<nl>", "rc", "=", "smk", "_", "copy", "_", "rules", "(", "&", "new", "_", "tsp", "-", ">", "smk", "_", "rules", ",", "&", "old", "_", "tsp", "-", ">", "smk", "_", "rules", ",", "gfp", ")", ";", "<nl>", "if", "(", "rc", "!", "=", "0", ")", "<nl>", "return", "rc", ";", "<nl>", "static", "int", "smack", "_", "cred", "_", "prepare", "(", "struct", "cred", "*", "new", ",", "const", "struct", "cred", "*", "old", ",", "<nl>", "if", "(", "rc", "!", "=", "0", ")", "<nl>", "return", "rc", ";", "<nl>", "<nl>", "-", "new", "-", ">", "security", "=", "new", "_", "tsp", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["SMACK", "Fix", "the", "memory", "leak", "in", "smack_cred_prepare", "hook"]}
{"code_tokens": ["static", "void", "tcm", "_", "loop", "_", "submission", "_", "work", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "return", ";", "<nl>", "<nl>", "out", "_", "done", ":", "<nl>", "+", "kmem", "_", "cache", "_", "free", "(", "tcm", "_", "loop", "_", "cmd", "_", "cache", ",", "tl", "_", "cmd", ")", ";", "<nl>", "sc", "-", ">", "scsi", "_", "done", "(", "sc", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tcm_loop", "Fix", "memory", "leak", "in", "tcm_loop_submission_work", "error", "path"]}
{"code_tokens": ["static", "int", "setup", "_", "rt", "_", "frame", "(", "int", "sig", ",", "struct", "k", "_", "sigaction", "*", "ka", ",", "siginfo", "_", "t", "*", "info", ",", "<nl>", "}", "else", "{", "<nl>", "regs", "-", ">", "gprs", "[", "14", "]", "=", "(", "unsigned", "long", ")", "<nl>", "frame", "-", ">", "retcode", "|", "PSW", "_", "ADDR", "_", "AMODE", ";", "<nl>", "-", "err", "|", "=", "_", "_", "put", "_", "user", "(", "S390", "_", "SYSCALL", "_", "OPCODE", "|", "_", "_", "NR", "_", "rt", "_", "sigreturn", ",", "<nl>", "-", "(", "u16", "_", "_", "user", "*", ")", "(", "frame", "-", ">", "retcode", ")", ")", ";", "<nl>", "+", "if", "(", "_", "_", "put", "_", "user", "(", "S390", "_", "SYSCALL", "_", "OPCODE", "|", "_", "_", "NR", "_", "rt", "_", "sigreturn", ",", "<nl>", "+", "(", "u16", "_", "_", "user", "*", ")", "(", "frame", "-", ">", "retcode", ")", ")", ")", "<nl>", "+", "goto", "give", "_", "sigsegv", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Set", "up", "backchain", ".", "*", "/", "<nl>"], "docstring_tokens": ["PATCH", "s390", "bug", "in", "setup_rt_frame"]}
{"code_tokens": ["void", "ide", "_", "do", "_", "drive", "_", "cmd", "(", "ide", "_", "drive", "_", "t", "*", "drive", ",", "struct", "request", "*", "rq", ")", "<nl>", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "q", "-", ">", "queue", "_", "lock", ",", "flags", ")", ";", "<nl>", "_", "_", "elv", "_", "add", "_", "request", "(", "q", ",", "rq", ",", "ELEVATOR", "_", "INSERT", "_", "FRONT", ",", "0", ")", ";", "<nl>", "-", "blk", "_", "start", "_", "queueing", "(", "q", ")", ";", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "q", "-", ">", "queue", "_", "lock", ",", "flags", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "ide", "_", "do", "_", "drive", "_", "cmd", ")", ";", "<nl>"], "docstring_tokens": ["ide", "fix", "LOCKDEP", "warning"]}
{"code_tokens": ["int", "jbd2", "_", "_", "journal", "_", "restart", "(", "handle", "_", "t", "*", "handle", ",", "int", "nblocks", ",", "gfp", "_", "t", "gfp", "_", "mask", ")", "<nl>", "<nl>", "rwsem", "_", "release", "(", "&", "journal", "-", ">", "j", "_", "trans", "_", "commit", "_", "map", ",", "1", ",", "_", "THIS", "_", "IP", "_", ")", ";", "<nl>", "handle", "-", ">", "h", "_", "buffer", "_", "credits", "=", "nblocks", ";", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Restore", "the", "original", "nofs", "context", "because", "the", "journal", "restart", "<nl>", "+", "*", "is", "basically", "the", "same", "thing", "as", "journal", "stop", "and", "start", ".", "<nl>", "+", "*", "start", "_", "this", "_", "handle", "will", "start", "a", "new", "nofs", "context", ".", "<nl>", "+", "*", "/", "<nl>", "+", "memalloc", "_", "nofs", "_", "restore", "(", "handle", "-", ">", "saved", "_", "alloc", "_", "context", ")", ";", "<nl>", "ret", "=", "start", "_", "this", "_", "handle", "(", "journal", ",", "handle", ",", "gfp", "_", "mask", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["jbd2", "preserve", "original", "nofs", "flag", "during", "journal", "restart"]}
{"code_tokens": ["static", "int", "aac", "_", "send", "_", "raw", "_", "srb", "(", "struct", "aac", "_", "dev", "*", "dev", ",", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "goto", "cleanup", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "fibsize", ">", "(", "dev", "-", ">", "max", "_", "fib", "_", "size", "-", "sizeof", "(", "struct", "aac", "_", "fibhdr", ")", ")", ")", "{", "<nl>", "+", "if", "(", "(", "fibsize", "<", "(", "sizeof", "(", "struct", "user", "_", "aac", "_", "srb", ")", "-", "sizeof", "(", "struct", "user", "_", "sgentry", ")", ")", ")", "|", "|", "<nl>", "+", "(", "fibsize", ">", "(", "dev", "-", ">", "max", "_", "fib", "_", "size", "-", "sizeof", "(", "struct", "aac", "_", "fibhdr", ")", ")", ")", ")", "{", "<nl>", "rcode", "=", "-", "EINVAL", ";", "<nl>", "goto", "cleanup", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["aacraid", "prevent", "invalid", "pointer", "dereference"]}
{"code_tokens": ["lba", "_", "legacy", "_", "resources", "(", "struct", "parisc", "_", "device", "*", "pa", "_", "dev", ",", "struct", "lba", "_", "device", "*", "lba", "_", "dev", ")", "<nl>", "r", "-", ">", "name", "=", "\"", "LBA", "PCI", "Busses", "\"", ";", "<nl>", "r", "-", ">", "start", "=", "lba", "_", "num", "&", "0xff", ";", "<nl>", "r", "-", ">", "end", "=", "(", "lba", "_", "num", ">", ">", "8", ")", "&", "0xff", ";", "<nl>", "+", "r", "-", ">", "flags", "=", "IORESOURCE", "_", "BUS", ";", "<nl>", "<nl>", "/", "*", "Set", "up", "local", "PCI", "Bus", "resources", "-", "we", "don", "'", "t", "need", "them", "for", "<nl>", "*", "*", "Legacy", "boxes", "but", "it", "'", "s", "nice", "to", "see", "in", "/", "proc", "/", "iomem", ".", "<nl>"], "docstring_tokens": ["parisc", "PCI", "Set", "type", "for", "LBA", "bus_num", "resource"]}
{"code_tokens": ["static", "void", "imx", "_", "pinconf", "_", "group", "_", "dbg", "_", "show", "(", "struct", "pinctrl", "_", "dev", "*", "pctldev", ",", "<nl>", "const", "char", "*", "name", ";", "<nl>", "int", "i", ",", "ret", ";", "<nl>", "<nl>", "-", "if", "(", "group", ">", "pctldev", "-", ">", "num", "_", "groups", ")", "<nl>", "+", "if", "(", "group", ">", "=", "pctldev", "-", ">", "num", "_", "groups", ")", "<nl>", "return", ";", "<nl>", "<nl>", "seq", "_", "puts", "(", "s", ",", "\"", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["pinctrl", "imx", "off", "by", "one", "in", "imx_pinconf_group_dbg_show"]}
{"code_tokens": ["static", "int", "i915", "_", "displayport", "_", "test", "_", "data", "_", "show", "(", "struct", "seq", "_", "file", "*", "m", ",", "void", "*", "data", ")", "<nl>", "if", "(", "connector", "-", ">", "status", "=", "=", "connector", "_", "status", "_", "connected", "&", "&", "<nl>", "connector", "-", ">", "encoder", "!", "=", "NULL", ")", "{", "<nl>", "intel", "_", "dp", "=", "enc", "_", "to", "_", "intel", "_", "dp", "(", "connector", "-", ">", "encoder", ")", ";", "<nl>", "-", "seq", "_", "printf", "(", "m", ",", "\"", "%", "lx", "\"", ",", "intel", "_", "dp", "-", ">", "compliance", ".", "test", "_", "data", ".", "edid", ")", ";", "<nl>", "+", "if", "(", "intel", "_", "dp", "-", ">", "compliance", ".", "test", "_", "type", "=", "=", "<nl>", "+", "DP", "_", "TEST", "_", "LINK", "_", "EDID", "_", "READ", ")", "<nl>", "+", "seq", "_", "printf", "(", "m", ",", "\"", "%", "lx", "\"", ",", "<nl>", "+", "intel", "_", "dp", "-", ">", "compliance", ".", "test", "_", "data", ".", "edid", ")", ";", "<nl>", "}", "else", "<nl>", "seq", "_", "puts", "(", "m", ",", "\"", "0", "\"", ")", ";", "<nl>", "}", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "i915", "/", "intel", "_", "dp", ".", "c", "<nl>", "static", "int", "i915", "_", "displayport", "_", "test", "_", "data", "_", "show", "(", "struct", "seq", "_", "file", "*", "m", ",", "void", "*", "data", ")", "<nl>", "if", "(", "connector", "-", ">", "status", "=", "=", "connector", "_", "status", "_", "connected", "&", "&", "<nl>", "connector", "-", ">", "encoder", "!", "=", "NULL", ")", "{", "<nl>", "intel", "_", "dp", "=", "enc", "_", "to", "_", "intel", "_", "dp", "(", "connector", "-", ">", "encoder", ")", ";", "<nl>", "-", "seq", "_", "printf", "(", "m", ",", "\"", "%", "lx", "\"", ",", "intel", "_", "dp", "-", ">", "compliance", ".", "test", "_", "data", ".", "edid", ")", ";", "<nl>", "+", "if", "(", "intel", "_", "dp", "-", ">", "compliance", ".", "test", "_", "type", "=", "=", "<nl>", "+", "DP", "_", "TEST", "_", "LINK", "_", "EDID", "_", "READ", ")", "<nl>", "+", "seq", "_", "printf", "(", "m", ",", "\"", "%", "lx", "\"", ",", "<nl>", "+", "intel", "_", "dp", "-", ">", "compliance", ".", "test", "_", "data", ".", "edid", ")", ";", "<nl>", "}", "else", "<nl>", "seq", "_", "puts", "(", "m", ",", "\"", "0", "\"", ")", ";", "<nl>", "}", "<nl>", "static", "uint8", "_", "t", "intel", "_", "dp", "_", "autotest", "_", "video", "_", "pattern", "(", "struct", "intel", "_", "dp", "*", "intel", "_", "dp", ")", "<nl>", "<nl>", "static", "uint8", "_", "t", "intel", "_", "dp", "_", "autotest", "_", "edid", "(", "struct", "intel", "_", "dp", "*", "intel", "_", "dp", ")", "<nl>", "{", "<nl>", "-", "uint8", "_", "t", "test", "_", "result", "=", "DP", "_", "TEST", "_", "NAK", ";", "<nl>", "+", "uint8", "_", "t", "test", "_", "result", "=", "DP", "_", "TEST", "_", "ACK", ";", "<nl>", "struct", "intel", "_", "connector", "*", "intel", "_", "connector", "=", "intel", "_", "dp", "-", ">", "attached", "_", "connector", ";", "<nl>", "struct", "drm", "_", "connector", "*", "connector", "=", "&", "intel", "_", "connector", "-", ">", "base", ";", "<nl>", "<nl>", "static", "uint8", "_", "t", "intel", "_", "dp", "_", "autotest", "_", "edid", "(", "struct", "intel", "_", "dp", "*", "intel", "_", "dp", ")", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "Failed", "to", "write", "EDID", "checksum", "\\", "n", "\"", ")", ";", "<nl>", "<nl>", "test", "_", "result", "=", "DP", "_", "TEST", "_", "ACK", "|", "DP", "_", "TEST", "_", "EDID", "_", "CHECKSUM", "_", "WRITE", ";", "<nl>", "-", "intel", "_", "dp", "-", ">", "compliance", ".", "test", "_", "data", ".", "edid", "=", "INTEL", "_", "DP", "_", "RESOLUTION", "_", "STANDARD", ";", "<nl>", "+", "intel", "_", "dp", "-", ">", "compliance", ".", "test", "_", "data", ".", "edid", "=", "INTEL", "_", "DP", "_", "RESOLUTION", "_", "PREFERRED", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Set", "test", "active", "flag", "here", "so", "userspace", "doesn", "'", "t", "interrupt", "things", "*", "/", "<nl>"], "docstring_tokens": ["drm", "i915", "Fixes", "to", "support", "DP", "Compliance", "EDID", "tests"]}
{"code_tokens": ["struct", "iwl", "_", "trans", "{", "<nl>", "static", "inline", "void", "iwl", "_", "trans", "_", "configure", "(", "struct", "iwl", "_", "trans", "*", "trans", ",", "<nl>", "const", "struct", "iwl", "_", "trans", "_", "config", "*", "trans", "_", "cfg", ")", "<nl>", "{", "<nl>", "-", "/", "*", "<nl>", "-", "*", "only", "set", "the", "op", "_", "mode", "for", "the", "moment", ".", "Later", "on", ",", "this", "function", "will", "do", "<nl>", "-", "*", "more", "<nl>", "-", "*", "/", "<nl>", "trans", "-", ">", "op", "_", "mode", "=", "trans", "_", "cfg", "-", ">", "op", "_", "mode", ";", "<nl>", "<nl>", "trans", "-", ">", "ops", "-", ">", "configure", "(", "trans", ",", "trans", "_", "cfg", ")", ";", "<nl>", "static", "inline", "void", "iwl", "_", "trans", "_", "stop", "_", "hw", "(", "struct", "iwl", "_", "trans", "*", "trans", ",", "<nl>", "<nl>", "trans", "-", ">", "ops", "-", ">", "stop", "_", "hw", "(", "trans", ",", "op", "_", "mode", "_", "leaving", ")", ";", "<nl>", "<nl>", "+", "if", "(", "op", "_", "mode", "_", "leaving", ")", "<nl>", "+", "trans", "-", ">", "op", "_", "mode", "=", "NULL", ";", "<nl>", "+", "<nl>", "trans", "-", ">", "state", "=", "IWL", "_", "TRANS", "_", "NO", "_", "FW", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["iwlwifi", "clear", "trans", "op_mode", "pointer", "when", "it", "is", "leaving"]}
{"code_tokens": ["int", "btrfs", "_", "rm", "_", "device", "(", "struct", "btrfs", "_", "fs", "_", "info", "*", "fs", "_", "info", ",", "const", "char", "*", "device", "_", "path", ",", "<nl>", "<nl>", "cur", "_", "devices", "-", ">", "num", "_", "devices", "-", "-", ";", "<nl>", "cur", "_", "devices", "-", ">", "total", "_", "devices", "-", "-", ";", "<nl>", "+", "/", "*", "Update", "total", "_", "devices", "of", "the", "parent", "fs", "_", "devices", "if", "it", "'", "s", "seed", "*", "/", "<nl>", "+", "if", "(", "cur", "_", "devices", "!", "=", "fs", "_", "devices", ")", "<nl>", "+", "fs", "_", "devices", "-", ">", "total", "_", "devices", "-", "-", ";", "<nl>", "<nl>", "if", "(", "test", "_", "bit", "(", "BTRFS", "_", "DEV", "_", "STATE", "_", "MISSING", ",", "&", "device", "-", ">", "dev", "_", "state", ")", ")", "<nl>", "cur", "_", "devices", "-", ">", "missing", "_", "devices", "-", "-", ";", "<nl>"], "docstring_tokens": ["btrfs", "fix", "in", "memory", "value", "of", "total_devices", "after", "seed", "device", "deletion"]}
{"code_tokens": ["struct", "symbol", "_", "conf", "{", "<nl>", "show", "_", "hist", "_", "headers", ",", "<nl>", "branch", "_", "callstack", ",", "<nl>", "has", "_", "filter", ",", "<nl>", "-", "show", "_", "ref", "_", "callgraph", ";", "<nl>", "+", "show", "_", "ref", "_", "callgraph", ",", "<nl>", "+", "hide", "_", "unresolved", ";", "<nl>", "const", "char", "*", "vmlinux", "_", "name", ",", "<nl>", "*", "kallsyms", "_", "name", ",", "<nl>", "*", "source", "_", "prefix", ",", "mmm", "tools", "/", "perf", "/", "util", "/", "machine", ".", "c", "<nl>", "struct", "symbol", "_", "conf", "{", "<nl>", "show", "_", "hist", "_", "headers", ",", "<nl>", "branch", "_", "callstack", ",", "<nl>", "has", "_", "filter", ",", "<nl>", "-", "show", "_", "ref", "_", "callgraph", ";", "<nl>", "+", "show", "_", "ref", "_", "callgraph", ",", "<nl>", "+", "hide", "_", "unresolved", ";", "<nl>", "const", "char", "*", "vmlinux", "_", "name", ",", "<nl>", "*", "kallsyms", "_", "name", ",", "<nl>", "*", "source", "_", "prefix", ",", "<nl>", "static", "int", "add", "_", "callchain", "_", "ip", "(", "struct", "thread", "*", "thread", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "symbol", "_", "conf", ".", "hide", "_", "unresolved", "&", "&", "al", ".", "sym", "=", "=", "NULL", ")", "<nl>", "+", "return", "0", ";", "<nl>", "return", "callchain", "_", "cursor", "_", "append", "(", "&", "callchain", "_", "cursor", ",", "al", ".", "addr", ",", "al", ".", "map", ",", "al", ".", "sym", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "thread", "_", "_", "resolve", "_", "callchain", "_", "sample", "(", "struct", "thread", "*", "thread", ",", "<nl>", "static", "int", "unwind", "_", "entry", "(", "struct", "unwind", "_", "entry", "*", "entry", ",", "void", "*", "arg", ")", "<nl>", "{", "<nl>", "struct", "callchain", "_", "cursor", "*", "cursor", "=", "arg", ";", "<nl>", "+", "<nl>", "+", "if", "(", "symbol", "_", "conf", ".", "hide", "_", "unresolved", "&", "&", "entry", "-", ">", "sym", "=", "=", "NULL", ")", "<nl>", "+", "return", "0", ";", "<nl>", "return", "callchain", "_", "cursor", "_", "append", "(", "cursor", ",", "entry", "-", ">", "ip", ",", "<nl>", "entry", "-", ">", "map", ",", "entry", "-", ">", "sym", ")", ";", "<nl>", "}", "mmm", "tools", "/", "perf", "/", "builtin", "-", "report", ".", "c", "<nl>", "struct", "symbol", "_", "conf", "{", "<nl>", "show", "_", "hist", "_", "headers", ",", "<nl>", "branch", "_", "callstack", ",", "<nl>", "has", "_", "filter", ",", "<nl>", "-", "show", "_", "ref", "_", "callgraph", ";", "<nl>", "+", "show", "_", "ref", "_", "callgraph", ",", "<nl>", "+", "hide", "_", "unresolved", ";", "<nl>", "const", "char", "*", "vmlinux", "_", "name", ",", "<nl>", "*", "kallsyms", "_", "name", ",", "<nl>", "*", "source", "_", "prefix", ",", "<nl>", "static", "int", "add", "_", "callchain", "_", "ip", "(", "struct", "thread", "*", "thread", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "symbol", "_", "conf", ".", "hide", "_", "unresolved", "&", "&", "al", ".", "sym", "=", "=", "NULL", ")", "<nl>", "+", "return", "0", ";", "<nl>", "return", "callchain", "_", "cursor", "_", "append", "(", "&", "callchain", "_", "cursor", ",", "al", ".", "addr", ",", "al", ".", "map", ",", "al", ".", "sym", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "thread", "_", "_", "resolve", "_", "callchain", "_", "sample", "(", "struct", "thread", "*", "thread", ",", "<nl>", "static", "int", "unwind", "_", "entry", "(", "struct", "unwind", "_", "entry", "*", "entry", ",", "void", "*", "arg", ")", "<nl>", "{", "<nl>", "struct", "callchain", "_", "cursor", "*", "cursor", "=", "arg", ";", "<nl>", "+", "<nl>", "+", "if", "(", "symbol", "_", "conf", ".", "hide", "_", "unresolved", "&", "&", "entry", "-", ">", "sym", "=", "=", "NULL", ")", "<nl>", "+", "return", "0", ";", "<nl>", "return", "callchain", "_", "cursor", "_", "append", "(", "cursor", ",", "entry", "-", ">", "ip", ",", "<nl>", "entry", "-", ">", "map", ",", "entry", "-", ">", "sym", ")", ";", "<nl>", "}", "<nl>", "struct", "report", "{", "<nl>", "struct", "perf", "_", "tool", "tool", ";", "<nl>", "struct", "perf", "_", "session", "*", "session", ";", "<nl>", "bool", "use", "_", "tui", ",", "use", "_", "gtk", ",", "use", "_", "stdio", ";", "<nl>", "-", "bool", "hide", "_", "unresolved", ";", "<nl>", "bool", "dont", "_", "use", "_", "callchains", ";", "<nl>", "bool", "show", "_", "full", "_", "info", ";", "<nl>", "bool", "show", "_", "threads", ";", "<nl>", "static", "int", "process", "_", "sample", "_", "event", "(", "struct", "perf", "_", "tool", "*", "tool", ",", "<nl>", "struct", "hist", "_", "entry", "_", "iter", "iter", "=", "{", "<nl>", ".", "evsel", "=", "evsel", ",", "<nl>", ".", "sample", "=", "sample", ",", "<nl>", "-", ".", "hide", "_", "unresolved", "=", "rep", "-", ">", "hide", "_", "unresolved", ",", "<nl>", "+", ".", "hide", "_", "unresolved", "=", "symbol", "_", "conf", ".", "hide", "_", "unresolved", ",", "<nl>", ".", "add", "_", "entry", "_", "cb", "=", "hist", "_", "iter", "_", "_", "report", "_", "callback", ",", "<nl>", "}", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "static", "int", "process", "_", "sample", "_", "event", "(", "struct", "perf", "_", "tool", "*", "tool", ",", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "rep", "-", ">", "hide", "_", "unresolved", "&", "&", "al", ".", "sym", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "symbol", "_", "conf", ".", "hide", "_", "unresolved", "&", "&", "al", ".", "sym", "=", "=", "NULL", ")", "<nl>", "goto", "out", "_", "put", ";", "<nl>", "<nl>", "if", "(", "rep", "-", ">", "cpu", "_", "list", "&", "&", "!", "test", "_", "bit", "(", "sample", "-", ">", "cpu", ",", "rep", "-", ">", "cpu", "_", "bitmap", ")", ")", "<nl>", "int", "cmd", "_", "report", "(", "int", "argc", ",", "const", "char", "*", "*", "argv", ",", "const", "char", "*", "prefix", "_", "_", "maybe", "_", "unused", ")", "<nl>", "OPT", "_", "STRING", "_", "NOEMPTY", "(", "'", "t", "'", ",", "\"", "field", "-", "separator", "\"", ",", "&", "symbol", "_", "conf", ".", "field", "_", "sep", ",", "\"", "separator", "\"", ",", "<nl>", "\"", "separator", "for", "columns", ",", "no", "spaces", "will", "be", "added", "between", "\"", "<nl>", "\"", "columns", "'", ".", "'", "is", "reserved", ".", "\"", ")", ",", "<nl>", "-", "OPT", "_", "BOOLEAN", "(", "'", "U", "'", ",", "\"", "hide", "-", "unresolved", "\"", ",", "&", "report", ".", "hide", "_", "unresolved", ",", "<nl>", "+", "OPT", "_", "BOOLEAN", "(", "'", "U", "'", ",", "\"", "hide", "-", "unresolved", "\"", ",", "&", "symbol", "_", "conf", ".", "hide", "_", "unresolved", ",", "<nl>", "\"", "Only", "display", "entries", "resolved", "to", "a", "symbol", "\"", ")", ",", "<nl>", "OPT", "_", "STRING", "(", "0", ",", "\"", "symfs", "\"", ",", "&", "symbol", "_", "conf", ".", "symfs", ",", "\"", "directory", "\"", ",", "<nl>", "\"", "Look", "for", "files", "with", "symbols", "relative", "to", "this", "directory", "\"", ")", ",", "<nl>"], "docstring_tokens": ["perf", "callchain", "Honor", "hide_unresolved"]}
{"code_tokens": ["static", "struct", "scatterlist", "*", "alloc", "_", "sgtable", "(", "int", "size", ")", "<nl>", "if", "(", "new", "_", "page", ")", "<nl>", "_", "_", "free", "_", "page", "(", "new", "_", "page", ")", ";", "<nl>", "}", "<nl>", "+", "kfree", "(", "table", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "alloc", "_", "size", "=", "min", "_", "t", "(", "int", ",", "size", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>"], "docstring_tokens": ["iwlwifi", "dbg_ini", "fix", "memory", "leak", "in", "alloc_sgtable"]}
{"code_tokens": ["static", "_", "_", "latent", "_", "entropy", "struct", "task", "_", "struct", "*", "copy", "_", "process", "(", "<nl>", "/", "*", "ok", ",", "now", "we", "should", "be", "set", "up", ".", ".", "*", "/", "<nl>", "p", "-", ">", "pid", "=", "pid", "_", "nr", "(", "pid", ")", ";", "<nl>", "if", "(", "clone", "_", "flags", "&", "CLONE", "_", "THREAD", ")", "{", "<nl>", "-", "p", "-", ">", "exit", "_", "signal", "=", "-", "1", ";", "<nl>", "p", "-", ">", "group", "_", "leader", "=", "current", "-", ">", "group", "_", "leader", ";", "<nl>", "p", "-", ">", "tgid", "=", "current", "-", ">", "tgid", ";", "<nl>", "}", "else", "{", "<nl>", "-", "if", "(", "clone", "_", "flags", "&", "CLONE", "_", "PARENT", ")", "<nl>", "-", "p", "-", ">", "exit", "_", "signal", "=", "current", "-", ">", "group", "_", "leader", "-", ">", "exit", "_", "signal", ";", "<nl>", "-", "else", "<nl>", "-", "p", "-", ">", "exit", "_", "signal", "=", "args", "-", ">", "exit", "_", "signal", ";", "<nl>", "p", "-", ">", "group", "_", "leader", "=", "p", ";", "<nl>", "p", "-", ">", "tgid", "=", "p", "-", ">", "pid", ";", "<nl>", "}", "<nl>", "static", "_", "_", "latent", "_", "entropy", "struct", "task", "_", "struct", "*", "copy", "_", "process", "(", "<nl>", "if", "(", "clone", "_", "flags", "&", "(", "CLONE", "_", "PARENT", "|", "CLONE", "_", "THREAD", ")", ")", "{", "<nl>", "p", "-", ">", "real", "_", "parent", "=", "current", "-", ">", "real", "_", "parent", ";", "<nl>", "p", "-", ">", "parent", "_", "exec", "_", "id", "=", "current", "-", ">", "parent", "_", "exec", "_", "id", ";", "<nl>", "+", "if", "(", "clone", "_", "flags", "&", "CLONE", "_", "THREAD", ")", "<nl>", "+", "p", "-", ">", "exit", "_", "signal", "=", "-", "1", ";", "<nl>", "+", "else", "<nl>", "+", "p", "-", ">", "exit", "_", "signal", "=", "current", "-", ">", "group", "_", "leader", "-", ">", "exit", "_", "signal", ";", "<nl>", "}", "else", "{", "<nl>", "p", "-", ">", "real", "_", "parent", "=", "current", ";", "<nl>", "p", "-", ">", "parent", "_", "exec", "_", "id", "=", "current", "-", ">", "self", "_", "exec", "_", "id", ";", "<nl>", "+", "p", "-", ">", "exit", "_", "signal", "=", "args", "-", ">", "exit", "_", "signal", ";", "<nl>", "}", "<nl>", "<nl>", "klp", "_", "copy", "_", "process", "(", "p", ")", ";", "<nl>"], "docstring_tokens": ["fork", "fix", "copy_process", "CLONE_PARENT", "race", "with", "the", "exiting", "real_parent"]}
{"code_tokens": ["static", "struct", "pernet", "_", "operations", "unix", "_", "net", "_", "ops", "=", "{", "<nl>", "static", "int", "_", "_", "init", "af", "_", "unix", "_", "init", "(", "void", ")", "<nl>", "{", "<nl>", "int", "rc", "=", "-", "1", ";", "<nl>", "-", "struct", "sk", "_", "buff", "*", "dummy", "_", "skb", ";", "<nl>", "<nl>", "-", "BUILD", "_", "BUG", "_", "ON", "(", "sizeof", "(", "struct", "unix", "_", "skb", "_", "parms", ")", ">", "sizeof", "(", "dummy", "_", "skb", "-", ">", "cb", ")", ")", ";", "<nl>", "+", "BUILD", "_", "BUG", "_", "ON", "(", "sizeof", "(", "struct", "unix", "_", "skb", "_", "parms", ")", ">", "FIELD", "_", "SIZEOF", "(", "struct", "sk", "_", "buff", ",", "cb", ")", ")", ";", "<nl>", "<nl>", "rc", "=", "proto", "_", "register", "(", "&", "unix", "_", "proto", ",", "1", ")", ";", "<nl>", "if", "(", "rc", "!", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["unix", "Use", "FIELD_SIZEOF", "in", "af_unix_init"]}
{"code_tokens": ["static", "void", "oz", "_", "add", "_", "farewell", "(", "struct", "oz", "_", "pd", "*", "pd", ",", "u8", "ep", "_", "num", ",", "u8", "index", ",", "<nl>", "return", ";", "<nl>", "f", "-", ">", "ep", "_", "num", "=", "ep", "_", "num", ";", "<nl>", "f", "-", ">", "index", "=", "index", ";", "<nl>", "+", "f", "-", ">", "len", "=", "len", ";", "<nl>", "memcpy", "(", "f", "-", ">", "report", ",", "report", ",", "len", ")", ";", "<nl>", "oz", "_", "dbg", "(", "ON", ",", "\"", "RX", ":", "Adding", "farewell", "report", "\\", "n", "\"", ")", ";", "<nl>", "spin", "_", "lock", "(", "&", "g", "_", "polling", "_", "lock", ")", ";", "<nl>"], "docstring_tokens": ["staging", "ozwpan", "Set", "farewell", "report", "length"]}
{"code_tokens": ["void", "ath6kl", "_", "rx", "(", "struct", "htc", "_", "target", "*", "target", ",", "struct", "htc", "_", "packet", "*", "packet", ")", "<nl>", "/", "*", "aggregation", "code", "will", "handle", "the", "skb", "*", "/", "<nl>", "return", ";", "<nl>", "}", "<nl>", "-", "}", "<nl>", "+", "}", "else", "if", "(", "!", "is", "_", "broadcast", "_", "ether", "_", "addr", "(", "datap", "-", ">", "h", "_", "dest", ")", ")", "<nl>", "+", "vif", "-", ">", "net", "_", "stats", ".", "multicast", "+", "+", ";", "<nl>", "<nl>", "ath6kl", "_", "deliver", "_", "frames", "_", "to", "_", "nw", "_", "stack", "(", "vif", "-", ">", "ndev", ",", "skb", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ath6kl", "Support", "net_stats", "multicast"]}
{"code_tokens": ["int", "kvmppc", "_", "mmu", "_", "dtlb", "_", "index", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gva", "_", "t", "eaddr", ")", "<nl>", "return", "kvmppc", "_", "44x", "_", "tlb", "_", "index", "(", "vcpu", ",", "eaddr", ",", "vcpu", "-", ">", "arch", ".", "pid", ",", "as", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "void", "kvmppc", "_", "mmu", "_", "itlb", "_", "miss", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "+", "{", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "void", "kvmppc", "_", "mmu", "_", "dtlb", "_", "miss", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "+", "{", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "void", "kvmppc", "_", "44x", "_", "shadow", "_", "release", "(", "struct", "kvmppc", "_", "vcpu", "_", "44x", "*", "vcpu", "_", "44x", ",", "<nl>", "unsigned", "int", "stlb", "_", "index", ")", "<nl>", "{", "mmm", "arch", "/", "powerpc", "/", "kvm", "/", "booke", ".", "c", "<nl>", "int", "kvmppc", "_", "mmu", "_", "dtlb", "_", "index", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gva", "_", "t", "eaddr", ")", "<nl>", "return", "kvmppc", "_", "44x", "_", "tlb", "_", "index", "(", "vcpu", ",", "eaddr", ",", "vcpu", "-", ">", "arch", ".", "pid", ",", "as", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "void", "kvmppc", "_", "mmu", "_", "itlb", "_", "miss", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "+", "{", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "void", "kvmppc", "_", "mmu", "_", "dtlb", "_", "miss", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "+", "{", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "void", "kvmppc", "_", "44x", "_", "shadow", "_", "release", "(", "struct", "kvmppc", "_", "vcpu", "_", "44x", "*", "vcpu", "_", "44x", ",", "<nl>", "unsigned", "int", "stlb", "_", "index", ")", "<nl>", "{", "<nl>", "int", "kvmppc", "_", "handle", "_", "exit", "(", "struct", "kvm", "_", "run", "*", "run", ",", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "<nl>", "kvmppc", "_", "booke", "_", "queue", "_", "irqprio", "(", "vcpu", ",", "BOOKE", "_", "IRQPRIO", "_", "DTLB", "_", "MISS", ")", ";", "<nl>", "vcpu", "-", ">", "arch", ".", "dear", "=", "vcpu", "-", ">", "arch", ".", "fault", "_", "dear", ";", "<nl>", "vcpu", "-", ">", "arch", ".", "esr", "=", "vcpu", "-", ">", "arch", ".", "fault", "_", "esr", ";", "<nl>", "+", "kvmppc", "_", "mmu", "_", "dtlb", "_", "miss", "(", "vcpu", ")", ";", "<nl>", "kvmppc", "_", "account", "_", "exit", "(", "vcpu", ",", "DTLB", "_", "REAL", "_", "MISS", "_", "EXITS", ")", ";", "<nl>", "r", "=", "RESUME", "_", "GUEST", ";", "<nl>", "break", ";", "<nl>", "int", "kvmppc", "_", "handle", "_", "exit", "(", "struct", "kvm", "_", "run", "*", "run", ",", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "<nl>", "if", "(", "gtlb", "_", "index", "<", "0", ")", "{", "<nl>", "/", "*", "The", "guest", "didn", "'", "t", "have", "a", "mapping", "for", "it", ".", "*", "/", "<nl>", "kvmppc", "_", "booke", "_", "queue", "_", "irqprio", "(", "vcpu", ",", "BOOKE", "_", "IRQPRIO", "_", "ITLB", "_", "MISS", ")", ";", "<nl>", "+", "kvmppc", "_", "mmu", "_", "itlb", "_", "miss", "(", "vcpu", ")", ";", "<nl>", "kvmppc", "_", "account", "_", "exit", "(", "vcpu", ",", "ITLB", "_", "REAL", "_", "MISS", "_", "EXITS", ")", ";", "<nl>", "break", ";", "<nl>", "}", "mmm", "arch", "/", "powerpc", "/", "include", "/", "asm", "/", "kvm", "_", "ppc", ".", "h", "<nl>", "int", "kvmppc", "_", "mmu", "_", "dtlb", "_", "index", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gva", "_", "t", "eaddr", ")", "<nl>", "return", "kvmppc", "_", "44x", "_", "tlb", "_", "index", "(", "vcpu", ",", "eaddr", ",", "vcpu", "-", ">", "arch", ".", "pid", ",", "as", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "void", "kvmppc", "_", "mmu", "_", "itlb", "_", "miss", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "+", "{", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "void", "kvmppc", "_", "mmu", "_", "dtlb", "_", "miss", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "+", "{", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "void", "kvmppc", "_", "44x", "_", "shadow", "_", "release", "(", "struct", "kvmppc", "_", "vcpu", "_", "44x", "*", "vcpu", "_", "44x", ",", "<nl>", "unsigned", "int", "stlb", "_", "index", ")", "<nl>", "{", "<nl>", "int", "kvmppc", "_", "handle", "_", "exit", "(", "struct", "kvm", "_", "run", "*", "run", ",", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "<nl>", "kvmppc", "_", "booke", "_", "queue", "_", "irqprio", "(", "vcpu", ",", "BOOKE", "_", "IRQPRIO", "_", "DTLB", "_", "MISS", ")", ";", "<nl>", "vcpu", "-", ">", "arch", ".", "dear", "=", "vcpu", "-", ">", "arch", ".", "fault", "_", "dear", ";", "<nl>", "vcpu", "-", ">", "arch", ".", "esr", "=", "vcpu", "-", ">", "arch", ".", "fault", "_", "esr", ";", "<nl>", "+", "kvmppc", "_", "mmu", "_", "dtlb", "_", "miss", "(", "vcpu", ")", ";", "<nl>", "kvmppc", "_", "account", "_", "exit", "(", "vcpu", ",", "DTLB", "_", "REAL", "_", "MISS", "_", "EXITS", ")", ";", "<nl>", "r", "=", "RESUME", "_", "GUEST", ";", "<nl>", "break", ";", "<nl>", "int", "kvmppc", "_", "handle", "_", "exit", "(", "struct", "kvm", "_", "run", "*", "run", ",", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "<nl>", "if", "(", "gtlb", "_", "index", "<", "0", ")", "{", "<nl>", "/", "*", "The", "guest", "didn", "'", "t", "have", "a", "mapping", "for", "it", ".", "*", "/", "<nl>", "kvmppc", "_", "booke", "_", "queue", "_", "irqprio", "(", "vcpu", ",", "BOOKE", "_", "IRQPRIO", "_", "ITLB", "_", "MISS", ")", ";", "<nl>", "+", "kvmppc", "_", "mmu", "_", "itlb", "_", "miss", "(", "vcpu", ")", ";", "<nl>", "kvmppc", "_", "account", "_", "exit", "(", "vcpu", ",", "ITLB", "_", "REAL", "_", "MISS", "_", "EXITS", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "extern", "int", "kvmppc", "_", "mmu", "_", "dtlb", "_", "index", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gva", "_", "t", "eaddr", ")", ";", "<nl>", "extern", "int", "kvmppc", "_", "mmu", "_", "itlb", "_", "index", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gva", "_", "t", "eaddr", ")", ";", "<nl>", "extern", "gpa", "_", "t", "kvmppc", "_", "mmu", "_", "xlate", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "unsigned", "int", "gtlb", "_", "index", ",", "<nl>", "gva", "_", "t", "eaddr", ")", ";", "<nl>", "+", "extern", "void", "kvmppc", "_", "mmu", "_", "dtlb", "_", "miss", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", ";", "<nl>", "+", "extern", "void", "kvmppc", "_", "mmu", "_", "itlb", "_", "miss", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", ";", "<nl>", "<nl>", "extern", "struct", "kvm", "_", "vcpu", "*", "kvmppc", "_", "core", "_", "vcpu", "_", "create", "(", "struct", "kvm", "*", "kvm", ",", "<nl>", "unsigned", "int", "id", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "ppc", "Add", "kvmppc_mmu_dtlb", "itlb_miss", "for", "booke"]}
{"code_tokens": ["static", "int", "dwc3", "_", "qcom", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "if", "(", "qcom", "-", ">", "acpi", "_", "pdata", "-", ">", "is", "_", "urs", ")", "{", "<nl>", "qcom", "-", ">", "urs", "_", "usb", "=", "dwc3", "_", "qcom", "_", "create", "_", "urs", "_", "usb", "_", "platdev", "(", "dev", ")", ";", "<nl>", "-", "if", "(", "!", "qcom", "-", ">", "urs", "_", "usb", ")", "{", "<nl>", "+", "if", "(", "IS", "_", "ERR", "_", "OR", "_", "NULL", "(", "qcom", "-", ">", "urs", "_", "usb", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "failed", "to", "create", "URS", "USB", "platdev", "\\", "n", "\"", ")", ";", "<nl>", "-", "return", "-", "ENODEV", ";", "<nl>", "+", "if", "(", "!", "qcom", "-", ">", "urs", "_", "usb", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "else", "<nl>", "+", "return", "PTR", "_", "ERR", "(", "qcom", "-", ">", "urs", "_", "usb", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["usb", "dwc3", "qcom", "Fix", "NULL", "vs", "IS_ERR", "checking", "in", "dwc3_qcom_probe"]}
{"code_tokens": ["int", "tcf", "_", "em", "_", "tree", "_", "validate", "(", "struct", "tcf", "_", "proto", "*", "tp", ",", "struct", "rtattr", "*", "rta", ",", "<nl>", "struct", "tcf", "_", "ematch", "_", "tree", "_", "hdr", "*", "tree", "_", "hdr", ";", "<nl>", "struct", "tcf", "_", "ematch", "*", "em", ";", "<nl>", "<nl>", "+", "if", "(", "!", "rta", ")", "{", "<nl>", "+", "memset", "(", "tree", ",", "0", ",", "sizeof", "(", "*", "tree", ")", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "rtattr", "_", "parse", "_", "nested", "(", "tb", ",", "TCA", "_", "EMATCH", "_", "TREE", "_", "MAX", ",", "rta", ")", "<", "0", ")", "<nl>", "goto", "errout", ";", "<nl>"], "docstring_tokens": ["PKT_SCHED", "Correctly", "handle", "empty", "ematch", "trees"]}
{"code_tokens": ["static", "int", "nop", "_", "usb", "_", "xceiv", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "enum", "usb", "_", "phy", "_", "type", "type", "=", "USB", "_", "PHY", "_", "TYPE", "_", "USB2", ";", "<nl>", "int", "err", ";", "<nl>", "u32", "clk", "_", "rate", "=", "0", ";", "<nl>", "+", "bool", "needs", "_", "vcc", "=", "false", ";", "<nl>", "+", "bool", "needs", "_", "reset", "=", "false", ";", "<nl>", "<nl>", "nop", "=", "devm", "_", "kzalloc", "(", "&", "pdev", "-", ">", "dev", ",", "sizeof", "(", "*", "nop", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "nop", ")", "<nl>", "static", "int", "nop", "_", "usb", "_", "xceiv", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "of", "_", "property", "_", "read", "_", "u32", "(", "node", ",", "\"", "clock", "-", "frequency", "\"", ",", "&", "clk", "_", "rate", ")", ")", "<nl>", "clk", "_", "rate", "=", "0", ";", "<nl>", "<nl>", "+", "needs", "_", "vcc", "=", "of", "_", "property", "_", "read", "_", "bool", "(", "node", ",", "\"", "vcc", "-", "supply", "\"", ")", ";", "<nl>", "+", "needs", "_", "reset", "=", "of", "_", "property", "_", "read", "_", "bool", "(", "node", ",", "\"", "reset", "-", "supply", "\"", ")", ";", "<nl>", "+", "<nl>", "}", "else", "if", "(", "pdata", ")", "{", "<nl>", "type", "=", "pdata", "-", ">", "type", ";", "<nl>", "clk", "_", "rate", "=", "pdata", "-", ">", "clk", "_", "rate", ";", "<nl>", "+", "needs", "_", "vcc", "=", "pdata", "-", ">", "needs", "_", "vcc", ";", "<nl>", "+", "needs", "_", "reset", "=", "pdata", "-", ">", "needs", "_", "reset", ";", "<nl>", "}", "<nl>", "<nl>", "nop", "-", ">", "clk", "=", "devm", "_", "clk", "_", "get", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "main", "_", "clk", "\"", ")", ";", "<nl>", "static", "int", "nop", "_", "usb", "_", "xceiv", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "IS", "_", "ERR", "(", "nop", "-", ">", "vcc", ")", ")", "{", "<nl>", "dev", "_", "dbg", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Error", "getting", "vcc", "regulator", ":", "%", "ld", "\\", "n", "\"", ",", "<nl>", "PTR", "_", "ERR", "(", "nop", "-", ">", "vcc", ")", ")", ";", "<nl>", "+", "if", "(", "needs", "_", "vcc", ")", "<nl>", "+", "return", "-", "EPROBE", "_", "DEFER", ";", "<nl>", "}", "<nl>", "<nl>", "nop", "-", ">", "reset", "=", "devm", "_", "regulator", "_", "get", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "reset", "\"", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "nop", "-", ">", "reset", ")", ")", "{", "<nl>", "dev", "_", "dbg", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Error", "getting", "reset", "regulator", ":", "%", "ld", "\\", "n", "\"", ",", "<nl>", "PTR", "_", "ERR", "(", "nop", "-", ">", "reset", ")", ")", ";", "<nl>", "+", "if", "(", "needs", "_", "reset", ")", "<nl>", "+", "return", "-", "EPROBE", "_", "DEFER", ";", "<nl>", "}", "<nl>", "<nl>", "nop", "-", ">", "dev", "=", "&", "pdev", "-", ">", "dev", ";", "<nl>"], "docstring_tokens": ["USB", "phy", "nop", "Defer", "probe", "if", "device", "needs", "VCC", "RESET"]}
{"code_tokens": ["nfsd4", "_", "layout", "_", "verify", "(", "struct", "svc", "_", "export", "*", "exp", ",", "unsigned", "int", "layout", "_", "type", ")", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "!", "(", "exp", "-", ">", "ex", "_", "layout", "_", "types", "&", "(", "1", "<", "<", "layout", "_", "type", ")", ")", ")", "{", "<nl>", "+", "if", "(", "layout", "_", "type", ">", "=", "LAYOUT", "_", "TYPE", "_", "MAX", "|", "|", "<nl>", "+", "!", "(", "exp", "-", ">", "ex", "_", "layout", "_", "types", "&", "(", "1", "<", "<", "layout", "_", "type", ")", ")", ")", "{", "<nl>", "dprintk", "(", "\"", "%", "s", ":", "layout", "type", "%", "d", "not", "supported", "\\", "n", "\"", ",", "<nl>", "_", "_", "func", "_", "_", ",", "layout", "_", "type", ")", ";", "<nl>", "return", "NULL", ";", "<nl>"], "docstring_tokens": ["nfsd", "fix", "undefined", "behavior", "in", "nfsd4_layout_verify"]}
{"code_tokens": ["void", "mctp", "_", "dev", "_", "hold", "(", "struct", "mctp", "_", "dev", "*", "mdev", ")", "<nl>", "void", "mctp", "_", "dev", "_", "put", "(", "struct", "mctp", "_", "dev", "*", "mdev", ")", "<nl>", "{", "<nl>", "if", "(", "mdev", "&", "&", "refcount", "_", "dec", "_", "and", "_", "test", "(", "&", "mdev", "-", ">", "refs", ")", ")", "{", "<nl>", "+", "kfree", "(", "mdev", "-", ">", "addrs", ")", ";", "<nl>", "dev", "_", "put", "(", "mdev", "-", ">", "dev", ")", ";", "<nl>", "kfree", "_", "rcu", "(", "mdev", ",", "rcu", ")", ";", "<nl>", "}", "<nl>", "static", "void", "mctp", "_", "unregister", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "<nl>", "mctp", "_", "route", "_", "remove", "_", "dev", "(", "mdev", ")", ";", "<nl>", "mctp", "_", "neigh", "_", "remove", "_", "dev", "(", "mdev", ")", ";", "<nl>", "-", "kfree", "(", "mdev", "-", ">", "addrs", ")", ";", "<nl>", "<nl>", "mctp", "_", "dev", "_", "put", "(", "mdev", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mctp", "defer", "the", "kfree", "of", "object", "mdev", "addrs"]}
{"code_tokens": ["static", "int", "pci", "_", "create", "_", "attr", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "int", "num", ",", "int", "write", "_", "combine", ")", "<nl>", "res", "_", "attr", "-", ">", "size", "=", "pci", "_", "resource", "_", "len", "(", "pdev", ",", "num", ")", ";", "<nl>", "res", "_", "attr", "-", ">", "private", "=", "&", "pdev", "-", ">", "resource", "[", "num", "]", ";", "<nl>", "retval", "=", "sysfs", "_", "create", "_", "bin", "_", "file", "(", "&", "pdev", "-", ">", "dev", ".", "kobj", ",", "res", "_", "attr", ")", ";", "<nl>", "+", "if", "(", "retval", ")", "<nl>", "+", "kfree", "(", "res", "_", "attr", ")", ";", "<nl>", "}", "else", "<nl>", "retval", "=", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["PCI", "Don", "t", "leak", "memory", "if", "sysfs_create_bin_file", "fails"]}
{"code_tokens": ["int", "dccp", "_", "disconnect", "(", "struct", "sock", "*", "sk", ",", "int", "flags", ")", "<nl>", "sk", "-", ">", "sk", "_", "err", "=", "ECONNRESET", ";", "<nl>", "<nl>", "dccp", "_", "clear", "_", "xmit", "_", "timers", "(", "sk", ")", ";", "<nl>", "+", "<nl>", "_", "_", "skb", "_", "queue", "_", "purge", "(", "&", "sk", "-", ">", "sk", "_", "receive", "_", "queue", ")", ";", "<nl>", "+", "_", "_", "skb", "_", "queue", "_", "purge", "(", "&", "sk", "-", ">", "sk", "_", "write", "_", "queue", ")", ";", "<nl>", "if", "(", "sk", "-", ">", "sk", "_", "send", "_", "head", "!", "=", "NULL", ")", "{", "<nl>", "_", "_", "kfree", "_", "skb", "(", "sk", "-", ">", "sk", "_", "send", "_", "head", ")", ";", "<nl>", "sk", "-", ">", "sk", "_", "send", "_", "head", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["dccp", "Empty", "the", "write", "queue", "when", "disconnecting"]}
{"code_tokens": ["int", "jffs2", "_", "do", "_", "unlink", "(", "struct", "jffs2", "_", "sb", "_", "info", "*", "c", ",", "struct", "jffs2", "_", "inode", "_", "info", "*", "dir", "_", "f", ",", "<nl>", "struct", "jffs2", "_", "full", "_", "dirent", "*", "*", "prev", "=", "&", "dir", "_", "f", "-", ">", "dents", ";", "<nl>", "uint32", "_", "t", "nhash", "=", "full", "_", "name", "_", "hash", "(", "name", ",", "namelen", ")", ";", "<nl>", "<nl>", "+", "/", "*", "We", "don", "'", "t", "actually", "want", "to", "reserve", "any", "space", ",", "but", "we", "do", "<nl>", "+", "want", "to", "be", "holding", "the", "alloc", "_", "sem", "when", "we", "write", "to", "flash", "*", "/", "<nl>", "+", "down", "(", "&", "c", "-", ">", "alloc", "_", "sem", ")", ";", "<nl>", "down", "(", "&", "dir", "_", "f", "-", ">", "sem", ")", ";", "<nl>", "<nl>", "while", "(", "(", "*", "prev", ")", "&", "&", "(", "*", "prev", ")", "-", ">", "nhash", "<", "=", "nhash", ")", "{", "<nl>"], "docstring_tokens": ["JFFS2", "locking", "regression", "fix"]}
{"code_tokens": ["SMB2", "_", "negotiate", "(", "const", "unsigned", "int", "xid", ",", "struct", "cifs", "_", "ses", "*", "ses", ")", "<nl>", "}", "else", "if", "(", "rsp", "-", ">", "DialectRevision", "=", "=", "cpu", "_", "to", "_", "le16", "(", "SMB21", "_", "PROT", "_", "ID", ")", ")", "{", "<nl>", "/", "*", "ops", "set", "to", "3", ".", "0", "by", "default", "for", "default", "so", "update", "*", "/", "<nl>", "ses", "-", ">", "server", "-", ">", "ops", "=", "&", "smb21", "_", "operations", ";", "<nl>", "-", "}", "else", "if", "(", "rsp", "-", ">", "DialectRevision", "=", "=", "cpu", "_", "to", "_", "le16", "(", "SMB311", "_", "PROT", "_", "ID", ")", ")", "<nl>", "+", "ses", "-", ">", "server", "-", ">", "vals", "=", "&", "smb21", "_", "values", ";", "<nl>", "+", "}", "else", "if", "(", "rsp", "-", ">", "DialectRevision", "=", "=", "cpu", "_", "to", "_", "le16", "(", "SMB311", "_", "PROT", "_", "ID", ")", ")", "{", "<nl>", "ses", "-", ">", "server", "-", ">", "ops", "=", "&", "smb311", "_", "operations", ";", "<nl>", "+", "ses", "-", ">", "server", "-", ">", "vals", "=", "&", "smb311", "_", "values", ";", "<nl>", "+", "}", "<nl>", "}", "else", "if", "(", "le16", "_", "to", "_", "cpu", "(", "rsp", "-", ">", "DialectRevision", ")", "!", "=", "<nl>", "ses", "-", ">", "server", "-", ">", "vals", "-", ">", "protocol", "_", "id", ")", "{", "<nl>", "/", "*", "if", "requested", "single", "dialect", "ensure", "returned", "dialect", "matched", "*", "/", "<nl>"], "docstring_tokens": ["cifs", "Fix", "lease", "buffer", "length", "error"]}
{"code_tokens": ["static", "long", "cgroup", "_", "create", "(", "struct", "cgroup", "*", "parent", ",", "struct", "dentry", "*", "dentry", ",", "<nl>", "struct", "cgroup", "*", "cgrp", ";", "<nl>", "struct", "cgroup", "_", "name", "*", "name", ";", "<nl>", "struct", "cgroupfs", "_", "root", "*", "root", "=", "parent", "-", ">", "root", ";", "<nl>", "-", "int", "ssid", ",", "err", "=", "0", ";", "<nl>", "+", "int", "ssid", ",", "err", ";", "<nl>", "struct", "cgroup", "_", "subsys", "*", "ss", ";", "<nl>", "struct", "super", "_", "block", "*", "sb", "=", "root", "-", ">", "sb", ";", "<nl>", "<nl>", "static", "long", "cgroup", "_", "create", "(", "struct", "cgroup", "*", "parent", ",", "struct", "dentry", "*", "dentry", ",", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "name", "=", "cgroup", "_", "alloc", "_", "name", "(", "dentry", ")", ";", "<nl>", "-", "if", "(", "!", "name", ")", "<nl>", "+", "if", "(", "!", "name", ")", "{", "<nl>", "+", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "err", "_", "free", "_", "cgrp", ";", "<nl>", "+", "}", "<nl>", "rcu", "_", "assign", "_", "pointer", "(", "cgrp", "-", ">", "name", ",", "name", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "static", "long", "cgroup", "_", "create", "(", "struct", "cgroup", "*", "parent", ",", "struct", "dentry", "*", "dentry", ",", "<nl>", "*", "a", "half", "-", "baked", "cgroup", ".", "<nl>", "*", "/", "<nl>", "cgrp", "-", ">", "id", "=", "idr", "_", "alloc", "(", "&", "root", "-", ">", "cgroup", "_", "idr", ",", "NULL", ",", "1", ",", "0", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "cgrp", "-", ">", "id", "<", "0", ")", "<nl>", "+", "if", "(", "cgrp", "-", ">", "id", "<", "0", ")", "{", "<nl>", "+", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "err", "_", "free", "_", "name", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Only", "live", "parents", "can", "have", "children", ".", "Note", "that", "the", "liveliness", "<nl>"], "docstring_tokens": ["cgroup", "fix", "error", "return", "from", "cgroup_create"]}
{"code_tokens": ["static", "ssize", "_", "t", "bat", "_", "socket", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "buf", ",", "<nl>", "<nl>", "spin", "_", "unlock", "_", "bh", "(", "&", "socket", "_", "client", "-", ">", "lock", ")", ";", "<nl>", "<nl>", "-", "error", "=", "copy", "_", "to", "_", "user", "(", "buf", ",", "&", "socket", "_", "packet", "-", ">", "icmp", "_", "packet", ",", "<nl>", "-", "socket", "_", "packet", "-", ">", "icmp", "_", "len", ")", ";", "<nl>", "+", "packet", "_", "len", "=", "min", "(", "count", ",", "socket", "_", "packet", "-", ">", "icmp", "_", "len", ")", ";", "<nl>", "+", "error", "=", "copy", "_", "to", "_", "user", "(", "buf", ",", "&", "socket", "_", "packet", "-", ">", "icmp", "_", "packet", ",", "packet", "_", "len", ")", ";", "<nl>", "<nl>", "-", "packet", "_", "len", "=", "socket", "_", "packet", "-", ">", "icmp", "_", "len", ";", "<nl>", "kfree", "(", "socket", "_", "packet", ")", ";", "<nl>", "<nl>", "if", "(", "error", ")", "<nl>"], "docstring_tokens": ["batman", "adv", "Only", "write", "requested", "number", "of", "byte", "to", "user", "buffer"]}
{"code_tokens": ["static", "int", "usbdev", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "struct", "dev", "_", "state", "*", "ps", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "lock", "_", "kernel", "(", ")", ";", "<nl>", "/", "*", "Protect", "against", "simultaneous", "removal", "or", "release", "*", "/", "<nl>", "mutex", "_", "lock", "(", "&", "usbfs", "_", "mutex", ")", ";", "<nl>", "<nl>", "static", "int", "usbdev", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "if", "(", "ret", ")", "<nl>", "kfree", "(", "ps", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "usbfs", "_", "mutex", ")", ";", "<nl>", "+", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["usbdev", "BKL", "pushdown"]}
{"code_tokens": ["static", "long", "pmcraid", "_", "ioctl", "_", "passthrough", "(", "<nl>", "pmcraid", "_", "err", "(", "\"", "couldn", "'", "t", "build", "passthrough", "ioadls", "\\", "n", "\"", ")", ";", "<nl>", "goto", "out", "_", "free", "_", "buffer", ";", "<nl>", "}", "<nl>", "+", "}", "else", "if", "(", "request", "_", "size", "<", "0", ")", "{", "<nl>", "+", "rc", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "out", "_", "free", "_", "buffer", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "If", "data", "is", "being", "written", "into", "the", "device", ",", "copy", "the", "data", "from", "user", "<nl>"], "docstring_tokens": ["SCSI", "pmcraid", "reject", "negative", "request", "size"]}
{"code_tokens": ["int", "be", "_", "cmd", "_", "if", "_", "create", "(", "struct", "be", "_", "adapter", "*", "adapter", ",", "u32", "cap", "_", "flags", ",", "u32", "en", "_", "flags", ",", "<nl>", "if", "(", "!", "status", ")", "{", "<nl>", "struct", "be", "_", "cmd", "_", "resp", "_", "if", "_", "create", "*", "resp", "=", "embedded", "_", "payload", "(", "wrb", ")", ";", "<nl>", "*", "if", "_", "handle", "=", "le32", "_", "to", "_", "cpu", "(", "resp", "-", ">", "interface", "_", "id", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Hack", "to", "retrieve", "VF", "'", "s", "pmac", "-", "id", "on", "BE3", "*", "/", "<nl>", "+", "if", "(", "BE3", "_", "chip", "(", "adapter", ")", "&", "&", "!", "be", "_", "physfn", "(", "adapter", ")", ")", "<nl>", "+", "adapter", "-", ">", "pmac", "_", "id", "[", "0", "]", "=", "le32", "_", "to", "_", "cpu", "(", "resp", "-", ">", "pmac", "_", "id", ")", ";", "<nl>", "}", "<nl>", "<nl>", "err", ":", "<nl>"], "docstring_tokens": ["be2net", "fix", "pmac_id", "for", "BE3", "VFs"]}
{"code_tokens": ["int", "mwifiex", "_", "del", "_", "mgmt", "_", "ies", "(", "struct", "mwifiex", "_", "private", "*", "priv", ")", "<nl>", "ar", "_", "ie", ",", "&", "priv", "-", ">", "assocresp", "_", "idx", ")", ";", "<nl>", "<nl>", "done", ":", "<nl>", "+", "kfree", "(", "gen", "_", "ie", ")", ";", "<nl>", "kfree", "(", "beacon", "_", "ie", ")", ";", "<nl>", "kfree", "(", "pr", "_", "ie", ")", ";", "<nl>", "kfree", "(", "ar", "_", "ie", ")", ";", "<nl>"], "docstring_tokens": ["mwifiex", "fix", "leak", "of", "gen_ie", "storage", "on", "exit", "from", "mwifiex_del_mgmt_ies"]}
{"code_tokens": ["static", "int", "highlander", "_", "i2c", "_", "smbus", "_", "xfer", "(", "struct", "i2c", "_", "adapter", "*", "adap", ",", "u16", "addr", ",", "<nl>", "union", "i2c", "_", "smbus", "_", "data", "*", "data", ")", "<nl>", "{", "<nl>", "struct", "highlander", "_", "i2c", "_", "dev", "*", "dev", "=", "i2c", "_", "get", "_", "adapdata", "(", "adap", ")", ";", "<nl>", "-", "int", "read", "=", "read", "_", "write", "&", "I2C", "_", "SMBUS", "_", "READ", ";", "<nl>", "u16", "tmp", ";", "<nl>", "<nl>", "init", "_", "completion", "(", "&", "dev", "-", ">", "cmd", "_", "complete", ")", ";", "<nl>", "static", "int", "highlander", "_", "i2c", "_", "smbus", "_", "xfer", "(", "struct", "i2c", "_", "adapter", "*", "adap", ",", "u16", "addr", ",", "<nl>", "highlander", "_", "i2c", "_", "done", "(", "dev", ")", ";", "<nl>", "<nl>", "/", "*", "Set", "slave", "address", "*", "/", "<nl>", "-", "iowrite16", "(", "(", "addr", "<", "<", "1", ")", "|", "read", ",", "dev", "-", ">", "base", "+", "SMSMADR", ")", ";", "<nl>", "+", "iowrite16", "(", "(", "addr", "<", "<", "1", ")", "|", "read", "_", "write", ",", "dev", "-", ">", "base", "+", "SMSMADR", ")", ";", "<nl>", "<nl>", "highlander", "_", "i2c", "_", "command", "(", "dev", ",", "command", ",", "dev", "-", ">", "buf", "_", "len", ")", ";", "<nl>", "<nl>", "-", "if", "(", "read", ")", "<nl>", "+", "if", "(", "read", "_", "write", "=", "=", "I2C", "_", "SMBUS", "_", "READ", ")", "<nl>", "return", "highlander", "_", "i2c", "_", "read", "(", "dev", ")", ";", "<nl>", "else", "<nl>", "return", "highlander", "_", "i2c", "_", "write", "(", "dev", ")", ";", "<nl>"], "docstring_tokens": ["i2c", "highlander", "remover", "superflous", "variable"]}
{"code_tokens": ["struct", "inet", "_", "connection", "_", "sock", "{", "<nl>", "<nl>", "u32", "probe", "_", "timestamp", ";", "<nl>", "}", "icsk", "_", "mtup", ";", "<nl>", "-", "u32", "icsk", "_", "ca", "_", "priv", "[", "16", "]", ";", "<nl>", "u32", "icsk", "_", "user", "_", "timeout", ";", "<nl>", "-", "#", "define", "ICSK", "_", "CA", "_", "PRIV", "_", "SIZE", "(", "16", "*", "sizeof", "(", "u32", ")", ")", "<nl>", "+", "<nl>", "+", "u64", "icsk", "_", "ca", "_", "priv", "[", "64", "/", "sizeof", "(", "u64", ")", "]", ";", "<nl>", "+", "#", "define", "ICSK", "_", "CA", "_", "PRIV", "_", "SIZE", "(", "8", "*", "sizeof", "(", "u64", ")", ")", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "ICSK", "_", "TIME", "_", "RETRANS", "1", "/", "*", "Retransmit", "timer", "*", "/", "<nl>"], "docstring_tokens": ["inet", "properly", "align", "icsk_ca_priv"]}
{"code_tokens": ["static", "int", "mv643xx", "_", "eth", "_", "shared", "_", "of", "_", "add", "_", "port", "(", "struct", "platform", "_", "device", "*", "pdev", ",", "<nl>", "if", "(", "!", "ppdev", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "ppdev", "-", ">", "dev", ".", "coherent", "_", "dma", "_", "mask", "=", "DMA", "_", "BIT", "_", "MASK", "(", "32", ")", ";", "<nl>", "+", "ppdev", "-", ">", "dev", ".", "of", "_", "node", "=", "pnp", ";", "<nl>", "<nl>", "ret", "=", "platform", "_", "device", "_", "add", "_", "resources", "(", "ppdev", ",", "&", "res", ",", "1", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>"], "docstring_tokens": ["net", "mv643xx_eth", "fix", "missing", "device_node", "for", "port", "devices"]}
{"code_tokens": ["int", "wvlan", "_", "uil", "_", "put", "_", "info", "(", "struct", "uilreq", "*", "urq", ",", "struct", "wl", "_", "private", "*", "lp", ")", "<nl>", "ltv", "_", "t", "*", "pLtv", ";", "<nl>", "bool", "_", "t", "ltvAllocated", "=", "FALSE", ";", "<nl>", "ENCSTRCT", "sEncryption", ";", "<nl>", "+", "size", "_", "t", "len", ";", "<nl>", "<nl>", "#", "ifdef", "USE", "_", "WDS", "<nl>", "hcf", "_", "16", "hcfPort", "=", "HCF", "_", "PORT", "_", "0", ";", "<nl>", "int", "wvlan", "_", "uil", "_", "put", "_", "info", "(", "struct", "uilreq", "*", "urq", ",", "struct", "wl", "_", "private", "*", "lp", ")", "<nl>", "break", ";", "<nl>", "case", "CFG", "_", "CNF", "_", "OWN", "_", "NAME", ":", "<nl>", "memset", "(", "lp", "-", ">", "StationName", ",", "0", ",", "sizeof", "(", "lp", "-", ">", "StationName", ")", ")", ";", "<nl>", "-", "memcpy", "(", "(", "void", "*", ")", "lp", "-", ">", "StationName", ",", "(", "void", "*", ")", "&", "pLtv", "-", ">", "u", ".", "u8", "[", "2", "]", ",", "(", "size", "_", "t", ")", "pLtv", "-", ">", "u", ".", "u16", "[", "0", "]", ")", ";", "<nl>", "+", "len", "=", "min", "_", "t", "(", "size", "_", "t", ",", "pLtv", "-", ">", "u", ".", "u16", "[", "0", "]", ",", "sizeof", "(", "lp", "-", ">", "StationName", ")", ")", ";", "<nl>", "+", "strlcpy", "(", "lp", "-", ">", "StationName", ",", "&", "pLtv", "-", ">", "u", ".", "u8", "[", "2", "]", ",", "len", ")", ";", "<nl>", "pLtv", "-", ">", "u", ".", "u16", "[", "0", "]", "=", "CNV", "_", "INT", "_", "TO", "_", "LITTLE", "(", "pLtv", "-", ">", "u", ".", "u16", "[", "0", "]", ")", ";", "<nl>", "break", ";", "<nl>", "case", "CFG", "_", "CNF", "_", "LOAD", "_", "BALANCING", ":", "<nl>", "int", "wvlan", "_", "set", "_", "station", "_", "nickname", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "{", "<nl>", "struct", "wl", "_", "private", "*", "lp", "=", "wl", "_", "priv", "(", "dev", ")", ";", "<nl>", "unsigned", "long", "flags", ";", "<nl>", "+", "size", "_", "t", "len", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "/", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "*", "/", "<nl>", "<nl>", "int", "wvlan", "_", "set", "_", "station", "_", "nickname", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "wl", "_", "lock", "(", "lp", ",", "&", "flags", ")", ";", "<nl>", "<nl>", "memset", "(", "lp", "-", ">", "StationName", ",", "0", ",", "sizeof", "(", "lp", "-", ">", "StationName", ")", ")", ";", "<nl>", "-", "<nl>", "-", "memcpy", "(", "lp", "-", ">", "StationName", ",", "extra", ",", "wrqu", "-", ">", "data", ".", "length", ")", ";", "<nl>", "+", "len", "=", "min", "_", "t", "(", "size", "_", "t", ",", "wrqu", "-", ">", "data", ".", "length", ",", "sizeof", "(", "lp", "-", ">", "StationName", ")", ")", ";", "<nl>", "+", "strlcpy", "(", "lp", "-", ">", "StationName", ",", "extra", ",", "len", ")", ";", "<nl>", "<nl>", "/", "*", "Commit", "the", "adapter", "parameters", "*", "/", "<nl>", "wl", "_", "apply", "(", "lp", ")", ";", "<nl>"], "docstring_tokens": ["staging", "wlags49_h2", "buffer", "overflow", "setting", "station", "name"]}
{"code_tokens": ["static", "void", "dump", "_", "backtrace", "(", "struct", "pt", "_", "regs", "*", "regs", ",", "struct", "task", "_", "struct", "*", "tsk", ")", "<nl>", "unsigned", "long", "irq", "_", "stack", "_", "ptr", ";", "<nl>", "int", "skip", ";", "<nl>", "<nl>", "+", "pr", "_", "debug", "(", "\"", "%", "s", "(", "regs", "=", "%", "p", "tsk", "=", "%", "p", ")", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "regs", ",", "tsk", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "tsk", ")", "<nl>", "+", "tsk", "=", "current", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Switching", "between", "stacks", "is", "valid", "when", "tracing", "current", "and", "in", "<nl>", "*", "non", "-", "preemptible", "context", ".", "<nl>", "static", "void", "dump", "_", "backtrace", "(", "struct", "pt", "_", "regs", "*", "regs", ",", "struct", "task", "_", "struct", "*", "tsk", ")", "<nl>", "else", "<nl>", "irq", "_", "stack", "_", "ptr", "=", "0", ";", "<nl>", "<nl>", "-", "pr", "_", "debug", "(", "\"", "%", "s", "(", "regs", "=", "%", "p", "tsk", "=", "%", "p", ")", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "regs", ",", "tsk", ")", ";", "<nl>", "-", "<nl>", "-", "if", "(", "!", "tsk", ")", "<nl>", "-", "tsk", "=", "current", ";", "<nl>", "-", "<nl>", "if", "(", "tsk", "=", "=", "current", ")", "{", "<nl>", "frame", ".", "fp", "=", "(", "unsigned", "long", ")", "_", "_", "builtin", "_", "frame", "_", "address", "(", "0", ")", ";", "<nl>", "frame", ".", "sp", "=", "current", "_", "stack", "_", "pointer", ";", "mmm", "arch", "/", "arm64", "/", "kernel", "/", "stacktrace", ".", "c", "<nl>", "static", "void", "dump", "_", "backtrace", "(", "struct", "pt", "_", "regs", "*", "regs", ",", "struct", "task", "_", "struct", "*", "tsk", ")", "<nl>", "unsigned", "long", "irq", "_", "stack", "_", "ptr", ";", "<nl>", "int", "skip", ";", "<nl>", "<nl>", "+", "pr", "_", "debug", "(", "\"", "%", "s", "(", "regs", "=", "%", "p", "tsk", "=", "%", "p", ")", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "regs", ",", "tsk", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "tsk", ")", "<nl>", "+", "tsk", "=", "current", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Switching", "between", "stacks", "is", "valid", "when", "tracing", "current", "and", "in", "<nl>", "*", "non", "-", "preemptible", "context", ".", "<nl>", "static", "void", "dump", "_", "backtrace", "(", "struct", "pt", "_", "regs", "*", "regs", ",", "struct", "task", "_", "struct", "*", "tsk", ")", "<nl>", "else", "<nl>", "irq", "_", "stack", "_", "ptr", "=", "0", ";", "<nl>", "<nl>", "-", "pr", "_", "debug", "(", "\"", "%", "s", "(", "regs", "=", "%", "p", "tsk", "=", "%", "p", ")", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "regs", ",", "tsk", ")", ";", "<nl>", "-", "<nl>", "-", "if", "(", "!", "tsk", ")", "<nl>", "-", "tsk", "=", "current", ";", "<nl>", "-", "<nl>", "if", "(", "tsk", "=", "=", "current", ")", "{", "<nl>", "frame", ".", "fp", "=", "(", "unsigned", "long", ")", "_", "_", "builtin", "_", "frame", "_", "address", "(", "0", ")", ";", "<nl>", "frame", ".", "sp", "=", "current", "_", "stack", "_", "pointer", ";", "<nl>", "int", "notrace", "unwind", "_", "frame", "(", "struct", "task", "_", "struct", "*", "tsk", ",", "struct", "stackframe", "*", "frame", ")", "<nl>", "unsigned", "long", "fp", "=", "frame", "-", ">", "fp", ";", "<nl>", "unsigned", "long", "irq", "_", "stack", "_", "ptr", ";", "<nl>", "<nl>", "+", "if", "(", "!", "tsk", ")", "<nl>", "+", "tsk", "=", "current", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Switching", "between", "stacks", "is", "valid", "when", "tracing", "current", "and", "in", "<nl>", "*", "non", "-", "preemptible", "context", ".", "<nl>", "int", "notrace", "unwind", "_", "frame", "(", "struct", "task", "_", "struct", "*", "tsk", ",", "struct", "stackframe", "*", "frame", ")", "<nl>", "frame", "-", ">", "pc", "=", "READ", "_", "ONCE", "_", "NOCHECK", "(", "*", "(", "unsigned", "long", "*", ")", "(", "fp", "+", "8", ")", ")", ";", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "FUNCTION", "_", "GRAPH", "_", "TRACER", "<nl>", "-", "if", "(", "tsk", "&", "&", "tsk", "-", ">", "ret", "_", "stack", "&", "&", "<nl>", "+", "if", "(", "tsk", "-", ">", "ret", "_", "stack", "&", "&", "<nl>", "(", "frame", "-", ">", "pc", "=", "=", "(", "unsigned", "long", ")", "return", "_", "to", "_", "handler", ")", ")", "{", "<nl>", "/", "*", "<nl>", "*", "This", "is", "a", "case", "where", "function", "graph", "tracer", "has", "<nl>"], "docstring_tokens": ["arm64", "fix", "dump_backtrace", "unwind_frame", "with", "NULL", "tsk"]}
{"code_tokens": ["static", "void", "tick", "_", "nohz", "_", "handler", "(", "struct", "clock", "_", "event", "_", "device", "*", "dev", ")", "<nl>", "tick", "_", "sched", "_", "do", "_", "timer", "(", "now", ")", ";", "<nl>", "tick", "_", "sched", "_", "handle", "(", "ts", ",", "regs", ")", ";", "<nl>", "<nl>", "+", "/", "*", "No", "need", "to", "reprogram", "if", "we", "are", "running", "tickless", "*", "/", "<nl>", "+", "if", "(", "unlikely", "(", "ts", "-", ">", "tick", "_", "stopped", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "while", "(", "tick", "_", "nohz", "_", "reprogram", "(", "ts", ",", "now", ")", ")", "{", "<nl>", "now", "=", "ktime", "_", "get", "(", ")", ";", "<nl>", "tick", "_", "do", "_", "update", "_", "jiffies64", "(", "now", ")", ";", "<nl>"], "docstring_tokens": ["nohz", "Fix", "spurious", "periodic", "tick", "behaviour", "in", "low", "res", "dynticks", "mode"]}
{"code_tokens": ["static", "inline", "void", "intel", "_", "hpd", "_", "irq", "_", "handler", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "const", "u32", "*", "hpd", ")", "<nl>", "{", "<nl>", "drm", "_", "i915", "_", "private", "_", "t", "*", "dev", "_", "priv", "=", "dev", "-", ">", "dev", "_", "private", ";", "<nl>", "-", "unsigned", "long", "irqflags", ";", "<nl>", "int", "i", ";", "<nl>", "bool", "storm", "_", "detected", "=", "false", ";", "<nl>", "<nl>", "if", "(", "!", "hotplug", "_", "trigger", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "spin", "_", "lock", "_", "irqsave", "(", "&", "dev", "_", "priv", "-", ">", "irq", "_", "lock", ",", "irqflags", ")", ";", "<nl>", "-", "<nl>", "+", "spin", "_", "lock", "(", "&", "dev", "_", "priv", "-", ">", "irq", "_", "lock", ")", ";", "<nl>", "for", "(", "i", "=", "1", ";", "i", "<", "HPD", "_", "NUM", "_", "PINS", ";", "i", "+", "+", ")", "{", "<nl>", "<nl>", "if", "(", "!", "(", "hpd", "[", "i", "]", "&", "hotplug", "_", "trigger", ")", "|", "|", "<nl>", "static", "inline", "void", "intel", "_", "hpd", "_", "irq", "_", "handler", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "dev", "_", "priv", "-", ">", "irq", "_", "lock", ",", "irqflags", ")", ";", "<nl>", "-", "<nl>", "if", "(", "storm", "_", "detected", ")", "<nl>", "dev", "_", "priv", "-", ">", "display", ".", "hpd", "_", "irq", "_", "setup", "(", "dev", ")", ";", "<nl>", "+", "spin", "_", "unlock", "(", "&", "dev", "_", "priv", "-", ">", "irq", "_", "lock", ")", ";", "<nl>", "<nl>", "queue", "_", "work", "(", "dev", "_", "priv", "-", ">", "wq", ",", "<nl>", "&", "dev", "_", "priv", "-", ">", "hotplug", "_", "work", ")", ";", "<nl>", "static", "void", "i915", "_", "hpd", "_", "irq", "_", "setup", "(", "struct", "drm", "_", "device", "*", "dev", ")", "<nl>", "struct", "intel", "_", "encoder", "*", "intel", "_", "encoder", ";", "<nl>", "u32", "hotplug", "_", "en", ";", "<nl>", "<nl>", "+", "assert", "_", "spin", "_", "locked", "(", "&", "dev", "_", "priv", "-", ">", "irq", "_", "lock", ")", ";", "<nl>", "+", "<nl>", "if", "(", "I915", "_", "HAS", "_", "HOTPLUG", "(", "dev", ")", ")", "{", "<nl>", "hotplug", "_", "en", "=", "I915", "_", "READ", "(", "PORT", "_", "HOTPLUG", "_", "EN", ")", ";", "<nl>", "hotplug", "_", "en", "&", "=", "~", "HOTPLUG", "_", "INT", "_", "EN", "_", "MASK", ";", "<nl>", "void", "intel", "_", "hpd", "_", "init", "(", "struct", "drm", "_", "device", "*", "dev", ")", "<nl>", "struct", "drm", "_", "i915", "_", "private", "*", "dev", "_", "priv", "=", "dev", "-", ">", "dev", "_", "private", ";", "<nl>", "struct", "drm", "_", "mode", "_", "config", "*", "mode", "_", "config", "=", "&", "dev", "-", ">", "mode", "_", "config", ";", "<nl>", "struct", "drm", "_", "connector", "*", "connector", ";", "<nl>", "+", "unsigned", "long", "irqflags", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "for", "(", "i", "=", "1", ";", "i", "<", "HPD", "_", "NUM", "_", "PINS", ";", "i", "+", "+", ")", "{", "<nl>", "void", "intel", "_", "hpd", "_", "init", "(", "struct", "drm", "_", "device", "*", "dev", ")", "<nl>", "if", "(", "!", "connector", "-", ">", "polled", "&", "&", "I915", "_", "HAS", "_", "HOTPLUG", "(", "dev", ")", "&", "&", "intel", "_", "connector", "-", ">", "encoder", "-", ">", "hpd", "_", "pin", ">", "HPD", "_", "NONE", ")", "<nl>", "connector", "-", ">", "polled", "=", "DRM", "_", "CONNECTOR", "_", "POLL", "_", "HPD", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "/", "*", "Interrupt", "setup", "is", "already", "guaranteed", "to", "be", "single", "-", "threaded", ",", "this", "is", "<nl>", "+", "*", "just", "to", "make", "the", "assert", "_", "spin", "_", "locked", "checks", "happy", ".", "*", "/", "<nl>", "+", "spin", "_", "lock", "_", "irqsave", "(", "&", "dev", "_", "priv", "-", ">", "irq", "_", "lock", ",", "irqflags", ")", ";", "<nl>", "if", "(", "dev", "_", "priv", "-", ">", "display", ".", "hpd", "_", "irq", "_", "setup", ")", "<nl>", "dev", "_", "priv", "-", ">", "display", ".", "hpd", "_", "irq", "_", "setup", "(", "dev", ")", ";", "<nl>", "+", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "dev", "_", "priv", "-", ">", "irq", "_", "lock", ",", "irqflags", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "fix", "hpd", "interrupt", "register", "locking"]}
{"code_tokens": ["static", "int", "device", "_", "rx", "_", "srv", "(", "struct", "vnt", "_", "private", "*", "pDevice", ",", "unsigned", "int", "uIdx", ")", "<nl>", "pRD", "=", "pRD", "-", ">", "next", ")", "{", "<nl>", "if", "(", "works", "+", "+", ">", "15", ")", "<nl>", "break", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "pRD", "-", ">", "pRDInfo", "-", ">", "skb", ")", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "if", "(", "vnt", "_", "receive", "_", "frame", "(", "pDevice", ",", "pRD", ")", ")", "{", "<nl>", "if", "(", "!", "device", "_", "alloc", "_", "rx", "_", "buf", "(", "pDevice", ",", "pRD", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pDevice", "-", ">", "pcid", "-", ">", "dev", ",", "<nl>"], "docstring_tokens": ["staging", "vt6655", "device_rx_srv", "check", "sk_buff", "is", "NULL"]}
{"code_tokens": ["int", "tc", "_", "classify", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "tcf", "_", "proto", "*", "tp", ",", "<nl>", "tp", "=", "otp", ";", "<nl>", "<nl>", "if", "(", "verd", "+", "+", ">", "=", "MAX", "_", "REC", "_", "LOOP", ")", "{", "<nl>", "-", "printk", "(", "\"", "rule", "prio", "%", "u", "protocol", "%", "02x", "reclassify", "loop", ",", "\"", "<nl>", "-", "\"", "packet", "dropped", "\\", "n", "\"", ",", "<nl>", "-", "tp", "-", ">", "prio", "&", "0xffff", ",", "ntohs", "(", "tp", "-", ">", "protocol", ")", ")", ";", "<nl>", "+", "if", "(", "net", "_", "ratelimit", "(", ")", ")", "<nl>", "+", "printk", "(", "KERN", "_", "NOTICE", "<nl>", "+", "\"", "%", "s", ":", "packet", "reclassify", "loop", "\"", "<nl>", "+", "\"", "rule", "prio", "%", "u", "protocol", "%", "02x", "\\", "n", "\"", ",", "<nl>", "+", "tp", "-", ">", "q", "-", ">", "ops", "-", ">", "id", ",", "<nl>", "+", "tp", "-", ">", "prio", "&", "0xffff", ",", "ntohs", "(", "tp", "-", ">", "protocol", ")", ")", ";", "<nl>", "return", "TC", "_", "ACT", "_", "SHOT", ";", "<nl>", "}", "<nl>", "skb", "-", ">", "tc", "_", "verd", "=", "SET", "_", "TC", "_", "VERD", "(", "skb", "-", ">", "tc", "_", "verd", ",", "verd", ")", ";", "<nl>"], "docstring_tokens": ["net", "sched", "cleanup", "and", "rate", "limit", "warning"]}
{"code_tokens": ["static", "int", "_", "c4iw", "_", "write", "_", "mem", "_", "inline", "(", "struct", "c4iw", "_", "rdev", "*", "rdev", ",", "u32", "addr", ",", "u32", "len", ",", "<nl>", "if", "(", "i", "=", "=", "(", "num", "_", "wqe", "-", "1", ")", ")", "{", "<nl>", "req", "-", ">", "wr", ".", "wr", "_", "hi", "=", "cpu", "_", "to", "_", "be32", "(", "FW", "_", "WR", "_", "OP", "_", "V", "(", "FW", "_", "ULPTX", "_", "WR", ")", "|", "<nl>", "FW", "_", "WR", "_", "COMPL", "_", "F", ")", ";", "<nl>", "-", "req", "-", ">", "wr", ".", "wr", "_", "lo", "=", "(", "_", "_", "force", "_", "_", "be64", ")", "&", "wr", "_", "wait", ";", "<nl>", "+", "req", "-", ">", "wr", ".", "wr", "_", "lo", "=", "(", "_", "_", "force", "_", "_", "be64", ")", "(", "unsigned", "long", ")", "&", "wr", "_", "wait", ";", "<nl>", "}", "else", "<nl>", "req", "-", ">", "wr", ".", "wr", "_", "hi", "=", "cpu", "_", "to", "_", "be32", "(", "FW", "_", "WR", "_", "OP", "_", "V", "(", "FW", "_", "ULPTX", "_", "WR", ")", ")", ";", "<nl>", "req", "-", ">", "wr", ".", "wr", "_", "mid", "=", "cpu", "_", "to", "_", "be32", "(", "<nl>"], "docstring_tokens": ["RDMA", "cxgb4", "re", "fix", "32", "bit", "build", "warning"]}
{"code_tokens": ["typedef", "struct", "pglist", "_", "data", "{", "<nl>", "#", "include", "<", "linux", "/", "memory", "_", "hotplug", ".", "h", ">", "<nl>", "<nl>", "extern", "struct", "mutex", "zonelists", "_", "mutex", ";", "<nl>", "-", "void", "get", "_", "zone", "_", "counts", "(", "unsigned", "long", "*", "active", ",", "unsigned", "long", "*", "inactive", ",", "<nl>", "-", "unsigned", "long", "*", "free", ")", ";", "<nl>", "void", "build", "_", "all", "_", "zonelists", "(", "void", "*", "data", ")", ";", "<nl>", "void", "wakeup", "_", "kswapd", "(", "struct", "zone", "*", "zone", ",", "int", "order", ")", ";", "<nl>", "int", "zone", "_", "watermark", "_", "ok", "(", "struct", "zone", "*", "z", ",", "int", "order", ",", "unsigned", "long", "mark", ",", "<nl>"], "docstring_tokens": ["mmzone", "h", "remove", "dead", "prototype"]}
{"code_tokens": ["int", "x509", "_", "note", "_", "signature", "(", "void", "*", "context", ",", "size", "_", "t", "hdrlen", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "strcmp", "(", "ctx", "-", ">", "cert", "-", ">", "sig", "-", ">", "pkey", "_", "algo", ",", "\"", "rsa", "\"", ")", "=", "=", "0", ")", "{", "<nl>", "+", "/", "*", "Discard", "the", "BIT", "STRING", "metadata", "*", "/", "<nl>", "+", "if", "(", "vlen", "<", "1", "|", "|", "*", "(", "const", "u8", "*", ")", "value", "!", "=", "0", ")", "<nl>", "+", "return", "-", "EBADMSG", ";", "<nl>", "+", "<nl>", "+", "value", "+", "+", ";", "<nl>", "+", "vlen", "-", "-", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "ctx", "-", ">", "cert", "-", ">", "raw", "_", "sig", "=", "value", ";", "<nl>", "ctx", "-", ">", "cert", "-", ">", "raw", "_", "sig", "_", "size", "=", "vlen", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["X", "509", "unpack", "RSA", "signatureValue", "field", "from", "BIT", "STRING"]}
{"code_tokens": ["static", "int", "tc6393xb", "_", "resume", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "int", "ret", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "clk", "_", "prepare", "_", "enable", "(", "tc6393xb", "-", ">", "clk", ")", ";", "<nl>", "+", "ret", "=", "clk", "_", "prepare", "_", "enable", "(", "tc6393xb", "-", ">", "clk", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "<nl>", "ret", "=", "tcpd", "-", ">", "resume", "(", "dev", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>"], "docstring_tokens": ["mfd", "tc6393xb", "Handle", "return", "value", "of", "clk_prepare_enable"]}
{"code_tokens": ["_", "_", "setup", "(", "\"", "thash", "_", "entries", "=", "\"", ",", "set", "_", "thash", "_", "entries", ")", ";", "<nl>", "<nl>", "static", "void", "_", "_", "init", "tcp", "_", "init", "_", "mem", "(", "void", ")", "<nl>", "{", "<nl>", "-", "unsigned", "long", "limit", "=", "nr", "_", "free", "_", "buffer", "_", "pages", "(", ")", "/", "8", ";", "<nl>", "+", "unsigned", "long", "limit", "=", "nr", "_", "free", "_", "buffer", "_", "pages", "(", ")", "/", "16", ";", "<nl>", "+", "<nl>", "limit", "=", "max", "(", "limit", ",", "128UL", ")", ";", "<nl>", "-", "sysctl", "_", "tcp", "_", "mem", "[", "0", "]", "=", "limit", "/", "4", "*", "3", ";", "<nl>", "-", "sysctl", "_", "tcp", "_", "mem", "[", "1", "]", "=", "limit", ";", "<nl>", "-", "sysctl", "_", "tcp", "_", "mem", "[", "2", "]", "=", "sysctl", "_", "tcp", "_", "mem", "[", "0", "]", "*", "2", ";", "<nl>", "+", "sysctl", "_", "tcp", "_", "mem", "[", "0", "]", "=", "limit", "/", "4", "*", "3", ";", "/", "*", "4", ".", "68", "%", "*", "/", "<nl>", "+", "sysctl", "_", "tcp", "_", "mem", "[", "1", "]", "=", "limit", ";", "/", "*", "6", ".", "25", "%", "*", "/", "<nl>", "+", "sysctl", "_", "tcp", "_", "mem", "[", "2", "]", "=", "sysctl", "_", "tcp", "_", "mem", "[", "0", "]", "*", "2", ";", "/", "*", "9", ".", "37", "%", "*", "/", "<nl>", "}", "<nl>", "<nl>", "void", "_", "_", "init", "tcp", "_", "init", "(", "void", ")", "<nl>"], "docstring_tokens": ["tcp", "halves", "tcp_mem", "limits"]}
{"code_tokens": ["int", "dw", "_", "hdmi", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ",", "<nl>", "const", "struct", "dw", "_", "hdmi", "_", "plat", "_", "data", "*", "plat", "_", "data", ")", "<nl>", "{", "<nl>", "struct", "dw", "_", "hdmi", "*", "hdmi", ";", "<nl>", "-", "int", "ret", ";", "<nl>", "<nl>", "hdmi", "=", "_", "_", "dw", "_", "hdmi", "_", "probe", "(", "pdev", ",", "plat", "_", "data", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "hdmi", ")", ")", "<nl>", "return", "PTR", "_", "ERR", "(", "hdmi", ")", ";", "<nl>", "<nl>", "-", "ret", "=", "drm", "_", "bridge", "_", "add", "(", "&", "hdmi", "-", ">", "bridge", ")", ";", "<nl>", "-", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "-", "_", "_", "dw", "_", "hdmi", "_", "remove", "(", "hdmi", ")", ";", "<nl>", "-", "return", "ret", ";", "<nl>", "-", "}", "<nl>", "+", "drm", "_", "bridge", "_", "add", "(", "&", "hdmi", "-", ">", "bridge", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "bridge", "synopsys", "dw", "hdmi", "clean", "up", "drm_bridge_add", "call"]}
{"code_tokens": ["static", "int", "get", "_", "bitmap", "_", "file", "(", "struct", "mddev", "*", "mddev", ",", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "char", "*", "ptr", ";", "<nl>", "int", "err", ";", "<nl>", "<nl>", "-", "file", "=", "kmalloc", "(", "sizeof", "(", "*", "file", ")", ",", "GFP", "_", "NOIO", ")", ";", "<nl>", "+", "file", "=", "kzalloc", "(", "sizeof", "(", "*", "file", ")", ",", "GFP", "_", "NOIO", ")", ";", "<nl>", "if", "(", "!", "file", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["md", "use", "kzalloc", "when", "bitmap", "is", "disabled"]}
{"code_tokens": ["struct", "sctp", "_", "chunk", "*", "sctp", "_", "assoc", "_", "lookup", "_", "asconf", "_", "ack", "(", "<nl>", "*", "ack", "chunk", "whose", "serial", "number", "matches", "that", "of", "the", "request", ".", "<nl>", "*", "/", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "ack", ",", "&", "asoc", "-", ">", "asconf", "_", "ack", "_", "list", ",", "transmitted", "_", "list", ")", "{", "<nl>", "+", "if", "(", "sctp", "_", "chunk", "_", "pending", "(", "ack", ")", ")", "<nl>", "+", "continue", ";", "<nl>", "if", "(", "ack", "-", ">", "subh", ".", "addip", "_", "hdr", "-", ">", "serial", "=", "=", "serial", ")", "{", "<nl>", "sctp", "_", "chunk", "_", "hold", "(", "ack", ")", ";", "<nl>", "return", "ack", ";", "mmm", "include", "/", "net", "/", "sctp", "/", "sctp", ".", "h", "<nl>", "struct", "sctp", "_", "chunk", "*", "sctp", "_", "assoc", "_", "lookup", "_", "asconf", "_", "ack", "(", "<nl>", "*", "ack", "chunk", "whose", "serial", "number", "matches", "that", "of", "the", "request", ".", "<nl>", "*", "/", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "ack", ",", "&", "asoc", "-", ">", "asconf", "_", "ack", "_", "list", ",", "transmitted", "_", "list", ")", "{", "<nl>", "+", "if", "(", "sctp", "_", "chunk", "_", "pending", "(", "ack", ")", ")", "<nl>", "+", "continue", ";", "<nl>", "if", "(", "ack", "-", ">", "subh", ".", "addip", "_", "hdr", "-", ">", "serial", "=", "=", "serial", ")", "{", "<nl>", "sctp", "_", "chunk", "_", "hold", "(", "ack", ")", ";", "<nl>", "return", "ack", ";", "<nl>", "static", "inline", "void", "sctp", "_", "assoc", "_", "pending", "_", "pmtu", "(", "struct", "sock", "*", "sk", ",", "struct", "sctp", "_", "associat", "<nl>", "asoc", "-", ">", "pmtu", "_", "pending", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "inline", "bool", "sctp", "_", "chunk", "_", "pending", "(", "const", "struct", "sctp", "_", "chunk", "*", "chunk", ")", "<nl>", "+", "{", "<nl>", "+", "return", "!", "list", "_", "empty", "(", "&", "chunk", "-", ">", "list", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "Walk", "through", "a", "list", "of", "TLV", "parameters", ".", "Don", "'", "t", "trust", "the", "<nl>", "*", "individual", "parameter", "lengths", "and", "instead", "depend", "on", "<nl>", "*", "the", "chunk", "length", "to", "indicate", "when", "to", "stop", ".", "Make", "sure", "<nl>"], "docstring_tokens": ["net", "sctp", "fix", "panic", "on", "duplicate", "ASCONF", "chunks"]}
{"code_tokens": ["#", "include", "<", "linux", "/", "init", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "proc", "_", "fs", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "miscdevice", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "smp", "_", "lock", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "spinlock", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "asm", "/", "uaccess", ".", "h", ">", "<nl>", "printk", "(", "\"", "Preparing", "to", "start", "counters", "\\", "n", "\"", ")", ";", "<nl>", "*", "/", "<nl>", "static", "int", "perf", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "{", "<nl>", "+", "lock", "_", "kernel", "(", ")", ";", "<nl>", "spin", "_", "lock", "(", "&", "perf", "_", "lock", ")", ";", "<nl>", "if", "(", "perf", "_", "enabled", ")", "{", "<nl>", "spin", "_", "unlock", "(", "&", "perf", "_", "lock", ")", ";", "<nl>", "+", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "}", "<nl>", "perf", "_", "enabled", "=", "1", ";", "<nl>", "spin", "_", "unlock", "(", "&", "perf", "_", "lock", ")", ";", "<nl>", "+", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["parisc", "kernel", "perf", "BKL", "pushdown"]}
{"code_tokens": ["static", "long", "cgroup", "_", "create", "(", "struct", "cgroup", "*", "parent", ",", "struct", "dentry", "*", "dentry", ",", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "cgroup", "_", "mutex", ")", ";", "<nl>", "<nl>", "-", "cgrp", "-", ">", "flags", "=", "0", ";", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "cgrp", "-", ">", "sibling", ")", ";", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "cgrp", "-", ">", "children", ")", ";", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "cgrp", "-", ">", "css", "_", "sets", ")", ";", "<nl>", "static", "long", "cgroup", "_", "create", "(", "struct", "cgroup", "*", "parent", ",", "struct", "dentry", "*", "dentry", ",", "<nl>", "cgrp", "-", ">", "root", "=", "parent", "-", ">", "root", ";", "<nl>", "cgrp", "-", ">", "top", "_", "cgroup", "=", "parent", "-", ">", "top", "_", "cgroup", ";", "<nl>", "<nl>", "+", "if", "(", "notify", "_", "on", "_", "release", "(", "parent", ")", ")", "<nl>", "+", "set", "_", "bit", "(", "CGRP", "_", "NOTIFY", "_", "ON", "_", "RELEASE", ",", "&", "cgrp", "-", ">", "flags", ")", ";", "<nl>", "+", "<nl>", "for", "_", "each", "_", "subsys", "(", "root", ",", "ss", ")", "{", "<nl>", "struct", "cgroup", "_", "subsys", "_", "state", "*", "css", "=", "ss", "-", ">", "create", "(", "ss", ",", "cgrp", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "css", ")", ")", "{", "<nl>"], "docstring_tokens": ["cgroup", "fix", "default", "notify_on_release", "setting"]}
{"code_tokens": ["static", "void", "audit", "_", "log", "_", "feature", "_", "change", "(", "int", "which", ",", "u32", "old", "_", "feature", ",", "u32", "new", "_", "feature", "<nl>", "{", "<nl>", "struct", "audit", "_", "buffer", "*", "ab", ";", "<nl>", "<nl>", "+", "if", "(", "audit", "_", "enabled", "=", "=", "AUDIT", "_", "OFF", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "ab", "=", "audit", "_", "log", "_", "start", "(", "NULL", ",", "GFP", "_", "KERNEL", ",", "AUDIT", "_", "FEATURE", "_", "CHANGE", ")", ";", "<nl>", "audit", "_", "log", "_", "format", "(", "ab", ",", "\"", "feature", "=", "%", "s", "old", "=", "%", "d", "new", "=", "%", "d", "old", "_", "lock", "=", "%", "d", "new", "_", "lock", "=", "%", "d", "res", "=", "%", "d", "\"", ",", "<nl>", "audit", "_", "feature", "_", "names", "[", "which", "]", ",", "!", "!", "old", "_", "feature", ",", "!", "!", "new", "_", "feature", ",", "<nl>"], "docstring_tokens": ["audit", "don", "t", "generate", "audit", "feature", "changed", "log", "when", "audit", "disabled"]}
{"code_tokens": ["aoenet", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "ifp", ",", "struct", "packet", "_", "type", "*", "pt", ",", "<nl>", "aoecmd", "_", "cfg", "_", "rsp", "(", "skb", ")", ";", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "+", "if", "(", "h", "-", ">", "cmd", ">", "=", "AOECMD", "_", "VEND", "_", "MIN", ")", "<nl>", "+", "break", ";", "/", "*", "don", "'", "t", "complain", "about", "vendor", "commands", "*", "/", "<nl>", "printk", "(", "KERN", "_", "INFO", "\"", "aoe", ":", "unknown", "cmd", "%", "d", "\\", "n", "\"", ",", "h", "-", ">", "cmd", ")", ";", "<nl>", "}", "<nl>", "exit", ":", "mmm", "drivers", "/", "block", "/", "aoe", "/", "aoe", ".", "h", "<nl>", "aoenet", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "ifp", ",", "struct", "packet", "_", "type", "*", "pt", ",", "<nl>", "aoecmd", "_", "cfg", "_", "rsp", "(", "skb", ")", ";", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "+", "if", "(", "h", "-", ">", "cmd", ">", "=", "AOECMD", "_", "VEND", "_", "MIN", ")", "<nl>", "+", "break", ";", "/", "*", "don", "'", "t", "complain", "about", "vendor", "commands", "*", "/", "<nl>", "printk", "(", "KERN", "_", "INFO", "\"", "aoe", ":", "unknown", "cmd", "%", "d", "\\", "n", "\"", ",", "h", "-", ">", "cmd", ")", ";", "<nl>", "}", "<nl>", "exit", ":", "<nl>", "enum", "{", "<nl>", "AOECMD", "_", "ATA", ",", "<nl>", "AOECMD", "_", "CFG", ",", "<nl>", "+", "AOECMD", "_", "VEND", "_", "MIN", "=", "0xf0", ",", "<nl>", "<nl>", "AOEFL", "_", "RSP", "=", "(", "1", "<", "<", "3", ")", ",", "<nl>", "AOEFL", "_", "ERR", "=", "(", "1", "<", "<", "2", ")", ",", "<nl>"], "docstring_tokens": ["aoe", "ignore", "vendor", "extension", "AoE", "responses"]}
{"code_tokens": ["static", "inline", "void", "debugfs", "_", "remove", "_", "domain", "_", "dir", "(", "struct", "irq", "_", "domain", "*", "d", ")", "{", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "const", "struct", "fwnode", "_", "operations", "irqchip", "_", "fwnode", "_", "ops", ";", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "irqchip", "_", "fwnode", "_", "ops", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "irq", "_", "domain", "_", "alloc", "_", "fwnode", "-", "Allocate", "a", "fwnode", "_", "handle", "suitable", "for", "<nl>"], "docstring_tokens": ["device", "property", "export", "irqchip_fwnode_ops"]}
{"code_tokens": ["static", "inline", "void", "hci", "_", "pin", "_", "code", "_", "request", "_", "evt", "(", "struct", "hci", "_", "dev", "*", "hdev", ",", "struct", "sk", "_", "buff", "<nl>", "hci", "_", "dev", "_", "lock", "(", "hdev", ")", ";", "<nl>", "<nl>", "conn", "=", "hci", "_", "conn", "_", "hash", "_", "lookup", "_", "ba", "(", "hdev", ",", "ACL", "_", "LINK", ",", "&", "ev", "-", ">", "bdaddr", ")", ";", "<nl>", "-", "if", "(", "conn", "&", "&", "conn", "-", ">", "state", "=", "=", "BT", "_", "CONNECTED", ")", "{", "<nl>", "+", "if", "(", "!", "conn", ")", "<nl>", "+", "goto", "unlock", ";", "<nl>", "+", "<nl>", "+", "if", "(", "conn", "-", ">", "state", "=", "=", "BT", "_", "CONNECTED", ")", "{", "<nl>", "hci", "_", "conn", "_", "hold", "(", "conn", ")", ";", "<nl>", "conn", "-", ">", "disc", "_", "timeout", "=", "HCI", "_", "PAIRING", "_", "TIMEOUT", ";", "<nl>", "hci", "_", "conn", "_", "put", "(", "conn", ")", ";", "<nl>", "static", "inline", "void", "hci", "_", "pin", "_", "code", "_", "request", "_", "evt", "(", "struct", "hci", "_", "dev", "*", "hdev", ",", "struct", "sk", "_", "buff", "<nl>", "mgmt", "_", "pin", "_", "code", "_", "request", "(", "hdev", "-", ">", "id", ",", "&", "ev", "-", ">", "bdaddr", ",", "secure", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "unlock", ":", "<nl>", "hci", "_", "dev", "_", "unlock", "(", "hdev", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Bluetooth", "Fix", "possible", "NULL", "pointer", "dereference"]}
{"code_tokens": ["mwifiex", "_", "cmd", "_", "append", "_", "vsie", "_", "tlv", "(", "struct", "mwifiex", "_", "private", "*", "priv", ",", "<nl>", "vs", "_", "param", "_", "set", "-", ">", "header", ".", "len", "=", "<nl>", "cpu", "_", "to", "_", "le16", "(", "(", "(", "(", "u16", ")", "priv", "-", ">", "vs", "_", "ie", "[", "id", "]", ".", "ie", "[", "1", "]", ")", "<nl>", "&", "0x00FF", ")", "+", "2", ")", ";", "<nl>", "+", "if", "(", "le16", "_", "to", "_", "cpu", "(", "vs", "_", "param", "_", "set", "-", ">", "header", ".", "len", ")", ">", "<nl>", "+", "MWIFIEX", "_", "MAX", "_", "VSIE", "_", "LEN", ")", "{", "<nl>", "+", "mwifiex", "_", "dbg", "(", "priv", "-", ">", "adapter", ",", "ERROR", ",", "<nl>", "+", "\"", "Invalid", "param", "length", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "memcpy", "(", "vs", "_", "param", "_", "set", "-", ">", "ie", ",", "priv", "-", ">", "vs", "_", "ie", "[", "id", "]", ".", "ie", ",", "<nl>", "le16", "_", "to", "_", "cpu", "(", "vs", "_", "param", "_", "set", "-", ">", "header", ".", "len", ")", ")", ";", "<nl>", "*", "buffer", "+", "=", "le16", "_", "to", "_", "cpu", "(", "vs", "_", "param", "_", "set", "-", ">", "header", ".", "len", ")", "+", "<nl>"], "docstring_tokens": ["mwifiex", "Fix", "possible", "buffer", "overflows", "in", "mwifiex_cmd_append_vsie_tlv"]}
{"code_tokens": ["static", "int", "ebt", "_", "size", "_", "mwt", "(", "struct", "compat", "_", "ebt", "_", "entry", "_", "mwt", "*", "match32", ",", "<nl>", "if", "(", "match", "_", "kern", ")", "<nl>", "match", "_", "kern", "-", ">", "match", "_", "size", "=", "ret", ";", "<nl>", "<nl>", "-", "WARN", "_", "ON", "(", "type", "=", "=", "EBT", "_", "COMPAT", "_", "TARGET", "&", "&", "size", "_", "left", ")", ";", "<nl>", "+", "if", "(", "WARN", "_", "ON", "(", "type", "=", "=", "EBT", "_", "COMPAT", "_", "TARGET", "&", "&", "size", "_", "left", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "match32", "=", "(", "struct", "compat", "_", "ebt", "_", "entry", "_", "mwt", "*", ")", "buf", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "size", "_", "entry", "_", "mwt", "(", "struct", "ebt", "_", "entry", "*", "entry", ",", "const", "unsigned", "char", "*", "base", ",", "<nl>", "*", "<nl>", "*", "offsets", "are", "relative", "to", "beginning", "of", "struct", "ebt", "_", "entry", "(", "i", ".", "e", ".", ",", "0", ")", ".", "<nl>", "*", "/", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "4", ";", "+", "+", "i", ")", "{", "<nl>", "+", "if", "(", "offsets", "[", "i", "]", ">", "=", "*", "total", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "if", "(", "i", "=", "=", "0", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "if", "(", "offsets", "[", "i", "-", "1", "]", ">", "offsets", "[", "i", "]", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ",", "j", "=", "1", ";", "j", "<", "4", ";", "j", "+", "+", ",", "i", "+", "+", ")", "{", "<nl>", "struct", "compat", "_", "ebt", "_", "entry", "_", "mwt", "*", "match32", ";", "<nl>", "unsigned", "int", "size", ";", "<nl>"], "docstring_tokens": ["netfilter", "ebtables", "CONFIG_COMPAT", "don", "t", "trust", "userland", "offsets"]}
{"code_tokens": ["#", "include", "<", "linux", "/", "spinlock", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "init", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "io", ".", "h", ">", "<nl>", "-", "#", "include", "<", "video", "/", "vga", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "mach", "/", "hardware", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "platform", ".", "h", ">", "<nl>", "void", "_", "_", "init", "pci", "_", "v3", "_", "preinit", "(", "void", ")", "<nl>", "<nl>", "pcibios", "_", "min", "_", "io", "=", "0x6000", ";", "<nl>", "pcibios", "_", "min", "_", "mem", "=", "0x00100000", ";", "<nl>", "-", "vga", "_", "base", "=", "PCI", "_", "MEMORY", "_", "VADDR", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Hook", "in", "our", "fault", "handler", "for", "PCI", "errorsmmm", "arch", "/", "arm", "/", "mach", "-", "integrator", "/", "integrator", "_", "ap", ".", "c", "<nl>", "#", "include", "<", "linux", "/", "spinlock", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "init", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "io", ".", "h", ">", "<nl>", "-", "#", "include", "<", "video", "/", "vga", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "mach", "/", "hardware", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "platform", ".", "h", ">", "<nl>", "void", "_", "_", "init", "pci", "_", "v3", "_", "preinit", "(", "void", ")", "<nl>", "<nl>", "pcibios", "_", "min", "_", "io", "=", "0x6000", ";", "<nl>", "pcibios", "_", "min", "_", "mem", "=", "0x00100000", ";", "<nl>", "-", "vga", "_", "base", "=", "PCI", "_", "MEMORY", "_", "VADDR", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Hook", "in", "our", "fault", "handler", "for", "PCI", "errors", "<nl>", "#", "include", "<", "linux", "/", "interrupt", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "io", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "mtd", "/", "physmap", ".", "h", ">", "<nl>", "+", "#", "include", "<", "video", "/", "vga", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "mach", "/", "hardware", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "platform", ".", "h", ">", "<nl>", "static", "struct", "map", "_", "desc", "ap", "_", "io", "_", "desc", "[", "]", "_", "_", "initdata", "=", "{", "<nl>", "static", "void", "_", "_", "init", "ap", "_", "map", "_", "io", "(", "void", ")", "<nl>", "{", "<nl>", "iotable", "_", "init", "(", "ap", "_", "io", "_", "desc", ",", "ARRAY", "_", "SIZE", "(", "ap", "_", "io", "_", "desc", ")", ")", ";", "<nl>", "+", "vga", "_", "base", "=", "PCI", "_", "MEMORY", "_", "VADDR", ";", "<nl>", "}", "<nl>", "<nl>", "#", "define", "INTEGRATOR", "_", "SC", "_", "VALID", "_", "INT", "0x003fffff", "<nl>"], "docstring_tokens": ["mach", "integrator", "fix", "VGA", "base", "regression"]}
{"code_tokens": ["static", "int", "iowarrior", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "interface", ",", "<nl>", "iface", "_", "desc", "=", "interface", "-", ">", "cur", "_", "altsetting", ";", "<nl>", "dev", "-", ">", "product", "_", "id", "=", "le16", "_", "to", "_", "cpu", "(", "udev", "-", ">", "descriptor", ".", "idProduct", ")", ";", "<nl>", "<nl>", "-", "if", "(", "iface", "_", "desc", "-", ">", "desc", ".", "bNumEndpoints", "<", "1", ")", "{", "<nl>", "-", "dev", "_", "err", "(", "&", "interface", "-", ">", "dev", ",", "\"", "Invalid", "number", "of", "endpoints", "\\", "n", "\"", ")", ";", "<nl>", "-", "retval", "=", "-", "EINVAL", ";", "<nl>", "-", "goto", "error", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "/", "*", "set", "up", "the", "endpoint", "information", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "iface", "_", "desc", "-", ">", "desc", ".", "bNumEndpoints", ";", "+", "+", "i", ")", "{", "<nl>", "endpoint", "=", "&", "iface", "_", "desc", "-", ">", "endpoint", "[", "i", "]", ".", "desc", ";", "<nl>", "static", "int", "iowarrior", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "interface", ",", "<nl>", "/", "*", "this", "one", "will", "match", "for", "the", "IOWarrior56", "only", "*", "/", "<nl>", "dev", "-", ">", "int", "_", "out", "_", "endpoint", "=", "endpoint", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "if", "(", "!", "dev", "-", ">", "int", "_", "in", "_", "endpoint", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "interface", "-", ">", "dev", ",", "\"", "no", "interrupt", "-", "in", "endpoint", "found", "\\", "n", "\"", ")", ";", "<nl>", "+", "retval", "=", "-", "ENODEV", ";", "<nl>", "+", "goto", "error", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "we", "have", "to", "check", "the", "report", "_", "size", "often", ",", "so", "remember", "it", "in", "the", "endianness", "suitable", "for", "our", "machine", "*", "/", "<nl>", "dev", "-", ">", "report", "_", "size", "=", "usb", "_", "endpoint", "_", "maxp", "(", "dev", "-", ">", "int", "_", "in", "_", "endpoint", ")", ";", "<nl>", "if", "(", "(", "dev", "-", ">", "interface", "-", ">", "cur", "_", "altsetting", "-", ">", "desc", ".", "bInterfaceNumber", "=", "=", "0", ")", "&", "&", "<nl>"], "docstring_tokens": ["USB", "iowarrior", "fix", "NULL", "deref", "at", "probe"]}
{"code_tokens": ["static", "const", "u8", "samsung", "_", "smt", "_", "7020", "_", "inittab", "[", "]", "=", "{", "<nl>", "static", "int", "samsung", "_", "smt", "_", "7020", "_", "tuner", "_", "set", "_", "params", "(", "struct", "dvb", "_", "frontend", "*", "fe", ",", "<nl>", "struct", "dvb", "_", "frontend", "_", "parameters", "*", "params", ")", "<nl>", "{", "<nl>", "+", "struct", "dtv", "_", "frontend", "_", "properties", "*", "c", "=", "&", "fe", "-", ">", "dtv", "_", "property", "_", "cache", ";", "<nl>", "struct", "cx8802", "_", "dev", "*", "dev", "=", "fe", "-", ">", "dvb", "-", ">", "priv", ";", "<nl>", "u8", "buf", "[", "4", "]", ";", "<nl>", "u32", "div", ";", "<nl>", "static", "int", "samsung", "_", "smt", "_", "7020", "_", "tuner", "_", "set", "_", "params", "(", "struct", "dvb", "_", "frontend", "*", "fe", ",", "<nl>", ".", "buf", "=", "buf", ",", "<nl>", ".", "len", "=", "sizeof", "(", "buf", ")", "}", ";", "<nl>", "<nl>", "-", "div", "=", "params", "-", ">", "frequency", "/", "125", ";", "<nl>", "+", "div", "=", "c", "-", ">", "frequency", "/", "125", ";", "<nl>", "<nl>", "buf", "[", "0", "]", "=", "(", "div", ">", ">", "8", ")", "&", "0x7f", ";", "<nl>", "buf", "[", "1", "]", "=", "div", "&", "0xff", ";", "<nl>", "buf", "[", "2", "]", "=", "0x84", ";", "/", "*", "0xC4", "*", "/", "<nl>", "buf", "[", "3", "]", "=", "0x00", ";", "<nl>", "<nl>", "-", "if", "(", "params", "-", ">", "frequency", "<", "1500000", ")", "<nl>", "+", "if", "(", "c", "-", ">", "frequency", "<", "1500000", ")", "<nl>", "buf", "[", "3", "]", "|", "=", "0x10", ";", "<nl>", "<nl>", "if", "(", "fe", "-", ">", "ops", ".", "i2c", "_", "gate", "_", "ctrl", ")", "<nl>"], "docstring_tokens": ["media", "cx88", "use", "DVBv5", "parameters", "on", "set_params"]}
{"code_tokens": ["static", "inline", "void", "nested", "_", "release", "_", "vmcs12", "(", "struct", "vcpu", "_", "vmx", "*", "vmx", ")", "<nl>", "*", "/", "<nl>", "static", "void", "free", "_", "nested", "(", "struct", "vcpu", "_", "vmx", "*", "vmx", ")", "<nl>", "{", "<nl>", "-", "if", "(", "!", "vmx", "-", ">", "nested", ".", "vmxon", ")", "<nl>", "+", "if", "(", "!", "vmx", "-", ">", "nested", ".", "vmxon", "&", "&", "!", "vmx", "-", ">", "nested", ".", "smm", ".", "vmxon", ")", "<nl>", "return", ";", "<nl>", "<nl>", "vmx", "-", ">", "nested", ".", "vmxon", "=", "false", ";", "<nl>", "+", "vmx", "-", ">", "nested", ".", "smm", ".", "vmxon", "=", "false", ";", "<nl>", "free", "_", "vpid", "(", "vmx", "-", ">", "nested", ".", "vpid02", ")", ";", "<nl>", "vmx", "-", ">", "nested", ".", "posted", "_", "intr", "_", "nv", "=", "-", "1", ";", "<nl>", "vmx", "-", ">", "nested", ".", "current", "_", "vmptr", "=", "-", "1ull", ";", "<nl>"], "docstring_tokens": ["KVM", "VMX", "Fix", "vmx", "nested", "freeing", "when", "no", "SMI", "handler"]}
{"code_tokens": ["static", "struct", "phy", "*", "_", "of", "_", "phy", "_", "get", "(", "struct", "device", "_", "node", "*", "np", ",", "int", "index", ")", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "ENODEV", ")", ";", "<nl>", "<nl>", "+", "/", "*", "This", "phy", "type", "handled", "by", "the", "usb", "-", "phy", "subsystem", "for", "now", "*", "/", "<nl>", "+", "if", "(", "of", "_", "device", "_", "is", "_", "compatible", "(", "args", ".", "np", ",", "\"", "usb", "-", "nop", "-", "xceiv", "\"", ")", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "-", "ENODEV", ")", ";", "<nl>", "+", "<nl>", "mutex", "_", "lock", "(", "&", "phy", "_", "provider", "_", "mutex", ")", ";", "<nl>", "phy", "_", "provider", "=", "of", "_", "phy", "_", "provider", "_", "lookup", "(", "args", ".", "np", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "phy", "_", "provider", ")", "|", "|", "!", "try", "_", "module", "_", "get", "(", "phy", "_", "provider", "-", ">", "owner", ")", ")", "{", "<nl>"], "docstring_tokens": ["phy", "work", "around", "phys", "references", "to", "usb", "nop", "xceiv", "devices"]}
{"code_tokens": ["int", "rtl", "_", "pci", "_", "reset", "_", "trx", "_", "ring", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ")", "<nl>", "dev", "_", "kfree", "_", "skb", "_", "irq", "(", "skb", ")", ";", "<nl>", "ring", "-", ">", "idx", "=", "(", "ring", "-", ">", "idx", "+", "1", ")", "%", "ring", "-", ">", "entries", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "if", "(", "rtlpriv", "-", ">", "use", "_", "new", "_", "trx", "_", "flow", ")", "{", "<nl>", "+", "rtlpci", "-", ">", "tx", "_", "ring", "[", "i", "]", ".", "cur", "_", "tx", "_", "rp", "=", "0", ";", "<nl>", "+", "rtlpci", "-", ">", "tx", "_", "ring", "[", "i", "]", ".", "cur", "_", "tx", "_", "wp", "=", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "ring", "-", ">", "idx", "=", "0", ";", "<nl>", "+", "ring", "-", ">", "entries", "=", "rtlpci", "-", ">", "txringcount", "[", "i", "]", ";", "<nl>", "}", "<nl>", "}", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "rtlpriv", "-", ">", "locks", ".", "irq", "_", "th", "_", "lock", ",", "flags", ")", ";", "<nl>"], "docstring_tokens": ["rtlwifi", "rtl_pci", "Fix", "the", "bug", "when", "inactiveps", "is", "enabled"]}
{"code_tokens": ["static", "int", "pxa3xx", "_", "nand", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "info", "-", ">", "variant", "=", "pxa3xx", "_", "nand", "_", "get", "_", "variant", "(", "pdev", ")", ";", "<nl>", "probe", "_", "success", "=", "0", ";", "<nl>", "for", "(", "cs", "=", "0", ";", "cs", "<", "pdata", "-", ">", "num", "_", "cs", ";", "cs", "+", "+", ")", "{", "<nl>", "+", "struct", "mtd", "_", "info", "*", "mtd", "=", "info", "-", ">", "host", "[", "cs", "]", "-", ">", "mtd", ";", "<nl>", "info", "-", ">", "cs", "=", "cs", ";", "<nl>", "-", "ret", "=", "pxa3xx", "_", "nand", "_", "scan", "(", "info", "-", ">", "host", "[", "cs", "]", "-", ">", "mtd", ")", ";", "<nl>", "+", "ret", "=", "pxa3xx", "_", "nand", "_", "scan", "(", "mtd", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "dev", "_", "warn", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "failed", "to", "scan", "nand", "at", "cs", "%", "d", "\\", "n", "\"", ",", "<nl>", "cs", ")", ";", "<nl>", "static", "int", "pxa3xx", "_", "nand", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "}", "<nl>", "<nl>", "ppdata", ".", "of", "_", "node", "=", "pdev", "-", ">", "dev", ".", "of", "_", "node", ";", "<nl>", "-", "ret", "=", "mtd", "_", "device", "_", "parse", "_", "register", "(", "info", "-", ">", "host", "[", "cs", "]", "-", ">", "mtd", ",", "NULL", ",", "<nl>", "+", "ret", "=", "mtd", "_", "device", "_", "parse", "_", "register", "(", "mtd", ",", "NULL", ",", "<nl>", "&", "ppdata", ",", "pdata", "-", ">", "parts", "[", "cs", "]", ",", "<nl>", "pdata", "-", ">", "nr", "_", "parts", "[", "cs", "]", ")", ";", "<nl>", "if", "(", "!", "ret", ")", "<nl>"], "docstring_tokens": ["mtd", "nand", "pxa3xx", "Add", "a", "local", "loop", "variable"]}
{"code_tokens": ["void", "tipc", "_", "link", "_", "reset", "(", "struct", "tipc", "_", "link", "*", "l", ")", "<nl>", "int", "tipc", "_", "link", "_", "xmit", "(", "struct", "tipc", "_", "link", "*", "l", ",", "struct", "sk", "_", "buff", "_", "head", "*", "list", ",", "<nl>", "struct", "sk", "_", "buff", "_", "head", "*", "xmitq", ")", "<nl>", "{", "<nl>", "-", "struct", "tipc", "_", "msg", "*", "hdr", "=", "buf", "_", "msg", "(", "skb", "_", "peek", "(", "list", ")", ")", ";", "<nl>", "struct", "sk", "_", "buff", "_", "head", "*", "backlogq", "=", "&", "l", "-", ">", "backlogq", ";", "<nl>", "struct", "sk", "_", "buff", "_", "head", "*", "transmq", "=", "&", "l", "-", ">", "transmq", ";", "<nl>", "struct", "sk", "_", "buff", "*", "skb", ",", "*", "_", "skb", ";", "<nl>", "int", "tipc", "_", "link", "_", "xmit", "(", "struct", "tipc", "_", "link", "*", "l", ",", "struct", "sk", "_", "buff", "_", "head", "*", "list", ",", "<nl>", "u16", "ack", "=", "l", "-", ">", "rcv", "_", "nxt", "-", "1", ";", "<nl>", "u16", "seqno", "=", "l", "-", ">", "snd", "_", "nxt", ";", "<nl>", "int", "pkt", "_", "cnt", "=", "skb", "_", "queue", "_", "len", "(", "list", ")", ";", "<nl>", "-", "int", "imp", "=", "msg", "_", "importance", "(", "hdr", ")", ";", "<nl>", "unsigned", "int", "mss", "=", "tipc", "_", "link", "_", "mss", "(", "l", ")", ";", "<nl>", "unsigned", "int", "cwin", "=", "l", "-", ">", "window", ";", "<nl>", "unsigned", "int", "mtu", "=", "l", "-", ">", "mtu", ";", "<nl>", "+", "struct", "tipc", "_", "msg", "*", "hdr", ";", "<nl>", "bool", "new", "_", "bundle", ";", "<nl>", "int", "rc", "=", "0", ";", "<nl>", "+", "int", "imp", ";", "<nl>", "+", "<nl>", "+", "if", "(", "pkt", "_", "cnt", "<", "=", "0", ")", "<nl>", "+", "return", "0", ";", "<nl>", "<nl>", "+", "hdr", "=", "buf", "_", "msg", "(", "skb", "_", "peek", "(", "list", ")", ")", ";", "<nl>", "if", "(", "unlikely", "(", "msg", "_", "size", "(", "hdr", ")", ">", "mtu", ")", ")", "{", "<nl>", "pr", "_", "warn", "(", "\"", "Too", "large", "msg", ",", "purging", "xmit", "list", "%", "d", "%", "d", "%", "d", "%", "d", "%", "d", "!", "\\", "n", "\"", ",", "<nl>", "skb", "_", "queue", "_", "len", "(", "list", ")", ",", "msg", "_", "user", "(", "hdr", ")", ",", "<nl>", "int", "tipc", "_", "link", "_", "xmit", "(", "struct", "tipc", "_", "link", "*", "l", ",", "struct", "sk", "_", "buff", "_", "head", "*", "list", ",", "<nl>", "return", "-", "EMSGSIZE", ";", "<nl>", "}", "<nl>", "<nl>", "+", "imp", "=", "msg", "_", "importance", "(", "hdr", ")", ";", "<nl>", "/", "*", "Allow", "oversubscription", "of", "one", "data", "msg", "per", "source", "at", "congestion", "*", "/", "<nl>", "if", "(", "unlikely", "(", "l", "-", ">", "backlog", "[", "imp", "]", ".", "len", ">", "=", "l", "-", ">", "backlog", "[", "imp", "]", ".", "limit", ")", ")", "{", "<nl>", "if", "(", "imp", "=", "=", "TIPC", "_", "SYSTEM", "_", "IMPORTANCE", ")", "{", "<nl>"], "docstring_tokens": ["tipc", "fix", "NULL", "deref", "in", "tipc_link_xmit"]}
{"code_tokens": ["static", "int", "acpi", "_", "fujitsu", "_", "laptop", "_", "leds", "_", "register", "(", "struct", "acpi", "_", "device", "*", "device", ")", "<nl>", "if", "(", "call", "_", "fext", "_", "func", "(", "device", ",", "<nl>", "FUNC", "_", "LEDS", ",", "0x0", ",", "0x0", ",", "0x0", ")", "&", "LOGOLAMP", "_", "POWERON", ")", "{", "<nl>", "led", "=", "devm", "_", "kzalloc", "(", "&", "device", "-", ">", "dev", ",", "sizeof", "(", "*", "led", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "led", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "led", "-", ">", "name", "=", "\"", "fujitsu", ":", ":", "logolamp", "\"", ";", "<nl>", "led", "-", ">", "brightness", "_", "set", "_", "blocking", "=", "logolamp", "_", "set", ";", "<nl>", "led", "-", ">", "brightness", "_", "get", "=", "logolamp", "_", "get", ";", "<nl>", "static", "int", "acpi", "_", "fujitsu", "_", "laptop", "_", "leds", "_", "register", "(", "struct", "acpi", "_", "device", "*", "device", ")", "<nl>", "FUNC", "_", "LEDS", ",", "0x0", ",", "0x0", ",", "0x0", ")", "&", "KEYBOARD", "_", "LAMPS", ")", "&", "&", "<nl>", "(", "call", "_", "fext", "_", "func", "(", "device", ",", "FUNC", "_", "BUTTONS", ",", "0x0", ",", "0x0", ",", "0x0", ")", "=", "=", "0x0", ")", ")", "{", "<nl>", "led", "=", "devm", "_", "kzalloc", "(", "&", "device", "-", ">", "dev", ",", "sizeof", "(", "*", "led", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "led", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "led", "-", ">", "name", "=", "\"", "fujitsu", ":", ":", "kblamps", "\"", ";", "<nl>", "led", "-", ">", "brightness", "_", "set", "_", "blocking", "=", "kblamps", "_", "set", ";", "<nl>", "led", "-", ">", "brightness", "_", "get", "=", "kblamps", "_", "get", ";", "<nl>", "static", "int", "acpi", "_", "fujitsu", "_", "laptop", "_", "leds", "_", "register", "(", "struct", "acpi", "_", "device", "*", "device", ")", "<nl>", "*", "/", "<nl>", "if", "(", "call", "_", "fext", "_", "func", "(", "device", ",", "FUNC", "_", "BUTTONS", ",", "0x0", ",", "0x0", ",", "0x0", ")", "&", "BIT", "(", "24", ")", ")", "{", "<nl>", "led", "=", "devm", "_", "kzalloc", "(", "&", "device", "-", ">", "dev", ",", "sizeof", "(", "*", "led", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "led", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "led", "-", ">", "name", "=", "\"", "fujitsu", ":", ":", "radio", "_", "led", "\"", ";", "<nl>", "led", "-", ">", "brightness", "_", "set", "_", "blocking", "=", "radio", "_", "led", "_", "set", ";", "<nl>", "led", "-", ">", "brightness", "_", "get", "=", "radio", "_", "led", "_", "get", ";", "<nl>", "static", "int", "acpi", "_", "fujitsu", "_", "laptop", "_", "leds", "_", "register", "(", "struct", "acpi", "_", "device", "*", "device", ")", "<nl>", "(", "call", "_", "fext", "_", "func", "(", "device", ",", "<nl>", "FUNC", "_", "LEDS", ",", "0x2", ",", "ECO", "_", "LED", ",", "0x0", ")", "!", "=", "UNSUPPORTED", "_", "CMD", ")", ")", "{", "<nl>", "led", "=", "devm", "_", "kzalloc", "(", "&", "device", "-", ">", "dev", ",", "sizeof", "(", "*", "led", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "led", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "led", "-", ">", "name", "=", "\"", "fujitsu", ":", ":", "eco", "_", "led", "\"", ";", "<nl>", "led", "-", ">", "brightness", "_", "set", "_", "blocking", "=", "eco", "_", "led", "_", "set", ";", "<nl>", "led", "-", ">", "brightness", "_", "get", "=", "eco", "_", "led", "_", "get", ";", "<nl>"], "docstring_tokens": ["platform", "x86", "fujitsu", "laptop", "add", "NULL", "check", "on", "devm_kzalloc", "return", "value"]}
{"code_tokens": ["static", "int", "i915", "_", "context", "_", "status", "(", "struct", "seq", "_", "file", "*", "m", ",", "void", "*", "unused", ")", "<nl>", "}", "<nl>", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "ctx", ",", "&", "dev", "_", "priv", "-", ">", "context", "_", "list", ",", "link", ")", "{", "<nl>", "+", "if", "(", "ctx", "-", ">", "obj", "=", "=", "NULL", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "seq", "_", "puts", "(", "m", ",", "\"", "HW", "context", "\"", ")", ";", "<nl>", "describe", "_", "ctx", "(", "m", ",", "ctx", ")", ";", "<nl>", "for", "_", "each", "_", "ring", "(", "ring", ",", "dev", "_", "priv", ",", "i", ")", "<nl>"], "docstring_tokens": ["drm", "i915", "Avoid", "NULL", "ctx", "obj", "dereference", "in", "debugfs", "i915_context_info"]}
{"code_tokens": ["static", "int", "l2cap", "_", "sock", "_", "getname", "(", "struct", "socket", "*", "sock", ",", "struct", "sockaddr", "*", "addr", ",", "<nl>", "<nl>", "BT", "_", "DBG", "(", "\"", "sock", "%", "p", ",", "sk", "%", "p", "\"", ",", "sock", ",", "sk", ")", ";", "<nl>", "<nl>", "+", "if", "(", "peer", "&", "&", "sk", "-", ">", "sk", "_", "state", "!", "=", "BT", "_", "CONNECTED", ")", "<nl>", "+", "return", "-", "ENOTCONN", ";", "<nl>", "+", "<nl>", "memset", "(", "la", ",", "0", ",", "sizeof", "(", "struct", "sockaddr", "_", "l2", ")", ")", ";", "<nl>", "addr", "-", ">", "sa", "_", "family", "=", "AF", "_", "BLUETOOTH", ";", "<nl>", "*", "len", "=", "sizeof", "(", "struct", "sockaddr", "_", "l2", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "Refuse", "peer", "L2CAP", "address", "reading", "when", "not", "connected"]}
{"code_tokens": ["static", "int", "adjust", "_", "scalar", "_", "min", "_", "max", "_", "vals", "(", "struct", "bpf", "_", "verifier", "_", "env", "*", "env", ",", "<nl>", "u64", "umin", "_", "val", ",", "umax", "_", "val", ";", "<nl>", "u64", "insn", "_", "bitness", "=", "(", "BPF", "_", "CLASS", "(", "insn", "-", ">", "code", ")", "=", "=", "BPF", "_", "ALU64", ")", "?", "64", ":", "32", ";", "<nl>", "<nl>", "+", "if", "(", "insn", "_", "bitness", "=", "=", "32", ")", "{", "<nl>", "+", "/", "*", "Relevant", "for", "32", "-", "bit", "RSH", ":", "Information", "can", "propagate", "towards", "<nl>", "+", "*", "LSB", ",", "so", "it", "isn", "'", "t", "sufficient", "to", "only", "truncate", "the", "output", "to", "<nl>", "+", "*", "32", "bits", ".", "<nl>", "+", "*", "/", "<nl>", "+", "coerce", "_", "reg", "_", "to", "_", "size", "(", "dst", "_", "reg", ",", "4", ")", ";", "<nl>", "+", "coerce", "_", "reg", "_", "to", "_", "size", "(", "&", "src", "_", "reg", ",", "4", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "smin", "_", "val", "=", "src", "_", "reg", ".", "smin", "_", "value", ";", "<nl>", "smax", "_", "val", "=", "src", "_", "reg", ".", "smax", "_", "value", ";", "<nl>", "umin", "_", "val", "=", "src", "_", "reg", ".", "umin", "_", "value", ";", "<nl>", "static", "int", "adjust", "_", "scalar", "_", "min", "_", "max", "_", "vals", "(", "struct", "bpf", "_", "verifier", "_", "env", "*", "env", ",", "<nl>", "if", "(", "BPF", "_", "CLASS", "(", "insn", "-", ">", "code", ")", "!", "=", "BPF", "_", "ALU64", ")", "{", "<nl>", "/", "*", "32", "-", "bit", "ALU", "ops", "are", "(", "32", ",", "32", ")", "-", ">", "32", "*", "/", "<nl>", "coerce", "_", "reg", "_", "to", "_", "size", "(", "dst", "_", "reg", ",", "4", ")", ";", "<nl>", "-", "coerce", "_", "reg", "_", "to", "_", "size", "(", "&", "src", "_", "reg", ",", "4", ")", ";", "<nl>", "}", "<nl>", "<nl>", "_", "_", "reg", "_", "deduce", "_", "bounds", "(", "dst", "_", "reg", ")", ";", "<nl>"], "docstring_tokens": ["bpf", "32", "bit", "RSH", "verification", "must", "truncate", "input", "before", "the", "ALU", "op"]}
{"code_tokens": ["int", "saa7164", "_", "cmd", "_", "send", "(", "struct", "saa7164", "_", "dev", "*", "dev", ",", "u8", "id", ",", "enum", "tmComResCmd", "command", ",", "<nl>", "dprintk", "(", "DBGLVL", "_", "CMD", ",", "<nl>", "\"", "%", "s", "(", ")", "UNKNOWN", "OR", "INVALID", "CONTROL", "\\", "n", "\"", ",", "<nl>", "_", "_", "func", "_", "_", ")", ";", "<nl>", "+", "ret", "=", "SAA", "_", "ERR", "_", "NOT", "_", "SUPPORTED", ";", "<nl>", "+", "break", ";", "<nl>", "default", ":", "<nl>", "dprintk", "(", "DBGLVL", "_", "CMD", ",", "\"", "%", "s", "(", ")", "UNKNOWN", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "ret", "=", "SAA", "_", "ERR", "_", "NOT", "_", "SUPPORTED", ";", "<nl>"], "docstring_tokens": ["media", "saa7164", "better", "handle", "error", "codes"]}
{"code_tokens": ["static", "void", "arm", "_", "ccn", "_", "pmu", "_", "xp", "_", "dt", "_", "config", "(", "struct", "perf", "_", "event", "*", "event", ",", "int", "enable", ")", "<nl>", "struct", "arm", "_", "ccn", "_", "component", "*", "xp", ";", "<nl>", "u32", "val", ",", "dt", "_", "cfg", ";", "<nl>", "<nl>", "+", "/", "*", "Nothing", "to", "do", "for", "cycle", "counter", "*", "/", "<nl>", "+", "if", "(", "hw", "-", ">", "idx", "=", "=", "CCN", "_", "IDX", "_", "PMU", "_", "CYCLE", "_", "COUNTER", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "if", "(", "CCN", "_", "CONFIG", "_", "TYPE", "(", "event", "-", ">", "attr", ".", "config", ")", "=", "=", "CCN", "_", "TYPE", "_", "XP", ")", "<nl>", "xp", "=", "&", "ccn", "-", ">", "xp", "[", "CCN", "_", "CONFIG", "_", "XP", "(", "event", "-", ">", "attr", ".", "config", ")", "]", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["bus", "arm", "ccn", "Do", "not", "attempt", "to", "configure", "XPs", "for", "cycle", "counter"]}
{"code_tokens": ["static", "void", "outbound", "_", "phy", "_", "packet", "_", "callback", "(", "struct", "fw", "_", "packet", "*", "packet", ",", "<nl>", "{", "<nl>", "struct", "outbound", "_", "phy", "_", "packet", "_", "event", "*", "e", "=", "<nl>", "container", "_", "of", "(", "packet", ",", "struct", "outbound", "_", "phy", "_", "packet", "_", "event", ",", "p", ")", ";", "<nl>", "+", "struct", "client", "*", "e", "_", "client", ";", "<nl>", "<nl>", "switch", "(", "status", ")", "{", "<nl>", "/", "*", "expected", ":", "*", "/", "<nl>", "static", "void", "outbound", "_", "phy", "_", "packet", "_", "callback", "(", "struct", "fw", "_", "packet", "*", "packet", ",", "<nl>", "}", "<nl>", "e", "-", ">", "phy", "_", "packet", ".", "data", "[", "0", "]", "=", "packet", "-", ">", "timestamp", ";", "<nl>", "<nl>", "+", "e", "_", "client", "=", "e", "-", ">", "client", ";", "<nl>", "queue", "_", "event", "(", "e", "-", ">", "client", ",", "&", "e", "-", ">", "event", ",", "&", "e", "-", ">", "phy", "_", "packet", ",", "<nl>", "sizeof", "(", "e", "-", ">", "phy", "_", "packet", ")", "+", "e", "-", ">", "phy", "_", "packet", ".", "length", ",", "NULL", ",", "0", ")", ";", "<nl>", "-", "client", "_", "put", "(", "e", "-", ">", "client", ")", ";", "<nl>", "+", "client", "_", "put", "(", "e", "_", "client", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "ioctl", "_", "send", "_", "phy", "_", "packet", "(", "struct", "client", "*", "client", ",", "union", "ioctl", "_", "arg", "*", "arg", ")", "<nl>"], "docstring_tokens": ["firewire", "fix", "potential", "uaf", "in", "outbound_phy_packet_callback"]}
{"code_tokens": ["static", "const", "struct", "mssr", "_", "mod", "_", "clk", "r8a7795", "_", "mod", "_", "clks", "[", "]", "_", "_", "initconst", "=", "{", "<nl>", "DEF", "_", "MOD", "(", "\"", "scif2", "\"", ",", "310", ",", "R8A7795", "_", "CLK", "_", "S3D4", ")", ",", "<nl>", "DEF", "_", "MOD", "(", "\"", "pcie1", "\"", ",", "318", ",", "R8A7795", "_", "CLK", "_", "S3D1", ")", ",", "<nl>", "DEF", "_", "MOD", "(", "\"", "pcie0", "\"", ",", "319", ",", "R8A7795", "_", "CLK", "_", "S3D1", ")", ",", "<nl>", "+", "DEF", "_", "MOD", "(", "\"", "usb3", "-", "if1", "\"", ",", "327", ",", "R8A7795", "_", "CLK", "_", "S3D1", ")", ",", "<nl>", "+", "DEF", "_", "MOD", "(", "\"", "usb3", "-", "if0", "\"", ",", "328", ",", "R8A7795", "_", "CLK", "_", "S3D1", ")", ",", "<nl>", "DEF", "_", "MOD", "(", "\"", "intc", "-", "ap", "\"", ",", "408", ",", "R8A7795", "_", "CLK", "_", "S3D1", ")", ",", "<nl>", "DEF", "_", "MOD", "(", "\"", "audmac0", "\"", ",", "502", ",", "R8A7795", "_", "CLK", "_", "S3D4", ")", ",", "<nl>", "DEF", "_", "MOD", "(", "\"", "audmac1", "\"", ",", "501", ",", "R8A7795", "_", "CLK", "_", "S3D4", ")", ",", "<nl>"], "docstring_tokens": ["clk", "shmobile", "r8a7795", "Add", "USB3", "0", "clocks"]}
{"code_tokens": ["static", "int", "sis", "_", "fetch", "_", "size", "(", "void", ")", "<nl>", "values", "=", "A", "_", "SIZE", "_", "8", "(", "agp", "_", "bridge", "-", ">", "driver", "-", ">", "aperture", "_", "sizes", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "agp", "_", "bridge", "-", ">", "driver", "-", ">", "num", "_", "aperture", "_", "sizes", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "(", "temp", "_", "size", "=", "=", "values", "[", "i", "]", ".", "size", "_", "value", ")", "|", "|", "<nl>", "-", "(", "(", "temp", "_", "size", "&", "~", "(", "0x03", ")", ")", "=", "=", "<nl>", "-", "(", "values", "[", "i", "]", ".", "size", "_", "value", "&", "~", "(", "0x03", ")", ")", ")", ")", "{", "<nl>", "+", "(", "(", "temp", "_", "size", "&", "~", "(", "0x07", ")", ")", "=", "=", "<nl>", "+", "(", "values", "[", "i", "]", ".", "size", "_", "value", "&", "~", "(", "0x07", ")", ")", ")", ")", "{", "<nl>", "agp", "_", "bridge", "-", ">", "previous", "_", "size", "=", "<nl>", "agp", "_", "bridge", "-", ">", "current", "_", "size", "=", "(", "void", "*", ")", "(", "values", "+", "i", ")", ";", "<nl>"], "docstring_tokens": ["agp", "sis", "Clear", "bit", "2", "from", "aperture", "size", "byte", "as", "well"]}
{"code_tokens": ["static", "int", "safexcel", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "snprintf", "(", "irq", "_", "name", ",", "6", ",", "\"", "ring", "%", "d", "\"", ",", "i", ")", ";", "<nl>", "irq", "=", "safexcel", "_", "request", "_", "ring", "_", "irq", "(", "pdev", ",", "irq", "_", "name", ",", "safexcel", "_", "irq", "_", "ring", ",", "<nl>", "ring", "_", "irq", ")", ";", "<nl>", "-", "<nl>", "-", "if", "(", "irq", "<", "0", ")", "<nl>", "+", "if", "(", "irq", "<", "0", ")", "{", "<nl>", "+", "ret", "=", "irq", ";", "<nl>", "goto", "err", "_", "clk", ";", "<nl>", "+", "}", "<nl>", "<nl>", "priv", "-", ">", "ring", "[", "i", "]", ".", "work", "_", "data", ".", "priv", "=", "priv", ";", "<nl>", "priv", "-", ">", "ring", "[", "i", "]", ".", "work", "_", "data", ".", "ring", "=", "i", ";", "<nl>"], "docstring_tokens": ["crypto", "inside", "secure", "fix", "an", "error", "handling", "path", "in", "safexcel_probe"]}
{"code_tokens": ["static", "struct", "sk", "_", "buff", "*", "ndisc", "_", "build", "_", "skb", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "len", "+", "=", "ndisc", "_", "opt", "_", "addr", "_", "space", "(", "dev", ")", ";", "<nl>", "<nl>", "skb", "=", "sock", "_", "alloc", "_", "send", "_", "skb", "(", "sk", ",", "<nl>", "-", "(", "MAX", "_", "HEADER", "+", "sizeof", "(", "struct", "ipv6hdr", ")", "+", "<nl>", "+", "(", "sizeof", "(", "struct", "ipv6hdr", ")", "+", "<nl>", "len", "+", "hlen", "+", "tlen", ")", ",", "<nl>", "1", ",", "&", "err", ")", ";", "<nl>", "if", "(", "!", "skb", ")", "{", "<nl>", "void", "ndisc", "_", "send", "_", "redirect", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "const", "struct", "in6", "_", "addr", "*", "target", ")", "<nl>", "hlen", "=", "LL", "_", "RESERVED", "_", "SPACE", "(", "dev", ")", ";", "<nl>", "tlen", "=", "dev", "-", ">", "needed", "_", "tailroom", ";", "<nl>", "buff", "=", "sock", "_", "alloc", "_", "send", "_", "skb", "(", "sk", ",", "<nl>", "-", "(", "MAX", "_", "HEADER", "+", "sizeof", "(", "struct", "ipv6hdr", ")", "+", "<nl>", "+", "(", "sizeof", "(", "struct", "ipv6hdr", ")", "+", "<nl>", "len", "+", "hlen", "+", "tlen", ")", ",", "<nl>", "1", ",", "&", "err", ")", ";", "<nl>", "if", "(", "buff", "=", "=", "NULL", ")", "{", "<nl>"], "docstring_tokens": ["ndisc", "Remove", "unused", "space", "at", "tail", "of", "skb", "for", "ndisc", "messages", "TAKE", "3"]}
{"code_tokens": ["void", "free", "_", "fair", "_", "sched", "_", "group", "(", "struct", "task", "_", "group", "*", "tg", ")", "<nl>", "<nl>", "int", "alloc", "_", "fair", "_", "sched", "_", "group", "(", "struct", "task", "_", "group", "*", "tg", ",", "struct", "task", "_", "group", "*", "parent", ")", "<nl>", "{", "<nl>", "-", "struct", "cfs", "_", "rq", "*", "cfs", "_", "rq", ";", "<nl>", "struct", "sched", "_", "entity", "*", "se", ";", "<nl>", "+", "struct", "cfs", "_", "rq", "*", "cfs", "_", "rq", ";", "<nl>", "+", "struct", "rq", "*", "rq", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "tg", "-", ">", "cfs", "_", "rq", "=", "kzalloc", "(", "sizeof", "(", "cfs", "_", "rq", ")", "*", "nr", "_", "cpu", "_", "ids", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "int", "alloc", "_", "fair", "_", "sched", "_", "group", "(", "struct", "task", "_", "group", "*", "tg", ",", "struct", "task", "_", "group", "*", "parent", ")", "<nl>", "init", "_", "cfs", "_", "bandwidth", "(", "tg", "_", "cfs", "_", "bandwidth", "(", "tg", ")", ")", ";", "<nl>", "<nl>", "for", "_", "each", "_", "possible", "_", "cpu", "(", "i", ")", "{", "<nl>", "+", "rq", "=", "cpu", "_", "rq", "(", "i", ")", ";", "<nl>", "+", "<nl>", "cfs", "_", "rq", "=", "kzalloc", "_", "node", "(", "sizeof", "(", "struct", "cfs", "_", "rq", ")", ",", "<nl>", "GFP", "_", "KERNEL", ",", "cpu", "_", "to", "_", "node", "(", "i", ")", ")", ";", "<nl>", "if", "(", "!", "cfs", "_", "rq", ")", "<nl>", "int", "alloc", "_", "fair", "_", "sched", "_", "group", "(", "struct", "task", "_", "group", "*", "tg", ",", "struct", "task", "_", "group", "*", "parent", ")", "<nl>", "init", "_", "cfs", "_", "rq", "(", "cfs", "_", "rq", ")", ";", "<nl>", "init", "_", "tg", "_", "cfs", "_", "entry", "(", "tg", ",", "cfs", "_", "rq", ",", "se", ",", "i", ",", "parent", "-", ">", "se", "[", "i", "]", ")", ";", "<nl>", "init", "_", "entity", "_", "runnable", "_", "average", "(", "se", ")", ";", "<nl>", "+", "<nl>", "+", "raw", "_", "spin", "_", "lock", "_", "irq", "(", "&", "rq", "-", ">", "lock", ")", ";", "<nl>", "post", "_", "init", "_", "entity", "_", "util", "_", "avg", "(", "se", ")", ";", "<nl>", "+", "raw", "_", "spin", "_", "unlock", "_", "irq", "(", "&", "rq", "-", ">", "lock", ")", ";", "<nl>", "}", "<nl>", "<nl>", "return", "1", ";", "mmm", "kernel", "/", "sched", "/", "core", ".", "c", "<nl>", "void", "free", "_", "fair", "_", "sched", "_", "group", "(", "struct", "task", "_", "group", "*", "tg", ")", "<nl>", "<nl>", "int", "alloc", "_", "fair", "_", "sched", "_", "group", "(", "struct", "task", "_", "group", "*", "tg", ",", "struct", "task", "_", "group", "*", "parent", ")", "<nl>", "{", "<nl>", "-", "struct", "cfs", "_", "rq", "*", "cfs", "_", "rq", ";", "<nl>", "struct", "sched", "_", "entity", "*", "se", ";", "<nl>", "+", "struct", "cfs", "_", "rq", "*", "cfs", "_", "rq", ";", "<nl>", "+", "struct", "rq", "*", "rq", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "tg", "-", ">", "cfs", "_", "rq", "=", "kzalloc", "(", "sizeof", "(", "cfs", "_", "rq", ")", "*", "nr", "_", "cpu", "_", "ids", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "int", "alloc", "_", "fair", "_", "sched", "_", "group", "(", "struct", "task", "_", "group", "*", "tg", ",", "struct", "task", "_", "group", "*", "parent", ")", "<nl>", "init", "_", "cfs", "_", "bandwidth", "(", "tg", "_", "cfs", "_", "bandwidth", "(", "tg", ")", ")", ";", "<nl>", "<nl>", "for", "_", "each", "_", "possible", "_", "cpu", "(", "i", ")", "{", "<nl>", "+", "rq", "=", "cpu", "_", "rq", "(", "i", ")", ";", "<nl>", "+", "<nl>", "cfs", "_", "rq", "=", "kzalloc", "_", "node", "(", "sizeof", "(", "struct", "cfs", "_", "rq", ")", ",", "<nl>", "GFP", "_", "KERNEL", ",", "cpu", "_", "to", "_", "node", "(", "i", ")", ")", ";", "<nl>", "if", "(", "!", "cfs", "_", "rq", ")", "<nl>", "int", "alloc", "_", "fair", "_", "sched", "_", "group", "(", "struct", "task", "_", "group", "*", "tg", ",", "struct", "task", "_", "group", "*", "parent", ")", "<nl>", "init", "_", "cfs", "_", "rq", "(", "cfs", "_", "rq", ")", ";", "<nl>", "init", "_", "tg", "_", "cfs", "_", "entry", "(", "tg", ",", "cfs", "_", "rq", ",", "se", ",", "i", ",", "parent", "-", ">", "se", "[", "i", "]", ")", ";", "<nl>", "init", "_", "entity", "_", "runnable", "_", "average", "(", "se", ")", ";", "<nl>", "+", "<nl>", "+", "raw", "_", "spin", "_", "lock", "_", "irq", "(", "&", "rq", "-", ">", "lock", ")", ";", "<nl>", "post", "_", "init", "_", "entity", "_", "util", "_", "avg", "(", "se", ")", ";", "<nl>", "+", "raw", "_", "spin", "_", "unlock", "_", "irq", "(", "&", "rq", "-", ">", "lock", ")", ";", "<nl>", "}", "<nl>", "<nl>", "return", "1", ";", "<nl>", "void", "wake", "_", "up", "_", "new", "_", "task", "(", "struct", "task", "_", "struct", "*", "p", ")", "<nl>", "*", "/", "<nl>", "set", "_", "task", "_", "cpu", "(", "p", ",", "select", "_", "task", "_", "rq", "(", "p", ",", "task", "_", "cpu", "(", "p", ")", ",", "SD", "_", "BALANCE", "_", "FORK", ",", "0", ")", ")", ";", "<nl>", "#", "endif", "<nl>", "-", "/", "*", "Post", "initialize", "new", "task", "'", "s", "util", "average", "when", "its", "cfs", "_", "rq", "is", "set", "*", "/", "<nl>", "+", "rq", "=", "_", "_", "task", "_", "rq", "_", "lock", "(", "p", ",", "&", "rf", ")", ";", "<nl>", "post", "_", "init", "_", "entity", "_", "util", "_", "avg", "(", "&", "p", "-", ">", "se", ")", ";", "<nl>", "<nl>", "-", "rq", "=", "_", "_", "task", "_", "rq", "_", "lock", "(", "p", ",", "&", "rf", ")", ";", "<nl>", "activate", "_", "task", "(", "rq", ",", "p", ",", "0", ")", ";", "<nl>", "p", "-", ">", "on", "_", "rq", "=", "TASK", "_", "ON", "_", "RQ", "_", "QUEUED", ";", "<nl>", "trace", "_", "sched", "_", "wakeup", "_", "new", "(", "p", ")", ";", "<nl>"], "docstring_tokens": ["sched", "fair", "Fix", "post_init_entity_util_avg", "serialization"]}
{"code_tokens": ["mlxreg", "_", "hotplug", "_", "health", "_", "work", "_", "helper", "(", "struct", "mlxreg", "_", "hotplug", "_", "priv", "_", "data", "*", "priv", ",", "<nl>", "{", "<nl>", "struct", "mlxreg", "_", "core", "_", "data", "*", "data", "=", "item", "-", ">", "data", ";", "<nl>", "u32", "regval", ";", "<nl>", "-", "int", "i", ",", "ret", ";", "<nl>", "+", "int", "i", ",", "ret", "=", "0", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "item", "-", ">", "count", ";", "i", "+", "+", ",", "data", "+", "+", ")", "{", "<nl>", "/", "*", "Mask", "event", ".", "*", "/", "<nl>"], "docstring_tokens": ["platform", "mellanox", "mlxreg", "hotplug", "Fix", "uninitialized", "variable"]}
{"code_tokens": ["int", "ion", "_", "system", "_", "heap", "_", "map", "_", "user", "(", "struct", "ion", "_", "heap", "*", "heap", ",", "struct", "ion", "_", "buffer", "*", "buffer", ",", "<nl>", "remap", "_", "pfn", "_", "range", "(", "vma", ",", "addr", ",", "page", "_", "to", "_", "pfn", "(", "sg", "_", "page", "(", "sg", ")", ")", ",", "<nl>", "sg", "_", "dma", "_", "len", "(", "sg", ")", ",", "vma", "-", ">", "vm", "_", "page", "_", "prot", ")", ";", "<nl>", "addr", "+", "=", "sg", "_", "dma", "_", "len", "(", "sg", ")", ";", "<nl>", "+", "if", "(", "addr", ">", "=", "vma", "-", ">", "vm", "_", "end", ")", "<nl>", "+", "return", "0", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["gpu", "ion", "Only", "map", "as", "much", "of", "the", "vma", "as", "the", "user", "requested"]}
{"code_tokens": ["int", "thermal", "_", "add", "_", "hwmon", "_", "sysfs", "(", "struct", "thermal", "_", "zone", "_", "device", "*", "tz", ")", "<nl>", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "hwmon", "-", ">", "tz", "_", "list", ")", ";", "<nl>", "strlcpy", "(", "hwmon", "-", ">", "type", ",", "tz", "-", ">", "type", ",", "THERMAL", "_", "NAME", "_", "LENGTH", ")", ";", "<nl>", "-", "hwmon", "-", ">", "device", "=", "hwmon", "_", "device", "_", "register", "(", "NULL", ")", ";", "<nl>", "+", "hwmon", "-", ">", "device", "=", "hwmon", "_", "device", "_", "register", "(", "&", "tz", "-", ">", "device", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "hwmon", "-", ">", "device", ")", ")", "{", "<nl>", "result", "=", "PTR", "_", "ERR", "(", "hwmon", "-", ">", "device", ")", ";", "<nl>", "goto", "free", "_", "mem", ";", "<nl>"], "docstring_tokens": ["drivers", "thermal", "parent", "virtual", "hwmon", "with", "thermal", "zone"]}
{"code_tokens": ["static", "int", "l2tp", "_", "ip6", "_", "recvmsg", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "sock", "*", "sk", ",", "<nl>", "lsa", "-", ">", "l2tp", "_", "addr", "=", "ipv6", "_", "hdr", "(", "skb", ")", "-", ">", "saddr", ";", "<nl>", "lsa", "-", ">", "l2tp", "_", "flowinfo", "=", "0", ";", "<nl>", "lsa", "-", ">", "l2tp", "_", "scope", "_", "id", "=", "0", ";", "<nl>", "+", "lsa", "-", ">", "l2tp", "_", "conn", "_", "id", "=", "0", ";", "<nl>", "if", "(", "ipv6", "_", "addr", "_", "type", "(", "&", "lsa", "-", ">", "l2tp", "_", "addr", ")", "&", "IPV6", "_", "ADDR", "_", "LINKLOCAL", ")", "<nl>", "lsa", "-", ">", "l2tp", "_", "scope", "_", "id", "=", "IP6CB", "(", "skb", ")", "-", ">", "iif", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["l2tp", "fix", "info", "leak", "in", "l2tp_ip6_recvmsg"]}
{"code_tokens": ["static", "void", "llc", "_", "cmsg", "_", "rcv", "(", "struct", "msghdr", "*", "msg", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "if", "(", "llc", "-", ">", "cmsg", "_", "flags", "&", "LLC", "_", "CMSG", "_", "PKTINFO", ")", "{", "<nl>", "struct", "llc", "_", "pktinfo", "info", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "info", ",", "0", ",", "sizeof", "(", "info", ")", ")", ";", "<nl>", "info", ".", "lpi", "_", "ifindex", "=", "llc", "_", "sk", "(", "skb", "-", ">", "sk", ")", "-", ">", "dev", "-", ">", "ifindex", ";", "<nl>", "llc", "_", "pdu", "_", "decode", "_", "dsap", "(", "skb", ",", "&", "info", ".", "lpi", "_", "sap", ")", ";", "<nl>", "llc", "_", "pdu", "_", "decode", "_", "da", "(", "skb", ",", "info", ".", "lpi", "_", "mac", ")", ";", "<nl>"], "docstring_tokens": ["net", "fix", "infoleak", "in", "llc"]}
{"code_tokens": ["bool", "skb", "_", "flow", "_", "dissect", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "flow", "_", "keys", "*", "flow", ")", "<nl>", "if", "(", "poff", ">", "=", "0", ")", "{", "<nl>", "_", "_", "be32", "*", "ports", ",", "_", "ports", ";", "<nl>", "<nl>", "-", "nhoff", "+", "=", "poff", ";", "<nl>", "-", "ports", "=", "skb", "_", "header", "_", "pointer", "(", "skb", ",", "nhoff", ",", "sizeof", "(", "_", "ports", ")", ",", "&", "_", "ports", ")", ";", "<nl>", "+", "ports", "=", "skb", "_", "header", "_", "pointer", "(", "skb", ",", "nhoff", "+", "poff", ",", "<nl>", "+", "sizeof", "(", "_", "ports", ")", ",", "&", "_", "ports", ")", ";", "<nl>", "if", "(", "ports", ")", "<nl>", "flow", "-", ">", "ports", "=", "*", "ports", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "flow_dissector", "fix", "thoff", "for", "IPPROTO_AH"]}
{"code_tokens": ["static", "int", "_", "_", "get", "_", "data", "_", "block", "(", "struct", "inode", "*", "inode", ",", "sector", "_", "t", "iblock", ",", "<nl>", "if", "(", "!", "err", ")", "{", "<nl>", "map", "_", "bh", "(", "bh", ",", "inode", "-", ">", "i", "_", "sb", ",", "map", ".", "m", "_", "pblk", ")", ";", "<nl>", "bh", "-", ">", "b", "_", "state", "=", "(", "bh", "-", ">", "b", "_", "state", "&", "~", "F2FS", "_", "MAP", "_", "FLAGS", ")", "|", "map", ".", "m", "_", "flags", ";", "<nl>", "-", "bh", "-", ">", "b", "_", "size", "=", "map", ".", "m", "_", "len", "<", "<", "inode", "-", ">", "i", "_", "blkbits", ";", "<nl>", "+", "bh", "-", ">", "b", "_", "size", "=", "(", "u64", ")", "map", ".", "m", "_", "len", "<", "<", "inode", "-", ">", "i", "_", "blkbits", ";", "<nl>", "}", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["f2fs", "fix", "a", "dead", "loop", "in", "f2fs_fiemap"]}
{"code_tokens": ["static", "int", "sw", "_", "sync", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "get", "_", "task", "_", "comm", "(", "task", "_", "comm", ",", "current", ")", ";", "<nl>", "<nl>", "obj", "=", "sw", "_", "sync", "_", "timeline", "_", "create", "(", "task", "_", "comm", ")", ";", "<nl>", "-", "if", "(", "obj", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "!", "obj", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "file", "-", ">", "private", "_", "data", "=", "obj", ";", "<nl>", "static", "long", "sw", "_", "sync", "_", "ioctl", "_", "create", "_", "fence", "(", "struct", "sw", "_", "sync", "_", "timeline", "*", "obj", ",", "<nl>", "}", "<nl>", "<nl>", "pt", "=", "sw", "_", "sync", "_", "pt", "_", "create", "(", "obj", ",", "data", ".", "value", ")", ";", "<nl>", "-", "if", "(", "pt", "=", "=", "NULL", ")", "{", "<nl>", "+", "if", "(", "!", "pt", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "err", ";", "<nl>", "}", "<nl>", "<nl>", "data", ".", "name", "[", "sizeof", "(", "data", ".", "name", ")", "-", "1", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "fence", "=", "sync", "_", "fence", "_", "create", "(", "data", ".", "name", ",", "pt", ")", ";", "<nl>", "-", "if", "(", "fence", "=", "=", "NULL", ")", "{", "<nl>", "+", "if", "(", "!", "fence", ")", "{", "<nl>", "sync", "_", "pt", "_", "free", "(", "pt", ")", ";", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "err", ";", "<nl>"], "docstring_tokens": ["staging", "android", "fix", "coding", "style", "checks", "in", "sw_sync", "c"]}
{"code_tokens": ["static", "int", "mxcmci", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "goto", "out", "_", "release", "_", "mem", ";", "<nl>", "}", "<nl>", "<nl>", "-", "mmc", "_", "of", "_", "parse", "(", "mmc", ")", ";", "<nl>", "+", "ret", "=", "mmc", "_", "of", "_", "parse", "(", "mmc", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "goto", "out", "_", "free", ";", "<nl>", "mmc", "-", ">", "ops", "=", "&", "mxcmci", "_", "ops", ";", "<nl>", "<nl>", "/", "*", "For", "devicetree", "parsing", ",", "the", "bus", "width", "is", "read", "from", "devicetree", "*", "/", "<nl>"], "docstring_tokens": ["mmc", "mxcmmc", "handle", "mmc_of_parse", "errors", "during", "probe"]}
{"code_tokens": ["static", "int", "user", "_", "mem", "_", "abort", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "phys", "_", "addr", "_", "t", "fault", "_", "ipa", ",", "<nl>", "struct", "kvm", "_", "mmu", "_", "memory", "_", "cache", "*", "memcache", "=", "&", "vcpu", "-", ">", "arch", ".", "mmu", "_", "page", "_", "cache", ";", "<nl>", "struct", "vm", "_", "area", "_", "struct", "*", "vma", ";", "<nl>", "pfn", "_", "t", "pfn", ";", "<nl>", "+", "pgprot", "_", "t", "mem", "_", "type", "=", "PAGE", "_", "S2", ";", "<nl>", "<nl>", "write", "_", "fault", "=", "kvm", "_", "is", "_", "write", "_", "fault", "(", "kvm", "_", "vcpu", "_", "get", "_", "hsr", "(", "vcpu", ")", ")", ";", "<nl>", "if", "(", "fault", "_", "status", "=", "=", "FSC", "_", "PERM", "&", "&", "!", "write", "_", "fault", ")", "{", "<nl>", "static", "int", "user", "_", "mem", "_", "abort", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "phys", "_", "addr", "_", "t", "fault", "_", "ipa", ",", "<nl>", "if", "(", "is", "_", "error", "_", "pfn", "(", "pfn", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "<nl>", "+", "if", "(", "kvm", "_", "is", "_", "mmio", "_", "pfn", "(", "pfn", ")", ")", "<nl>", "+", "mem", "_", "type", "=", "PAGE", "_", "S2", "_", "DEVICE", ";", "<nl>", "+", "<nl>", "spin", "_", "lock", "(", "&", "kvm", "-", ">", "mmu", "_", "lock", ")", ";", "<nl>", "if", "(", "mmu", "_", "notifier", "_", "retry", "(", "kvm", ",", "mmu", "_", "seq", ")", ")", "<nl>", "goto", "out", "_", "unlock", ";", "<nl>", "static", "int", "user", "_", "mem", "_", "abort", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "phys", "_", "addr", "_", "t", "fault", "_", "ipa", ",", "<nl>", "hugetlb", "=", "transparent", "_", "hugepage", "_", "adjust", "(", "&", "pfn", ",", "&", "fault", "_", "ipa", ")", ";", "<nl>", "<nl>", "if", "(", "hugetlb", ")", "{", "<nl>", "-", "pmd", "_", "t", "new", "_", "pmd", "=", "pfn", "_", "pmd", "(", "pfn", ",", "PAGE", "_", "S2", ")", ";", "<nl>", "+", "pmd", "_", "t", "new", "_", "pmd", "=", "pfn", "_", "pmd", "(", "pfn", ",", "mem", "_", "type", ")", ";", "<nl>", "new", "_", "pmd", "=", "pmd", "_", "mkhuge", "(", "new", "_", "pmd", ")", ";", "<nl>", "if", "(", "writable", ")", "{", "<nl>", "kvm", "_", "set", "_", "s2pmd", "_", "writable", "(", "&", "new", "_", "pmd", ")", ";", "<nl>", "static", "int", "user", "_", "mem", "_", "abort", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "phys", "_", "addr", "_", "t", "fault", "_", "ipa", ",", "<nl>", "coherent", "_", "cache", "_", "guest", "_", "page", "(", "vcpu", ",", "hva", "&", "PMD", "_", "MASK", ",", "PMD", "_", "SIZE", ")", ";", "<nl>", "ret", "=", "stage2", "_", "set", "_", "pmd", "_", "huge", "(", "kvm", ",", "memcache", ",", "fault", "_", "ipa", ",", "&", "new", "_", "pmd", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "pte", "_", "t", "new", "_", "pte", "=", "pfn", "_", "pte", "(", "pfn", ",", "PAGE", "_", "S2", ")", ";", "<nl>", "+", "pte", "_", "t", "new", "_", "pte", "=", "pfn", "_", "pte", "(", "pfn", ",", "mem", "_", "type", ")", ";", "<nl>", "if", "(", "writable", ")", "{", "<nl>", "kvm", "_", "set", "_", "s2pte", "_", "writable", "(", "&", "new", "_", "pte", ")", ";", "<nl>", "kvm", "_", "set", "_", "pfn", "_", "dirty", "(", "pfn", ")", ";", "<nl>", "}", "<nl>", "coherent", "_", "cache", "_", "guest", "_", "page", "(", "vcpu", ",", "hva", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "-", "ret", "=", "stage2", "_", "set", "_", "pte", "(", "kvm", ",", "memcache", ",", "fault", "_", "ipa", ",", "&", "new", "_", "pte", ",", "false", ")", ";", "<nl>", "+", "ret", "=", "stage2", "_", "set", "_", "pte", "(", "kvm", ",", "memcache", ",", "fault", "_", "ipa", ",", "&", "new", "_", "pte", ",", "<nl>", "+", "mem", "_", "type", "=", "=", "PAGE", "_", "S2", "_", "DEVICE", ")", ";", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["ARM", "KVM", "user_mem_abort", "support", "stage", "2", "MMIO", "page", "mapping"]}
{"code_tokens": ["static", "struct", "nft", "_", "stats", "_", "_", "percpu", "*", "nft", "_", "stats", "_", "alloc", "(", "const", "struct", "nlattr", "*", "attr", ")", "<nl>", "static", "void", "nft", "_", "chain", "_", "stats", "_", "replace", "(", "struct", "nft", "_", "base", "_", "chain", "*", "chain", ",", "<nl>", "struct", "nft", "_", "stats", "_", "_", "percpu", "*", "newstats", ")", "<nl>", "{", "<nl>", "+", "if", "(", "newstats", "=", "=", "NULL", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "if", "(", "chain", "-", ">", "stats", ")", "{", "<nl>", "struct", "nft", "_", "stats", "_", "_", "percpu", "*", "oldstats", "=", "<nl>", "nft", "_", "dereference", "(", "chain", "-", ">", "stats", ")", ";", "<nl>"], "docstring_tokens": ["netfilter", "nf_tables", "don", "t", "update", "chain", "with", "unset", "counters"]}
{"code_tokens": ["static", "int", "do", "_", "ipv6", "_", "setsockopt", "(", "struct", "sock", "*", "sk", ",", "int", "level", ",", "int", "optname", ",", "<nl>", "break", ";", "<nl>", "<nl>", "case", "IPV6", "_", "TRANSPARENT", ":", "<nl>", "+", "if", "(", "!", "capable", "(", "CAP", "_", "NET", "_", "ADMIN", ")", ")", "{", "<nl>", "+", "retv", "=", "-", "EPERM", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "if", "(", "optlen", "<", "sizeof", "(", "int", ")", ")", "<nl>", "goto", "e", "_", "inval", ";", "<nl>", "/", "*", "we", "don", "'", "t", "have", "a", "separate", "transparent", "bit", "for", "IPV6", "we", "use", "the", "one", "in", "the", "IPv4", "socket", "*", "/", "<nl>"], "docstring_tokens": ["tproxy", "Add", "missing", "CAP_NET_ADMIN", "check", "to", "ipv6", "side"]}
{"code_tokens": ["static", "void", "_", "_", "init", "reset", "_", "tod", "_", "clock", "(", "void", ")", "<nl>", "disabled", "_", "wait", "(", "0", ")", ";", "<nl>", "<nl>", "sched", "_", "clock", "_", "base", "_", "cc", "=", "TOD", "_", "UNIX", "_", "EPOCH", ";", "<nl>", "+", "S390", "_", "lowcore", ".", "last", "_", "update", "_", "clock", "=", "sched", "_", "clock", "_", "base", "_", "cc", ";", "<nl>", "}", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "SHARED", "_", "KERNEL", "<nl>", "static", "noinline", "_", "_", "init", "void", "create", "_", "kernel", "_", "nss", "(", "void", ")", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "re", "-", "initialize", "cputime", "accounting", ".", "*", "/", "<nl>", "+", "sched", "_", "clock", "_", "base", "_", "cc", "=", "get", "_", "clock", "(", ")", ";", "<nl>", "+", "S390", "_", "lowcore", ".", "last", "_", "update", "_", "clock", "=", "sched", "_", "clock", "_", "base", "_", "cc", ";", "<nl>", "+", "S390", "_", "lowcore", ".", "last", "_", "update", "_", "timer", "=", "0x7fffffffffffffffULL", ";", "<nl>", "+", "S390", "_", "lowcore", ".", "user", "_", "timer", "=", "0", ";", "<nl>", "+", "S390", "_", "lowcore", ".", "system", "_", "timer", "=", "0", ";", "<nl>", "+", "asm", "volatile", "(", "\"", "SPT", "0", "(", "%", "0", ")", "\"", ":", ":", "\"", "a", "\"", "(", "&", "S390", "_", "lowcore", ".", "last", "_", "update", "_", "timer", ")", ")", ";", "<nl>", "+", "<nl>", "/", "*", "re", "-", "setup", "boot", "command", "line", "with", "new", "ipl", "vm", "parms", "*", "/", "<nl>", "ipl", "_", "update", "_", "parameters", "(", ")", ";", "<nl>", "setup", "_", "boot", "_", "command", "_", "line", "(", ")", ";", "<nl>"], "docstring_tokens": ["S390", "reset", "cputime", "accounting", "after", "IPL", "from", "NSS"]}
{"code_tokens": ["int", "sst", "_", "hsw", "_", "dsp", "_", "runtime", "_", "resume", "(", "struct", "sst", "_", "hsw", "*", "hsw", ")", "<nl>", "ret", "=", "wait", "_", "event", "_", "timeout", "(", "hsw", "-", ">", "boot", "_", "wait", ",", "hsw", "-", ">", "boot", "_", "complete", ",", "<nl>", "msecs", "_", "to", "_", "jiffies", "(", "IPC", "_", "BOOT", "_", "MSECS", ")", ")", ";", "<nl>", "if", "(", "ret", "=", "=", "0", ")", "{", "<nl>", "-", "dev", "_", "err", "(", "hsw", "-", ">", "dev", ",", "\"", "error", ":", "audio", "DSP", "boot", "timeout", "\\", "n", "\"", ")", ";", "<nl>", "+", "dev", "_", "err", "(", "hsw", "-", ">", "dev", ",", "\"", "error", ":", "audio", "DSP", "boot", "timeout", "IPCD", "0x", "%", "x", "IPCX", "0x", "%", "x", "\\", "n", "\"", ",", "<nl>", "+", "sst", "_", "dsp", "_", "shim", "_", "read", "_", "unlocked", "(", "hsw", "-", ">", "dsp", ",", "SST", "_", "IPCD", ")", ",", "<nl>", "+", "sst", "_", "dsp", "_", "shim", "_", "read", "_", "unlocked", "(", "hsw", "-", ">", "dsp", ",", "SST", "_", "IPCX", ")", ")", ";", "<nl>", "return", "-", "EIO", ";", "<nl>", "}", "<nl>", "<nl>", "int", "sst", "_", "hsw", "_", "dsp", "_", "init", "(", "struct", "device", "*", "dev", ",", "struct", "sst", "_", "pdata", "*", "pdata", ")", "<nl>", "msecs", "_", "to", "_", "jiffies", "(", "IPC", "_", "BOOT", "_", "MSECS", ")", ")", ";", "<nl>", "if", "(", "ret", "=", "=", "0", ")", "{", "<nl>", "ret", "=", "-", "EIO", ";", "<nl>", "-", "dev", "_", "err", "(", "hsw", "-", ">", "dev", ",", "\"", "error", ":", "ADSP", "boot", "timeout", "\\", "n", "\"", ")", ";", "<nl>", "+", "dev", "_", "err", "(", "hsw", "-", ">", "dev", ",", "\"", "error", ":", "audio", "DSP", "boot", "timeout", "IPCD", "0x", "%", "x", "IPCX", "0x", "%", "x", "\\", "n", "\"", ",", "<nl>", "+", "sst", "_", "dsp", "_", "shim", "_", "read", "_", "unlocked", "(", "hsw", "-", ">", "dsp", ",", "SST", "_", "IPCD", ")", ",", "<nl>", "+", "sst", "_", "dsp", "_", "shim", "_", "read", "_", "unlocked", "(", "hsw", "-", ">", "dsp", ",", "SST", "_", "IPCX", ")", ")", ";", "<nl>", "goto", "boot", "_", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "Intel", "Add", "debug", "output", "when", "boot", "fails"]}
{"code_tokens": ["static", "int", "ath10k", "_", "usb", "_", "hif", "_", "tx", "_", "sg", "(", "struct", "ath10k", "*", "ar", ",", "u8", "pipe", "_", "id", ",", "<nl>", "ath10k", "_", "dbg", "(", "ar", ",", "ATH10K", "_", "DBG", "_", "USB", "_", "BULK", ",", "<nl>", "\"", "usb", "bulk", "transmit", "failed", ":", "%", "d", "\\", "n", "\"", ",", "ret", ")", ";", "<nl>", "usb", "_", "unanchor", "_", "urb", "(", "urb", ")", ";", "<nl>", "+", "usb", "_", "free", "_", "urb", "(", "urb", ")", ";", "<nl>", "ret", "=", "-", "EINVAL", ";", "<nl>", "goto", "err", "_", "free", "_", "urb", "_", "to", "_", "pipe", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ath10k", "fix", "memory", "leak"]}
{"code_tokens": ["void", "audit", "_", "log", "_", "n", "_", "hex", "(", "struct", "audit", "_", "buffer", "*", "ab", ",", "const", "unsigned", "char", "*", "buf", ",", "<nl>", "int", "i", ",", "avail", ",", "new", "_", "len", ";", "<nl>", "unsigned", "char", "*", "ptr", ";", "<nl>", "struct", "sk", "_", "buff", "*", "skb", ";", "<nl>", "-", "static", "const", "unsigned", "char", "*", "hex", "=", "\"", "0123456789ABCDEF", "\"", ";", "<nl>", "<nl>", "if", "(", "!", "ab", ")", "<nl>", "return", ";", "<nl>", "void", "audit", "_", "log", "_", "n", "_", "hex", "(", "struct", "audit", "_", "buffer", "*", "ab", ",", "const", "unsigned", "char", "*", "buf", ",", "<nl>", "}", "<nl>", "<nl>", "ptr", "=", "skb", "_", "tail", "_", "pointer", "(", "skb", ")", ";", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "len", ";", "i", "+", "+", ")", "{", "<nl>", "-", "*", "ptr", "+", "+", "=", "hex", "[", "(", "buf", "[", "i", "]", "&", "0xF0", ")", ">", ">", "4", "]", ";", "/", "*", "Upper", "nibble", "*", "/", "<nl>", "-", "*", "ptr", "+", "+", "=", "hex", "[", "buf", "[", "i", "]", "&", "0x0F", "]", ";", "/", "*", "Lower", "nibble", "*", "/", "<nl>", "-", "}", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "len", ";", "i", "+", "+", ")", "<nl>", "+", "ptr", "=", "hex", "_", "byte", "_", "pack", "_", "upper", "(", "ptr", ",", "buf", "[", "i", "]", ")", ";", "<nl>", "*", "ptr", "=", "0", ";", "<nl>", "skb", "_", "put", "(", "skb", ",", "len", "<", "<", "1", ")", ";", "/", "*", "new", "string", "is", "twice", "the", "old", "string", "*", "/", "<nl>", "}", "<nl>"], "docstring_tokens": ["audit", "Use", "hex_byte_pack_upper"]}
{"code_tokens": ["static", "inline", "void", "set", "_", "cmd", "_", "timeout", "(", "struct", "mmc", "_", "omap", "_", "host", "*", "host", ",", "struct", "mmc", "_", "reques", "<nl>", "<nl>", "static", "inline", "void", "set", "_", "data", "_", "timeout", "(", "struct", "mmc", "_", "omap", "_", "host", "*", "host", ",", "struct", "mmc", "_", "request", "*", "req", ")", "<nl>", "{", "<nl>", "-", "int", "timeout", ";", "<nl>", "+", "unsigned", "int", "timeout", ",", "cycle", "_", "ns", ";", "<nl>", "u16", "reg", ";", "<nl>", "<nl>", "-", "/", "*", "Convert", "ns", "to", "clock", "cycles", "by", "assuming", "20MHz", "frequency", "<nl>", "-", "*", "1", "cycle", "at", "20", "MHz", "=", "500", "ns", "<nl>", "-", "*", "/", "<nl>", "-", "timeout", "=", "req", "-", ">", "data", "-", ">", "timeout", "_", "clks", "+", "req", "-", ">", "data", "-", ">", "timeout", "_", "ns", "/", "500", ";", "<nl>", "+", "cycle", "_", "ns", "=", "1000000000", "/", "host", "-", ">", "current", "_", "slot", "-", ">", "fclk", "_", "freq", ";", "<nl>", "+", "timeout", "=", "req", "-", ">", "data", "-", ">", "timeout", "_", "ns", "/", "cycle", "_", "ns", ";", "<nl>", "+", "timeout", "+", "=", "req", "-", ">", "data", "-", ">", "timeout", "_", "clks", ";", "<nl>", "<nl>", "/", "*", "Check", "if", "we", "need", "to", "use", "timeout", "multiplier", "register", "*", "/", "<nl>", "reg", "=", "OMAP", "_", "MMC", "_", "READ", "(", "host", ",", "SDIO", ")", ";", "<nl>"], "docstring_tokens": ["MMC", "OMAP", "Fix", "timeout", "calculation", "for", "MMC", "multislot", "support"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "(", "snprintf", ")", ";", "<nl>", "*", "@", ".", ".", ".", ":", "Arguments", "for", "the", "format", "string", "<nl>", "*", "<nl>", "*", "The", "return", "value", "is", "the", "number", "of", "characters", "written", "into", "@", "buf", "not", "including", "<nl>", "-", "*", "the", "trailing", "'", "\\", "0", "'", ".", "If", "@", "size", "is", "<", "=", "0", "the", "function", "returns", "0", ".", "<nl>", "+", "*", "the", "trailing", "'", "\\", "0", "'", ".", "If", "@", "size", "is", "=", "=", "0", "the", "function", "returns", "0", ".", "<nl>", "*", "/", "<nl>", "<nl>", "int", "scnprintf", "(", "char", "*", "buf", ",", "size", "_", "t", "size", ",", "const", "char", "*", "fmt", ",", ".", ".", ".", ")", "<nl>", "int", "scnprintf", "(", "char", "*", "buf", ",", "size", "_", "t", "size", ",", "const", "char", "*", "fmt", ",", ".", ".", ".", ")", "<nl>", "i", "=", "vsnprintf", "(", "buf", ",", "size", ",", "fmt", ",", "args", ")", ";", "<nl>", "va", "_", "end", "(", "args", ")", ";", "<nl>", "<nl>", "-", "return", "(", "i", ">", "=", "size", ")", "?", "(", "size", "-", "1", ")", ":", "i", ";", "<nl>", "+", "if", "(", "likely", "(", "i", "<", "size", ")", ")", "<nl>", "+", "return", "i", ";", "<nl>", "+", "if", "(", "size", "!", "=", "0", ")", "<nl>", "+", "return", "size", "-", "1", ";", "<nl>", "+", "return", "0", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "scnprintf", ")", ";", "<nl>"], "docstring_tokens": ["lib", "fix", "scnprintf", "if", "size", "is", "0"]}
{"code_tokens": ["static", "void", "smp", "_", "task", "_", "timedout", "(", "struct", "timer", "_", "list", "*", "t", ")", "<nl>", "unsigned", "long", "flags", ";", "<nl>", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "task", "-", ">", "task", "_", "state", "_", "lock", ",", "flags", ")", ";", "<nl>", "-", "if", "(", "!", "(", "task", "-", ">", "task", "_", "state", "_", "flags", "&", "SAS", "_", "TASK", "_", "STATE", "_", "DONE", ")", ")", "<nl>", "+", "if", "(", "!", "(", "task", "-", ">", "task", "_", "state", "_", "flags", "&", "SAS", "_", "TASK", "_", "STATE", "_", "DONE", ")", ")", "{", "<nl>", "task", "-", ">", "task", "_", "state", "_", "flags", "|", "=", "SAS", "_", "TASK", "_", "STATE", "_", "ABORTED", ";", "<nl>", "+", "complete", "(", "&", "task", "-", ">", "slow", "_", "task", "-", ">", "completion", ")", ";", "<nl>", "+", "}", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "task", "-", ">", "task", "_", "state", "_", "lock", ",", "flags", ")", ";", "<nl>", "-", "<nl>", "-", "complete", "(", "&", "task", "-", ">", "slow", "_", "task", "-", ">", "completion", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "smp", "_", "task", "_", "done", "(", "struct", "sas", "_", "task", "*", "task", ")", "<nl>", "{", "<nl>", "-", "if", "(", "!", "del", "_", "timer", "(", "&", "task", "-", ">", "slow", "_", "task", "-", ">", "timer", ")", ")", "<nl>", "-", "return", ";", "<nl>", "+", "del", "_", "timer", "(", "&", "task", "-", ">", "slow", "_", "task", "-", ">", "timer", ")", ";", "<nl>", "complete", "(", "&", "task", "-", ">", "slow", "_", "task", "-", ">", "completion", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["scsi", "libsas", "fix", "a", "race", "condition", "when", "smp", "task", "timeout"]}
{"code_tokens": ["static", "void", "snd", "_", "soc", "_", "instantiate", "_", "card", "(", "struct", "snd", "_", "soc", "_", "card", "*", "card", ")", "<nl>", "snd", "_", "soc", "_", "dapm", "_", "add", "_", "routes", "(", "&", "card", "-", ">", "dapm", ",", "card", "-", ">", "dapm", "_", "routes", ",", "<nl>", "card", "-", ">", "num", "_", "dapm", "_", "routes", ")", ";", "<nl>", "<nl>", "+", "snd", "_", "soc", "_", "dapm", "_", "new", "_", "widgets", "(", "&", "card", "-", ">", "dapm", ")", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "card", "-", ">", "num", "_", "links", ";", "i", "+", "+", ")", "{", "<nl>", "dai", "_", "link", "=", "&", "card", "-", ">", "dai", "_", "link", "[", "i", "]", ";", "<nl>"], "docstring_tokens": ["ASoC", "Instantiate", "card", "widgets", "immediately"]}
{"code_tokens": ["static", "int", "ccs811", "_", "start", "_", "sensor", "_", "application", "(", "struct", "i2c", "_", "client", "*", "client", ")", "<nl>", "if", "(", "ret", "<", "0", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "+", "if", "(", "(", "ret", "&", "CCS811", "_", "STATUS", "_", "FW", "_", "MODE", "_", "APPLICATION", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "if", "(", "(", "ret", "&", "CCS811", "_", "STATUS", "_", "APP", "_", "VALID", "_", "MASK", ")", "!", "=", "<nl>", "CCS811", "_", "STATUS", "_", "APP", "_", "VALID", "_", "LOADED", ")", "<nl>", "return", "-", "EIO", ";", "<nl>"], "docstring_tokens": ["iio", "chemical", "ccs811", "Corrected", "firmware", "boot", "application", "mode", "transition"]}
{"code_tokens": ["int", "snd", "_", "hda", "_", "create", "_", "spdif", "_", "out", "_", "ctls", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "hda", "_", "nid", "_", "t", "nid", ")", "<nl>", "}", "<nl>", "for", "(", "dig", "_", "mix", "=", "dig", "_", "mixes", ";", "dig", "_", "mix", "-", ">", "name", ";", "dig", "_", "mix", "+", "+", ")", "{", "<nl>", "kctl", "=", "snd", "_", "ctl", "_", "new1", "(", "dig", "_", "mix", ",", "codec", ")", ";", "<nl>", "+", "if", "(", "!", "kctl", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "kctl", "-", ">", "id", ".", "index", "=", "idx", ";", "<nl>", "kctl", "-", ">", "private", "_", "value", "=", "nid", ";", "<nl>", "err", "=", "snd", "_", "hda", "_", "ctl", "_", "add", "(", "codec", ",", "kctl", ")", ";", "<nl>", "snd", "_", "hda", "_", "attach", "_", "pcm", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "struct", "hda", "_", "pcm", "*", "pcm", ")", "<nl>", "struct", "hda", "_", "pcm", "_", "stream", "*", "info", ";", "<nl>", "int", "stream", ",", "err", ";", "<nl>", "<nl>", "-", "if", "(", "!", "pcm", "-", ">", "name", ")", "<nl>", "+", "if", "(", "snd", "_", "BUG", "_", "ON", "(", "!", "pcm", "-", ">", "name", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "for", "(", "stream", "=", "0", ";", "stream", "<", "2", ";", "stream", "+", "+", ")", "{", "<nl>", "info", "=", "&", "pcm", "-", ">", "stream", "[", "stream", "]", ";", "<nl>"], "docstring_tokens": ["ALSA", "hda", "Fix", "possible", "NULL", "dereference"]}
{"code_tokens": ["static", "void", "local", "_", "exit", "(", "void", ")", "<nl>", "DMINFO", "(", "\"", "cleaned", "up", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "int", "(", "*", "_", "inits", "[", "]", ")", "(", "void", ")", "_", "_", "initdata", "=", "{", "<nl>", "+", "static", "int", "(", "*", "_", "inits", "[", "]", ")", "(", "void", ")", "_", "_", "initdata", "=", "{", "<nl>", "local", "_", "init", ",", "<nl>", "dm", "_", "target", "_", "init", ",", "<nl>", "dm", "_", "linear", "_", "init", ",", "<nl>", "int", "(", "*", "_", "inits", "[", "]", ")", "(", "void", ")", "_", "_", "initdata", "=", "{", "<nl>", "dm", "_", "interface", "_", "init", ",", "<nl>", "}", ";", "<nl>", "<nl>", "-", "void", "(", "*", "_", "exits", "[", "]", ")", "(", "void", ")", "=", "{", "<nl>", "+", "static", "void", "(", "*", "_", "exits", "[", "]", ")", "(", "void", ")", "=", "{", "<nl>", "local", "_", "exit", ",", "<nl>", "dm", "_", "target", "_", "exit", ",", "<nl>", "dm", "_", "linear", "_", "exit", ",", "<nl>"], "docstring_tokens": ["dm", "mark", "function", "lists", "static"]}
{"code_tokens": ["static", "int", "do", "_", "pages", "_", "stat", "(", "struct", "mm", "_", "struct", "*", "mm", ",", "unsigned", "long", "nr", "_", "pages", ",", "<nl>", "int", "err", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "nr", "_", "pages", ";", "i", "+", "=", "chunk", "_", "nr", ")", "{", "<nl>", "-", "if", "(", "chunk", "_", "nr", "+", "i", ">", "nr", "_", "pages", ")", "<nl>", "+", "if", "(", "chunk", "_", "nr", ">", "nr", "_", "pages", "-", "i", ")", "<nl>", "chunk", "_", "nr", "=", "nr", "_", "pages", "-", "i", ";", "<nl>", "<nl>", "err", "=", "copy", "_", "from", "_", "user", "(", "chunk", "_", "pages", ",", "&", "pages", "[", "i", "]", ",", "<nl>"], "docstring_tokens": ["mm", "Adjust", "do_pages_stat", "so", "gcc", "can", "see", "copy_from_user", "is", "safe"]}
{"code_tokens": ["static", "void", "slc", "_", "bump", "(", "struct", "slcan", "*", "sl", ")", "<nl>", "u32", "tmpid", ";", "<nl>", "char", "*", "cmd", "=", "sl", "-", ">", "rbuff", ";", "<nl>", "<nl>", "-", "cf", ".", "can", "_", "id", "=", "0", ";", "<nl>", "+", "memset", "(", "&", "cf", ",", "0", ",", "sizeof", "(", "cf", ")", ")", ";", "<nl>", "<nl>", "switch", "(", "*", "cmd", ")", "{", "<nl>", "case", "'", "r", "'", ":", "<nl>", "static", "void", "slc", "_", "bump", "(", "struct", "slcan", "*", "sl", ")", "<nl>", "else", "<nl>", "return", ";", "<nl>", "<nl>", "-", "*", "(", "u64", "*", ")", "(", "&", "cf", ".", "data", ")", "=", "0", ";", "/", "*", "clear", "payload", "*", "/", "<nl>", "-", "<nl>", "/", "*", "RTR", "frames", "may", "have", "a", "dlc", ">", "0", "but", "they", "never", "have", "any", "data", "bytes", "*", "/", "<nl>", "if", "(", "!", "(", "cf", ".", "can", "_", "id", "&", "CAN", "_", "RTR", "_", "FLAG", ")", ")", "{", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "cf", ".", "can", "_", "dlc", ";", "i", "+", "+", ")", "{", "<nl>"], "docstring_tokens": ["slcan", "Don", "t", "transmit", "uninitialized", "stack", "data", "in", "padding"]}
{"code_tokens": ["static", "void", "qlcnic", "_", "83xx", "_", "mailbox", "_", "worker", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "_", "_", "func", "_", "_", ",", "cmd", "-", ">", "cmd", "_", "op", ",", "cmd", "-", ">", "type", ",", "ahw", "-", ">", "pci", "_", "func", ",", "<nl>", "ahw", "-", ">", "op", "_", "mode", ")", ";", "<nl>", "clear", "_", "bit", "(", "QLC", "_", "83XX", "_", "MBX", "_", "READY", ",", "&", "mbx", "-", ">", "status", ")", ";", "<nl>", "+", "qlcnic", "_", "dump", "_", "mbx", "(", "adapter", ",", "cmd", ")", ";", "<nl>", "qlcnic", "_", "83xx", "_", "idc", "_", "request", "_", "reset", "(", "adapter", ",", "<nl>", "QLCNIC", "_", "FORCE", "_", "FW", "_", "DUMP", "_", "KEY", ")", ";", "<nl>", "cmd", "-", ">", "rsp", "_", "opcode", "=", "QLCNIC", "_", "RCODE", "_", "TIMEOUT", ";", "<nl>"], "docstring_tokens": ["qlcnic", "Dump", "mailbox", "command", "data", "when", "a", "command", "times", "out"]}
{"code_tokens": ["static", "int", "storvsc", "_", "device", "_", "configure", "(", "struct", "scsi", "_", "device", "*", "sdevice", ")", "<nl>", "<nl>", "/", "*", "<nl>", "*", "If", "the", "host", "is", "WIN8", "or", "WIN8", "R2", ",", "claim", "conformance", "to", "SPC", "-", "3", "<nl>", "-", "*", "if", "the", "device", "is", "a", "MSFT", "virtual", "device", ".", "<nl>", "+", "*", "if", "the", "device", "is", "a", "MSFT", "virtual", "device", ".", "If", "the", "host", "is", "<nl>", "+", "*", "WIN10", "or", "newer", ",", "allow", "write", "_", "same", ".", "<nl>", "*", "/", "<nl>", "if", "(", "!", "strncmp", "(", "sdevice", "-", ">", "vendor", ",", "\"", "Msft", "\"", ",", "4", ")", ")", "{", "<nl>", "switch", "(", "vmstor", "_", "proto", "_", "version", ")", "{", "<nl>", "static", "int", "storvsc", "_", "device", "_", "configure", "(", "struct", "scsi", "_", "device", "*", "sdevice", ")", "<nl>", "sdevice", "-", ">", "scsi", "_", "level", "=", "SCSI", "_", "SPC", "_", "3", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "if", "(", "vmstor", "_", "proto", "_", "version", ">", "=", "VMSTOR", "_", "PROTO", "_", "VERSION", "_", "WIN10", ")", "<nl>", "+", "sdevice", "-", ">", "no", "_", "write", "_", "same", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["storvsc", "Allow", "write_same", "when", "host", "is", "windows", "10"]}
{"code_tokens": ["static", "void", "snd", "_", "als4000", "_", "configure", "(", "struct", "snd", "_", "sb", "*", "chip", ")", "<nl>", "/", "*", "SPECS", "_", "PAGE", ":", "39", "*", "/", "<nl>", "for", "(", "i", "=", "ALS4K", "_", "GCR91", "_", "DMA0", "_", "ADDR", ";", "i", "<", "=", "ALS4K", "_", "GCR96", "_", "DMA3", "_", "MODE", "_", "COUNT", ";", "+", "+", "i", ")", "<nl>", "snd", "_", "als4k", "_", "gcr", "_", "write", "(", "chip", ",", "i", ",", "0", ")", ";", "<nl>", "-", "<nl>", "+", "/", "*", "enable", "burst", "mode", "to", "prevent", "dropouts", "during", "high", "PCI", "bus", "usage", "*", "/", "<nl>", "snd", "_", "als4k", "_", "gcr", "_", "write", "(", "chip", ",", "ALS4K", "_", "GCR99", "_", "DMA", "_", "EMULATION", "_", "CTRL", ",", "<nl>", "-", "snd", "_", "als4k", "_", "gcr", "_", "read", "(", "chip", ",", "ALS4K", "_", "GCR99", "_", "DMA", "_", "EMULATION", "_", "CTRL", ")", ")", ";", "<nl>", "+", "snd", "_", "als4k", "_", "gcr", "_", "read", "(", "chip", ",", "ALS4K", "_", "GCR99", "_", "DMA", "_", "EMULATION", "_", "CTRL", ")", "|", "0x04", ")", ";", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "&", "chip", "-", ">", "reg", "_", "lock", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "als4000", "enable", "burst", "mode"]}
{"code_tokens": ["static", "u32", "apic", "_", "get", "_", "tmcct", "(", "struct", "kvm", "_", "lapic", "*", "apic", ")", "<nl>", "ASSERT", "(", "apic", "!", "=", "NULL", ")", ";", "<nl>", "<nl>", "/", "*", "if", "initial", "count", "is", "0", ",", "current", "count", "should", "also", "be", "0", "*", "/", "<nl>", "-", "if", "(", "kvm", "_", "apic", "_", "get", "_", "reg", "(", "apic", ",", "APIC", "_", "TMICT", ")", "=", "=", "0", ")", "<nl>", "+", "if", "(", "kvm", "_", "apic", "_", "get", "_", "reg", "(", "apic", ",", "APIC", "_", "TMICT", ")", "=", "=", "0", "|", "|", "<nl>", "+", "apic", "-", ">", "lapic", "_", "timer", ".", "period", "=", "=", "0", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "remaining", "=", "hrtimer", "_", "get", "_", "remaining", "(", "&", "apic", "-", ">", "lapic", "_", "timer", ".", "timer", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "x86", "Fix", "potential", "divide", "by", "0", "in", "lapic", "CVE", "2013", "6367"]}
{"code_tokens": ["struct", "d40", "_", "base", "{", "<nl>", "int", "irq", ";", "<nl>", "int", "num", "_", "phy", "_", "chans", ";", "<nl>", "int", "num", "_", "log", "_", "chans", ";", "<nl>", "+", "struct", "device", "_", "dma", "_", "parameters", "dma", "_", "parms", ";", "<nl>", "struct", "dma", "_", "device", "dma", "_", "both", ";", "<nl>", "struct", "dma", "_", "device", "dma", "_", "slave", ";", "<nl>", "struct", "dma", "_", "device", "dma", "_", "memcpy", ";", "<nl>", "static", "int", "_", "_", "init", "d40", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "err", ")", "<nl>", "goto", "failure", ";", "<nl>", "<nl>", "+", "base", "-", ">", "dev", "-", ">", "dma", "_", "parms", "=", "&", "base", "-", ">", "dma", "_", "parms", ";", "<nl>", "+", "err", "=", "dma", "_", "set", "_", "max", "_", "seg", "_", "size", "(", "base", "-", ">", "dev", ",", "STEDMA40", "_", "MAX", "_", "SEG", "_", "SIZE", ")", ";", "<nl>", "+", "if", "(", "err", ")", "{", "<nl>", "+", "d40", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Failed", "to", "set", "dma", "max", "seg", "size", "\\", "n", "\"", ")", ";", "<nl>", "+", "goto", "failure", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "d40", "_", "hw", "_", "init", "(", "base", ")", ";", "<nl>", "<nl>", "dev", "_", "info", "(", "base", "-", ">", "dev", ",", "\"", "initialized", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["dmaengine", "ste_dma40", "set", "dma", "max", "seg", "size"]}
{"code_tokens": ["static", "int", "be", "_", "mac", "_", "to", "_", "link", "_", "speed", "(", "int", "mac", "_", "speed", ")", "<nl>", "return", "1000", ";", "<nl>", "case", "PHY", "_", "LINK", "_", "SPEED", "_", "10GBPS", ":", "<nl>", "return", "10000", ";", "<nl>", "+", "case", "PHY", "_", "LINK", "_", "SPEED", "_", "20GBPS", ":", "<nl>", "+", "return", "20000", ";", "<nl>", "+", "case", "PHY", "_", "LINK", "_", "SPEED", "_", "25GBPS", ":", "<nl>", "+", "return", "25000", ";", "<nl>", "+", "case", "PHY", "_", "LINK", "_", "SPEED", "_", "40GBPS", ":", "<nl>", "+", "return", "40000", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>", "}", "mmm", "drivers", "/", "net", "/", "ethernet", "/", "emulex", "/", "benet", "/", "be", "_", "cmds", ".", "h", "<nl>", "static", "int", "be", "_", "mac", "_", "to", "_", "link", "_", "speed", "(", "int", "mac", "_", "speed", ")", "<nl>", "return", "1000", ";", "<nl>", "case", "PHY", "_", "LINK", "_", "SPEED", "_", "10GBPS", ":", "<nl>", "return", "10000", ";", "<nl>", "+", "case", "PHY", "_", "LINK", "_", "SPEED", "_", "20GBPS", ":", "<nl>", "+", "return", "20000", ";", "<nl>", "+", "case", "PHY", "_", "LINK", "_", "SPEED", "_", "25GBPS", ":", "<nl>", "+", "return", "25000", ";", "<nl>", "+", "case", "PHY", "_", "LINK", "_", "SPEED", "_", "40GBPS", ":", "<nl>", "+", "return", "40000", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "enum", "{", "<nl>", "PHY", "_", "LINK", "_", "SPEED", "_", "10MBPS", "=", "0x1", ",", "<nl>", "PHY", "_", "LINK", "_", "SPEED", "_", "100MBPS", "=", "0x2", ",", "<nl>", "PHY", "_", "LINK", "_", "SPEED", "_", "1GBPS", "=", "0x3", ",", "<nl>", "-", "PHY", "_", "LINK", "_", "SPEED", "_", "10GBPS", "=", "0x4", "<nl>", "+", "PHY", "_", "LINK", "_", "SPEED", "_", "10GBPS", "=", "0x4", ",", "<nl>", "+", "PHY", "_", "LINK", "_", "SPEED", "_", "20GBPS", "=", "0x5", ",", "<nl>", "+", "PHY", "_", "LINK", "_", "SPEED", "_", "25GBPS", "=", "0x6", ",", "<nl>", "+", "PHY", "_", "LINK", "_", "SPEED", "_", "40GBPS", "=", "0x7", "<nl>", "}", ";", "<nl>", "<nl>", "struct", "be", "_", "cmd", "_", "resp", "_", "link", "_", "status", "{", "<nl>"], "docstring_tokens": ["be2net", "Adding", "more", "speeds", "reported", "by", "get_settings"]}
{"code_tokens": ["static", "int", "snd", "_", "usb", "_", "fasttrackpro", "_", "boot", "_", "quirk", "(", "struct", "usb", "_", "device", "*", "dev", ")", "<nl>", "*", "rules", "<nl>", "*", "/", "<nl>", "err", "=", "usb", "_", "driver", "_", "set", "_", "configuration", "(", "dev", ",", "2", ")", ";", "<nl>", "-", "if", "(", "err", "<", "0", ")", "{", "<nl>", "+", "if", "(", "err", "<", "0", ")", "<nl>", "snd", "_", "printdd", "(", "\"", "error", "usb", "_", "driver", "_", "set", "_", "configuration", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "err", ")", ";", "<nl>", "-", "return", "-", "ENODEV", ";", "<nl>", "-", "}", "<nl>", "+", "/", "*", "Always", "return", "an", "error", ",", "so", "that", "we", "stop", "creating", "a", "device", "<nl>", "+", "that", "will", "just", "be", "destroyed", "and", "recreated", "with", "a", "new", "<nl>", "+", "configuration", "*", "/", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "}", "else", "<nl>", "snd", "_", "printk", "(", "KERN", "_", "INFO", "\"", "usb", "-", "audio", ":", "Fast", "Track", "Pro", "config", "OK", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["ALSA", "usb", "fix", "race", "in", "creation", "of", "M", "Audio", "Fast", "track", "pro", "driver"]}
{"code_tokens": ["int", "sock", "_", "setsockopt", "(", "struct", "socket", "*", "sock", ",", "int", "level", ",", "int", "optname", ",", "<nl>", "val", "=", "min", "_", "t", "(", "u32", ",", "val", ",", "sysctl", "_", "wmem", "_", "max", ")", ";", "<nl>", "set", "_", "sndbuf", ":", "<nl>", "sk", "-", ">", "sk", "_", "userlocks", "|", "=", "SOCK", "_", "SNDBUF", "_", "LOCK", ";", "<nl>", "-", "sk", "-", ">", "sk", "_", "sndbuf", "=", "max", "_", "t", "(", "u32", ",", "val", "*", "2", ",", "SOCK", "_", "MIN", "_", "SNDBUF", ")", ";", "<nl>", "+", "sk", "-", ">", "sk", "_", "sndbuf", "=", "max", "_", "t", "(", "int", ",", "val", "*", "2", ",", "SOCK", "_", "MIN", "_", "SNDBUF", ")", ";", "<nl>", "/", "*", "Wake", "up", "sending", "tasks", "if", "we", "upped", "the", "value", ".", "*", "/", "<nl>", "sk", "-", ">", "sk", "_", "write", "_", "space", "(", "sk", ")", ";", "<nl>", "break", ";", "<nl>", "int", "sock", "_", "setsockopt", "(", "struct", "socket", "*", "sock", ",", "int", "level", ",", "int", "optname", ",", "<nl>", "*", "returning", "the", "value", "we", "actually", "used", "in", "getsockopt", "<nl>", "*", "is", "the", "most", "desirable", "behavior", ".", "<nl>", "*", "/", "<nl>", "-", "sk", "-", ">", "sk", "_", "rcvbuf", "=", "max", "_", "t", "(", "u32", ",", "val", "*", "2", ",", "SOCK", "_", "MIN", "_", "RCVBUF", ")", ";", "<nl>", "+", "sk", "-", ">", "sk", "_", "rcvbuf", "=", "max", "_", "t", "(", "int", ",", "val", "*", "2", ",", "SOCK", "_", "MIN", "_", "RCVBUF", ")", ";", "<nl>", "break", ";", "<nl>", "<nl>", "case", "SO", "_", "RCVBUFFORCE", ":", "<nl>"], "docstring_tokens": ["net", "avoid", "signed", "overflows", "for", "SO_", "SND", "RCV", "BUFFORCE"]}
{"code_tokens": ["struct", "mapped", "_", "device", "*", "dm", "_", "get", "_", "from", "_", "kobject", "(", "struct", "kobject", "*", "kobj", ")", "<nl>", "<nl>", "md", "=", "container", "_", "of", "(", "kobj", ",", "struct", "mapped", "_", "device", ",", "kobj", "_", "holder", ".", "kobj", ")", ";", "<nl>", "<nl>", "-", "if", "(", "test", "_", "bit", "(", "DMF", "_", "FREEING", ",", "&", "md", "-", ">", "flags", ")", "|", "|", "<nl>", "-", "dm", "_", "deleting", "_", "md", "(", "md", ")", ")", "<nl>", "-", "return", "NULL", ";", "<nl>", "-", "<nl>", "+", "spin", "_", "lock", "(", "&", "_", "minor", "_", "lock", ")", ";", "<nl>", "+", "if", "(", "test", "_", "bit", "(", "DMF", "_", "FREEING", ",", "&", "md", "-", ">", "flags", ")", "|", "|", "dm", "_", "deleting", "_", "md", "(", "md", ")", ")", "{", "<nl>", "+", "md", "=", "NULL", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "dm", "_", "get", "(", "md", ")", ";", "<nl>", "+", "out", ":", "<nl>", "+", "spin", "_", "unlock", "(", "&", "_", "minor", "_", "lock", ")", ";", "<nl>", "+", "<nl>", "return", "md", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["dm", "fix", "race", "between", "dm_get_from_kobject", "and", "__dm_destroy"]}
{"code_tokens": ["static", "enum", "dma", "_", "status", "sun6i", "_", "dma", "_", "tx", "_", "status", "(", "struct", "dma", "_", "chan", "*", "chan", ",", "<nl>", "size", "_", "t", "bytes", "=", "0", ";", "<nl>", "<nl>", "ret", "=", "dma", "_", "cookie", "_", "status", "(", "chan", ",", "cookie", ",", "state", ")", ";", "<nl>", "-", "if", "(", "ret", "=", "=", "DMA", "_", "COMPLETE", ")", "<nl>", "+", "if", "(", "ret", "=", "=", "DMA", "_", "COMPLETE", "|", "|", "!", "state", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "vchan", "-", ">", "vc", ".", "lock", ",", "flags", ")", ";", "<nl>"], "docstring_tokens": ["dmaengine", "sun6i", "dma", "Only", "calculate", "residue", "if", "state", "exists"]}
{"code_tokens": ["xfs", "_", "iext", "_", "remove", "_", "node", "(", "<nl>", "node", "-", ">", "ptrs", "[", "nr", "_", "entries", "]", "=", "NULL", ";", "<nl>", "<nl>", "if", "(", "pos", "=", "=", "0", "&", "&", "nr", "_", "entries", ">", "0", ")", "{", "<nl>", "-", "xfs", "_", "iext", "_", "update", "_", "node", "(", "ifp", ",", "offset", ",", "node", "-", ">", "keys", "[", "0", "]", ",", "level", ",", "<nl>", "-", "node", ")", ";", "<nl>", "+", "xfs", "_", "iext", "_", "update", "_", "node", "(", "ifp", ",", "offset", ",", "node", "-", ">", "keys", "[", "0", "]", ",", "level", ",", "node", ")", ";", "<nl>", "offset", "=", "node", "-", ">", "keys", "[", "0", "]", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["xfs", "trivial", "indentation", "fixup", "for", "xfs_iext_remove_node"]}
{"code_tokens": ["static", "int", "inv", "_", "mpu", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "{", "<nl>", "struct", "inv", "_", "mpu6050", "_", "state", "*", "st", ";", "<nl>", "struct", "iio", "_", "dev", "*", "indio", "_", "dev", ";", "<nl>", "+", "struct", "inv", "_", "mpu6050", "_", "platform", "_", "data", "*", "pdata", ";", "<nl>", "int", "result", ";", "<nl>", "<nl>", "if", "(", "!", "i2c", "_", "check", "_", "functionality", "(", "client", "-", ">", "adapter", ",", "<nl>", "static", "int", "inv", "_", "mpu", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "<nl>", "st", "=", "iio", "_", "priv", "(", "indio", "_", "dev", ")", ";", "<nl>", "st", "-", ">", "client", "=", "client", ";", "<nl>", "-", "st", "-", ">", "plat", "_", "data", "=", "*", "(", "struct", "inv", "_", "mpu6050", "_", "platform", "_", "data", "<nl>", "-", "*", ")", "dev", "_", "get", "_", "platdata", "(", "&", "client", "-", ">", "dev", ")", ";", "<nl>", "+", "pdata", "=", "(", "struct", "inv", "_", "mpu6050", "_", "platform", "_", "data", "<nl>", "+", "*", ")", "dev", "_", "get", "_", "platdata", "(", "&", "client", "-", ">", "dev", ")", ";", "<nl>", "+", "if", "(", "pdata", ")", "<nl>", "+", "st", "-", ">", "plat", "_", "data", "=", "*", "pdata", ";", "<nl>", "/", "*", "power", "is", "turned", "on", "inside", "check", "chip", "type", "*", "/", "<nl>", "result", "=", "inv", "_", "check", "_", "and", "_", "setup", "_", "chip", "(", "st", ",", "id", ")", ";", "<nl>", "if", "(", "result", ")", "<nl>"], "docstring_tokens": ["iio", "imu", "mpu6050", "Fixed", "segfault", "in", "Invensens", "MPU", "driver", "due", "to", "null", "dereference"]}
{"code_tokens": ["struct", "sdma", "_", "firmware", "_", "header", "{", "<nl>", "<nl>", "struct", "sdma", "_", "engine", "{", "<nl>", "struct", "device", "*", "dev", ";", "<nl>", "+", "struct", "device", "_", "dma", "_", "parameters", "dma", "_", "parms", ";", "<nl>", "struct", "sdma", "_", "channel", "channel", "[", "MAX", "_", "DMA", "_", "CHANNELS", "]", ";", "<nl>", "struct", "sdma", "_", "channel", "_", "control", "*", "channel", "_", "control", ";", "<nl>", "void", "_", "_", "iomem", "*", "regs", ";", "<nl>", "static", "int", "_", "_", "init", "sdma", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "sdma", "-", ">", "dma", "_", "device", ".", "device", "_", "prep", "_", "dma", "_", "cyclic", "=", "sdma", "_", "prep", "_", "dma", "_", "cyclic", ";", "<nl>", "sdma", "-", ">", "dma", "_", "device", ".", "device", "_", "control", "=", "sdma", "_", "control", ";", "<nl>", "sdma", "-", ">", "dma", "_", "device", ".", "device", "_", "issue", "_", "pending", "=", "sdma", "_", "issue", "_", "pending", ";", "<nl>", "+", "sdma", "-", ">", "dma", "_", "device", ".", "dev", "-", ">", "dma", "_", "parms", "=", "&", "sdma", "-", ">", "dma", "_", "parms", ";", "<nl>", "+", "dma", "_", "set", "_", "max", "_", "seg", "_", "size", "(", "sdma", "-", ">", "dma", "_", "device", ".", "dev", ",", "65535", ")", ";", "<nl>", "<nl>", "ret", "=", "dma", "_", "async", "_", "device", "_", "register", "(", "&", "sdma", "-", ">", "dma", "_", "device", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>"], "docstring_tokens": ["dmaengine", "i", "MX", "sdma", "set", "maximum", "segment", "size", "for", "our", "device"]}
{"code_tokens": ["static", "struct", "tegra", "_", "dma", "_", "desc", "*", "tegra", "_", "dma", "_", "desc", "_", "get", "(", "<nl>", "if", "(", "async", "_", "tx", "_", "test", "_", "ack", "(", "&", "dma", "_", "desc", "-", ">", "txd", ")", ")", "{", "<nl>", "list", "_", "del", "(", "&", "dma", "_", "desc", "-", ">", "node", ")", ";", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "tdc", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "+", "dma", "_", "desc", "-", ">", "txd", ".", "flags", "=", "0", ";", "<nl>", "return", "dma", "_", "desc", ";", "<nl>", "}", "<nl>", "}", "<nl>", "struct", "dma", "_", "async", "_", "tx", "_", "descriptor", "*", "tegra", "_", "dma", "_", "prep", "_", "dma", "_", "cyclic", "(", "<nl>", "TEGRA", "_", "APBDMA", "_", "AHBSEQ", "_", "WRAP", "_", "SHIFT", ";", "<nl>", "ahb", "_", "seq", "|", "=", "TEGRA", "_", "APBDMA", "_", "AHBSEQ", "_", "BUS", "_", "WIDTH", "_", "32", ";", "<nl>", "<nl>", "-", "csr", "|", "=", "TEGRA", "_", "APBDMA", "_", "CSR", "_", "FLOW", "|", "TEGRA", "_", "APBDMA", "_", "CSR", "_", "IE", "_", "EOC", ";", "<nl>", "+", "csr", "|", "=", "TEGRA", "_", "APBDMA", "_", "CSR", "_", "FLOW", ";", "<nl>", "+", "if", "(", "flags", "&", "DMA", "_", "PREP", "_", "INTERRUPT", ")", "<nl>", "+", "csr", "|", "=", "TEGRA", "_", "APBDMA", "_", "CSR", "_", "IE", "_", "EOC", ";", "<nl>", "csr", "|", "=", "tdc", "-", ">", "dma", "_", "sconfig", ".", "slave", "_", "id", "<", "<", "TEGRA", "_", "APBDMA", "_", "CSR", "_", "REQ", "_", "SEL", "_", "SHIFT", ";", "<nl>", "<nl>", "apb", "_", "seq", "|", "=", "TEGRA", "_", "APBDMA", "_", "APBSEQ", "_", "WRAP", "_", "WORD", "_", "1", ";", "<nl>", "struct", "dma", "_", "async", "_", "tx", "_", "descriptor", "*", "tegra", "_", "dma", "_", "prep", "_", "dma", "_", "cyclic", "(", "<nl>", "mem", "+", "=", "len", ";", "<nl>", "}", "<nl>", "sg", "_", "req", "-", ">", "last", "_", "sg", "=", "true", ";", "<nl>", "-", "dma", "_", "desc", "-", ">", "txd", ".", "flags", "=", "0", ";", "<nl>", "+", "if", "(", "flags", "&", "DMA", "_", "CTRL", "_", "ACK", ")", "<nl>", "+", "dma", "_", "desc", "-", ">", "txd", ".", "flags", "=", "DMA", "_", "CTRL", "_", "ACK", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Make", "sure", "that", "mode", "should", "not", "be", "conflicting", "with", "currently", "<nl>"], "docstring_tokens": ["dma", "tegra", "implement", "flags", "parameters", "for", "cyclic", "transfer"]}
{"code_tokens": ["struct", "btrfs", "_", "trans", "_", "handle", "*", "btrfs", "_", "start", "_", "ioctl", "_", "transaction", "(", "struct", "btrfs", "_", "root", "*", "root", "<nl>", "}", "<nl>", "<nl>", "/", "*", "wait", "for", "a", "transaction", "commit", "to", "be", "fully", "complete", "*", "/", "<nl>", "-", "static", "noinline", "int", "wait", "_", "for", "_", "commit", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "<nl>", "+", "static", "noinline", "void", "wait", "_", "for", "_", "commit", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "<nl>", "struct", "btrfs", "_", "transaction", "*", "commit", ")", "<nl>", "{", "<nl>", "wait", "_", "event", "(", "commit", "-", ">", "commit", "_", "wait", ",", "commit", "-", ">", "commit", "_", "done", ")", ";", "<nl>", "-", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "int", "btrfs", "_", "wait", "_", "for", "_", "commit", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "u64", "transid", ")", "<nl>", "int", "btrfs", "_", "commit", "_", "transaction", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "atomic", "_", "inc", "(", "&", "cur", "_", "trans", "-", ">", "use", "_", "count", ")", ";", "<nl>", "btrfs", "_", "end", "_", "transaction", "(", "trans", ",", "root", ")", ";", "<nl>", "<nl>", "-", "ret", "=", "wait", "_", "for", "_", "commit", "(", "root", ",", "cur", "_", "trans", ")", ";", "<nl>", "-", "BUG", "_", "ON", "(", "ret", ")", ";", "<nl>", "+", "wait", "_", "for", "_", "commit", "(", "root", ",", "cur", "_", "trans", ")", ";", "<nl>", "<nl>", "put", "_", "transaction", "(", "cur", "_", "trans", ")", ";", "<nl>"], "docstring_tokens": ["Btrfs", "remove", "a", "BUG_ON", "in", "btrfs_commit_transaction"]}
{"code_tokens": ["struct", "f2fs", "_", "nat", "_", "block", "{", "<nl>", "#", "define", "SIT", "_", "VBLOCK", "_", "MAP", "_", "SIZE", "64", "<nl>", "#", "define", "SIT", "_", "ENTRY", "_", "PER", "_", "BLOCK", "(", "PAGE", "_", "SIZE", "/", "sizeof", "(", "struct", "f2fs", "_", "sit", "_", "entry", ")", ")", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "F2FS", "uses", "4", "bytes", "to", "represent", "block", "address", ".", "As", "a", "result", ",", "supported", "size", "of", "<nl>", "+", "*", "disk", "is", "16", "TB", "and", "it", "equals", "to", "16", "*", "1024", "*", "1024", "/", "2", "segments", ".", "<nl>", "+", "*", "/", "<nl>", "+", "#", "define", "F2FS", "_", "MAX", "_", "SEGMENT", "(", "(", "16", "*", "1024", "*", "1024", ")", "/", "2", ")", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Note", "that", "f2fs", "_", "sit", "_", "entry", "-", ">", "vblocks", "has", "the", "following", "bit", "-", "field", "information", ".", "<nl>", "*", "[", "15", ":", "10", "]", ":", "allocation", "type", "such", "as", "CURSEG", "_", "XXXX", "_", "TYPEmmm", "fs", "/", "f2fs", "/", "super", ".", "c", "<nl>", "struct", "f2fs", "_", "nat", "_", "block", "{", "<nl>", "#", "define", "SIT", "_", "VBLOCK", "_", "MAP", "_", "SIZE", "64", "<nl>", "#", "define", "SIT", "_", "ENTRY", "_", "PER", "_", "BLOCK", "(", "PAGE", "_", "SIZE", "/", "sizeof", "(", "struct", "f2fs", "_", "sit", "_", "entry", ")", ")", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "F2FS", "uses", "4", "bytes", "to", "represent", "block", "address", ".", "As", "a", "result", ",", "supported", "size", "of", "<nl>", "+", "*", "disk", "is", "16", "TB", "and", "it", "equals", "to", "16", "*", "1024", "*", "1024", "/", "2", "segments", ".", "<nl>", "+", "*", "/", "<nl>", "+", "#", "define", "F2FS", "_", "MAX", "_", "SEGMENT", "(", "(", "16", "*", "1024", "*", "1024", ")", "/", "2", ")", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Note", "that", "f2fs", "_", "sit", "_", "entry", "-", ">", "vblocks", "has", "the", "following", "bit", "-", "field", "information", ".", "<nl>", "*", "[", "15", ":", "10", "]", ":", "allocation", "type", "such", "as", "CURSEG", "_", "XXXX", "_", "TYPE", "<nl>", "static", "int", "sanity", "_", "check", "_", "raw", "_", "super", "(", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "le32", "_", "to", "_", "cpu", "(", "raw", "_", "super", "-", ">", "segment", "_", "count", ")", ">", "F2FS", "_", "MAX", "_", "SEGMENT", ")", "{", "<nl>", "+", "f2fs", "_", "msg", "(", "sb", ",", "KERN", "_", "INFO", ",", "<nl>", "+", "\"", "Invalid", "segment", "count", "(", "%", "u", ")", "\"", ",", "<nl>", "+", "le32", "_", "to", "_", "cpu", "(", "raw", "_", "super", "-", ">", "segment", "_", "count", ")", ")", ";", "<nl>", "+", "return", "1", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "check", "CP", "/", "SIT", "/", "NAT", "/", "SSA", "/", "MAIN", "_", "AREA", "area", "boundary", "*", "/", "<nl>", "if", "(", "sanity", "_", "check", "_", "area", "_", "boundary", "(", "sbi", ",", "bh", ")", ")", "<nl>", "return", "1", ";", "<nl>"], "docstring_tokens": ["f2fs", "sanity", "check", "segment", "count"]}
{"code_tokens": ["do", "_", "send", "_", "specific", "(", "pid", "_", "t", "tgid", ",", "pid", "_", "t", "pid", ",", "int", "sig", ",", "struct", "siginfo", "*", "info", ")", "<nl>", "<nl>", "static", "int", "do", "_", "tkill", "(", "pid", "_", "t", "tgid", ",", "pid", "_", "t", "pid", ",", "int", "sig", ")", "<nl>", "{", "<nl>", "-", "struct", "siginfo", "info", ";", "<nl>", "+", "struct", "siginfo", "info", "=", "{", "}", ";", "<nl>", "<nl>", "info", ".", "si", "_", "signo", "=", "sig", ";", "<nl>", "info", ".", "si", "_", "errno", "=", "0", ";", "<nl>"], "docstring_tokens": ["kernel", "signal", "c", "stop", "info", "leak", "via", "the", "tkill", "and", "the", "tgkill", "syscalls"]}
{"code_tokens": ["static", "int", "fusb302", "_", "pd", "_", "send", "_", "message", "(", "struct", "fusb302", "_", "chip", "*", "chip", ",", "<nl>", "}", "<nl>", "/", "*", "packsym", "tells", "the", "FUSB302", "chip", "that", "the", "next", "X", "bytes", "are", "payload", "*", "/", "<nl>", "buf", "[", "pos", "+", "+", "]", "=", "FUSB302", "_", "TKN", "_", "PACKSYM", "|", "(", "len", "&", "0x1F", ")", ";", "<nl>", "-", "buf", "[", "pos", "+", "+", "]", "=", "msg", "-", ">", "header", "&", "0xFF", ";", "<nl>", "-", "buf", "[", "pos", "+", "+", "]", "=", "(", "msg", "-", ">", "header", ">", ">", "8", ")", "&", "0xFF", ";", "<nl>", "+", "memcpy", "(", "&", "buf", "[", "pos", "]", ",", "&", "msg", "-", ">", "header", ",", "sizeof", "(", "msg", "-", ">", "header", ")", ")", ";", "<nl>", "+", "pos", "+", "=", "sizeof", "(", "msg", "-", ">", "header", ")", ";", "<nl>", "<nl>", "len", "-", "=", "2", ";", "<nl>", "memcpy", "(", "&", "buf", "[", "pos", "]", ",", "msg", "-", ">", "payload", ",", "len", ")", ";", "<nl>"], "docstring_tokens": ["staging", "fusb302", "don", "t", "bitshift", "__le16", "type"]}
{"code_tokens": ["long", "drm", "_", "ioctl", "(", "struct", "file", "*", "filp", ",", "<nl>", "retcode", "=", "-", "EFAULT", ";", "<nl>", "goto", "err", "_", "i1", ";", "<nl>", "}", "<nl>", "-", "}", "<nl>", "+", "}", "else", "<nl>", "+", "memset", "(", "kdata", ",", "0", ",", "_", "IOC", "_", "SIZE", "(", "cmd", ")", ")", ";", "<nl>", "+", "<nl>", "if", "(", "ioctl", "-", ">", "flags", "&", "DRM", "_", "UNLOCKED", ")", "<nl>", "retcode", "=", "func", "(", "dev", ",", "kdata", ",", "file", "_", "priv", ")", ";", "<nl>", "else", "{", "<nl>"], "docstring_tokens": ["drm", "stop", "information", "leak", "of", "old", "kernel", "stack"]}
{"code_tokens": ["static", "int", "vimc", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "media", "_", "device", "_", "cleanup", "(", "&", "vimc", "-", ">", "mdev", ")", ";", "<nl>", "vimc", "_", "rm", "_", "subdevs", "(", "vimc", ")", ";", "<nl>", "-", "kfree", "(", "vimc", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["media", "vimc", "Remove", "redundant", "free"]}
{"code_tokens": ["static", "int", "ccdc", "_", "config", "_", "vdfc", "(", "struct", "ccdc", "_", "vertical", "_", "dft", "*", "dfc", ")", "<nl>", "*", "/", "<nl>", "static", "void", "ccdc", "_", "config", "_", "csc", "(", "struct", "ccdc", "_", "csc", "*", "csc", ")", "<nl>", "{", "<nl>", "-", "u32", "val1", ",", "val2", ";", "<nl>", "+", "u32", "val1", "=", "0", ",", "val2", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "if", "(", "!", "csc", "-", ">", "enable", ")", "<nl>"], "docstring_tokens": ["media", "davinci", "dm355", "Fix", "uninitialized", "variable", "compiler", "warnings"]}
{"code_tokens": ["static", "void", "aer", "_", "recover", "_", "work", "_", "func", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "cper", "_", "print", "_", "aer", "(", "pdev", ",", "entry", ".", "severity", ",", "entry", ".", "regs", ")", ";", "<nl>", "-", "do", "_", "recovery", "(", "pdev", ",", "entry", ".", "severity", ")", ";", "<nl>", "+", "if", "(", "entry", ".", "severity", "!", "=", "AER", "_", "CORRECTABLE", ")", "<nl>", "+", "do", "_", "recovery", "(", "pdev", ",", "entry", ".", "severity", ")", ";", "<nl>", "pci", "_", "dev", "_", "put", "(", "pdev", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["PCI", "AER", "Skip", "recovery", "callbacks", "for", "correctable", "errors", "from", "ACPI", "APEI"]}
{"code_tokens": ["void", "pnfs", "_", "error", "_", "mark", "_", "layout", "_", "for", "_", "return", "(", "struct", "inode", "*", "inode", ",", "<nl>", "struct", "pnfs", "_", "layout", "_", "segment", "*", "lseg", ")", "<nl>", "{", "<nl>", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", "=", "NFS", "_", "I", "(", "inode", ")", "-", ">", "layout", ";", "<nl>", "-", "int", "iomode", "=", "pnfs", "_", "iomode", "_", "to", "_", "fail", "_", "bit", "(", "lseg", "-", ">", "pls", "_", "range", ".", "iomode", ")", ";", "<nl>", "struct", "pnfs", "_", "layout", "_", "range", "range", "=", "{", "<nl>", ".", "iomode", "=", "lseg", "-", ">", "pls", "_", "range", ".", "iomode", ",", "<nl>", ".", "offset", "=", "0", ",", "<nl>", "void", "pnfs", "_", "error", "_", "mark", "_", "layout", "_", "for", "_", "return", "(", "struct", "inode", "*", "inode", ",", "<nl>", "LIST", "_", "HEAD", "(", "free", "_", "me", ")", ";", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "inode", "-", ">", "i", "_", "lock", ")", ";", "<nl>", "-", "/", "*", "set", "failure", "bit", "so", "that", "pnfs", "path", "will", "be", "retried", "later", "*", "/", "<nl>", "-", "pnfs", "_", "layout", "_", "set", "_", "fail", "_", "bit", "(", "lo", ",", "iomode", ")", ";", "<nl>", "if", "(", "lo", "-", ">", "plh", "_", "return", "_", "iomode", "=", "=", "0", ")", "<nl>", "lo", "-", ">", "plh", "_", "return", "_", "iomode", "=", "range", ".", "iomode", ";", "<nl>", "else", "if", "(", "lo", "-", ">", "plh", "_", "return", "_", "iomode", "!", "=", "range", ".", "iomode", ")", "mmm", "fs", "/", "nfs", "/", "filelayout", "/", "filelayout", ".", "c", "<nl>", "void", "pnfs", "_", "error", "_", "mark", "_", "layout", "_", "for", "_", "return", "(", "struct", "inode", "*", "inode", ",", "<nl>", "struct", "pnfs", "_", "layout", "_", "segment", "*", "lseg", ")", "<nl>", "{", "<nl>", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", "=", "NFS", "_", "I", "(", "inode", ")", "-", ">", "layout", ";", "<nl>", "-", "int", "iomode", "=", "pnfs", "_", "iomode", "_", "to", "_", "fail", "_", "bit", "(", "lseg", "-", ">", "pls", "_", "range", ".", "iomode", ")", ";", "<nl>", "struct", "pnfs", "_", "layout", "_", "range", "range", "=", "{", "<nl>", ".", "iomode", "=", "lseg", "-", ">", "pls", "_", "range", ".", "iomode", ",", "<nl>", ".", "offset", "=", "0", ",", "<nl>", "void", "pnfs", "_", "error", "_", "mark", "_", "layout", "_", "for", "_", "return", "(", "struct", "inode", "*", "inode", ",", "<nl>", "LIST", "_", "HEAD", "(", "free", "_", "me", ")", ";", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "inode", "-", ">", "i", "_", "lock", ")", ";", "<nl>", "-", "/", "*", "set", "failure", "bit", "so", "that", "pnfs", "path", "will", "be", "retried", "later", "*", "/", "<nl>", "-", "pnfs", "_", "layout", "_", "set", "_", "fail", "_", "bit", "(", "lo", ",", "iomode", ")", ";", "<nl>", "if", "(", "lo", "-", ">", "plh", "_", "return", "_", "iomode", "=", "=", "0", ")", "<nl>", "lo", "-", ">", "plh", "_", "return", "_", "iomode", "=", "range", ".", "iomode", ";", "<nl>", "else", "if", "(", "lo", "-", ">", "plh", "_", "return", "_", "iomode", "!", "=", "range", ".", "iomode", ")", "<nl>", "static", "int", "filelayout", "_", "async", "_", "handle", "_", "error", "(", "struct", "rpc", "_", "task", "*", "task", ",", "<nl>", "task", "-", ">", "tk", "_", "status", ")", ";", "<nl>", "nfs4", "_", "mark", "_", "deviceid", "_", "unavailable", "(", "devid", ")", ";", "<nl>", "pnfs", "_", "error", "_", "mark", "_", "layout", "_", "for", "_", "return", "(", "inode", ",", "lseg", ")", ";", "<nl>", "+", "pnfs", "_", "set", "_", "lo", "_", "fail", "(", "lseg", ")", ";", "<nl>", "rpc", "_", "wake", "_", "up", "(", "&", "tbl", "-", ">", "slot", "_", "tbl", "_", "waitq", ")", ";", "<nl>", "/", "*", "fall", "through", "*", "/", "<nl>", "default", ":", "<nl>"], "docstring_tokens": ["pNFS", "flexfiles", "Don", "t", "mark", "the", "entire", "layout", "as", "failed", "when", "returning", "it"]}
{"code_tokens": ["void", "selinux", "_", "complete", "_", "init", "(", "void", ")", "<nl>", "<nl>", "/", "*", "Set", "up", "any", "superblocks", "initialized", "prior", "to", "the", "policy", "load", ".", "*", "/", "<nl>", "printk", "(", "KERN", "_", "INFO", "\"", "SELinux", ":", "Setting", "up", "existing", "superblocks", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "spin", "_", "lock", "(", "&", "sb", "_", "lock", ")", ";", "<nl>", "spin", "_", "lock", "(", "&", "sb", "_", "security", "_", "lock", ")", ";", "<nl>", "next", "_", "sb", ":", "<nl>", "if", "(", "!", "list", "_", "empty", "(", "&", "superblock", "_", "security", "_", "head", ")", ")", "{", "<nl>", "void", "selinux", "_", "complete", "_", "init", "(", "void", ")", "<nl>", "struct", "superblock", "_", "security", "_", "struct", ",", "<nl>", "list", ")", ";", "<nl>", "struct", "super", "_", "block", "*", "sb", "=", "sbsec", "-", ">", "sb", ";", "<nl>", "-", "spin", "_", "lock", "(", "&", "sb", "_", "lock", ")", ";", "<nl>", "sb", "-", ">", "s", "_", "count", "+", "+", ";", "<nl>", "-", "spin", "_", "unlock", "(", "&", "sb", "_", "lock", ")", ";", "<nl>", "spin", "_", "unlock", "(", "&", "sb", "_", "security", "_", "lock", ")", ";", "<nl>", "+", "spin", "_", "unlock", "(", "&", "sb", "_", "lock", ")", ";", "<nl>", "down", "_", "read", "(", "&", "sb", "-", ">", "s", "_", "umount", ")", ";", "<nl>", "if", "(", "sb", "-", ">", "s", "_", "root", ")", "<nl>", "superblock", "_", "doinit", "(", "sb", ",", "NULL", ")", ";", "<nl>", "drop", "_", "super", "(", "sb", ")", ";", "<nl>", "+", "spin", "_", "lock", "(", "&", "sb", "_", "lock", ")", ";", "<nl>", "spin", "_", "lock", "(", "&", "sb", "_", "security", "_", "lock", ")", ";", "<nl>", "list", "_", "del", "_", "init", "(", "&", "sbsec", "-", ">", "list", ")", ";", "<nl>", "goto", "next", "_", "sb", ";", "<nl>", "}", "<nl>", "spin", "_", "unlock", "(", "&", "sb", "_", "security", "_", "lock", ")", ";", "<nl>", "+", "spin", "_", "unlock", "(", "&", "sb", "_", "lock", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "SELinux", "requires", "early", "initialization", "in", "order", "to", "label", "<nl>"], "docstring_tokens": ["PATCH", "selinux", "fix", "sb_lock", "sb_security_lock", "nesting"]}
{"code_tokens": ["struct", "tpm", "_", "chip", "*", "tpmm", "_", "chip", "_", "alloc", "(", "struct", "device", "*", "dev", ",", "<nl>", "<nl>", "device", "_", "initialize", "(", "&", "chip", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "-", "chip", "-", ">", "cdev", ".", "owner", "=", "chip", "-", ">", "pdev", "-", ">", "driver", "-", ">", "owner", ";", "<nl>", "cdev", "_", "init", "(", "&", "chip", "-", ">", "cdev", ",", "&", "tpm", "_", "fops", ")", ";", "<nl>", "+", "chip", "-", ">", "cdev", ".", "owner", "=", "chip", "-", ">", "pdev", "-", ">", "driver", "-", ">", "owner", ";", "<nl>", "+", "chip", "-", ">", "cdev", ".", "kobj", ".", "parent", "=", "&", "chip", "-", ">", "dev", ".", "kobj", ";", "<nl>", "<nl>", "return", "chip", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tpm", "Fix", "initialization", "of", "the", "cdev"]}
{"code_tokens": ["static", "int", "snd", "_", "timer", "_", "user", "_", "tselect", "(", "struct", "file", "*", "file", ",", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "goto", "_", "_", "err", ";", "<nl>", "<nl>", "+", "tu", "-", ">", "qhead", "=", "tu", "-", ">", "qtail", "=", "tu", "-", ">", "qused", "=", "0", ";", "<nl>", "kfree", "(", "tu", "-", ">", "queue", ")", ";", "<nl>", "tu", "-", ">", "queue", "=", "NULL", ";", "<nl>", "kfree", "(", "tu", "-", ">", "tqueue", ")", ";", "<nl>"], "docstring_tokens": ["ALSA", "timer", "Fix", "missing", "queue", "indices", "reset", "at", "SNDRV_TIMER_IOCTL_SELECT"]}
{"code_tokens": ["nv134", "_", "chipset", "=", "{", "<nl>", ".", "top", "=", "gk104", "_", "top", "_", "new", ",", "<nl>", ".", "disp", "=", "gp104", "_", "disp", "_", "new", ",", "<nl>", ".", "dma", "=", "gf119", "_", "dma", "_", "new", ",", "<nl>", "+", ".", "fifo", "=", "gp100", "_", "fifo", "_", "new", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "int", "<nl>"], "docstring_tokens": ["drm", "nouveau", "fifo", "gp104", "initial", "support"]}
{"code_tokens": ["struct", "nci", "_", "ops", "{", "<nl>", "int", "(", "*", "send", ")", "(", "struct", "nci", "_", "dev", "*", "ndev", ",", "struct", "sk", "_", "buff", "*", "skb", ")", ";", "<nl>", "int", "(", "*", "setup", ")", "(", "struct", "nci", "_", "dev", "*", "ndev", ")", ";", "<nl>", "_", "_", "u32", "(", "*", "get", "_", "rfprotocol", ")", "(", "struct", "nci", "_", "dev", "*", "ndev", ",", "_", "_", "u8", "rf", "_", "protocol", ")", ";", "<nl>", "+", "int", "(", "*", "discover", "_", "se", ")", "(", "struct", "nci", "_", "dev", "*", "ndev", ")", ";", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "NCI", "_", "MAX", "_", "SUPPORTED", "_", "RF", "_", "INTERFACES", "4mmm", "net", "/", "nfc", "/", "nci", "/", "core", ".", "c", "<nl>", "struct", "nci", "_", "ops", "{", "<nl>", "int", "(", "*", "send", ")", "(", "struct", "nci", "_", "dev", "*", "ndev", ",", "struct", "sk", "_", "buff", "*", "skb", ")", ";", "<nl>", "int", "(", "*", "setup", ")", "(", "struct", "nci", "_", "dev", "*", "ndev", ")", ";", "<nl>", "_", "_", "u32", "(", "*", "get", "_", "rfprotocol", ")", "(", "struct", "nci", "_", "dev", "*", "ndev", ",", "_", "_", "u8", "rf", "_", "protocol", ")", ";", "<nl>", "+", "int", "(", "*", "discover", "_", "se", ")", "(", "struct", "nci", "_", "dev", "*", "ndev", ")", ";", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "NCI", "_", "MAX", "_", "SUPPORTED", "_", "RF", "_", "INTERFACES", "4", "<nl>", "static", "int", "nci", "_", "disable", "_", "se", "(", "struct", "nfc", "_", "dev", "*", "nfc", "_", "dev", ",", "u32", "se", "_", "idx", ")", "<nl>", "<nl>", "static", "int", "nci", "_", "discover", "_", "se", "(", "struct", "nfc", "_", "dev", "*", "nfc", "_", "dev", ")", "<nl>", "{", "<nl>", "+", "struct", "nci", "_", "dev", "*", "ndev", "=", "nfc", "_", "get", "_", "drvdata", "(", "nfc", "_", "dev", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "ndev", "-", ">", "ops", "-", ">", "discover", "_", "se", ")", "<nl>", "+", "return", "ndev", "-", ">", "ops", "-", ">", "discover", "_", "se", "(", "ndev", ")", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["NFC", "nci", "Update", "nci_discover_se", "to", "run", "proprietary", "commands", "to", "discover", "all", "available", "secure", "element"]}
{"code_tokens": ["int", "kvm", "_", "set", "_", "irq", "_", "routing", "(", "struct", "kvm", "*", "kvm", ",", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "r", "=", "-", "EINVAL", ";", "<nl>", "-", "if", "(", "ue", "-", ">", "flags", ")", "<nl>", "+", "if", "(", "ue", "-", ">", "flags", ")", "{", "<nl>", "+", "kfree", "(", "e", ")", ";", "<nl>", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "r", "=", "setup", "_", "routing", "_", "entry", "(", "new", ",", "e", ",", "ue", ")", ";", "<nl>", "-", "if", "(", "r", ")", "<nl>", "+", "if", "(", "r", ")", "{", "<nl>", "+", "kfree", "(", "e", ")", ";", "<nl>", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "+", "+", "ue", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["kvm", "irqchip", "fix", "memory", "leak"]}
{"code_tokens": ["struct", "rchan", "*", "relay", "_", "open", "(", "const", "char", "*", "base", "_", "filename", ",", "<nl>", "<nl>", "kref", "_", "put", "(", "&", "chan", "-", ">", "kref", ",", "relay", "_", "destroy", "_", "channel", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "relay", "_", "channels", "_", "mutex", ")", ";", "<nl>", "+", "kfree", "(", "chan", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "relay", "_", "open", ")", ";", "<nl>"], "docstring_tokens": ["kernel", "relay", "c", "fix", "potential", "memory", "leak"]}
{"code_tokens": ["static", "int", "get", "_", "fdb", "_", "entries", "(", "struct", "net", "_", "bridge", "*", "br", ",", "void", "_", "_", "user", "*", "userbuf", ",", "<nl>", "{", "<nl>", "int", "num", ";", "<nl>", "void", "*", "buf", ";", "<nl>", "-", "size", "_", "t", "size", "=", "maxnum", "*", "sizeof", "(", "struct", "_", "_", "fdb", "_", "entry", ")", ";", "<nl>", "+", "size", "_", "t", "size", ";", "<nl>", "<nl>", "-", "if", "(", "size", ">", "PAGE", "_", "SIZE", ")", "{", "<nl>", "-", "size", "=", "PAGE", "_", "SIZE", ";", "<nl>", "+", "/", "*", "Clamp", "size", "to", "PAGE", "_", "SIZE", ",", "test", "maxnum", "to", "avoid", "overflow", "*", "/", "<nl>", "+", "if", "(", "maxnum", ">", "PAGE", "_", "SIZE", "/", "sizeof", "(", "struct", "_", "_", "fdb", "_", "entry", ")", ")", "<nl>", "maxnum", "=", "PAGE", "_", "SIZE", "/", "sizeof", "(", "struct", "_", "_", "fdb", "_", "entry", ")", ";", "<nl>", "-", "}", "<nl>", "+", "<nl>", "+", "size", "=", "maxnum", "*", "sizeof", "(", "struct", "_", "_", "fdb", "_", "entry", ")", ";", "<nl>", "<nl>", "buf", "=", "kmalloc", "(", "size", ",", "GFP", "_", "USER", ")", ";", "<nl>", "if", "(", "!", "buf", ")", "<nl>"], "docstring_tokens": ["PATCH", "bridge", "fix", "possible", "overflow", "in", "get_fdb_entries"]}
{"code_tokens": ["static", "int", "intel", "_", "atomic", "_", "check", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "struct", "intel", "_", "crtc", "_", "state", "*", "pipe", "_", "config", "=", "<nl>", "to", "_", "intel", "_", "crtc", "_", "state", "(", "crtc", "_", "state", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "to", "_", "intel", "_", "crtc", "(", "crtc", ")", "-", ">", "atomic", ",", "0", ",", "<nl>", "+", "sizeof", "(", "struct", "intel", "_", "crtc", "_", "atomic", "_", "commit", ")", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Catch", "I915", "_", "MODE", "_", "FLAG", "_", "INHERITED", "*", "/", "<nl>", "if", "(", "crtc", "_", "state", "-", ">", "mode", ".", "private", "_", "flags", "!", "=", "crtc", "-", ">", "state", "-", ">", "mode", ".", "private", "_", "flags", ")", "<nl>", "crtc", "_", "state", "-", ">", "mode", "_", "changed", "=", "true", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "Clear", "intel_crtc", "atomic", "before", "updating", "it"]}
{"code_tokens": ["static", "int", "pfkey", "_", "register", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "const", "struct", "sad", "<nl>", "pfk", "-", ">", "registered", "|", "=", "(", "1", "<", "<", "hdr", "-", ">", "sadb", "_", "msg", "_", "satype", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "pfkey", "_", "mutex", ")", ";", "<nl>", "xfrm", "_", "probe", "_", "algs", "(", ")", ";", "<nl>", "<nl>", "supp", "_", "skb", "=", "compose", "_", "sadb", "_", "supported", "(", "hdr", ",", "GFP", "_", "KERNEL", "|", "_", "_", "GFP", "_", "ZERO", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "pfkey", "_", "mutex", ")", ";", "<nl>", "+", "<nl>", "if", "(", "!", "supp", "_", "skb", ")", "{", "<nl>", "if", "(", "hdr", "-", ">", "sadb", "_", "msg", "_", "satype", "!", "=", "SADB", "_", "SATYPE", "_", "UNSPEC", ")", "<nl>", "pfk", "-", ">", "registered", "&", "=", "~", "(", "1", "<", "<", "hdr", "-", ">", "sadb", "_", "msg", "_", "satype", ")", ";", "<nl>"], "docstring_tokens": ["af_key", "Do", "not", "call", "xfrm_probe_algs", "in", "parallel"]}
{"code_tokens": ["static", "struct", "pernet", "_", "operations", "inet6", "_", "net", "_", "ops", "=", "{", "<nl>", "<nl>", "static", "int", "_", "_", "init", "inet6", "_", "init", "(", "void", ")", "<nl>", "{", "<nl>", "-", "struct", "sk", "_", "buff", "*", "dummy", "_", "skb", ";", "<nl>", "struct", "list", "_", "head", "*", "r", ";", "<nl>", "int", "err", "=", "0", ";", "<nl>", "<nl>", "-", "BUILD", "_", "BUG", "_", "ON", "(", "sizeof", "(", "struct", "inet6", "_", "skb", "_", "parm", ")", ">", "sizeof", "(", "dummy", "_", "skb", "-", ">", "cb", ")", ")", ";", "<nl>", "+", "BUILD", "_", "BUG", "_", "ON", "(", "sizeof", "(", "struct", "inet6", "_", "skb", "_", "parm", ")", ">", "FIELD", "_", "SIZEOF", "(", "struct", "sk", "_", "buff", ",", "cb", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Register", "the", "socket", "-", "side", "information", "for", "inet6", "_", "create", ".", "*", "/", "<nl>", "for", "(", "r", "=", "&", "inetsw6", "[", "0", "]", ";", "r", "<", "&", "inetsw6", "[", "SOCK", "_", "MAX", "]", ";", "+", "+", "r", ")", "<nl>"], "docstring_tokens": ["ipv6", "Use", "FIELD_SIZEOF", "in", "inet6_init"]}
{"code_tokens": ["int", "esas2r", "_", "ioctl", "_", "handler", "(", "void", "*", "hostdata", ",", "int", "cmd", ",", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "<nl>", "rq", "=", "esas2r", "_", "alloc", "_", "request", "(", "a", ")", ";", "<nl>", "if", "(", "rq", "=", "=", "NULL", ")", "{", "<nl>", "-", "up", "(", "&", "a", "-", ">", "nvram", "_", "semaphore", ")", ";", "<nl>", "-", "ioctl", "-", ">", "data", ".", "prw", ".", "code", "=", "0", ";", "<nl>", "-", "break", ";", "<nl>", "+", "kfree", "(", "ioctl", ")", ";", "<nl>", "+", "esas2r", "_", "log", "(", "ESAS2R", "_", "LOG", "_", "WARN", ",", "<nl>", "+", "\"", "could", "not", "allocate", "an", "internal", "request", "\"", ")", ";", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>", "<nl>", "code", "=", "esas2r", "_", "write", "_", "params", "(", "a", ",", "rq", ",", "<nl>"], "docstring_tokens": ["esas2r", "fix", "an", "error", "path", "in", "esas2r_ioctl_handler"]}
{"code_tokens": ["static", "int", "ieee80211", "_", "set", "_", "cqm", "_", "rssi", "_", "config", "(", "struct", "wiphy", "*", "wiphy", ",", "<nl>", "<nl>", "bss", "_", "conf", "-", ">", "cqm", "_", "rssi", "_", "thold", "=", "rssi", "_", "thold", ";", "<nl>", "bss", "_", "conf", "-", ">", "cqm", "_", "rssi", "_", "hyst", "=", "rssi", "_", "hyst", ";", "<nl>", "+", "sdata", "-", ">", "u", ".", "mgd", ".", "last", "_", "cqm", "_", "event", "_", "signal", "=", "0", ";", "<nl>", "<nl>", "/", "*", "tell", "the", "driver", "upon", "association", ",", "unless", "already", "associated", "*", "/", "<nl>", "if", "(", "sdata", "-", ">", "u", ".", "mgd", ".", "associated", "&", "&", "<nl>"], "docstring_tokens": ["mac80211", "reset", "CQM", "history", "upon", "reconfiguration"]}
{"code_tokens": ["static", "int", "radeon", "_", "uvd", "_", "cs", "_", "reloc", "(", "struct", "radeon", "_", "cs", "_", "parser", "*", "p", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "(", "start", ">", ">", "28", ")", "!", "=", "(", "end", ">", ">", "28", ")", ")", "{", "<nl>", "+", "if", "(", "(", "start", ">", ">", "28", ")", "!", "=", "(", "(", "end", "-", "1", ")", ">", ">", "28", ")", ")", "{", "<nl>", "DRM", "_", "ERROR", "(", "\"", "reloc", "%", "LX", "-", "%", "LX", "crossing", "256MB", "boundary", "!", "\\", "n", "\"", ",", "<nl>", "start", ",", "end", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["drm", "radeon", "fix", "UVD", "256MB", "check"]}
{"code_tokens": ["static", "void", "uart", "_", "close", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "struct", "file", "*", "filp", ")", "<nl>", "<nl>", "pr", "_", "debug", "(", "\"", "uart", "_", "close", "(", "%", "d", ")", "called", "\\", "n", "\"", ",", "uport", "-", ">", "line", ")", ";", "<nl>", "<nl>", "-", "mutex", "_", "lock", "(", "&", "port", "-", ">", "mutex", ")", ";", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "port", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "<nl>", "if", "(", "tty", "_", "hung", "_", "up", "_", "p", "(", "filp", ")", ")", "{", "<nl>", "static", "void", "uart", "_", "close", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "struct", "file", "*", "filp", ")", "<nl>", "uart", "_", "wait", "_", "until", "_", "sent", "(", "tty", ",", "uport", "-", ">", "timeout", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "port", "-", ">", "mutex", ")", ";", "<nl>", "uart", "_", "shutdown", "(", "tty", ",", "state", ")", ";", "<nl>", "uart", "_", "flush", "_", "buffer", "(", "tty", ")", ";", "<nl>"], "docstring_tokens": ["TTY", "serial", "move", "locking", "in", "uart_close"]}
{"code_tokens": ["int", "tcp", "_", "read", "_", "sock", "(", "struct", "sock", "*", "sk", ",", "read", "_", "descriptor", "_", "t", "*", "desc", ",", "<nl>", "sk", "_", "eat", "_", "skb", "(", "sk", ",", "skb", ",", "0", ")", ";", "<nl>", "if", "(", "!", "desc", "-", ">", "count", ")", "<nl>", "break", ";", "<nl>", "+", "tp", "-", ">", "copied", "_", "seq", "=", "seq", ";", "<nl>", "}", "<nl>", "tp", "-", ">", "copied", "_", "seq", "=", "seq", ";", "<nl>"], "docstring_tokens": ["net", "Fix", "oops", "from", "tcp_collapse", "when", "using", "splice"]}
{"code_tokens": ["unsigned", "long", "vmalloc", "_", "to", "_", "pfn", "(", "const", "void", "*", "addr", ")", ";", "<nl>", "*", "On", "nommu", ",", "vmalloc", "/", "vfree", "wrap", "through", "kmalloc", "/", "kfree", "directly", ",", "so", "there", "<nl>", "*", "is", "no", "special", "casing", "required", ".", "<nl>", "*", "/", "<nl>", "-", "static", "inline", "int", "is", "_", "vmalloc", "_", "addr", "(", "const", "void", "*", "x", ")", "<nl>", "+", "static", "inline", "bool", "is", "_", "vmalloc", "_", "addr", "(", "const", "void", "*", "x", ")", "<nl>", "{", "<nl>", "#", "ifdef", "CONFIG", "_", "MMU", "<nl>", "unsigned", "long", "addr", "=", "(", "unsigned", "long", ")", "x", ";", "<nl>", "<nl>", "return", "addr", ">", "=", "VMALLOC", "_", "START", "&", "&", "addr", "<", "VMALLOC", "_", "END", ";", "<nl>", "#", "else", "<nl>", "-", "return", "0", ";", "<nl>", "+", "return", "false", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "#", "ifdef", "CONFIG", "_", "MMU", "<nl>"], "docstring_tokens": ["mm", "vmalloc", "c", "is_vmalloc_addr", "can", "return", "bool"]}
{"code_tokens": ["static", "struct", "platform", "_", "driver", "au1xmmc", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "au1xmmc", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "static", "struct", "platform", "_", "driver", "au1xmmc", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "au1xmmc", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "davinci", "_", "mmcsd", "_", "pm", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "davinci", "_", "mmcsd", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "davinci", "_", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "davinci", "_", "mmcsd", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "davinci", "_", "mmc", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "mmm", "drivers", "/", "mmc", "/", "host", "/", "wmt", "-", "sdmmc", ".", "c", "<nl>", "static", "struct", "platform", "_", "driver", "au1xmmc", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "au1xmmc", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "davinci", "_", "mmcsd", "_", "pm", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "davinci", "_", "mmcsd", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "davinci", "_", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "davinci", "_", "mmcsd", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "davinci", "_", "mmc", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "struct", "platform", "_", "driver", "wmt", "_", "mci", "_", "driver", "=", "{", "<nl>", ".", "remove", "=", "wmt", "_", "mci", "_", "remove", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "wmt", "_", "mci", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "wmt", "_", "mci", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "mmm", "drivers", "/", "mmc", "/", "host", "/", "sdhci", "-", "acpi", ".", "c", "<nl>", "static", "struct", "platform", "_", "driver", "au1xmmc", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "au1xmmc", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "davinci", "_", "mmcsd", "_", "pm", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "davinci", "_", "mmcsd", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "davinci", "_", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "davinci", "_", "mmcsd", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "davinci", "_", "mmc", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "struct", "platform", "_", "driver", "wmt", "_", "mci", "_", "driver", "=", "{", "<nl>", ".", "remove", "=", "wmt", "_", "mci", "_", "remove", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "wmt", "_", "mci", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "wmt", "_", "mci", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "sdhci", "_", "acpi", "_", "pm", "_", "ops", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "sdhci", "_", "acpi", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "sdhci", "-", "acpi", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "acpi", "_", "match", "_", "table", "=", "sdhci", "_", "acpi", "_", "ids", ",", "<nl>", ".", "pm", "=", "&", "sdhci", "_", "acpi", "_", "pm", "_", "ops", ",", "<nl>", "}", ",", "mmm", "drivers", "/", "mmc", "/", "host", "/", "tmio", "_", "mmc", ".", "c", "<nl>", "static", "struct", "platform", "_", "driver", "au1xmmc", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "au1xmmc", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "davinci", "_", "mmcsd", "_", "pm", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "davinci", "_", "mmcsd", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "davinci", "_", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "davinci", "_", "mmcsd", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "davinci", "_", "mmc", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "struct", "platform", "_", "driver", "wmt", "_", "mci", "_", "driver", "=", "{", "<nl>", ".", "remove", "=", "wmt", "_", "mci", "_", "remove", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "wmt", "_", "mci", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "wmt", "_", "mci", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "sdhci", "_", "acpi", "_", "pm", "_", "ops", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "sdhci", "_", "acpi", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "sdhci", "-", "acpi", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "acpi", "_", "match", "_", "table", "=", "sdhci", "_", "acpi", "_", "ids", ",", "<nl>", ".", "pm", "=", "&", "sdhci", "_", "acpi", "_", "pm", "_", "ops", ",", "<nl>", "}", ",", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "tmio", "_", "mmc", "_", "dev", "_", "pm", "_", "ops", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "tmio", "_", "mmc", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "tmio", "-", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "&", "tmio", "_", "mmc", "_", "dev", "_", "pm", "_", "ops", ",", "<nl>", "}", ",", "<nl>", ".", "probe", "=", "tmio", "_", "mmc", "_", "probe", ",", "mmm", "drivers", "/", "mmc", "/", "host", "/", "wbsd", ".", "c", "<nl>", "static", "struct", "platform", "_", "driver", "au1xmmc", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "au1xmmc", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "davinci", "_", "mmcsd", "_", "pm", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "davinci", "_", "mmcsd", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "davinci", "_", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "davinci", "_", "mmcsd", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "davinci", "_", "mmc", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "struct", "platform", "_", "driver", "wmt", "_", "mci", "_", "driver", "=", "{", "<nl>", ".", "remove", "=", "wmt", "_", "mci", "_", "remove", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "wmt", "_", "mci", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "wmt", "_", "mci", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "sdhci", "_", "acpi", "_", "pm", "_", "ops", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "sdhci", "_", "acpi", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "sdhci", "-", "acpi", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "acpi", "_", "match", "_", "table", "=", "sdhci", "_", "acpi", "_", "ids", ",", "<nl>", ".", "pm", "=", "&", "sdhci", "_", "acpi", "_", "pm", "_", "ops", ",", "<nl>", "}", ",", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "tmio", "_", "mmc", "_", "dev", "_", "pm", "_", "ops", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "tmio", "_", "mmc", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "tmio", "-", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "&", "tmio", "_", "mmc", "_", "dev", "_", "pm", "_", "ops", ",", "<nl>", "}", ",", "<nl>", ".", "probe", "=", "tmio", "_", "mmc", "_", "probe", ",", "<nl>", "static", "struct", "platform", "_", "driver", "wbsd", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "wbsd", "_", "platform", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "static", "struct", "platform", "_", "driver", "au1xmmc", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "au1xmmc", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "davinci", "_", "mmcsd", "_", "pm", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "davinci", "_", "mmcsd", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "davinci", "_", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "davinci", "_", "mmcsd", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "davinci", "_", "mmc", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "struct", "platform", "_", "driver", "wmt", "_", "mci", "_", "driver", "=", "{", "<nl>", ".", "remove", "=", "wmt", "_", "mci", "_", "remove", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "wmt", "_", "mci", "_", "pm", "_", "ops", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "wmt", "_", "mci", "_", "dt", "_", "ids", ",", "<nl>", "}", ",", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "sdhci", "_", "acpi", "_", "pm", "_", "ops", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "sdhci", "_", "acpi", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "sdhci", "-", "acpi", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "acpi", "_", "match", "_", "table", "=", "sdhci", "_", "acpi", "_", "ids", ",", "<nl>", ".", "pm", "=", "&", "sdhci", "_", "acpi", "_", "pm", "_", "ops", ",", "<nl>", "}", ",", "<nl>", "static", "const", "struct", "dev", "_", "pm", "_", "ops", "tmio", "_", "mmc", "_", "dev", "_", "pm", "_", "ops", "=", "{", "<nl>", "static", "struct", "platform", "_", "driver", "tmio", "_", "mmc", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "tmio", "-", "mmc", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "pm", "=", "&", "tmio", "_", "mmc", "_", "dev", "_", "pm", "_", "ops", ",", "<nl>", "}", ",", "<nl>", ".", "probe", "=", "tmio", "_", "mmc", "_", "probe", ",", "<nl>", "static", "struct", "platform", "_", "driver", "wbsd", "_", "driver", "=", "{", "<nl>", ".", "resume", "=", "wbsd", "_", "platform", "_", "resume", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "DRIVER", "_", "NAME", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "struct", "platform", "_", "driver", "usdhi6", "_", "driver", "=", "{", "<nl>", ".", "remove", "=", "usdhi6", "_", "remove", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "usdhi6rol0", "\"", ",", "<nl>", "-", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "usdhi6", "_", "of", "_", "match", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["mmc", "host", "drop", "owner", "assignment", "from", "platform_drivers"]}
{"code_tokens": ["const", "struct", "ip", "_", "tunnel", "_", "encap", "_", "ops", "_", "_", "rcu", "*", "<nl>", "int", "ip", "_", "tunnel", "_", "encap", "_", "add", "_", "ops", "(", "const", "struct", "ip", "_", "tunnel", "_", "encap", "_", "ops", "*", "ops", ",", "<nl>", "unsigned", "int", "num", ")", "<nl>", "{", "<nl>", "+", "if", "(", "num", ">", "=", "MAX", "_", "IPTUN", "_", "ENCAP", "_", "OPS", ")", "<nl>", "+", "return", "-", "ERANGE", ";", "<nl>", "+", "<nl>", "return", "!", "cmpxchg", "(", "(", "const", "struct", "ip", "_", "tunnel", "_", "encap", "_", "ops", "*", "*", ")", "<nl>", "&", "iptun", "_", "encaps", "[", "num", "]", ",", "<nl>", "NULL", ",", "ops", ")", "?", "0", ":", "-", "1", ";", "<nl>", "int", "ip", "_", "tunnel", "_", "encap", "_", "del", "_", "ops", "(", "const", "struct", "ip", "_", "tunnel", "_", "encap", "_", "ops", "*", "ops", ",", "<nl>", "{", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "if", "(", "num", ">", "=", "MAX", "_", "IPTUN", "_", "ENCAP", "_", "OPS", ")", "<nl>", "+", "return", "-", "ERANGE", ";", "<nl>", "+", "<nl>", "ret", "=", "(", "cmpxchg", "(", "(", "const", "struct", "ip", "_", "tunnel", "_", "encap", "_", "ops", "*", "*", ")", "<nl>", "&", "iptun", "_", "encaps", "[", "num", "]", ",", "<nl>", "ops", ",", "NULL", ")", "=", "=", "ops", ")", "?", "0", ":", "-", "1", ";", "<nl>"], "docstring_tokens": ["ip_tunnel", "Add", "sanity", "checks", "to", "ip_tunnel_encap_add_ops"]}
{"code_tokens": ["static", "void", "power", "_", "pmu", "_", "bhrb", "_", "read", "(", "struct", "cpu", "_", "hw", "_", "events", "*", "cpuhw", ")", "<nl>", "/", "*", "invalid", "entry", "*", "/", "<nl>", "continue", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "BHRB", "rolling", "buffer", "could", "very", "much", "contain", "the", "kernel", "<nl>", "+", "*", "addresses", "at", "this", "point", ".", "Check", "the", "privileges", "before", "<nl>", "+", "*", "exporting", "it", "to", "userspace", "(", "avoid", "exposure", "of", "regions", "<nl>", "+", "*", "where", "we", "could", "have", "speculative", "execution", ")", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "perf", "_", "paranoid", "_", "kernel", "(", ")", "&", "&", "!", "capable", "(", "CAP", "_", "SYS", "_", "ADMIN", ")", "&", "&", "<nl>", "+", "is", "_", "kernel", "_", "addr", "(", "addr", ")", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "/", "*", "Branches", "are", "read", "most", "recent", "first", "(", "ie", ".", "mfbhrb", "0", "is", "<nl>", "*", "the", "most", "recent", "branch", ")", ".", "<nl>", "*", "There", "are", "two", "types", "of", "valid", "entries", ":", "<nl>"], "docstring_tokens": ["powerpc", "perf", "Prevent", "kernel", "address", "leak", "to", "userspace", "via", "BHRB", "buffer"]}
{"code_tokens": ["cpufreq", "_", "stat", "_", "notifier", "_", "trans", "(", "struct", "notifier", "_", "block", "*", "nb", ",", "unsigned", "long", "val", ",", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "int", "_", "_", "cpuinit", "cpufreq", "_", "stat", "_", "cpu", "_", "callback", "(", "struct", "notifier", "_", "block", "*", "nfb", ",", "<nl>", "+", "static", "int", "cpufreq", "_", "stat", "_", "cpu", "_", "callback", "(", "struct", "notifier", "_", "block", "*", "nfb", ",", "<nl>", "unsigned", "long", "action", ",", "void", "*", "hcpu", ")", "<nl>", "{", "<nl>", "unsigned", "int", "cpu", "=", "(", "unsigned", "long", ")", "hcpu", ";", "<nl>"], "docstring_tokens": ["PATCH", "cpufreq", "fix", "section", "mismatch", "warnings"]}
{"code_tokens": ["static", "inline", "void", "tcp", "_", "check", "_", "send", "_", "head", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", "_", "unli", "<nl>", "{", "<nl>", "if", "(", "sk", "-", ">", "sk", "_", "send", "_", "head", "=", "=", "skb", "_", "unlinked", ")", "<nl>", "sk", "-", ">", "sk", "_", "send", "_", "head", "=", "NULL", ";", "<nl>", "+", "if", "(", "tcp", "_", "sk", "(", "sk", ")", "-", ">", "highest", "_", "sack", "=", "=", "skb", "_", "unlinked", ")", "<nl>", "+", "tcp", "_", "sk", "(", "sk", ")", "-", ">", "highest", "_", "sack", "=", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "static", "inline", "void", "tcp", "_", "init", "_", "send", "_", "head", "(", "struct", "sock", "*", "sk", ")", "<nl>"], "docstring_tokens": ["tcp", "fix", "use", "after", "free", "in", "tcp_xmit_retransmit_queue"]}
{"code_tokens": ["static", "int", "init", "_", "phy", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "if", "(", "priv", "-", ">", "phy", "_", "interface", "=", "=", "PHY", "_", "INTERFACE", "_", "MODE", "_", "SGMII", ")", "<nl>", "uec", "_", "configure", "_", "serdes", "(", "dev", ")", ";", "<nl>", "<nl>", "-", "phydev", "-", ">", "supported", "&", "=", "(", "ADVERTISED", "_", "10baseT", "_", "Half", "|", "<nl>", "-", "ADVERTISED", "_", "10baseT", "_", "Full", "|", "<nl>", "-", "ADVERTISED", "_", "100baseT", "_", "Half", "|", "<nl>", "-", "ADVERTISED", "_", "100baseT", "_", "Full", ")", ";", "<nl>", "+", "phydev", "-", ">", "supported", "&", "=", "(", "SUPPORTED", "_", "MII", "|", "<nl>", "+", "SUPPORTED", "_", "Autoneg", "|", "<nl>", "+", "ADVERTISED", "_", "10baseT", "_", "Half", "|", "<nl>", "+", "ADVERTISED", "_", "10baseT", "_", "Full", "|", "<nl>", "+", "ADVERTISED", "_", "100baseT", "_", "Half", "|", "<nl>", "+", "ADVERTISED", "_", "100baseT", "_", "Full", ")", ";", "<nl>", "<nl>", "if", "(", "priv", "-", ">", "max", "_", "speed", "=", "=", "SPEED", "_", "1000", ")", "<nl>", "phydev", "-", ">", "supported", "|", "=", "ADVERTISED", "_", "1000baseT", "_", "Full", ";", "<nl>"], "docstring_tokens": ["ucc_geth", "Add", "SUPPORTED_MII", "and", "SUPPORTED_Autoneg"]}
{"code_tokens": ["static", "void", "ata", "_", "pio", "_", "block", "(", "struct", "ata", "_", "port", "*", "ap", ")", "<nl>", "<nl>", "ata", "_", "pio", "_", "sector", "(", "qc", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "ata", "_", "altstatus", "(", "ap", ")", ";", "/", "*", "flush", "*", "/", "<nl>", "}", "<nl>", "<nl>", "static", "void", "ata", "_", "pio", "_", "error", "(", "struct", "ata", "_", "port", "*", "ap", ")", "<nl>", "static", "void", "atapi", "_", "packet", "_", "task", "(", "void", "*", "_", "data", ")", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "ap", "-", ">", "host", "_", "set", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "ap", "-", ">", "flags", "&", "=", "~", "ATA", "_", "FLAG", "_", "NOINTR", ";", "<nl>", "ata", "_", "data", "_", "xfer", "(", "ap", ",", "qc", "-", ">", "cdb", ",", "qc", "-", ">", "dev", "-", ">", "cdb", "_", "len", ",", "1", ")", ";", "<nl>", "+", "ata", "_", "altstatus", "(", "ap", ")", ";", "/", "*", "flush", "*", "/", "<nl>", "+", "<nl>", "if", "(", "qc", "-", ">", "tf", ".", "protocol", "=", "=", "ATA", "_", "PROT", "_", "ATAPI", "_", "DMA", ")", "<nl>", "ap", "-", ">", "ops", "-", ">", "bmdma", "_", "start", "(", "qc", ")", ";", "/", "*", "initiate", "bmdma", "*", "/", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "ap", "-", ">", "host", "_", "set", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "}", "else", "{", "<nl>", "ata", "_", "data", "_", "xfer", "(", "ap", ",", "qc", "-", ">", "cdb", ",", "qc", "-", ">", "dev", "-", ">", "cdb", "_", "len", ",", "1", ")", ";", "<nl>", "+", "ata", "_", "altstatus", "(", "ap", ")", ";", "/", "*", "flush", "*", "/", "<nl>", "<nl>", "/", "*", "PIO", "commands", "are", "handled", "by", "polling", "*", "/", "<nl>", "ap", "-", ">", "hsm", "_", "task", "_", "state", "=", "HSM", "_", "ST", ";", "<nl>"], "docstring_tokens": ["PATCH", "libata", "add", "pio", "flush", "for", "via", "atapi", "was", "Re", "TR", "ASUS", "A8V", "Deluxe", "x86_64"]}
{"code_tokens": ["int", "afs", "_", "prepare", "_", "write", "(", "struct", "file", "*", "file", ",", "struct", "page", "*", "page", ",", "<nl>", "_", "leave", "(", "\"", "=", "%", "d", "[", "prep", "]", "\"", ",", "ret", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "-", "SetPageUptodate", "(", "page", ")", ";", "<nl>", "}", "<nl>", "<nl>", "try", "_", "again", ":", "<nl>", "int", "afs", "_", "commit", "_", "write", "(", "struct", "file", "*", "file", ",", "struct", "page", "*", "page", ",", "<nl>", "spin", "_", "unlock", "(", "&", "vnode", "-", ">", "writeback", "_", "lock", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "SetPageUptodate", "(", "page", ")", ";", "<nl>", "set", "_", "page", "_", "dirty", "(", "page", ")", ";", "<nl>", "-", "<nl>", "if", "(", "PageDirty", "(", "page", ")", ")", "<nl>", "_", "debug", "(", "\"", "dirtied", "\"", ")", ";", "<nl>"], "docstring_tokens": ["AFS", "Fix", "afs_prepare_write"]}
{"code_tokens": ["xfs", "_", "attr", "_", "shortform", "_", "to", "_", "leaf", "(", "<nl>", "ASSERT", "(", "blkno", "=", "=", "0", ")", ";", "<nl>", "error", "=", "xfs", "_", "attr3", "_", "leaf", "_", "create", "(", "args", ",", "blkno", ",", "&", "bp", ")", ";", "<nl>", "if", "(", "error", ")", "{", "<nl>", "-", "error", "=", "xfs", "_", "da", "_", "shrink", "_", "inode", "(", "args", ",", "0", ",", "bp", ")", ";", "<nl>", "-", "bp", "=", "NULL", ";", "<nl>", "-", "if", "(", "error", ")", "<nl>", "+", "/", "*", "xfs", "_", "attr3", "_", "leaf", "_", "create", "may", "not", "have", "instantiated", "a", "block", "*", "/", "<nl>", "+", "if", "(", "bp", "&", "&", "(", "xfs", "_", "da", "_", "shrink", "_", "inode", "(", "args", ",", "0", ",", "bp", ")", "!", "=", "0", ")", ")", "<nl>", "goto", "out", ";", "<nl>", "xfs", "_", "idata", "_", "realloc", "(", "dp", ",", "size", ",", "XFS", "_", "ATTR", "_", "FORK", ")", ";", "/", "*", "try", "to", "put", "*", "/", "<nl>", "memcpy", "(", "ifp", "-", ">", "if", "_", "u1", ".", "if", "_", "data", ",", "tmpbuffer", ",", "size", ")", ";", "/", "*", "it", "back", "*", "/", "<nl>"], "docstring_tokens": ["xfs", "don", "t", "call", "xfs_da_shrink_inode", "with", "NULL", "bp"]}
{"code_tokens": ["static", "int", "mem", "_", "cgroup", "_", "resize", "_", "max", "(", "struct", "mem", "_", "cgroup", "*", "memcg", ",", "<nl>", "unsigned", "long", "max", ",", "bool", "memsw", ")", "<nl>", "{", "<nl>", "bool", "enlarge", "=", "false", ";", "<nl>", "+", "bool", "drained", "=", "false", ";", "<nl>", "int", "ret", ";", "<nl>", "bool", "limits", "_", "invariant", ";", "<nl>", "struct", "page", "_", "counter", "*", "counter", "=", "memsw", "?", "&", "memcg", "-", ">", "memsw", ":", "&", "memcg", "-", ">", "memory", ";", "<nl>", "static", "int", "mem", "_", "cgroup", "_", "resize", "_", "max", "(", "struct", "mem", "_", "cgroup", "*", "memcg", ",", "<nl>", "if", "(", "!", "ret", ")", "<nl>", "break", ";", "<nl>", "<nl>", "+", "if", "(", "!", "drained", ")", "{", "<nl>", "+", "drain", "_", "all", "_", "stock", "(", "memcg", ")", ";", "<nl>", "+", "drained", "=", "true", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "!", "try", "_", "to", "_", "free", "_", "mem", "_", "cgroup", "_", "pages", "(", "memcg", ",", "1", ",", "<nl>", "GFP", "_", "KERNEL", ",", "!", "memsw", ")", ")", "{", "<nl>", "ret", "=", "-", "EBUSY", ";", "<nl>"], "docstring_tokens": ["mm", "memcontrol", "drain", "stocks", "on", "resize", "limit"]}
{"code_tokens": ["xfs", "_", "attr3", "_", "rmt", "_", "verify", "(", "<nl>", "if", "(", "be32", "_", "to", "_", "cpu", "(", "rmt", "-", ">", "rm", "_", "bytes", ")", ">", "fsbsize", "-", "sizeof", "(", "*", "rmt", ")", ")", "<nl>", "return", "false", ";", "<nl>", "if", "(", "be32", "_", "to", "_", "cpu", "(", "rmt", "-", ">", "rm", "_", "offset", ")", "+", "<nl>", "-", "be32", "_", "to", "_", "cpu", "(", "rmt", "-", ">", "rm", "_", "bytes", ")", ">", "=", "XATTR", "_", "SIZE", "_", "MAX", ")", "<nl>", "+", "be32", "_", "to", "_", "cpu", "(", "rmt", "-", ">", "rm", "_", "bytes", ")", ">", "XATTR", "_", "SIZE", "_", "MAX", ")", "<nl>", "return", "false", ";", "<nl>", "if", "(", "rmt", "-", ">", "rm", "_", "owner", "=", "=", "0", ")", "<nl>", "return", "false", ";", "<nl>"], "docstring_tokens": ["xfs", "fix", "off", "by", "one", "error", "in", "xfs_attr3_rmt_verify"]}
{"code_tokens": ["static", "int", "acpi", "_", "fan", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "struct", "thermal", "_", "cooling", "_", "device", "*", "cdev", ";", "<nl>", "struct", "acpi", "_", "fan", "*", "fan", ";", "<nl>", "struct", "acpi", "_", "device", "*", "device", "=", "ACPI", "_", "COMPANION", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "+", "char", "*", "name", ";", "<nl>", "<nl>", "fan", "=", "devm", "_", "kzalloc", "(", "&", "pdev", "-", ">", "dev", ",", "sizeof", "(", "*", "fan", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "fan", ")", "{", "<nl>", "static", "int", "acpi", "_", "fan", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "cdev", "=", "thermal", "_", "cooling", "_", "device", "_", "register", "(", "\"", "Fan", "\"", ",", "device", ",", "<nl>", "+", "if", "(", "!", "strncmp", "(", "pdev", "-", ">", "name", ",", "\"", "PNP0C0B", "\"", ",", "strlen", "(", "\"", "PNP0C0B", "\"", ")", ")", ")", "<nl>", "+", "name", "=", "\"", "Fan", "\"", ";", "<nl>", "+", "else", "<nl>", "+", "name", "=", "acpi", "_", "device", "_", "bid", "(", "device", ")", ";", "<nl>", "+", "<nl>", "+", "cdev", "=", "thermal", "_", "cooling", "_", "device", "_", "register", "(", "name", ",", "device", ",", "<nl>", "&", "fan", "_", "cooling", "_", "ops", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "cdev", ")", ")", "{", "<nl>", "result", "=", "PTR", "_", "ERR", "(", "cdev", ")", ";", "<nl>"], "docstring_tokens": ["ACPI", "Fan", "Use", "bus", "id", "as", "the", "name", "for", "non", "PNP0C0B", "Fan", "devices"]}
{"code_tokens": ["static", "s32", "ixgbe", "_", "reset", "_", "hw", "_", "X550em", "(", "struct", "ixgbe", "_", "hw", "*", "hw", ")", "<nl>", "hw", "-", ">", "phy", ".", "sfp", "_", "setup", "_", "needed", "=", "false", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "status", "=", "=", "IXGBE", "_", "ERR", "_", "SFP", "_", "NOT", "_", "SUPPORTED", ")", "<nl>", "+", "return", "status", ";", "<nl>", "+", "<nl>", "/", "*", "Reset", "PHY", "*", "/", "<nl>", "if", "(", "!", "hw", "-", ">", "phy", ".", "reset", "_", "disable", "&", "&", "hw", "-", ">", "phy", ".", "ops", ".", "reset", ")", "<nl>", "hw", "-", ">", "phy", ".", "ops", ".", "reset", "(", "hw", ")", ";", "<nl>"], "docstring_tokens": ["ixgbe", "return", "error", "on", "unsupported", "SFP", "module", "when", "resetting"]}
{"code_tokens": ["static", "int", "aic31xx", "_", "set", "_", "dai", "_", "sysclk", "(", "struct", "snd", "_", "soc", "_", "dai", "*", "codec", "_", "dai", ",", "<nl>", "}", "<nl>", "aic31xx", "-", ">", "p", "_", "div", "=", "i", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "aic31xx", "_", "divs", "[", "i", "]", ".", "mclk", "_", "p", "!", "=", "freq", "/", "aic31xx", "-", ">", "p", "_", "div", ";", "i", "+", "+", ")", "{", "<nl>", "-", "if", "(", "i", "=", "=", "ARRAY", "_", "SIZE", "(", "aic31xx", "_", "divs", ")", ")", "{", "<nl>", "-", "dev", "_", "err", "(", "aic31xx", "-", ">", "dev", ",", "\"", "%", "s", ":", "Unsupported", "frequency", "%", "d", "\\", "n", "\"", ",", "<nl>", "-", "_", "_", "func", "_", "_", ",", "freq", ")", ";", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "-", "}", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "ARRAY", "_", "SIZE", "(", "aic31xx", "_", "divs", ")", "&", "&", "<nl>", "+", "aic31xx", "_", "divs", "[", "i", "]", ".", "mclk", "_", "p", "!", "=", "freq", "/", "aic31xx", "-", ">", "p", "_", "div", ";", "i", "+", "+", ")", "<nl>", "+", ";", "<nl>", "+", "if", "(", "i", "=", "=", "ARRAY", "_", "SIZE", "(", "aic31xx", "_", "divs", ")", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "aic31xx", "-", ">", "dev", ",", "\"", "%", "s", ":", "Unsupported", "frequency", "%", "d", "\\", "n", "\"", ",", "<nl>", "+", "_", "_", "func", "_", "_", ",", "freq", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "set", "clock", "on", "MCLK", ",", "BCLK", ",", "or", "GPIO1", "as", "PLL", "input", "*", "/", "<nl>"], "docstring_tokens": ["ASoC", "tlv320aic31xx", "Fix", "off", "by", "one", "error", "in", "the", "loop", "stucture"]}
{"code_tokens": ["device", "_", "create", "_", "groups", "_", "vargs", "(", "struct", "class", "*", "class", ",", "struct", "device", "*", "parent", ",", "<nl>", "goto", "error", ";", "<nl>", "}", "<nl>", "<nl>", "+", "device", "_", "initialize", "(", "dev", ")", ";", "<nl>", "dev", "-", ">", "devt", "=", "devt", ";", "<nl>", "dev", "-", ">", "class", "=", "class", ";", "<nl>", "dev", "-", ">", "parent", "=", "parent", ";", "<nl>", "device", "_", "create", "_", "groups", "_", "vargs", "(", "struct", "class", "*", "class", ",", "struct", "device", "*", "parent", ",", "<nl>", "if", "(", "retval", ")", "<nl>", "goto", "error", ";", "<nl>", "<nl>", "-", "retval", "=", "device", "_", "register", "(", "dev", ")", ";", "<nl>", "+", "retval", "=", "device", "_", "add", "(", "dev", ")", ";", "<nl>", "if", "(", "retval", ")", "<nl>", "goto", "error", ";", "<nl>"], "docstring_tokens": ["driver", "core", "fix", "device_create", "error", "path"]}
{"code_tokens": ["static", "void", "hpfs", "_", "write", "_", "failed", "(", "struct", "address", "_", "space", "*", "mapping", ",", "loff", "_", "t", "to", ")", "<nl>", "{", "<nl>", "struct", "inode", "*", "inode", "=", "mapping", "-", ">", "host", ";", "<nl>", "<nl>", "+", "hpfs", "_", "lock", "(", "inode", "-", ">", "i", "_", "sb", ")", ";", "<nl>", "+", "<nl>", "if", "(", "to", ">", "inode", "-", ">", "i", "_", "size", ")", "{", "<nl>", "truncate", "_", "pagecache", "(", "inode", ",", "to", ",", "inode", "-", ">", "i", "_", "size", ")", ";", "<nl>", "hpfs", "_", "truncate", "(", "inode", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "hpfs", "_", "unlock", "(", "inode", "-", ">", "i", "_", "sb", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "hpfs", "_", "write", "_", "begin", "(", "struct", "file", "*", "file", ",", "struct", "address", "_", "space", "*", "mapping", ",", "<nl>"], "docstring_tokens": ["hpfs", "fix", "warnings", "when", "the", "filesystem", "fills", "up"]}
{"code_tokens": ["xfs", "_", "fs", "_", "remount", "(", "<nl>", "<nl>", "/", "*", "ro", "-", ">", "rw", "*", "/", "<nl>", "if", "(", "(", "mp", "-", ">", "m", "_", "flags", "&", "XFS", "_", "MOUNT", "_", "RDONLY", ")", "&", "&", "!", "(", "*", "flags", "&", "MS", "_", "RDONLY", ")", ")", "{", "<nl>", "+", "if", "(", "mp", "-", ">", "m", "_", "flags", "&", "XFS", "_", "MOUNT", "_", "NORECOVERY", ")", "{", "<nl>", "+", "xfs", "_", "warn", "(", "mp", ",", "<nl>", "+", "\"", "ro", "-", ">", "rw", "transition", "prohibited", "on", "norecovery", "mount", "\"", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "mp", "-", ">", "m", "_", "flags", "&", "=", "~", "XFS", "_", "MOUNT", "_", "RDONLY", ";", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["xfs", "disallow", "ro", "rw", "remount", "on", "norecovery", "mount"]}
{"code_tokens": ["static", "void", "dpp1", "_", "cm", "_", "set", "_", "regamma", "_", "pwl", "(", "<nl>", "struct", "dpp", "*", "dpp", "_", "base", ",", "const", "struct", "pwl", "_", "params", "*", "params", ",", "enum", "opp", "_", "regamma", "mode", ")", "<nl>", "{", "<nl>", "struct", "dcn10", "_", "dpp", "*", "dpp", "=", "TO", "_", "DCN10", "_", "DPP", "(", "dpp", "_", "base", ")", ";", "<nl>", "-", "uint32", "_", "t", "re", "_", "mode", ";", "<nl>", "+", "uint32", "_", "t", "re", "_", "mode", "=", "0", ";", "<nl>", "<nl>", "switch", "(", "mode", ")", "{", "<nl>", "case", "OPP", "_", "REGAMMA", "_", "BYPASS", ":", "<nl>"], "docstring_tokens": ["drm", "amd", "display", "fix", "uninitialized", "variable", "warning"]}
{"code_tokens": ["int", "intel", "_", "svm", "_", "bind", "_", "mm", "(", "struct", "device", "*", "dev", ",", "int", "*", "pasid", ",", "int", "flags", ",", "struct", "svm", "_", "dev", "_", "<nl>", "pasid", "_", "max", "-", "1", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "kfree", "(", "svm", ")", ";", "<nl>", "+", "kfree", "(", "sdev", ")", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "svm", "-", ">", "pasid", "=", "ret", ";", "<nl>"], "docstring_tokens": ["iommu", "vt", "d", "Fix", "a", "potential", "memory", "leak"]}
{"code_tokens": ["static", "ssize", "_", "t", "rpmsg", "_", "eptdev", "_", "write", "_", "iter", "(", "struct", "kiocb", "*", "iocb", ",", "<nl>", "if", "(", "!", "kbuf", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "-", "if", "(", "!", "copy", "_", "from", "_", "iter", "_", "full", "(", "kbuf", ",", "len", ",", "from", ")", ")", "<nl>", "-", "return", "-", "EFAULT", ";", "<nl>", "+", "if", "(", "!", "copy", "_", "from", "_", "iter", "_", "full", "(", "kbuf", ",", "len", ",", "from", ")", ")", "{", "<nl>", "+", "ret", "=", "-", "EFAULT", ";", "<nl>", "+", "goto", "free", "_", "kbuf", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "mutex", "_", "lock", "_", "interruptible", "(", "&", "eptdev", "-", ">", "ept", "_", "lock", ")", ")", "{", "<nl>", "ret", "=", "-", "ERESTARTSYS", ";", "<nl>"], "docstring_tokens": ["rpmsg", "char", "release", "allocated", "memory"]}
{"code_tokens": ["static", "int", "vcpu", "_", "enter", "_", "guest", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "}", "<nl>", "if", "(", "kvm", "_", "check", "_", "request", "(", "KVM", "_", "REQ", "_", "TRIPLE", "_", "FAULT", ",", "vcpu", ")", ")", "{", "<nl>", "vcpu", "-", ">", "run", "-", ">", "exit", "_", "reason", "=", "KVM", "_", "EXIT", "_", "SHUTDOWN", ";", "<nl>", "+", "vcpu", "-", ">", "mmio", "_", "needed", "=", "0", ";", "<nl>", "r", "=", "0", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "mmm", "arch", "/", "x86", "/", "kvm", "/", "vmx", ".", "c", "<nl>", "static", "int", "vcpu", "_", "enter", "_", "guest", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "}", "<nl>", "if", "(", "kvm", "_", "check", "_", "request", "(", "KVM", "_", "REQ", "_", "TRIPLE", "_", "FAULT", ",", "vcpu", ")", ")", "{", "<nl>", "vcpu", "-", ">", "run", "-", ">", "exit", "_", "reason", "=", "KVM", "_", "EXIT", "_", "SHUTDOWN", ";", "<nl>", "+", "vcpu", "-", ">", "mmio", "_", "needed", "=", "0", ";", "<nl>", "r", "=", "0", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "static", "int", "handle", "_", "external", "_", "interrupt", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "static", "int", "handle", "_", "triple", "_", "fault", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "{", "<nl>", "vcpu", "-", ">", "run", "-", ">", "exit", "_", "reason", "=", "KVM", "_", "EXIT", "_", "SHUTDOWN", ";", "<nl>", "+", "vcpu", "-", ">", "mmio", "_", "needed", "=", "0", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["KVM", "X86", "Fix", "residual", "mmio", "emulation", "request", "to", "userspace"]}
{"code_tokens": ["static", "int", "uwbd", "(", "void", "*", "param", ")", "<nl>", "/", "*", "*", "Start", "the", "UWB", "daemon", "*", "/", "<nl>", "void", "uwbd", "_", "start", "(", "struct", "uwb", "_", "rc", "*", "rc", ")", "<nl>", "{", "<nl>", "-", "rc", "-", ">", "uwbd", ".", "task", "=", "kthread", "_", "run", "(", "uwbd", ",", "rc", ",", "\"", "uwbd", "\"", ")", ";", "<nl>", "-", "if", "(", "rc", "-", ">", "uwbd", ".", "task", "=", "=", "NULL", ")", "<nl>", "+", "struct", "task", "_", "struct", "*", "task", "=", "kthread", "_", "run", "(", "uwbd", ",", "rc", ",", "\"", "uwbd", "\"", ")", ";", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "task", ")", ")", "{", "<nl>", "+", "rc", "-", ">", "uwbd", ".", "task", "=", "NULL", ";", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "UWB", ":", "Cannot", "start", "management", "daemon", ";", "\"", "<nl>", "\"", "UWB", "won", "'", "t", "work", "\\", "n", "\"", ")", ";", "<nl>", "-", "else", "<nl>", "+", "}", "else", "{", "<nl>", "+", "rc", "-", ">", "uwbd", ".", "task", "=", "task", ";", "<nl>", "rc", "-", ">", "uwbd", ".", "pid", "=", "rc", "-", ">", "uwbd", ".", "task", "-", ">", "pid", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Stop", "the", "UWB", "daemon", "and", "free", "any", "unprocessed", "events", "*", "/", "<nl>", "void", "uwbd", "_", "stop", "(", "struct", "uwb", "_", "rc", "*", "rc", ")", "<nl>", "{", "<nl>", "-", "kthread", "_", "stop", "(", "rc", "-", ">", "uwbd", ".", "task", ")", ";", "<nl>", "+", "if", "(", "rc", "-", ">", "uwbd", ".", "task", ")", "<nl>", "+", "kthread", "_", "stop", "(", "rc", "-", ">", "uwbd", ".", "task", ")", ";", "<nl>", "uwbd", "_", "flush", "(", "rc", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["uwb", "properly", "check", "kthread_run", "return", "value"]}
{"code_tokens": ["static", "void", "unset", "_", "migratetype", "_", "isolate", "(", "struct", "page", "*", "page", ",", "unsigned", "migratetype", ")", "<nl>", "<nl>", "zone", "=", "page", "_", "zone", "(", "page", ")", ";", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "zone", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "-", "if", "(", "get", "_", "pageblock", "_", "migratetype", "(", "page", ")", "!", "=", "MIGRATE", "_", "ISOLATE", ")", "<nl>", "+", "if", "(", "!", "is", "_", "migrate", "_", "isolate", "_", "page", "(", "page", ")", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "/", "*", "<nl>", "int", "undo", "_", "isolate", "_", "page", "_", "range", "(", "unsigned", "long", "start", "_", "pfn", ",", "unsigned", "long", "end", "_", "pfn", ",", "<nl>", "pfn", "<", "end", "_", "pfn", ";", "<nl>", "pfn", "+", "=", "pageblock", "_", "nr", "_", "pages", ")", "{", "<nl>", "page", "=", "_", "_", "first", "_", "valid", "_", "page", "(", "pfn", ",", "pageblock", "_", "nr", "_", "pages", ")", ";", "<nl>", "-", "if", "(", "!", "page", "|", "|", "get", "_", "pageblock", "_", "migratetype", "(", "page", ")", "!", "=", "MIGRATE", "_", "ISOLATE", ")", "<nl>", "+", "if", "(", "!", "page", "|", "|", "!", "is", "_", "migrate", "_", "isolate", "_", "page", "(", "page", ")", ")", "<nl>", "continue", ";", "<nl>", "unset", "_", "migratetype", "_", "isolate", "(", "page", ",", "migratetype", ")", ";", "<nl>", "}", "<nl>", "int", "test", "_", "pages", "_", "isolated", "(", "unsigned", "long", "start", "_", "pfn", ",", "unsigned", "long", "end", "_", "pfn", ",", "<nl>", "*", "/", "<nl>", "for", "(", "pfn", "=", "start", "_", "pfn", ";", "pfn", "<", "end", "_", "pfn", ";", "pfn", "+", "=", "pageblock", "_", "nr", "_", "pages", ")", "{", "<nl>", "page", "=", "_", "_", "first", "_", "valid", "_", "page", "(", "pfn", ",", "pageblock", "_", "nr", "_", "pages", ")", ";", "<nl>", "-", "if", "(", "page", "&", "&", "get", "_", "pageblock", "_", "migratetype", "(", "page", ")", "!", "=", "MIGRATE", "_", "ISOLATE", ")", "<nl>", "+", "if", "(", "page", "&", "&", "!", "is", "_", "migrate", "_", "isolate", "_", "page", "(", "page", ")", ")", "<nl>", "break", ";", "<nl>", "}", "<nl>", "page", "=", "_", "_", "first", "_", "valid", "_", "page", "(", "start", "_", "pfn", ",", "end", "_", "pfn", "-", "start", "_", "pfn", ")", ";", "<nl>"], "docstring_tokens": ["mm", "use", "is_migrate_isolate_page", "to", "simplify", "the", "code"]}
{"code_tokens": ["int", "vbd", "_", "create", "(", "blkif", "_", "t", "*", "blkif", ",", "blkif", "_", "vdev", "_", "t", "handle", ",", "unsigned", "major", ",", "<nl>", "<nl>", "vbd", "-", ">", "pdevice", "=", "MKDEV", "(", "major", ",", "minor", ")", ";", "<nl>", "<nl>", "-", "bdev", "=", "open", "_", "by", "_", "devnum", "(", "vbd", "-", ">", "pdevice", ",", "<nl>", "-", "vbd", "-", ">", "readonly", "?", "FMODE", "_", "READ", ":", "FMODE", "_", "WRITE", ")", ";", "<nl>", "+", "bdev", "=", "blkdev", "_", "get", "_", "by", "_", "dev", "(", "vbd", "-", ">", "pdevice", ",", "vbd", "-", ">", "readonly", "?", "<nl>", "+", "FMODE", "_", "READ", ":", "FMODE", "_", "WRITE", ",", "NULL", ")", ";", "<nl>", "<nl>", "if", "(", "IS", "_", "ERR", "(", "bdev", ")", ")", "{", "<nl>", "DPRINTK", "(", "\"", "vbd", "_", "creat", ":", "device", "%", "08x", "could", "not", "be", "opened", ".", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["xen", "blkback", "Update", "to", "use", "blkdev_get_by_dev", "instead", "of", "open_by_devnum"]}
{"code_tokens": ["int", "ext4", "_", "da", "_", "write", "_", "inline", "_", "data", "_", "begin", "(", "struct", "address", "_", "space", "*", "mapping", ",", "<nl>", "handle", "_", "t", "*", "handle", ";", "<nl>", "struct", "page", "*", "page", ";", "<nl>", "struct", "ext4", "_", "iloc", "iloc", ";", "<nl>", "+", "int", "retries", ";", "<nl>", "<nl>", "ret", "=", "ext4", "_", "get", "_", "inode", "_", "loc", "(", "inode", ",", "&", "iloc", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "+", "retry", "_", "journal", ":", "<nl>", "handle", "=", "ext4", "_", "journal", "_", "start", "(", "inode", ",", "EXT4", "_", "HT", "_", "INODE", ",", "1", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "handle", ")", ")", "{", "<nl>", "ret", "=", "PTR", "_", "ERR", "(", "handle", ")", ";", "<nl>", "int", "ext4", "_", "da", "_", "write", "_", "inline", "_", "data", "_", "begin", "(", "struct", "address", "_", "space", "*", "mapping", ",", "<nl>", "inode", ",", "<nl>", "flags", ",", "<nl>", "fsdata", ")", ";", "<nl>", "+", "ext4", "_", "journal", "_", "stop", "(", "handle", ")", ";", "<nl>", "+", "handle", "=", "NULL", ";", "<nl>", "+", "if", "(", "ret", "=", "=", "-", "ENOSPC", "&", "&", "<nl>", "+", "ext4", "_", "should", "_", "retry", "_", "alloc", "(", "inode", "-", ">", "i", "_", "sb", ",", "&", "retries", ")", ")", "<nl>", "+", "goto", "retry", "_", "journal", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ext4", "retry", "allocation", "when", "inline", "extent", "conversion", "failed"]}
{"code_tokens": ["static", "void", "_", "_", "init", "imx6sl", "_", "init", "_", "late", "(", "void", ")", "<nl>", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "ARM", "_", "IMX6Q", "_", "CPUFREQ", ")", ")", "<nl>", "platform", "_", "device", "_", "register", "_", "simple", "(", "\"", "imx6q", "-", "cpufreq", "\"", ",", "-", "1", ",", "NULL", ",", "0", ")", ";", "<nl>", "<nl>", "-", "if", "(", "cpu", "_", "is", "_", "imx6sl", "(", ")", ")", "<nl>", "+", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "SOC", "_", "IMX6SL", ")", "&", "&", "cpu", "_", "is", "_", "imx6sl", "(", ")", ")", "<nl>", "imx6sl", "_", "cpuidle", "_", "init", "(", ")", ";", "<nl>", "-", "else", "<nl>", "+", "else", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "SOC", "_", "IMX6SLL", ")", ")", "<nl>", "imx6sx", "_", "cpuidle", "_", "init", "(", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ARM", "imx", "call", "imx6sx_cpuidle_init", "conditionally", "for", "6sll"]}
{"code_tokens": ["int", "iptunnel", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "struct", "rtable", "*", "rt", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "_", "_", "be32", "src", ",", "_", "_", "be32", "dst", ",", "_", "_", "u8", "proto", ",", "<nl>", "_", "_", "u8", "tos", ",", "_", "_", "u8", "ttl", ",", "_", "_", "be16", "df", ",", "bool", "xnet", ")", "<nl>", "{", "<nl>", "-", "int", "pkt", "_", "len", "=", "skb", "-", ">", "len", ";", "<nl>", "+", "int", "pkt", "_", "len", "=", "skb", "-", ">", "len", "-", "skb", "_", "inner", "_", "network", "_", "offset", "(", "skb", ")", ";", "<nl>", "struct", "iphdr", "*", "iph", ";", "<nl>", "int", "err", ";", "<nl>"], "docstring_tokens": ["iptunnel", "make", "rx", "tx", "bytes", "counters", "consistent"]}
{"code_tokens": ["int", "omapdss", "_", "default", "_", "get", "_", "recommended", "_", "bpp", "(", "struct", "omap", "_", "dss", "_", "device", "*", "dssdev", ")", "<nl>", "case", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "VENC", ":", "<nl>", "case", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "SDI", ":", "<nl>", "case", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "HDMI", ":", "<nl>", "+", "case", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "DVI", ":", "<nl>", "return", "24", ";", "<nl>", "default", ":", "<nl>", "BUG", "(", ")", ";", "mmm", "include", "/", "video", "/", "omapdss", ".", "h", "<nl>", "int", "omapdss", "_", "default", "_", "get", "_", "recommended", "_", "bpp", "(", "struct", "omap", "_", "dss", "_", "device", "*", "dssdev", ")", "<nl>", "case", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "VENC", ":", "<nl>", "case", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "SDI", ":", "<nl>", "case", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "HDMI", ":", "<nl>", "+", "case", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "DVI", ":", "<nl>", "return", "24", ";", "<nl>", "default", ":", "<nl>", "BUG", "(", ")", ";", "<nl>", "enum", "omap", "_", "display", "_", "type", "{", "<nl>", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "DSI", "=", "1", "<", "<", "3", ",", "<nl>", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "VENC", "=", "1", "<", "<", "4", ",", "<nl>", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "HDMI", "=", "1", "<", "<", "5", ",", "<nl>", "+", "OMAP", "_", "DISPLAY", "_", "TYPE", "_", "DVI", "=", "1", "<", "<", "6", ",", "<nl>", "}", ";", "<nl>", "<nl>", "enum", "omap", "_", "plane", "{", "<nl>"], "docstring_tokens": ["OMAPDSS", "add", "OMAP_DISPLAY_TYPE_DVI"]}
{"code_tokens": ["static", "int", "_", "_", "init", "hp", "_", "wmi", "_", "input", "_", "setup", "(", "void", ")", "<nl>", "int", "err", ";", "<nl>", "<nl>", "hp", "_", "wmi", "_", "input", "_", "dev", "=", "input", "_", "allocate", "_", "device", "(", ")", ";", "<nl>", "+", "if", "(", "!", "hp", "_", "wmi", "_", "input", "_", "dev", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "hp", "_", "wmi", "_", "input", "_", "dev", "-", ">", "name", "=", "\"", "HP", "WMI", "hotkeys", "\"", ";", "<nl>", "hp", "_", "wmi", "_", "input", "_", "dev", "-", ">", "phys", "=", "\"", "wmi", "/", "input0", "\"", ";", "<nl>"], "docstring_tokens": ["hp", "wmi", "add", "return", "value", "checking", "for", "input_allocate_device"]}
{"code_tokens": ["static", "int", "sun8i", "_", "vi", "_", "layer", "_", "atomic", "_", "check", "(", "struct", "drm", "_", "plane", "*", "plane", ",", "<nl>", "clip", ".", "x2", "=", "crtc", "_", "state", "-", ">", "adjusted", "_", "mode", ".", "hdisplay", ";", "<nl>", "clip", ".", "y2", "=", "crtc", "_", "state", "-", ">", "adjusted", "_", "mode", ".", "vdisplay", ";", "<nl>", "<nl>", "+", "min", "_", "scale", "=", "DRM", "_", "PLANE", "_", "HELPER", "_", "NO", "_", "SCALING", ";", "<nl>", "+", "max", "_", "scale", "=", "DRM", "_", "PLANE", "_", "HELPER", "_", "NO", "_", "SCALING", ";", "<nl>", "+", "<nl>", "if", "(", "layer", "-", ">", "mixer", "-", ">", "cfg", "-", ">", "scaler", "_", "mask", "&", "BIT", "(", "layer", "-", ">", "channel", ")", ")", "{", "<nl>", "min", "_", "scale", "=", "SUN8I", "_", "VI", "_", "SCALER", "_", "SCALE", "_", "MIN", ";", "<nl>", "max", "_", "scale", "=", "SUN8I", "_", "VI", "_", "SCALER", "_", "SCALE", "_", "MAX", ";", "<nl>"], "docstring_tokens": ["drm", "sun4i", "Fix", "uninitialized", "variables", "in", "vi", "layer"]}
{"code_tokens": ["static", "int", "vt8500", "_", "rtc", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "writel", "(", "VT8500", "_", "RTC", "_", "CR", "_", "ENABLE", ",", "<nl>", "vt8500", "_", "rtc", "-", ">", "regbase", "+", "VT8500", "_", "RTC", "_", "CR", ")", ";", "<nl>", "<nl>", "-", "vt8500", "_", "rtc", "-", ">", "rtc", "=", "rtc", "_", "device", "_", "register", "(", "\"", "vt8500", "-", "rtc", "\"", ",", "&", "pdev", "-", ">", "dev", ",", "<nl>", "+", "vt8500", "_", "rtc", "-", ">", "rtc", "=", "devm", "_", "rtc", "_", "device", "_", "register", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "vt8500", "-", "rtc", "\"", ",", "<nl>", "&", "vt8500", "_", "rtc", "_", "ops", ",", "THIS", "_", "MODULE", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "vt8500", "_", "rtc", "-", ">", "rtc", ")", ")", "{", "<nl>", "ret", "=", "PTR", "_", "ERR", "(", "vt8500", "_", "rtc", "-", ">", "rtc", ")", ";", "<nl>", "static", "int", "vt8500", "_", "rtc", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "can", "'", "t", "get", "irq", "%", "i", ",", "err", "%", "d", "\\", "n", "\"", ",", "<nl>", "vt8500", "_", "rtc", "-", ">", "irq", "_", "alarm", ",", "ret", ")", ";", "<nl>", "-", "goto", "err", "_", "unreg", ";", "<nl>", "+", "goto", "err", "_", "return", ";", "<nl>", "}", "<nl>", "<nl>", "return", "0", ";", "<nl>", "<nl>", "-", "err", "_", "unreg", ":", "<nl>", "-", "rtc", "_", "device", "_", "unregister", "(", "vt8500", "_", "rtc", "-", ">", "rtc", ")", ";", "<nl>", "err", "_", "return", ":", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "static", "int", "vt8500", "_", "rtc", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "struct", "vt8500", "_", "rtc", "*", "vt8500", "_", "rtc", "=", "platform", "_", "get", "_", "drvdata", "(", "pdev", ")", ";", "<nl>", "<nl>", "-", "rtc", "_", "device", "_", "unregister", "(", "vt8500", "_", "rtc", "-", ">", "rtc", ")", ";", "<nl>", "-", "<nl>", "/", "*", "Disable", "alarm", "matching", "*", "/", "<nl>", "writel", "(", "0", ",", "vt8500", "_", "rtc", "-", ">", "regbase", "+", "VT8500", "_", "RTC", "_", "IS", ")", ";", "<nl>"], "docstring_tokens": ["rtc", "rtc", "vt8500", "use", "devm_rtc_device_register"]}
{"code_tokens": ["static", "int", "inet", "_", "rtm", "_", "getroute", "(", "struct", "sk", "_", "buff", "*", "in", "_", "skb", ",", "struct", "nlmsghdr", "*", "nlh", ",", "<nl>", "if", "(", "rtm", "-", ">", "rtm", "_", "flags", "&", "RTM", "_", "F", "_", "LOOKUP", "_", "TABLE", ")", "<nl>", "table", "_", "id", "=", "rt", "-", ">", "rt", "_", "table", "_", "id", ";", "<nl>", "<nl>", "-", "if", "(", "rtm", "-", ">", "rtm", "_", "flags", "&", "RTM", "_", "F", "_", "FIB", "_", "MATCH", ")", "<nl>", "+", "if", "(", "rtm", "-", ">", "rtm", "_", "flags", "&", "RTM", "_", "F", "_", "FIB", "_", "MATCH", ")", "{", "<nl>", "+", "if", "(", "!", "res", ".", "fi", ")", "{", "<nl>", "+", "err", "=", "fib", "_", "props", "[", "res", ".", "type", "]", ".", "error", ";", "<nl>", "+", "if", "(", "!", "err", ")", "<nl>", "+", "err", "=", "-", "EHOSTUNREACH", ";", "<nl>", "+", "goto", "errout", "_", "free", ";", "<nl>", "+", "}", "<nl>", "err", "=", "fib", "_", "dump", "_", "info", "(", "skb", ",", "NETLINK", "_", "CB", "(", "in", "_", "skb", ")", ".", "portid", ",", "<nl>", "nlh", "-", ">", "nlmsg", "_", "seq", ",", "RTM", "_", "NEWROUTE", ",", "table", "_", "id", ",", "<nl>", "rt", "-", ">", "rt", "_", "type", ",", "res", ".", "prefix", ",", "res", ".", "prefixlen", ",", "<nl>", "fl4", ".", "flowi4", "_", "tos", ",", "res", ".", "fi", ",", "0", ")", ";", "<nl>", "-", "else", "<nl>", "+", "}", "else", "{", "<nl>", "err", "=", "rt", "_", "fill", "_", "info", "(", "net", ",", "dst", ",", "src", ",", "table", "_", "id", ",", "&", "fl4", ",", "skb", ",", "<nl>", "NETLINK", "_", "CB", "(", "in", "_", "skb", ")", ".", "portid", ",", "nlh", "-", ">", "nlmsg", "_", "seq", ")", ";", "<nl>", "+", "}", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "goto", "errout", "_", "free", ";", "<nl>"], "docstring_tokens": ["net", "check", "and", "errout", "if", "res", "fi", "is", "NULL", "when", "RTM_F_FIB_MATCH", "is", "set"]}
{"code_tokens": ["qeth", "_", "l3", "_", "add", "_", "mc", "_", "to", "_", "hash", "(", "struct", "qeth", "_", "card", "*", "card", ",", "struct", "in", "_", "device", "*", "in4", "_", "dev", ")", "<nl>", "<nl>", "tmp", "-", ">", "u", ".", "a4", ".", "addr", "=", "be32", "_", "to", "_", "cpu", "(", "im4", "-", ">", "multiaddr", ")", ";", "<nl>", "memcpy", "(", "tmp", "-", ">", "mac", ",", "buf", ",", "sizeof", "(", "tmp", "-", ">", "mac", ")", ")", ";", "<nl>", "+", "tmp", "-", ">", "is", "_", "multicast", "=", "1", ";", "<nl>", "<nl>", "ipm", "=", "qeth", "_", "l3", "_", "ip", "_", "from", "_", "hash", "(", "card", ",", "tmp", ")", ";", "<nl>", "if", "(", "ipm", ")", "{", "<nl>"], "docstring_tokens": ["s390", "qeth", "fix", "thinko", "in", "IPv4", "multicast", "address", "tracking"]}
{"code_tokens": ["static", "void", "hci", "_", "cc", "_", "le", "_", "set", "_", "scan", "_", "enable", "(", "struct", "hci", "_", "dev", "*", "hdev", ",", "<nl>", "<nl>", "schedule", "_", "delayed", "_", "work", "(", "&", "hdev", "-", ">", "adv", "_", "work", ",", "ADV", "_", "CLEAR", "_", "TIMEOUT", ")", ";", "<nl>", "<nl>", "-", "if", "(", "hdev", "-", ">", "discovery", ".", "type", "=", "=", "DISCOV", "_", "TYPE", "_", "INTERLEAVED", ")", "{", "<nl>", "+", "if", "(", "hdev", "-", ">", "discovery", ".", "type", "=", "=", "DISCOV", "_", "TYPE", "_", "INTERLEAVED", "&", "&", "<nl>", "+", "hdev", "-", ">", "discovery", ".", "state", "=", "=", "DISCOVERY", "_", "FINDING", ")", "{", "<nl>", "mgmt", "_", "interleaved", "_", "discovery", "(", "hdev", ")", ";", "<nl>", "}", "else", "{", "<nl>", "hci", "_", "dev", "_", "lock", "(", "hdev", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "Check", "FINDING", "state", "in", "interleaved", "discovery"]}
{"code_tokens": ["static", "int", "sh", "_", "mobile", "_", "ceu", "_", "try", "_", "fmt", "(", "struct", "soc", "_", "camera", "_", "device", "*", "icd", ",", "<nl>", "<nl>", "/", "*", "FIXME", ":", "calculate", "using", "depth", "and", "bus", "width", "*", "/", "<nl>", "<nl>", "-", "if", "(", "f", "-", ">", "fmt", ".", "pix", ".", "height", "<", "4", ")", "<nl>", "-", "f", "-", ">", "fmt", ".", "pix", ".", "height", "=", "4", ";", "<nl>", "-", "if", "(", "f", "-", ">", "fmt", ".", "pix", ".", "height", ">", "1920", ")", "<nl>", "-", "f", "-", ">", "fmt", ".", "pix", ".", "height", "=", "1920", ";", "<nl>", "-", "if", "(", "f", "-", ">", "fmt", ".", "pix", ".", "width", "<", "2", ")", "<nl>", "-", "f", "-", ">", "fmt", ".", "pix", ".", "width", "=", "2", ";", "<nl>", "-", "if", "(", "f", "-", ">", "fmt", ".", "pix", ".", "width", ">", "2560", ")", "<nl>", "-", "f", "-", ">", "fmt", ".", "pix", ".", "width", "=", "2560", ";", "<nl>", "-", "f", "-", ">", "fmt", ".", "pix", ".", "width", "&", "=", "~", "0x01", ";", "<nl>", "-", "f", "-", ">", "fmt", ".", "pix", ".", "height", "&", "=", "~", "0x03", ";", "<nl>", "+", "v4l", "_", "bound", "_", "align", "_", "image", "(", "&", "f", "-", ">", "fmt", ".", "pix", ".", "width", ",", "2", ",", "2560", ",", "1", ",", "<nl>", "+", "&", "f", "-", ">", "fmt", ".", "pix", ".", "height", ",", "4", ",", "1920", ",", "2", ",", "0", ")", ";", "<nl>", "<nl>", "f", "-", ">", "fmt", ".", "pix", ".", "bytesperline", "=", "f", "-", ">", "fmt", ".", "pix", ".", "width", "*", "<nl>", "DIV", "_", "ROUND", "_", "UP", "(", "xlate", "-", ">", "host", "_", "fmt", "-", ">", "depth", ",", "8", ")", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "11903", "sh_mobile_ceu_camera", "Use", "v4l", "bounding", "alignment", "function"]}
{"code_tokens": ["static", "void", "*", "ixgbe", "_", "fwd", "_", "add", "(", "struct", "net", "_", "device", "*", "pdev", ",", "struct", "net", "_", "device", "*", "vdev", ")", "<nl>", "(", "adapter", "-", ">", "num", "_", "rx", "_", "pools", ">", "IXGBE", "_", "MAX", "_", "MACVLANS", ")", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EBUSY", ")", ";", "<nl>", "<nl>", "-", "fwd", "_", "adapter", "=", "kcalloc", "(", "1", ",", "sizeof", "(", "struct", "ixgbe", "_", "fwd", "_", "adapter", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "fwd", "_", "adapter", "=", "kzalloc", "(", "sizeof", "(", "*", "fwd", "_", "adapter", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "fwd", "_", "adapter", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "ENOMEM", ")", ";", "<nl>"], "docstring_tokens": ["ixgbe", "use", "kzalloc", "for", "allocating", "one", "thing"]}
{"code_tokens": ["struct", "be", "_", "tx", "_", "stats", "{", "<nl>", "u64", "tx", "_", "compl", ";", "<nl>", "ulong", "tx", "_", "jiffies", ";", "<nl>", "u32", "tx", "_", "stops", ";", "<nl>", "+", "u32", "tx", "_", "drv", "_", "drops", ";", "/", "*", "pkts", "dropped", "by", "driver", "*", "/", "<nl>", "struct", "u64", "_", "stats", "_", "sync", "sync", ";", "<nl>", "struct", "u64", "_", "stats", "_", "sync", "sync", "_", "compl", ";", "<nl>", "}", ";", "mmm", "drivers", "/", "net", "/", "ethernet", "/", "emulex", "/", "benet", "/", "be", "_", "ethtool", ".", "c", "<nl>", "struct", "be", "_", "tx", "_", "stats", "{", "<nl>", "u64", "tx", "_", "compl", ";", "<nl>", "ulong", "tx", "_", "jiffies", ";", "<nl>", "u32", "tx", "_", "stops", ";", "<nl>", "+", "u32", "tx", "_", "drv", "_", "drops", ";", "/", "*", "pkts", "dropped", "by", "driver", "*", "/", "<nl>", "struct", "u64", "_", "stats", "_", "sync", "sync", ";", "<nl>", "struct", "u64", "_", "stats", "_", "sync", "sync", "_", "compl", ";", "<nl>", "}", ";", "<nl>", "static", "const", "struct", "be", "_", "ethtool", "_", "stat", "et", "_", "tx", "_", "stats", "[", "]", "=", "{", "<nl>", "/", "*", "Number", "of", "times", "the", "TX", "queue", "was", "stopped", "due", "to", "lack", "<nl>", "*", "of", "spaces", "in", "the", "TXQ", ".", "<nl>", "*", "/", "<nl>", "-", "{", "DRVSTAT", "_", "TX", "_", "INFO", "(", "tx", "_", "stops", ")", "}", "<nl>", "+", "{", "DRVSTAT", "_", "TX", "_", "INFO", "(", "tx", "_", "stops", ")", "}", ",", "<nl>", "+", "/", "*", "Pkts", "dropped", "in", "the", "driver", "'", "s", "transmit", "path", "*", "/", "<nl>", "+", "{", "DRVSTAT", "_", "TX", "_", "INFO", "(", "tx", "_", "drv", "_", "drops", ")", "}", "<nl>", "}", ";", "<nl>", "#", "define", "ETHTOOL", "_", "TXSTATS", "_", "NUM", "(", "ARRAY", "_", "SIZE", "(", "et", "_", "tx", "_", "stats", ")", ")", "<nl>", "struct", "be", "_", "tx", "_", "stats", "{", "<nl>", "u64", "tx", "_", "compl", ";", "<nl>", "ulong", "tx", "_", "jiffies", ";", "<nl>", "u32", "tx", "_", "stops", ";", "<nl>", "+", "u32", "tx", "_", "drv", "_", "drops", ";", "/", "*", "pkts", "dropped", "by", "driver", "*", "/", "<nl>", "struct", "u64", "_", "stats", "_", "sync", "sync", ";", "<nl>", "struct", "u64", "_", "stats", "_", "sync", "sync", "_", "compl", ";", "<nl>", "}", ";", "<nl>", "static", "const", "struct", "be", "_", "ethtool", "_", "stat", "et", "_", "tx", "_", "stats", "[", "]", "=", "{", "<nl>", "/", "*", "Number", "of", "times", "the", "TX", "queue", "was", "stopped", "due", "to", "lack", "<nl>", "*", "of", "spaces", "in", "the", "TXQ", ".", "<nl>", "*", "/", "<nl>", "-", "{", "DRVSTAT", "_", "TX", "_", "INFO", "(", "tx", "_", "stops", ")", "}", "<nl>", "+", "{", "DRVSTAT", "_", "TX", "_", "INFO", "(", "tx", "_", "stops", ")", "}", ",", "<nl>", "+", "/", "*", "Pkts", "dropped", "in", "the", "driver", "'", "s", "transmit", "path", "*", "/", "<nl>", "+", "{", "DRVSTAT", "_", "TX", "_", "INFO", "(", "tx", "_", "drv", "_", "drops", ")", "}", "<nl>", "}", ";", "<nl>", "#", "define", "ETHTOOL", "_", "TXSTATS", "_", "NUM", "(", "ARRAY", "_", "SIZE", "(", "et", "_", "tx", "_", "stats", ")", ")", "<nl>", "<nl>", "static", "netdev", "_", "tx", "_", "t", "be", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "netdev", ")", "<nl>", "u32", "start", "=", "txq", "-", ">", "head", ";", "<nl>", "<nl>", "skb", "=", "be", "_", "xmit", "_", "workarounds", "(", "adapter", ",", "skb", ",", "&", "skip", "_", "hw", "_", "vlan", ")", ";", "<nl>", "-", "if", "(", "!", "skb", ")", "<nl>", "+", "if", "(", "!", "skb", ")", "{", "<nl>", "+", "tx", "_", "stats", "(", "txo", ")", "-", ">", "tx", "_", "drv", "_", "drops", "+", "+", ";", "<nl>", "return", "NETDEV", "_", "TX", "_", "OK", ";", "<nl>", "+", "}", "<nl>", "<nl>", "wrb", "_", "cnt", "=", "wrb", "_", "cnt", "_", "for", "_", "skb", "(", "adapter", ",", "skb", ",", "&", "dummy", "_", "wrb", ")", ";", "<nl>", "<nl>", "static", "netdev", "_", "tx", "_", "t", "be", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "netdev", ")", "<nl>", "be", "_", "tx", "_", "stats", "_", "update", "(", "txo", ",", "wrb", "_", "cnt", ",", "copied", ",", "gso", "_", "segs", ",", "stopped", ")", ";", "<nl>", "}", "else", "{", "<nl>", "txq", "-", ">", "head", "=", "start", ";", "<nl>", "+", "tx", "_", "stats", "(", "txo", ")", "-", ">", "tx", "_", "drv", "_", "drops", "+", "+", ";", "<nl>", "dev", "_", "kfree", "_", "skb", "_", "any", "(", "skb", ")", ";", "<nl>", "}", "<nl>", "return", "NETDEV", "_", "TX", "_", "OK", ";", "<nl>"], "docstring_tokens": ["be2net", "add", "a", "counter", "for", "pkts", "dropped", "in", "xmit", "path"]}
{"code_tokens": ["static", "void", "lpuart", "_", "break", "_", "ctl", "(", "struct", "uart", "_", "port", "*", "port", ",", "int", "break", "_", "state", ")", "<nl>", "static", "void", "lpuart", "_", "setup", "_", "watermark", "(", "struct", "lpuart", "_", "port", "*", "sport", ")", "<nl>", "{", "<nl>", "unsigned", "char", "val", ",", "cr2", ";", "<nl>", "+", "unsigned", "char", "cr2", "_", "saved", ";", "<nl>", "<nl>", "cr2", "=", "readb", "(", "sport", "-", ">", "port", ".", "membase", "+", "UARTCR2", ")", ";", "<nl>", "+", "cr2", "_", "saved", "=", "cr2", ";", "<nl>", "cr2", "&", "=", "~", "(", "UARTCR2", "_", "TIE", "|", "UARTCR2", "_", "TCIE", "|", "UARTCR2", "_", "TE", "|", "<nl>", "UARTCR2", "_", "RIE", "|", "UARTCR2", "_", "RE", ")", ";", "<nl>", "writeb", "(", "cr2", ",", "sport", "-", ">", "port", ".", "membase", "+", "UARTCR2", ")", ";", "<nl>", "static", "void", "lpuart", "_", "setup", "_", "watermark", "(", "struct", "lpuart", "_", "port", "*", "sport", ")", "<nl>", "<nl>", "writeb", "(", "2", ",", "sport", "-", ">", "port", ".", "membase", "+", "UARTTWFIFO", ")", ";", "<nl>", "writeb", "(", "1", ",", "sport", "-", ">", "port", ".", "membase", "+", "UARTRWFIFO", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Restore", "cr2", "*", "/", "<nl>", "+", "writeb", "(", "cr2", "_", "saved", ",", "sport", "-", ">", "port", ".", "membase", "+", "UARTCR2", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "lpuart", "_", "startup", "(", "struct", "uart", "_", "port", "*", "port", ")", "<nl>"], "docstring_tokens": ["serial", "fsl_lpuart", "restore", "UARTCR2", "after", "watermark", "setup", "is", "done"]}
{"code_tokens": ["static", "int", "_", "_", "sys", "_", "sendmsg", "(", "struct", "socket", "*", "sock", ",", "struct", "msghdr", "_", "_", "user", "*", "msg", ",", "<nl>", "*", "used", "_", "address", "-", ">", "name", "_", "len", "is", "initialized", "to", "UINT", "_", "MAX", "so", "that", "the", "first", "<nl>", "*", "destination", "address", "never", "matches", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "used", "_", "address", "&", "&", "used", "_", "address", "-", ">", "name", "_", "len", "=", "=", "msg", "_", "sys", "-", ">", "msg", "_", "namelen", "&", "&", "<nl>", "-", "!", "memcmp", "(", "&", "used", "_", "address", "-", ">", "name", ",", "msg", "-", ">", "msg", "_", "name", ",", "<nl>", "+", "if", "(", "used", "_", "address", "&", "&", "msg", "_", "sys", "-", ">", "msg", "_", "name", "&", "&", "<nl>", "+", "used", "_", "address", "-", ">", "name", "_", "len", "=", "=", "msg", "_", "sys", "-", ">", "msg", "_", "namelen", "&", "&", "<nl>", "+", "!", "memcmp", "(", "&", "used", "_", "address", "-", ">", "name", ",", "msg", "_", "sys", "-", ">", "msg", "_", "name", ",", "<nl>", "used", "_", "address", "-", ">", "name", "_", "len", ")", ")", "{", "<nl>", "err", "=", "sock", "_", "sendmsg", "_", "nosec", "(", "sock", ",", "msg", "_", "sys", ",", "total", "_", "len", ")", ";", "<nl>", "goto", "out", "_", "freectl", ";", "<nl>", "static", "int", "_", "_", "sys", "_", "sendmsg", "(", "struct", "socket", "*", "sock", ",", "struct", "msghdr", "_", "_", "user", "*", "msg", ",", "<nl>", "*", "/", "<nl>", "if", "(", "used", "_", "address", "&", "&", "err", ">", "=", "0", ")", "{", "<nl>", "used", "_", "address", "-", ">", "name", "_", "len", "=", "msg", "_", "sys", "-", ">", "msg", "_", "namelen", ";", "<nl>", "-", "memcpy", "(", "&", "used", "_", "address", "-", ">", "name", ",", "msg", "-", ">", "msg", "_", "name", ",", "<nl>", "-", "used", "_", "address", "-", ">", "name", "_", "len", ")", ";", "<nl>", "+", "if", "(", "msg", "_", "sys", "-", ">", "msg", "_", "name", ")", "<nl>", "+", "memcpy", "(", "&", "used", "_", "address", "-", ">", "name", ",", "msg", "_", "sys", "-", ">", "msg", "_", "name", ",", "<nl>", "+", "used", "_", "address", "-", ">", "name", "_", "len", ")", ";", "<nl>", "}", "<nl>", "<nl>", "out", "_", "freectl", ":", "<nl>"], "docstring_tokens": ["sendmmsg", "sendmsg", "fix", "unsafe", "user", "pointer", "access"]}
{"code_tokens": ["static", "long", "ir", "_", "lirc", "_", "ioctl", "(", "struct", "file", "*", "filep", ",", "unsigned", "int", "cmd", ",", "<nl>", "val", ")", ";", "<nl>", "<nl>", "case", "LIRC", "_", "SET", "_", "REC", "_", "CARRIER", "_", "RANGE", ":", "<nl>", "+", "if", "(", "!", "dev", "-", ">", "s", "_", "rx", "_", "carrier", "_", "range", ")", "<nl>", "+", "return", "-", "ENOTTY", ";", "<nl>", "+", "<nl>", "if", "(", "val", "<", "=", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "static", "long", "ir", "_", "lirc", "_", "ioctl", "(", "struct", "file", "*", "filep", ",", "unsigned", "int", "cmd", ",", "<nl>", "break", ";", "<nl>", "<nl>", "case", "LIRC", "_", "SET", "_", "REC", "_", "TIMEOUT", "_", "REPORTS", ":", "<nl>", "+", "if", "(", "!", "dev", "-", ">", "timeout", ")", "<nl>", "+", "return", "-", "ENOTTY", ";", "<nl>", "+", "<nl>", "lirc", "-", ">", "send", "_", "timeout", "_", "reports", "=", "!", "!", "val", ";", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["media", "lirc", "return", "ENOTTY", "when", "device", "does", "support", "ioctl"]}
{"code_tokens": ["static", "void", "sti", "_", "hdmi", "_", "disable", "(", "struct", "drm", "_", "bridge", "*", "bridge", ")", "<nl>", "clk", "_", "disable", "_", "unprepare", "(", "hdmi", "-", ">", "clk", "_", "pix", ")", ";", "<nl>", "<nl>", "hdmi", "-", ">", "enabled", "=", "false", ";", "<nl>", "+", "<nl>", "+", "cec", "_", "notifier", "_", "set", "_", "phys", "_", "addr", "(", "hdmi", "-", ">", "notifier", ",", "CEC", "_", "PHYS", "_", "ADDR", "_", "INVALID", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>", "static", "int", "sti", "_", "hdmi", "_", "connector", "_", "get", "_", "modes", "(", "struct", "drm", "_", "connector", "*", "connector", ")", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "%", "s", ":", "%", "dx", "%", "d", "cm", "\\", "n", "\"", ",", "<nl>", "(", "hdmi", "-", ">", "hdmi", "_", "monitor", "?", "\"", "hdmi", "monitor", "\"", ":", "\"", "dvi", "monitor", "\"", ")", ",", "<nl>", "edid", "-", ">", "width", "_", "cm", ",", "edid", "-", ">", "height", "_", "cm", ")", ";", "<nl>", "+", "cec", "_", "notifier", "_", "set", "_", "phys", "_", "addr", "_", "from", "_", "edid", "(", "hdmi", "-", ">", "notifier", ",", "edid", ")", ";", "<nl>", "<nl>", "count", "=", "drm", "_", "add", "_", "edid", "_", "modes", "(", "connector", ",", "edid", ")", ";", "<nl>", "drm", "_", "mode", "_", "connector", "_", "update", "_", "edid", "_", "property", "(", "connector", ",", "edid", ")", ";", "<nl>", "sti", "_", "hdmi", "_", "connector", "_", "detect", "(", "struct", "drm", "_", "connector", "*", "connector", ",", "bool", "force", ")", "<nl>", "}", "<nl>", "<nl>", "DRM", "_", "DEBUG", "_", "DRIVER", "(", "\"", "hdmi", "cable", "disconnected", "\\", "n", "\"", ")", ";", "<nl>", "+", "cec", "_", "notifier", "_", "set", "_", "phys", "_", "addr", "(", "hdmi", "-", ">", "notifier", ",", "CEC", "_", "PHYS", "_", "ADDR", "_", "INVALID", ")", ";", "<nl>", "return", "connector", "_", "status", "_", "disconnected", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "sti", "_", "hdmi", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "goto", "release", "_", "adapter", ";", "<nl>", "}", "<nl>", "<nl>", "+", "hdmi", "-", ">", "notifier", "=", "cec", "_", "notifier", "_", "get", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "+", "if", "(", "!", "hdmi", "-", ">", "notifier", ")", "<nl>", "+", "goto", "release", "_", "adapter", ";", "<nl>", "+", "<nl>", "hdmi", "-", ">", "reset", "=", "devm", "_", "reset", "_", "control", "_", "get", "(", "dev", ",", "\"", "hdmi", "\"", ")", ";", "<nl>", "/", "*", "Take", "hdmi", "out", "of", "reset", "*", "/", "<nl>", "if", "(", "!", "IS", "_", "ERR", "(", "hdmi", "-", ">", "reset", ")", ")", "<nl>", "static", "int", "sti", "_", "hdmi", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "struct", "sti", "_", "hdmi", "*", "hdmi", "=", "dev", "_", "get", "_", "drvdata", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "+", "cec", "_", "notifier", "_", "set", "_", "phys", "_", "addr", "(", "hdmi", "-", ">", "notifier", ",", "CEC", "_", "PHYS", "_", "ADDR", "_", "INVALID", ")", ";", "<nl>", "+", "<nl>", "i2c", "_", "put", "_", "adapter", "(", "hdmi", "-", ">", "ddc", "_", "adapt", ")", ";", "<nl>", "if", "(", "hdmi", "-", ">", "audio", "_", "pdev", ")", "<nl>", "platform", "_", "device", "_", "unregister", "(", "hdmi", "-", ">", "audio", "_", "pdev", ")", ";", "<nl>", "component", "_", "del", "(", "&", "pdev", "-", ">", "dev", ",", "&", "sti", "_", "hdmi", "_", "ops", ")", ";", "<nl>", "<nl>", "+", "cec", "_", "notifier", "_", "put", "(", "hdmi", "-", ">", "notifier", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "static", "void", "sti", "_", "hdmi", "_", "disable", "(", "struct", "drm", "_", "bridge", "*", "bridge", ")", "<nl>", "clk", "_", "disable", "_", "unprepare", "(", "hdmi", "-", ">", "clk", "_", "pix", ")", ";", "<nl>", "<nl>", "hdmi", "-", ">", "enabled", "=", "false", ";", "<nl>", "+", "<nl>", "+", "cec", "_", "notifier", "_", "set", "_", "phys", "_", "addr", "(", "hdmi", "-", ">", "notifier", ",", "CEC", "_", "PHYS", "_", "ADDR", "_", "INVALID", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>", "static", "int", "sti", "_", "hdmi", "_", "connector", "_", "get", "_", "modes", "(", "struct", "drm", "_", "connector", "*", "connector", ")", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "%", "s", ":", "%", "dx", "%", "d", "cm", "\\", "n", "\"", ",", "<nl>", "(", "hdmi", "-", ">", "hdmi", "_", "monitor", "?", "\"", "hdmi", "monitor", "\"", ":", "\"", "dvi", "monitor", "\"", ")", ",", "<nl>", "edid", "-", ">", "width", "_", "cm", ",", "edid", "-", ">", "height", "_", "cm", ")", ";", "<nl>", "+", "cec", "_", "notifier", "_", "set", "_", "phys", "_", "addr", "_", "from", "_", "edid", "(", "hdmi", "-", ">", "notifier", ",", "edid", ")", ";", "<nl>", "<nl>", "count", "=", "drm", "_", "add", "_", "edid", "_", "modes", "(", "connector", ",", "edid", ")", ";", "<nl>", "drm", "_", "mode", "_", "connector", "_", "update", "_", "edid", "_", "property", "(", "connector", ",", "edid", ")", ";", "<nl>", "sti", "_", "hdmi", "_", "connector", "_", "detect", "(", "struct", "drm", "_", "connector", "*", "connector", ",", "bool", "force", ")", "<nl>", "}", "<nl>", "<nl>", "DRM", "_", "DEBUG", "_", "DRIVER", "(", "\"", "hdmi", "cable", "disconnected", "\\", "n", "\"", ")", ";", "<nl>", "+", "cec", "_", "notifier", "_", "set", "_", "phys", "_", "addr", "(", "hdmi", "-", ">", "notifier", ",", "CEC", "_", "PHYS", "_", "ADDR", "_", "INVALID", ")", ";", "<nl>", "return", "connector", "_", "status", "_", "disconnected", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "sti", "_", "hdmi", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "goto", "release", "_", "adapter", ";", "<nl>", "}", "<nl>", "<nl>", "+", "hdmi", "-", ">", "notifier", "=", "cec", "_", "notifier", "_", "get", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "+", "if", "(", "!", "hdmi", "-", ">", "notifier", ")", "<nl>", "+", "goto", "release", "_", "adapter", ";", "<nl>", "+", "<nl>", "hdmi", "-", ">", "reset", "=", "devm", "_", "reset", "_", "control", "_", "get", "(", "dev", ",", "\"", "hdmi", "\"", ")", ";", "<nl>", "/", "*", "Take", "hdmi", "out", "of", "reset", "*", "/", "<nl>", "if", "(", "!", "IS", "_", "ERR", "(", "hdmi", "-", ">", "reset", ")", ")", "<nl>", "static", "int", "sti", "_", "hdmi", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "struct", "sti", "_", "hdmi", "*", "hdmi", "=", "dev", "_", "get", "_", "drvdata", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "+", "cec", "_", "notifier", "_", "set", "_", "phys", "_", "addr", "(", "hdmi", "-", ">", "notifier", ",", "CEC", "_", "PHYS", "_", "ADDR", "_", "INVALID", ")", ";", "<nl>", "+", "<nl>", "i2c", "_", "put", "_", "adapter", "(", "hdmi", "-", ">", "ddc", "_", "adapt", ")", ";", "<nl>", "if", "(", "hdmi", "-", ">", "audio", "_", "pdev", ")", "<nl>", "platform", "_", "device", "_", "unregister", "(", "hdmi", "-", ">", "audio", "_", "pdev", ")", ";", "<nl>", "component", "_", "del", "(", "&", "pdev", "-", ">", "dev", ",", "&", "sti", "_", "hdmi", "_", "ops", ")", ";", "<nl>", "<nl>", "+", "cec", "_", "notifier", "_", "put", "(", "hdmi", "-", ">", "notifier", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "platform", "_", "device", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "drm", "/", "drmP", ".", "h", ">", "<nl>", "+", "#", "include", "<", "media", "/", "cec", "-", "notifier", ".", "h", ">", "<nl>", "<nl>", "#", "define", "HDMI", "_", "STA", "0x0010", "<nl>", "#", "define", "HDMI", "_", "STA", "_", "DLL", "_", "LCK", "BIT", "(", "5", ")", "<nl>", "static", "const", "struct", "drm", "_", "prop", "_", "enum", "_", "list", "colorspace", "_", "mode", "_", "names", "[", "]", "=", "{", "<nl>", "*", "@", "audio", "_", "pdev", ":", "ASoC", "hdmi", "-", "codec", "platform", "device", "<nl>", "*", "@", "audio", ":", "hdmi", "audio", "parameters", ".", "<nl>", "*", "@", "drm", "_", "connector", ":", "hdmi", "connector", "<nl>", "+", "*", "@", "notifier", ":", "hotplug", "detect", "notifier", "<nl>", "*", "/", "<nl>", "struct", "sti", "_", "hdmi", "{", "<nl>", "struct", "device", "dev", ";", "<nl>", "struct", "sti", "_", "hdmi", "{", "<nl>", "struct", "platform", "_", "device", "*", "audio", "_", "pdev", ";", "<nl>", "struct", "hdmi", "_", "audio", "_", "params", "audio", ";", "<nl>", "struct", "drm", "_", "connector", "*", "drm", "_", "connector", ";", "<nl>", "+", "struct", "cec", "_", "notifier", "*", "notifier", ";", "<nl>", "}", ";", "<nl>", "<nl>", "u32", "hdmi", "_", "read", "(", "struct", "sti", "_", "hdmi", "*", "hdmi", ",", "int", "offset", ")", ";", "<nl>"], "docstring_tokens": ["media", "sti", "hdmi", "add", "CEC", "notifier", "support"]}
{"code_tokens": ["static", "void", "magicmouse", "_", "setup", "_", "input", "(", "struct", "input", "_", "dev", "*", "input", ",", "struct", "hid", "_", "device", "*", "h", "<nl>", "_", "_", "set", "_", "bit", "(", "REL", "_", "HWHEEL", ",", "input", "-", ">", "relbit", ")", ";", "<nl>", "}", "<nl>", "}", "else", "{", "/", "*", "USB", "_", "DEVICE", "_", "ID", "_", "APPLE", "_", "MAGICTRACKPAD", "*", "/", "<nl>", "+", "/", "*", "input", "-", ">", "keybit", "is", "initialized", "with", "incorrect", "button", "info", "<nl>", "+", "*", "for", "Magic", "Trackpad", ".", "There", "really", "is", "only", "one", "physical", "<nl>", "+", "*", "button", "(", "BTN", "_", "LEFT", "=", "=", "BTN", "_", "MOUSE", ")", ".", "Make", "sure", "we", "don", "'", "t", "<nl>", "+", "*", "advertise", "buttons", "that", "don", "'", "t", "exist", ".", ".", ".", "<nl>", "+", "*", "/", "<nl>", "+", "_", "_", "clear", "_", "bit", "(", "BTN", "_", "RIGHT", ",", "input", "-", ">", "keybit", ")", ";", "<nl>", "+", "_", "_", "clear", "_", "bit", "(", "BTN", "_", "MIDDLE", ",", "input", "-", ">", "keybit", ")", ";", "<nl>", "_", "_", "set", "_", "bit", "(", "BTN", "_", "MOUSE", ",", "input", "-", ">", "keybit", ")", ";", "<nl>", "_", "_", "set", "_", "bit", "(", "BTN", "_", "TOOL", "_", "FINGER", ",", "input", "-", ">", "keybit", ")", ";", "<nl>", "_", "_", "set", "_", "bit", "(", "BTN", "_", "TOOL", "_", "DOUBLETAP", ",", "input", "-", ">", "keybit", ")", ";", "<nl>"], "docstring_tokens": ["HID", "hid", "magicmouse", "Magic", "Trackpad", "has", "1", "button", "not", "2"]}
{"code_tokens": ["static", "int", "vidioc", "_", "querycap", "(", "struct", "file", "*", "file", ",", "void", "*", "fh", ",", "<nl>", "{", "<nl>", "struct", "capture", "_", "priv", "*", "priv", "=", "video", "_", "drvdata", "(", "file", ")", ";", "<nl>", "<nl>", "-", "strncpy", "(", "cap", "-", ">", "driver", ",", "\"", "imx", "-", "media", "-", "capture", "\"", ",", "sizeof", "(", "cap", "-", ">", "driver", ")", "-", "1", ")", ";", "<nl>", "-", "strncpy", "(", "cap", "-", ">", "card", ",", "\"", "imx", "-", "media", "-", "capture", "\"", ",", "sizeof", "(", "cap", "-", ">", "card", ")", "-", "1", ")", ";", "<nl>", "+", "strlcpy", "(", "cap", "-", ">", "driver", ",", "\"", "imx", "-", "media", "-", "capture", "\"", ",", "sizeof", "(", "cap", "-", ">", "driver", ")", ")", ";", "<nl>", "+", "strlcpy", "(", "cap", "-", ">", "card", ",", "\"", "imx", "-", "media", "-", "capture", "\"", ",", "sizeof", "(", "cap", "-", ">", "card", ")", ")", ";", "<nl>", "snprintf", "(", "cap", "-", ">", "bus", "_", "info", ",", "sizeof", "(", "cap", "-", ">", "bus", "_", "info", ")", ",", "<nl>", "\"", "platform", ":", "%", "s", "\"", ",", "priv", "-", ">", "src", "_", "sd", "-", ">", "name", ")", ";", "<nl>"], "docstring_tokens": ["media", "imx", "fix", "compiler", "warning"]}
{"code_tokens": ["static", "void", "radeon", "_", "compute", "_", "pll", "_", "legacy", "(", "struct", "radeon", "_", "pll", "*", "pll", ",", "<nl>", "max", "_", "fractional", "_", "feed", "_", "div", "=", "pll", "-", ">", "max", "_", "frac", "_", "feedback", "_", "div", ";", "<nl>", "}", "<nl>", "<nl>", "-", "for", "(", "post", "_", "div", "=", "min", "_", "post", "_", "div", ";", "post", "_", "div", "<", "=", "max", "_", "post", "_", "div", ";", "+", "+", "post", "_", "div", ")", "{", "<nl>", "+", "for", "(", "post", "_", "div", "=", "max", "_", "post", "_", "div", ";", "post", "_", "div", ">", "=", "min", "_", "post", "_", "div", ";", "-", "-", "post", "_", "div", ")", "{", "<nl>", "uint32", "_", "t", "ref", "_", "div", ";", "<nl>", "<nl>", "if", "(", "(", "pll", "-", ">", "flags", "&", "RADEON", "_", "PLL", "_", "NO", "_", "ODD", "_", "POST", "_", "DIV", ")", "&", "&", "(", "post", "_", "div", "&", "1", ")", ")", "<nl>"], "docstring_tokens": ["drm", "radeon", "kms", "prefer", "high", "post", "dividers", "in", "legacy", "pll", "algo"]}
{"code_tokens": ["static", "int", "ext4", "_", "quota", "_", "enable", "(", "struct", "super", "_", "block", "*", "sb", ",", "int", "type", ",", "int", "format", "_", "id", ",", "<nl>", "return", "PTR", "_", "ERR", "(", "qf", "_", "inode", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Don", "'", "t", "account", "quota", "for", "quota", "files", "to", "avoid", "recursion", "*", "/", "<nl>", "+", "qf", "_", "inode", "-", ">", "i", "_", "flags", "|", "=", "S", "_", "NOQUOTA", ";", "<nl>", "err", "=", "dquot", "_", "enable", "(", "qf", "_", "inode", ",", "type", ",", "format", "_", "id", ",", "flags", ")", ";", "<nl>", "iput", "(", "qf", "_", "inode", ")", ";", "<nl>"], "docstring_tokens": ["ext4", "fix", "deadlock", "with", "quota", "feature"]}
{"code_tokens": ["int", "main", "(", "void", ")", "<nl>", "pfd", ".", "fd", "=", "fd", ";", "<nl>", "<nl>", "while", "(", "1", ")", "{", "<nl>", "+", "struct", "sockaddr", "*", "addr", "_", "p", "=", "(", "struct", "sockaddr", "*", ")", "&", "addr", ";", "<nl>", "+", "socklen", "_", "t", "addr", "_", "l", "=", "sizeof", "(", "addr", ")", ";", "<nl>", "pfd", ".", "events", "=", "POLLIN", ";", "<nl>", "pfd", ".", "revents", "=", "0", ";", "<nl>", "poll", "(", "&", "pfd", ",", "1", ",", "-", "1", ")", ";", "<nl>", "<nl>", "-", "len", "=", "recv", "(", "fd", ",", "kvp", "_", "recv", "_", "buffer", ",", "sizeof", "(", "kvp", "_", "recv", "_", "buffer", ")", ",", "0", ")", ";", "<nl>", "+", "len", "=", "recvfrom", "(", "fd", ",", "kvp", "_", "recv", "_", "buffer", ",", "sizeof", "(", "kvp", "_", "recv", "_", "buffer", ")", ",", "0", ",", "<nl>", "+", "addr", "_", "p", ",", "&", "addr", "_", "l", ")", ";", "<nl>", "<nl>", "-", "if", "(", "len", "<", "0", ")", "{", "<nl>", "-", "syslog", "(", "LOG", "_", "ERR", ",", "\"", "recv", "failed", ";", "error", ":", "%", "d", "\"", ",", "len", ")", ";", "<nl>", "+", "if", "(", "len", "<", "0", "|", "|", "addr", ".", "nl", "_", "pid", ")", "{", "<nl>", "+", "syslog", "(", "LOG", "_", "ERR", ",", "\"", "recvfrom", "failed", ";", "pid", ":", "%", "u", "error", ":", "%", "d", "%", "s", "\"", ",", "<nl>", "+", "addr", ".", "nl", "_", "pid", ",", "errno", ",", "strerror", "(", "errno", ")", ")", ";", "<nl>", "close", "(", "fd", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Tools", "hv", "verify", "origin", "of", "netlink", "connector", "message"]}
{"code_tokens": ["static", "struct", "sock", "*", "pep", "_", "sock", "_", "accept", "(", "struct", "sock", "*", "sk", ",", "int", "flags", ",", "int", "*", "errp", ",", "<nl>", "<nl>", "err", "=", "pep", "_", "accept", "_", "conn", "(", "newsk", ",", "skb", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "+", "_", "_", "sock", "_", "put", "(", "sk", ")", ";", "<nl>", "sock", "_", "put", "(", "newsk", ")", ";", "<nl>", "newsk", "=", "NULL", ";", "<nl>", "goto", "drop", ";", "<nl>"], "docstring_tokens": ["phonet", "refcount", "leak", "in", "pep_sock_accep"]}
{"code_tokens": ["static", "bool", "intel", "_", "sdvo", "_", "detect", "_", "hdmi", "_", "audio", "(", "struct", "drm", "_", "connector", "*", "connector", ")", "<nl>", "edid", "=", "intel", "_", "sdvo", "_", "get", "_", "edid", "(", "connector", ")", ";", "<nl>", "if", "(", "edid", "!", "=", "NULL", "&", "&", "edid", "-", ">", "input", "&", "DRM", "_", "EDID", "_", "INPUT", "_", "DIGITAL", ")", "<nl>", "has", "_", "audio", "=", "drm", "_", "detect", "_", "monitor", "_", "audio", "(", "edid", ")", ";", "<nl>", "+", "kfree", "(", "edid", ")", ";", "<nl>", "<nl>", "return", "has", "_", "audio", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "fix", "EDID", "memory", "leak", "in", "SDVO"]}
{"code_tokens": ["static", "int", "scsi", "_", "report", "_", "lun", "_", "scan", "(", "struct", "scsi", "_", "target", "*", "starget", ",", "int", "bflags", ",", "<nl>", "out", "_", "err", ":", "<nl>", "kfree", "(", "lun", "_", "data", ")", ";", "<nl>", "out", ":", "<nl>", "-", "scsi", "_", "device", "_", "put", "(", "sdev", ")", ";", "<nl>", "if", "(", "scsi", "_", "device", "_", "created", "(", "sdev", ")", ")", "<nl>", "/", "*", "<nl>", "*", "the", "sdev", "we", "used", "didn", "'", "t", "appear", "in", "the", "report", "luns", "scan", "<nl>", "*", "/", "<nl>", "_", "_", "scsi", "_", "remove", "_", "device", "(", "sdev", ")", ";", "<nl>", "+", "scsi", "_", "device", "_", "put", "(", "sdev", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["scsi", "Fix", "use", "after", "free"]}
{"code_tokens": ["int", "megasas", "_", "alloc", "_", "cmds", "(", "struct", "megasas", "_", "instance", "*", "instance", ")", "<nl>", "if", "(", "megasas", "_", "create", "_", "frame", "_", "pool", "(", "instance", ")", ")", "{", "<nl>", "dev", "_", "printk", "(", "KERN", "_", "DEBUG", ",", "&", "instance", "-", ">", "pdev", "-", ">", "dev", ",", "\"", "Error", "creating", "frame", "DMA", "pool", "\\", "n", "\"", ")", ";", "<nl>", "megasas", "_", "free", "_", "cmds", "(", "instance", ")", ";", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["scsi", "megaraid_sas", "return", "error", "when", "create", "DMA", "pool", "failed"]}
{"code_tokens": ["static", "void", "spin", "(", "struct", "pktgen", "_", "dev", "*", "pkt", "_", "dev", ",", "ktime", "_", "t", "spin", "_", "until", ")", "<nl>", "hrtimer", "_", "set", "_", "expires", "(", "&", "t", ".", "timer", ",", "spin", "_", "until", ")", ";", "<nl>", "<nl>", "remaining", "=", "ktime", "_", "to", "_", "ns", "(", "hrtimer", "_", "expires", "_", "remaining", "(", "&", "t", ".", "timer", ")", ")", ";", "<nl>", "-", "if", "(", "remaining", "<", "=", "0", ")", "{", "<nl>", "-", "pkt", "_", "dev", "-", ">", "next", "_", "tx", "=", "ktime", "_", "add", "_", "ns", "(", "spin", "_", "until", ",", "pkt", "_", "dev", "-", ">", "delay", ")", ";", "<nl>", "-", "return", ";", "<nl>", "-", "}", "<nl>", "+", "if", "(", "remaining", "<", "=", "0", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "<nl>", "start", "_", "time", "=", "ktime", "_", "get", "(", ")", ";", "<nl>", "if", "(", "remaining", "<", "100000", ")", "{", "<nl>", "static", "void", "spin", "(", "struct", "pktgen", "_", "dev", "*", "pkt", "_", "dev", ",", "ktime", "_", "t", "spin", "_", "until", ")", "<nl>", "}", "<nl>", "<nl>", "pkt", "_", "dev", "-", ">", "idle", "_", "acc", "+", "=", "ktime", "_", "to", "_", "ns", "(", "ktime", "_", "sub", "(", "end", "_", "time", ",", "start", "_", "time", ")", ")", ";", "<nl>", "+", "out", ":", "<nl>", "pkt", "_", "dev", "-", ">", "next", "_", "tx", "=", "ktime", "_", "add", "_", "ns", "(", "spin", "_", "until", ",", "pkt", "_", "dev", "-", ">", "delay", ")", ";", "<nl>", "+", "destroy", "_", "hrtimer", "_", "on", "_", "stack", "(", "&", "t", ".", "timer", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "inline", "void", "set", "_", "pkt", "_", "overhead", "(", "struct", "pktgen", "_", "dev", "*", "pkt", "_", "dev", ")", "<nl>"], "docstring_tokens": ["net", "pktgen", "Call", "destroy_hrtimer_on_stack"]}
{"code_tokens": ["static", "int", "ip", "_", "recent", "_", "ctrl", "(", "struct", "file", "*", "file", ",", "const", "char", "_", "_", "user", "*", "input", ",", "unsigned", "<nl>", "curr", "_", "table", "-", ">", "table", "[", "count", "]", ".", "last", "_", "seen", "=", "0", ";", "<nl>", "curr", "_", "table", "-", ">", "table", "[", "count", "]", ".", "addr", "=", "0", ";", "<nl>", "curr", "_", "table", "-", ">", "table", "[", "count", "]", ".", "ttl", "=", "0", ";", "<nl>", "-", "memset", "(", "curr", "_", "table", "-", ">", "table", "[", "count", "]", ".", "last", "_", "pkts", ",", "0", ",", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "sizeof", "(", "u", "_", "int32", "_", "t", ")", ")", ";", "<nl>", "+", "memset", "(", "curr", "_", "table", "-", ">", "table", "[", "count", "]", ".", "last", "_", "pkts", ",", "0", ",", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "sizeof", "(", "unsigned", "long", ")", ")", ";", "<nl>", "curr", "_", "table", "-", ">", "table", "[", "count", "]", ".", "oldest", "_", "pkt", "=", "0", ";", "<nl>", "curr", "_", "table", "-", ">", "table", "[", "count", "]", ".", "time", "_", "pos", "=", "0", ";", "<nl>", "curr", "_", "table", "-", ">", "time", "_", "info", "[", "count", "]", ".", "position", "=", "count", ";", "<nl>", "match", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "location", "=", "time", "_", "info", "[", "curr", "_", "table", "-", ">", "time", "_", "pos", "]", ".", "position", ";", "<nl>", "hash", "_", "table", "[", "r", "_", "list", "[", "location", "]", ".", "hash", "_", "entry", "]", "=", "-", "1", ";", "<nl>", "hash", "_", "table", "[", "hash", "_", "result", "]", "=", "location", ";", "<nl>", "-", "memset", "(", "r", "_", "list", "[", "location", "]", ".", "last", "_", "pkts", ",", "0", ",", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "sizeof", "(", "u", "_", "int32", "_", "t", ")", ")", ";", "<nl>", "+", "memset", "(", "r", "_", "list", "[", "location", "]", ".", "last", "_", "pkts", ",", "0", ",", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "sizeof", "(", "unsigned", "long", ")", ")", ";", "<nl>", "r", "_", "list", "[", "location", "]", ".", "time", "_", "pos", "=", "curr", "_", "table", "-", ">", "time", "_", "pos", ";", "<nl>", "r", "_", "list", "[", "location", "]", ".", "addr", "=", "addr", ";", "<nl>", "r", "_", "list", "[", "location", "]", ".", "ttl", "=", "ttl", ";", "<nl>", "match", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "r", "_", "list", "[", "location", "]", ".", "last", "_", "seen", "=", "0", ";", "<nl>", "r", "_", "list", "[", "location", "]", ".", "addr", "=", "0", ";", "<nl>", "r", "_", "list", "[", "location", "]", ".", "ttl", "=", "0", ";", "<nl>", "-", "memset", "(", "r", "_", "list", "[", "location", "]", ".", "last", "_", "pkts", ",", "0", ",", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "sizeof", "(", "u", "_", "int32", "_", "t", ")", ")", ";", "<nl>", "+", "memset", "(", "r", "_", "list", "[", "location", "]", ".", "last", "_", "pkts", ",", "0", ",", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "sizeof", "(", "unsigned", "long", ")", ")", ";", "<nl>", "r", "_", "list", "[", "location", "]", ".", "oldest", "_", "pkt", "=", "0", ";", "<nl>", "ans", "=", "!", "info", "-", ">", "invert", ";", "<nl>", "}", "<nl>", "checkentry", "(", "const", "char", "*", "tablename", ",", "<nl>", "memset", "(", "curr", "_", "table", "-", ">", "table", ",", "0", ",", "sizeof", "(", "struct", "recent", "_", "ip", "_", "list", ")", "*", "ip", "_", "list", "_", "tot", ")", ";", "<nl>", "#", "ifdef", "DEBUG", "<nl>", "if", "(", "debug", ")", "printk", "(", "KERN", "_", "INFO", "RECENT", "_", "NAME", "\"", ":", "checkentry", ":", "Allocating", "%", "d", "for", "pkt", "_", "list", ".", "\\", "n", "\"", ",", "<nl>", "-", "sizeof", "(", "u", "_", "int32", "_", "t", ")", "*", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "ip", "_", "list", "_", "tot", ")", ";", "<nl>", "+", "sizeof", "(", "unsigned", "long", ")", "*", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "ip", "_", "list", "_", "tot", ")", ";", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "hold", "=", "vmalloc", "(", "sizeof", "(", "u", "_", "int32", "_", "t", ")", "*", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "ip", "_", "list", "_", "tot", ")", ";", "<nl>", "+", "hold", "=", "vmalloc", "(", "sizeof", "(", "unsigned", "long", ")", "*", "ip", "_", "pkt", "_", "list", "_", "tot", "*", "ip", "_", "list", "_", "tot", ")", ";", "<nl>", "#", "ifdef", "DEBUG", "<nl>", "if", "(", "debug", ")", "printk", "(", "KERN", "_", "INFO", "RECENT", "_", "NAME", "\"", ":", "checkentry", ":", "After", "pkt", "_", "list", "allocation", ".", "\\", "n", "\"", ")", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["NETFILTER", "ipt_recent", "last_pkts", "is", "an", "array", "of", "unsigned", "long", "not", "u_int32_t"]}
{"code_tokens": ["struct", "auxtrace", "_", "record", "*", "intel", "_", "bts", "_", "recording", "_", "init", "(", "int", "*", "err", ")", "<nl>", "if", "(", "!", "intel", "_", "bts", "_", "pmu", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "+", "if", "(", "setenv", "(", "\"", "JITDUMP", "_", "USE", "_", "ARCH", "_", "TIMESTAMP", "\"", ",", "\"", "1", "\"", ",", "1", ")", ")", "{", "<nl>", "+", "*", "err", "=", "-", "errno", ";", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "btsr", "=", "zalloc", "(", "sizeof", "(", "struct", "intel", "_", "bts", "_", "recording", ")", ")", ";", "<nl>", "if", "(", "!", "btsr", ")", "{", "<nl>", "*", "err", "=", "-", "ENOMEM", ";", "mmm", "tools", "/", "perf", "/", "arch", "/", "x86", "/", "util", "/", "intel", "-", "pt", ".", "c", "<nl>", "struct", "auxtrace", "_", "record", "*", "intel", "_", "bts", "_", "recording", "_", "init", "(", "int", "*", "err", ")", "<nl>", "if", "(", "!", "intel", "_", "bts", "_", "pmu", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "+", "if", "(", "setenv", "(", "\"", "JITDUMP", "_", "USE", "_", "ARCH", "_", "TIMESTAMP", "\"", ",", "\"", "1", "\"", ",", "1", ")", ")", "{", "<nl>", "+", "*", "err", "=", "-", "errno", ";", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "btsr", "=", "zalloc", "(", "sizeof", "(", "struct", "intel", "_", "bts", "_", "recording", ")", ")", ";", "<nl>", "if", "(", "!", "btsr", ")", "{", "<nl>", "*", "err", "=", "-", "ENOMEM", ";", "<nl>", "struct", "auxtrace", "_", "record", "*", "intel", "_", "pt", "_", "recording", "_", "init", "(", "int", "*", "err", ")", "<nl>", "if", "(", "!", "intel", "_", "pt", "_", "pmu", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "+", "if", "(", "setenv", "(", "\"", "JITDUMP", "_", "USE", "_", "ARCH", "_", "TIMESTAMP", "\"", ",", "\"", "1", "\"", ",", "1", ")", ")", "{", "<nl>", "+", "*", "err", "=", "-", "errno", ";", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "ptr", "=", "zalloc", "(", "sizeof", "(", "struct", "intel", "_", "pt", "_", "recording", ")", ")", ";", "<nl>", "if", "(", "!", "ptr", ")", "{", "<nl>", "*", "err", "=", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["perf", "intel", "pt", "bts", "Define", "JITDUMP_USE_ARCH_TIMESTAMP"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "(", "xfrm", "_", "prepare", "_", "input", ")", ";", "<nl>", "<nl>", "int", "xfrm", "_", "input", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "int", "nexthdr", ",", "_", "_", "be32", "spi", ",", "int", "encap", "_", "type", ")", "<nl>", "{", "<nl>", "+", "struct", "net", "*", "net", "=", "dev", "_", "net", "(", "skb", "-", ">", "dev", ")", ";", "<nl>", "int", "err", ";", "<nl>", "_", "_", "be32", "seq", ";", "<nl>", "struct", "xfrm", "_", "state", "*", "x", ";", "<nl>", "int", "xfrm", "_", "input", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "int", "nexthdr", ",", "_", "_", "be32", "spi", ",", "int", "encap", "_", "type", ")", "<nl>", "goto", "drop", ";", "<nl>", "}", "<nl>", "<nl>", "-", "x", "=", "xfrm", "_", "state", "_", "lookup", "(", "&", "init", "_", "net", ",", "daddr", ",", "spi", ",", "nexthdr", ",", "family", ")", ";", "<nl>", "+", "x", "=", "xfrm", "_", "state", "_", "lookup", "(", "net", ",", "daddr", ",", "spi", ",", "nexthdr", ",", "family", ")", ";", "<nl>", "if", "(", "x", "=", "=", "NULL", ")", "{", "<nl>", "XFRM", "_", "INC", "_", "STATS", "(", "LINUX", "_", "MIB", "_", "XFRMINNOSTATES", ")", ";", "<nl>", "xfrm", "_", "audit", "_", "state", "_", "notfound", "(", "skb", ",", "family", ",", "spi", ",", "seq", ")", ";", "<nl>"], "docstring_tokens": ["netns", "xfrm", "xfrm_input", "fixup"]}
{"code_tokens": ["static", "long", "vbg", "_", "misc", "_", "device", "_", "ioctl", "(", "struct", "file", "*", "filp", ",", "unsigned", "int", "req", ",", "<nl>", "if", "(", "!", "buf", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "-", "if", "(", "copy", "_", "from", "_", "user", "(", "buf", ",", "(", "void", "*", ")", "arg", ",", "hdr", ".", "size", "_", "in", ")", ")", "{", "<nl>", "+", "*", "(", "(", "struct", "vbg", "_", "ioctl", "_", "hdr", "*", ")", "buf", ")", "=", "hdr", ";", "<nl>", "+", "if", "(", "copy", "_", "from", "_", "user", "(", "buf", "+", "sizeof", "(", "hdr", ")", ",", "(", "void", "*", ")", "arg", "+", "sizeof", "(", "hdr", ")", ",", "<nl>", "+", "hdr", ".", "size", "_", "in", "-", "sizeof", "(", "hdr", ")", ")", ")", "{", "<nl>", "ret", "=", "-", "EFAULT", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["virt", "vbox", "Only", "copy_from_user", "the", "request", "header", "once"]}
{"code_tokens": ["static", "int", "br", "_", "multicast", "_", "ipv4", "_", "rcv", "(", "struct", "net", "_", "bridge", "*", "br", ",", "<nl>", "if", "(", "unlikely", "(", "ip", "_", "fast", "_", "csum", "(", "(", "u8", "*", ")", "iph", ",", "iph", "-", ">", "ihl", ")", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "-", "if", "(", "iph", "-", ">", "protocol", "!", "=", "IPPROTO", "_", "IGMP", ")", "<nl>", "+", "if", "(", "iph", "-", ">", "protocol", "!", "=", "IPPROTO", "_", "IGMP", ")", "{", "<nl>", "+", "if", "(", "(", "iph", "-", ">", "daddr", "&", "IGMP", "_", "LOCAL", "_", "GROUP", "_", "MASK", ")", "!", "=", "IGMP", "_", "LOCAL", "_", "GROUP", ")", "<nl>", "+", "BR", "_", "INPUT", "_", "SKB", "_", "CB", "(", "skb", ")", "-", ">", "mrouters", "_", "only", "=", "1", ";", "<nl>", "return", "0", ";", "<nl>", "+", "}", "<nl>", "<nl>", "len", "=", "ntohs", "(", "iph", "-", ">", "tot", "_", "len", ")", ";", "<nl>", "if", "(", "skb", "-", ">", "len", "<", "len", "|", "|", "len", "<", "ip", "_", "hdrlen", "(", "skb", ")", ")", "<nl>"], "docstring_tokens": ["bridge", "Only", "flood", "unregistered", "groups", "to", "routers"]}
{"code_tokens": ["wl12xx", "_", "scan", "_", "sched", "_", "scan", "_", "ssid", "_", "list", "(", "struct", "wl1271", "*", "wl", ",", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "while", "(", "(", "cmd", "-", ">", "n", "_", "ssids", "<", "req", "-", ">", "n", "_", "ssids", ")", "&", "&", "ssid", ")", "{", "<nl>", "-", "if", "(", "ssid", "-", ">", "ssid", "_", "len", "=", "=", "0", ")", "<nl>", "+", "if", "(", "ssid", "-", ">", "ssid", "_", "len", "=", "=", "0", ")", "{", "<nl>", "wildcard", "=", "1", ";", "<nl>", "-", "cmd", "-", ">", "ssids", "[", "cmd", "-", ">", "n", "_", "ssids", "]", ".", "type", "=", "SCAN", "_", "SSID", "_", "TYPE", "_", "HIDDEN", ";", "<nl>", "+", "cmd", "-", ">", "ssids", "[", "cmd", "-", ">", "n", "_", "ssids", "]", ".", "type", "=", "SCAN", "_", "SSID", "_", "TYPE", "_", "PUBLIC", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "cmd", "-", ">", "ssids", "[", "cmd", "-", ">", "n", "_", "ssids", "]", ".", "type", "=", "SCAN", "_", "SSID", "_", "TYPE", "_", "HIDDEN", ";", "<nl>", "+", "}", "<nl>", "cmd", "-", ">", "ssids", "[", "cmd", "-", ">", "n", "_", "ssids", "]", ".", "len", "=", "ssid", "-", ">", "ssid", "_", "len", ";", "<nl>", "memcpy", "(", "cmd", "-", ">", "ssids", "[", "cmd", "-", ">", "n", "_", "ssids", "]", ".", "ssid", ",", "ssid", "-", ">", "ssid", ",", "<nl>", "ssid", "-", ">", "ssid", "_", "len", ")", ";", "<nl>"], "docstring_tokens": ["wl12xx", "use", "SCAN_SSID_TYPE_PUBLIC", "when", "using", "the", "wildcard", "in", "sched_scan"]}
{"code_tokens": ["static", "int", "fn", "_", "hash", "_", "insert", "(", "struct", "fib", "_", "table", "*", "tb", ",", "struct", "fib", "_", "config", "*", "cfg", ")", "<nl>", "struct", "fib", "_", "info", "*", "fi", "_", "drop", ";", "<nl>", "u8", "state", ";", "<nl>", "<nl>", "+", "if", "(", "fi", "-", ">", "fib", "_", "treeref", ">", "1", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "<nl>", "write", "_", "lock", "_", "bh", "(", "&", "fib", "_", "hash", "_", "lock", ")", ";", "<nl>", "fi", "_", "drop", "=", "fa", "-", ">", "fa", "_", "info", ";", "<nl>", "fa", "-", ">", "fa", "_", "info", "=", "fi", ";", "<nl>"], "docstring_tokens": ["IPV4", "fib_hash", "fix", "duplicated", "route", "issue"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "(", "vprintk", "_", "emit", ")", ";", "<nl>", "<nl>", "asmlinkage", "int", "vprintk", "(", "const", "char", "*", "fmt", ",", "va", "_", "list", "args", ")", "<nl>", "{", "<nl>", "-", "return", "vprintk", "_", "emit", "(", "0", ",", "LOGLEVEL", "_", "DEFAULT", ",", "NULL", ",", "0", ",", "fmt", ",", "args", ")", ";", "<nl>", "+", "return", "vprintk", "_", "func", "(", "fmt", ",", "args", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "vprintk", ")", ";", "<nl>"], "docstring_tokens": ["printk", "use", "vprintk_func", "in", "vprintk"]}
{"code_tokens": ["int", "drm", "_", "gem", "_", "prime", "_", "fd", "_", "to", "_", "handle", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "get", "_", "dma", "_", "buf", "(", "dma", "_", "buf", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "drm", "_", "gem", "_", "handle", "_", "create", "_", "tail", "unlocks", "dev", "-", ">", "object", "_", "name", "_", "lock", ".", "*", "/", "<nl>", "+", "/", "*", "_", "handle", "_", "create", "_", "tail", "unconditionally", "unlocks", "dev", "-", ">", "object", "_", "name", "_", "lock", ".", "*", "/", "<nl>", "ret", "=", "drm", "_", "gem", "_", "handle", "_", "create", "_", "tail", "(", "file", "_", "priv", ",", "obj", ",", "handle", ")", ";", "<nl>", "drm", "_", "gem", "_", "object", "_", "unreference", "_", "unlocked", "(", "obj", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "int", "drm", "_", "gem", "_", "prime", "_", "fd", "_", "to", "_", "handle", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "<nl>", "ret", "=", "drm", "_", "prime", "_", "add", "_", "buf", "_", "handle", "(", "&", "file", "_", "priv", "-", ">", "prime", ",", "<nl>", "dma", "_", "buf", ",", "*", "handle", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "file", "_", "priv", "-", ">", "prime", ".", "lock", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "goto", "fail", ";", "<nl>", "<nl>", "-", "mutex", "_", "unlock", "(", "&", "file", "_", "priv", "-", ">", "prime", ".", "lock", ")", ";", "<nl>", "-", "<nl>", "dma", "_", "buf", "_", "put", "(", "dma", "_", "buf", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "int", "drm", "_", "gem", "_", "prime", "_", "fd", "_", "to", "_", "handle", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "*", "to", "detach", ".", ".", "which", "seems", "ok", ".", ".", "<nl>", "*", "/", "<nl>", "drm", "_", "gem", "_", "handle", "_", "delete", "(", "file", "_", "priv", ",", "*", "handle", ")", ";", "<nl>", "+", "dma", "_", "buf", "_", "put", "(", "dma", "_", "buf", ")", ";", "<nl>", "+", "return", "ret", ";", "<nl>", "+", "<nl>", "out", "_", "unlock", ":", "<nl>", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "object", "_", "name", "_", "lock", ")", ";", "<nl>", "out", "_", "put", ":", "<nl>", "-", "dma", "_", "buf", "_", "put", "(", "dma", "_", "buf", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "file", "_", "priv", "-", ">", "prime", ".", "lock", ")", ";", "<nl>", "+", "dma", "_", "buf", "_", "put", "(", "dma", "_", "buf", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "drm", "_", "gem", "_", "prime", "_", "fd", "_", "to", "_", "handle", ")", ";", "<nl>"], "docstring_tokens": ["drm", "prime", "fix", "error", "path", "deadlock", "fail"]}
{"code_tokens": ["static", "int", "usb", "_", "parse", "_", "configuration", "(", "struct", "usb", "_", "device", "*", "dev", ",", "int", "cfgidx", ",", "<nl>", "<nl>", "}", "else", "if", "(", "header", "-", ">", "bDescriptorType", "=", "=", "<nl>", "USB", "_", "DT", "_", "INTERFACE", "_", "ASSOCIATION", ")", "{", "<nl>", "+", "struct", "usb", "_", "interface", "_", "assoc", "_", "descriptor", "*", "d", ";", "<nl>", "+", "<nl>", "+", "d", "=", "(", "struct", "usb", "_", "interface", "_", "assoc", "_", "descriptor", "*", ")", "header", ";", "<nl>", "+", "if", "(", "d", "-", ">", "bLength", "<", "USB", "_", "DT", "_", "INTERFACE", "_", "ASSOCIATION", "_", "SIZE", ")", "{", "<nl>", "+", "dev", "_", "warn", "(", "ddev", ",", "<nl>", "+", "\"", "config", "%", "d", "has", "an", "invalid", "interface", "association", "descriptor", "of", "length", "%", "d", ",", "skipping", "\\", "n", "\"", ",", "<nl>", "+", "cfgno", ",", "d", "-", ">", "bLength", ")", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "iad", "_", "num", "=", "=", "USB", "_", "MAXIADS", ")", "{", "<nl>", "dev", "_", "warn", "(", "ddev", ",", "\"", "found", "more", "Interface", "\"", "<nl>", "\"", "Association", "Descriptors", "\"", "<nl>", "\"", "than", "allocated", "for", "in", "\"", "<nl>", "\"", "configuration", "%", "d", "\\", "n", "\"", ",", "cfgno", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "config", "-", ">", "intf", "_", "assoc", "[", "iad", "_", "num", "]", "=", "<nl>", "-", "(", "struct", "usb", "_", "interface", "_", "assoc", "_", "descriptor", "<nl>", "-", "*", ")", "header", ";", "<nl>", "+", "config", "-", ">", "intf", "_", "assoc", "[", "iad", "_", "num", "]", "=", "d", ";", "<nl>", "iad", "_", "num", "+", "+", ";", "<nl>", "}", "<nl>", "static", "int", "usb", "_", "parse", "_", "configuration", "(", "struct", "usb", "_", "device", "*", "dev", ",", "int", "cfgidx", ",", "<nl>", "<nl>", "}", "else", "if", "(", "header", "-", ">", "bDescriptorType", "=", "=", "<nl>", "USB", "_", "DT", "_", "INTERFACE", "_", "ASSOCIATION", ")", "{", "<nl>", "+", "struct", "usb", "_", "interface", "_", "assoc", "_", "descriptor", "*", "d", ";", "<nl>", "+", "<nl>", "+", "d", "=", "(", "struct", "usb", "_", "interface", "_", "assoc", "_", "descriptor", "*", ")", "header", ";", "<nl>", "+", "if", "(", "d", "-", ">", "bLength", "<", "USB", "_", "DT", "_", "INTERFACE", "_", "ASSOCIATION", "_", "SIZE", ")", "{", "<nl>", "+", "dev", "_", "warn", "(", "ddev", ",", "<nl>", "+", "\"", "config", "%", "d", "has", "an", "invalid", "interface", "association", "descriptor", "of", "length", "%", "d", ",", "skipping", "\\", "n", "\"", ",", "<nl>", "+", "cfgno", ",", "d", "-", ">", "bLength", ")", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "iad", "_", "num", "=", "=", "USB", "_", "MAXIADS", ")", "{", "<nl>", "dev", "_", "warn", "(", "ddev", ",", "\"", "found", "more", "Interface", "\"", "<nl>", "\"", "Association", "Descriptors", "\"", "<nl>", "\"", "than", "allocated", "for", "in", "\"", "<nl>", "\"", "configuration", "%", "d", "\\", "n", "\"", ",", "cfgno", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "config", "-", ">", "intf", "_", "assoc", "[", "iad", "_", "num", "]", "=", "<nl>", "-", "(", "struct", "usb", "_", "interface", "_", "assoc", "_", "descriptor", "<nl>", "-", "*", ")", "header", ";", "<nl>", "+", "config", "-", ">", "intf", "_", "assoc", "[", "iad", "_", "num", "]", "=", "d", ";", "<nl>", "iad", "_", "num", "+", "+", ";", "<nl>", "}", "<nl>", "<nl>", "struct", "usb", "_", "interface", "_", "assoc", "_", "descriptor", "{", "<nl>", "_", "_", "u8", "iFunction", ";", "<nl>", "}", "_", "_", "attribute", "_", "_", "(", "(", "packed", ")", ")", ";", "<nl>", "<nl>", "+", "#", "define", "USB", "_", "DT", "_", "INTERFACE", "_", "ASSOCIATION", "_", "SIZE", "8", "<nl>", "<nl>", "/", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "*", "/", "<nl>"], "docstring_tokens": ["USB", "fix", "out", "of", "bounds", "in", "usb_set_configuration"]}
{"code_tokens": ["nfs", "_", "access", "_", "calc", "_", "mask", "(", "u32", "access", "_", "result", ")", "<nl>", "<nl>", "void", "nfs", "_", "access", "_", "set", "_", "mask", "(", "struct", "nfs", "_", "access", "_", "entry", "*", "entry", ",", "u32", "access", "_", "result", ")", "<nl>", "{", "<nl>", "-", "entry", "-", ">", "mask", "=", "nfs", "_", "access", "_", "calc", "_", "mask", "(", "access", "_", "result", ")", ";", "<nl>", "+", "entry", "-", ">", "mask", "=", "access", "_", "result", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "nfs", "_", "access", "_", "set", "_", "mask", ")", ";", "<nl>", "<nl>", "static", "int", "nfs", "_", "do", "_", "access", "(", "struct", "inode", "*", "inode", ",", "struct", "rpc", "_", "cred", "*", "cred", ",", "int", "mask", ")", "<nl>", "{", "<nl>", "struct", "nfs", "_", "access", "_", "entry", "cache", ";", "<nl>", "bool", "may", "_", "block", "=", "(", "mask", "&", "MAY", "_", "NOT", "_", "BLOCK", ")", "=", "=", "0", ";", "<nl>", "+", "int", "cache", "_", "mask", ";", "<nl>", "int", "status", ";", "<nl>", "<nl>", "trace", "_", "nfs", "_", "access", "_", "enter", "(", "inode", ")", ";", "<nl>", "static", "int", "nfs", "_", "do", "_", "access", "(", "struct", "inode", "*", "inode", ",", "struct", "rpc", "_", "cred", "*", "cred", ",", "int", "mask", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "/", "*", "Be", "clever", ":", "ask", "server", "to", "check", "for", "all", "possible", "rights", "*", "/", "<nl>", "-", "cache", ".", "mask", "=", "MAY", "_", "EXEC", "|", "MAY", "_", "WRITE", "|", "MAY", "_", "READ", ";", "<nl>", "+", "cache", ".", "mask", "=", "NFS", "_", "MAY", "_", "LOOKUP", "|", "NFS", "_", "MAY", "_", "EXECUTE", "<nl>", "+", "|", "NFS", "_", "MAY", "_", "WRITE", "|", "NFS", "_", "MAY", "_", "READ", ";", "<nl>", "cache", ".", "cred", "=", "cred", ";", "<nl>", "cache", ".", "jiffies", "=", "jiffies", ";", "<nl>", "status", "=", "NFS", "_", "PROTO", "(", "inode", ")", "-", ">", "access", "(", "inode", ",", "&", "cache", ")", ";", "<nl>", "static", "int", "nfs", "_", "do", "_", "access", "(", "struct", "inode", "*", "inode", ",", "struct", "rpc", "_", "cred", "*", "cred", ",", "int", "mask", ")", "<nl>", "}", "<nl>", "nfs", "_", "access", "_", "add", "_", "cache", "(", "inode", ",", "&", "cache", ")", ";", "<nl>", "out", "_", "cached", ":", "<nl>", "-", "if", "(", "(", "mask", "&", "~", "cache", ".", "mask", "&", "(", "MAY", "_", "READ", "|", "MAY", "_", "WRITE", "|", "MAY", "_", "EXEC", ")", ")", "!", "=", "0", ")", "<nl>", "+", "cache", "_", "mask", "=", "nfs", "_", "access", "_", "calc", "_", "mask", "(", "cache", ".", "mask", ")", ";", "<nl>", "+", "if", "(", "(", "mask", "&", "~", "cache", "_", "mask", "&", "(", "MAY", "_", "READ", "|", "MAY", "_", "WRITE", "|", "MAY", "_", "EXEC", ")", ")", "!", "=", "0", ")", "<nl>", "status", "=", "-", "EACCES", ";", "<nl>", "out", ":", "<nl>", "trace", "_", "nfs", "_", "access", "_", "exit", "(", "inode", ",", "status", ")", ";", "mmm", "include", "/", "linux", "/", "nfs", "_", "fs", ".", "h", "<nl>", "nfs", "_", "access", "_", "calc", "_", "mask", "(", "u32", "access", "_", "result", ")", "<nl>", "<nl>", "void", "nfs", "_", "access", "_", "set", "_", "mask", "(", "struct", "nfs", "_", "access", "_", "entry", "*", "entry", ",", "u32", "access", "_", "result", ")", "<nl>", "{", "<nl>", "-", "entry", "-", ">", "mask", "=", "nfs", "_", "access", "_", "calc", "_", "mask", "(", "access", "_", "result", ")", ";", "<nl>", "+", "entry", "-", ">", "mask", "=", "access", "_", "result", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "nfs", "_", "access", "_", "set", "_", "mask", ")", ";", "<nl>", "<nl>", "static", "int", "nfs", "_", "do", "_", "access", "(", "struct", "inode", "*", "inode", ",", "struct", "rpc", "_", "cred", "*", "cred", ",", "int", "mask", ")", "<nl>", "{", "<nl>", "struct", "nfs", "_", "access", "_", "entry", "cache", ";", "<nl>", "bool", "may", "_", "block", "=", "(", "mask", "&", "MAY", "_", "NOT", "_", "BLOCK", ")", "=", "=", "0", ";", "<nl>", "+", "int", "cache", "_", "mask", ";", "<nl>", "int", "status", ";", "<nl>", "<nl>", "trace", "_", "nfs", "_", "access", "_", "enter", "(", "inode", ")", ";", "<nl>", "static", "int", "nfs", "_", "do", "_", "access", "(", "struct", "inode", "*", "inode", ",", "struct", "rpc", "_", "cred", "*", "cred", ",", "int", "mask", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "/", "*", "Be", "clever", ":", "ask", "server", "to", "check", "for", "all", "possible", "rights", "*", "/", "<nl>", "-", "cache", ".", "mask", "=", "MAY", "_", "EXEC", "|", "MAY", "_", "WRITE", "|", "MAY", "_", "READ", ";", "<nl>", "+", "cache", ".", "mask", "=", "NFS", "_", "MAY", "_", "LOOKUP", "|", "NFS", "_", "MAY", "_", "EXECUTE", "<nl>", "+", "|", "NFS", "_", "MAY", "_", "WRITE", "|", "NFS", "_", "MAY", "_", "READ", ";", "<nl>", "cache", ".", "cred", "=", "cred", ";", "<nl>", "cache", ".", "jiffies", "=", "jiffies", ";", "<nl>", "status", "=", "NFS", "_", "PROTO", "(", "inode", ")", "-", ">", "access", "(", "inode", ",", "&", "cache", ")", ";", "<nl>", "static", "int", "nfs", "_", "do", "_", "access", "(", "struct", "inode", "*", "inode", ",", "struct", "rpc", "_", "cred", "*", "cred", ",", "int", "mask", ")", "<nl>", "}", "<nl>", "nfs", "_", "access", "_", "add", "_", "cache", "(", "inode", ",", "&", "cache", ")", ";", "<nl>", "out", "_", "cached", ":", "<nl>", "-", "if", "(", "(", "mask", "&", "~", "cache", ".", "mask", "&", "(", "MAY", "_", "READ", "|", "MAY", "_", "WRITE", "|", "MAY", "_", "EXEC", ")", ")", "!", "=", "0", ")", "<nl>", "+", "cache", "_", "mask", "=", "nfs", "_", "access", "_", "calc", "_", "mask", "(", "cache", ".", "mask", ")", ";", "<nl>", "+", "if", "(", "(", "mask", "&", "~", "cache", "_", "mask", "&", "(", "MAY", "_", "READ", "|", "MAY", "_", "WRITE", "|", "MAY", "_", "EXEC", ")", ")", "!", "=", "0", ")", "<nl>", "status", "=", "-", "EACCES", ";", "<nl>", "out", ":", "<nl>", "trace", "_", "nfs", "_", "access", "_", "exit", "(", "inode", ",", "status", ")", ";", "<nl>", "struct", "nfs", "_", "access", "_", "entry", "{", "<nl>", "struct", "list", "_", "head", "lru", ";", "<nl>", "unsigned", "long", "jiffies", ";", "<nl>", "struct", "rpc", "_", "cred", "*", "cred", ";", "<nl>", "-", "int", "mask", ";", "<nl>", "+", "_", "_", "u32", "mask", ";", "<nl>", "struct", "rcu", "_", "head", "rcu", "_", "head", ";", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["NFS", "Store", "the", "raw", "NFS", "access", "mask", "in", "the", "inode", "s", "access", "cache"]}
{"code_tokens": ["void", "vb2", "_", "put", "_", "vma", "(", "struct", "vm", "_", "area", "_", "struct", "*", "vma", ")", "<nl>", "<nl>", "kfree", "(", "vma", ")", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "vb2", "_", "put", "_", "vma", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "vb2", "_", "get", "_", "contig", "_", "userptr", "(", ")", "-", "lock", "physically", "contiguous", "userspace", "mapped", "memory", "<nl>", "int", "vb2", "_", "get", "_", "contig", "_", "userptr", "(", "unsigned", "long", "vaddr", ",", "unsigned", "long", "size", ",", "<nl>", "up", "_", "read", "(", "&", "mm", "-", ">", "mmap", "_", "sem", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "vb2", "_", "get", "_", "contig", "_", "userptr", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "vb2", "_", "mmap", "_", "pfn", "_", "range", "(", ")", "-", "map", "physical", "pages", "to", "userspace", "<nl>", "int", "vb2", "_", "mmap", "_", "pfn", "_", "range", "(", "struct", "vm", "_", "area", "_", "struct", "*", "vma", ",", "unsigned", "long", "paddr", ",", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "vb2", "_", "mmap", "_", "pfn", "_", "range", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "vb2", "_", "common", "_", "vm", "_", "open", "(", ")", "-", "increase", "refcount", "of", "the", "vma", "<nl>"], "docstring_tokens": ["media", "V4L", "add", "missing", "EXPORT_SYMBOL", "statements", "to", "vb2"]}
{"code_tokens": ["void", "rt2x00ht", "_", "create", "_", "tx", "_", "descriptor", "(", "struct", "queue", "_", "entry", "*", "entry", ",", "<nl>", "txdesc", "-", ">", "mpdu", "_", "density", "=", "0", ";", "<nl>", "<nl>", "txdesc", "-", ">", "ba", "_", "size", "=", "7", ";", "/", "*", "FIXME", ":", "What", "value", "is", "needed", "?", "*", "/", "<nl>", "-", "txdesc", "-", ">", "stbc", "=", "0", ";", "/", "*", "FIXME", ":", "What", "value", "is", "needed", "?", "*", "/", "<nl>", "+", "<nl>", "+", "txdesc", "-", ">", "stbc", "=", "<nl>", "+", "(", "tx", "_", "info", "-", ">", "flags", "&", "IEEE80211", "_", "TX", "_", "CTL", "_", "STBC", ")", ">", ">", "IEEE80211", "_", "TX", "_", "CTL", "_", "STBC", "_", "SHIFT", ";", "<nl>", "<nl>", "txdesc", "-", ">", "mcs", "=", "rt2x00", "_", "get", "_", "rate", "_", "mcs", "(", "hwrate", "-", ">", "mcs", ")", ";", "<nl>", "if", "(", "txrate", "-", ">", "flags", "&", "IEEE80211", "_", "TX", "_", "RC", "_", "USE", "_", "SHORT", "_", "PREAMBLE", ")", "<nl>"], "docstring_tokens": ["rt2x00", "Use", "IEEE80211_TX_CTL_STBC", "flag"]}
{"code_tokens": ["static", "int", "translate", "_", "desc", "(", "struct", "vhost", "_", "dev", "*", "dev", ",", "u64", "addr", ",", "u32", "len", ",", "<nl>", "}", "<nl>", "_", "iov", "=", "iov", "+", "ret", ";", "<nl>", "size", "=", "reg", "-", ">", "memory", "_", "size", "-", "addr", "+", "reg", "-", ">", "guest", "_", "phys", "_", "addr", ";", "<nl>", "-", "_", "iov", "-", ">", "iov", "_", "len", "=", "min", "(", "(", "u64", ")", "len", ",", "size", ")", ";", "<nl>", "+", "_", "iov", "-", ">", "iov", "_", "len", "=", "min", "(", "(", "u64", ")", "len", "-", "s", ",", "size", ")", ";", "<nl>", "_", "iov", "-", ">", "iov", "_", "base", "=", "(", "void", "_", "_", "user", "*", ")", "(", "unsigned", "long", ")", "<nl>", "(", "reg", "-", ">", "userspace", "_", "addr", "+", "addr", "-", "reg", "-", ">", "guest", "_", "phys", "_", "addr", ")", ";", "<nl>", "s", "+", "=", "size", ";", "<nl>"], "docstring_tokens": ["vhost", "fix", "length", "for", "cross", "region", "descriptor"]}
{"code_tokens": ["static", "struct", "console", "usbcons", "=", "{", "<nl>", "<nl>", "void", "usb", "_", "serial", "_", "console", "_", "disconnect", "(", "struct", "usb", "_", "serial", "*", "serial", ")", "<nl>", "{", "<nl>", "-", "if", "(", "serial", "-", ">", "port", "[", "0", "]", "=", "=", "usbcons", "_", "info", ".", "port", ")", "{", "<nl>", "+", "if", "(", "serial", "-", ">", "port", "[", "0", "]", "&", "&", "serial", "-", ">", "port", "[", "0", "]", "=", "=", "usbcons", "_", "info", ".", "port", ")", "{", "<nl>", "usb", "_", "serial", "_", "console", "_", "exit", "(", ")", ";", "<nl>", "usb", "_", "serial", "_", "put", "(", "serial", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["USB", "serial", "console", "fix", "use", "after", "free", "on", "disconnect"]}
{"code_tokens": ["nouveau", "_", "framebuffer", "_", "init", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "nvbo", "-", ">", "tile", "_", "flags", "&", "NOUVEAU", "_", "GEM", "_", "TILE", "_", "NONCONTIG", ")", "{", "<nl>", "+", "NV", "_", "ERROR", "(", "drm", ",", "\"", "framebuffer", "requires", "contiguous", "bo", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "nv", "_", "device", "(", "drm", "-", ">", "device", ")", "-", ">", "chipset", "=", "=", "0x50", ")", "<nl>", "nv", "_", "fb", "-", ">", "r", "_", "format", "|", "=", "(", "tile", "_", "flags", "<", "<", "8", ")", ";", "<nl>"], "docstring_tokens": ["drm", "nouveau", "require", "contiguous", "bo", "for", "framebuffer"]}
{"code_tokens": ["struct", "atmel", "_", "mci", "{", "<nl>", "void", "_", "_", "iomem", "*", "regs", ";", "<nl>", "<nl>", "struct", "scatterlist", "*", "sg", ";", "<nl>", "+", "unsigned", "int", "sg", "_", "len", ";", "<nl>", "unsigned", "int", "pio", "_", "offset", ";", "<nl>", "unsigned", "int", "*", "buffer", ";", "<nl>", "unsigned", "int", "buf", "_", "size", ";", "<nl>", "static", "u32", "atmci", "_", "prepare", "_", "data", "(", "struct", "atmel", "_", "mci", "*", "host", ",", "struct", "mmc", "_", "data", "*", "data", ")", "<nl>", "data", "-", ">", "error", "=", "-", "EINPROGRESS", ";", "<nl>", "<nl>", "host", "-", ">", "sg", "=", "data", "-", ">", "sg", ";", "<nl>", "+", "host", "-", ">", "sg", "_", "len", "=", "data", "-", ">", "sg", "_", "len", ";", "<nl>", "host", "-", ">", "data", "=", "data", ";", "<nl>", "host", "-", ">", "data", "_", "chan", "=", "NULL", ";", "<nl>", "<nl>", "static", "void", "atmci", "_", "read", "_", "data", "_", "pio", "(", "struct", "atmel", "_", "mci", "*", "host", ")", "<nl>", "if", "(", "offset", "=", "=", "sg", "-", ">", "length", ")", "{", "<nl>", "flush", "_", "dcache", "_", "page", "(", "sg", "_", "page", "(", "sg", ")", ")", ";", "<nl>", "host", "-", ">", "sg", "=", "sg", "=", "sg", "_", "next", "(", "sg", ")", ";", "<nl>", "-", "if", "(", "!", "sg", ")", "<nl>", "+", "host", "-", ">", "sg", "_", "len", "-", "-", ";", "<nl>", "+", "if", "(", "!", "sg", "|", "|", "!", "host", "-", ">", "sg", "_", "len", ")", "<nl>", "goto", "done", ";", "<nl>", "<nl>", "offset", "=", "0", ";", "<nl>", "static", "void", "atmci", "_", "read", "_", "data", "_", "pio", "(", "struct", "atmel", "_", "mci", "*", "host", ")", "<nl>", "<nl>", "flush", "_", "dcache", "_", "page", "(", "sg", "_", "page", "(", "sg", ")", ")", ";", "<nl>", "host", "-", ">", "sg", "=", "sg", "=", "sg", "_", "next", "(", "sg", ")", ";", "<nl>", "-", "if", "(", "!", "sg", ")", "<nl>", "+", "host", "-", ">", "sg", "_", "len", "-", "-", ";", "<nl>", "+", "if", "(", "!", "sg", "|", "|", "!", "host", "-", ">", "sg", "_", "len", ")", "<nl>", "goto", "done", ";", "<nl>", "<nl>", "offset", "=", "4", "-", "remaining", ";", "<nl>", "static", "void", "atmci", "_", "write", "_", "data", "_", "pio", "(", "struct", "atmel", "_", "mci", "*", "host", ")", "<nl>", "nbytes", "+", "=", "4", ";", "<nl>", "if", "(", "offset", "=", "=", "sg", "-", ">", "length", ")", "{", "<nl>", "host", "-", ">", "sg", "=", "sg", "=", "sg", "_", "next", "(", "sg", ")", ";", "<nl>", "-", "if", "(", "!", "sg", ")", "<nl>", "+", "host", "-", ">", "sg", "_", "len", "-", "-", ";", "<nl>", "+", "if", "(", "!", "sg", "|", "|", "!", "host", "-", ">", "sg", "_", "len", ")", "<nl>", "goto", "done", ";", "<nl>", "<nl>", "offset", "=", "0", ";", "<nl>", "static", "void", "atmci", "_", "write", "_", "data", "_", "pio", "(", "struct", "atmel", "_", "mci", "*", "host", ")", "<nl>", "nbytes", "+", "=", "remaining", ";", "<nl>", "<nl>", "host", "-", ">", "sg", "=", "sg", "=", "sg", "_", "next", "(", "sg", ")", ";", "<nl>", "-", "if", "(", "!", "sg", ")", "{", "<nl>", "+", "host", "-", ">", "sg", "_", "len", "-", "-", ";", "<nl>", "+", "if", "(", "!", "sg", "|", "|", "!", "host", "-", ">", "sg", "_", "len", ")", "{", "<nl>", "atmci", "_", "writel", "(", "host", ",", "ATMCI", "_", "TDR", ",", "value", ")", ";", "<nl>", "goto", "done", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mmc", "atmel", "mci", "pio", "hang", "on", "block", "errors"]}
{"code_tokens": ["static", "bool", "can", "_", "aggregate", "_", "with", "(", "struct", "batman", "_", "packet", "*", "new", "_", "batman", "_", "packet", ",", "<nl>", "*", "interface", "only", "-", "we", "still", "can", "aggregate", "*", "/", "<nl>", "if", "(", "(", "directlink", ")", "&", "&", "<nl>", "(", "new", "_", "batman", "_", "packet", "-", ">", "ttl", "=", "=", "1", ")", "&", "&", "<nl>", "-", "(", "forw", "_", "packet", "-", ">", "if", "_", "incoming", "=", "=", "if", "_", "incoming", ")", ")", "<nl>", "+", "(", "forw", "_", "packet", "-", ">", "if", "_", "incoming", "=", "=", "if", "_", "incoming", ")", "&", "&", "<nl>", "+", "<nl>", "+", "/", "*", "packets", "from", "direct", "neighbors", "or", "<nl>", "+", "*", "own", "secondary", "interface", "packets", "<nl>", "+", "*", "(", "=", "secondary", "interface", "packets", "in", "general", ")", "*", "/", "<nl>", "+", "(", "batman", "_", "packet", "-", ">", "flags", "&", "DIRECTLINK", "|", "|", "<nl>", "+", "(", "forw", "_", "packet", "-", ">", "own", "&", "&", "<nl>", "+", "forw", "_", "packet", "-", ">", "if", "_", "incoming", "-", ">", "if", "_", "num", "!", "=", "0", ")", ")", ")", "<nl>", "return", "true", ";", "<nl>", "-", "<nl>", "}", "<nl>", "<nl>", "return", "false", ";", "<nl>", "void", "add", "_", "bat", "_", "packet", "_", "to", "_", "list", "(", "unsigned", "char", "*", "packet", "_", "buff", ",", "int", "packet", "_", "len", ",", "<nl>", "*", "later", "on", "<nl>", "*", "/", "<nl>", "if", "(", "(", "!", "own", "_", "packet", ")", "&", "&", "<nl>", "-", "(", "atomic", "_", "read", "(", "&", "bat", "_", "priv", "-", ">", "aggregation", "_", "enabled", ")", ")", ")", "<nl>", "+", "(", "atomic", "_", "read", "(", "&", "aggregation", "_", "enabled", ")", ")", ")", "<nl>", "send", "_", "time", "+", "=", "msecs", "_", "to", "_", "jiffies", "(", "MAX", "_", "AGGREGATION", "_", "MS", ")", ";", "<nl>", "<nl>", "new", "_", "aggregated", "_", "packet", "(", "packet", "_", "buff", ",", "packet", "_", "len", ",", "<nl>"], "docstring_tokens": ["Staging", "batman", "adv", "Fix", "aggregation", "direct", "link", "bug"]}
{"code_tokens": ["static", "int", "uas", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "intf", ",", "const", "struct", "usb", "_", "device", "_", "id", "*", "id", ")", "<nl>", "<nl>", "shost", "-", ">", "max", "_", "cmd", "_", "len", "=", "16", "+", "252", ";", "<nl>", "shost", "-", ">", "max", "_", "id", "=", "1", ";", "<nl>", "+", "shost", "-", ">", "max", "_", "lun", "=", "256", ";", "<nl>", "+", "shost", "-", ">", "max", "_", "channel", "=", "0", ";", "<nl>", "shost", "-", ">", "sg", "_", "tablesize", "=", "udev", "-", ">", "bus", "-", ">", "sg", "_", "tablesize", ";", "<nl>", "<nl>", "devinfo", "-", ">", "intf", "=", "intf", ";", "<nl>"], "docstring_tokens": ["usb", "uas", "set", "max_lun", "and", "max_channel"]}
{"code_tokens": ["void", "pnfs", "_", "error", "_", "mark", "_", "layout", "_", "for", "_", "return", "(", "struct", "inode", "*", "inode", ",", "<nl>", "bool", "return", "_", "now", "=", "false", ";", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "inode", "-", ">", "i", "_", "lock", ")", ";", "<nl>", "+", "if", "(", "!", "pnfs", "_", "layout", "_", "is", "_", "valid", "(", "lo", ")", ")", "{", "<nl>", "+", "spin", "_", "unlock", "(", "&", "inode", "-", ">", "i", "_", "lock", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "pnfs", "_", "set", "_", "plh", "_", "return", "_", "info", "(", "lo", ",", "range", ".", "iomode", ",", "0", ")", ";", "<nl>", "/", "*", "Block", "LAYOUTGET", "*", "/", "<nl>", "set", "_", "bit", "(", "NFS", "_", "LAYOUT", "_", "RETURN", ",", "&", "lo", "-", ">", "plh", "_", "flags", ")", ";", "<nl>"], "docstring_tokens": ["pNFS", "Ensure", "we", "check", "layout", "validity", "before", "marking", "it", "for", "return"]}
{"code_tokens": ["struct", "thread", "_", "map", "*", "thread", "_", "map", "_", "_", "new", "_", "by", "_", "uid", "(", "uid", "_", "t", "uid", ")", "<nl>", "{", "<nl>", "DIR", "*", "proc", ";", "<nl>", "int", "max", "_", "threads", "=", "32", ",", "items", ",", "i", ";", "<nl>", "-", "char", "path", "[", "256", "]", ";", "<nl>", "+", "char", "path", "[", "NAME", "_", "MAX", "+", "1", "+", "6", "]", ";", "<nl>", "struct", "dirent", "*", "dirent", ",", "*", "*", "namelist", "=", "NULL", ";", "<nl>", "struct", "thread", "_", "map", "*", "threads", "=", "thread", "_", "map", "_", "_", "alloc", "(", "max", "_", "threads", ")", ";", "<nl>"], "docstring_tokens": ["perf", "thread_map", "Correctly", "size", "buffer", "used", "with", "dirent", "dt_name"]}
{"code_tokens": ["arm", "_", "smmu", "_", "iova", "_", "to", "_", "phys", "(", "struct", "iommu", "_", "domain", "*", "domain", ",", "dma", "_", "addr", "_", "t", "iova", ")", "<nl>", "struct", "arm", "_", "smmu", "_", "domain", "*", "smmu", "_", "domain", "=", "to", "_", "smmu", "_", "domain", "(", "domain", ")", ";", "<nl>", "struct", "io", "_", "pgtable", "_", "ops", "*", "ops", "=", "smmu", "_", "domain", "-", ">", "pgtbl", "_", "ops", ";", "<nl>", "<nl>", "+", "if", "(", "domain", "-", ">", "type", "=", "=", "IOMMU", "_", "DOMAIN", "_", "IDENTITY", ")", "<nl>", "+", "return", "iova", ";", "<nl>", "+", "<nl>", "if", "(", "!", "ops", ")", "<nl>", "return", "0", ";", "<nl>", "arm", "_", "smmu", "_", "iova", "_", "to", "_", "phys", "(", "struct", "iommu", "_", "domain", "*", "domain", ",", "dma", "_", "addr", "_", "t", "iova", ")", "<nl>", "struct", "arm", "_", "smmu", "_", "domain", "*", "smmu", "_", "domain", "=", "to", "_", "smmu", "_", "domain", "(", "domain", ")", ";", "<nl>", "struct", "io", "_", "pgtable", "_", "ops", "*", "ops", "=", "smmu", "_", "domain", "-", ">", "pgtbl", "_", "ops", ";", "<nl>", "<nl>", "+", "if", "(", "domain", "-", ">", "type", "=", "=", "IOMMU", "_", "DOMAIN", "_", "IDENTITY", ")", "<nl>", "+", "return", "iova", ";", "<nl>", "+", "<nl>", "if", "(", "!", "ops", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "static", "phys", "_", "addr", "_", "t", "arm", "_", "smmu", "_", "iova", "_", "to", "_", "phys", "(", "struct", "iommu", "_", "domain", "*", "domain", ",", "<nl>", "struct", "arm", "_", "smmu", "_", "domain", "*", "smmu", "_", "domain", "=", "to", "_", "smmu", "_", "domain", "(", "domain", ")", ";", "<nl>", "struct", "io", "_", "pgtable", "_", "ops", "*", "ops", "=", "smmu", "_", "domain", "-", ">", "pgtbl", "_", "ops", ";", "<nl>", "<nl>", "+", "if", "(", "domain", "-", ">", "type", "=", "=", "IOMMU", "_", "DOMAIN", "_", "IDENTITY", ")", "<nl>", "+", "return", "iova", ";", "<nl>", "+", "<nl>", "if", "(", "!", "ops", ")", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["iommu", "arm", "smmu", "Return", "IOVA", "in", "iova_to_phys", "when", "SMMU", "is", "bypassed"]}
{"code_tokens": ["void", "mesh", "_", "mgmt", "_", "ies", "_", "add", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "ieee80211", "_", "sub", "_", "if", "_", "data", "*", "sdata", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "sband", "-", ">", "band", "=", "=", "IEEE80211", "_", "BAND", "_", "2GHZ", ")", "{", "<nl>", "+", "pos", "=", "skb", "_", "put", "(", "skb", ",", "2", "+", "1", ")", ";", "<nl>", "+", "*", "pos", "+", "+", "=", "WLAN", "_", "EID", "_", "DS", "_", "PARAMS", ";", "<nl>", "+", "*", "pos", "+", "+", "=", "1", ";", "<nl>", "+", "*", "pos", "+", "+", "=", "ieee80211", "_", "frequency", "_", "to", "_", "channel", "(", "local", "-", ">", "hw", ".", "conf", ".", "channel", "-", ">", "center", "_", "freq", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "pos", "=", "skb", "_", "put", "(", "skb", ",", "2", "+", "sdata", "-", ">", "u", ".", "mesh", ".", "mesh", "_", "id", "_", "len", ")", ";", "<nl>", "*", "pos", "+", "+", "=", "WLAN", "_", "EID", "_", "MESH", "_", "ID", ";", "<nl>", "*", "pos", "+", "+", "=", "sdata", "-", ">", "u", ".", "mesh", ".", "mesh", "_", "id", "_", "len", ";", "<nl>"], "docstring_tokens": ["mac80211", "add", "the", "DS", "params", "to", "the", "beacon"]}
{"code_tokens": ["intel", "_", "edp", "_", "init", "_", "dpcd", "(", "struct", "intel", "_", "dp", "*", "intel", "_", "dp", ")", "<nl>", "/", "*", "Read", "the", "eDP", "Display", "control", "capabilities", "registers", "*", "/", "<nl>", "if", "(", "(", "intel", "_", "dp", "-", ">", "dpcd", "[", "DP", "_", "EDP", "_", "CONFIGURATION", "_", "CAP", "]", "&", "DP", "_", "DPCD", "_", "DISPLAY", "_", "CONTROL", "_", "CAPABLE", ")", "&", "&", "<nl>", "drm", "_", "dp", "_", "dpcd", "_", "read", "(", "&", "intel", "_", "dp", "-", ">", "aux", ",", "DP", "_", "EDP", "_", "DPCD", "_", "REV", ",", "<nl>", "-", "intel", "_", "dp", "-", ">", "edp", "_", "dpcd", ",", "sizeof", "(", "intel", "_", "dp", "-", ">", "edp", "_", "dpcd", ")", "=", "=", "<nl>", "-", "sizeof", "(", "intel", "_", "dp", "-", ">", "edp", "_", "dpcd", ")", ")", ")", "<nl>", "+", "intel", "_", "dp", "-", ">", "edp", "_", "dpcd", ",", "sizeof", "(", "intel", "_", "dp", "-", ">", "edp", "_", "dpcd", ")", ")", "=", "=", "<nl>", "+", "sizeof", "(", "intel", "_", "dp", "-", ">", "edp", "_", "dpcd", ")", ")", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "EDP", "DPCD", ":", "%", "*", "ph", "\\", "n", "\"", ",", "(", "int", ")", "sizeof", "(", "intel", "_", "dp", "-", ">", "edp", "_", "dpcd", ")", ",", "<nl>", "intel", "_", "dp", "-", ">", "edp", "_", "dpcd", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "fix", "a", "read", "size", "argument"]}
{"code_tokens": ["/", "*", "<nl>", "*", "wm8993", ".", "c", "-", "-", "WM8993", "ALSA", "SoC", "audio", "driver", "<nl>", "*", "<nl>", "-", "*", "Copyright", "2009", "Wolfson", "Microelectronics", "plc", "<nl>", "+", "*", "Copyright", "2009", ",", "2010", "Wolfson", "Microelectronics", "plc", "<nl>", "*", "<nl>", "*", "Author", ":", "Mark", "Brown", "<", "broonie", "@", "opensource", ".", "wolfsonmicro", ".", "com", ">", "<nl>", "*", "<nl>", "static", "int", "wm8993", "_", "i2c", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "i2c", ",", "<nl>", "codec", "-", ">", "private", "_", "data", "=", "wm8993", ";", "<nl>", "<nl>", "wm8993", "-", ">", "hubs", "_", "data", ".", "hp", "_", "startup", "_", "mode", "=", "1", ";", "<nl>", "+", "wm8993", "-", ">", "hubs", "_", "data", ".", "dcs", "_", "codes", "=", "-", "2", ";", "<nl>", "<nl>", "memcpy", "(", "wm8993", "-", ">", "reg", "_", "cache", ",", "wm8993", "_", "reg", "_", "defaults", ",", "<nl>", "sizeof", "(", "wm8993", "-", ">", "reg", "_", "cache", ")", ")", ";", "<nl>"], "docstring_tokens": ["ASoC", "Activate", "DCS", "correction", "for", "WM8993"]}
{"code_tokens": ["static", "struct", "rdma", "_", "id", "_", "private", "*", "cma", "_", "id", "_", "from", "_", "event", "(", "struct", "ib", "_", "cm", "_", "id", "*", "cm", "_", "id", ",", "<nl>", "bind", "_", "list", "=", "cma", "_", "ps", "_", "find", "(", "rdma", "_", "ps", "_", "from", "_", "service", "_", "id", "(", "req", ".", "service", "_", "id", ")", ",", "<nl>", "cma", "_", "port", "_", "from", "_", "service", "_", "id", "(", "req", ".", "service", "_", "id", ")", ")", ";", "<nl>", "id", "_", "priv", "=", "cma", "_", "find", "_", "listener", "(", "bind", "_", "list", ",", "cm", "_", "id", ",", "ib", "_", "event", ",", "&", "req", ",", "*", "net", "_", "dev", ")", ";", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "id", "_", "priv", ")", ")", "{", "<nl>", "+", "dev", "_", "put", "(", "*", "net", "_", "dev", ")", ";", "<nl>", "+", "*", "net", "_", "dev", "=", "NULL", ";", "<nl>", "+", "}", "<nl>", "<nl>", "return", "id", "_", "priv", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["IB", "cma", "Fix", "net_dev", "reference", "leak", "with", "failed", "requests"]}
{"code_tokens": ["static", "void", "pmf", "_", "gpio", "_", "set", "_", "#", "#", "name", "(", "struct", "gpio", "_", "runtime", "*", "rt", ",", "int", "on", ")", "\\", "<nl>", "\\", "<nl>", "if", "(", "unlikely", "(", "!", "rt", ")", ")", "return", ";", "\\", "<nl>", "rc", "=", "pmf", "_", "call", "_", "function", "(", "rt", "-", ">", "node", ",", "#", "name", "\"", "-", "mute", "\"", ",", "&", "args", ")", ";", "\\", "<nl>", "-", "if", "(", "rc", ")", "\\", "<nl>", "+", "if", "(", "rc", "&", "&", "rc", "!", "=", "-", "ENODEV", ")", "\\", "<nl>", "printk", "(", "KERN", "_", "WARNING", "\"", "pmf", "_", "gpio", "_", "set", "_", "\"", "#", "name", "\\", "<nl>", "\"", "failed", ",", "rc", ":", "%", "d", "\\", "n", "\"", ",", "rc", ")", ";", "\\", "<nl>", "rt", "-", ">", "implementation", "_", "private", "&", "=", "~", "(", "1", "<", "<", "bit", ")", ";", "\\", "<nl>"], "docstring_tokens": ["ALSA", "aoa", "platform", "function", "gpio", "ignore", "errors", "from", "functions", "that", "don", "t", "exist"]}
{"code_tokens": ["static", "int", "count", "_", "fastmap", "_", "pebs", "(", "struct", "ubi", "_", "attach", "_", "info", "*", "ai", ")", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "aeb", ",", "&", "ai", "-", ">", "free", ",", "u", ".", "list", ")", "<nl>", "n", "+", "+", ";", "<nl>", "<nl>", "-", "ubi", "_", "rb", "_", "for", "_", "each", "_", "entry", "(", "rb1", ",", "av", ",", "&", "ai", "-", ">", "volumes", ",", "rb", ")", "<nl>", "+", "ubi", "_", "rb", "_", "for", "_", "each", "_", "entry", "(", "rb1", ",", "av", ",", "&", "ai", "-", ">", "volumes", ",", "rb", ")", "<nl>", "ubi", "_", "rb", "_", "for", "_", "each", "_", "entry", "(", "rb2", ",", "aeb", ",", "&", "av", "-", ">", "root", ",", "u", ".", "rb", ")", "<nl>", "n", "+", "+", ";", "<nl>"], "docstring_tokens": ["ubi", "Fix", "whitespace", "issue", "in", "count_fastmap_pebs"]}
{"code_tokens": ["int", "udpv6", "_", "recvmsg", "(", "struct", "sock", "*", "sk", ",", "struct", "msghdr", "*", "msg", ",", "size", "_", "t", "len", ",", "<nl>", "}", "<nl>", "unlock", "_", "sock", "_", "fast", "(", "sk", ",", "slow", ")", ";", "<nl>", "<nl>", "-", "if", "(", "noblock", ")", "<nl>", "-", "return", "-", "EAGAIN", ";", "<nl>", "-", "<nl>", "-", "/", "*", "starting", "over", "for", "a", "new", "packet", "*", "/", "<nl>", "+", "/", "*", "starting", "over", "for", "a", "new", "packet", ",", "but", "check", "if", "we", "need", "to", "yield", "*", "/", "<nl>", "+", "cond", "_", "resched", "(", ")", ";", "<nl>", "msg", "-", ">", "msg", "_", "flags", "&", "=", "~", "MSG", "_", "TRUNC", ";", "<nl>", "goto", "try", "_", "again", ";", "<nl>", "}", "mmm", "net", "/", "ipv4", "/", "udp", ".", "c", "<nl>", "int", "udpv6", "_", "recvmsg", "(", "struct", "sock", "*", "sk", ",", "struct", "msghdr", "*", "msg", ",", "size", "_", "t", "len", ",", "<nl>", "}", "<nl>", "unlock", "_", "sock", "_", "fast", "(", "sk", ",", "slow", ")", ";", "<nl>", "<nl>", "-", "if", "(", "noblock", ")", "<nl>", "-", "return", "-", "EAGAIN", ";", "<nl>", "-", "<nl>", "-", "/", "*", "starting", "over", "for", "a", "new", "packet", "*", "/", "<nl>", "+", "/", "*", "starting", "over", "for", "a", "new", "packet", ",", "but", "check", "if", "we", "need", "to", "yield", "*", "/", "<nl>", "+", "cond", "_", "resched", "(", ")", ";", "<nl>", "msg", "-", ">", "msg", "_", "flags", "&", "=", "~", "MSG", "_", "TRUNC", ";", "<nl>", "goto", "try", "_", "again", ";", "<nl>", "}", "<nl>", "int", "udp", "_", "recvmsg", "(", "struct", "sock", "*", "sk", ",", "struct", "msghdr", "*", "msg", ",", "size", "_", "t", "len", ",", "int", "noblock", ",", "<nl>", "}", "<nl>", "unlock", "_", "sock", "_", "fast", "(", "sk", ",", "slow", ")", ";", "<nl>", "<nl>", "-", "if", "(", "noblock", ")", "<nl>", "-", "return", "-", "EAGAIN", ";", "<nl>", "-", "<nl>", "-", "/", "*", "starting", "over", "for", "a", "new", "packet", "*", "/", "<nl>", "+", "/", "*", "starting", "over", "for", "a", "new", "packet", ",", "but", "check", "if", "we", "need", "to", "yield", "*", "/", "<nl>", "+", "cond", "_", "resched", "(", ")", ";", "<nl>", "msg", "-", ">", "msg", "_", "flags", "&", "=", "~", "MSG", "_", "TRUNC", ";", "<nl>", "goto", "try", "_", "again", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["udp", "fix", "behavior", "of", "wrong", "checksums"]}
{"code_tokens": ["static", "noinline", "int", "cow", "_", "file", "_", "range", "(", "struct", "inode", "*", "inode", ",", "<nl>", "if", "(", "IS", "_", "ERR", "(", "trans", ")", ")", "{", "<nl>", "extent", "_", "clear", "_", "unlock", "_", "delalloc", "(", "inode", ",", "<nl>", "&", "BTRFS", "_", "I", "(", "inode", ")", "-", ">", "io", "_", "tree", ",", "<nl>", "-", "start", ",", "end", ",", "NULL", ",", "<nl>", "+", "start", ",", "end", ",", "locked", "_", "page", ",", "<nl>", "EXTENT", "_", "CLEAR", "_", "UNLOCK", "_", "PAGE", "|", "<nl>", "EXTENT", "_", "CLEAR", "_", "UNLOCK", "|", "<nl>", "EXTENT", "_", "CLEAR", "_", "DELALLOC", "|", "<nl>", "static", "noinline", "int", "cow", "_", "file", "_", "range", "(", "struct", "inode", "*", "inode", ",", "<nl>", "out", "_", "unlock", ":", "<nl>", "extent", "_", "clear", "_", "unlock", "_", "delalloc", "(", "inode", ",", "<nl>", "&", "BTRFS", "_", "I", "(", "inode", ")", "-", ">", "io", "_", "tree", ",", "<nl>", "-", "start", ",", "end", ",", "NULL", ",", "<nl>", "+", "start", ",", "end", ",", "locked", "_", "page", ",", "<nl>", "EXTENT", "_", "CLEAR", "_", "UNLOCK", "_", "PAGE", "|", "<nl>", "EXTENT", "_", "CLEAR", "_", "UNLOCK", "|", "<nl>", "EXTENT", "_", "CLEAR", "_", "DELALLOC", "|", "<nl>"], "docstring_tokens": ["Btrfs", "pass", "locked_page", "into", "extent_clear_unlock_delalloc", "if", "theres", "an", "error"]}
{"code_tokens": ["long", "do", "_", "msgsnd", "(", "int", "msqid", ",", "long", "mtype", ",", "void", "_", "_", "user", "*", "mtext", ",", "<nl>", "goto", "out", "_", "unlock1", ";", "<nl>", "}", "<nl>", "<nl>", "+", "ipc", "_", "lock", "_", "object", "(", "&", "msq", "-", ">", "q", "_", "perm", ")", ";", "<nl>", "+", "<nl>", "for", "(", ";", ";", ")", "{", "<nl>", "struct", "msg", "_", "sender", "s", ";", "<nl>", "<nl>", "err", "=", "-", "EACCES", ";", "<nl>", "if", "(", "ipcperms", "(", "ns", ",", "&", "msq", "-", ">", "q", "_", "perm", ",", "S", "_", "IWUGO", ")", ")", "<nl>", "-", "goto", "out", "_", "unlock1", ";", "<nl>", "+", "goto", "out", "_", "unlock0", ";", "<nl>", "<nl>", "err", "=", "security", "_", "msg", "_", "queue", "_", "msgsnd", "(", "msq", ",", "msg", ",", "msgflg", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "-", "goto", "out", "_", "unlock1", ";", "<nl>", "+", "goto", "out", "_", "unlock0", ";", "<nl>", "<nl>", "if", "(", "msgsz", "+", "msq", "-", ">", "q", "_", "cbytes", "<", "=", "msq", "-", ">", "q", "_", "qbytes", "&", "&", "<nl>", "1", "+", "msq", "-", ">", "q", "_", "qnum", "<", "=", "msq", "-", ">", "q", "_", "qbytes", ")", "{", "<nl>", "long", "do", "_", "msgsnd", "(", "int", "msqid", ",", "long", "mtype", ",", "void", "_", "_", "user", "*", "mtext", ",", "<nl>", "/", "*", "queue", "full", ",", "wait", ":", "*", "/", "<nl>", "if", "(", "msgflg", "&", "IPC", "_", "NOWAIT", ")", "{", "<nl>", "err", "=", "-", "EAGAIN", ";", "<nl>", "-", "goto", "out", "_", "unlock1", ";", "<nl>", "+", "goto", "out", "_", "unlock0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "ipc", "_", "lock", "_", "object", "(", "&", "msq", "-", ">", "q", "_", "perm", ")", ";", "<nl>", "ss", "_", "add", "(", "msq", ",", "&", "s", ")", ";", "<nl>", "<nl>", "if", "(", "!", "ipc", "_", "rcu", "_", "getref", "(", "msq", ")", ")", "{", "<nl>", "long", "do", "_", "msgsnd", "(", "int", "msqid", ",", "long", "mtype", ",", "void", "_", "_", "user", "*", "mtext", ",", "<nl>", "goto", "out", "_", "unlock0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "ipc", "_", "unlock", "_", "object", "(", "&", "msq", "-", ">", "q", "_", "perm", ")", ";", "<nl>", "}", "<nl>", "-", "<nl>", "-", "ipc", "_", "lock", "_", "object", "(", "&", "msq", "-", ">", "q", "_", "perm", ")", ";", "<nl>", "msq", "-", ">", "q", "_", "lspid", "=", "task", "_", "tgid", "_", "vnr", "(", "current", ")", ";", "<nl>", "msq", "-", ">", "q", "_", "stime", "=", "get", "_", "seconds", "(", ")", ";", "<nl>"], "docstring_tokens": ["ipc", "msg", "c", "Fix", "lost", "wakeup", "in", "msgsnd"]}
{"code_tokens": ["int", "vfs", "_", "unlink", "(", "struct", "inode", "*", "dir", ",", "struct", "dentry", "*", "dentry", ")", "<nl>", "error", "=", "-", "EBUSY", ";", "<nl>", "else", "{", "<nl>", "error", "=", "security", "_", "inode", "_", "unlink", "(", "dir", ",", "dentry", ")", ";", "<nl>", "-", "if", "(", "!", "error", ")", "<nl>", "+", "if", "(", "!", "error", ")", "{", "<nl>", "error", "=", "dir", "-", ">", "i", "_", "op", "-", ">", "unlink", "(", "dir", ",", "dentry", ")", ";", "<nl>", "+", "if", "(", "!", "error", ")", "<nl>", "+", "dentry", "-", ">", "d", "_", "inode", "-", ">", "i", "_", "flags", "|", "=", "S", "_", "DEAD", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "mutex", "_", "unlock", "(", "&", "dentry", "-", ">", "d", "_", "inode", "-", ">", "i", "_", "mutex", ")", ";", "<nl>", "<nl>", "static", "int", "vfs", "_", "rename", "_", "other", "(", "struct", "inode", "*", "old", "_", "dir", ",", "struct", "dentry", "*", "old", "_", "dentry", ",", "<nl>", "else", "<nl>", "error", "=", "old", "_", "dir", "-", ">", "i", "_", "op", "-", ">", "rename", "(", "old", "_", "dir", ",", "old", "_", "dentry", ",", "new", "_", "dir", ",", "new", "_", "dentry", ")", ";", "<nl>", "if", "(", "!", "error", ")", "{", "<nl>", "+", "if", "(", "target", ")", "<nl>", "+", "target", "-", ">", "i", "_", "flags", "|", "=", "S", "_", "DEAD", ";", "<nl>", "if", "(", "!", "(", "old", "_", "dir", "-", ">", "i", "_", "sb", "-", ">", "s", "_", "type", "-", ">", "fs", "_", "flags", "&", "FS", "_", "RENAME", "_", "DOES", "_", "D", "_", "MOVE", ")", ")", "<nl>", "d", "_", "move", "(", "old", "_", "dentry", ",", "new", "_", "dentry", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["set", "S_DEAD", "on", "unlink", "and", "non", "directory", "rename", "victims"]}
{"code_tokens": ["struct", "sched", "_", "entity", "{", "<nl>", "<nl>", "struct", "sched", "_", "rt", "_", "entity", "{", "<nl>", "struct", "list", "_", "head", "run", "_", "list", ";", "<nl>", "-", "unsigned", "int", "time", "_", "slice", ";", "<nl>", "unsigned", "long", "timeout", ";", "<nl>", "+", "unsigned", "int", "time", "_", "slice", ";", "<nl>", "int", "nr", "_", "cpus", "_", "allowed", ";", "<nl>", "<nl>", "struct", "sched", "_", "rt", "_", "entity", "*", "back", ";", "<nl>"], "docstring_tokens": ["sched", "reorder", "struct", "sched_rt_entity", "to", "remove", "padding", "on", "64", "bit", "builds"]}
{"code_tokens": ["static", "int", "sh", "_", "pfc", "_", "ioremap", "(", "struct", "sh", "_", "pfc", "*", "pfc", ",", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "struct", "resource", "*", "res", ";", "<nl>", "int", "k", ";", "<nl>", "<nl>", "-", "if", "(", "pdev", "-", ">", "num", "_", "resources", "=", "=", "0", ")", "{", "<nl>", "-", "pfc", "-", ">", "num", "_", "windows", "=", "0", ";", "<nl>", "-", "return", "0", ";", "<nl>", "-", "}", "<nl>", "+", "if", "(", "pdev", "-", ">", "num", "_", "resources", "=", "=", "0", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "pfc", "-", ">", "window", "=", "devm", "_", "kzalloc", "(", "pfc", "-", ">", "dev", ",", "pdev", "-", ">", "num", "_", "resources", "*", "<nl>", "sizeof", "(", "*", "pfc", "-", ">", "window", ")", ",", "GFP", "_", "NOWAIT", ")", ";", "<nl>", "static", "void", "_", "_", "iomem", "*", "sh", "_", "pfc", "_", "phys", "_", "to", "_", "virt", "(", "struct", "sh", "_", "pfc", "*", "pfc", ",", "<nl>", "unsigned", "long", "address", ")", "<nl>", "{", "<nl>", "struct", "sh", "_", "pfc", "_", "window", "*", "window", ";", "<nl>", "-", "int", "k", ";", "<nl>", "+", "unsigned", "int", "i", ";", "<nl>", "<nl>", "/", "*", "scan", "through", "physical", "windows", "and", "convert", "address", "*", "/", "<nl>", "-", "for", "(", "k", "=", "0", ";", "k", "<", "pfc", "-", ">", "num", "_", "windows", ";", "k", "+", "+", ")", "{", "<nl>", "-", "window", "=", "pfc", "-", ">", "window", "+", "k", ";", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "pfc", "-", ">", "num", "_", "windows", ";", "i", "+", "+", ")", "{", "<nl>", "+", "window", "=", "pfc", "-", ">", "window", "+", "i", ";", "<nl>", "<nl>", "if", "(", "address", "<", "window", "-", ">", "phys", ")", "<nl>", "continue", ";", "<nl>", "static", "void", "_", "_", "iomem", "*", "sh", "_", "pfc", "_", "phys", "_", "to", "_", "virt", "(", "struct", "sh", "_", "pfc", "*", "pfc", ",", "<nl>", "return", "window", "-", ">", "virt", "+", "(", "address", "-", "window", "-", ">", "phys", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "no", "windows", "defined", ",", "register", "must", "be", "1", ":", "1", "mapped", "virt", ":", "phys", "*", "/", "<nl>", "-", "return", "(", "void", "_", "_", "iomem", "*", ")", "address", ";", "<nl>", "+", "BUG", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "struct", "sh", "_", "pfc", "_", "pin", "*", "sh", "_", "pfc", "_", "get", "_", "pin", "(", "struct", "sh", "_", "pfc", "*", "pfc", ",", "unsigned", "int", "pin", ")", "<nl>"], "docstring_tokens": ["sh", "pfc", "Drop", "unused", "support", "for", "1", "1", "physical", "to", "virtual", "memory", "mappings"]}
{"code_tokens": ["int", "btrfs", "_", "balance", "(", "struct", "btrfs", "_", "balance", "_", "control", "*", "bctl", ",", "<nl>", "mutex", "_", "lock", "(", "&", "fs", "_", "info", "-", ">", "balance", "_", "mutex", ")", ";", "<nl>", "atomic", "_", "dec", "(", "&", "fs", "_", "info", "-", ">", "balance", "_", "running", ")", ";", "<nl>", "<nl>", "+", "if", "(", "bctl", "-", ">", "sys", ".", "flags", "&", "BTRFS", "_", "BALANCE", "_", "ARGS", "_", "CONVERT", ")", "{", "<nl>", "+", "fs", "_", "info", "-", ">", "num", "_", "tolerated", "_", "disk", "_", "barrier", "_", "failures", "=", "<nl>", "+", "btrfs", "_", "calc", "_", "num", "_", "tolerated", "_", "disk", "_", "barrier", "_", "failures", "(", "fs", "_", "info", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "bargs", ")", "{", "<nl>", "memset", "(", "bargs", ",", "0", ",", "sizeof", "(", "*", "bargs", ")", ")", ";", "<nl>", "update", "_", "ioctl", "_", "balance", "_", "args", "(", "fs", "_", "info", ",", "0", ",", "bargs", ")", ";", "<nl>", "int", "btrfs", "_", "balance", "(", "struct", "btrfs", "_", "balance", "_", "control", "*", "bctl", ",", "<nl>", "_", "_", "cancel", "_", "balance", "(", "fs", "_", "info", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "bctl", "-", ">", "sys", ".", "flags", "&", "BTRFS", "_", "BALANCE", "_", "ARGS", "_", "CONVERT", ")", "{", "<nl>", "-", "fs", "_", "info", "-", ">", "num", "_", "tolerated", "_", "disk", "_", "barrier", "_", "failures", "=", "<nl>", "-", "btrfs", "_", "calc", "_", "num", "_", "tolerated", "_", "disk", "_", "barrier", "_", "failures", "(", "fs", "_", "info", ")", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "wake", "_", "up", "(", "&", "fs", "_", "info", "-", ">", "balance", "_", "wait", "_", "q", ")", ";", "<nl>", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["Btrfs", "eliminate", "a", "use", "after", "free", "in", "btrfs_balance"]}
{"code_tokens": ["struct", "ipt", "_", "hashlimit", "_", "htable", "{", "<nl>", "/", "*", "used", "internally", "*", "/", "<nl>", "spinlock", "_", "t", "lock", ";", "/", "*", "lock", "for", "list", "_", "head", "*", "/", "<nl>", "u", "_", "int32", "_", "t", "rnd", ";", "/", "*", "random", "seed", "for", "hash", "*", "/", "<nl>", "+", "int", "rnd", "_", "initialized", ";", "<nl>", "struct", "timer", "_", "list", "timer", ";", "/", "*", "timer", "for", "gc", "*", "/", "<nl>", "atomic", "_", "t", "count", ";", "/", "*", "number", "entries", "in", "table", "*", "/", "<nl>", "<nl>", "_", "_", "dsthash", "_", "alloc", "_", "init", "(", "struct", "ipt", "_", "hashlimit", "_", "htable", "*", "ht", ",", "struct", "dsthash", "_", "dst", "*", "dst", ")", "<nl>", "<nl>", "/", "*", "initialize", "hash", "with", "random", "val", "at", "the", "time", "we", "allocate", "<nl>", "*", "the", "first", "hashtable", "entry", "*", "/", "<nl>", "-", "if", "(", "!", "ht", "-", ">", "rnd", ")", "<nl>", "+", "if", "(", "!", "ht", "-", ">", "rnd", "_", "initialized", ")", "{", "<nl>", "get", "_", "random", "_", "bytes", "(", "&", "ht", "-", ">", "rnd", ",", "4", ")", ";", "<nl>", "+", "ht", "-", ">", "rnd", "_", "initialized", "=", "1", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "ht", "-", ">", "cfg", ".", "max", "&", "&", "<nl>", "atomic", "_", "read", "(", "&", "ht", "-", ">", "count", ")", ">", "=", "ht", "-", ">", "cfg", ".", "max", ")", "{", "<nl>", "static", "int", "htable", "_", "create", "(", "struct", "ipt", "_", "hashlimit", "_", "info", "*", "minfo", ")", "<nl>", "<nl>", "atomic", "_", "set", "(", "&", "hinfo", "-", ">", "count", ",", "0", ")", ";", "<nl>", "atomic", "_", "set", "(", "&", "hinfo", "-", ">", "use", ",", "1", ")", ";", "<nl>", "-", "hinfo", "-", ">", "rnd", "=", "0", ";", "<nl>", "+", "hinfo", "-", ">", "rnd", "_", "initialized", "=", "0", ";", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "hinfo", "-", ">", "lock", ")", ";", "<nl>", "hinfo", "-", ">", "pde", "=", "create", "_", "proc", "_", "entry", "(", "minfo", "-", ">", "name", ",", "0", ",", "hashlimit", "_", "procdir", ")", ";", "<nl>", "if", "(", "!", "hinfo", "-", ">", "pde", ")", "{", "<nl>"], "docstring_tokens": ["NETFILTER", "hashlimit", "match", "fix", "random", "initialization"]}
{"code_tokens": ["static", "void", "alc662", "_", "led", "_", "gpio1", "_", "mute", "_", "hook", "(", "void", "*", "private", "_", "data", ",", "int", "enabled", ")", "<nl>", "spec", "-", ">", "gpio", "_", "led", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "avoid", "D3", "for", "keeping", "GPIO", "up", "*", "/", "<nl>", "+", "static", "unsigned", "int", "gpio", "_", "led", "_", "power", "_", "filter", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "<nl>", "+", "hda", "_", "nid", "_", "t", "nid", ",", "<nl>", "+", "unsigned", "int", "power", "_", "state", ")", "<nl>", "+", "{", "<nl>", "+", "struct", "alc", "_", "spec", "*", "spec", "=", "codec", "-", ">", "spec", ";", "<nl>", "+", "if", "(", "nid", "=", "=", "codec", "-", ">", "afg", "&", "&", "power", "_", "state", "=", "=", "AC", "_", "PWRST", "_", "D3", "&", "&", "spec", "-", ">", "gpio", "_", "led", ")", "<nl>", "+", "return", "AC", "_", "PWRST", "_", "D0", ";", "<nl>", "+", "return", "power", "_", "state", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "void", "alc662", "_", "fixup", "_", "led", "_", "gpio1", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "<nl>", "const", "struct", "hda", "_", "fixup", "*", "fix", ",", "int", "action", ")", "<nl>", "{", "<nl>", "static", "void", "alc662", "_", "fixup", "_", "led", "_", "gpio1", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "<nl>", "spec", "-", ">", "gen", ".", "vmaster", "_", "mute", ".", "hook", "=", "alc662", "_", "led", "_", "gpio1", "_", "mute", "_", "hook", ";", "<nl>", "spec", "-", ">", "gpio", "_", "led", "=", "0", ";", "<nl>", "snd", "_", "hda", "_", "add", "_", "verbs", "(", "codec", ",", "gpio", "_", "init", ")", ";", "<nl>", "+", "codec", "-", ">", "power", "_", "filter", "=", "gpio", "_", "led", "_", "power", "_", "filter", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "hda", "Avoid", "codec", "D3", "for", "keeping", "mute", "LED", "up", "on", "Lenovo", "Yxx0"]}
{"code_tokens": ["int", "flex", "_", "array", "_", "prealloc", "(", "struct", "flex", "_", "array", "*", "fa", ",", "unsigned", "int", "start", ",", "<nl>", "unsigned", "int", "end", ";", "<nl>", "struct", "flex", "_", "array", "_", "part", "*", "part", ";", "<nl>", "<nl>", "+", "if", "(", "!", "start", "&", "&", "!", "nr", "_", "elements", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "if", "(", "start", ">", "=", "fa", "-", ">", "total", "_", "nr", "_", "elements", ")", "<nl>", "+", "return", "-", "ENOSPC", ";", "<nl>", "+", "if", "(", "!", "nr", "_", "elements", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "end", "=", "start", "+", "nr", "_", "elements", "-", "1", ";", "<nl>", "<nl>", "-", "if", "(", "start", ">", "=", "fa", "-", ">", "total", "_", "nr", "_", "elements", "|", "|", "end", ">", "=", "fa", "-", ">", "total", "_", "nr", "_", "elements", ")", "<nl>", "+", "if", "(", "end", ">", "=", "fa", "-", ">", "total", "_", "nr", "_", "elements", ")", "<nl>", "return", "-", "ENOSPC", ";", "<nl>", "if", "(", "elements", "_", "fit", "_", "in", "_", "base", "(", "fa", ")", ")", "<nl>", "return", "0", ";", "<nl>", "int", "flex", "_", "array", "_", "shrink", "(", "struct", "flex", "_", "array", "*", "fa", ")", "<nl>", "int", "part", "_", "nr", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "+", "if", "(", "!", "fa", "-", ">", "total", "_", "nr", "_", "elements", ")", "<nl>", "+", "return", "0", ";", "<nl>", "if", "(", "elements", "_", "fit", "_", "in", "_", "base", "(", "fa", ")", ")", "<nl>", "return", "ret", ";", "<nl>", "for", "(", "part", "_", "nr", "=", "0", ";", "part", "_", "nr", "<", "FLEX", "_", "ARRAY", "_", "NR", "_", "BASE", "_", "PTRS", ";", "part", "_", "nr", "+", "+", ")", "{", "<nl>"], "docstring_tokens": ["flex_arrays", "allow", "zero", "length", "flex", "arrays"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "cas", "_", "init", "_", "one", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "INIT", "_", "WORK", "(", "&", "cp", "-", ">", "reset", "_", "task", ",", "cas", "_", "reset", "_", "task", ")", ";", "<nl>", "<nl>", "/", "*", "Default", "link", "parameters", "*", "/", "<nl>", "-", "if", "(", "link", "_", "mode", ">", "=", "0", "&", "&", "link", "_", "mode", "<", "=", "6", ")", "<nl>", "+", "if", "(", "link", "_", "mode", ">", "=", "0", "&", "&", "link", "_", "mode", "<", "6", ")", "<nl>", "cp", "-", ">", "link", "_", "cntl", "=", "link", "_", "modes", "[", "link", "_", "mode", "]", ";", "<nl>", "else", "<nl>", "cp", "-", ">", "link", "_", "cntl", "=", "BMCR", "_", "ANENABLE", ";", "<nl>"], "docstring_tokens": ["cassini", "fix", "off", "by", "one"]}
{"code_tokens": ["rpcrdma", "_", "register", "_", "internal", "(", "struct", "rpcrdma", "_", "ia", "*", "ia", ",", "void", "*", "va", ",", "int", "len", ",", "<nl>", "*", "/", "<nl>", "iov", "-", ">", "addr", "=", "ib", "_", "dma", "_", "map", "_", "single", "(", "ia", "-", ">", "ri", "_", "id", "-", ">", "device", ",", "<nl>", "va", ",", "len", ",", "DMA", "_", "BIDIRECTIONAL", ")", ";", "<nl>", "+", "if", "(", "ib", "_", "dma", "_", "mapping", "_", "error", "(", "ia", "-", ">", "ri", "_", "id", "-", ">", "device", ",", "iov", "-", ">", "addr", ")", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "iov", "-", ">", "length", "=", "len", ";", "<nl>", "<nl>", "if", "(", "ia", "-", ">", "ri", "_", "have", "_", "dma", "_", "lkey", ")", "{", "<nl>"], "docstring_tokens": ["xprtrdma", "Fix", "DMA", "API", "DEBUG", "warning", "by", "checking", "dma_map", "result"]}
{"code_tokens": ["sctp", "_", "disposition", "_", "t", "sctp", "_", "sf", "_", "ootb", "(", "struct", "net", "*", "net", ",", "<nl>", "return", "sctp", "_", "sf", "_", "violation", "_", "chunklen", "(", "net", ",", "ep", ",", "asoc", ",", "type", ",", "arg", ",", "<nl>", "commands", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Report", "violation", "if", "chunk", "len", "overflows", "*", "/", "<nl>", "+", "ch", "_", "end", "=", "(", "(", "_", "_", "u8", "*", ")", "ch", ")", "+", "SCTP", "_", "PAD4", "(", "ntohs", "(", "ch", "-", ">", "length", ")", ")", ";", "<nl>", "+", "if", "(", "ch", "_", "end", ">", "skb", "_", "tail", "_", "pointer", "(", "skb", ")", ")", "<nl>", "+", "return", "sctp", "_", "sf", "_", "violation", "_", "chunklen", "(", "net", ",", "ep", ",", "asoc", ",", "type", ",", "arg", ",", "<nl>", "+", "commands", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Now", "that", "we", "know", "we", "at", "least", "have", "a", "chunk", "header", ",", "<nl>", "*", "do", "things", "that", "are", "type", "appropriate", ".", "<nl>", "*", "/", "<nl>", "sctp", "_", "disposition", "_", "t", "sctp", "_", "sf", "_", "ootb", "(", "struct", "net", "*", "net", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "Report", "violation", "if", "chunk", "len", "overflows", "*", "/", "<nl>", "-", "ch", "_", "end", "=", "(", "(", "_", "_", "u8", "*", ")", "ch", ")", "+", "SCTP", "_", "PAD4", "(", "ntohs", "(", "ch", "-", ">", "length", ")", ")", ";", "<nl>", "-", "if", "(", "ch", "_", "end", ">", "skb", "_", "tail", "_", "pointer", "(", "skb", ")", ")", "<nl>", "-", "return", "sctp", "_", "sf", "_", "violation", "_", "chunklen", "(", "net", ",", "ep", ",", "asoc", ",", "type", ",", "arg", ",", "<nl>", "-", "commands", ")", ";", "<nl>", "-", "<nl>", "ch", "=", "(", "sctp", "_", "chunkhdr", "_", "t", "*", ")", "ch", "_", "end", ";", "<nl>", "}", "while", "(", "ch", "_", "end", "<", "skb", "_", "tail", "_", "pointer", "(", "skb", ")", ")", ";", "<nl>"], "docstring_tokens": ["sctp", "validate", "chunk", "len", "before", "actually", "using", "it"]}
{"code_tokens": ["static", "int", "wl1271", "_", "prepare", "_", "tx", "_", "frame", "(", "struct", "wl1271", "*", "wl", ",", "struct", "wl12xx", "_", "vif", "*", "wlvif", ",", "<nl>", "is", "_", "wep", "=", "(", "cipher", "=", "=", "WLAN", "_", "CIPHER", "_", "SUITE", "_", "WEP40", ")", "|", "|", "<nl>", "(", "cipher", "=", "=", "WLAN", "_", "CIPHER", "_", "SUITE", "_", "WEP104", ")", ";", "<nl>", "<nl>", "-", "if", "(", "WARN", "_", "ON", "(", "is", "_", "wep", "&", "&", "wlvif", "-", ">", "default", "_", "key", "!", "=", "idx", ")", ")", "{", "<nl>", "+", "if", "(", "WARN", "_", "ON", "(", "is", "_", "wep", "&", "&", "wlvif", "&", "&", "wlvif", "-", ">", "default", "_", "key", "!", "=", "idx", ")", ")", "{", "<nl>", "ret", "=", "wl1271", "_", "set", "_", "default", "_", "wep", "_", "key", "(", "wl", ",", "wlvif", ",", "idx", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["wlcore", "fix", "unsafe", "dereference", "of", "the", "wlvif"]}
{"code_tokens": ["int", "drm", "_", "crtc", "_", "helper", "_", "set", "_", "config", "(", "struct", "drm", "_", "mode", "_", "set", "*", "set", ")", "<nl>", "int", "count", "=", "0", ",", "ro", ",", "fail", "=", "0", ";", "<nl>", "struct", "drm", "_", "crtc", "_", "helper", "_", "funcs", "*", "crtc", "_", "funcs", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "+", "int", "i", ";", "<nl>", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "\\", "n", "\"", ")", ";", "<nl>", "<nl>", "int", "drm", "_", "crtc", "_", "helper", "_", "set", "_", "config", "(", "struct", "drm", "_", "mode", "_", "set", "*", "set", ")", "<nl>", "if", "(", "ret", "!", "=", "0", ")", "<nl>", "goto", "fail", ";", "<nl>", "}", "<nl>", "+", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "Setting", "connector", "DPMS", "state", "to", "on", "\\", "n", "\"", ")", ";", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "set", "-", ">", "num", "_", "connectors", ";", "i", "+", "+", ")", "{", "<nl>", "+", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "\\", "t", "[", "CONNECTOR", ":", "%", "d", ":", "%", "s", "]", "set", "DPMS", "on", "\\", "n", "\"", ",", "set", "-", ">", "connectors", "[", "i", "]", "-", ">", "base", ".", "id", ",", "<nl>", "+", "drm", "_", "get", "_", "connector", "_", "name", "(", "set", "-", ">", "connectors", "[", "i", "]", ")", ")", ";", "<nl>", "+", "set", "-", ">", "connectors", "[", "i", "]", "-", ">", "dpms", "=", "DRM", "_", "MODE", "_", "DPMS", "_", "ON", ";", "<nl>", "+", "}", "<nl>", "<nl>", "kfree", "(", "save", "_", "connectors", ")", ";", "<nl>", "kfree", "(", "save", "_", "encoders", ")", ";", "<nl>"], "docstring_tokens": ["drm", "Set", "connector", "DPMS", "status", "to", "ON", "in", "drm_crtc_helper_set_config"]}
{"code_tokens": ["static", "unsigned", "long", "last", "_", "tsc", "_", "high", ";", "/", "*", "msb", "32", "bits", "of", "Time", "Stamp", "Counter", "*", "/", "<nl>", "static", "unsigned", "long", "long", "monotonic", "_", "base", ";", "<nl>", "static", "seqlock", "_", "t", "monotonic", "_", "lock", "=", "SEQLOCK", "_", "UNLOCKED", ";", "<nl>", "<nl>", "+", "/", "*", "Avoid", "compensating", "for", "lost", "ticks", "before", "TSCs", "are", "synched", "*", "/", "<nl>", "+", "static", "int", "detect", "_", "lost", "_", "ticks", ";", "<nl>", "+", "static", "int", "_", "_", "init", "start", "_", "lost", "_", "tick", "_", "compensation", "(", "void", ")", "<nl>", "+", "{", "<nl>", "+", "detect", "_", "lost", "_", "ticks", "=", "1", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "late", "_", "initcall", "(", "start", "_", "lost", "_", "tick", "_", "compensation", ")", ";", "<nl>", "+", "<nl>", "/", "*", "convert", "from", "cycles", "(", "64bits", ")", "=", ">", "nanoseconds", "(", "64bits", ")", "<nl>", "*", "basic", "equation", ":", "<nl>", "*", "ns", "=", "cycles", "/", "(", "freq", "/", "ns", "_", "per", "_", "sec", ")", "<nl>", "static", "void", "mark", "_", "offset", "_", "tsc", "_", "hpet", "(", "void", ")", "<nl>", "<nl>", "/", "*", "lost", "tick", "compensation", "*", "/", "<nl>", "offset", "=", "hpet", "_", "readl", "(", "HPET", "_", "T0", "_", "CMP", ")", "-", "hpet", "_", "tick", ";", "<nl>", "-", "if", "(", "unlikely", "(", "(", "(", "offset", "-", "hpet", "_", "last", ")", ">", "hpet", "_", "tick", ")", "&", "&", "(", "hpet", "_", "last", "!", "=", "0", ")", ")", ")", "{", "<nl>", "+", "if", "(", "unlikely", "(", "(", "(", "offset", "-", "hpet", "_", "last", ")", ">", "hpet", "_", "tick", ")", "&", "&", "(", "hpet", "_", "last", "!", "=", "0", ")", ")", "<nl>", "+", "&", "&", "detect", "_", "lost", "_", "ticks", ")", "{", "<nl>", "int", "lost", "_", "ticks", "=", "(", "offset", "-", "hpet", "_", "last", ")", "/", "hpet", "_", "tick", ";", "<nl>", "jiffies", "_", "64", "+", "=", "lost", "_", "ticks", ";", "<nl>", "}", "<nl>", "static", "void", "mark", "_", "offset", "_", "tsc", "(", "void", ")", "<nl>", "delta", "+", "=", "delay", "_", "at", "_", "last", "_", "interrupt", ";", "<nl>", "lost", "=", "delta", "/", "(", "1000000", "/", "HZ", ")", ";", "<nl>", "delay", "=", "delta", "%", "(", "1000000", "/", "HZ", ")", ";", "<nl>", "-", "if", "(", "lost", ">", "=", "2", ")", "{", "<nl>", "+", "if", "(", "lost", ">", "=", "2", "&", "&", "detect", "_", "lost", "_", "ticks", ")", "{", "<nl>", "jiffies", "_", "64", "+", "=", "lost", "-", "1", ";", "<nl>", "<nl>", "/", "*", "sanity", "check", "to", "ensure", "we", "'", "re", "not", "always", "losing", "ticks", "*", "/", "<nl>"], "docstring_tokens": ["PATCH", "disable", "lost", "tick", "compensation", "before", "TSCs", "are", "synced"]}
{"code_tokens": ["struct", "xen", "_", "memory", "_", "reservation", "{", "<nl>", "*", "OUT", ":", "GMFN", "bases", "of", "extents", "that", "were", "allocated", "<nl>", "*", "(", "NB", ".", "This", "command", "also", "updates", "the", "mach", "_", "to", "_", "phys", "translation", "table", ")", "<nl>", "*", "/", "<nl>", "-", "ulong", "extent", "_", "start", ";", "<nl>", "+", "GUEST", "_", "HANDLE", "(", "ulong", ")", "extent", "_", "start", ";", "<nl>", "<nl>", "/", "*", "Number", "of", "extents", ",", "and", "size", "/", "alignment", "of", "each", "(", "2", "^", "extent", "_", "order", "pages", ")", ".", "*", "/", "<nl>", "unsigned", "long", "nr", "_", "extents", ";", "<nl>", "struct", "xen", "_", "memory", "_", "reservation", "{", "<nl>", "domid", "_", "t", "domid", ";", "<nl>", "<nl>", "}", ";", "<nl>", "+", "DEFINE", "_", "GUEST", "_", "HANDLE", "_", "STRUCT", "(", "xen", "_", "memory", "_", "reservation", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Returns", "the", "maximum", "machine", "frame", "number", "of", "mapped", "RAM", "in", "this", "system", ".", "<nl>", "struct", "xen", "_", "machphys", "_", "mfn", "_", "list", "{", "<nl>", "*", "any", "large", "discontiguities", "in", "the", "machine", "address", "space", ",", "2", "MB", "gaps", "in", "<nl>", "*", "the", "machphys", "table", "will", "be", "represented", "by", "an", "MFN", "base", "of", "zero", ".", "<nl>", "*", "/", "<nl>", "-", "ulong", "extent", "_", "start", ";", "<nl>", "+", "GUEST", "_", "HANDLE", "(", "ulong", ")", "extent", "_", "start", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Number", "of", "extents", "written", "to", "the", "above", "array", ".", "This", "will", "be", "smaller", "<nl>", "struct", "xen", "_", "machphys", "_", "mfn", "_", "list", "{", "<nl>", "*", "/", "<nl>", "unsigned", "int", "nr", "_", "extents", ";", "<nl>", "}", ";", "<nl>", "+", "DEFINE", "_", "GUEST", "_", "HANDLE", "_", "STRUCT", "(", "xen", "_", "machphys", "_", "mfn", "_", "list", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Sets", "the", "GPFN", "at", "which", "a", "particular", "page", "appears", "in", "the", "specified", "guest", "'", "s", "<nl>", "struct", "xen", "_", "add", "_", "to", "_", "physmap", "{", "<nl>", "/", "*", "GPFN", "where", "the", "source", "mapping", "page", "should", "appear", ".", "*", "/", "<nl>", "unsigned", "long", "gpfn", ";", "<nl>", "}", ";", "<nl>", "+", "DEFINE", "_", "GUEST", "_", "HANDLE", "_", "STRUCT", "(", "xen", "_", "add", "_", "to", "_", "physmap", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Translates", "a", "list", "of", "domain", "-", "specific", "GPFNs", "into", "MFNs", ".", "Returns", "a", "-", "ve", "error", "<nl>", "struct", "xen", "_", "translate", "_", "gpfn", "_", "list", "{", "<nl>", "unsigned", "long", "nr", "_", "gpfns", ";", "<nl>", "<nl>", "/", "*", "List", "of", "GPFNs", "to", "translate", ".", "*", "/", "<nl>", "-", "ulong", "gpfn", "_", "list", ";", "<nl>", "+", "GUEST", "_", "HANDLE", "(", "ulong", ")", "gpfn", "_", "list", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Output", "list", "to", "contain", "MFN", "translations", ".", "May", "be", "the", "same", "as", "the", "input", "<nl>", "*", "list", "(", "in", "which", "case", "each", "input", "GPFN", "is", "overwritten", "with", "the", "output", "MFN", ")", ".", "<nl>", "*", "/", "<nl>", "-", "ulong", "mfn", "_", "list", ";", "<nl>", "+", "GUEST", "_", "HANDLE", "(", "ulong", ")", "mfn", "_", "list", ";", "<nl>", "}", ";", "<nl>", "+", "DEFINE", "_", "GUEST", "_", "HANDLE", "_", "STRUCT", "(", "xen", "_", "translate", "_", "gpfn", "_", "list", ")", ";", "<nl>", "<nl>", "#", "endif", "/", "*", "_", "_", "XEN", "_", "PUBLIC", "_", "MEMORY", "_", "H", "_", "_", "*", "/", "<nl>"], "docstring_tokens": ["xen", "add", "missing", "definitions", "in", "include", "xen", "interface", "memory", "h", "which", "ia64", "xen", "needs"]}
{"code_tokens": ["struct", "gb", "_", "host", "_", "device", "*", "gb", "_", "hd", "_", "create", "(", "struct", "gb", "_", "hd", "_", "driver", "*", "driver", ",", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "num", "_", "cports", "=", "=", "0", "|", "|", "num", "_", "cports", ">", "CPORT", "_", "ID", "_", "MAX", ")", "{", "<nl>", "+", "if", "(", "num", "_", "cports", "=", "=", "0", "|", "|", "num", "_", "cports", ">", "CPORT", "_", "ID", "_", "MAX", "+", "1", ")", "{", "<nl>", "dev", "_", "err", "(", "parent", ",", "\"", "Invalid", "number", "of", "CPorts", ":", "%", "zu", "\\", "n", "\"", ",", "num", "_", "cports", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["greybus", "hd", "fix", "cport", "count", "check"]}
{"code_tokens": ["static", "int", "das1800", "_", "attach", "(", "struct", "comedi", "_", "device", "*", "dev", ",", "<nl>", "if", "(", "dev", "-", ">", "irq", "&", "it", "-", ">", "options", "[", "2", "]", ")", "<nl>", "das1800", "_", "init", "_", "dma", "(", "dev", ",", "it", ")", ";", "<nl>", "<nl>", "-", "devpriv", "-", ">", "fifo", "_", "buf", "=", "kmalloc", "(", "FIFO", "_", "SIZE", "*", "sizeof", "(", "uint16", "_", "t", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "devpriv", "-", ">", "fifo", "_", "buf", "=", "kmalloc", "_", "array", "(", "FIFO", "_", "SIZE", ",", "sizeof", "(", "uint16", "_", "t", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "devpriv", "-", ">", "fifo", "_", "buf", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["staging", "comedi", "das1800", "prefer", "kmalloc_array", "over", "kmalloc", "with", "multiply"]}
{"code_tokens": ["static", "int", "hfsplus", "_", "sync", "_", "fs", "(", "struct", "super", "_", "block", "*", "sb", ",", "int", "wait", ")", "<nl>", "<nl>", "static", "void", "delayed", "_", "sync", "_", "fs", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "{", "<nl>", "+", "int", "err", ";", "<nl>", "struct", "hfsplus", "_", "sb", "_", "info", "*", "sbi", ";", "<nl>", "<nl>", "sbi", "=", "container", "_", "of", "(", "work", ",", "struct", "hfsplus", "_", "sb", "_", "info", ",", "sync", "_", "work", ".", "work", ")", ";", "<nl>", "static", "void", "delayed", "_", "sync", "_", "fs", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "sbi", "-", ">", "work", "_", "queued", "=", "0", ";", "<nl>", "spin", "_", "unlock", "(", "&", "sbi", "-", ">", "work", "_", "lock", ")", ";", "<nl>", "<nl>", "-", "hfsplus", "_", "sync", "_", "fs", "(", "sbi", "-", ">", "alloc", "_", "file", "-", ">", "i", "_", "sb", ",", "1", ")", ";", "<nl>", "+", "err", "=", "hfsplus", "_", "sync", "_", "fs", "(", "sbi", "-", ">", "alloc", "_", "file", "-", ">", "i", "_", "sb", ",", "1", ")", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "printk", "(", "KERN", "_", "ERR", "\"", "hfs", ":", "delayed", "sync", "fs", "err", "%", "d", "\\", "n", "\"", ",", "err", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "hfsplus", "_", "mark", "_", "mdb", "_", "dirty", "(", "struct", "super", "_", "block", "*", "sb", ")", "<nl>"], "docstring_tokens": ["hfsplus", "add", "error", "message", "for", "the", "case", "of", "failure", "of", "sync", "fs", "in", "delayed_sync_fs", "method"]}
{"code_tokens": ["int", "nvdimm", "_", "has", "_", "flush", "(", "struct", "nd", "_", "region", "*", "nd", "_", "region", ")", "<nl>", "{", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "/", "*", "no", "nvdimm", "=", "=", "flushing", "capability", "unknown", "*", "/", "<nl>", "-", "if", "(", "nd", "_", "region", "-", ">", "ndr", "_", "mappings", "=", "=", "0", ")", "<nl>", "+", "/", "*", "no", "nvdimm", "or", "pmem", "api", "=", "=", "flushing", "capability", "unknown", "*", "/", "<nl>", "+", "if", "(", "nd", "_", "region", "-", ">", "ndr", "_", "mappings", "=", "=", "0", "<nl>", "+", "|", "|", "!", "IS", "_", "ENABLED", "(", "CONFIG", "_", "ARCH", "_", "HAS", "_", "PMEM", "_", "API", ")", ")", "<nl>", "return", "-", "ENXIO", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "nd", "_", "region", "-", ">", "ndr", "_", "mappings", ";", "i", "+", "+", ")", "{", "<nl>"], "docstring_tokens": ["libnvdimm", "pmem", "fix", "persistence", "warning"]}
{"code_tokens": ["static", "int", "_", "_", "init", "ap325rxa", "_", "devices", "_", "setup", "(", "void", ")", "<nl>", "}", "<nl>", "device", "_", "initcall", "(", "ap325rxa", "_", "devices", "_", "setup", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Return", "the", "board", "specific", "boot", "mode", "pin", "configuration", "*", "/", "<nl>", "+", "static", "int", "ap325rxa", "_", "mode", "_", "pins", "(", "void", ")", "<nl>", "+", "{", "<nl>", "+", "/", "*", "MD0", "=", "0", ",", "MD1", "=", "0", ",", "MD2", "=", "0", ":", "Clock", "Mode", "0", "<nl>", "+", "*", "MD3", "=", "0", ":", "16", "-", "bit", "Area0", "Bus", "Width", "<nl>", "+", "*", "MD5", "=", "1", ":", "Little", "Endian", "<nl>", "+", "*", "TSTMD", "=", "1", ",", "MD8", "=", "1", ":", "Test", "Mode", "Disabled", "<nl>", "+", "*", "/", "<nl>", "+", "return", "MODE", "_", "PIN5", "|", "MODE", "_", "PIN8", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "struct", "sh", "_", "machine", "_", "vector", "mv", "_", "ap325rxa", "_", "_", "initmv", "=", "{", "<nl>", ".", "mv", "_", "name", "=", "\"", "AP", "-", "325RXA", "\"", ",", "<nl>", "+", ".", "mv", "_", "mode", "_", "pins", "=", "ap325rxa", "_", "mode", "_", "pins", ",", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["sh", "add", "AP325RXA", "mode", "pin", "configuration"]}
{"code_tokens": ["static", "void", "kick", "_", "tx", "(", "int", "fd", ")", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "ret", "=", "sendto", "(", "fd", ",", "NULL", ",", "0", ",", "MSG", "_", "DONTWAIT", ",", "NULL", ",", "0", ")", ";", "<nl>", "-", "if", "(", "ret", ">", "=", "0", "|", "|", "errno", "=", "=", "ENOBUFS", "|", "|", "errno", "=", "=", "EAGAIN", ")", "<nl>", "+", "if", "(", "ret", ">", "=", "0", "|", "|", "errno", "=", "=", "ENOBUFS", "|", "|", "errno", "=", "=", "EAGAIN", "|", "|", "errno", "=", "=", "EBUSY", ")", "<nl>", "return", ";", "<nl>", "lassert", "(", "0", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["samples", "bpf", "deal", "with", "EBUSY", "return", "code", "from", "sendmsg", "in", "xdpsock", "sample"]}
{"code_tokens": ["void", "iforce", "_", "process", "_", "packet", "(", "struct", "iforce", "*", "iforce", ",", "u16", "cmd", ",", "unsigned", "char", "*", "data", ")", "<nl>", "<nl>", "int", "iforce", "_", "get", "_", "id", "_", "packet", "(", "struct", "iforce", "*", "iforce", ",", "char", "*", "packet", ")", "<nl>", "{", "<nl>", "+", "int", "status", ";", "<nl>", "+", "<nl>", "switch", "(", "iforce", "-", ">", "bus", ")", "{", "<nl>", "<nl>", "case", "IFORCE", "_", "USB", ":", "<nl>", "int", "iforce", "_", "get", "_", "id", "_", "packet", "(", "struct", "iforce", "*", "iforce", ",", "char", "*", "packet", ")", "<nl>", "iforce", "-", ">", "cr", ".", "bRequest", "=", "packet", "[", "0", "]", ";", "<nl>", "iforce", "-", ">", "ctrl", "-", ">", "dev", "=", "iforce", "-", ">", "usbdev", ";", "<nl>", "<nl>", "-", "if", "(", "usb", "_", "submit", "_", "urb", "(", "iforce", "-", ">", "ctrl", ",", "GFP", "_", "ATOMIC", ")", ")", "<nl>", "+", "status", "=", "usb", "_", "submit", "_", "urb", "(", "iforce", "-", ">", "ctrl", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "if", "(", "status", ")", "{", "<nl>", "+", "err", "(", "\"", "usb", "_", "submit", "_", "urb", "failed", "%", "d", "\"", ",", "status", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "+", "}", "<nl>", "<nl>", "wait", "_", "event", "_", "interruptible", "_", "timeout", "(", "iforce", "-", ">", "wait", ",", "<nl>", "iforce", "-", ">", "ctrl", "-", ">", "status", "!", "=", "-", "EINPROGRESS", ",", "HZ", ")", ";", "<nl>", "<nl>", "if", "(", "iforce", "-", ">", "ctrl", "-", ">", "status", ")", "{", "<nl>", "+", "dbg", "(", "\"", "iforce", "-", ">", "ctrl", "-", ">", "status", "=", "%", "d", "\"", ",", "iforce", "-", ">", "ctrl", "-", ">", "status", ")", ";", "<nl>", "usb", "_", "unlink", "_", "urb", "(", "iforce", "-", ">", "ctrl", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "#", "else", "<nl>", "-", "err", "(", "\"", "iforce", "_", "get", "_", "id", "_", "packet", ":", "iforce", "-", ">", "bus", "=", "USB", "!", "\"", ")", ";", "<nl>", "+", "dbg", "(", "\"", "iforce", "_", "get", "_", "id", "_", "packet", ":", "iforce", "-", ">", "bus", "=", "USB", "!", "\"", ")", ";", "<nl>", "#", "endif", "<nl>", "break", ";", "<nl>", "void", "iforce", "_", "process", "_", "packet", "(", "struct", "iforce", "*", "iforce", ",", "u16", "cmd", ",", "unsigned", "char", "*", "data", ")", "<nl>", "<nl>", "int", "iforce", "_", "get", "_", "id", "_", "packet", "(", "struct", "iforce", "*", "iforce", ",", "char", "*", "packet", ")", "<nl>", "{", "<nl>", "+", "int", "status", ";", "<nl>", "+", "<nl>", "switch", "(", "iforce", "-", ">", "bus", ")", "{", "<nl>", "<nl>", "case", "IFORCE", "_", "USB", ":", "<nl>", "int", "iforce", "_", "get", "_", "id", "_", "packet", "(", "struct", "iforce", "*", "iforce", ",", "char", "*", "packet", ")", "<nl>", "iforce", "-", ">", "cr", ".", "bRequest", "=", "packet", "[", "0", "]", ";", "<nl>", "iforce", "-", ">", "ctrl", "-", ">", "dev", "=", "iforce", "-", ">", "usbdev", ";", "<nl>", "<nl>", "-", "if", "(", "usb", "_", "submit", "_", "urb", "(", "iforce", "-", ">", "ctrl", ",", "GFP", "_", "ATOMIC", ")", ")", "<nl>", "+", "status", "=", "usb", "_", "submit", "_", "urb", "(", "iforce", "-", ">", "ctrl", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "if", "(", "status", ")", "{", "<nl>", "+", "err", "(", "\"", "usb", "_", "submit", "_", "urb", "failed", "%", "d", "\"", ",", "status", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "+", "}", "<nl>", "<nl>", "wait", "_", "event", "_", "interruptible", "_", "timeout", "(", "iforce", "-", ">", "wait", ",", "<nl>", "iforce", "-", ">", "ctrl", "-", ">", "status", "!", "=", "-", "EINPROGRESS", ",", "HZ", ")", ";", "<nl>", "<nl>", "if", "(", "iforce", "-", ">", "ctrl", "-", ">", "status", ")", "{", "<nl>", "+", "dbg", "(", "\"", "iforce", "-", ">", "ctrl", "-", ">", "status", "=", "%", "d", "\"", ",", "iforce", "-", ">", "ctrl", "-", ">", "status", ")", ";", "<nl>", "usb", "_", "unlink", "_", "urb", "(", "iforce", "-", ">", "ctrl", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "#", "else", "<nl>", "-", "err", "(", "\"", "iforce", "_", "get", "_", "id", "_", "packet", ":", "iforce", "-", ">", "bus", "=", "USB", "!", "\"", ")", ";", "<nl>", "+", "dbg", "(", "\"", "iforce", "_", "get", "_", "id", "_", "packet", ":", "iforce", "-", ">", "bus", "=", "USB", "!", "\"", ")", ";", "<nl>", "#", "endif", "<nl>", "break", ";", "<nl>", "<nl>", "int", "iforce", "_", "init", "_", "device", "(", "struct", "iforce", "*", "iforce", ")", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Disable", "spring", ",", "enable", "force", "feedback", ".", "<nl>", "-", "*", "FIXME", ":", "We", "should", "use", "iforce", "_", "set", "_", "autocenter", "(", ")", "et", "al", "here", ".", "<nl>", "*", "/", "<nl>", "-", "<nl>", "-", "iforce", "_", "send", "_", "packet", "(", "iforce", ",", "FF", "_", "CMD", "_", "AUTOCENTER", ",", "\"", "\\", "004", "\\", "000", "\"", ")", ";", "<nl>", "+", "iforce", "_", "set", "_", "autocenter", "(", "input", "_", "dev", ",", "0", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Find", "appropriate", "device", "entry", "<nl>"], "docstring_tokens": ["Input", "iforce", "minor", "clean", "ups"]}
{"code_tokens": ["int", "crypto", "_", "reportstat", "(", "struct", "sk", "_", "buff", "*", "in", "_", "skb", ",", "struct", "nlmsghdr", "*", "in", "_", "nlh", ",", "<nl>", "drop", "_", "alg", ":", "<nl>", "crypto", "_", "mod", "_", "put", "(", "alg", ")", ";", "<nl>", "<nl>", "-", "if", "(", "err", ")", "<nl>", "+", "if", "(", "err", ")", "{", "<nl>", "+", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "return", "err", ";", "<nl>", "+", "}", "<nl>", "<nl>", "return", "nlmsg", "_", "unicast", "(", "net", "-", ">", "crypto", "_", "nlsk", ",", "skb", ",", "NETLINK", "_", "CB", "(", "in", "_", "skb", ")", ".", "portid", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["crypto", "user", "fix", "memory", "leak", "in", "crypto_reportstat"]}
{"code_tokens": ["void", "bochs", "_", "fbdev", "_", "fini", "(", "struct", "bochs", "_", "device", "*", "bochs", ")", "<nl>", "if", "(", "bochs", "-", ">", "fb", ".", "initialized", ")", "<nl>", "bochs", "_", "fbdev", "_", "destroy", "(", "bochs", ")", ";", "<nl>", "<nl>", "-", "drm", "_", "fb", "_", "helper", "_", "fini", "(", "&", "bochs", "-", ">", "fb", ".", "helper", ")", ";", "<nl>", "+", "if", "(", "bochs", "-", ">", "fb", ".", "helper", ".", "fbdev", ")", "<nl>", "+", "drm", "_", "fb", "_", "helper", "_", "fini", "(", "&", "bochs", "-", ">", "fb", ".", "helper", ")", ";", "<nl>", "+", "<nl>", "bochs", "-", ">", "fb", ".", "initialized", "=", "false", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "bochs", "Prevent", "double", "free", "of", "fb", "helper"]}
{"code_tokens": ["int", "_", "_", "annotation", "_", "_", "scnprintf", "_", "samples", "_", "period", "(", "struct", "annotation", "*", "notes", ",", "<nl>", "bool", "show", "_", "freq", ")", "<nl>", "{", "<nl>", "const", "char", "*", "ev", "_", "name", "=", "perf", "_", "evsel", "_", "_", "name", "(", "evsel", ")", ";", "<nl>", "-", "char", "ref", "[", "30", "]", "=", "\"", "show", "reference", "callgraph", ",", "\"", ";", "<nl>", "+", "char", "buf", "[", "1024", "]", ",", "ref", "[", "30", "]", "=", "\"", "show", "reference", "callgraph", ",", "\"", ";", "<nl>", "char", "sample", "_", "freq", "_", "str", "[", "64", "]", "=", "\"", "\"", ";", "<nl>", "unsigned", "long", "nr", "_", "samples", "=", "0", ";", "<nl>", "int", "nr", "_", "members", "=", "1", ";", "<nl>", "int", "_", "_", "annotation", "_", "_", "scnprintf", "_", "samples", "_", "period", "(", "struct", "annotation", "*", "notes", ",", "<nl>", "char", "unit", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "if", "(", "perf", "_", "evsel", "_", "_", "is", "_", "group", "_", "event", "(", "evsel", ")", ")", "<nl>", "+", "if", "(", "perf", "_", "evsel", "_", "_", "is", "_", "group", "_", "event", "(", "evsel", ")", ")", "{", "<nl>", "+", "perf", "_", "evsel", "_", "_", "group", "_", "desc", "(", "evsel", ",", "buf", ",", "sizeof", "(", "buf", ")", ")", ";", "<nl>", "+", "ev", "_", "name", "=", "buf", ";", "<nl>", "nr", "_", "members", "=", "evsel", "-", ">", "nr", "_", "members", ";", "<nl>", "+", "}", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "nr", "_", "members", ";", "i", "+", "+", ")", "{", "<nl>", "struct", "sym", "_", "hist", "*", "ah", "=", "annotation", "_", "_", "histogram", "(", "notes", ",", "evsel", "-", ">", "idx", "+", "i", ")", ";", "<nl>"], "docstring_tokens": ["perf", "annotate", "Show", "group", "details", "on", "the", "title", "line"]}
{"code_tokens": ["static", "int", "read", "_", "mii", "_", "word", "(", "rtl8150", "_", "t", "*", "dev", ",", "u8", "phy", ",", "_", "_", "u8", "indx", ",", "u16", "*", "reg", ")", "<nl>", "get", "_", "registers", "(", "dev", ",", "PHYCNT", ",", "1", ",", "data", ")", ";", "<nl>", "}", "while", "(", "(", "data", "[", "0", "]", "&", "PHY", "_", "GO", ")", "&", "&", "(", "i", "+", "+", "<", "MII", "_", "TIMEOUT", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "i", "<", "MII", "_", "TIMEOUT", ")", "{", "<nl>", "+", "if", "(", "i", "<", "=", "MII", "_", "TIMEOUT", ")", "{", "<nl>", "get", "_", "registers", "(", "dev", ",", "PHYDAT", ",", "2", ",", "data", ")", ";", "<nl>", "*", "reg", "=", "data", "[", "0", "]", "|", "(", "data", "[", "1", "]", "<", "<", "8", ")", ";", "<nl>", "return", "0", ";", "<nl>", "static", "int", "write", "_", "mii", "_", "word", "(", "rtl8150", "_", "t", "*", "dev", ",", "u8", "phy", ",", "_", "_", "u8", "indx", ",", "u16", "reg", ")", "<nl>", "get", "_", "registers", "(", "dev", ",", "PHYCNT", ",", "1", ",", "data", ")", ";", "<nl>", "}", "while", "(", "(", "data", "[", "0", "]", "&", "PHY", "_", "GO", ")", "&", "&", "(", "i", "+", "+", "<", "MII", "_", "TIMEOUT", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "i", "<", "MII", "_", "TIMEOUT", ")", "<nl>", "+", "if", "(", "i", "<", "=", "MII", "_", "TIMEOUT", ")", "<nl>", "return", "0", ";", "<nl>", "else", "<nl>", "return", "1", ";", "<nl>"], "docstring_tokens": ["usbnet", "test", "off", "by", "one"]}
{"code_tokens": ["static", "const", "char", "*", "intel", "_", "pt", "_", "err", "_", "msgs", "[", "]", "=", "{", "<nl>", "<nl>", "int", "intel", "_", "pt", "_", "_", "strerror", "(", "int", "code", ",", "char", "*", "buf", ",", "size", "_", "t", "buflen", ")", "<nl>", "{", "<nl>", "-", "if", "(", "code", "<", "1", "|", "|", "code", ">", "INTEL", "_", "PT", "_", "ERR", "_", "MAX", ")", "<nl>", "+", "if", "(", "code", "<", "1", "|", "|", "code", ">", "=", "INTEL", "_", "PT", "_", "ERR", "_", "MAX", ")", "<nl>", "code", "=", "INTEL", "_", "PT", "_", "ERR", "_", "UNK", ";", "<nl>", "strlcpy", "(", "buf", ",", "intel", "_", "pt", "_", "err", "_", "msgs", "[", "code", "]", ",", "buflen", ")", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["perf", "intel", "pt", "Fix", "off", "by", "one", "comparison", "on", "maximum", "code"]}
{"code_tokens": ["static", "int", "ocfs2", "_", "local", "_", "free", "_", "info", "(", "struct", "super", "_", "block", "*", "sb", ",", "int", "type", ")", "<nl>", "int", "mark", "_", "clean", "=", "1", ",", "len", ";", "<nl>", "int", "status", ";", "<nl>", "<nl>", "-", "/", "*", "At", "this", "point", "we", "know", "there", "are", "no", "more", "dquots", "and", "thus", "<nl>", "-", "*", "even", "if", "there", "'", "s", "some", "sync", "in", "the", "pdflush", "queue", ",", "it", "won", "'", "t", "<nl>", "-", "*", "find", "any", "dquots", "and", "return", "without", "doing", "anything", "*", "/", "<nl>", "-", "cancel", "_", "delayed", "_", "work", "_", "sync", "(", "&", "oinfo", "-", ">", "dqi", "_", "sync", "_", "work", ")", ";", "<nl>", "iput", "(", "oinfo", "-", ">", "dqi", "_", "gqinode", ")", ";", "<nl>", "ocfs2", "_", "simple", "_", "drop", "_", "lockres", "(", "OCFS2", "_", "SB", "(", "sb", ")", ",", "&", "oinfo", "-", ">", "dqi", "_", "gqlock", ")", ";", "<nl>", "ocfs2", "_", "lock", "_", "res", "_", "free", "(", "&", "oinfo", "-", ">", "dqi", "_", "gqlock", ")", ";", "mmm", "fs", "/", "ocfs2", "/", "super", ".", "c", "<nl>", "static", "int", "ocfs2", "_", "local", "_", "free", "_", "info", "(", "struct", "super", "_", "block", "*", "sb", ",", "int", "type", ")", "<nl>", "int", "mark", "_", "clean", "=", "1", ",", "len", ";", "<nl>", "int", "status", ";", "<nl>", "<nl>", "-", "/", "*", "At", "this", "point", "we", "know", "there", "are", "no", "more", "dquots", "and", "thus", "<nl>", "-", "*", "even", "if", "there", "'", "s", "some", "sync", "in", "the", "pdflush", "queue", ",", "it", "won", "'", "t", "<nl>", "-", "*", "find", "any", "dquots", "and", "return", "without", "doing", "anything", "*", "/", "<nl>", "-", "cancel", "_", "delayed", "_", "work", "_", "sync", "(", "&", "oinfo", "-", ">", "dqi", "_", "sync", "_", "work", ")", ";", "<nl>", "iput", "(", "oinfo", "-", ">", "dqi", "_", "gqinode", ")", ";", "<nl>", "ocfs2", "_", "simple", "_", "drop", "_", "lockres", "(", "OCFS2", "_", "SB", "(", "sb", ")", ",", "&", "oinfo", "-", ">", "dqi", "_", "gqlock", ")", ";", "<nl>", "ocfs2", "_", "lock", "_", "res", "_", "free", "(", "&", "oinfo", "-", ">", "dqi", "_", "gqlock", ")", ";", "<nl>", "static", "void", "ocfs2", "_", "disable", "_", "quotas", "(", "struct", "ocfs2", "_", "super", "*", "osb", ")", "<nl>", "int", "type", ";", "<nl>", "struct", "inode", "*", "inode", ";", "<nl>", "struct", "super", "_", "block", "*", "sb", "=", "osb", "-", ">", "sb", ";", "<nl>", "+", "struct", "ocfs2", "_", "mem", "_", "dqinfo", "*", "oinfo", ";", "<nl>", "<nl>", "/", "*", "We", "mostly", "ignore", "errors", "in", "this", "function", "because", "there", "'", "s", "not", "much", "<nl>", "*", "we", "can", "do", "when", "we", "see", "them", "*", "/", "<nl>", "for", "(", "type", "=", "0", ";", "type", "<", "MAXQUOTAS", ";", "type", "+", "+", ")", "{", "<nl>", "if", "(", "!", "sb", "_", "has", "_", "quota", "_", "loaded", "(", "sb", ",", "type", ")", ")", "<nl>", "continue", ";", "<nl>", "+", "/", "*", "Cancel", "periodic", "syncing", "before", "we", "grab", "dqonoff", "_", "mutex", "*", "/", "<nl>", "+", "oinfo", "=", "sb", "_", "dqinfo", "(", "sb", ",", "type", ")", "-", ">", "dqi", "_", "priv", ";", "<nl>", "+", "cancel", "_", "delayed", "_", "work", "_", "sync", "(", "&", "oinfo", "-", ">", "dqi", "_", "sync", "_", "work", ")", ";", "<nl>", "inode", "=", "igrab", "(", "sb", "-", ">", "s", "_", "dquot", ".", "files", "[", "type", "]", ")", ";", "<nl>", "/", "*", "Turn", "off", "quotas", ".", "This", "will", "remove", "all", "dquot", "structures", "from", "<nl>", "*", "memory", "and", "so", "they", "will", "be", "automatically", "synced", "to", "global", "<nl>"], "docstring_tokens": ["ocfs2", "Fix", "lock", "inversion", "in", "quotas", "during", "umount"]}
{"code_tokens": ["i915", "_", "gem", "_", "pwrite", "_", "ioctl", "(", "struct", "drm", "_", "device", "*", "dev", ",", "void", "*", "data", ",", "<nl>", "<nl>", "if", "(", "obj", "-", ">", "gtt", "_", "space", "&", "&", "<nl>", "obj", "-", ">", "cache", "_", "level", "=", "=", "I915", "_", "CACHE", "_", "NONE", "&", "&", "<nl>", "+", "obj", "-", ">", "tiling", "_", "mode", "=", "=", "I915", "_", "TILING", "_", "NONE", "&", "&", "<nl>", "obj", "-", ">", "map", "_", "and", "_", "fenceable", "&", "&", "<nl>", "obj", "-", ">", "base", ".", "write", "_", "domain", "!", "=", "I915", "_", "GEM", "_", "DOMAIN", "_", "CPU", ")", "{", "<nl>", "ret", "=", "i915", "_", "gem", "_", "gtt", "_", "pwrite", "_", "fast", "(", "dev", ",", "obj", ",", "args", ",", "file", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "don", "t", "pwrite", "tiled", "objects", "through", "the", "gtt"]}
{"code_tokens": ["static", "int", "br", "_", "mdb", "_", "fill", "_", "info", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "netlink", "_", "callback", "*", "cb", ",", "<nl>", "port", "=", "p", "-", ">", "port", ";", "<nl>", "if", "(", "port", ")", "{", "<nl>", "struct", "br", "_", "mdb", "_", "entry", "e", ";", "<nl>", "+", "memset", "(", "&", "e", ",", "0", ",", "sizeof", "(", "e", ")", ")", ";", "<nl>", "e", ".", "ifindex", "=", "port", "-", ">", "dev", "-", ">", "ifindex", ";", "<nl>", "e", ".", "state", "=", "p", "-", ">", "state", ";", "<nl>", "if", "(", "p", "-", ">", "addr", ".", "proto", "=", "=", "htons", "(", "ETH", "_", "P", "_", "IP", ")", ")", "<nl>", "static", "int", "br", "_", "mdb", "_", "dump", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "netlink", "_", "callback", "*", "cb", ")", "<nl>", "break", ";", "<nl>", "<nl>", "bpm", "=", "nlmsg", "_", "data", "(", "nlh", ")", ";", "<nl>", "+", "memset", "(", "bpm", ",", "0", ",", "sizeof", "(", "*", "bpm", ")", ")", ";", "<nl>", "bpm", "-", ">", "ifindex", "=", "dev", "-", ">", "ifindex", ";", "<nl>", "if", "(", "br", "_", "mdb", "_", "fill", "_", "info", "(", "skb", ",", "cb", ",", "dev", ")", "<", "0", ")", "<nl>", "goto", "out", ";", "<nl>", "static", "int", "nlmsg", "_", "populate", "_", "mdb", "_", "fill", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "return", "-", "EMSGSIZE", ";", "<nl>", "<nl>", "bpm", "=", "nlmsg", "_", "data", "(", "nlh", ")", ";", "<nl>", "+", "memset", "(", "bpm", ",", "0", ",", "sizeof", "(", "*", "bpm", ")", ")", ";", "<nl>", "bpm", "-", ">", "family", "=", "AF", "_", "BRIDGE", ";", "<nl>", "bpm", "-", ">", "ifindex", "=", "dev", "-", ">", "ifindex", ";", "<nl>", "nest", "=", "nla", "_", "nest", "_", "start", "(", "skb", ",", "MDBA", "_", "MDB", ")", ";", "<nl>", "void", "br", "_", "mdb", "_", "notify", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "net", "_", "bridge", "_", "port", "*", "port", ",", "<nl>", "{", "<nl>", "struct", "br", "_", "mdb", "_", "entry", "entry", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "entry", ",", "0", ",", "sizeof", "(", "entry", ")", ")", ";", "<nl>", "entry", ".", "ifindex", "=", "port", "-", ">", "dev", "-", ">", "ifindex", ";", "<nl>", "entry", ".", "addr", ".", "proto", "=", "group", "-", ">", "proto", ";", "<nl>", "entry", ".", "addr", ".", "u", ".", "ip4", "=", "group", "-", ">", "u", ".", "ip4", ";", "<nl>"], "docstring_tokens": ["bridge", "fix", "mdb", "info", "leaks"]}
{"code_tokens": ["int", "_", "_", "get", "_", "user", "_", "pages", "(", "struct", "task", "_", "struct", "*", "tsk", ",", "struct", "mm", "_", "struct", "*", "mm", ",", "<nl>", "(", "VM", "_", "MAYREAD", "|", "VM", "_", "MAYWRITE", ")", ":", "(", "VM", "_", "READ", "|", "VM", "_", "WRITE", ")", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "nr", "_", "pages", ";", "i", "+", "+", ")", "{", "<nl>", "-", "vma", "=", "find", "_", "vma", "(", "mm", ",", "start", ")", ";", "<nl>", "+", "vma", "=", "find", "_", "extend", "_", "vma", "(", "mm", ",", "start", ")", ";", "<nl>", "if", "(", "!", "vma", ")", "<nl>", "goto", "finish", "_", "or", "_", "fault", ";", "<nl>", "<nl>", "EXPORT", "_", "SYMBOL", "(", "find", "_", "vma", ")", ";", "<nl>", "*", "/", "<nl>", "struct", "vm", "_", "area", "_", "struct", "*", "find", "_", "extend", "_", "vma", "(", "struct", "mm", "_", "struct", "*", "mm", ",", "unsigned", "long", "addr", ")", "<nl>", "{", "<nl>", "-", "return", "find", "_", "vma", "(", "mm", ",", "addr", ")", ";", "<nl>", "+", "return", "find", "_", "vma", "(", "mm", ",", "addr", "&", "PAGE", "_", "MASK", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["nommu", "get_user_pages", "pin", "last", "page", "on", "non", "page", "aligned", "start"]}
{"code_tokens": ["asmlinkage", "void", "_", "_", "sched", "schedule", "(", "void", ")", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "schedule", ")", ";", "<nl>", "<nl>", "-", "#", "ifdef", "CONFIG", "_", "SMP", "<nl>", "+", "#", "ifdef", "CONFIG", "_", "MUTEX", "_", "SPIN", "_", "ON", "_", "OWNER", "<nl>", "/", "*", "<nl>", "*", "Look", "out", "!", "\"", "owner", "\"", "is", "an", "entirely", "speculative", "pointer", "<nl>", "*", "access", "and", "not", "reliable", ".", "<nl>"], "docstring_tokens": ["mutex", "Fix", "missing", "conditions", "to", "build", "mutex_spin_on_owner"]}
{"code_tokens": ["int", "rds", "_", "rdma", "_", "extra", "_", "size", "(", "struct", "rds", "_", "rdma", "_", "args", "*", "args", ")", "<nl>", "<nl>", "local", "_", "vec", "=", "(", "struct", "rds", "_", "iovec", "_", "_", "user", "*", ")", "(", "unsigned", "long", ")", "args", "-", ">", "local", "_", "vec", "_", "addr", ";", "<nl>", "<nl>", "+", "if", "(", "args", "-", ">", "nr", "_", "local", "=", "=", "0", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "/", "*", "figure", "out", "the", "number", "of", "pages", "in", "the", "vector", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "args", "-", ">", "nr", "_", "local", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "vec", ",", "&", "local", "_", "vec", "[", "i", "]", ",", "<nl>"], "docstring_tokens": ["RDS", "Heap", "OOB", "write", "in", "rds_message_alloc_sgs"]}
{"code_tokens": ["static", "ssize", "_", "t", "sof", "_", "dfsentry", "_", "write", "(", "struct", "file", "*", "file", ",", "const", "char", "_", "_", "user", "*", "buffer", ",", "<nl>", "*", "/", "<nl>", "dentry", "=", "file", "-", ">", "f", "_", "path", ".", "dentry", ";", "<nl>", "if", "(", "strcmp", "(", "dentry", "-", ">", "d", "_", "name", ".", "name", ",", "\"", "ipc", "_", "flood", "_", "count", "\"", ")", "&", "&", "<nl>", "-", "strcmp", "(", "dentry", "-", ">", "d", "_", "name", ".", "name", ",", "\"", "ipc", "_", "flood", "_", "duration", "_", "ms", "\"", ")", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "+", "strcmp", "(", "dentry", "-", ">", "d", "_", "name", ".", "name", ",", "\"", "ipc", "_", "flood", "_", "duration", "_", "ms", "\"", ")", ")", "{", "<nl>", "+", "ret", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "!", "strcmp", "(", "dentry", "-", ">", "d", "_", "name", ".", "name", ",", "\"", "ipc", "_", "flood", "_", "duration", "_", "ms", "\"", ")", ")", "<nl>", "flood", "_", "duration", "_", "test", "=", "true", ";", "<nl>"], "docstring_tokens": ["ASoC", "SOF", "Fix", "memory", "leak", "in", "sof_dfsentry_write"]}
{"code_tokens": ["static", "int", "nct7802", "_", "read", "_", "fan", "_", "min", "(", "struct", "nct7802", "_", "data", "*", "data", ",", "u8", "reg", "_", "fan", "_", "low", ",", "<nl>", "ret", "=", "0", ";", "<nl>", "else", "if", "(", "ret", ")", "<nl>", "ret", "=", "DIV", "_", "ROUND", "_", "CLOSEST", "(", "1350000U", ",", "ret", ")", ";", "<nl>", "+", "else", "<nl>", "+", "ret", "=", "1350000U", ";", "<nl>", "abort", ":", "<nl>", "mutex", "_", "unlock", "(", "&", "data", "-", ">", "access", "_", "lock", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "nct7802", "_", "write", "_", "fan", "_", "min", "(", "struct", "nct7802", "_", "data", "*", "data", ",", "u8", "reg", "_", "fan", "_", "low", ",", "<nl>", "-", "u8", "reg", "_", "fan", "_", "high", ",", "unsigned", "int", "limit", ")", "<nl>", "+", "u8", "reg", "_", "fan", "_", "high", ",", "unsigned", "long", "limit", ")", "<nl>", "{", "<nl>", "int", "err", ";", "<nl>", "<nl>", "static", "int", "nct7802", "_", "write", "_", "voltage", "(", "struct", "nct7802", "_", "data", "*", "data", ",", "int", "nr", ",", "int", "index", ",", "<nl>", "int", "shift", "=", "8", "-", "REG", "_", "VOLTAGE", "_", "LIMIT", "_", "MSB", "_", "SHIFT", "[", "index", "-", "1", "]", "[", "nr", "]", ";", "<nl>", "int", "err", ";", "<nl>", "<nl>", "+", "voltage", "=", "clamp", "_", "val", "(", "voltage", ",", "0", ",", "0x3ff", "*", "nct7802", "_", "vmul", "[", "nr", "]", ")", ";", "<nl>", "voltage", "=", "DIV", "_", "ROUND", "_", "CLOSEST", "(", "voltage", ",", "nct7802", "_", "vmul", "[", "nr", "]", ")", ";", "<nl>", "-", "voltage", "=", "clamp", "_", "val", "(", "voltage", ",", "0", ",", "0x3ff", ")", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "data", "-", ">", "access", "_", "lock", ")", ";", "<nl>", "err", "=", "regmap", "_", "write", "(", "data", "-", ">", "regmap", ",", "<nl>", "static", "ssize", "_", "t", "store", "_", "temp", "(", "struct", "device", "*", "dev", ",", "struct", "device", "_", "attribute", "*", "attr", ",", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "-", "val", "=", "clamp", "_", "val", "(", "DIV", "_", "ROUND", "_", "CLOSEST", "(", "val", ",", "1000", ")", ",", "-", "128", ",", "127", ")", ";", "<nl>", "+", "val", "=", "DIV", "_", "ROUND", "_", "CLOSEST", "(", "clamp", "_", "val", "(", "val", ",", "-", "128000", ",", "127000", ")", ",", "1000", ")", ";", "<nl>", "<nl>", "err", "=", "regmap", "_", "write", "(", "data", "-", ">", "regmap", ",", "nr", ",", "val", "&", "0xff", ")", ";", "<nl>", "return", "err", "?", ":", "count", ";", "<nl>"], "docstring_tokens": ["hwmon", "nct7802", "Fix", "overflows", "seen", "when", "writing", "into", "limit", "attributes"]}
{"code_tokens": ["static", "struct", "sk", "_", "buff", "*", "bcm", "_", "sysport", "_", "insert", "_", "tsb", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "u32", "csum", "_", "info", ";", "<nl>", "u8", "ip", "_", "proto", ";", "<nl>", "u16", "csum", "_", "start", ";", "<nl>", "-", "u16", "ip", "_", "ver", ";", "<nl>", "+", "_", "_", "be16", "ip", "_", "ver", ";", "<nl>", "<nl>", "/", "*", "Re", "-", "allocate", "SKB", "if", "needed", "*", "/", "<nl>", "if", "(", "unlikely", "(", "skb", "_", "headroom", "(", "skb", ")", "<", "sizeof", "(", "*", "tsb", ")", ")", ")", "{", "<nl>", "static", "struct", "sk", "_", "buff", "*", "bcm", "_", "sysport", "_", "insert", "_", "tsb", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "memset", "(", "tsb", ",", "0", ",", "sizeof", "(", "*", "tsb", ")", ")", ";", "<nl>", "<nl>", "if", "(", "skb", "-", ">", "ip", "_", "summed", "=", "=", "CHECKSUM", "_", "PARTIAL", ")", "{", "<nl>", "-", "ip", "_", "ver", "=", "htons", "(", "skb", "-", ">", "protocol", ")", ";", "<nl>", "+", "ip", "_", "ver", "=", "skb", "-", ">", "protocol", ";", "<nl>", "switch", "(", "ip", "_", "ver", ")", "{", "<nl>", "-", "case", "ETH", "_", "P", "_", "IP", ":", "<nl>", "+", "case", "htons", "(", "ETH", "_", "P", "_", "IP", ")", ":", "<nl>", "ip", "_", "proto", "=", "ip", "_", "hdr", "(", "skb", ")", "-", ">", "protocol", ";", "<nl>", "break", ";", "<nl>", "-", "case", "ETH", "_", "P", "_", "IPV6", ":", "<nl>", "+", "case", "htons", "(", "ETH", "_", "P", "_", "IPV6", ")", ":", "<nl>", "ip", "_", "proto", "=", "ipv6", "_", "hdr", "(", "skb", ")", "-", ">", "nexthdr", ";", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "static", "struct", "sk", "_", "buff", "*", "bcm", "_", "sysport", "_", "insert", "_", "tsb", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "if", "(", "ip", "_", "proto", "=", "=", "IPPROTO", "_", "TCP", "|", "|", "ip", "_", "proto", "=", "=", "IPPROTO", "_", "UDP", ")", "{", "<nl>", "csum", "_", "info", "|", "=", "L4", "_", "LENGTH", "_", "VALID", ";", "<nl>", "-", "if", "(", "ip", "_", "proto", "=", "=", "IPPROTO", "_", "UDP", "&", "&", "ip", "_", "ver", "=", "=", "ETH", "_", "P", "_", "IP", ")", "<nl>", "+", "if", "(", "ip", "_", "proto", "=", "=", "IPPROTO", "_", "UDP", "&", "&", "<nl>", "+", "ip", "_", "ver", "=", "=", "htons", "(", "ETH", "_", "P", "_", "IP", ")", ")", "<nl>", "csum", "_", "info", "|", "=", "L4", "_", "UDP", ";", "<nl>", "}", "else", "{", "<nl>", "csum", "_", "info", "=", "0", ";", "<nl>"], "docstring_tokens": ["net", "systemport", "Fix", "sparse", "warnings", "in", "bcm_sysport_insert_tsb"]}
{"code_tokens": ["static", "void", "s5k5baf", "_", "synchronize", "(", "struct", "s5k5baf", "*", "state", ",", "int", "timeout", ",", "u16", "addr", ")", "<nl>", "static", "u16", "*", "s5k5baf", "_", "fw", "_", "get", "_", "seq", "(", "struct", "s5k5baf", "*", "state", ",", "u16", "seq", "_", "id", ")", "<nl>", "{", "<nl>", "struct", "s5k5baf", "_", "fw", "*", "fw", "=", "state", "-", ">", "fw", ";", "<nl>", "-", "u16", "*", "data", "=", "fw", "-", ">", "data", "+", "2", "*", "fw", "-", ">", "count", ";", "<nl>", "+", "u16", "*", "data", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "if", "(", "fw", "=", "=", "NULL", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "+", "data", "=", "fw", "-", ">", "data", "+", "2", "*", "fw", "-", ">", "count", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "fw", "-", ">", "count", ";", "+", "+", "i", ")", "{", "<nl>", "if", "(", "fw", "-", ">", "seq", "[", "i", "]", ".", "id", "=", "=", "seq", "_", "id", ")", "<nl>", "return", "data", "+", "fw", "-", ">", "seq", "[", "i", "]", ".", "offset", ";", "<nl>"], "docstring_tokens": ["media", "s5k5baf", "Fix", "potential", "NULL", "pointer", "dereferencing"]}
{"code_tokens": ["static", "struct", "mfd", "_", "cell", "max77686", "_", "devs", "[", "]", "=", "{", "<nl>", "{", ".", "name", "=", "\"", "max77686", "-", "pmic", "\"", ",", "}", ",", "<nl>", "{", ".", "name", "=", "\"", "max77686", "-", "rtc", "\"", ",", "}", ",", "<nl>", "+", "{", ".", "name", "=", "\"", "max77686", "-", "clk", "\"", ",", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "struct", "regmap", "_", "config", "max77686", "_", "regmap", "_", "config", "=", "{", "<nl>"], "docstring_tokens": ["mfd", "max77687", "Add", "registration", "of", "max77686", "clk"]}
{"code_tokens": ["static", "byte", "connect", "_", "res", "(", "dword", "Id", ",", "word", "Number", ",", "DIVA", "_", "CAPI", "_", "ADAPTER", "*", "a", ",", "<nl>", "add", "_", "ai", "(", "plci", ",", "&", "parms", "[", "5", "]", ")", ";", "<nl>", "sig", "_", "req", "(", "plci", ",", "REJECT", ",", "0", ")", ";", "<nl>", "}", "<nl>", "-", "else", "if", "(", "Reject", "=", "=", "1", "|", "|", "Reject", ">", "9", ")", "<nl>", "+", "else", "if", "(", "Reject", "=", "=", "1", "|", "|", "Reject", ">", "=", "9", ")", "<nl>", "{", "<nl>", "add", "_", "ai", "(", "plci", ",", "&", "parms", "[", "5", "]", ")", ";", "<nl>", "sig", "_", "req", "(", "plci", ",", "HANGUP", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["isdn", "off", "by", "one", "in", "connect_res"]}
{"code_tokens": ["void", "cx231xx", "_", "pre", "_", "card", "_", "setup", "(", "struct", "cx231xx", "*", "dev", ")", "<nl>", "dev", "-", ">", "board", ".", "name", ",", "dev", "-", ">", "model", ")", ";", "<nl>", "<nl>", "/", "*", "set", "the", "direction", "for", "GPIO", "pins", "*", "/", "<nl>", "-", "cx231xx", "_", "set", "_", "gpio", "_", "direction", "(", "dev", ",", "dev", "-", ">", "board", ".", "tuner", "_", "gpio", "-", ">", "bit", ",", "1", ")", ";", "<nl>", "-", "cx231xx", "_", "set", "_", "gpio", "_", "value", "(", "dev", ",", "dev", "-", ">", "board", ".", "tuner", "_", "gpio", "-", ">", "bit", ",", "1", ")", ";", "<nl>", "-", "cx231xx", "_", "set", "_", "gpio", "_", "direction", "(", "dev", ",", "dev", "-", ">", "board", ".", "tuner", "_", "sif", "_", "gpio", ",", "1", ")", ";", "<nl>", "+", "if", "(", "dev", "-", ">", "board", ".", "tuner", "_", "gpio", ")", "{", "<nl>", "+", "cx231xx", "_", "set", "_", "gpio", "_", "direction", "(", "dev", ",", "dev", "-", ">", "board", ".", "tuner", "_", "gpio", "-", ">", "bit", ",", "1", ")", ";", "<nl>", "+", "cx231xx", "_", "set", "_", "gpio", "_", "value", "(", "dev", ",", "dev", "-", ">", "board", ".", "tuner", "_", "gpio", "-", ">", "bit", ",", "1", ")", ";", "<nl>", "+", "cx231xx", "_", "set", "_", "gpio", "_", "direction", "(", "dev", ",", "dev", "-", ">", "board", ".", "tuner", "_", "sif", "_", "gpio", ",", "1", ")", ";", "<nl>", "<nl>", "-", "/", "*", "request", "some", "modules", "if", "any", "required", "*", "/", "<nl>", "+", "/", "*", "request", "some", "modules", "if", "any", "required", "*", "/", "<nl>", "<nl>", "-", "/", "*", "reset", "the", "Tuner", "*", "/", "<nl>", "-", "cx231xx", "_", "gpio", "_", "set", "(", "dev", ",", "dev", "-", ">", "board", ".", "tuner", "_", "gpio", ")", ";", "<nl>", "+", "/", "*", "reset", "the", "Tuner", "*", "/", "<nl>", "+", "cx231xx", "_", "gpio", "_", "set", "(", "dev", ",", "dev", "-", ">", "board", ".", "tuner", "_", "gpio", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "set", "the", "mode", "to", "Analog", "mode", "initially", "*", "/", "<nl>", "cx231xx", "_", "set", "_", "mode", "(", "dev", ",", "CX231XX", "_", "ANALOG", "_", "MODE", ")", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "cx231xx", "Avoid", "an", "OOPS", "when", "card", "is", "unknown", "card", "0"]}
{"code_tokens": ["static", "ssize", "_", "t", "driver", "_", "state", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "user", "_", "buf", ",", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "HEX", "(", "chip", ".", "id", ")", ";", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "STR", "(", "chip", ".", "fw", "_", "ver", "_", "str", ")", ";", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "STR", "(", "chip", ".", "phy", "_", "fw", "_", "ver", "_", "str", ")", ";", "<nl>", "+", "DRIVER", "_", "STATE", "_", "PRINT", "_", "INT", "(", "recovery", "_", "count", ")", ";", "<nl>", "<nl>", "#", "undef", "DRIVER", "_", "STATE", "_", "PRINT", "_", "INT", "<nl>", "#", "undef", "DRIVER", "_", "STATE", "_", "PRINT", "_", "LONGmmm", "drivers", "/", "net", "/", "wireless", "/", "ti", "/", "wlcore", "/", "wlcore", ".", "h", "<nl>", "static", "ssize", "_", "t", "driver", "_", "state", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "user", "_", "buf", ",", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "HEX", "(", "chip", ".", "id", ")", ";", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "STR", "(", "chip", ".", "fw", "_", "ver", "_", "str", ")", ";", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "STR", "(", "chip", ".", "phy", "_", "fw", "_", "ver", "_", "str", ")", ";", "<nl>", "+", "DRIVER", "_", "STATE", "_", "PRINT", "_", "INT", "(", "recovery", "_", "count", ")", ";", "<nl>", "<nl>", "#", "undef", "DRIVER", "_", "STATE", "_", "PRINT", "_", "INT", "<nl>", "#", "undef", "DRIVER", "_", "STATE", "_", "PRINT", "_", "LONG", "<nl>", "struct", "wl1271", "{", "<nl>", "<nl>", "bool", "enable", "_", "11a", ";", "<nl>", "<nl>", "+", "int", "recovery", "_", "count", ";", "<nl>", "+", "<nl>", "/", "*", "Most", "recently", "reported", "noise", "in", "dBm", "*", "/", "<nl>", "s8", "noise", ";", "<nl>", "static", "ssize", "_", "t", "driver", "_", "state", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "user", "_", "buf", ",", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "HEX", "(", "chip", ".", "id", ")", ";", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "STR", "(", "chip", ".", "fw", "_", "ver", "_", "str", ")", ";", "<nl>", "DRIVER", "_", "STATE", "_", "PRINT", "_", "STR", "(", "chip", ".", "phy", "_", "fw", "_", "ver", "_", "str", ")", ";", "<nl>", "+", "DRIVER", "_", "STATE", "_", "PRINT", "_", "INT", "(", "recovery", "_", "count", ")", ";", "<nl>", "<nl>", "#", "undef", "DRIVER", "_", "STATE", "_", "PRINT", "_", "INT", "<nl>", "#", "undef", "DRIVER", "_", "STATE", "_", "PRINT", "_", "LONG", "<nl>", "struct", "wl1271", "{", "<nl>", "<nl>", "bool", "enable", "_", "11a", ";", "<nl>", "<nl>", "+", "int", "recovery", "_", "count", ";", "<nl>", "+", "<nl>", "/", "*", "Most", "recently", "reported", "noise", "in", "dBm", "*", "/", "<nl>", "s8", "noise", ";", "<nl>", "<nl>", "static", "void", "wlcore", "_", "print", "_", "recovery", "(", "struct", "wl1271", "*", "wl", ")", "<nl>", "if", "(", "ret", "<", "0", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "wl1271", "_", "info", "(", "\"", "pc", ":", "0x", "%", "x", ",", "hint", "_", "sts", ":", "0x", "%", "08x", "\"", ",", "pc", ",", "hint", "_", "sts", ")", ";", "<nl>", "+", "wl1271", "_", "info", "(", "\"", "pc", ":", "0x", "%", "x", ",", "hint", "_", "sts", ":", "0x", "%", "08x", "count", ":", "%", "d", "\"", ",", "<nl>", "+", "pc", ",", "hint", "_", "sts", ",", "+", "+", "wl", "-", ">", "recovery", "_", "count", ")", ";", "<nl>", "<nl>", "wlcore", "_", "set", "_", "partition", "(", "wl", ",", "&", "wl", "-", ">", "ptable", "[", "PART", "_", "WORK", "]", ")", ";", "<nl>", "}", "<nl>", "struct", "ieee80211", "_", "hw", "*", "wlcore", "_", "alloc", "_", "hw", "(", "size", "_", "t", "priv", "_", "size", ",", "u32", "aggr", "_", "buf", "_", "size", ",", "<nl>", "wl", "-", ">", "flags", "=", "0", ";", "<nl>", "wl", "-", ">", "sg", "_", "enabled", "=", "true", ";", "<nl>", "wl", "-", ">", "sleep", "_", "auth", "=", "WL1271", "_", "PSM", "_", "ILLEGAL", ";", "<nl>", "+", "wl", "-", ">", "recovery", "_", "count", "=", "0", ";", "<nl>", "wl", "-", ">", "hw", "_", "pg", "_", "ver", "=", "-", "1", ";", "<nl>", "wl", "-", ">", "ap", "_", "ps", "_", "map", "=", "0", ";", "<nl>", "wl", "-", ">", "ap", "_", "fw", "_", "ps", "_", "map", "=", "0", ";", "<nl>"], "docstring_tokens": ["wlcore", "gather", "information", "about", "firmware", "stability"]}
{"code_tokens": ["static", "void", "hdspm", "_", "set", "_", "dds", "_", "value", "(", "struct", "hdspm", "*", "hdspm", ",", "int", "rate", ")", "<nl>", "{", "<nl>", "u64", "n", ";", "<nl>", "<nl>", "+", "if", "(", "snd", "_", "BUG", "_", "ON", "(", "rate", "<", "=", "0", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "if", "(", "rate", ">", "=", "112000", ")", "<nl>", "rate", "/", "=", "4", ";", "<nl>", "else", "if", "(", "rate", ">", "=", "56000", ")", "<nl>", "static", "int", "hdspm", "_", "get", "_", "system", "_", "sample", "_", "rate", "(", "struct", "hdspm", "*", "hdspm", ")", "<nl>", "}", "else", "{", "<nl>", "/", "*", "slave", "mode", ",", "return", "external", "sample", "rate", "*", "/", "<nl>", "rate", "=", "hdspm", "_", "external", "_", "sample", "_", "rate", "(", "hdspm", ")", ";", "<nl>", "+", "if", "(", "!", "rate", ")", "<nl>", "+", "rate", "=", "hdspm", "-", ">", "system", "_", "sample", "_", "rate", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "static", "int", "snd", "_", "hdspm", "_", "put", "_", "system", "_", "sample", "_", "rate", "(", "struct", "snd", "_", "kcontrol", "*", "kcontrol", ",", "<nl>", "ucontrol", ")", "<nl>", "{", "<nl>", "struct", "hdspm", "*", "hdspm", "=", "snd", "_", "kcontrol", "_", "chip", "(", "kcontrol", ")", ";", "<nl>", "+", "int", "rate", "=", "ucontrol", "-", ">", "value", ".", "integer", ".", "value", "[", "0", "]", ";", "<nl>", "<nl>", "+", "if", "(", "rate", "<", "27000", "|", "|", "rate", ">", "207000", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "hdspm", "_", "set", "_", "dds", "_", "value", "(", "hdspm", ",", "ucontrol", "-", ">", "value", ".", "integer", ".", "value", "[", "0", "]", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "hdspm", "Fix", "zero", "division"]}
{"code_tokens": ["#", "include", "<", "net", "/", "neighbour", ".", "h", ">", "<nl>", "#", "include", "<", "net", "/", "route", ".", "h", ">", "<nl>", "#", "include", "<", "net", "/", "ip", "_", "fib", ".", "h", ">", "<nl>", "+", "#", "include", "<", "net", "/", "tcp", ".", "h", ">", "<nl>", "<nl>", "#", "include", "\"", "nes", ".", "h", "\"", "<nl>", "<nl>", "static", "int", "check", "_", "seq", "(", "struct", "nes", "_", "cm", "_", "node", "*", "cm", "_", "node", ",", "struct", "tcphdr", "*", "tcph", ",", "<nl>", "rcv", "_", "wnd", "=", "cm", "_", "node", "-", ">", "tcp", "_", "cntxt", ".", "rcv", "_", "wnd", ";", "<nl>", "if", "(", "ack", "_", "seq", "!", "=", "loc", "_", "seq", "_", "num", ")", "<nl>", "err", "=", "1", ";", "<nl>", "-", "else", "if", "(", "(", "seq", "+", "rcv", "_", "wnd", ")", "<", "rcv", "_", "nxt", ")", "<nl>", "+", "else", "if", "(", "!", "between", "(", "seq", ",", "rcv", "_", "nxt", ",", "(", "rcv", "_", "nxt", "+", "rcv", "_", "wnd", ")", ")", ")", "<nl>", "err", "=", "1", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "nes", "_", "debug", "(", "NES", "_", "DBG", "_", "CM", ",", "\"", "%", "s", "[", "%", "u", "]", "create", "abort", "for", "cm", "_", "node", "=", "%", "p", "\"", "<nl>"], "docstring_tokens": ["RDMA", "nes", "Check", "for", "sequence", "number", "wrap", "around"]}
{"code_tokens": ["static", "int", "i2c", "_", "check", "_", "addr", "(", "struct", "i2c", "_", "adapter", "*", "adapter", ",", "int", "addr", ")", "<nl>", "int", "i2c", "_", "attach", "_", "client", "(", "struct", "i2c", "_", "client", "*", "client", ")", "<nl>", "{", "<nl>", "struct", "i2c", "_", "adapter", "*", "adapter", "=", "client", "-", ">", "adapter", ";", "<nl>", "-", "int", "res", "=", "0", ";", "<nl>", "+", "int", "res", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Check", "for", "address", "business", "*", "/", "<nl>", "+", "res", "=", "i2c", "_", "check", "_", "addr", "(", "adapter", ",", "client", "-", ">", "addr", ")", ";", "<nl>", "+", "if", "(", "res", ")", "<nl>", "+", "return", "res", ";", "<nl>", "<nl>", "client", "-", ">", "dev", ".", "parent", "=", "&", "client", "-", ">", "adapter", "-", ">", "dev", ";", "<nl>", "client", "-", ">", "dev", ".", "bus", "=", "&", "i2c", "_", "bus", "_", "type", ";", "<nl>"], "docstring_tokens": ["i2c", "Check", "for", "address", "business", "before", "creating", "clients"]}
{"code_tokens": ["static", "int", "con", "_", "open", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "struct", "file", "*", "filp", ")", "<nl>", "tty", "-", ">", "winsize", ".", "ws", "_", "row", "=", "vc", "_", "cons", "[", "currcons", "]", ".", "d", "-", ">", "vc", "_", "rows", ";", "<nl>", "tty", "-", ">", "winsize", ".", "ws", "_", "col", "=", "vc", "_", "cons", "[", "currcons", "]", ".", "d", "-", ">", "vc", "_", "cols", ";", "<nl>", "}", "<nl>", "+", "if", "(", "vc", "-", ">", "vc", "_", "utf", ")", "<nl>", "+", "tty", "-", ">", "termios", "-", ">", "c", "_", "iflag", "|", "=", "IUTF8", ";", "<nl>", "+", "else", "<nl>", "+", "tty", "-", ">", "termios", "-", ">", "c", "_", "iflag", "&", "=", "~", "IUTF8", ";", "<nl>", "release", "_", "console", "_", "sem", "(", ")", ";", "<nl>", "vcs", "_", "make", "_", "sysfs", "(", "tty", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "int", "_", "_", "init", "vty", "_", "init", "(", "void", ")", "<nl>", "console", "_", "driver", "-", ">", "minor", "_", "start", "=", "1", ";", "<nl>", "console", "_", "driver", "-", ">", "type", "=", "TTY", "_", "DRIVER", "_", "TYPE", "_", "CONSOLE", ";", "<nl>", "console", "_", "driver", "-", ">", "init", "_", "termios", "=", "tty", "_", "std", "_", "termios", ";", "<nl>", "+", "if", "(", "default", "_", "utf8", ")", "<nl>", "+", "console", "_", "driver", "-", ">", "init", "_", "termios", ".", "c", "_", "iflag", "|", "=", "IUTF8", ";", "<nl>", "console", "_", "driver", "-", ">", "flags", "=", "TTY", "_", "DRIVER", "_", "REAL", "_", "RAW", "|", "TTY", "_", "DRIVER", "_", "RESET", "_", "TERMIOS", ";", "<nl>", "tty", "_", "set", "_", "operations", "(", "console", "_", "driver", ",", "&", "con", "_", "ops", ")", ";", "<nl>", "if", "(", "tty", "_", "register", "_", "driver", "(", "console", "_", "driver", ")", ")", "<nl>"], "docstring_tokens": ["vt", "fix", "canonical", "input", "in", "UTF", "8", "mode"]}
{"code_tokens": ["int", "rtw", "_", "disassoc", "_", "cmd23a", "(", "struct", "rtw", "_", "adapter", "*", "padapter", ",", "u32", "deauth", "_", "timeout", "_", "ms", ",", "<nl>", "}", "else", "{", "<nl>", "/", "*", "no", "need", "to", "enqueue", ",", "do", "the", "cmd", "hdl", "directly", "and", "<nl>", "free", "cmd", "parameter", "*", "/", "<nl>", "-", "if", "(", "H2C", "_", "SUCCESS", "!", "=", "disconnect", "_", "hdl23a", "(", "padapter", ",", "(", "u8", "*", ")", "param", ")", ")", "<nl>", "+", "if", "(", "disconnect", "_", "hdl23a", "(", "padapter", ",", "(", "u8", "*", ")", "param", ")", "!", "=", "H2C", "_", "SUCCESS", ")", "<nl>", "res", "=", "_", "FAIL", ";", "<nl>", "kfree", "(", "param", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "r8723au", "move", "constant", "to", "right", "of", "comparison", "test"]}
{"code_tokens": ["static", "void", "bmc150", "_", "accel", "_", "unregister", "_", "triggers", "(", "struct", "bmc150", "_", "accel", "_", "data", "*", "data", ",", "<nl>", "{", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "from", ";", "i", ">", "=", "0", ";", "i", "+", "+", ")", "{", "<nl>", "+", "for", "(", "i", "=", "from", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "<nl>", "if", "(", "data", "-", ">", "triggers", "[", "i", "]", ".", "indio", "_", "trig", ")", "{", "<nl>", "iio", "_", "trigger", "_", "unregister", "(", "data", "-", ">", "triggers", "[", "i", "]", ".", "indio", "_", "trig", ")", ";", "<nl>", "data", "-", ">", "triggers", "[", "i", "]", ".", "indio", "_", "trig", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["iio", "accel", "bmc150", "accel", "fix", "counting", "direction"]}
{"code_tokens": ["void", "i40e", "_", "dcbnl", "_", "set", "_", "all", "(", "struct", "i40e", "_", "vsi", "*", "vsi", ")", "<nl>", "if", "(", "!", "(", "pf", "-", ">", "flags", "&", "I40E", "_", "FLAG", "_", "DCB", "_", "ENABLED", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "+", "/", "*", "MFP", "mode", "but", "not", "an", "iSCSI", "PF", "so", "return", "*", "/", "<nl>", "+", "if", "(", "(", "pf", "-", ">", "flags", "&", "I40E", "_", "FLAG", "_", "MFP", "_", "ENABLED", ")", "&", "&", "!", "(", "pf", "-", ">", "hw", ".", "func", "_", "caps", ".", "iscsi", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "dcbxcfg", "=", "&", "hw", "-", ">", "local", "_", "dcbx", "_", "config", ";", "<nl>", "<nl>", "/", "*", "Set", "up", "all", "the", "App", "TLVs", "if", "DCBx", "is", "negotiated", "*", "/", "<nl>", "void", "i40e", "_", "dcbnl", "_", "flush", "_", "apps", "(", "struct", "i40e", "_", "pf", "*", "pf", ",", "<nl>", "struct", "i40e", "_", "dcb", "_", "app", "_", "priority", "_", "table", "app", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "+", "/", "*", "MFP", "mode", "but", "not", "an", "iSCSI", "PF", "so", "return", "*", "/", "<nl>", "+", "if", "(", "(", "pf", "-", ">", "flags", "&", "I40E", "_", "FLAG", "_", "MFP", "_", "ENABLED", ")", "&", "&", "!", "(", "pf", "-", ">", "hw", ".", "func", "_", "caps", ".", "iscsi", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "old", "_", "cfg", "-", ">", "numapps", ";", "i", "+", "+", ")", "{", "<nl>", "app", "=", "old", "_", "cfg", "-", ">", "app", "[", "i", "]", ";", "<nl>", "/", "*", "The", "APP", "is", "not", "available", "anymore", "delete", "it", "*", "/", "<nl>"], "docstring_tokens": ["i40e", "Don", "t", "register", "de", "register", "apps", "on", "NIC", "partitions", "in", "MFP", "mode"]}
{"code_tokens": ["struct", "cfg80211", "_", "bss", "*", "cfg80211", "_", "get", "_", "bss", "(", "struct", "wiphy", "*", "wiphy", ",", "<nl>", "continue", ";", "<nl>", "if", "(", "channel", "&", "&", "bss", "-", ">", "pub", ".", "channel", "!", "=", "channel", ")", "<nl>", "continue", ";", "<nl>", "+", "if", "(", "!", "is", "_", "valid", "_", "ether", "_", "addr", "(", "bss", "-", ">", "pub", ".", "bssid", ")", ")", "<nl>", "+", "continue", ";", "<nl>", "/", "*", "Don", "'", "t", "get", "expired", "BSS", "structs", "*", "/", "<nl>", "if", "(", "time", "_", "after", "(", "now", ",", "bss", "-", ">", "ts", "+", "IEEE80211", "_", "SCAN", "_", "RESULT", "_", "EXPIRE", ")", "&", "&", "<nl>", "!", "atomic", "_", "read", "(", "&", "bss", "-", ">", "hold", ")", ")", "<nl>"], "docstring_tokens": ["cfg80211", "ignore", "invalid", "BSSIDs", "when", "looking", "for", "BSSes"]}
{"code_tokens": ["static", "int", "xgbe", "_", "map", "_", "tx", "_", "skb", "(", "struct", "xgbe", "_", "channel", "*", "channel", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "Save", "the", "skb", "address", "in", "the", "last", "entry", "*", "/", "<nl>", "+", "/", "*", "Save", "the", "skb", "address", "in", "the", "last", "entry", ".", "We", "always", "have", "some", "data", "<nl>", "+", "*", "that", "has", "been", "mapped", "so", "rdata", "is", "always", "advanced", "past", "the", "last", "<nl>", "+", "*", "piece", "of", "mapped", "data", "-", "use", "the", "entry", "pointed", "to", "by", "cur", "_", "index", "-", "1", ".", "<nl>", "+", "*", "/", "<nl>", "+", "rdata", "=", "XGBE", "_", "GET", "_", "DESC", "_", "DATA", "(", "ring", ",", "cur", "_", "index", "-", "1", ")", ";", "<nl>", "rdata", "-", ">", "skb", "=", "skb", ";", "<nl>", "<nl>", "/", "*", "Save", "the", "number", "of", "descriptor", "entries", "used", "*", "/", "<nl>"], "docstring_tokens": ["amd", "xgbe", "Associate", "Tx", "SKB", "with", "proper", "ring", "descriptor"]}
{"code_tokens": ["static", "int", "skl", "_", "manifest", "_", "load", "(", "struct", "snd", "_", "soc", "_", "component", "*", "cmpnt", ",", "<nl>", "struct", "skl", "*", "skl", "=", "ebus", "_", "to", "_", "skl", "(", "ebus", ")", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "+", "/", "*", "proceed", "only", "if", "we", "have", "private", "data", "defined", "*", "/", "<nl>", "+", "if", "(", "manifest", "-", ">", "priv", ".", "size", "=", "=", "0", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "minfo", "=", "&", "skl", "-", ">", "skl", "_", "sst", "-", ">", "manifest", ";", "<nl>", "<nl>", "skl", "_", "tplg", "_", "get", "_", "manifest", "_", "data", "(", "manifest", ",", "bus", "-", ">", "dev", ",", "minfo", ")", ";", "<nl>"], "docstring_tokens": ["ASoC", "Intel", "Skylake", "check", "manifest", "size"]}
{"code_tokens": ["static", "struct", "attribute", "*", "module", "_", "attrs", "[", "]", "=", "{", "<nl>", "}", ";", "<nl>", "ATTRIBUTE", "_", "GROUPS", "(", "module", ")", ";", "<nl>", "<nl>", "-", "static", "void", "greybus", "_", "module", "_", "release", "(", "struct", "device", "*", "dev", ")", "<nl>", "+", "static", "void", "gb", "_", "module", "_", "release", "(", "struct", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "struct", "gb", "_", "module", "*", "module", "=", "to", "_", "gb", "_", "module", "(", "dev", ")", ";", "<nl>", "<nl>", "static", "void", "greybus", "_", "module", "_", "release", "(", "struct", "device", "*", "dev", ")", "<nl>", "<nl>", "struct", "device", "_", "type", "greybus", "_", "module", "_", "type", "=", "{", "<nl>", ".", "name", "=", "\"", "greybus", "_", "module", "\"", ",", "<nl>", "-", ".", "release", "=", "greybus", "_", "module", "_", "release", ",", "<nl>", "+", ".", "release", "=", "gb", "_", "module", "_", "release", ",", "<nl>", "}", ";", "<nl>", "<nl>", "struct", "module", "_", "find", "{", "<nl>"], "docstring_tokens": ["greybus", "module", "name", "routines", "consistently"]}
{"code_tokens": ["static", "int", "nsc", "_", "ircc", "_", "probe", "_", "39x", "(", "nsc", "_", "chip", "_", "t", "*", "chip", ",", "chipio", "_", "t", "*", "info", ")", ";", "<nl>", "static", "int", "nsc", "_", "ircc", "_", "init", "_", "108", "(", "nsc", "_", "chip", "_", "t", "*", "chip", ",", "chipio", "_", "t", "*", "info", ")", ";", "<nl>", "static", "int", "nsc", "_", "ircc", "_", "init", "_", "338", "(", "nsc", "_", "chip", "_", "t", "*", "chip", ",", "chipio", "_", "t", "*", "info", ")", ";", "<nl>", "static", "int", "nsc", "_", "ircc", "_", "init", "_", "39x", "(", "nsc", "_", "chip", "_", "t", "*", "chip", ",", "chipio", "_", "t", "*", "info", ")", ";", "<nl>", "+", "#", "ifdef", "CONFIG", "_", "PNP", "<nl>", "static", "int", "nsc", "_", "ircc", "_", "pnp", "_", "probe", "(", "struct", "pnp", "_", "dev", "*", "dev", ",", "const", "struct", "pnp", "_", "device", "_", "id", "*", "id", ")", ";", "<nl>", "+", "#", "endif", "<nl>", "<nl>", "/", "*", "These", "are", "the", "known", "NSC", "chips", "*", "/", "<nl>", "static", "nsc", "_", "chip", "_", "t", "chips", "[", "]", "=", "{", "<nl>", "static", "const", "struct", "pnp", "_", "device", "_", "id", "nsc", "_", "ircc", "_", "pnp", "_", "table", "[", "]", "=", "{", "<nl>", "MODULE", "_", "DEVICE", "_", "TABLE", "(", "pnp", ",", "nsc", "_", "ircc", "_", "pnp", "_", "table", ")", ";", "<nl>", "<nl>", "static", "struct", "pnp", "_", "driver", "nsc", "_", "ircc", "_", "pnp", "_", "driver", "=", "{", "<nl>", "+", "#", "ifdef", "CONFIG", "_", "PNP", "<nl>", ".", "name", "=", "\"", "nsc", "-", "ircc", "\"", ",", "<nl>", ".", "id", "_", "table", "=", "nsc", "_", "ircc", "_", "pnp", "_", "table", ",", "<nl>", ".", "probe", "=", "nsc", "_", "ircc", "_", "pnp", "_", "probe", ",", "<nl>", "+", "#", "endif", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "Some", "prototypes", "*", "/", "<nl>", "static", "int", "nsc", "_", "ircc", "_", "probe", "_", "39x", "(", "nsc", "_", "chip", "_", "t", "*", "chip", ",", "chipio", "_", "t", "*", "info", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "#", "ifdef", "CONFIG", "_", "PNP", "<nl>", "/", "*", "PNP", "probing", "*", "/", "<nl>", "static", "int", "nsc", "_", "ircc", "_", "pnp", "_", "probe", "(", "struct", "pnp", "_", "dev", "*", "dev", ",", "const", "struct", "pnp", "_", "device", "_", "id", "*", "id", ")", "<nl>", "{", "<nl>", "static", "int", "nsc", "_", "ircc", "_", "pnp", "_", "probe", "(", "struct", "pnp", "_", "dev", "*", "dev", ",", "const", "struct", "pnp", "_", "device", "_", "id", "*", "i", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "+", "#", "endif", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Function", "nsc", "_", "ircc", "_", "setup", "(", "info", ")", "<nl>"], "docstring_tokens": ["irda", "fix", "PNP", "support", "in", "drivers", "net", "irda", "nsc", "ircc", "c"]}
{"code_tokens": ["static", "int", "pcf85063", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "const", "struct", "i2c", "_", "device", "_", "id", "*", "id", ")", "<nl>", "{", "<nl>", "struct", "rtc", "_", "device", "*", "rtc", ";", "<nl>", "+", "int", "err", ";", "<nl>", "<nl>", "dev", "_", "dbg", "(", "&", "client", "-", ">", "dev", ",", "\"", "%", "s", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "<nl>", "if", "(", "!", "i2c", "_", "check", "_", "functionality", "(", "client", "-", ">", "adapter", ",", "I2C", "_", "FUNC", "_", "I2C", ")", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "+", "err", "=", "i2c", "_", "smbus", "_", "read", "_", "byte", "_", "data", "(", "client", ",", "PCF85063", "_", "REG", "_", "CTRL1", ")", ";", "<nl>", "+", "if", "(", "err", "<", "0", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "client", "-", ">", "dev", ",", "\"", "RTC", "chip", "is", "not", "present", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "err", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "rtc", "=", "devm", "_", "rtc", "_", "device", "_", "register", "(", "&", "client", "-", ">", "dev", ",", "<nl>", "pcf85063", "_", "driver", ".", "driver", ".", "name", ",", "<nl>", "&", "pcf85063", "_", "rtc", "_", "ops", ",", "THIS", "_", "MODULE", ")", ";", "<nl>"], "docstring_tokens": ["rtc", "pcf85063", "do", "not", "register", "a", "RTC", "device", "if", "chip", "is", "not", "present"]}
{"code_tokens": ["static", "int", "virtnet", "_", "set", "_", "channels", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "if", "(", "channels", "-", ">", "rx", "_", "count", "|", "|", "channels", "-", ">", "tx", "_", "count", "|", "|", "channels", "-", ">", "other", "_", "count", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "-", "if", "(", "queue", "_", "pairs", ">", "vi", "-", ">", "max", "_", "queue", "_", "pairs", ")", "<nl>", "+", "if", "(", "queue", "_", "pairs", ">", "vi", "-", ">", "max", "_", "queue", "_", "pairs", "|", "|", "queue", "_", "pairs", "=", "=", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "get", "_", "online", "_", "cpus", "(", ")", ";", "<nl>"], "docstring_tokens": ["virtio_net", "zero", "is", "an", "invald", "queue_pairs", "number"]}
{"code_tokens": ["struct", "phy", "*", "phy", "_", "create", "(", "struct", "device", "*", "dev", ",", "const", "struct", "phy", "_", "ops", "*", "ops", ",", "<nl>", "if", "(", "id", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "unable", "to", "get", "id", "\\", "n", "\"", ")", ";", "<nl>", "ret", "=", "id", ";", "<nl>", "-", "goto", "err0", ";", "<nl>", "+", "goto", "err1", ";", "<nl>", "}", "<nl>", "<nl>", "device", "_", "initialize", "(", "&", "phy", "-", ">", "dev", ")", ";", "<nl>", "struct", "phy", "*", "phy", "_", "create", "(", "struct", "device", "*", "dev", ",", "const", "struct", "phy", "_", "ops", "*", "ops", ",", "<nl>", "<nl>", "ret", "=", "dev", "_", "set", "_", "name", "(", "&", "phy", "-", ">", "dev", ",", "\"", "phy", "-", "%", "s", ".", "%", "d", "\"", ",", "dev", "_", "name", "(", "dev", ")", ",", "id", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "-", "goto", "err1", ";", "<nl>", "+", "goto", "err2", ";", "<nl>", "<nl>", "ret", "=", "device", "_", "add", "(", "&", "phy", "-", ">", "dev", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "-", "goto", "err1", ";", "<nl>", "+", "goto", "err2", ";", "<nl>", "<nl>", "if", "(", "pm", "_", "runtime", "_", "enabled", "(", "dev", ")", ")", "{", "<nl>", "pm", "_", "runtime", "_", "enable", "(", "&", "phy", "-", ">", "dev", ")", ";", "<nl>", "struct", "phy", "*", "phy", "_", "create", "(", "struct", "device", "*", "dev", ",", "const", "struct", "phy", "_", "ops", "*", "ops", ",", "<nl>", "<nl>", "return", "phy", ";", "<nl>", "<nl>", "-", "err1", ":", "<nl>", "+", "err2", ":", "<nl>", "ida", "_", "remove", "(", "&", "phy", "_", "ida", ",", "phy", "-", ">", "id", ")", ";", "<nl>", "put", "_", "device", "(", "&", "phy", "-", ">", "dev", ")", ";", "<nl>", "+", "err1", ":", "<nl>", "kfree", "(", "phy", ")", ";", "<nl>", "-", "<nl>", "err0", ":", "<nl>", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drivers", "phy", "Fix", "memory", "leak"]}
{"code_tokens": ["static", "void", "get", "_", "cfg", "_", "composite", "_", "div", "(", "const", "struct", "composite", "_", "clk", "_", "gcfg", "*", "gcfg", ",", "<nl>", "mux", "_", "ops", "=", "div", "_", "ops", "=", "gate", "_", "ops", "=", "NULL", ";", "<nl>", "mux", "_", "hw", "=", "div", "_", "hw", "=", "gate", "_", "hw", "=", "NULL", ";", "<nl>", "<nl>", "-", "if", "(", "gcfg", "-", ">", "mux", "&", "&", "gcfg", "-", ">", "mux", ")", "{", "<nl>", "+", "if", "(", "gcfg", "-", ">", "mux", "&", "&", "cfg", "-", ">", "mux", ")", "{", "<nl>", "mux", "=", "_", "get", "_", "cmux", "(", "base", "+", "cfg", "-", ">", "mux", "-", ">", "offset", ",", "<nl>", "cfg", "-", ">", "mux", "-", ">", "shift", ",", "<nl>", "cfg", "-", ">", "mux", "-", ">", "width", ",", "<nl>", "static", "void", "get", "_", "cfg", "_", "composite", "_", "div", "(", "const", "struct", "composite", "_", "clk", "_", "gcfg", "*", "gcfg", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "gcfg", "-", ">", "gate", "&", "&", "gcfg", "-", ">", "gate", ")", "{", "<nl>", "+", "if", "(", "gcfg", "-", ">", "gate", "&", "&", "cfg", "-", ">", "gate", ")", "{", "<nl>", "gate", "=", "_", "get", "_", "cgate", "(", "base", "+", "cfg", "-", ">", "gate", "-", ">", "offset", ",", "<nl>", "cfg", "-", ">", "gate", "-", ">", "bit", "_", "idx", ",", "<nl>", "gcfg", "-", ">", "gate", "-", ">", "flags", ",", "lock", ")", ";", "<nl>"], "docstring_tokens": ["clk", "stm32h7", "fix", "test", "of", "clock", "config"]}
{"code_tokens": ["static", "void", "flush", "_", "tmregs", "_", "to", "_", "thread", "(", "struct", "task", "_", "struct", "*", "tsk", ")", "<nl>", "*", "in", "the", "appropriate", "thread", "structures", "from", "live", ".", "<nl>", "*", "/", "<nl>", "<nl>", "-", "if", "(", "tsk", "!", "=", "current", ")", "<nl>", "+", "if", "(", "(", "!", "cpu", "_", "has", "_", "feature", "(", "CPU", "_", "FTR", "_", "TM", ")", ")", "|", "|", "(", "tsk", "!", "=", "current", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "if", "(", "MSR", "_", "TM", "_", "SUSPENDED", "(", "mfmsr", "(", ")", ")", ")", "{", "<nl>"], "docstring_tokens": ["powerpc", "tm", "Flush", "TM", "only", "if", "CPU", "has", "TM", "feature"]}
{"code_tokens": ["#", "define", "OMAP24XX", "_", "EN", "_", "GPT1", "_", "MASK", "(", "1", "<", "<", "0", ")", "<nl>", "<nl>", "/", "*", "PM", "_", "WKST", "_", "WKUP", ",", "CM", "_", "IDLEST", "_", "WKUP", "shared", "bits", "*", "/", "<nl>", "-", "#", "define", "OMAP24XX", "_", "ST", "_", "GPIOS", "_", "SHIFT", "(", "1", "<", "<", "2", ")", "<nl>", "-", "#", "define", "OMAP24XX", "_", "ST", "_", "GPIOS", "_", "MASK", "2", "<nl>", "-", "#", "define", "OMAP24XX", "_", "ST", "_", "GPT1", "_", "SHIFT", "(", "1", "<", "<", "0", ")", "<nl>", "-", "#", "define", "OMAP24XX", "_", "ST", "_", "GPT1", "_", "MASK", "0", "<nl>", "+", "#", "define", "OMAP24XX", "_", "ST", "_", "GPIOS", "_", "SHIFT", "2", "<nl>", "+", "#", "define", "OMAP24XX", "_", "ST", "_", "GPIOS", "_", "MASK", "(", "1", "<", "<", "2", ")", "<nl>", "+", "#", "define", "OMAP24XX", "_", "ST", "_", "GPT1", "_", "SHIFT", "0", "<nl>", "+", "#", "define", "OMAP24XX", "_", "ST", "_", "GPT1", "_", "MASK", "(", "1", "<", "<", "0", ")", "<nl>", "<nl>", "/", "*", "CM", "_", "IDLEST", "_", "MDM", "and", "PM", "_", "WKST", "_", "MDM", "shared", "bits", "*", "/", "<nl>", "-", "#", "define", "OMAP2430", "_", "ST", "_", "MDM", "_", "SHIFT", "(", "1", "<", "<", "0", ")", "<nl>", "+", "#", "define", "OMAP2430", "_", "ST", "_", "MDM", "_", "SHIFT", "0", "<nl>", "+", "#", "define", "OMAP2430", "_", "ST", "_", "MDM", "_", "MASK", "(", "1", "<", "<", "0", ")", "<nl>", "<nl>", "<nl>", "/", "*", "3430", "register", "bits", "shared", "between", "CM", "&", "PRM", "registers", "*", "/", "<nl>"], "docstring_tokens": ["OMAP2", "PRCM", "fix", "some", "SHIFT", "macros", "that", "were", "actually", "bitmasks"]}
{"code_tokens": ["static", "int", "bcm", "_", "sysport", "_", "init", "_", "tx", "_", "ring", "(", "struct", "bcm", "_", "sysport", "_", "priv", "*", "priv", ",", "<nl>", "<nl>", "ring", "-", ">", "cbs", "=", "kcalloc", "(", "size", ",", "sizeof", "(", "struct", "bcm", "_", "sysport", "_", "cb", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "ring", "-", ">", "cbs", ")", "{", "<nl>", "+", "dma", "_", "free", "_", "coherent", "(", "kdev", ",", "sizeof", "(", "struct", "dma", "_", "desc", ")", ",", "<nl>", "+", "ring", "-", ">", "desc", "_", "cpu", ",", "ring", "-", ">", "desc", "_", "dma", ")", ";", "<nl>", "netif", "_", "err", "(", "priv", ",", "hw", ",", "priv", "-", ">", "netdev", ",", "\"", "CB", "allocation", "failed", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "systemport", "Free", "DMA", "coherent", "descriptors", "on", "errors"]}
{"code_tokens": ["static", "int", "fuse", "_", "notify", "_", "inval", "_", "entry", "(", "struct", "fuse", "_", "conn", "*", "fc", ",", "unsigned", "int", "size", ",", "<nl>", "if", "(", "outarg", ".", "namelen", ">", "FUSE", "_", "NAME", "_", "MAX", ")", "<nl>", "goto", "err", ";", "<nl>", "<nl>", "+", "err", "=", "-", "EINVAL", ";", "<nl>", "+", "if", "(", "size", "!", "=", "sizeof", "(", "outarg", ")", "+", "outarg", ".", "namelen", "+", "1", ")", "<nl>", "+", "goto", "err", ";", "<nl>", "+", "<nl>", "name", ".", "name", "=", "buf", ";", "<nl>", "name", ".", "len", "=", "outarg", ".", "namelen", ";", "<nl>", "err", "=", "fuse", "_", "copy", "_", "one", "(", "cs", ",", "buf", ",", "outarg", ".", "namelen", "+", "1", ")", ";", "<nl>"], "docstring_tokens": ["fuse", "check", "size", "of", "FUSE_NOTIFY_INVAL_ENTRY", "message"]}
{"code_tokens": ["ixgb", "_", "unmap", "_", "and", "_", "free", "_", "tx", "_", "resource", "(", "struct", "ixgb", "_", "adapter", "*", "adapter", ",", "<nl>", "pci", "_", "unmap", "_", "page", "(", "pdev", ",", "buffer", "_", "info", "-", ">", "dma", ",", "buffer", "_", "info", "-", ">", "length", ",", "<nl>", "PCI", "_", "DMA", "_", "TODEVICE", ")", ";", "<nl>", "<nl>", "+", "/", "*", "okay", "to", "call", "kfree", "_", "skb", "here", "instead", "of", "kfree", "_", "skb", "_", "any", "because", "<nl>", "+", "*", "this", "is", "never", "called", "in", "interrupt", "context", "*", "/", "<nl>", "if", "(", "buffer", "_", "info", "-", ">", "skb", ")", "<nl>", "-", "dev", "_", "kfree", "_", "skb", "_", "any", "(", "buffer", "_", "info", "-", ">", "skb", ")", ";", "<nl>", "+", "dev", "_", "kfree", "_", "skb", "(", "buffer", "_", "info", "-", ">", "skb", ")", ";", "<nl>", "<nl>", "buffer", "_", "info", "-", ">", "skb", "=", "NULL", ";", "<nl>", "buffer", "_", "info", "-", ">", "dma", "=", "0", ";", "<nl>", "ixgb", "_", "xmit", "_", "frame", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "netdev", ")", "<nl>", "}", "<nl>", "<nl>", "if", "(", "skb", "-", ">", "len", "<", "=", "0", ")", "{", "<nl>", "-", "dev", "_", "kfree", "_", "skb", "_", "any", "(", "skb", ")", ";", "<nl>", "+", "dev", "_", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "ixgb", "_", "xmit", "_", "frame", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "netdev", ")", "<nl>", "<nl>", "tso", "=", "ixgb", "_", "tso", "(", "adapter", ",", "skb", ")", ";", "<nl>", "if", "(", "tso", "<", "0", ")", "{", "<nl>", "-", "dev", "_", "kfree", "_", "skb", "_", "any", "(", "skb", ")", ";", "<nl>", "+", "dev", "_", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "return", "NETDEV", "_", "TX", "_", "OK", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ixgb", "audit", "use", "of", "dev_kfree_skb_any"]}
{"code_tokens": ["static", "int", "rds", "_", "ib", "_", "laddr", "_", "check", "(", "_", "_", "be32", "addr", ")", "<nl>", "ret", "=", "rdma", "_", "bind", "_", "addr", "(", "cm", "_", "id", ",", "(", "struct", "sockaddr", "*", ")", "&", "sin", ")", ";", "<nl>", "/", "*", "due", "to", "this", ",", "we", "will", "claim", "to", "support", "iWARP", "devices", "unless", "we", "<nl>", "check", "node", "_", "type", ".", "*", "/", "<nl>", "-", "if", "(", "ret", "|", "|", "cm", "_", "id", "-", ">", "device", "-", ">", "node", "_", "type", "!", "=", "RDMA", "_", "NODE", "_", "IB", "_", "CA", ")", "<nl>", "+", "if", "(", "ret", "|", "|", "!", "cm", "_", "id", "-", ">", "device", "|", "|", "<nl>", "+", "cm", "_", "id", "-", ">", "device", "-", ">", "node", "_", "type", "!", "=", "RDMA", "_", "NODE", "_", "IB", "_", "CA", ")", "<nl>", "ret", "=", "-", "EADDRNOTAVAIL", ";", "<nl>", "<nl>", "rdsdebug", "(", "\"", "addr", "%", "pI4", "ret", "%", "d", "node", "type", "%", "d", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["rds", "prevent", "dereference", "of", "a", "NULL", "device"]}
{"code_tokens": ["static", "int", "virtio", "_", "gpu", "_", "object", "_", "shmem", "_", "init", "(", "struct", "virtio", "_", "gpu", "_", "device", "*", "vgdev", ",", "<nl>", "*", "since", "virtio", "_", "gpu", "doesn", "'", "t", "support", "dma", "-", "buf", "import", "from", "other", "devices", ".", "<nl>", "*", "/", "<nl>", "shmem", "-", ">", "pages", "=", "drm", "_", "gem", "_", "shmem", "_", "get", "_", "sg", "_", "table", "(", "&", "bo", "-", ">", "base", ")", ";", "<nl>", "-", "if", "(", "!", "shmem", "-", ">", "pages", ")", "{", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "shmem", "-", ">", "pages", ")", ")", "{", "<nl>", "drm", "_", "gem", "_", "shmem", "_", "unpin", "(", "&", "bo", "-", ">", "base", ")", ";", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "+", "return", "PTR", "_", "ERR", "(", "shmem", "-", ">", "pages", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "use", "_", "dma", "_", "api", ")", "{", "<nl>"], "docstring_tokens": ["drm", "virtio", "Fix", "NULL", "vs", "IS_ERR", "checking", "in", "virtio_gpu_object_shmem_init"]}
{"code_tokens": ["static", "void", "_", "_", "init", "_", "_", "free", "_", "pages", "_", "memory", "(", "unsigned", "long", "start", ",", "unsigned", "long", "end", ")", "<nl>", "end", "_", "aligned", "=", "end", "&", "~", "(", "BITS", "_", "PER", "_", "LONG", "-", "1", ")", ";", "<nl>", "<nl>", "if", "(", "end", "_", "aligned", "<", "=", "start", "_", "aligned", ")", "{", "<nl>", "-", "#", "if", "1", "<nl>", "-", "printk", "(", "KERN", "_", "DEBUG", "\"", "%", "lx", "-", "%", "lx", "\\", "n", "\"", ",", "start", ",", "end", ")", ";", "<nl>", "-", "#", "endif", "<nl>", "for", "(", "i", "=", "start", ";", "i", "<", "end", ";", "i", "+", "+", ")", "<nl>", "_", "_", "free", "_", "pages", "_", "bootmem", "(", "pfn", "_", "to", "_", "page", "(", "i", ")", ",", "0", ")", ";", "<nl>", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "-", "#", "if", "1", "<nl>", "-", "printk", "(", "KERN", "_", "DEBUG", "\"", "%", "lx", "%", "lx", "-", "%", "lx", "%", "lx", "\\", "n", "\"", ",", "<nl>", "-", "start", ",", "start", "_", "aligned", ",", "end", "_", "aligned", ",", "end", ")", ";", "<nl>", "-", "#", "endif", "<nl>", "for", "(", "i", "=", "start", ";", "i", "<", "start", "_", "aligned", ";", "i", "+", "+", ")", "<nl>", "_", "_", "free", "_", "pages", "_", "bootmem", "(", "pfn", "_", "to", "_", "page", "(", "i", ")", ",", "0", ")", ";", "<nl>", "<nl>", "void", "_", "_", "init", "free", "_", "bootmem", "_", "node", "(", "pg", "_", "data", "_", "t", "*", "pgdat", ",", "unsigned", "long", "physaddr", ",", "<nl>", "{", "<nl>", "#", "ifdef", "CONFIG", "_", "NO", "_", "BOOTMEM", "<nl>", "free", "_", "early", "(", "physaddr", ",", "physaddr", "+", "size", ")", ";", "<nl>", "-", "#", "if", "0", "<nl>", "-", "printk", "(", "KERN", "_", "DEBUG", "\"", "free", "%", "lx", "%", "lx", "\\", "n", "\"", ",", "physaddr", ",", "size", ")", ";", "<nl>", "-", "#", "endif", "<nl>", "#", "else", "<nl>", "unsigned", "long", "start", ",", "end", ";", "<nl>", "<nl>", "void", "_", "_", "init", "free", "_", "bootmem", "(", "unsigned", "long", "addr", ",", "unsigned", "long", "size", ")", "<nl>", "{", "<nl>", "#", "ifdef", "CONFIG", "_", "NO", "_", "BOOTMEM", "<nl>", "free", "_", "early", "(", "addr", ",", "addr", "+", "size", ")", ";", "<nl>", "-", "#", "if", "0", "<nl>", "-", "printk", "(", "KERN", "_", "DEBUG", "\"", "free", "%", "lx", "%", "lx", "\\", "n", "\"", ",", "addr", ",", "size", ")", ";", "<nl>", "-", "#", "endif", "<nl>", "#", "else", "<nl>", "unsigned", "long", "start", ",", "end", ";", "<nl>"], "docstring_tokens": ["x86", "Remove", "excessive", "early_res", "debug", "output"]}
{"code_tokens": ["static", "void", "arc", "_", "emac", "_", "tx", "_", "clean", "(", "struct", "net", "_", "device", "*", "ndev", ")", "<nl>", "struct", "sk", "_", "buff", "*", "skb", "=", "tx", "_", "buff", "-", ">", "skb", ";", "<nl>", "unsigned", "int", "info", "=", "le32", "_", "to", "_", "cpu", "(", "txbd", "-", ">", "info", ")", ";", "<nl>", "<nl>", "-", "if", "(", "(", "info", "&", "FOR", "_", "EMAC", ")", "|", "|", "!", "txbd", "-", ">", "data", ")", "<nl>", "+", "if", "(", "(", "info", "&", "FOR", "_", "EMAC", ")", "|", "|", "!", "txbd", "-", ">", "data", "|", "|", "!", "skb", ")", "<nl>", "break", ";", "<nl>", "<nl>", "if", "(", "unlikely", "(", "info", "&", "(", "DROP", "|", "DEFR", "|", "LTCL", "|", "UFLO", ")", ")", ")", "{", "<nl>", "static", "void", "arc", "_", "emac", "_", "tx", "_", "clean", "(", "struct", "net", "_", "device", "*", "ndev", ")", "<nl>", "<nl>", "txbd", "-", ">", "data", "=", "0", ";", "<nl>", "txbd", "-", ">", "info", "=", "0", ";", "<nl>", "+", "tx", "_", "buff", "-", ">", "skb", "=", "NULL", ";", "<nl>", "<nl>", "*", "txbd", "_", "dirty", "=", "(", "*", "txbd", "_", "dirty", "+", "1", ")", "%", "TX", "_", "BD", "_", "NUM", ";", "<nl>", "}", "<nl>", "static", "int", "arc", "_", "emac", "_", "tx", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "ndev", ")", "<nl>", "dma", "_", "unmap", "_", "addr", "_", "set", "(", "&", "priv", "-", ">", "tx", "_", "buff", "[", "*", "txbd", "_", "curr", "]", ",", "addr", ",", "addr", ")", ";", "<nl>", "dma", "_", "unmap", "_", "len", "_", "set", "(", "&", "priv", "-", ">", "tx", "_", "buff", "[", "*", "txbd", "_", "curr", "]", ",", "len", ",", "len", ")", ";", "<nl>", "<nl>", "-", "priv", "-", ">", "tx", "_", "buff", "[", "*", "txbd", "_", "curr", "]", ".", "skb", "=", "skb", ";", "<nl>", "priv", "-", ">", "txbd", "[", "*", "txbd", "_", "curr", "]", ".", "data", "=", "cpu", "_", "to", "_", "le32", "(", "addr", ")", ";", "<nl>", "<nl>", "/", "*", "Make", "sure", "pointer", "to", "data", "buffer", "is", "set", "*", "/", "<nl>", "static", "int", "arc", "_", "emac", "_", "tx", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "ndev", ")", "<nl>", "<nl>", "*", "info", "=", "cpu", "_", "to", "_", "le32", "(", "FOR", "_", "EMAC", "|", "FIRST", "_", "OR", "_", "LAST", "_", "MASK", "|", "len", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Make", "sure", "info", "word", "is", "set", "*", "/", "<nl>", "+", "wmb", "(", ")", ";", "<nl>", "+", "<nl>", "+", "priv", "-", ">", "tx", "_", "buff", "[", "*", "txbd", "_", "curr", "]", ".", "skb", "=", "skb", ";", "<nl>", "+", "<nl>", "/", "*", "Increment", "index", "to", "point", "to", "the", "next", "BD", "*", "/", "<nl>", "*", "txbd", "_", "curr", "=", "(", "*", "txbd", "_", "curr", "+", "1", ")", "%", "TX", "_", "BD", "_", "NUM", ";", "<nl>"], "docstring_tokens": ["net", "arc_emac", "fix", "koops", "caused", "by", "sk_buff", "free"]}
{"code_tokens": ["static", "int", "tty", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "if", "(", "IS", "_", "ERR", "(", "tty", ")", ")", "{", "<nl>", "tty", "_", "unlock", "(", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "tty", "_", "mutex", ")", ";", "<nl>", "+", "tty", "_", "driver", "_", "kref", "_", "put", "(", "driver", ")", ";", "<nl>", "return", "PTR", "_", "ERR", "(", "tty", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["TTY", "drop", "driver", "reference", "in", "tty_open", "fail", "path"]}
{"code_tokens": ["static", "int", "ssd1307fb", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "snprintf", "(", "bl", "_", "name", ",", "sizeof", "(", "bl", "_", "name", ")", ",", "\"", "ssd1307fb", "%", "d", "\"", ",", "info", "-", ">", "node", ")", ";", "<nl>", "bl", "=", "backlight", "_", "device", "_", "register", "(", "bl", "_", "name", ",", "&", "client", "-", ">", "dev", ",", "par", ",", "<nl>", "&", "ssd1307fb", "_", "bl", "_", "ops", ",", "NULL", ")", ";", "<nl>", "-", "bl", "-", ">", "props", ".", "brightness", "=", "par", "-", ">", "contrast", ";", "<nl>", "-", "bl", "-", ">", "props", ".", "max", "_", "brightness", "=", "MAX", "_", "CONTRAST", ";", "<nl>", "-", "info", "-", ">", "bl", "_", "dev", "=", "bl", ";", "<nl>", "-", "<nl>", "if", "(", "IS", "_", "ERR", "(", "bl", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "client", "-", ">", "dev", ",", "\"", "unable", "to", "register", "backlight", "device", ":", "%", "ld", "\\", "n", "\"", ",", "<nl>", "PTR", "_", "ERR", "(", "bl", ")", ")", ";", "<nl>", "goto", "bl", "_", "init", "_", "error", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "bl", "-", ">", "props", ".", "brightness", "=", "par", "-", ">", "contrast", ";", "<nl>", "+", "bl", "-", ">", "props", ".", "max", "_", "brightness", "=", "MAX", "_", "CONTRAST", ";", "<nl>", "+", "info", "-", ">", "bl", "_", "dev", "=", "bl", ";", "<nl>", "+", "<nl>", "dev", "_", "info", "(", "&", "client", "-", ">", "dev", ",", "\"", "fb", "%", "d", ":", "%", "s", "framebuffer", "device", "registered", ",", "using", "%", "d", "bytes", "of", "video", "memory", "\\", "n", "\"", ",", "info", "-", ">", "node", ",", "info", "-", ">", "fix", ".", "id", ",", "vmem", "_", "size", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["fbdev", "ssd1307fb", "potential", "ERR_PTR", "dereference"]}
{"code_tokens": ["static", "ssize", "_", "t", "oz", "_", "cdev", "_", "write", "(", "struct", "file", "*", "filp", ",", "const", "char", "_", "_", "user", "*", "buf", ",", "<nl>", "struct", "oz", "_", "app", "_", "hdr", "*", "app", "_", "hdr", ";", "<nl>", "struct", "oz", "_", "serial", "_", "ctx", "*", "ctx", ";", "<nl>", "<nl>", "+", "if", "(", "count", ">", "sizeof", "(", "ei", "-", ">", "data", ")", "-", "sizeof", "(", "*", "elt", ")", "-", "sizeof", "(", "*", "app", "_", "hdr", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "spin", "_", "lock", "_", "bh", "(", "&", "g", "_", "cdev", ".", "lock", ")", ";", "<nl>", "pd", "=", "g", "_", "cdev", ".", "active", "_", "pd", ";", "<nl>", "if", "(", "pd", ")", "<nl>"], "docstring_tokens": ["staging", "ozwpan", "prevent", "overflow", "in", "oz_cdev_write"]}
{"code_tokens": ["static", "int", "rpmsg", "_", "probe", "(", "struct", "virtio", "_", "device", "*", "vdev", ")", "<nl>", "<nl>", "err", "=", "rpmsg", "_", "ns", "_", "register", "_", "device", "(", "rpdev", "_", "ns", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "-", "goto", "free", "_", "vch", ";", "<nl>", "+", "/", "*", "vch", "will", "be", "free", "in", "virtio", "_", "rpmsg", "_", "release", "_", "device", "(", ")", "*", "/", "<nl>", "+", "goto", "free", "_", "ctrldev", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>", "static", "int", "rpmsg", "_", "probe", "(", "struct", "virtio", "_", "device", "*", "vdev", ")", "<nl>", "<nl>", "return", "0", ";", "<nl>", "<nl>", "-", "free", "_", "vch", ":", "<nl>", "-", "kfree", "(", "vch", ")", ";", "<nl>", "free", "_", "ctrldev", ":", "<nl>", "rpmsg", "_", "virtio", "_", "del", "_", "ctrl", "_", "dev", "(", "rpdev", "_", "ctrl", ")", ";", "<nl>", "free", "_", "coherent", ":", "<nl>"], "docstring_tokens": ["rpmsg", "virtio", "Fix", "possible", "double", "free", "in", "rpmsg_probe"]}
{"code_tokens": ["do", "{", "\\", "<nl>", "_", "_", "get", "_", "user", "_", "asm", "(", "val", ",", "\"", "lw", "\"", ",", "ptr", ")", ";", "\\", "<nl>", "break", ";", "\\", "<nl>", "case", "8", ":", "\\", "<nl>", "-", "if", "(", "(", "copy", "_", "from", "_", "user", "(", "(", "void", "*", ")", "&", "val", ",", "ptr", ",", "8", ")", ")", "=", "=", "0", ")", "\\", "<nl>", "+", "if", "(", "_", "_", "copy", "_", "from", "_", "user", "(", "(", "void", "*", ")", "&", "val", ",", "ptr", ",", "8", ")", "=", "=", "0", ")", "\\", "<nl>", "_", "_", "gu", "_", "err", "=", "0", ";", "\\", "<nl>", "else", "\\", "<nl>", "_", "_", "gu", "_", "err", "=", "-", "EFAULT", ";", "\\", "<nl>", "do", "{", "\\", "<nl>", "\\", "<nl>", "if", "(", "likely", "(", "access", "_", "ok", "(", "VERIFY", "_", "READ", ",", "_", "_", "gu", "_", "ptr", ",", "size", ")", ")", ")", "\\", "<nl>", "_", "_", "get", "_", "user", "_", "common", "(", "(", "x", ")", ",", "size", ",", "_", "_", "gu", "_", "ptr", ")", ";", "\\", "<nl>", "+", "else", "\\", "<nl>", "+", "(", "x", ")", "=", "0", ";", "\\", "<nl>", "\\", "<nl>", "_", "_", "gu", "_", "err", ";", "\\", "<nl>", "}", ")", "<nl>", "do", "{", "\\", "<nl>", "\"", "2", ":", "\\", "n", "\"", "\\", "<nl>", "\"", ".", "section", ".", "fixup", ",", "\\", "\"", "ax", "\\", "\"", "\\", "n", "\"", "\\", "<nl>", "\"", "3", ":", "li", "%", "0", ",", "%", "4", "\\", "n", "\"", "\\", "<nl>", "+", "\"", "li", "%", "1", ",", "0", "\\", "n", "\"", "\\", "<nl>", "\"", "j", "2b", "\\", "n", "\"", "\\", "<nl>", "\"", ".", "previous", "\\", "n", "\"", "\\", "<nl>", "\"", ".", "section", "_", "_", "ex", "_", "table", ",", "\\", "\"", "a", "\\", "\"", "\\", "n", "\"", "\\", "<nl>"], "docstring_tokens": ["score", "fix", "__get_user", "get_user"]}
{"code_tokens": ["static", "ssize", "_", "t", "ll", "_", "max", "_", "cached", "_", "mb", "_", "seq", "_", "write", "(", "struct", "file", "*", "file", ",", "<nl>", "return", "-", "ERANGE", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "sbi", "-", ">", "ll", "_", "dt", "_", "exp", "=", "=", "NULL", ")", "<nl>", "-", "return", "-", "ENODEV", ";", "<nl>", "-", "<nl>", "spin", "_", "lock", "(", "&", "sbi", "-", ">", "ll", "_", "lock", ")", ";", "<nl>", "diff", "=", "pages", "_", "number", "-", "cache", "-", ">", "ccc", "_", "lru", "_", "max", ";", "<nl>", "spin", "_", "unlock", "(", "&", "sbi", "-", ">", "ll", "_", "lock", ")", ";", "<nl>", "static", "ssize", "_", "t", "ll", "_", "max", "_", "cached", "_", "mb", "_", "seq", "_", "write", "(", "struct", "file", "*", "file", ",", "<nl>", "if", "(", "diff", "<", "=", "0", ")", "<nl>", "break", ";", "<nl>", "<nl>", "+", "if", "(", "sbi", "-", ">", "ll", "_", "dt", "_", "exp", "=", "=", "NULL", ")", "{", "/", "*", "being", "initialized", "*", "/", "<nl>", "+", "rc", "=", "-", "ENODEV", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "difficult", "-", "have", "to", "ask", "OSCs", "to", "drop", "LRU", "slots", ".", "*", "/", "<nl>", "tmp", "=", "diff", "<", "<", "1", ";", "<nl>", "rc", "=", "obd", "_", "set", "_", "info", "_", "async", "(", "NULL", ",", "sbi", "-", ">", "ll", "_", "dt", "_", "exp", ",", "<nl>"], "docstring_tokens": ["staging", "lustre", "llite", "to", "configure", "max_cached_mb", "correctly"]}
{"code_tokens": ["int", "kvm", "_", "set", "_", "msr", "_", "common", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "struct", "msr", "_", "data", "*", "msr", "_", "info", ")", "<nl>", "/", "*", ".", ".", ".", "but", "clean", "it", "before", "doing", "the", "actual", "write", "*", "/", "<nl>", "vcpu", "-", ">", "arch", ".", "time", "_", "offset", "=", "data", "&", "~", "(", "PAGE", "_", "MASK", "|", "1", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Check", "that", "the", "address", "is", "32", "-", "byte", "aligned", ".", "*", "/", "<nl>", "+", "if", "(", "vcpu", "-", ">", "arch", ".", "time", "_", "offset", "&", "<nl>", "+", "(", "sizeof", "(", "struct", "pvclock", "_", "vcpu", "_", "time", "_", "info", ")", "-", "1", ")", ")", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "vcpu", "-", ">", "arch", ".", "time", "_", "page", "=", "<nl>", "gfn", "_", "to", "_", "page", "(", "vcpu", "-", ">", "kvm", ",", "data", ">", ">", "PAGE", "_", "SHIFT", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "x86", "fix", "for", "buffer", "overflow", "in", "handling", "of", "MSR_KVM_SYSTEM_TIME", "CVE", "2013", "1796"]}
{"code_tokens": ["static", "int", "msi3101", "_", "g", "_", "fmt", "_", "sdr", "_", "cap", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "<nl>", "dev", "_", "dbg", "(", "&", "s", "-", ">", "udev", "-", ">", "dev", ",", "\"", "%", "s", ":", "pixelformat", "fourcc", "%", "4", ".", "4s", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "<nl>", "(", "char", "*", ")", "&", "s", "-", ">", "pixelformat", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "f", "-", ">", "fmt", ".", "sdr", ".", "reserved", ",", "0", ",", "sizeof", "(", "f", "-", ">", "fmt", ".", "sdr", ".", "reserved", ")", ")", ";", "<nl>", "f", "-", ">", "fmt", ".", "sdr", ".", "pixelformat", "=", "s", "-", ">", "pixelformat", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "static", "int", "msi3101", "_", "s", "_", "fmt", "_", "sdr", "_", "cap", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "<nl>", "if", "(", "vb2", "_", "is", "_", "busy", "(", "q", ")", ")", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "<nl>", "+", "memset", "(", "f", "-", ">", "fmt", ".", "sdr", ".", "reserved", ",", "0", ",", "sizeof", "(", "f", "-", ">", "fmt", ".", "sdr", ".", "reserved", ")", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "NUM", "_", "FORMATS", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "formats", "[", "i", "]", ".", "pixelformat", "=", "=", "f", "-", ">", "fmt", ".", "sdr", ".", "pixelformat", ")", "{", "<nl>", "s", "-", ">", "pixelformat", "=", "f", "-", ">", "fmt", ".", "sdr", ".", "pixelformat", ";", "<nl>", "static", "int", "msi3101", "_", "try", "_", "fmt", "_", "sdr", "_", "cap", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "<nl>", "dev", "_", "dbg", "(", "&", "s", "-", ">", "udev", "-", ">", "dev", ",", "\"", "%", "s", ":", "pixelformat", "fourcc", "%", "4", ".", "4s", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "<nl>", "(", "char", "*", ")", "&", "f", "-", ">", "fmt", ".", "sdr", ".", "pixelformat", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "f", "-", ">", "fmt", ".", "sdr", ".", "reserved", ",", "0", ",", "sizeof", "(", "f", "-", ">", "fmt", ".", "sdr", ".", "reserved", ")", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "NUM", "_", "FORMATS", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "formats", "[", "i", "]", ".", "pixelformat", "=", "=", "f", "-", ">", "fmt", ".", "sdr", ".", "pixelformat", ")", "<nl>", "return", "0", ";", "<nl>", "static", "int", "msi3101", "_", "g", "_", "frequency", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "<nl>", "f", "-", ">", "frequency", "=", "s", "-", ">", "f", "_", "adc", ";", "<nl>", "ret", "=", "0", ";", "<nl>", "}", "else", "if", "(", "f", "-", ">", "tuner", "=", "=", "1", ")", "{", "<nl>", "+", "f", "-", ">", "type", "=", "V4L2", "_", "TUNER", "_", "RF", ";", "<nl>", "ret", "=", "v4l2", "_", "subdev", "_", "call", "(", "s", "-", ">", "v4l2", "_", "subdev", ",", "tuner", ",", "g", "_", "frequency", ",", "f", ")", ";", "<nl>", "}", "else", "{", "<nl>", "ret", "=", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["media", "msi3101", "fix", "v4l2", "compliance", "issues"]}
{"code_tokens": ["static", "int", "ds", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "socket", "_", "t", "i", "=", "iminor", "(", "inode", ")", ";", "<nl>", "struct", "pcmcia", "_", "socket", "*", "s", ";", "<nl>", "user", "_", "info", "_", "t", "*", "user", ";", "<nl>", "+", "static", "int", "warning", "_", "printed", "=", "0", ";", "<nl>", "<nl>", "ds", "_", "dbg", "(", "0", ",", "\"", "ds", "_", "open", "(", "socket", "%", "d", ")", "\\", "n", "\"", ",", "i", ")", ";", "<nl>", "<nl>", "static", "int", "ds", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "s", "-", ">", "user", "=", "user", ";", "<nl>", "file", "-", ">", "private", "_", "data", "=", "user", ";", "<nl>", "<nl>", "+", "if", "(", "!", "warning", "_", "printed", ")", "{", "<nl>", "+", "printk", "(", "KERN", "_", "INFO", "\"", "pcmcia", ":", "Detected", "deprecated", "PCMCIA", "ioctl", "\"", "<nl>", "+", "\"", "usage", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "printk", "(", "KERN", "_", "INFO", "\"", "pcmcia", ":", "This", "interface", "will", "soon", "be", "removed", "from", "\"", "<nl>", "+", "\"", "the", "kernel", ";", "please", "expect", "breakage", "unless", "you", "upgrade", "\"", "<nl>", "+", "\"", "to", "new", "tools", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "printk", "(", "KERN", "_", "INFO", "\"", "pcmcia", ":", "see", "http", ":", "/", "/", "www", ".", "kernel", ".", "org", "/", "pub", "/", "linux", "/", "\"", "<nl>", "+", "\"", "utils", "/", "kernel", "/", "pcmcia", "/", "pcmcia", ".", "html", "for", "details", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "warning", "_", "printed", "=", "1", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "s", "-", ">", "pcmcia", "_", "state", ".", "present", ")", "<nl>", "queue", "_", "event", "(", "user", ",", "CS", "_", "EVENT", "_", "CARD", "_", "INSERTION", ")", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["PATCH", "pcmcia", "warn", "on", "IOCTL", "usage"]}
{"code_tokens": ["static", "void", "proc", "_", "flush", "_", "task", "_", "mnt", "(", "struct", "vfsmount", "*", "mnt", ",", "pid", "_", "t", "pid", ",", "pid", "_", "t", "tgid", ")", "<nl>", "dput", "(", "dentry", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "pid", "=", "=", "tgid", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "name", ".", "name", "=", "buf", ";", "<nl>", "name", ".", "len", "=", "snprintf", "(", "buf", ",", "sizeof", "(", "buf", ")", ",", "\"", "%", "d", "\"", ",", "tgid", ")", ";", "<nl>", "leader", "=", "d", "_", "hash", "_", "and", "_", "lookup", "(", "mnt", "-", ">", "mnt", "_", "root", ",", "&", "name", ")", ";", "<nl>"], "docstring_tokens": ["exit", "proc", "don", "t", "try", "to", "flush", "proc", "tgid", "task", "tgid"]}
{"code_tokens": ["void", "intel", "_", "irq", "_", "init", "(", "struct", "drm", "_", "device", "*", "dev", ")", "<nl>", "dev", "-", ">", "driver", "-", ">", "get", "_", "vblank", "_", "counter", "=", "gm45", "_", "get", "_", "vblank", "_", "counter", ";", "<nl>", "}", "<nl>", "<nl>", "-", "<nl>", "-", "dev", "-", ">", "driver", "-", ">", "get", "_", "vblank", "_", "timestamp", "=", "i915", "_", "get", "_", "vblank", "_", "timestamp", ";", "<nl>", "+", "if", "(", "drm", "_", "core", "_", "check", "_", "feature", "(", "dev", ",", "DRIVER", "_", "MODESET", ")", ")", "<nl>", "+", "dev", "-", ">", "driver", "-", ">", "get", "_", "vblank", "_", "timestamp", "=", "i915", "_", "get", "_", "vblank", "_", "timestamp", ";", "<nl>", "+", "else", "<nl>", "+", "dev", "-", ">", "driver", "-", ">", "get", "_", "vblank", "_", "timestamp", "=", "NULL", ";", "<nl>", "dev", "-", ">", "driver", "-", ">", "get", "_", "scanout", "_", "position", "=", "i915", "_", "get", "_", "crtc", "_", "scanoutpos", ";", "<nl>", "<nl>", "if", "(", "IS", "_", "IVYBRIDGE", "(", "dev", ")", ")", "{", "<nl>"], "docstring_tokens": ["drm", "i915", "Can", "t", "do", "accurate", "vblank", "timestamps", "with", "UMS"]}
{"code_tokens": ["temac", "_", "start", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "ndev", ")", "<nl>", "smp", "_", "mb", "(", ")", ";", "<nl>", "<nl>", "/", "*", "Space", "might", "have", "just", "been", "freed", "-", "check", "again", "*", "/", "<nl>", "-", "if", "(", "temac", "_", "check", "_", "tx", "_", "bd", "_", "space", "(", "lp", ",", "num", "_", "frag", ")", ")", "<nl>", "+", "if", "(", "temac", "_", "check", "_", "tx", "_", "bd", "_", "space", "(", "lp", ",", "num", "_", "frag", "+", "1", ")", ")", "<nl>", "return", "NETDEV", "_", "TX", "_", "BUSY", ";", "<nl>", "<nl>", "netif", "_", "wake", "_", "queue", "(", "ndev", ")", ";", "<nl>"], "docstring_tokens": ["net", "ll_temac", "Fix", "TX", "BD", "buffer", "overwrite"]}
{"code_tokens": ["static", "void", "tcp", "_", "v4", "_", "send", "_", "reset", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "if", "(", "th", "-", ">", "rst", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "if", "(", "skb", "_", "rtable", "(", "skb", ")", "-", ">", "rt", "_", "type", "!", "=", "RTN", "_", "LOCAL", ")", "<nl>", "+", "/", "*", "If", "sk", "not", "NULL", ",", "it", "means", "we", "did", "a", "successful", "lookup", "and", "incoming", "<nl>", "+", "*", "route", "had", "to", "be", "correct", ".", "prequeue", "might", "have", "dropped", "our", "dst", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "sk", "&", "&", "skb", "_", "rtable", "(", "skb", ")", "-", ">", "rt", "_", "type", "!", "=", "RTN", "_", "LOCAL", ")", "<nl>", "return", ";", "<nl>", "<nl>", "/", "*", "Swap", "the", "send", "and", "the", "receive", ".", "*", "/", "mmm", "net", "/", "ipv6", "/", "tcp", "_", "ipv6", ".", "c", "<nl>", "static", "void", "tcp", "_", "v4", "_", "send", "_", "reset", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "if", "(", "th", "-", ">", "rst", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "if", "(", "skb", "_", "rtable", "(", "skb", ")", "-", ">", "rt", "_", "type", "!", "=", "RTN", "_", "LOCAL", ")", "<nl>", "+", "/", "*", "If", "sk", "not", "NULL", ",", "it", "means", "we", "did", "a", "successful", "lookup", "and", "incoming", "<nl>", "+", "*", "route", "had", "to", "be", "correct", ".", "prequeue", "might", "have", "dropped", "our", "dst", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "sk", "&", "&", "skb", "_", "rtable", "(", "skb", ")", "-", ">", "rt", "_", "type", "!", "=", "RTN", "_", "LOCAL", ")", "<nl>", "return", ";", "<nl>", "<nl>", "/", "*", "Swap", "the", "send", "and", "the", "receive", ".", "*", "/", "<nl>", "static", "void", "tcp", "_", "v6", "_", "send", "_", "reset", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "if", "(", "th", "-", ">", "rst", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "if", "(", "!", "ipv6", "_", "unicast", "_", "destination", "(", "skb", ")", ")", "<nl>", "+", "/", "*", "If", "sk", "not", "NULL", ",", "it", "means", "we", "did", "a", "successful", "lookup", "and", "incoming", "<nl>", "+", "*", "route", "had", "to", "be", "correct", ".", "prequeue", "might", "have", "dropped", "our", "dst", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "sk", "&", "&", "!", "ipv6", "_", "unicast", "_", "destination", "(", "skb", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "TCP", "_", "MD5SIG", "<nl>"], "docstring_tokens": ["tcp", "fix", "possible", "NULL", "dereference", "in", "tcp_vX_send_reset"]}
{"code_tokens": ["int", "dlm", "_", "unlock", "_", "lock", "_", "handler", "(", "struct", "o2net", "_", "msg", "*", "msg", ",", "u32", "len", ",", "void", "*", "data", ",", "<nl>", "}", "<nl>", "<nl>", "if", "(", "!", "dlm", "_", "grab", "(", "dlm", ")", ")", "<nl>", "-", "return", "DLM", "_", "REJECTED", ";", "<nl>", "+", "return", "DLM", "_", "FORWARD", ";", "<nl>", "<nl>", "mlog", "_", "bug", "_", "on", "_", "msg", "(", "!", "dlm", "_", "domain", "_", "fully", "_", "joined", "(", "dlm", ")", ",", "<nl>", "\"", "Domain", "%", "s", "not", "fully", "joined", "!", "\\", "n", "\"", ",", "dlm", "-", ">", "name", ")", ";", "mmm", "fs", "/", "ocfs2", "/", "dlm", "/", "dlmmaster", ".", "c", "<nl>", "int", "dlm", "_", "unlock", "_", "lock", "_", "handler", "(", "struct", "o2net", "_", "msg", "*", "msg", ",", "u32", "len", ",", "void", "*", "data", ",", "<nl>", "}", "<nl>", "<nl>", "if", "(", "!", "dlm", "_", "grab", "(", "dlm", ")", ")", "<nl>", "-", "return", "DLM", "_", "REJECTED", ";", "<nl>", "+", "return", "DLM", "_", "FORWARD", ";", "<nl>", "<nl>", "mlog", "_", "bug", "_", "on", "_", "msg", "(", "!", "dlm", "_", "domain", "_", "fully", "_", "joined", "(", "dlm", ")", ",", "<nl>", "\"", "Domain", "%", "s", "not", "fully", "joined", "!", "\\", "n", "\"", ",", "dlm", "-", ">", "name", ")", ";", "<nl>", "int", "dlm", "_", "migrate", "_", "request", "_", "handler", "(", "struct", "o2net", "_", "msg", "*", "msg", ",", "u32", "len", ",", "void", "*", "data", ",", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "if", "(", "!", "dlm", "_", "grab", "(", "dlm", ")", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "+", "return", "0", ";", "<nl>", "<nl>", "name", "=", "migrate", "-", ">", "name", ";", "<nl>", "namelen", "=", "migrate", "-", ">", "namelen", ";", "<nl>"], "docstring_tokens": ["ocfs2", "dlm", "return", "appropriate", "value", "when", "dlm_grab", "returns", "NULL"]}
{"code_tokens": ["enum", "btc", "_", "set", "_", "type", "{", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "GET", "_", "BT", "_", "RSSI", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "AGGREGATE", "_", "CTRL", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "ANTPOSREGRISTRY", "_", "CTRL", ",", "<nl>", "+", "BTC", "_", "SET", "_", "MIMO", "_", "PS", "_", "MODE", ",", "<nl>", "<nl>", "/", "*", "*", "*", "*", "*", "*", "*", "*", "*", "for", "1Ant", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "/", "<nl>", "/", "*", "type", "bool", "*", "/", "<nl>", "enum", "btc", "_", "set", "_", "type", "{", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "POST", "_", "NORMAL", "_", "LPS", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "INC", "_", "FORCE", "_", "EXEC", "_", "PWR", "_", "CMD", "_", "CNT", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "DISABLE", "_", "LOW", "_", "POWER", ",", "<nl>", "+", "BTC", "_", "SET", "_", "BL", "_", "BT", "_", "LNA", "_", "CONSTRAIN", "_", "LEVEL", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "UPDATE", "_", "RAMASK", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "SEND", "_", "MIMO", "_", "PS", ",", "<nl>", "/", "*", "BT", "Coex", "related", "*", "/", "<nl>", "struct", "btc", "_", "coexist", "{", "<nl>", "<nl>", "void", "(", "*", "btc", "_", "set", "_", "bt", "_", "reg", ")", "(", "void", "*", "btc", "_", "context", ",", "u8", "reg", "_", "type", ",", "u32", "offset", ",", "<nl>", "u32", "value", ")", ";", "<nl>", "+", "u32", "(", "*", "btc", "_", "get", "_", "bt", "_", "reg", ")", "(", "void", "*", "btc", "_", "context", ",", "u8", "reg", "_", "type", ",", "u32", "offset", ")", ";", "<nl>", "u32", "(", "*", "btc", "_", "get", "_", "bt", "_", "coex", "_", "supported", "_", "feature", ")", "(", "void", "*", "btcoexist", ")", ";", "<nl>", "u32", "(", "*", "btc", "_", "get", "_", "bt", "_", "coex", "_", "supported", "_", "version", ")", "(", "void", "*", "btcoexist", ")", ";", "<nl>", "u32", "(", "*", "btc", "_", "get", "_", "bt", "_", "phydm", "_", "version", ")", "(", "void", "*", "btcoexist", ")", ";", "mmm", "drivers", "/", "net", "/", "wireless", "/", "realtek", "/", "rtlwifi", "/", "btcoexist", "/", "halbtcoutsrc", ".", "c", "<nl>", "enum", "btc", "_", "set", "_", "type", "{", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "GET", "_", "BT", "_", "RSSI", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "AGGREGATE", "_", "CTRL", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "ANTPOSREGRISTRY", "_", "CTRL", ",", "<nl>", "+", "BTC", "_", "SET", "_", "MIMO", "_", "PS", "_", "MODE", ",", "<nl>", "<nl>", "/", "*", "*", "*", "*", "*", "*", "*", "*", "*", "for", "1Ant", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "/", "<nl>", "/", "*", "type", "bool", "*", "/", "<nl>", "enum", "btc", "_", "set", "_", "type", "{", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "POST", "_", "NORMAL", "_", "LPS", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "INC", "_", "FORCE", "_", "EXEC", "_", "PWR", "_", "CMD", "_", "CNT", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "DISABLE", "_", "LOW", "_", "POWER", ",", "<nl>", "+", "BTC", "_", "SET", "_", "BL", "_", "BT", "_", "LNA", "_", "CONSTRAIN", "_", "LEVEL", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "UPDATE", "_", "RAMASK", ",", "<nl>", "BTC", "_", "SET", "_", "ACT", "_", "SEND", "_", "MIMO", "_", "PS", ",", "<nl>", "/", "*", "BT", "Coex", "related", "*", "/", "<nl>", "struct", "btc", "_", "coexist", "{", "<nl>", "<nl>", "void", "(", "*", "btc", "_", "set", "_", "bt", "_", "reg", ")", "(", "void", "*", "btc", "_", "context", ",", "u8", "reg", "_", "type", ",", "u32", "offset", ",", "<nl>", "u32", "value", ")", ";", "<nl>", "+", "u32", "(", "*", "btc", "_", "get", "_", "bt", "_", "reg", ")", "(", "void", "*", "btc", "_", "context", ",", "u8", "reg", "_", "type", ",", "u32", "offset", ")", ";", "<nl>", "u32", "(", "*", "btc", "_", "get", "_", "bt", "_", "coex", "_", "supported", "_", "feature", ")", "(", "void", "*", "btcoexist", ")", ";", "<nl>", "u32", "(", "*", "btc", "_", "get", "_", "bt", "_", "coex", "_", "supported", "_", "version", ")", "(", "void", "*", "btcoexist", ")", ";", "<nl>", "u32", "(", "*", "btc", "_", "get", "_", "bt", "_", "phydm", "_", "version", ")", "(", "void", "*", "btcoexist", ")", ";", "<nl>", "static", "bool", "halbtc", "_", "get", "(", "void", "*", "void", "_", "btcoexist", ",", "u8", "get", "_", "type", ",", "void", "*", "out", "_", "buf", ")", "<nl>", "case", "BTC", "_", "GET", "_", "BL", "_", "IS", "_", "ASUS", "_", "8723B", ":", "<nl>", "*", "bool", "_", "tmp", "=", "false", ";", "<nl>", "break", ";", "<nl>", "+", "case", "BTC", "_", "GET", "_", "BL", "_", "RF4CE", "_", "CONNECTED", ":", "<nl>", "+", "*", "bool", "_", "tmp", "=", "false", ";", "<nl>", "+", "break", ";", "<nl>", "case", "BTC", "_", "GET", "_", "S4", "_", "WIFI", "_", "RSSI", ":", "<nl>", "*", "s32", "_", "tmp", "=", "halbtc", "_", "get", "_", "wifi", "_", "rssi", "(", "rtlpriv", ")", ";", "<nl>", "break", ";", "<nl>", "static", "void", "halbtc", "_", "display", "_", "dbg", "_", "msg", "(", "void", "*", "bt", "_", "context", ",", "u8", "disp", "_", "type", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "+", "static", "u32", "halbtc", "_", "get", "_", "bt", "_", "reg", "(", "void", "*", "btc", "_", "context", ",", "u8", "reg", "_", "type", ",", "u32", "offset", ")", "<nl>", "+", "{", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "bool", "halbtc", "_", "under", "_", "ips", "(", "struct", "btc", "_", "coexist", "*", "btcoexist", ")", "<nl>", "{", "<nl>", "struct", "rtl", "_", "priv", "*", "rtlpriv", "=", "btcoexist", "-", ">", "adapter", ";", "<nl>", "bool", "exhalbtc", "_", "initlize", "_", "variables", "(", "struct", "rtl", "_", "priv", "*", "rtlpriv", ")", "<nl>", "btcoexist", "-", ">", "btc", "_", "get", "=", "halbtc", "_", "get", ";", "<nl>", "btcoexist", "-", ">", "btc", "_", "set", "=", "halbtc", "_", "set", ";", "<nl>", "btcoexist", "-", ">", "btc", "_", "set", "_", "bt", "_", "reg", "=", "halbtc", "_", "set", "_", "bt", "_", "reg", ";", "<nl>", "+", "btcoexist", "-", ">", "btc", "_", "get", "_", "bt", "_", "reg", "=", "halbtc", "_", "get", "_", "bt", "_", "reg", ";", "<nl>", "<nl>", "btcoexist", "-", ">", "bt", "_", "info", ".", "bt", "_", "ctrl", "_", "buf", "_", "size", "=", "false", ";", "<nl>", "btcoexist", "-", ">", "bt", "_", "info", ".", "agg", "_", "buf", "_", "size", "=", "5", ";", "<nl>"], "docstring_tokens": ["rtlwifi", "btcoex", "Add", "new", "but", "dummy", "definitions", "introduced", "by", "8822b"]}
{"code_tokens": ["nfsd", "_", "map", "_", "name", "_", "to", "_", "uid", "(", "struct", "svc", "_", "rqst", "*", "rqstp", ",", "const", "char", "*", "name", ",", "size", "_", "t", "namelen", ",", "<nl>", "{", "<nl>", "_", "_", "be32", "status", ";", "<nl>", "u32", "id", "=", "-", "1", ";", "<nl>", "+", "<nl>", "+", "if", "(", "name", "=", "=", "NULL", "|", "|", "namelen", "=", "=", "0", ")", "<nl>", "+", "return", "nfserr", "_", "inval", ";", "<nl>", "+", "<nl>", "status", "=", "do", "_", "name", "_", "to", "_", "id", "(", "rqstp", ",", "IDMAP", "_", "TYPE", "_", "USER", ",", "name", ",", "namelen", ",", "&", "id", ")", ";", "<nl>", "*", "uid", "=", "make", "_", "kuid", "(", "&", "init", "_", "user", "_", "ns", ",", "id", ")", ";", "<nl>", "if", "(", "!", "uid", "_", "valid", "(", "*", "uid", ")", ")", "<nl>", "nfsd", "_", "map", "_", "name", "_", "to", "_", "gid", "(", "struct", "svc", "_", "rqst", "*", "rqstp", ",", "const", "char", "*", "name", ",", "size", "_", "t", "namelen", ",", "<nl>", "{", "<nl>", "_", "_", "be32", "status", ";", "<nl>", "u32", "id", "=", "-", "1", ";", "<nl>", "+", "<nl>", "+", "if", "(", "name", "=", "=", "NULL", "|", "|", "namelen", "=", "=", "0", ")", "<nl>", "+", "return", "nfserr", "_", "inval", ";", "<nl>", "+", "<nl>", "status", "=", "do", "_", "name", "_", "to", "_", "id", "(", "rqstp", ",", "IDMAP", "_", "TYPE", "_", "GROUP", ",", "name", ",", "namelen", ",", "&", "id", ")", ";", "<nl>", "*", "gid", "=", "make", "_", "kgid", "(", "&", "init", "_", "user", "_", "ns", ",", "id", ")", ";", "<nl>", "if", "(", "!", "gid", "_", "valid", "(", "*", "gid", ")", ")", "<nl>"], "docstring_tokens": ["nfsd", "idmap", "return", "nfserr_inval", "for", "0", "length", "names"]}
{"code_tokens": ["static", "int", "volume", "_", "alsa", "_", "mute", "_", "put", "(", "struct", "snd", "_", "kcontrol", "*", "kcontrol", ",", "<nl>", "return", "volume", "_", "alsa", "_", "set", "_", "mute", "(", "!", "ucontrol", "-", ">", "value", ".", "integer", ".", "value", "[", "0", "]", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "struct", "snd", "_", "kcontrol", "_", "new", "volume", "_", "alsa", "_", "control", "_", "vol", "=", "{", "<nl>", "+", "static", "struct", "snd", "_", "kcontrol", "_", "new", "volume", "_", "alsa", "_", "control", "_", "vol", "_", "_", "initdata", "=", "{", "<nl>", ".", "iface", "=", "SNDRV", "_", "CTL", "_", "ELEM", "_", "IFACE", "_", "MIXER", ",", "<nl>", ".", "name", "=", "\"", "Console", "Playback", "Volume", "\"", ",", "<nl>", ".", "index", "=", "0", ",", "<nl>", "static", "struct", "snd", "_", "kcontrol", "_", "new", "volume", "_", "alsa", "_", "control", "_", "vol", "=", "{", "<nl>", ".", "get", "=", "volume", "_", "alsa", "_", "vol", "_", "get", ",", "<nl>", "}", ";", "<nl>", "<nl>", "-", "static", "struct", "snd", "_", "kcontrol", "_", "new", "volume", "_", "alsa", "_", "control", "_", "mute", "=", "{", "<nl>", "+", "static", "struct", "snd", "_", "kcontrol", "_", "new", "volume", "_", "alsa", "_", "control", "_", "mute", "_", "_", "initdata", "=", "{", "<nl>", ".", "iface", "=", "SNDRV", "_", "CTL", "_", "ELEM", "_", "IFACE", "_", "MIXER", ",", "<nl>", ".", "name", "=", "\"", "Console", "Playback", "Switch", "\"", ",", "<nl>", ".", "index", "=", "0", ",", "<nl>"], "docstring_tokens": ["thinkpad_acpi", "Mark", "volume_alsa_control_", "vol", "mute", "as", "__initdata"]}
{"code_tokens": ["static", "int", "exynos", "_", "cpufreq", "_", "scale", "(", "unsigned", "int", "target", "_", "freq", ")", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "pr", "_", "err", "(", "\"", "%", "s", ":", "failed", "to", "set", "cpu", "voltage", "to", "%", "d", "\\", "n", "\"", ",", "<nl>", "_", "_", "func", "_", "_", ",", "arm", "_", "volt", ")", ";", "<nl>", "-", "goto", "out", ";", "<nl>", "+", "freqs", ".", "new", "=", "freqs", ".", "old", ";", "<nl>", "+", "goto", "post", "_", "notify", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "static", "int", "exynos", "_", "cpufreq", "_", "scale", "(", "unsigned", "int", "target", "_", "freq", ")", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "pr", "_", "err", "(", "\"", "%", "s", ":", "failed", "to", "set", "cpu", "voltage", "to", "%", "d", "\\", "n", "\"", ",", "<nl>", "_", "_", "func", "_", "_", ",", "safe", "_", "arm", "_", "volt", ")", ";", "<nl>", "-", "goto", "out", ";", "<nl>", "+", "freqs", ".", "new", "=", "freqs", ".", "old", ";", "<nl>", "+", "goto", "post", "_", "notify", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "exynos", "_", "info", "-", ">", "set", "_", "freq", "(", "old", "_", "index", ",", "index", ")", ";", "<nl>", "<nl>", "+", "post", "_", "notify", ":", "<nl>", "cpufreq", "_", "notify", "_", "transition", "(", "policy", ",", "&", "freqs", ",", "CPUFREQ", "_", "POSTCHANGE", ")", ";", "<nl>", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "<nl>", "/", "*", "When", "the", "new", "frequency", "is", "lower", "than", "current", "frequency", "*", "/", "<nl>", "if", "(", "(", "freqs", ".", "new", "<", "freqs", ".", "old", ")", "|", "|", "<nl>", "(", "(", "freqs", ".", "new", ">", "freqs", ".", "old", ")", "&", "&", "safe", "_", "arm", "_", "volt", ")", ")", "{", "<nl>"], "docstring_tokens": ["cpufreq", "exynos", "call", "CPUFREQ_POSTCHANGE", "notfier", "in", "error", "cases"]}
{"code_tokens": ["enum", "siginfo", "_", "layout", "siginfo", "_", "layout", "(", "int", "sig", ",", "int", "si", "_", "code", ")", "<nl>", "[", "SIGSEGV", "]", "=", "{", "NSIGSEGV", ",", "SIL", "_", "FAULT", "}", ",", "<nl>", "[", "SIGBUS", "]", "=", "{", "NSIGBUS", ",", "SIL", "_", "FAULT", "}", ",", "<nl>", "[", "SIGTRAP", "]", "=", "{", "NSIGTRAP", ",", "SIL", "_", "FAULT", "}", ",", "<nl>", "-", "#", "if", "defined", "(", "SIGMET", ")", "&", "&", "defined", "(", "NSIGEMT", ")", "<nl>", "+", "#", "if", "defined", "(", "SIGEMT", ")", "&", "&", "defined", "(", "NSIGEMT", ")", "<nl>", "[", "SIGEMT", "]", "=", "{", "NSIGEMT", ",", "SIL", "_", "FAULT", "}", ",", "<nl>", "#", "endif", "<nl>", "[", "SIGCHLD", "]", "=", "{", "NSIGCHLD", ",", "SIL", "_", "CHLD", "}", ",", "<nl>"], "docstring_tokens": ["signal", "Fix", "name", "of", "SIGEMT", "in", "if", "defined", "check"]}
{"code_tokens": ["int", "evtchn", "_", "get", "(", "unsigned", "int", "evtchn", ")", "<nl>", "struct", "irq", "_", "info", "*", "info", ";", "<nl>", "int", "err", "=", "-", "ENOENT", ";", "<nl>", "<nl>", "+", "if", "(", "evtchn", ">", "=", "NR", "_", "EVENT", "_", "CHANNELS", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "mutex", "_", "lock", "(", "&", "irq", "_", "mapping", "_", "update", "_", "lock", ")", ";", "<nl>", "<nl>", "irq", "=", "evtchn", "_", "to", "_", "irq", "[", "evtchn", "]", ";", "<nl>"], "docstring_tokens": ["xen", "events", "prevent", "calling", "evtchn_get", "on", "invalid", "channels"]}
{"code_tokens": ["static", "void", "_", "rtl92e", "_", "if", "_", "silent", "_", "reset", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "rtl819x", "_", "update", "_", "rxcounts", "(", "struct", "r8192", "_", "priv", "*", "priv", ",", "u32", "*", "TotalRxBcnNum", ",", "<nl>", "+", "static", "void", "_", "rtl92e", "_", "update", "_", "rxcounts", "(", "struct", "r8192", "_", "priv", "*", "priv", ",", "u32", "*", "TotalRxBcnNum", ",", "<nl>", "u32", "*", "TotalRxDataNum", ")", "<nl>", "{", "<nl>", "u16", "SlotIndex", ";", "<nl>", "static", "void", "rtl819x", "_", "watchdog", "_", "wqcallback", "(", "void", "*", "data", ")", "<nl>", "u32", "TotalRxBcnNum", "=", "0", ";", "<nl>", "u32", "TotalRxDataNum", "=", "0", ";", "<nl>", "<nl>", "-", "rtl819x", "_", "update", "_", "rxcounts", "(", "priv", ",", "&", "TotalRxBcnNum", ",", "&", "TotalRxDataNum", ")", ";", "<nl>", "+", "_", "rtl92e", "_", "update", "_", "rxcounts", "(", "priv", ",", "&", "TotalRxBcnNum", ",", "&", "TotalRxDataNum", ")", ";", "<nl>", "<nl>", "if", "(", "(", "TotalRxBcnNum", "+", "TotalRxDataNum", ")", "=", "=", "0", ")", "<nl>", "priv", "-", ">", "check", "_", "roaming", "_", "cnt", "+", "+", ";", "<nl>"], "docstring_tokens": ["staging", "rtl8192e", "Rename", "rtl819x_update_rxcounts"]}
{"code_tokens": ["qla2x00", "_", "start", "_", "scsi", "(", "srb", "_", "t", "*", "sp", ")", "<nl>", "_", "_", "constant", "_", "cpu", "_", "to", "_", "le16", "(", "CF", "_", "SIMPLE", "_", "TAG", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "}", "else", "{", "<nl>", "+", "cmd", "_", "pkt", "-", ">", "control", "_", "flags", "=", "_", "_", "constant", "_", "cpu", "_", "to", "_", "le16", "(", "CF", "_", "SIMPLE", "_", "TAG", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Load", "SCSI", "command", "packet", ".", "*", "/", "<nl>", "qla24xx", "_", "build", "_", "scsi", "_", "crc", "_", "2", "_", "iocbs", "(", "srb", "_", "t", "*", "sp", ",", "struct", "cmd", "_", "type", "_", "crc", "_", "2", "*", "cmd", "_", "pkt", ",", "<nl>", "fcp", "_", "cmnd", "-", ">", "task", "_", "attribute", "=", "TSK", "_", "ORDERED", ";", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "-", "fcp", "_", "cmnd", "-", ">", "task", "_", "attribute", "=", "0", ";", "<nl>", "+", "fcp", "_", "cmnd", "-", ">", "task", "_", "attribute", "=", "TSK", "_", "SIMPLE", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "-", "fcp", "_", "cmnd", "-", ">", "task", "_", "attribute", "=", "0", ";", "<nl>", "+", "fcp", "_", "cmnd", "-", ">", "task", "_", "attribute", "=", "TSK", "_", "SIMPLE", ";", "<nl>", "}", "<nl>", "<nl>", "cmd", "_", "pkt", "-", ">", "fcp", "_", "rsp", "_", "dseg", "_", "len", "=", "0", ";", "/", "*", "Let", "response", "come", "in", "status", "iocb", "*", "/", "<nl>", "qla24xx", "_", "start", "_", "scsi", "(", "srb", "_", "t", "*", "sp", ")", "<nl>", "case", "ORDERED", "_", "QUEUE", "_", "TAG", ":", "<nl>", "cmd", "_", "pkt", "-", ">", "task", "=", "TSK", "_", "ORDERED", ";", "<nl>", "break", ";", "<nl>", "+", "default", ":", "<nl>", "+", "cmd", "_", "pkt", "-", ">", "task", "=", "TSK", "_", "SIMPLE", ";", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "+", "}", "else", "{", "<nl>", "+", "cmd", "_", "pkt", "-", ">", "task", "=", "TSK", "_", "SIMPLE", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Load", "SCSI", "command", "packet", ".", "*", "/", "<nl>"], "docstring_tokens": ["SCSI", "qla2xxx", "Properly", "set", "the", "tagging", "for", "commands"]}
{"code_tokens": ["bool", "intel", "_", "crtc", "_", "active", "(", "struct", "drm", "_", "crtc", "*", "crtc", ")", "<nl>", "*", "<nl>", "*", "We", "can", "ditch", "the", "crtc", "-", ">", "primary", "-", ">", "fb", "check", "as", "soon", "as", "we", "can", "<nl>", "*", "properly", "reconstruct", "framebuffers", ".", "<nl>", "+", "*", "<nl>", "+", "*", "FIXME", ":", "The", "intel", "_", "crtc", "-", ">", "active", "here", "should", "be", "switched", "to", "<nl>", "+", "*", "crtc", "-", ">", "state", "-", ">", "active", "once", "we", "have", "proper", "CRTC", "states", "wired", "up", "<nl>", "+", "*", "for", "atomic", ".", "<nl>", "*", "/", "<nl>", "-", "return", "intel", "_", "crtc", "-", ">", "active", "&", "&", "crtc", "-", ">", "primary", "-", ">", "fb", "&", "&", "<nl>", "+", "return", "intel", "_", "crtc", "-", ">", "active", "&", "&", "crtc", "-", ">", "primary", "-", ">", "state", "-", ">", "fb", "&", "&", "<nl>", "intel", "_", "crtc", "-", ">", "config", "-", ">", "base", ".", "adjusted", "_", "mode", ".", "crtc", "_", "clock", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "Update", "intel_crtc_active", "to", "use", "state", "values", "v2"]}
{"code_tokens": ["static", "int", "_", "_", "exit", "twl4030", "_", "usb", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "/", "*", "disable", "complete", "OTG", "block", "*", "/", "<nl>", "twl4030", "_", "usb", "_", "clear", "_", "bits", "(", "twl", ",", "POWER", "_", "CTRL", ",", "POWER", "_", "CTRL", "_", "OTG", "_", "ENAB", ")", ";", "<nl>", "<nl>", "-", "twl4030", "_", "phy", "_", "power", "(", "twl", ",", "0", ")", ";", "<nl>", "+", "if", "(", "!", "twl", "-", ">", "asleep", ")", "<nl>", "+", "twl4030", "_", "phy", "_", "power", "(", "twl", ",", "0", ")", ";", "<nl>", "regulator", "_", "put", "(", "twl", "-", ">", "usb1v5", ")", ";", "<nl>", "regulator", "_", "put", "(", "twl", "-", ">", "usb1v8", ")", ";", "<nl>", "regulator", "_", "put", "(", "twl", "-", ">", "usb3v1", ")", ";", "<nl>"], "docstring_tokens": ["usb", "otg", "twl4030", "usb", "Fix", "unbalanced", "regulator", "disables", "at", "module", "removal"]}
{"code_tokens": ["static", "void", "dma", "_", "ops", "_", "domain", "_", "free", "(", "struct", "dma", "_", "ops", "_", "domain", "*", "dom", ")", "<nl>", "<nl>", "free", "_", "pagetable", "(", "&", "dom", "-", ">", "domain", ")", ";", "<nl>", "<nl>", "+", "if", "(", "dom", "-", ">", "domain", ".", "id", ")", "<nl>", "+", "domain", "_", "id", "_", "free", "(", "dom", "-", ">", "domain", ".", "id", ")", ";", "<nl>", "+", "<nl>", "kfree", "(", "dom", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["iommu", "amd", "Free", "domain", "id", "when", "free", "a", "domain", "of", "struct", "dma_ops_domain"]}
{"code_tokens": ["void", "drm", "_", "modeset", "_", "acquire", "_", "init", "(", "struct", "drm", "_", "modeset", "_", "acquire", "_", "ctx", "*", "ctx", ",", "<nl>", "uint32", "_", "t", "flags", ")", "<nl>", "{", "<nl>", "+", "memset", "(", "ctx", ",", "0", ",", "sizeof", "(", "*", "ctx", ")", ")", ";", "<nl>", "ww", "_", "acquire", "_", "init", "(", "&", "ctx", "-", ">", "ww", "_", "ctx", ",", "&", "crtc", "_", "ww", "_", "class", ")", ";", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "ctx", "-", ">", "locked", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "fix", "uninitialized", "acquire_ctx", "fields", "v2"]}
{"code_tokens": ["static", "int", "rcar", "_", "gen2", "_", "usb", "_", "phy", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "priv", "-", ">", "phy", ".", "shutdown", "=", "rcar", "_", "gen2", "_", "usb", "_", "phy", "_", "shutdown", ";", "<nl>", "priv", "-", ">", "phy", ".", "set", "_", "suspend", "=", "rcar", "_", "gen2", "_", "usb", "_", "phy", "_", "set", "_", "suspend", ";", "<nl>", "<nl>", "-", "retval", "=", "usb", "_", "add", "_", "phy", "(", "&", "priv", "-", ">", "phy", ",", "USB", "_", "PHY", "_", "TYPE", "_", "USB2", ")", ";", "<nl>", "+", "retval", "=", "usb", "_", "add", "_", "phy", "_", "dev", "(", "&", "priv", "-", ">", "phy", ")", ";", "<nl>", "if", "(", "retval", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "Failed", "to", "add", "USB", "phy", "\\", "n", "\"", ")", ";", "<nl>", "return", "retval", ";", "<nl>"], "docstring_tokens": ["usb", "phy", "r", "car", "gen2", "use", "usb_add_phy_dev"]}
{"code_tokens": ["static", "s32", "scx200", "_", "acb", "_", "smbus", "_", "xfer", "(", "struct", "i2c", "_", "adapter", "*", "adapter", ",", "<nl>", "buffer", "=", "(", "u8", "*", ")", "&", "cur", "_", "word", ";", "<nl>", "break", ";", "<nl>", "<nl>", "-", "case", "I2C", "_", "SMBUS", "_", "BLOCK", "_", "DATA", ":", "<nl>", "+", "case", "I2C", "_", "SMBUS", "_", "I2C", "_", "BLOCK", "_", "DATA", ":", "<nl>", "+", "if", "(", "rw", "=", "=", "I2C", "_", "SMBUS", "_", "READ", ")", "<nl>", "+", "data", "-", ">", "block", "[", "0", "]", "=", "I2C", "_", "SMBUS", "_", "BLOCK", "_", "MAX", ";", "/", "*", "For", "now", "*", "/", "<nl>", "len", "=", "data", "-", ">", "block", "[", "0", "]", ";", "<nl>", "+", "if", "(", "len", "=", "=", "0", "|", "|", "len", ">", "I2C", "_", "SMBUS", "_", "BLOCK", "_", "MAX", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "buffer", "=", "&", "data", "-", ">", "block", "[", "1", "]", ";", "<nl>", "break", ";", "<nl>", "<nl>", "static", "u32", "scx200", "_", "acb", "_", "func", "(", "struct", "i2c", "_", "adapter", "*", "adapter", ")", "<nl>", "{", "<nl>", "return", "I2C", "_", "FUNC", "_", "SMBUS", "_", "QUICK", "|", "I2C", "_", "FUNC", "_", "SMBUS", "_", "BYTE", "|", "<nl>", "I2C", "_", "FUNC", "_", "SMBUS", "_", "BYTE", "_", "DATA", "|", "I2C", "_", "FUNC", "_", "SMBUS", "_", "WORD", "_", "DATA", "|", "<nl>", "-", "I2C", "_", "FUNC", "_", "SMBUS", "_", "BLOCK", "_", "DATA", ";", "<nl>", "+", "I2C", "_", "FUNC", "_", "SMBUS", "_", "I2C", "_", "BLOCK", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "For", "now", ",", "we", "only", "handle", "combined", "mode", "(", "smbus", ")", "*", "/", "<nl>"], "docstring_tokens": ["PATCH", "scx200_acb", "Fix", "the", "block", "transactions"]}
{"code_tokens": ["static", "inline", "void", "ipv6", "_", "store", "_", "devconf", "(", "struct", "ipv6", "_", "devconf", "*", "cnf", ",", "<nl>", "#", "endif", "<nl>", "array", "[", "DEVCONF", "_", "DISABLE", "_", "IPV6", "]", "=", "cnf", "-", ">", "disable", "_", "ipv6", ";", "<nl>", "array", "[", "DEVCONF", "_", "ACCEPT", "_", "DAD", "]", "=", "cnf", "-", ">", "accept", "_", "dad", ";", "<nl>", "+", "array", "[", "DEVCONF", "_", "FORCE", "_", "TLLAO", "]", "=", "cnf", "-", ">", "force", "_", "tllao", ";", "<nl>", "}", "<nl>", "<nl>", "static", "inline", "size", "_", "t", "inet6", "_", "if", "_", "nlmsg", "_", "size", "(", "void", ")", "<nl>"], "docstring_tokens": ["ipv6", "fix", "devconf", "after", "adding", "force_tllao", "option"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "(", "video", "_", "ioctl2", ")", ";", "<nl>", "static", "int", "get", "_", "index", "(", "struct", "video", "_", "device", "*", "vdev", ",", "int", "num", ")", "<nl>", "{", "<nl>", "u32", "used", "=", "0", ";", "<nl>", "+", "const", "unsigned", "max", "_", "index", "=", "sizeof", "(", "used", ")", "*", "8", "-", "1", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "if", "(", "num", ">", "=", "32", ")", "{", "<nl>", "+", "/", "*", "Currently", "a", "single", "v4l", "driver", "instance", "cannot", "create", "more", "than", "<nl>", "+", "32", "devices", ".", "<nl>", "+", "Increase", "to", "u64", "or", "an", "array", "of", "u32", "if", "more", "are", "needed", ".", "*", "/", "<nl>", "+", "if", "(", "num", ">", "max", "_", "index", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "videodev", ":", "%", "s", "num", "is", "too", "large", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "static", "int", "get", "_", "index", "(", "struct", "video", "_", "device", "*", "vdev", ",", "int", "num", ")", "<nl>", "}", "<nl>", "<nl>", "i", "=", "ffz", "(", "used", ")", ";", "<nl>", "-", "return", "i", ">", "=", "32", "?", "-", "ENFILE", ":", "i", ";", "<nl>", "+", "return", "i", ">", "max", "_", "index", "?", "-", "ENFILE", ":", "i", ";", "<nl>", "}", "<nl>", "<nl>", "static", "const", "struct", "file", "_", "operations", "video", "_", "fops", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "8390", "videodev", "add", "comment", "and", "remove", "magic", "number"]}
{"code_tokens": ["struct", "file", "*", "do", "_", "filp", "_", "open", "(", "int", "dfd", ",", "const", "char", "*", "pathname", ",", "<nl>", "mutex", "_", "lock", "(", "&", "dir", "-", ">", "d", "_", "inode", "-", ">", "i", "_", "mutex", ")", ";", "<nl>", "path", ".", "dentry", "=", "lookup", "_", "hash", "(", "&", "nd", ")", ";", "<nl>", "path", ".", "mnt", "=", "nd", ".", "path", ".", "mnt", ";", "<nl>", "-", "_", "_", "putname", "(", "nd", ".", "last", ".", "name", ")", ";", "<nl>", "filp", "=", "do", "_", "last", "(", "&", "nd", ",", "&", "path", ",", "open", "_", "flag", ",", "flag", ",", "acc", "_", "mode", ",", "mode", ",", "<nl>", "pathname", ",", "dir", ",", "&", "is", "_", "link", ")", ";", "<nl>", "+", "_", "_", "putname", "(", "nd", ".", "last", ".", "name", ")", ";", "<nl>", "if", "(", "is", "_", "link", ")", "<nl>", "goto", "do", "_", "link", ";", "<nl>", "if", "(", "nd", ".", "root", ".", "mnt", ")", "<nl>"], "docstring_tokens": ["postpone", "__putname", "until", "after", "do_last"]}
{"code_tokens": ["static", "int", "trace", "_", "_", "read", "_", "syscall", "_", "info", "(", "struct", "trace", "*", "trace", ",", "int", "id", ")", "<nl>", "<nl>", "sc", "-", ">", "args", "=", "sc", "-", ">", "tp", "_", "format", "-", ">", "format", ".", "fields", ";", "<nl>", "sc", "-", ">", "nr", "_", "args", "=", "sc", "-", ">", "tp", "_", "format", "-", ">", "format", ".", "nr", "_", "fields", ";", "<nl>", "-", "/", "*", "drop", "nr", "field", "-", "not", "relevant", "here", ";", "does", "not", "exist", "on", "older", "kernels", "*", "/", "<nl>", "-", "if", "(", "sc", "-", ">", "args", "&", "&", "strcmp", "(", "sc", "-", ">", "args", "-", ">", "name", ",", "\"", "nr", "\"", ")", "=", "=", "0", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "We", "need", "to", "check", "and", "discard", "the", "first", "variable", "'", "_", "_", "syscall", "_", "nr", "'", "<nl>", "+", "*", "or", "'", "nr", "'", "that", "mean", "the", "syscall", "number", ".", "It", "is", "needless", "here", ".", "<nl>", "+", "*", "So", "drop", "'", "_", "_", "syscall", "_", "nr", "'", "or", "'", "nr", "'", "field", "but", "does", "not", "exist", "on", "older", "kernels", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "sc", "-", ">", "args", "&", "&", "(", "!", "strcmp", "(", "sc", "-", ">", "args", "-", ">", "name", ",", "\"", "_", "_", "syscall", "_", "nr", "\"", ")", "|", "|", "!", "strcmp", "(", "sc", "-", ">", "args", "-", ">", "name", ",", "\"", "nr", "\"", ")", ")", ")", "{", "<nl>", "sc", "-", ">", "args", "=", "sc", "-", ">", "args", "-", ">", "next", ";", "<nl>", "-", "-", "sc", "-", ">", "nr", "_", "args", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["perf", "trace", "Check", "and", "discard", "not", "only", "nr", "but", "also", "__syscall_nr"]}
{"code_tokens": ["xfs", "_", "dialloc", "_", "ag", "_", "inobt", "(", "<nl>", "<nl>", "/", "*", "free", "inodes", "to", "the", "left", "?", "*", "/", "<nl>", "if", "(", "useleft", "&", "&", "trec", ".", "ir", "_", "freecount", ")", "{", "<nl>", "-", "rec", "=", "trec", ";", "<nl>", "xfs", "_", "btree", "_", "del", "_", "cursor", "(", "cur", ",", "XFS", "_", "BTREE", "_", "NOERROR", ")", ";", "<nl>", "cur", "=", "tcur", ";", "<nl>", "<nl>", "pag", "-", ">", "pagl", "_", "leftrec", "=", "trec", ".", "ir", "_", "startino", ";", "<nl>", "pag", "-", ">", "pagl", "_", "rightrec", "=", "rec", ".", "ir", "_", "startino", ";", "<nl>", "pag", "-", ">", "pagl", "_", "pagino", "=", "pagino", ";", "<nl>", "+", "rec", "=", "trec", ";", "<nl>", "goto", "alloc", "_", "inode", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["xfs", "fix", "inobt", "inode", "allocation", "search", "optimization"]}
{"code_tokens": ["static", "int", "mwifiex", "_", "cfg80211", "_", "set", "_", "bitrate", "_", "mask", "(", "struct", "wiphy", "*", "wiphy", ",", "<nl>", "struct", "mwifiex", "_", "private", "*", "priv", "=", "mwifiex", "_", "netdev", "_", "get", "_", "priv", "(", "dev", ")", ";", "<nl>", "u16", "bitmap", "_", "rates", "[", "MAX", "_", "BITMAP", "_", "RATES", "_", "SIZE", "]", ";", "<nl>", "enum", "ieee80211", "_", "band", "band", ";", "<nl>", "+", "struct", "mwifiex", "_", "adapter", "*", "adapter", "=", "priv", "-", ">", "adapter", ";", "<nl>", "<nl>", "if", "(", "!", "priv", "-", ">", "media", "_", "connected", ")", "{", "<nl>", "-", "dev", "_", "err", "(", "priv", "-", ">", "adapter", "-", ">", "dev", ",", "<nl>", "+", "dev", "_", "err", "(", "adapter", "-", ">", "dev", ",", "<nl>", "\"", "Can", "not", "set", "Tx", "data", "rate", "in", "disconnected", "state", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "static", "int", "mwifiex", "_", "cfg80211", "_", "set", "_", "bitrate", "_", "mask", "(", "struct", "wiphy", "*", "wiphy", ",", "<nl>", "<nl>", "/", "*", "Fill", "HT", "MCS", "rates", "*", "/", "<nl>", "bitmap", "_", "rates", "[", "2", "]", "=", "mask", "-", ">", "control", "[", "band", "]", ".", "ht", "_", "mcs", "[", "0", "]", ";", "<nl>", "-", "if", "(", "priv", "-", ">", "adapter", "-", ">", "hw", "_", "dev", "_", "mcs", "_", "support", "=", "=", "HT", "_", "STREAM", "_", "2X2", ")", "<nl>", "+", "if", "(", "adapter", "-", ">", "hw", "_", "dev", "_", "mcs", "_", "support", "=", "=", "HT", "_", "STREAM", "_", "2X2", ")", "<nl>", "bitmap", "_", "rates", "[", "2", "]", "|", "=", "mask", "-", ">", "control", "[", "band", "]", ".", "ht", "_", "mcs", "[", "1", "]", "<", "<", "8", ";", "<nl>", "<nl>", "+", "/", "*", "Fill", "VHT", "MCS", "rates", "*", "/", "<nl>", "+", "if", "(", "adapter", "-", ">", "fw", "_", "api", "_", "ver", "=", "=", "MWIFIEX", "_", "FW", "_", "V15", ")", "{", "<nl>", "+", "bitmap", "_", "rates", "[", "10", "]", "=", "mask", "-", ">", "control", "[", "band", "]", ".", "vht", "_", "mcs", "[", "0", "]", ";", "<nl>", "+", "if", "(", "adapter", "-", ">", "hw", "_", "dev", "_", "mcs", "_", "support", "=", "=", "HT", "_", "STREAM", "_", "2X2", ")", "<nl>", "+", "bitmap", "_", "rates", "[", "11", "]", "=", "mask", "-", ">", "control", "[", "band", "]", ".", "vht", "_", "mcs", "[", "1", "]", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "return", "mwifiex", "_", "send", "_", "cmd", "(", "priv", ",", "HostCmd", "_", "CMD", "_", "TX", "_", "RATE", "_", "CFG", ",", "<nl>", "HostCmd", "_", "ACT", "_", "GEN", "_", "SET", ",", "0", ",", "bitmap", "_", "rates", ",", "true", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mwifiex", "use", "VHT", "MCS", "mask", "in", "set", "bitrate", "mask", "handler"]}
{"code_tokens": ["static", "int", "serial", "_", "imx", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "pdata", "&", "&", "(", "pdata", "-", ">", "flags", "&", "IMXUART", "_", "HAVE", "_", "RTSCTS", ")", ")", "<nl>", "sport", "-", ">", "have", "_", "rtscts", "=", "1", ";", "<nl>", "<nl>", "-", "if", "(", "pdata", "-", ">", "init", ")", "<nl>", "-", "pdata", "-", ">", "init", "(", "pdev", ")", ";", "<nl>", "+", "if", "(", "pdata", "-", ">", "init", ")", "{", "<nl>", "+", "ret", "=", "pdata", "-", ">", "init", "(", "pdev", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "goto", "clkput", ";", "<nl>", "+", "}", "<nl>", "<nl>", "uart", "_", "add", "_", "one", "_", "port", "(", "&", "imx", "_", "reg", ",", "&", "sport", "-", ">", "port", ")", ";", "<nl>", "platform", "_", "set", "_", "drvdata", "(", "pdev", ",", "&", "sport", "-", ">", "port", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "+", "clkput", ":", "<nl>", "+", "clk", "_", "put", "(", "sport", "-", ">", "clk", ")", ";", "<nl>", "+", "clk", "_", "disable", "(", "sport", "-", ">", "clk", ")", ";", "<nl>", "unmap", ":", "<nl>", "iounmap", "(", "sport", "-", ">", "port", ".", "membase", ")", ";", "<nl>", "free", ":", "<nl>"], "docstring_tokens": ["i", "MX", "serial", "fix", "init", "failure"]}
{"code_tokens": ["static", "bool", "ieee80211", "_", "sta", "_", "wmm", "_", "params", "(", "struct", "ieee80211", "_", "local", "*", "local", ",", "<nl>", "params", "[", "ac", "]", ".", "acm", "=", "acm", ";", "<nl>", "params", "[", "ac", "]", ".", "uapsd", "=", "uapsd", ";", "<nl>", "<nl>", "-", "if", "(", "params", "[", "ac", "]", ".", "cw", "_", "min", ">", "params", "[", "ac", "]", ".", "cw", "_", "max", ")", "{", "<nl>", "+", "if", "(", "params", "-", ">", "cw", "_", "min", "=", "=", "0", "|", "|", "<nl>", "+", "params", "[", "ac", "]", ".", "cw", "_", "min", ">", "params", "[", "ac", "]", ".", "cw", "_", "max", ")", "{", "<nl>", "sdata", "_", "info", "(", "sdata", ",", "<nl>", "\"", "AP", "has", "invalid", "WMM", "params", "(", "CWmin", "/", "max", "=", "%", "d", "/", "%", "d", "for", "ACI", "%", "d", ")", ",", "using", "defaults", "\\", "n", "\"", ",", "<nl>", "params", "[", "ac", "]", ".", "cw", "_", "min", ",", "params", "[", "ac", "]", ".", "cw", "_", "max", ",", "aci", ")", ";", "<nl>"], "docstring_tokens": ["mac80211", "don", "t", "WARN", "on", "bad", "WMM", "parameters", "from", "buggy", "APs"]}
{"code_tokens": ["static", "bool", "svc", "_", "rqst", "_", "integrity", "_", "protected", "(", "struct", "svc", "_", "rqst", "*", "rqstp", ")", "<nl>", "struct", "svc", "_", "cred", "*", "cr", "=", "&", "rqstp", "-", ">", "rq", "_", "cred", ";", "<nl>", "u32", "service", ";", "<nl>", "<nl>", "+", "if", "(", "!", "cr", "-", ">", "cr", "_", "gss", "_", "mech", ")", "<nl>", "+", "return", "false", ";", "<nl>", "service", "=", "gss", "_", "pseudoflavor", "_", "to", "_", "service", "(", "cr", "-", ">", "cr", "_", "gss", "_", "mech", ",", "cr", "-", ">", "cr", "_", "flavor", ")", ";", "<nl>", "return", "service", "=", "=", "RPC", "_", "GSS", "_", "SVC", "_", "INTEGRITY", "|", "|", "<nl>", "service", "=", "=", "RPC", "_", "GSS", "_", "SVC", "_", "PRIVACY", ";", "<nl>"], "docstring_tokens": ["nfsd4", "Fix", "MACH_CRED", "NULL", "dereference"]}
{"code_tokens": ["static", "bool", "lm3533", "_", "readable", "_", "register", "(", "struct", "device", "*", "dev", ",", "unsigned", "int", "reg", ")", "<nl>", "static", "bool", "lm3533", "_", "volatile", "_", "register", "(", "struct", "device", "*", "dev", ",", "unsigned", "int", "reg", ")", "<nl>", "{", "<nl>", "switch", "(", "reg", ")", "{", "<nl>", "-", "case", "0x34", ":", "/", "*", "zone", "*", "/", "<nl>", "+", "case", "0x34", ".", ".", ".", "0x36", ":", "/", "*", "zone", "*", "/", "<nl>", "case", "0x37", ".", ".", ".", "0x38", ":", "/", "*", "adc", "*", "/", "<nl>", "case", "0xb0", ".", ".", ".", "0xb1", ":", "/", "*", "fault", "*", "/", "<nl>", "return", "true", ";", "<nl>"], "docstring_tokens": ["mfd", "Mark", "two", "lm3533", "zone", "registers", "as", "volatile"]}
{"code_tokens": ["static", "int", "cmm", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ",", "unsigned", "int", "cmd", ",", "<nl>", "dev", "_", "link", "_", "t", "*", "link", ";", "<nl>", "int", "size", ";", "<nl>", "int", "rc", ";", "<nl>", "+", "void", "_", "_", "user", "*", "argp", "=", "(", "void", "_", "_", "user", "*", ")", "arg", ";", "<nl>", "#", "ifdef", "PCMCIA", "_", "DEBUG", "<nl>", "char", "*", "ioctl", "_", "names", "[", "CM", "_", "IOC", "_", "MAXNR", "+", "1", "]", "=", "{", "<nl>", "[", "_", "IOC", "_", "NR", "(", "CM", "_", "IOCGSTATUS", ")", "]", "\"", "CM", "_", "IOCGSTATUS", "\"", ",", "<nl>", "static", "int", "cmm", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ",", "unsigned", "int", "cmd", ",", "<nl>", "_", "IOC", "_", "DIR", "(", "cmd", ")", ",", "_", "IOC", "_", "READ", ",", "_", "IOC", "_", "WRITE", ",", "size", ",", "cmd", ")", ";", "<nl>", "<nl>", "if", "(", "_", "IOC", "_", "DIR", "(", "cmd", ")", "&", "_", "IOC", "_", "READ", ")", "{", "<nl>", "-", "if", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "WRITE", ",", "(", "void", "*", ")", "arg", ",", "size", ")", ")", "<nl>", "+", "if", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "WRITE", ",", "argp", ",", "size", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "if", "(", "_", "IOC", "_", "DIR", "(", "cmd", ")", "&", "_", "IOC", "_", "WRITE", ")", "{", "<nl>", "-", "if", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "READ", ",", "(", "void", "*", ")", "arg", ",", "size", ")", ")", "<nl>", "+", "if", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "READ", ",", "argp", ",", "size", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "cmm", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ",", "unsigned", "int", "cmd", ",", "<nl>", "status", "|", "=", "CM", "_", "NO", "_", "READER", ";", "<nl>", "if", "(", "test", "_", "bit", "(", "IS", "_", "BAD", "_", "CARD", ",", "&", "dev", "-", ">", "flags", ")", ")", "<nl>", "status", "|", "=", "CM", "_", "BAD", "_", "CARD", ";", "<nl>", "-", "if", "(", "copy", "_", "to", "_", "user", "(", "(", "int", "*", ")", "arg", ",", "&", "status", ",", "sizeof", "(", "int", ")", ")", ")", "<nl>", "+", "if", "(", "copy", "_", "to", "_", "user", "(", "argp", ",", "&", "status", ",", "sizeof", "(", "int", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>", "case", "CM", "_", "IOCGATR", ":", "<nl>", "DEBUGP", "(", "4", ",", "dev", ",", "\"", ".", ".", ".", "in", "CM", "_", "IOCGATR", "\\", "n", "\"", ")", ";", "<nl>", "{", "<nl>", "-", "struct", "atreq", "*", "atreq", "=", "(", "struct", "atreq", "*", ")", "arg", ";", "<nl>", "+", "struct", "atreq", "_", "_", "user", "*", "atreq", "=", "argp", ";", "<nl>", "int", "tmp", ";", "<nl>", "/", "*", "allow", "nonblocking", "io", "and", "being", "interrupted", "*", "/", "<nl>", "if", "(", "wait", "_", "event", "_", "interruptible", "<nl>", "static", "int", "cmm", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ",", "unsigned", "int", "cmd", ",", "<nl>", "{", "<nl>", "struct", "ptsreq", "krnptsreq", ";", "<nl>", "<nl>", "-", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "krnptsreq", ",", "(", "struct", "ptsreq", "*", ")", "arg", ",", "<nl>", "+", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "krnptsreq", ",", "argp", ",", "<nl>", "sizeof", "(", "struct", "ptsreq", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "<nl>", "static", "int", "cmm", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ",", "unsigned", "int", "cmd", ",", "<nl>", "int", "old", "_", "pc", "_", "debug", "=", "0", ";", "<nl>", "<nl>", "old", "_", "pc", "_", "debug", "=", "pc", "_", "debug", ";", "<nl>", "-", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "pc", "_", "debug", ",", "(", "int", "*", ")", "arg", ",", "sizeof", "(", "int", ")", ")", ")", "<nl>", "+", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "pc", "_", "debug", ",", "argp", ",", "sizeof", "(", "int", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "<nl>", "if", "(", "old", "_", "pc", "_", "debug", "!", "=", "pc", "_", "debug", ")", "<nl>"], "docstring_tokens": ["PATCH", "cm4000_cs", "__user", "annotations"]}
{"code_tokens": ["static", "int", "put", "_", "chars", "(", "u32", "vtermno", ",", "const", "char", "*", "buf", ",", "int", "count", ")", "<nl>", "{", "<nl>", "struct", "port", "*", "port", ";", "<nl>", "struct", "scatterlist", "sg", "[", "1", "]", ";", "<nl>", "+", "void", "*", "data", ";", "<nl>", "+", "int", "ret", ";", "<nl>", "<nl>", "if", "(", "unlikely", "(", "early", "_", "put", "_", "chars", ")", ")", "<nl>", "return", "early", "_", "put", "_", "chars", "(", "vtermno", ",", "buf", ",", "count", ")", ";", "<nl>", "static", "int", "put", "_", "chars", "(", "u32", "vtermno", ",", "const", "char", "*", "buf", ",", "int", "count", ")", "<nl>", "if", "(", "!", "port", ")", "<nl>", "return", "-", "EPIPE", ";", "<nl>", "<nl>", "-", "sg", "_", "init", "_", "one", "(", "sg", ",", "buf", ",", "count", ")", ";", "<nl>", "-", "return", "_", "_", "send", "_", "to", "_", "port", "(", "port", ",", "sg", ",", "1", ",", "count", ",", "(", "void", "*", ")", "buf", ",", "false", ")", ";", "<nl>", "+", "data", "=", "kmemdup", "(", "buf", ",", "count", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "if", "(", "!", "data", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "+", "sg", "_", "init", "_", "one", "(", "sg", ",", "data", ",", "count", ")", ";", "<nl>", "+", "ret", "=", "_", "_", "send", "_", "to", "_", "port", "(", "port", ",", "sg", ",", "1", ",", "count", ",", "data", ",", "false", ")", ";", "<nl>", "+", "kfree", "(", "data", ")", ";", "<nl>", "+", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["virtio", "console", "avoid", "DMA", "from", "stack"]}
{"code_tokens": ["static", "void", "fast", "_", "csum", "(", "struct", "snmp", "_", "ctx", "*", "ctx", ",", "unsigned", "char", "offset", ")", "<nl>", "int", "snmp", "_", "version", "(", "void", "*", "context", ",", "size", "_", "t", "hdrlen", ",", "unsigned", "char", "tag", ",", "<nl>", "const", "void", "*", "data", ",", "size", "_", "t", "datalen", ")", "<nl>", "{", "<nl>", "+", "if", "(", "datalen", "!", "=", "1", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "if", "(", "*", "(", "unsigned", "char", "*", ")", "data", ">", "1", ")", "<nl>", "return", "-", "ENOTSUPP", ";", "<nl>", "return", "1", ";", "<nl>", "int", "snmp", "_", "helper", "(", "void", "*", "context", ",", "size", "_", "t", "hdrlen", ",", "unsigned", "char", "tag", ",", "<nl>", "const", "void", "*", "data", ",", "size", "_", "t", "datalen", ")", "<nl>", "{", "<nl>", "struct", "snmp", "_", "ctx", "*", "ctx", "=", "(", "struct", "snmp", "_", "ctx", "*", ")", "context", ";", "<nl>", "-", "_", "_", "be32", "*", "pdata", "=", "(", "_", "_", "be32", "*", ")", "data", ";", "<nl>", "+", "_", "_", "be32", "*", "pdata", ";", "<nl>", "<nl>", "+", "if", "(", "datalen", "!", "=", "4", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "pdata", "=", "(", "_", "_", "be32", "*", ")", "data", ";", "<nl>", "if", "(", "*", "pdata", "=", "=", "ctx", "-", ">", "from", ")", "{", "<nl>", "pr", "_", "debug", "(", "\"", "%", "s", ":", "%", "pI4", "to", "%", "pI4", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "<nl>", "(", "void", "*", ")", "&", "ctx", "-", ">", "from", ",", "(", "void", "*", ")", "&", "ctx", "-", ">", "to", ")", ";", "<nl>"], "docstring_tokens": ["netfilter", "nf_nat_snmp_basic", "add", "missing", "length", "checks", "in", "ASN", "1", "cbs"]}
{"code_tokens": ["static", "struct", "dma", "_", "chan", "*", "k3", "_", "of", "_", "dma", "_", "simple", "_", "xlate", "(", "struct", "of", "_", "phandle", "_", "args", "*", "dma", "_", "spec", ",", "<nl>", "struct", "k3", "_", "dma", "_", "dev", "*", "d", "=", "ofdma", "-", ">", "of", "_", "dma", "_", "data", ";", "<nl>", "unsigned", "int", "request", "=", "dma", "_", "spec", "-", ">", "args", "[", "0", "]", ";", "<nl>", "<nl>", "-", "if", "(", "request", ">", "d", "-", ">", "dma", "_", "requests", ")", "<nl>", "+", "if", "(", "request", ">", "=", "d", "-", ">", "dma", "_", "requests", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "return", "dma", "_", "get", "_", "slave", "_", "channel", "(", "&", "(", "d", "-", ">", "chans", "[", "request", "]", ".", "vc", ".", "chan", ")", ")", ";", "<nl>"], "docstring_tokens": ["dmaengine", "k3dma", "Off", "by", "one", "in", "k3_of_dma_simple_xlate"]}
{"code_tokens": ["static", "int", "sco", "_", "sock", "_", "getsockopt", "_", "old", "(", "struct", "socket", "*", "sock", ",", "int", "optname", ",", "char", "_", "_", "user", "<nl>", "break", ";", "<nl>", "}", "<nl>", "<nl>", "+", "memset", "(", "&", "cinfo", ",", "0", ",", "sizeof", "(", "cinfo", ")", ")", ";", "<nl>", "cinfo", ".", "hci", "_", "handle", "=", "sco", "_", "pi", "(", "sk", ")", "-", ">", "conn", "-", ">", "hcon", "-", ">", "handle", ";", "<nl>", "memcpy", "(", "cinfo", ".", "dev", "_", "class", ",", "sco", "_", "pi", "(", "sk", ")", "-", ">", "conn", "-", ">", "hcon", "-", ">", "dev", "_", "class", ",", "3", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "sco", "fix", "information", "leak", "to", "userspace"]}
{"code_tokens": ["i915", "_", "gem", "_", "busy", "_", "ioctl", "(", "struct", "drm", "_", "device", "*", "dev", ",", "void", "*", "data", ",", "<nl>", "}", "<nl>", "<nl>", "obj", "_", "priv", "=", "obj", "-", ">", "driver", "_", "private", ";", "<nl>", "-", "args", "-", ">", "busy", "=", "obj", "_", "priv", "-", ">", "active", ";", "<nl>", "+", "/", "*", "Don", "'", "t", "count", "being", "on", "the", "flushing", "list", "against", "the", "object", "being", "<nl>", "+", "*", "done", ".", "Otherwise", ",", "a", "buffer", "left", "on", "the", "flushing", "list", "but", "not", "getting", "<nl>", "+", "*", "flushed", "(", "because", "nobody", "'", "s", "flushing", "that", "domain", ")", "won", "'", "t", "ever", "return", "<nl>", "+", "*", "unbusy", "and", "get", "reused", "by", "libdrm", "'", "s", "bo", "cache", ".", "The", "other", "expected", "<nl>", "+", "*", "consumer", "of", "this", "interface", ",", "OpenGL", "'", "s", "occlusion", "queries", ",", "also", "specs", "<nl>", "+", "*", "that", "the", "objects", "get", "unbusy", "\"", "eventually", "\"", "without", "any", "interference", ".", "<nl>", "+", "*", "/", "<nl>", "+", "args", "-", ">", "busy", "=", "obj", "_", "priv", "-", ">", "active", "&", "&", "obj", "_", "priv", "-", ">", "last", "_", "rendering", "_", "seqno", "!", "=", "0", ";", "<nl>", "<nl>", "drm", "_", "gem", "_", "object", "_", "unreference", "(", "obj", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "struct", "_", "mutex", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "Don", "t", "return", "busy", "for", "buffers", "left", "on", "the", "flushing", "list"]}
{"code_tokens": ["union", "freelist", "_", "init", "_", "state", "{", "<nl>", "unsigned", "int", "pos", ";", "<nl>", "unsigned", "int", "*", "list", ";", "<nl>", "unsigned", "int", "count", ";", "<nl>", "-", "unsigned", "int", "rand", ";", "<nl>", "}", ";", "<nl>", "struct", "rnd", "_", "state", "rnd", "_", "state", ";", "<nl>", "}", ";", "<nl>", "static", "bool", "freelist", "_", "state", "_", "initialize", "(", "union", "freelist", "_", "init", "_", "state", "*", "state", ",", "<nl>", "}", "else", "{", "<nl>", "state", "-", ">", "list", "=", "cachep", "-", ">", "random", "_", "seq", ";", "<nl>", "state", "-", ">", "count", "=", "count", ";", "<nl>", "-", "state", "-", ">", "pos", "=", "0", ";", "<nl>", "-", "state", "-", ">", "rand", "=", "rand", ";", "<nl>", "+", "state", "-", ">", "pos", "=", "rand", "%", "count", ";", "<nl>", "ret", "=", "true", ";", "<nl>", "}", "<nl>", "return", "ret", ";", "<nl>", "static", "bool", "freelist", "_", "state", "_", "initialize", "(", "union", "freelist", "_", "init", "_", "state", "*", "state", ",", "<nl>", "/", "*", "Get", "the", "next", "entry", "on", "the", "list", "and", "randomize", "it", "using", "a", "random", "shift", "*", "/", "<nl>", "static", "freelist", "_", "idx", "_", "t", "next", "_", "random", "_", "slot", "(", "union", "freelist", "_", "init", "_", "state", "*", "state", ")", "<nl>", "{", "<nl>", "-", "return", "(", "state", "-", ">", "list", "[", "state", "-", ">", "pos", "+", "+", "]", "+", "state", "-", ">", "rand", ")", "%", "state", "-", ">", "count", ";", "<nl>", "+", "if", "(", "state", "-", ">", "pos", ">", "=", "state", "-", ">", "count", ")", "<nl>", "+", "state", "-", ">", "pos", "=", "0", ";", "<nl>", "+", "return", "state", "-", ">", "list", "[", "state", "-", ">", "pos", "+", "+", "]", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Swap", "two", "freelist", "entries", "*", "/", "<nl>"], "docstring_tokens": ["mm", "slab", "c", "fix", "SLAB", "freelist", "randomization", "duplicate", "entries"]}
{"code_tokens": ["static", "int", "palmas", "_", "i2c", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "i2c", ",", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>", "goto", "err", ";", "<nl>", "}", "<nl>", "+", "palmas", "-", ">", "i2c", "_", "clients", "[", "i", "]", "-", ">", "dev", ".", "of", "_", "node", "=", "of", "_", "node", "_", "get", "(", "node", ")", ";", "<nl>", "}", "<nl>", "palmas", "-", ">", "regmap", "[", "i", "]", "=", "devm", "_", "regmap", "_", "init", "_", "i2c", "(", "palmas", "-", ">", "i2c", "_", "clients", "[", "i", "]", ",", "<nl>", "&", "palmas", "_", "regmap", "_", "config", "[", "i", "]", ")", ";", "<nl>"], "docstring_tokens": ["mfd", "palmas", "Initialise", "client", "of_node", "for", "dummy", "created", "client"]}
{"code_tokens": ["static", "int", "get", "_", "name", "(", "struct", "socket", "*", "sock", ",", "struct", "sockaddr", "*", "uaddr", ",", "<nl>", "*", "socket", "state", "flags", "set", "<nl>", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "<nl>", "*", "unconnected", "no", "read", "flags", "<nl>", "-", "*", "no", "write", "flags", "<nl>", "+", "*", "POLLOUT", "if", "port", "is", "not", "congested", "<nl>", "*", "<nl>", "*", "connecting", "POLLIN", "/", "POLLRDNORM", "if", "ACK", "/", "NACK", "in", "rx", "queue", "<nl>", "*", "no", "write", "flags", "<nl>", "static", "unsigned", "int", "poll", "(", "struct", "file", "*", "file", ",", "struct", "socket", "*", "sock", ",", "<nl>", "sock", "_", "poll", "_", "wait", "(", "file", ",", "sk", "_", "sleep", "(", "sk", ")", ",", "wait", ")", ";", "<nl>", "<nl>", "switch", "(", "(", "int", ")", "sock", "-", ">", "state", ")", "{", "<nl>", "+", "case", "SS", "_", "UNCONNECTED", ":", "<nl>", "+", "if", "(", "!", "tipc", "_", "sk", "_", "port", "(", "sk", ")", "-", ">", "congested", ")", "<nl>", "+", "mask", "|", "=", "POLLOUT", ";", "<nl>", "+", "break", ";", "<nl>", "case", "SS", "_", "READY", ":", "<nl>", "case", "SS", "_", "CONNECTED", ":", "<nl>", "if", "(", "!", "tipc", "_", "sk", "_", "port", "(", "sk", ")", "-", ">", "congested", ")", "<nl>"], "docstring_tokens": ["tipc", "return", "POLLOUT", "for", "sockets", "in", "an", "unconnected", "state"]}
{"code_tokens": ["void", "nft", "_", "meta", "_", "get", "_", "eval", "(", "const", "struct", "nft", "_", "expr", "*", "expr", ",", "<nl>", "dest", "-", ">", "data", "[", "0", "]", "=", "out", "-", ">", "group", ";", "<nl>", "break", ";", "<nl>", "case", "NFT", "_", "META", "_", "CGROUP", ":", "<nl>", "-", "if", "(", "skb", "-", ">", "sk", "=", "=", "NULL", ")", "<nl>", "-", "break", ";", "<nl>", "-", "<nl>", "+", "if", "(", "skb", "-", ">", "sk", "=", "=", "NULL", "|", "|", "!", "sk", "_", "fullsock", "(", "skb", "-", ">", "sk", ")", ")", "<nl>", "+", "goto", "err", ";", "<nl>", "dest", "-", ">", "data", "[", "0", "]", "=", "skb", "-", ">", "sk", "-", ">", "sk", "_", "classid", ";", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>"], "docstring_tokens": ["netfilter", "nft_meta", "fix", "cgroup", "matching"]}
{"code_tokens": ["sbc", "_", "parse", "_", "cdb", "(", "struct", "se", "_", "cmd", "*", "cmd", ",", "struct", "sbc", "_", "ops", "*", "ops", ")", "<nl>", "break", ";", "<nl>", "case", "VERIFY", ":", "<nl>", "size", "=", "0", ";", "<nl>", "+", "sectors", "=", "transport", "_", "get", "_", "sectors", "_", "10", "(", "cdb", ")", ";", "<nl>", "+", "cmd", "-", ">", "t", "_", "task", "_", "lba", "=", "transport", "_", "lba", "_", "32", "(", "cdb", ")", ";", "<nl>", "cmd", "-", ">", "execute", "_", "cmd", "=", "sbc", "_", "emulate", "_", "noop", ";", "<nl>", "-", "break", ";", "<nl>", "+", "goto", "check", "_", "lba", ";", "<nl>", "case", "REZERO", "_", "UNIT", ":", "<nl>", "case", "SEEK", "_", "6", ":", "<nl>", "case", "SEEK", "_", "10", ":", "<nl>"], "docstring_tokens": ["target", "sbc", "Check", "that", "the", "LBA", "and", "number", "of", "blocks", "are", "correct", "in", "VERIFY"]}
{"code_tokens": ["extern", "void", "_", "_", "rta", "_", "fill", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "int", "attrtype", ",", "int", "attrlen", ",", "const", "voi", "<nl>", "(", "skb", ")", "-", ">", "len", ";", "}", ")", "<nl>", "<nl>", "#", "define", "RTA", "_", "NEST", "_", "CANCEL", "(", "skb", ",", "start", ")", "\\", "<nl>", "-", "(", "{", "skb", "_", "trim", "(", "skb", ",", "(", "unsigned", "char", "*", ")", "(", "start", ")", "-", "(", "skb", ")", "-", ">", "data", ")", ";", "\\", "<nl>", "+", "(", "{", "if", "(", "start", ")", "\\", "<nl>", "+", "skb", "_", "trim", "(", "skb", ",", "(", "unsigned", "char", "*", ")", "(", "start", ")", "-", "(", "skb", ")", "-", ">", "data", ")", ";", "\\", "<nl>", "-", "1", ";", "}", ")", "<nl>", "<nl>", "#", "define", "RTA", "_", "GET", "_", "U32", "(", "rta", ")", "\\", "<nl>"], "docstring_tokens": ["NETLINK", "Fix", "RTA_NEST_CANCEL"]}
{"code_tokens": ["static", "int", "qlcnic", "_", "sriov", "_", "get", "_", "vf", "_", "acl", "(", "struct", "qlcnic", "_", "adapter", "*", "adapter", ")", "<nl>", "struct", "qlcnic", "_", "cmd", "_", "args", "cmd", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "cmd", ",", "0", ",", "sizeof", "(", "cmd", ")", ")", ";", "<nl>", "ret", "=", "qlcnic", "_", "sriov", "_", "alloc", "_", "bc", "_", "mbx", "_", "args", "(", "&", "cmd", ",", "QLCNIC", "_", "BC", "_", "CMD", "_", "GET", "_", "ACL", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "ret", ";", "<nl>", "static", "int", "qlcnic", "_", "sriov", "_", "channel", "_", "cfg", "_", "cmd", "(", "struct", "qlcnic", "_", "adapter", "*", "adapter", ",", "u8", "cmd", "_", "o", "<nl>", "struct", "qlcnic", "_", "vf", "_", "info", "*", "vf", "=", "&", "adapter", "-", ">", "ahw", "-", ">", "sriov", "-", ">", "vf", "_", "info", "[", "0", "]", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "cmd", ",", "0", ",", "sizeof", "(", "cmd", ")", ")", ";", "<nl>", "if", "(", "qlcnic", "_", "sriov", "_", "alloc", "_", "bc", "_", "mbx", "_", "args", "(", "&", "cmd", ",", "cmd", "_", "op", ")", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "int", "qlcnic", "_", "sriov", "_", "cfg", "_", "vf", "_", "guest", "_", "vlan", "(", "struct", "qlcnic", "_", "adapter", "*", "adapter", ",", "<nl>", "struct", "qlcnic", "_", "cmd", "_", "args", "cmd", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "cmd", ",", "0", ",", "sizeof", "(", "cmd", ")", ")", ";", "<nl>", "if", "(", "vid", "=", "=", "0", ")", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["qlcnic", "Initialize", "mailbox", "cmd", "structure", "to", "zero"]}
{"code_tokens": ["static", "int", "init", "_", "hardware", "(", "void", ")", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "hardware", "_", "lock", ",", "flags", ")", ";", "<nl>", "/", "*", "reset", "UART", "*", "/", "<nl>", "#", "ifdef", "LIRC", "_", "ON", "_", "SA1100", "<nl>", "-", "#", "ifdef", "CONFIG", "_", "SA1100", "_", "BITSY", "<nl>", "-", "if", "(", "machine", "_", "is", "_", "bitsy", "(", ")", ")", "{", "<nl>", "-", "pr", "_", "info", "(", "\"", "Power", "on", "IR", "module", "\\", "n", "\"", ")", ";", "<nl>", "-", "set", "_", "bitsy", "_", "egpio", "(", "EGPIO", "_", "BITSY", "_", "IR", "_", "ON", ")", ";", "<nl>", "-", "}", "<nl>", "-", "#", "endif", "<nl>", "#", "ifdef", "CONFIG", "_", "SA1100", "_", "COLLIE", "<nl>", "sa1100", "_", "irda", "_", "set", "_", "power", "_", "collie", "(", "3", ")", ";", "/", "*", "power", "on", "*", "/", "<nl>", "#", "endif", "<nl>", "static", "void", "drop", "_", "hardware", "(", "void", ")", "<nl>", "Ser2UTCR3", "=", "sr", ".", "utcr3", ";", "<nl>", "<nl>", "Ser2HSCR0", "=", "sr", ".", "hscr0", ";", "<nl>", "-", "#", "ifdef", "CONFIG", "_", "SA1100", "_", "BITSY", "<nl>", "-", "if", "(", "machine", "_", "is", "_", "bitsy", "(", ")", ")", "<nl>", "-", "clr", "_", "bitsy", "_", "egpio", "(", "EGPIO", "_", "BITSY", "_", "IR", "_", "ON", ")", ";", "<nl>", "-", "#", "endif", "<nl>", "#", "ifdef", "CONFIG", "_", "SA1100", "_", "COLLIE", "<nl>", "sa1100", "_", "irda", "_", "set", "_", "power", "_", "collie", "(", "0", ")", ";", "/", "*", "power", "off", "*", "/", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["media", "staging", "lirc_sir", "remove", "dead", "code"]}
{"code_tokens": ["static", "int", "magicmouse", "_", "raw", "_", "event", "(", "struct", "hid", "_", "device", "*", "hdev", ",", "<nl>", "if", "(", "size", "<", "4", "|", "|", "(", "(", "size", "-", "4", ")", "%", "9", ")", "!", "=", "0", ")", "<nl>", "return", "0", ";", "<nl>", "npoints", "=", "(", "size", "-", "4", ")", "/", "9", ";", "<nl>", "+", "if", "(", "npoints", ">", "15", ")", "{", "<nl>", "+", "hid", "_", "warn", "(", "hdev", ",", "\"", "invalid", "size", "value", "(", "%", "d", ")", "for", "TRACKPAD", "_", "REPORT", "_", "ID", "\\", "n", "\"", ",", "<nl>", "+", "size", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "msc", "-", ">", "ntouches", "=", "0", ";", "<nl>", "for", "(", "ii", "=", "0", ";", "ii", "<", "npoints", ";", "ii", "+", "+", ")", "<nl>", "magicmouse", "_", "emit", "_", "touch", "(", "msc", ",", "ii", ",", "data", "+", "ii", "*", "9", "+", "4", ")", ";", "<nl>", "static", "int", "magicmouse", "_", "raw", "_", "event", "(", "struct", "hid", "_", "device", "*", "hdev", ",", "<nl>", "if", "(", "size", "<", "6", "|", "|", "(", "(", "size", "-", "6", ")", "%", "8", ")", "!", "=", "0", ")", "<nl>", "return", "0", ";", "<nl>", "npoints", "=", "(", "size", "-", "6", ")", "/", "8", ";", "<nl>", "+", "if", "(", "npoints", ">", "15", ")", "{", "<nl>", "+", "hid", "_", "warn", "(", "hdev", ",", "\"", "invalid", "size", "value", "(", "%", "d", ")", "for", "MOUSE", "_", "REPORT", "_", "ID", "\\", "n", "\"", ",", "<nl>", "+", "size", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "msc", "-", ">", "ntouches", "=", "0", ";", "<nl>", "for", "(", "ii", "=", "0", ";", "ii", "<", "npoints", ";", "ii", "+", "+", ")", "<nl>", "magicmouse", "_", "emit", "_", "touch", "(", "msc", ",", "ii", ",", "data", "+", "ii", "*", "8", "+", "6", ")", ";", "<nl>"], "docstring_tokens": ["HID", "magicmouse", "sanity", "check", "report", "size", "in", "raw_event", "callback"]}
{"code_tokens": ["static", "int", "cypress", "_", "generic", "_", "port", "_", "probe", "(", "struct", "usb", "_", "serial", "_", "port", "*", "port", ")", "<nl>", "struct", "usb", "_", "serial", "*", "serial", "=", "port", "-", ">", "serial", ";", "<nl>", "struct", "cypress", "_", "private", "*", "priv", ";", "<nl>", "<nl>", "+", "if", "(", "!", "port", "-", ">", "interrupt", "_", "out", "_", "urb", "|", "|", "!", "port", "-", ">", "interrupt", "_", "in", "_", "urb", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "port", "-", ">", "dev", ",", "\"", "required", "endpoint", "is", "missing", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "priv", "=", "kzalloc", "(", "sizeof", "(", "struct", "cypress", "_", "private", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "priv", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "static", "int", "cypress", "_", "open", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "struct", "usb", "_", "serial", "_", "port", "*", "port", ")", "<nl>", "cypress", "_", "set", "_", "termios", "(", "tty", ",", "port", ",", "&", "priv", "-", ">", "tmp", "_", "termios", ")", ";", "<nl>", "<nl>", "/", "*", "setup", "the", "port", "and", "start", "reading", "from", "the", "device", "*", "/", "<nl>", "-", "if", "(", "!", "port", "-", ">", "interrupt", "_", "in", "_", "urb", ")", "{", "<nl>", "-", "dev", "_", "err", "(", "&", "port", "-", ">", "dev", ",", "\"", "%", "s", "-", "interrupt", "_", "in", "_", "urb", "is", "empty", "!", "\\", "n", "\"", ",", "<nl>", "-", "_", "_", "func", "_", "_", ")", ";", "<nl>", "-", "return", "-", "1", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "usb", "_", "fill", "_", "int", "_", "urb", "(", "port", "-", ">", "interrupt", "_", "in", "_", "urb", ",", "serial", "-", ">", "dev", ",", "<nl>", "usb", "_", "rcvintpipe", "(", "serial", "-", ">", "dev", ",", "port", "-", ">", "interrupt", "_", "in", "_", "endpointAddress", ")", ",", "<nl>", "port", "-", ">", "interrupt", "_", "in", "_", "urb", "-", ">", "transfer", "_", "buffer", ",", "<nl>"], "docstring_tokens": ["USB", "cypress_m8", "add", "endpoint", "sanity", "check"]}
{"code_tokens": ["int", "rtllib", "_", "wpa", "_", "supplicant", "_", "ioctl", "(", "struct", "rtllib", "_", "device", "*", "ieee", ",", "struct", "iw", "_", "point", "*", "p", ",", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "rtllib", "_", "wpa", "_", "supplicant", "_", "ioctl", ")", ";", "<nl>", "<nl>", "-", "void", "rtllib", "_", "MgntDisconnectIBSS", "(", "struct", "rtllib", "_", "device", "*", "rtllib", ")", "<nl>", "+", "static", "void", "rtllib", "_", "MgntDisconnectIBSS", "(", "struct", "rtllib", "_", "device", "*", "rtllib", ")", "<nl>", "{", "<nl>", "u8", "OpMode", ";", "<nl>", "u8", "i", ";", "<nl>", "void", "rtllib", "_", "MgntDisconnectIBSS", "(", "struct", "rtllib", "_", "device", "*", "rtllib", ")", "<nl>", "<nl>", "}", "<nl>", "<nl>", "-", "void", "rtllib", "_", "MlmeDisassociateRequest", "(", "struct", "rtllib", "_", "device", "*", "rtllib", ",", "u8", "*", "asSta", ",", "<nl>", "+", "static", "void", "rtllib", "_", "MlmeDisassociateRequest", "(", "struct", "rtllib", "_", "device", "*", "rtllib", ",", "u8", "*", "asSta", ",", "<nl>", "u8", "asRsn", ")", "<nl>", "{", "<nl>", "u8", "i", ";", "<nl>", "void", "rtllib", "_", "MlmeDisassociateRequest", "(", "struct", "rtllib", "_", "device", "*", "rtllib", ",", "u8", "*", "asSta", ",", "<nl>", "<nl>", "}", "<nl>", "<nl>", "-", "void", "<nl>", "+", "static", "void", "<nl>", "rtllib", "_", "MgntDisconnectAP", "(", "<nl>", "struct", "rtllib", "_", "device", "*", "rtllib", ",", "<nl>", "u8", "asRsn", "<nl>"], "docstring_tokens": ["Staging", "rtl8192e", "Fix", "Sparse", "Warning", "for", "Static", "Declarations", "in", "rtllib_softmac", "c"]}
{"code_tokens": ["int", "hists", "_", "_", "browse", "(", "struct", "hists", "*", "self", ",", "const", "char", "*", "helpline", ",", "const", "char", "*", "ev", "_", "name", ")", "<nl>", "<nl>", "switch", "(", "key", ")", "{", "<nl>", "case", "'", "a", "'", ":", "<nl>", "-", "if", "(", "browser", "-", ">", "selection", "-", ">", "map", "=", "=", "NULL", "&", "&", "<nl>", "+", "if", "(", "browser", "-", ">", "selection", "-", ">", "map", "=", "=", "NULL", "|", "|", "<nl>", "browser", "-", ">", "selection", "-", ">", "map", "-", ">", "dso", "-", ">", "annotate", "_", "warned", ")", "<nl>", "continue", ";", "<nl>", "goto", "do", "_", "annotate", ";", "<nl>"], "docstring_tokens": ["perf", "ui", "hist", "browser", "Fix", "segfault", "on", "a", "for", "annotate"]}
{"code_tokens": ["static", "int", "ethtool", "_", "get", "_", "eeprom", "(", "struct", "net", "_", "device", "*", "dev", ",", "void", "_", "_", "user", "*", "useraddr", ")", "<nl>", "bytes", "_", "remaining", "-", "=", "eeprom", ".", "len", ";", "<nl>", "}", "<nl>", "<nl>", "+", "eeprom", ".", "len", "=", "userbuf", "-", "(", "useraddr", "+", "sizeof", "(", "eeprom", ")", ")", ";", "<nl>", "+", "eeprom", ".", "offset", "-", "=", "eeprom", ".", "len", ";", "<nl>", "+", "if", "(", "copy", "_", "to", "_", "user", "(", "useraddr", ",", "&", "eeprom", ",", "sizeof", "(", "eeprom", ")", ")", ")", "<nl>", "+", "ret", "=", "-", "EFAULT", ";", "<nl>", "+", "<nl>", "kfree", "(", "data", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ethtool", "EEPROM", "dump", "no", "longer", "works", "for", "tg3", "and", "natsemi"]}
{"code_tokens": ["static", "const", "struct", "regmap", "_", "config", "ssbi", "_", "regmap", "_", "config", "=", "{", "<nl>", ".", "reg", "_", "write", "=", "ssbi", "_", "reg", "_", "write", "<nl>", "}", ";", "<nl>", "<nl>", "+", "static", "const", "struct", "of", "_", "device", "_", "id", "pm8921", "_", "id", "_", "table", "[", "]", "=", "{", "<nl>", "+", "{", ".", "compatible", "=", "\"", "qcom", ",", "pm8058", "\"", ",", "}", ",", "<nl>", "+", "{", ".", "compatible", "=", "\"", "qcom", ",", "pm8921", "\"", ",", "}", ",", "<nl>", "+", "{", "}", "<nl>", "+", "}", ";", "<nl>", "+", "MODULE", "_", "DEVICE", "_", "TABLE", "(", "of", ",", "pm8921", "_", "id", "_", "table", ")", ";", "<nl>", "+", "<nl>", "static", "int", "pm8921", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "struct", "pm8921", "*", "pmic", ";", "<nl>", "static", "struct", "platform", "_", "driver", "pm8921", "_", "driver", "=", "{", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "pm8921", "-", "core", "\"", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "+", ".", "of", "_", "match", "_", "table", "=", "pm8921", "_", "id", "_", "table", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["mfd", "pm8921", "Add", "DT", "match", "table"]}
{"code_tokens": ["static", "int", "of", "_", "platform", "_", "serial", "_", "setup", "(", "struct", "platform", "_", "device", "*", "ofdev", ",", "<nl>", "port", "-", ">", "line", "=", "ret", ";", "<nl>", "<nl>", "port", "-", ">", "irq", "=", "irq", "_", "of", "_", "parse", "_", "and", "_", "map", "(", "np", ",", "0", ")", ";", "<nl>", "+", "if", "(", "!", "port", "-", ">", "irq", ")", "{", "<nl>", "+", "ret", "=", "-", "EPROBE", "_", "DEFER", ";", "<nl>", "+", "goto", "err", "_", "unprepare", ";", "<nl>", "+", "}", "<nl>", "<nl>", "info", "-", ">", "rst", "=", "devm", "_", "reset", "_", "control", "_", "get", "_", "optional", "_", "shared", "(", "&", "ofdev", "-", ">", "dev", ",", "NULL", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "info", "-", ">", "rst", ")", ")", "{", "<nl>"], "docstring_tokens": ["serial", "8250", "of", "Defer", "probe", "on", "missing", "IRQ"]}
{"code_tokens": ["static", "void", "nfnetlink", "_", "rcv", "_", "batch", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "nlmsghdr", "*", "nlh", ",", "<nl>", "nlh", "=", "nlmsg", "_", "hdr", "(", "skb", ")", ";", "<nl>", "err", "=", "0", ";", "<nl>", "<nl>", "-", "if", "(", "nlmsg", "_", "len", "(", "nlh", ")", "<", "sizeof", "(", "struct", "nfgenmsg", ")", "|", "|", "<nl>", "-", "skb", "-", ">", "len", "<", "nlh", "-", ">", "nlmsg", "_", "len", ")", "{", "<nl>", "-", "err", "=", "-", "EINVAL", ";", "<nl>", "-", "goto", "ack", ";", "<nl>", "+", "if", "(", "nlh", "-", ">", "nlmsg", "_", "len", "<", "NLMSG", "_", "HDRLEN", "|", "|", "<nl>", "+", "skb", "-", ">", "len", "<", "nlh", "-", ">", "nlmsg", "_", "len", "|", "|", "<nl>", "+", "nlmsg", "_", "len", "(", "nlh", ")", "<", "sizeof", "(", "struct", "nfgenmsg", ")", ")", "{", "<nl>", "+", "nfnl", "_", "err", "_", "reset", "(", "&", "err", "_", "list", ")", ";", "<nl>", "+", "status", "|", "=", "NFNL", "_", "BATCH", "_", "FAILURE", ";", "<nl>", "+", "goto", "done", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Only", "requests", "are", "handled", "by", "the", "kernel", "*", "/", "<nl>"], "docstring_tokens": ["netfilter", "nfnetlink", "correctly", "validate", "length", "of", "batch", "messages"]}
{"code_tokens": ["static", "int", "validate", "_", "mad", "(", "struct", "ib", "_", "mad", "*", "mad", ",", "u32", "qp", "_", "num", ")", "<nl>", "return", "valid", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "int", "is", "_", "data", "_", "mad", "(", "struct", "ib", "_", "mad", "_", "agent", "_", "private", "*", "mad", "_", "agent", "_", "priv", ",", "<nl>", "+", "static", "int", "is", "_", "rmpp", "_", "data", "_", "mad", "(", "struct", "ib", "_", "mad", "_", "agent", "_", "private", "*", "mad", "_", "agent", "_", "priv", ",", "<nl>", "struct", "ib", "_", "mad", "_", "hdr", "*", "mad", "_", "hdr", ")", "<nl>", "{", "<nl>", "struct", "ib", "_", "rmpp", "_", "mad", "*", "rmpp", "_", "mad", ";", "<nl>", "ib", "_", "find", "_", "send", "_", "mad", "(", "struct", "ib", "_", "mad", "_", "agent", "_", "private", "*", "mad", "_", "agent", "_", "priv", ",", "<nl>", "*", "been", "notified", "that", "the", "send", "has", "completed", "<nl>", "*", "/", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "wr", ",", "&", "mad", "_", "agent", "_", "priv", "-", ">", "send", "_", "list", ",", "agent", "_", "list", ")", "{", "<nl>", "-", "if", "(", "is", "_", "data", "_", "mad", "(", "mad", "_", "agent", "_", "priv", ",", "wr", "-", ">", "send", "_", "buf", ".", "mad", ")", "&", "&", "<nl>", "+", "if", "(", "is", "_", "rmpp", "_", "data", "_", "mad", "(", "mad", "_", "agent", "_", "priv", ",", "wr", "-", ">", "send", "_", "buf", ".", "mad", ")", "&", "&", "<nl>", "wr", "-", ">", "tid", "=", "=", "mad", "-", ">", "mad", "_", "hdr", ".", "tid", "&", "&", "<nl>", "wr", "-", ">", "timeout", "&", "&", "<nl>", "rcv", "_", "has", "_", "same", "_", "class", "(", "wr", ",", "wc", ")", "&", "&", "<nl>", "find", "_", "send", "_", "wr", "(", "struct", "ib", "_", "mad", "_", "agent", "_", "private", "*", "mad", "_", "agent", "_", "priv", ",", "<nl>", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "mad", "_", "send", "_", "wr", ",", "&", "mad", "_", "agent", "_", "priv", "-", ">", "send", "_", "list", ",", "<nl>", "agent", "_", "list", ")", "{", "<nl>", "-", "if", "(", "is", "_", "data", "_", "mad", "(", "mad", "_", "agent", "_", "priv", ",", "mad", "_", "send", "_", "wr", "-", ">", "send", "_", "buf", ".", "mad", ")", "&", "&", "<nl>", "+", "if", "(", "is", "_", "rmpp", "_", "data", "_", "mad", "(", "mad", "_", "agent", "_", "priv", ",", "<nl>", "+", "mad", "_", "send", "_", "wr", "-", ">", "send", "_", "buf", ".", "mad", ")", "&", "&", "<nl>", "&", "mad", "_", "send", "_", "wr", "-", ">", "send", "_", "buf", "=", "=", "send", "_", "buf", ")", "<nl>", "return", "mad", "_", "send", "_", "wr", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["IB", "mad", "Rename", "is_data_mad", "to", "is_rmpp_data_mad"]}
{"code_tokens": ["static", "int", "b43", "_", "wireless", "_", "core", "_", "init", "(", "struct", "b43", "_", "wldev", "*", "dev", ")", "<nl>", "b43", "_", "set", "_", "phytxctl", "_", "defaults", "(", "dev", ")", ";", "<nl>", "<nl>", "/", "*", "Minimum", "Contention", "Window", "*", "/", "<nl>", "-", "if", "(", "phy", "-", ">", "type", "=", "=", "B43", "_", "PHYTYPE", "_", "B", ")", "{", "<nl>", "+", "if", "(", "phy", "-", ">", "type", "=", "=", "B43", "_", "PHYTYPE", "_", "B", ")", "<nl>", "b43", "_", "shm", "_", "write16", "(", "dev", ",", "B43", "_", "SHM", "_", "SCRATCH", ",", "B43", "_", "SHM", "_", "SC", "_", "MINCONT", ",", "0x1F", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "+", "else", "<nl>", "b43", "_", "shm", "_", "write16", "(", "dev", ",", "B43", "_", "SHM", "_", "SCRATCH", ",", "B43", "_", "SHM", "_", "SC", "_", "MINCONT", ",", "0xF", ")", ";", "<nl>", "-", "}", "<nl>", "/", "*", "Maximum", "Contention", "Window", "*", "/", "<nl>", "b43", "_", "shm", "_", "write16", "(", "dev", ",", "B43", "_", "SHM", "_", "SCRATCH", ",", "B43", "_", "SHM", "_", "SC", "_", "MAXCONT", ",", "0x3FF", ")", ";", "<nl>"], "docstring_tokens": ["drivers", "net", "wireless", "b43", "main", "c", "4351", "Fixed", "coding", "style"]}
{"code_tokens": ["static", "_", "_", "always", "_", "inline", "cycles", "_", "t", "get", "_", "cycles", "_", "sync", "(", "void", ")", "<nl>", "unsigned", "long", "long", "ret", ";", "<nl>", "unsigned", "eax", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Use", "RDTSCP", "if", "possible", ";", "it", "is", "guaranteed", "to", "be", "synchronous", "<nl>", "+", "*", "and", "doesn", "'", "t", "cause", "a", "VMEXIT", "on", "Hypervisors", "<nl>", "+", "*", "/", "<nl>", "+", "alternative", "_", "io", "(", "ASM", "_", "NOP3", ",", "\"", ".", "byte", "0x0f", ",", "0x01", ",", "0xf9", "\"", ",", "X86", "_", "FEATURE", "_", "RDTSCP", ",", "<nl>", "+", "\"", "=", "A", "\"", "(", "ret", ")", ",", "\"", "0", "\"", "(", "0ULL", ")", ":", "\"", "ecx", "\"", ",", "\"", "memory", "\"", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Don", "'", "t", "do", "an", "additional", "sync", "on", "CPUs", "where", "we", "know", "<nl>", "*", "RDTSC", "is", "already", "synchronous", ":", "<nl>"], "docstring_tokens": ["PATCH", "x86", "Use", "RDTSCP", "for", "synchronous", "get_cycles", "if", "possible"]}
{"code_tokens": ["static", "const", "struct", "sectioncheck", "*", "section", "_", "mismatch", "(", "<nl>", "int", "elems", "=", "sizeof", "(", "sectioncheck", ")", "/", "sizeof", "(", "struct", "sectioncheck", ")", ";", "<nl>", "const", "struct", "sectioncheck", "*", "check", "=", "&", "sectioncheck", "[", "0", "]", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "The", "target", "section", "could", "be", "the", "SHT", "_", "NUL", "section", "when", "we", "'", "re", "<nl>", "+", "*", "handling", "relocations", "to", "un", "-", "resolved", "symbols", ",", "trying", "to", "match", "it", "<nl>", "+", "*", "doesn", "'", "t", "make", "much", "sense", "and", "causes", "build", "failures", "on", "parisc", "and", "<nl>", "+", "*", "mn10300", "architectures", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "*", "tosec", "=", "=", "'", "\\", "0", "'", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "elems", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "match", "(", "fromsec", ",", "check", "-", ">", "fromsec", ")", ")", "{", "<nl>", "if", "(", "check", "-", ">", "bad", "_", "tosec", "[", "0", "]", "&", "&", "match", "(", "tosec", ",", "check", "-", ">", "bad", "_", "tosec", ")", ")", "<nl>"], "docstring_tokens": ["modpost", "do", "not", "try", "to", "match", "the", "SHT_NUL", "section"]}
{"code_tokens": ["qed", "_", "dcbx", "_", "set", "_", "pfc", "_", "data", "(", "struct", "qed", "_", "hwfn", "*", "p", "_", "hwfn", ",", "<nl>", "if", "(", "p", "_", "params", "-", ">", "pfc", ".", "prio", "[", "i", "]", ")", "<nl>", "pfc", "_", "map", "|", "=", "BIT", "(", "i", ")", ";", "<nl>", "<nl>", "+", "*", "pfc", "&", "=", "~", "DCBX", "_", "PFC", "_", "PRI", "_", "EN", "_", "BITMAP", "_", "MASK", ";", "<nl>", "*", "pfc", "|", "=", "(", "pfc", "_", "map", "<", "<", "DCBX", "_", "PFC", "_", "PRI", "_", "EN", "_", "BITMAP", "_", "SHIFT", ")", ";", "<nl>", "<nl>", "DP", "_", "VERBOSE", "(", "p", "_", "hwfn", ",", "QED", "_", "MSG", "_", "DCB", ",", "\"", "pfc", "=", "0x", "%", "x", "\\", "n", "\"", ",", "*", "pfc", ")", ";", "<nl>", "qed", "_", "dcbx", "_", "set", "_", "app", "_", "data", "(", "struct", "qed", "_", "hwfn", "*", "p", "_", "hwfn", ",", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "DCBX", "_", "MAX", "_", "APP", "_", "PROTOCOL", ";", "i", "+", "+", ")", "{", "<nl>", "entry", "=", "&", "p", "_", "app", "-", ">", "app", "_", "pri", "_", "tbl", "[", "i", "]", ".", "entry", ";", "<nl>", "+", "*", "entry", "=", "0", ";", "<nl>", "if", "(", "ieee", ")", "{", "<nl>", "*", "entry", "&", "=", "~", "(", "DCBX", "_", "APP", "_", "SF", "_", "IEEE", "_", "MASK", "|", "DCBX", "_", "APP", "_", "SF", "_", "MASK", ")", ";", "<nl>", "switch", "(", "p", "_", "params", "-", ">", "app", "_", "entry", "[", "i", "]", ".", "sf", "_", "ieee", ")", "{", "<nl>", "int", "qed", "_", "dcbx", "_", "get", "_", "config", "_", "params", "(", "struct", "qed", "_", "hwfn", "*", "p", "_", "hwfn", ",", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>", "<nl>", "+", "memset", "(", "dcbx", "_", "info", ",", "0", ",", "sizeof", "(", "*", "dcbx", "_", "info", ")", ")", ";", "<nl>", "rc", "=", "qed", "_", "dcbx", "_", "query", "_", "params", "(", "p", "_", "hwfn", ",", "dcbx", "_", "info", ",", "QED", "_", "DCBX", "_", "OPERATIONAL", "_", "MIB", ")", ";", "<nl>", "if", "(", "rc", ")", "{", "<nl>", "kfree", "(", "dcbx", "_", "info", ")", ";", "<nl>", "static", "struct", "qed", "_", "dcbx", "_", "get", "*", "qed", "_", "dcbnl", "_", "get", "_", "dcbx", "(", "struct", "qed", "_", "hwfn", "*", "hwfn", ",", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "+", "memset", "(", "dcbx", "_", "info", ",", "0", ",", "sizeof", "(", "*", "dcbx", "_", "info", ")", ")", ";", "<nl>", "if", "(", "qed", "_", "dcbx", "_", "query", "_", "params", "(", "hwfn", ",", "dcbx", "_", "info", ",", "type", ")", ")", "{", "<nl>", "kfree", "(", "dcbx", "_", "info", ")", ";", "<nl>", "return", "NULL", ";", "<nl>"], "docstring_tokens": ["qed", "Clear", "dcbx", "memory", "buffers", "before", "the", "usage"]}
{"code_tokens": ["static", "struct", "clk", "*", "of", "_", "clk", "_", "gpio", "_", "delayed", "_", "register", "_", "get", "(", "<nl>", "num", "_", "parents", "=", "of", "_", "clk", "_", "get", "_", "parent", "_", "count", "(", "data", "-", ">", "node", ")", ";", "<nl>", "<nl>", "parent", "_", "names", "=", "kcalloc", "(", "num", "_", "parents", ",", "sizeof", "(", "char", "*", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "!", "parent", "_", "names", ")", "<nl>", "-", "return", "ERR", "_", "PTR", "(", "-", "ENOMEM", ")", ";", "<nl>", "+", "if", "(", "!", "parent", "_", "names", ")", "{", "<nl>", "+", "clk", "=", "ERR", "_", "PTR", "(", "-", "ENOMEM", ")", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "num", "_", "parents", ";", "i", "+", "+", ")", "<nl>", "parent", "_", "names", "[", "i", "]", "=", "of", "_", "clk", "_", "get", "_", "parent", "_", "name", "(", "data", "-", ">", "node", ",", "i", ")", ";", "<nl>"], "docstring_tokens": ["clk", "gpio", "Unlock", "mutex", "on", "error", "path"]}
{"code_tokens": ["static", "void", "_", "_", "exit", "cmdq", "_", "drv", "_", "exit", "(", "void", ")", "<nl>", "<nl>", "subsys", "_", "initcall", "(", "cmdq", "_", "drv", "_", "init", ")", ";", "<nl>", "module", "_", "exit", "(", "cmdq", "_", "drv", "_", "exit", ")", ";", "<nl>", "+", "<nl>", "+", "MODULE", "_", "LICENSE", "(", "\"", "GPL", "v2", "\"", ")", ";", "<nl>"], "docstring_tokens": ["mailbox", "add", "MODULE_LICENSE", "for", "mtk", "cmdq", "mailbox", "c"]}
{"code_tokens": ["void", "hash", "_", "_", "setup", "_", "initial", "_", "memory", "_", "limit", "(", "phys", "_", "addr", "_", "t", "first", "_", "memblock", "_", "base", ",", "<nl>", "*", "non", "-", "virtualized", "64", "-", "bit", "hash", "MMU", "systems", "don", "'", "t", "have", "a", "limitation", "<nl>", "*", "on", "real", "mode", "access", ".", "<nl>", "*", "<nl>", "-", "*", "We", "also", "clamp", "it", "to", "1", "G", "to", "avoid", "some", "funky", "things", "<nl>", "-", "*", "such", "as", "RTAS", "bugs", "etc", ".", ".", ".", "<nl>", "+", "*", "For", "guests", "on", "platforms", "before", "POWER9", ",", "we", "clamp", "the", "it", "limit", "to", "1", "G", "<nl>", "+", "*", "to", "avoid", "some", "funky", "things", "such", "as", "RTAS", "bugs", "etc", ".", ".", ".", "<nl>", "*", "/", "<nl>", "if", "(", "!", "early", "_", "cpu", "_", "has", "_", "feature", "(", "CPU", "_", "FTR", "_", "HVMODE", ")", ")", "{", "<nl>", "-", "ppc64", "_", "rma", "_", "size", "=", "min", "_", "t", "(", "u64", ",", "first", "_", "memblock", "_", "size", ",", "0x40000000", ")", ";", "<nl>", "+", "ppc64", "_", "rma", "_", "size", "=", "first", "_", "memblock", "_", "size", ";", "<nl>", "+", "if", "(", "!", "early", "_", "cpu", "_", "has", "_", "feature", "(", "CPU", "_", "FTR", "_", "ARCH", "_", "300", ")", ")", "<nl>", "+", "ppc64", "_", "rma", "_", "size", "=", "min", "_", "t", "(", "u64", ",", "ppc64", "_", "rma", "_", "size", ",", "0x40000000", ")", ";", "<nl>", "<nl>", "/", "*", "Finally", "limit", "subsequent", "allocations", "*", "/", "<nl>", "memblock", "_", "set", "_", "current", "_", "limit", "(", "ppc64", "_", "rma", "_", "size", ")", ";", "<nl>"], "docstring_tokens": ["powerpc", "pseries", "lift", "RTAS", "limit", "for", "hash"]}
{"code_tokens": ["asmlinkage", "long", "sys", "_", "rt", "_", "sigreturn", "_", "wrapper", "(", "void", ")", ";", "<nl>", "*", "The", "sys", "_", "call", "_", "table", "array", "must", "be", "4", "K", "aligned", "to", "be", "accessible", "from", "<nl>", "*", "kernel", "/", "entry", ".", "S", ".", "<nl>", "*", "/", "<nl>", "-", "void", "*", "sys", "_", "call", "_", "table", "[", "_", "_", "NR", "_", "syscalls", "]", "_", "_", "aligned", "(", "4096", ")", "=", "{", "<nl>", "+", "void", "*", "const", "sys", "_", "call", "_", "table", "[", "_", "_", "NR", "_", "syscalls", "]", "_", "_", "aligned", "(", "4096", ")", "=", "{", "<nl>", "[", "0", ".", ".", ".", "_", "_", "NR", "_", "syscalls", "-", "1", "]", "=", "sys", "_", "ni", "_", "syscall", ",", "<nl>", "#", "include", "<", "asm", "/", "unistd", ".", "h", ">", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["arm64", "make", "sys_call_table", "const"]}
{"code_tokens": ["xfs", "_", "zero", "_", "remaining", "_", "bytes", "(", "<nl>", "bp", "=", "xfs", "_", "buf", "_", "get", "_", "noaddr", "(", "mp", "-", ">", "m", "_", "sb", ".", "sb", "_", "blocksize", ",", "<nl>", "XFS", "_", "IS", "_", "REALTIME", "_", "INODE", "(", "ip", ")", "?", "<nl>", "mp", "-", ">", "m", "_", "rtdev", "_", "targp", ":", "mp", "-", ">", "m", "_", "ddev", "_", "targp", ")", ";", "<nl>", "+", "if", "(", "!", "bp", ")", "<nl>", "+", "return", "XFS", "_", "ERROR", "(", "ENOMEM", ")", ";", "<nl>", "<nl>", "for", "(", "offset", "=", "startoff", ";", "offset", "<", "=", "endoff", ";", "offset", "=", "lastoffset", "+", "1", ")", "{", "<nl>", "offset", "_", "fsb", "=", "XFS", "_", "B", "_", "TO", "_", "FSBT", "(", "mp", ",", "offset", ")", ";", "<nl>"], "docstring_tokens": ["XFS", "Check", "return", "value", "of", "xfs_buf_get_noaddr"]}
{"code_tokens": ["int", "rhashtable", "_", "walk", "_", "start", "_", "check", "(", "struct", "rhashtable", "_", "iter", "*", "iter", ")", "<nl>", "skip", "+", "+", ";", "<nl>", "if", "(", "list", "=", "=", "iter", "-", ">", "list", ")", "{", "<nl>", "iter", "-", ">", "p", "=", "p", ";", "<nl>", "-", "skip", "=", "skip", ";", "<nl>", "+", "iter", "-", ">", "skip", "=", "skip", ";", "<nl>", "goto", "found", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["lib", "rhashtable", "Correct", "self", "assignment", "in", "rhashtable", "c"]}
{"code_tokens": ["vnet", "_", "select", "_", "queue", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "struct", "vnet", "*", "vp", "=", "netdev", "_", "priv", "(", "dev", ")", ";", "<nl>", "struct", "vnet", "_", "port", "*", "port", "=", "_", "_", "tx", "_", "port", "_", "find", "(", "vp", ",", "skb", ")", ";", "<nl>", "<nl>", "+", "if", "(", "port", "=", "=", "NULL", ")", "<nl>", "+", "return", "0", ";", "<nl>", "return", "port", "-", ">", "q", "_", "index", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["sunvnet", "fix", "NULL", "pointer", "dereference"]}
{"code_tokens": ["static", "struct", "hwrng", "omap", "_", "rng", "_", "ops", "=", "{", "<nl>", "<nl>", "static", "int", "_", "_", "devinit", "omap", "_", "rng", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "-", "struct", "resource", "*", "res", ",", "*", "mem", ";", "<nl>", "+", "struct", "resource", "*", "res", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "/", "*", "<nl>", "static", "int", "_", "_", "devinit", "omap", "_", "rng", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "!", "res", ")", "<nl>", "return", "-", "ENOENT", ";", "<nl>", "<nl>", "-", "mem", "=", "request", "_", "mem", "_", "region", "(", "res", "-", ">", "start", ",", "resource", "_", "size", "(", "res", ")", ",", "<nl>", "-", "pdev", "-", ">", "name", ")", ";", "<nl>", "-", "if", "(", "mem", "=", "=", "NULL", ")", "{", "<nl>", "+", "if", "(", "!", "request", "_", "mem", "_", "region", "(", "res", "-", ">", "start", ",", "resource", "_", "size", "(", "res", ")", ",", "pdev", "-", ">", "name", ")", ")", "{", "<nl>", "ret", "=", "-", "EBUSY", ";", "<nl>", "goto", "err", "_", "region", ";", "<nl>", "}", "<nl>", "<nl>", "-", "dev", "_", "set", "_", "drvdata", "(", "&", "pdev", "-", ">", "dev", ",", "mem", ")", ";", "<nl>", "+", "dev", "_", "set", "_", "drvdata", "(", "&", "pdev", "-", ">", "dev", ",", "res", ")", ";", "<nl>", "rng", "_", "base", "=", "ioremap", "(", "res", "-", ">", "start", ",", "resource", "_", "size", "(", "res", ")", ")", ";", "<nl>", "if", "(", "!", "rng", "_", "base", ")", "{", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>", "static", "int", "_", "_", "devinit", "omap", "_", "rng", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "iounmap", "(", "rng", "_", "base", ")", ";", "<nl>", "rng", "_", "base", "=", "NULL", ";", "<nl>", "err", "_", "ioremap", ":", "<nl>", "-", "release", "_", "resource", "(", "mem", ")", ";", "<nl>", "+", "release", "_", "mem", "_", "region", "(", "res", "-", ">", "start", ",", "resource", "_", "size", "(", "res", ")", ")", ";", "<nl>", "err", "_", "region", ":", "<nl>", "if", "(", "cpu", "_", "is", "_", "omap24xx", "(", ")", ")", "{", "<nl>", "clk", "_", "disable", "(", "rng", "_", "ick", ")", ";", "<nl>", "static", "int", "_", "_", "devinit", "omap", "_", "rng", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "static", "int", "_", "_", "exit", "omap", "_", "rng", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "-", "struct", "resource", "*", "mem", "=", "dev", "_", "get", "_", "drvdata", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "+", "struct", "resource", "*", "res", "=", "dev", "_", "get", "_", "drvdata", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "hwrng", "_", "unregister", "(", "&", "omap", "_", "rng", "_", "ops", ")", ";", "<nl>", "<nl>", "static", "int", "_", "_", "exit", "omap", "_", "rng", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "clk", "_", "put", "(", "rng", "_", "ick", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "release", "_", "resource", "(", "mem", ")", ";", "<nl>", "+", "release", "_", "mem", "_", "region", "(", "res", "-", ">", "start", ",", "resource", "_", "size", "(", "res", ")", ")", ";", "<nl>", "rng", "_", "base", "=", "NULL", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["hwrng", "omap", "Convert", "release_resource", "to", "release_region", "release_mem_region"]}
{"code_tokens": ["int", "kobject", "_", "uevent", "_", "env", "(", "struct", "kobject", "*", "kobj", ",", "enum", "kobject", "_", "action", "action", ",", "<nl>", "/", "*", "keys", "passed", "in", "from", "the", "caller", "*", "/", "<nl>", "if", "(", "envp", "_", "ext", ")", "{", "<nl>", "for", "(", "i", "=", "0", ";", "envp", "_", "ext", "[", "i", "]", ";", "i", "+", "+", ")", "{", "<nl>", "-", "retval", "=", "add", "_", "uevent", "_", "var", "(", "env", ",", "envp", "_", "ext", "[", "i", "]", ")", ";", "<nl>", "+", "retval", "=", "add", "_", "uevent", "_", "var", "(", "env", ",", "\"", "%", "s", "\"", ",", "envp", "_", "ext", "[", "i", "]", ")", ";", "<nl>", "if", "(", "retval", ")", "<nl>", "goto", "exit", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["uevent", "don", "t", "pass", "envp_ext", "as", "format", "string", "in", "kobject_uevent_env"]}
{"code_tokens": ["int", "i40e", "_", "napi", "_", "poll", "(", "struct", "napi", "_", "struct", "*", "napi", ",", "int", "budget", ")", "<nl>", "ring", "-", ">", "arm", "_", "wb", "=", "false", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Handle", "case", "where", "we", "are", "called", "by", "netpoll", "with", "a", "budget", "of", "0", "*", "/", "<nl>", "+", "if", "(", "budget", "<", "=", "0", ")", "<nl>", "+", "goto", "tx", "_", "only", ";", "<nl>", "+", "<nl>", "/", "*", "We", "attempt", "to", "distribute", "budget", "to", "each", "Rx", "queue", "fairly", ",", "but", "don", "'", "t", "<nl>", "*", "allow", "the", "budget", "to", "go", "below", "1", "because", "that", "would", "exit", "polling", "early", ".", "<nl>", "*", "/", "<nl>", "int", "i40e", "_", "napi", "_", "poll", "(", "struct", "napi", "_", "struct", "*", "napi", ",", "int", "budget", ")", "<nl>", "<nl>", "/", "*", "If", "work", "not", "completed", ",", "return", "budget", "and", "polling", "will", "return", "*", "/", "<nl>", "if", "(", "!", "clean", "_", "complete", ")", "{", "<nl>", "+", "tx", "_", "only", ":", "<nl>", "if", "(", "arm", "_", "wb", ")", "<nl>", "i40e", "_", "force", "_", "wb", "(", "vsi", ",", "q", "_", "vector", ")", ";", "<nl>", "return", "budget", ";", "mmm", "drivers", "/", "net", "/", "ethernet", "/", "intel", "/", "i40evf", "/", "i40e", "_", "txrx", ".", "c", "<nl>", "int", "i40e", "_", "napi", "_", "poll", "(", "struct", "napi", "_", "struct", "*", "napi", ",", "int", "budget", ")", "<nl>", "ring", "-", ">", "arm", "_", "wb", "=", "false", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Handle", "case", "where", "we", "are", "called", "by", "netpoll", "with", "a", "budget", "of", "0", "*", "/", "<nl>", "+", "if", "(", "budget", "<", "=", "0", ")", "<nl>", "+", "goto", "tx", "_", "only", ";", "<nl>", "+", "<nl>", "/", "*", "We", "attempt", "to", "distribute", "budget", "to", "each", "Rx", "queue", "fairly", ",", "but", "don", "'", "t", "<nl>", "*", "allow", "the", "budget", "to", "go", "below", "1", "because", "that", "would", "exit", "polling", "early", ".", "<nl>", "*", "/", "<nl>", "int", "i40e", "_", "napi", "_", "poll", "(", "struct", "napi", "_", "struct", "*", "napi", ",", "int", "budget", ")", "<nl>", "<nl>", "/", "*", "If", "work", "not", "completed", ",", "return", "budget", "and", "polling", "will", "return", "*", "/", "<nl>", "if", "(", "!", "clean", "_", "complete", ")", "{", "<nl>", "+", "tx", "_", "only", ":", "<nl>", "if", "(", "arm", "_", "wb", ")", "<nl>", "i40e", "_", "force", "_", "wb", "(", "vsi", ",", "q", "_", "vector", ")", ";", "<nl>", "return", "budget", ";", "<nl>", "int", "i40evf", "_", "napi", "_", "poll", "(", "struct", "napi", "_", "struct", "*", "napi", ",", "int", "budget", ")", "<nl>", "ring", "-", ">", "arm", "_", "wb", "=", "false", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Handle", "case", "where", "we", "are", "called", "by", "netpoll", "with", "a", "budget", "of", "0", "*", "/", "<nl>", "+", "if", "(", "budget", "<", "=", "0", ")", "<nl>", "+", "goto", "tx", "_", "only", ";", "<nl>", "+", "<nl>", "/", "*", "We", "attempt", "to", "distribute", "budget", "to", "each", "Rx", "queue", "fairly", ",", "but", "don", "'", "t", "<nl>", "*", "allow", "the", "budget", "to", "go", "below", "1", "because", "that", "would", "exit", "polling", "early", ".", "<nl>", "*", "/", "<nl>", "int", "i40evf", "_", "napi", "_", "poll", "(", "struct", "napi", "_", "struct", "*", "napi", ",", "int", "budget", ")", "<nl>", "<nl>", "/", "*", "If", "work", "not", "completed", ",", "return", "budget", "and", "polling", "will", "return", "*", "/", "<nl>", "if", "(", "!", "clean", "_", "complete", ")", "{", "<nl>", "+", "tx", "_", "only", ":", "<nl>", "if", "(", "arm", "_", "wb", ")", "<nl>", "i40evf", "_", "force", "_", "wb", "(", "vsi", ",", "q", "_", "vector", ")", ";", "<nl>", "return", "budget", ";", "<nl>"], "docstring_tokens": ["i40e", "i40evf", "Fix", "handling", "of", "napi", "budget"]}
{"code_tokens": ["static", "struct", "page", "*", "saveable", "_", "highmem", "_", "page", "(", "struct", "zone", "*", "zone", ",", "unsigned", "long", "pfn", ")", "<nl>", "PageReserved", "(", "page", ")", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "+", "if", "(", "page", "_", "is", "_", "guard", "(", "page", ")", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "return", "page", ";", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "page", "*", "saveable", "_", "page", "(", "struct", "zone", "*", "zone", ",", "unsigned", "long", "pfn", ")", "<nl>", "&", "&", "(", "!", "kernel", "_", "page", "_", "present", "(", "page", ")", "|", "|", "pfn", "_", "is", "_", "nosave", "(", "pfn", ")", ")", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "+", "if", "(", "page", "_", "is", "_", "guard", "(", "page", ")", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "return", "page", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PM", "Hibernate", "do", "not", "count", "debug", "pages", "as", "savable"]}
{"code_tokens": ["int", "kvm", "_", "x2apic", "_", "msr", "_", "write", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "u32", "msr", ",", "u64", "data", ")", "<nl>", "if", "(", "!", "irqchip", "_", "in", "_", "kernel", "(", "vcpu", "-", ">", "kvm", ")", "|", "|", "!", "apic", "_", "x2apic", "_", "mode", "(", "apic", ")", ")", "<nl>", "return", "1", ";", "<nl>", "<nl>", "+", "if", "(", "reg", "=", "=", "APIC", "_", "ICR2", ")", "<nl>", "+", "return", "1", ";", "<nl>", "+", "<nl>", "/", "*", "if", "this", "is", "ICR", "write", "vector", "before", "command", "*", "/", "<nl>", "if", "(", "msr", "=", "=", "0x830", ")", "<nl>", "apic", "_", "reg", "_", "write", "(", "apic", ",", "APIC", "_", "ICR2", ",", "(", "u32", ")", "(", "data", ">", ">", "32", ")", ")", ";", "<nl>", "int", "kvm", "_", "x2apic", "_", "msr", "_", "read", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "u32", "msr", ",", "u64", "*", "data", ")", "<nl>", "if", "(", "!", "irqchip", "_", "in", "_", "kernel", "(", "vcpu", "-", ">", "kvm", ")", "|", "|", "!", "apic", "_", "x2apic", "_", "mode", "(", "apic", ")", ")", "<nl>", "return", "1", ";", "<nl>", "<nl>", "+", "if", "(", "reg", "=", "=", "APIC", "_", "DFR", "|", "|", "reg", "=", "=", "APIC", "_", "ICR2", ")", "{", "<nl>", "+", "apic", "_", "debug", "(", "\"", "KVM", "_", "APIC", "_", "READ", ":", "read", "x2apic", "reserved", "register", "%", "x", "\\", "n", "\"", ",", "<nl>", "+", "reg", ")", ";", "<nl>", "+", "return", "1", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "apic", "_", "reg", "_", "read", "(", "apic", ",", "reg", ",", "4", ",", "&", "low", ")", ")", "<nl>", "return", "1", ";", "<nl>", "if", "(", "msr", "=", "=", "0x830", ")", "<nl>"], "docstring_tokens": ["KVM", "x86", "Fix", "reserved", "x2apic", "registers"]}
{"code_tokens": ["#", "define", "_", "_", "MACH", "_", "BF609", "_", "PM", "_", "H", "_", "_", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "suspend", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "platform", "_", "device", ".", "h", ">", "<nl>", "<nl>", "extern", "int", "bfin609", "_", "pm", "_", "enter", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "extern", "int", "bf609", "_", "pm", "_", "prepare", "(", "void", ")", ";", "<nl>", "void", "bf609", "_", "hibernate", "(", "void", ")", ";", "<nl>", "void", "bfin", "_", "sec", "_", "raise", "_", "irq", "(", "unsigned", "int", "sid", ")", ";", "<nl>", "void", "coreb", "_", "enable", "(", "void", ")", ";", "<nl>", "<nl>", "-", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "void", ")", ";", "<nl>", "-", "void", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "void", ")", ";", "<nl>", "+", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "struct", "platform", "_", "device", "*", "pdev", ")", ";", "<nl>", "+", "void", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "struct", "platform", "_", "device", "*", "pdev", ")", ";", "<nl>", "#", "endifmmm", "arch", "/", "blackfin", "/", "mach", "-", "bf609", "/", "boards", "/", "ezkit", ".", "c", "<nl>", "#", "define", "_", "_", "MACH", "_", "BF609", "_", "PM", "_", "H", "_", "_", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "suspend", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "platform", "_", "device", ".", "h", ">", "<nl>", "<nl>", "extern", "int", "bfin609", "_", "pm", "_", "enter", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "extern", "int", "bf609", "_", "pm", "_", "prepare", "(", "void", ")", ";", "<nl>", "void", "bf609", "_", "hibernate", "(", "void", ")", ";", "<nl>", "void", "bfin", "_", "sec", "_", "raise", "_", "irq", "(", "unsigned", "int", "sid", ")", ";", "<nl>", "void", "coreb", "_", "enable", "(", "void", ")", ";", "<nl>", "<nl>", "-", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "void", ")", ";", "<nl>", "-", "void", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "void", ")", ";", "<nl>", "+", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "struct", "platform", "_", "device", "*", "pdev", ")", ";", "<nl>", "+", "void", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "struct", "platform", "_", "device", "*", "pdev", ")", ";", "<nl>", "#", "endif", "<nl>", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "#", "define", "CONFIG", "_", "SMC", "_", "GCTL", "_", "VAL", "0x00000010", "<nl>", "<nl>", "-", "if", "(", "!", "devm", "_", "pinctrl", "_", "get", "_", "select", "_", "default", "(", "&", "pdev", "-", ">", "dev", ")", ")", "<nl>", "-", "return", "-", "EBUSY", ";", "<nl>", "bfin", "_", "write32", "(", "SMC", "_", "GCTL", ",", "CONFIG", "_", "SMC", "_", "GCTL", "_", "VAL", ")", ";", "<nl>", "bfin", "_", "write32", "(", "SMC", "_", "B0CTL", ",", "0x01002011", ")", ";", "<nl>", "bfin", "_", "write32", "(", "SMC", "_", "B0TIM", ",", "0x08170977", ")", ";", "<nl>", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "void", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "-", "devm", "_", "pinctrl", "_", "put", "(", "pdev", "-", ">", "dev", ".", "pins", "-", ">", "p", ")", ";", "<nl>", "bfin", "_", "write32", "(", "SMC", "_", "GCTL", ",", "0", ")", ";", "<nl>", "}", "<nl>", "#", "define", "_", "_", "MACH", "_", "BF609", "_", "PM", "_", "H", "_", "_", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "suspend", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "platform", "_", "device", ".", "h", ">", "<nl>", "<nl>", "extern", "int", "bfin609", "_", "pm", "_", "enter", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "extern", "int", "bf609", "_", "pm", "_", "prepare", "(", "void", ")", ";", "<nl>", "void", "bf609", "_", "hibernate", "(", "void", ")", ";", "<nl>", "void", "bfin", "_", "sec", "_", "raise", "_", "irq", "(", "unsigned", "int", "sid", ")", ";", "<nl>", "void", "coreb", "_", "enable", "(", "void", ")", ";", "<nl>", "<nl>", "-", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "void", ")", ";", "<nl>", "-", "void", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "void", ")", ";", "<nl>", "+", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "struct", "platform", "_", "device", "*", "pdev", ")", ";", "<nl>", "+", "void", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "struct", "platform", "_", "device", "*", "pdev", ")", ";", "<nl>", "#", "endif", "<nl>", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "#", "define", "CONFIG", "_", "SMC", "_", "GCTL", "_", "VAL", "0x00000010", "<nl>", "<nl>", "-", "if", "(", "!", "devm", "_", "pinctrl", "_", "get", "_", "select", "_", "default", "(", "&", "pdev", "-", ">", "dev", ")", ")", "<nl>", "-", "return", "-", "EBUSY", ";", "<nl>", "bfin", "_", "write32", "(", "SMC", "_", "GCTL", ",", "CONFIG", "_", "SMC", "_", "GCTL", "_", "VAL", ")", ";", "<nl>", "bfin", "_", "write32", "(", "SMC", "_", "B0CTL", ",", "0x01002011", ")", ";", "<nl>", "bfin", "_", "write32", "(", "SMC", "_", "B0TIM", ",", "0x08170977", ")", ";", "<nl>", "int", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "void", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "-", "devm", "_", "pinctrl", "_", "put", "(", "pdev", "-", ">", "dev", ".", "pins", "-", ">", "p", ")", ";", "<nl>", "bfin", "_", "write32", "(", "SMC", "_", "GCTL", ",", "0", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "bfin", "_", "cpu", "_", "pm", "_", "fns", "bf609", "_", "cpu", "_", "pm", "=", "{", "<nl>", "#", "if", "defined", "(", "CONFIG", "_", "MTD", "_", "PHYSMAP", ")", "|", "|", "defined", "(", "CONFIG", "_", "MTD", "_", "PHYSMAP", "_", "MODULE", ")", "<nl>", "static", "int", "smc", "_", "pm", "_", "syscore", "_", "suspend", "(", "void", ")", "<nl>", "{", "<nl>", "-", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", ")", ";", "<nl>", "+", "bf609", "_", "nor", "_", "flash", "_", "exit", "(", "NULL", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "smc", "_", "pm", "_", "syscore", "_", "resume", "(", "void", ")", "<nl>", "{", "<nl>", "-", "bf609", "_", "nor", "_", "flash", "_", "init", "(", ")", ";", "<nl>", "+", "bf609", "_", "nor", "_", "flash", "_", "init", "(", "NULL", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "syscore", "_", "ops", "smc", "_", "pm", "_", "syscore", "_", "ops", "=", "{", "<nl>"], "docstring_tokens": ["pm", "bf609", "cleanup", "smc", "nor", "flash"]}
{"code_tokens": ["int", "metag", "_", "pmu", "_", "event", "_", "set", "_", "period", "(", "struct", "perf", "_", "event", "*", "event", ",", "<nl>", "if", "(", "left", ">", "(", "s64", ")", "metag", "_", "pmu", "-", ">", "max", "_", "period", ")", "<nl>", "left", "=", "metag", "_", "pmu", "-", ">", "max", "_", "period", ";", "<nl>", "<nl>", "-", "if", "(", "metag", "_", "pmu", "-", ">", "write", ")", "<nl>", "-", "metag", "_", "pmu", "-", ">", "write", "(", "idx", ",", "(", "u64", ")", "(", "-", "left", ")", "&", "MAX", "_", "PERIOD", ")", ";", "<nl>", "+", "if", "(", "metag", "_", "pmu", "-", ">", "write", ")", "{", "<nl>", "+", "local64", "_", "set", "(", "&", "hwc", "-", ">", "prev", "_", "count", ",", "-", "(", "s32", ")", "left", ")", ";", "<nl>", "+", "metag", "_", "pmu", "-", ">", "write", "(", "idx", ",", "-", "left", "&", "MAX", "_", "PERIOD", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "perf", "_", "event", "_", "update", "_", "userpage", "(", "event", ")", ";", "<nl>", "<nl>", "static", "void", "metag", "_", "pmu", "_", "enable", "_", "counter", "(", "struct", "hw", "_", "perf", "_", "event", "*", "event", ",", "int", "idx", ")", "<nl>", "*", "set", "to", "a", "specific", "value", "that", "needs", "preserving", ".", "<nl>", "*", "/", "<nl>", "tmp", "|", "=", "metag", "_", "in32", "(", "PERF", "_", "COUNT", "(", "idx", ")", ")", "&", "0x00ffffff", ";", "<nl>", "+", "else", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Older", "cores", "reset", "the", "counter", "on", "write", ",", "so", "prev", "_", "count", "needs", "<nl>", "+", "*", "resetting", "too", "so", "we", "can", "calculate", "a", "correct", "delta", ".", "<nl>", "+", "*", "/", "<nl>", "+", "local64", "_", "set", "(", "&", "event", "-", ">", "prev", "_", "count", ",", "0", ")", ";", "<nl>", "<nl>", "metag", "_", "out32", "(", "tmp", ",", "PERF", "_", "COUNT", "(", "idx", ")", ")", ";", "<nl>", "unlock", ":", "<nl>"], "docstring_tokens": ["metag", "perf", "add", "missing", "prev_count", "updates"]}
{"code_tokens": ["static", "int", "hci", "_", "dev", "_", "do", "_", "open", "(", "struct", "hci", "_", "dev", "*", "hdev", ")", "<nl>", "*", "be", "able", "to", "determine", "if", "there", "is", "a", "public", "address", "<nl>", "*", "or", "not", ".", "<nl>", "*", "<nl>", "+", "*", "In", "case", "of", "user", "channel", "usage", ",", "it", "is", "not", "important", "<nl>", "+", "*", "if", "a", "public", "address", "or", "static", "random", "address", "is", "<nl>", "+", "*", "available", ".", "<nl>", "+", "*", "<nl>", "*", "This", "check", "is", "only", "valid", "for", "BR", "/", "EDR", "controllers", "<nl>", "*", "since", "AMP", "controllers", "do", "not", "have", "an", "address", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "hdev", "-", ">", "dev", "_", "type", "=", "=", "HCI", "_", "BREDR", "&", "&", "<nl>", "+", "if", "(", "!", "test", "_", "bit", "(", "HCI", "_", "USER", "_", "CHANNEL", ",", "&", "hdev", "-", ">", "dev", "_", "flags", ")", "&", "&", "<nl>", "+", "hdev", "-", ">", "dev", "_", "type", "=", "=", "HCI", "_", "BREDR", "&", "&", "<nl>", "!", "bacmp", "(", "&", "hdev", "-", ">", "bdaddr", ",", "BDADDR", "_", "ANY", ")", "&", "&", "<nl>", "!", "bacmp", "(", "&", "hdev", "-", ">", "static", "_", "addr", ",", "BDADDR", "_", "ANY", ")", ")", "{", "<nl>", "ret", "=", "-", "EADDRNOTAVAIL", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "Allow", "HCI", "User", "Channel", "usage", "for", "controllers", "without", "address"]}
{"code_tokens": ["static", "void", "cgroup", "_", "enable", "_", "task", "_", "cg", "_", "lists", "(", "void", ")", "<nl>", "}", "<nl>", "<nl>", "void", "cgroup", "_", "iter", "_", "start", "(", "struct", "cgroup", "*", "cgrp", ",", "struct", "cgroup", "_", "iter", "*", "it", ")", "<nl>", "+", "_", "_", "acquires", "(", "css", "_", "set", "_", "lock", ")", "<nl>", "{", "<nl>", "/", "*", "<nl>", "*", "The", "first", "time", "anyone", "tries", "to", "iterate", "across", "a", "cgroup", ",", "<nl>", "struct", "task", "_", "struct", "*", "cgroup", "_", "iter", "_", "next", "(", "struct", "cgroup", "*", "cgrp", ",", "<nl>", "}", "<nl>", "<nl>", "void", "cgroup", "_", "iter", "_", "end", "(", "struct", "cgroup", "*", "cgrp", ",", "struct", "cgroup", "_", "iter", "*", "it", ")", "<nl>", "+", "_", "_", "releases", "(", "css", "_", "set", "_", "lock", ")", "<nl>", "{", "<nl>", "read", "_", "unlock", "(", "&", "css", "_", "set", "_", "lock", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["cgroup", "add", "sparse", "annotation", "to", "cgroup_iter_start", "and", "cgroup_iter_end"]}
{"code_tokens": ["int", "cx23885", "_", "tuner", "_", "callback", "(", "void", "*", "priv", ",", "int", "component", ",", "int", "command", ",", "int", "arg", ")", "<nl>", "struct", "cx23885", "_", "dev", "*", "dev", "=", "port", "-", ">", "dev", ";", "<nl>", "u32", "bitmask", "=", "0", ";", "<nl>", "<nl>", "-", "if", "(", "command", "=", "=", "XC2028", "_", "RESET", "_", "CLK", ")", "<nl>", "+", "if", "(", "(", "command", "=", "=", "XC2028", "_", "RESET", "_", "CLK", ")", "|", "|", "(", "command", "=", "=", "XC2028", "_", "I2C", "_", "FLUSH", ")", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "if", "(", "command", "!", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["media", "cx23885", "Silence", "unknown", "command", "warnings"]}
{"code_tokens": ["static", "int", "asoc", "_", "simple", "_", "card", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "snd", "_", "soc", "_", "card", "_", "set", "_", "drvdata", "(", "card", ",", "priv", ")", ";", "<nl>", "<nl>", "ret", "=", "devm", "_", "snd", "_", "soc", "_", "register", "_", "card", "(", "dev", ",", "card", ")", ";", "<nl>", "-", "if", "(", "ret", ">", "=", "0", ")", "<nl>", "-", "return", "ret", ";", "<nl>", "+", "if", "(", "ret", "<", "0", ")", "<nl>", "+", "goto", "err", ";", "<nl>", "+", "<nl>", "+", "return", "0", ";", "<nl>", "err", ":", "<nl>", "asoc", "_", "simple", "_", "card", "_", "clean", "_", "reference", "(", "card", ")", ";", "<nl>"], "docstring_tokens": ["ASoC", "simple", "card", "tidyup", "return", "method", "from", "probe"]}
{"code_tokens": ["static", "netdev", "_", "tx", "_", "t", "ems", "_", "usb", "_", "start", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "ne", "<nl>", "<nl>", "usb", "_", "unanchor", "_", "urb", "(", "urb", ")", ";", "<nl>", "usb", "_", "free", "_", "coherent", "(", "dev", "-", ">", "udev", ",", "size", ",", "buf", ",", "urb", "-", ">", "transfer", "_", "dma", ")", ";", "<nl>", "-", "dev", "_", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "<nl>", "atomic", "_", "dec", "(", "&", "dev", "-", ">", "active", "_", "tx", "_", "urbs", ")", ";", "<nl>"], "docstring_tokens": ["can", "ems_usb", "ems_usb_start_xmit", "fix", "double", "dev_kfree_skb", "in", "error", "path"]}
{"code_tokens": ["static", "int", "img", "_", "prl", "_", "out", "_", "set", "_", "fmt", "(", "struct", "snd", "_", "soc", "_", "dai", "*", "dai", ",", "unsigned", "int", "fmt", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "+", "pm", "_", "runtime", "_", "get", "_", "sync", "(", "prl", "-", ">", "dev", ")", ";", "<nl>", "reg", "=", "img", "_", "prl", "_", "out", "_", "readl", "(", "prl", ",", "IMG", "_", "PRL", "_", "OUT", "_", "CTL", ")", ";", "<nl>", "reg", "=", "(", "reg", "&", "~", "IMG", "_", "PRL", "_", "OUT", "_", "CTL", "_", "EDGE", "_", "MASK", ")", "|", "control", "_", "set", ";", "<nl>", "img", "_", "prl", "_", "out", "_", "writel", "(", "prl", ",", "reg", ",", "IMG", "_", "PRL", "_", "OUT", "_", "CTL", ")", ";", "<nl>", "+", "pm", "_", "runtime", "_", "put", "(", "prl", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "img", "parallel", "out", "Add", "pm_runtime_get", "put", "to", "set_fmt", "callback"]}
{"code_tokens": ["static", "struct", "ethtool", "_", "ops", "ops", "=", "{", "<nl>", ".", "get", "_", "regs", "_", "len", "=", "nv", "_", "get", "_", "regs", "_", "len", ",", "<nl>", ".", "get", "_", "regs", "=", "nv", "_", "get", "_", "regs", ",", "<nl>", ".", "nway", "_", "reset", "=", "nv", "_", "nway", "_", "reset", ",", "<nl>", "+", ".", "get", "_", "perm", "_", "addr", "=", "ethtool", "_", "op", "_", "get", "_", "perm", "_", "addr", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "int", "nv", "_", "open", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "static", "int", "_", "_", "devinit", "nv", "_", "probe", "(", "struct", "pci", "_", "dev", "*", "pci", "_", "dev", ",", "const", "struct", "pci", "_", "device", "_", "i", "<nl>", "dev", "-", ">", "dev", "_", "addr", "[", "3", "]", "=", "(", "np", "-", ">", "orig", "_", "mac", "[", "0", "]", ">", ">", "16", ")", "&", "0xff", ";", "<nl>", "dev", "-", ">", "dev", "_", "addr", "[", "4", "]", "=", "(", "np", "-", ">", "orig", "_", "mac", "[", "0", "]", ">", ">", "8", ")", "&", "0xff", ";", "<nl>", "dev", "-", ">", "dev", "_", "addr", "[", "5", "]", "=", "(", "np", "-", ">", "orig", "_", "mac", "[", "0", "]", ">", ">", "0", ")", "&", "0xff", ";", "<nl>", "+", "memcpy", "(", "dev", "-", ">", "perm", "_", "addr", ",", "dev", "-", ">", "dev", "_", "addr", ",", "dev", "-", ">", "addr", "_", "len", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "is", "_", "valid", "_", "ether", "_", "addr", "(", "dev", "-", ">", "dev", "_", "addr", ")", ")", "{", "<nl>", "+", "if", "(", "!", "is", "_", "valid", "_", "ether", "_", "addr", "(", "dev", "-", ">", "perm", "_", "addr", ")", ")", "{", "<nl>", "/", "*", "<nl>", "*", "Bad", "mac", "address", ".", "At", "least", "one", "bios", "sets", "the", "mac", "address", "<nl>", "*", "to", "01", ":", "23", ":", "45", ":", "67", ":", "89", ":", "ab", "<nl>"], "docstring_tokens": ["PATCH", "forcedeth", "support", "ETHTOOL_GPERMADDR"]}
{"code_tokens": ["xmaddr", "_", "t", "arbitrary", "_", "virt", "_", "to", "_", "machine", "(", "void", "*", "vaddr", ")", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "arbitrary", "_", "virt", "_", "to", "_", "machine", ")", ";", "<nl>", "<nl>", "-", "void", "xen", "_", "flush", "_", "tlb", "_", "all", "(", "void", ")", "<nl>", "+", "static", "void", "xen", "_", "flush", "_", "tlb", "_", "all", "(", "void", ")", "<nl>", "{", "<nl>", "struct", "mmuext", "_", "op", "*", "op", ";", "<nl>", "struct", "multicall", "_", "space", "mcs", ";", "<nl>"], "docstring_tokens": ["xen", "make", "xen_flush_tlb_all", "static"]}
{"code_tokens": ["void", "_", "_", "audit", "_", "syscall", "_", "entry", "(", "int", "major", ",", "unsigned", "long", "a1", ",", "unsigned", "long", "a2", ",", "<nl>", "context", "-", ">", "argv", "[", "2", "]", "=", "a3", ";", "<nl>", "context", "-", ">", "argv", "[", "3", "]", "=", "a4", ";", "<nl>", "context", "-", ">", "serial", "=", "0", ";", "<nl>", "-", "context", "-", ">", "ctime", "=", "current", "_", "kernel", "_", "time64", "(", ")", ";", "<nl>", "context", "-", ">", "in", "_", "syscall", "=", "1", ";", "<nl>", "context", "-", ">", "current", "_", "state", "=", "state", ";", "<nl>", "context", "-", ">", "ppid", "=", "0", ";", "<nl>", "+", "ktime", "_", "get", "_", "coarse", "_", "ts64", "(", "&", "context", "-", ">", "ctime", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "mmm", "kernel", "/", "audit", ".", "c", "<nl>", "void", "_", "_", "audit", "_", "syscall", "_", "entry", "(", "int", "major", ",", "unsigned", "long", "a1", ",", "unsigned", "long", "a2", ",", "<nl>", "context", "-", ">", "argv", "[", "2", "]", "=", "a3", ";", "<nl>", "context", "-", ">", "argv", "[", "3", "]", "=", "a4", ";", "<nl>", "context", "-", ">", "serial", "=", "0", ";", "<nl>", "-", "context", "-", ">", "ctime", "=", "current", "_", "kernel", "_", "time64", "(", ")", ";", "<nl>", "context", "-", ">", "in", "_", "syscall", "=", "1", ";", "<nl>", "context", "-", ">", "current", "_", "state", "=", "state", ";", "<nl>", "context", "-", ">", "ppid", "=", "0", ";", "<nl>", "+", "ktime", "_", "get", "_", "coarse", "_", "ts64", "(", "&", "context", "-", ">", "ctime", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>", "static", "inline", "void", "audit", "_", "get", "_", "stamp", "(", "struct", "audit", "_", "context", "*", "ctx", ",", "<nl>", "struct", "timespec64", "*", "t", ",", "unsigned", "int", "*", "serial", ")", "<nl>", "{", "<nl>", "if", "(", "!", "ctx", "|", "|", "!", "auditsc", "_", "get", "_", "stamp", "(", "ctx", ",", "t", ",", "serial", ")", ")", "{", "<nl>", "-", "*", "t", "=", "current", "_", "kernel", "_", "time64", "(", ")", ";", "<nl>", "+", "ktime", "_", "get", "_", "coarse", "_", "ts64", "(", "t", ")", ";", "<nl>", "*", "serial", "=", "audit", "_", "serial", "(", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["audit", "use", "ktime_get_coarse_ts64", "for", "time", "access"]}
{"code_tokens": ["static", "void", "nvmet", "_", "execute", "_", "identify", "_", "ctrl", "(", "struct", "nvmet", "_", "req", "*", "req", ")", "<nl>", "id", "-", ">", "vid", "=", "0", ";", "<nl>", "id", "-", ">", "ssvid", "=", "0", ";", "<nl>", "<nl>", "+", "memset", "(", "id", "-", ">", "sn", ",", "'", "'", ",", "sizeof", "(", "id", "-", ">", "sn", ")", ")", ";", "<nl>", "bin2hex", "(", "id", "-", ">", "sn", ",", "&", "ctrl", "-", ">", "subsys", "-", ">", "serial", ",", "<nl>", "min", "(", "sizeof", "(", "ctrl", "-", ">", "subsys", "-", ">", "serial", ")", ",", "sizeof", "(", "id", "-", ">", "sn", ")", "/", "2", ")", ")", ";", "<nl>", "memcpy", "_", "and", "_", "pad", "(", "id", "-", ">", "mn", ",", "sizeof", "(", "id", "-", ">", "mn", ")", ",", "model", ",", "sizeof", "(", "model", ")", "-", "1", ",", "'", "'", ")", ";", "<nl>"], "docstring_tokens": ["nvmet", "fix", "space", "padding", "in", "serial", "number"]}
{"code_tokens": ["struct", "platform", "_", "device", "*", "_", "_", "init", "imx", "_", "add", "_", "platform", "_", "device", "_", "dmamask", "(", "<nl>", "ret", "=", "platform", "_", "device", "_", "add", "(", "pdev", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "err", ":", "<nl>", "+", "if", "(", "dmamask", ")", "<nl>", "+", "kfree", "(", "pdev", "-", ">", "dev", ".", "dma", "_", "mask", ")", ";", "<nl>", "platform", "_", "device", "_", "put", "(", "pdev", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ARM", "mxc", "free", "dma_mask", "in", "error", "path"]}
{"code_tokens": ["static", "int", "llc", "_", "ui", "_", "recvmsg", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "int", "target", ";", "/", "*", "Read", "at", "least", "this", "many", "bytes", "*", "/", "<nl>", "long", "timeo", ";", "<nl>", "<nl>", "+", "msg", "-", ">", "msg", "_", "namelen", "=", "0", ";", "<nl>", "+", "<nl>", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "copied", "=", "-", "ENOTCONN", ";", "<nl>", "if", "(", "unlikely", "(", "sk", "-", ">", "sk", "_", "type", "=", "=", "SOCK", "_", "STREAM", "&", "&", "sk", "-", ">", "sk", "_", "state", "=", "=", "TCP", "_", "LISTEN", ")", ")", "<nl>"], "docstring_tokens": ["llc", "Fix", "missing", "msg_namelen", "update", "in", "llc_ui_recvmsg"]}
{"code_tokens": ["static", "int", "alloc", "_", "pidmap", "(", "struct", "pid", "_", "namespace", "*", "pid", "_", "ns", ")", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "<nl>", "-", "int", "next", "_", "pidmap", "(", "struct", "pid", "_", "namespace", "*", "pid", "_", "ns", ",", "int", "last", ")", "<nl>", "+", "int", "next", "_", "pidmap", "(", "struct", "pid", "_", "namespace", "*", "pid", "_", "ns", ",", "unsigned", "int", "last", ")", "<nl>", "{", "<nl>", "int", "offset", ";", "<nl>", "struct", "pidmap", "*", "map", ",", "*", "end", ";", "<nl>", "<nl>", "+", "if", "(", "last", ">", "=", "PID", "_", "MAX", "_", "LIMIT", ")", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "<nl>", "offset", "=", "(", "last", "+", "1", ")", "&", "BITS", "_", "PER", "_", "PAGE", "_", "MASK", ";", "<nl>", "map", "=", "&", "pid", "_", "ns", "-", ">", "pidmap", "[", "(", "last", "+", "1", ")", "/", "BITS", "_", "PER", "_", "PAGE", "]", ";", "<nl>", "end", "=", "&", "pid", "_", "ns", "-", ">", "pidmap", "[", "PIDMAP", "_", "ENTRIES", "]", ";", "mmm", "include", "/", "linux", "/", "pid", ".", "h", "<nl>", "static", "int", "alloc", "_", "pidmap", "(", "struct", "pid", "_", "namespace", "*", "pid", "_", "ns", ")", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "<nl>", "-", "int", "next", "_", "pidmap", "(", "struct", "pid", "_", "namespace", "*", "pid", "_", "ns", ",", "int", "last", ")", "<nl>", "+", "int", "next", "_", "pidmap", "(", "struct", "pid", "_", "namespace", "*", "pid", "_", "ns", ",", "unsigned", "int", "last", ")", "<nl>", "{", "<nl>", "int", "offset", ";", "<nl>", "struct", "pidmap", "*", "map", ",", "*", "end", ";", "<nl>", "<nl>", "+", "if", "(", "last", ">", "=", "PID", "_", "MAX", "_", "LIMIT", ")", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "<nl>", "offset", "=", "(", "last", "+", "1", ")", "&", "BITS", "_", "PER", "_", "PAGE", "_", "MASK", ";", "<nl>", "map", "=", "&", "pid", "_", "ns", "-", ">", "pidmap", "[", "(", "last", "+", "1", ")", "/", "BITS", "_", "PER", "_", "PAGE", "]", ";", "<nl>", "end", "=", "&", "pid", "_", "ns", "-", ">", "pidmap", "[", "PIDMAP", "_", "ENTRIES", "]", ";", "<nl>", "extern", "struct", "pid", "*", "find", "_", "vpid", "(", "int", "nr", ")", ";", "<nl>", "*", "/", "<nl>", "extern", "struct", "pid", "*", "find", "_", "get", "_", "pid", "(", "int", "nr", ")", ";", "<nl>", "extern", "struct", "pid", "*", "find", "_", "ge", "_", "pid", "(", "int", "nr", ",", "struct", "pid", "_", "namespace", "*", ")", ";", "<nl>", "-", "int", "next", "_", "pidmap", "(", "struct", "pid", "_", "namespace", "*", "pid", "_", "ns", ",", "int", "last", ")", ";", "<nl>", "+", "int", "next", "_", "pidmap", "(", "struct", "pid", "_", "namespace", "*", "pid", "_", "ns", ",", "unsigned", "int", "last", ")", ";", "<nl>", "<nl>", "extern", "struct", "pid", "*", "alloc", "_", "pid", "(", "struct", "pid", "_", "namespace", "*", "ns", ")", ";", "<nl>", "extern", "void", "free", "_", "pid", "(", "struct", "pid", "*", "pid", ")", ";", "<nl>"], "docstring_tokens": ["next_pidmap", "fix", "overflow", "condition"]}
{"code_tokens": ["static", "int", "perf", "_", "mmap", "(", "struct", "file", "*", "file", ",", "struct", "vm", "_", "area", "_", "struct", "*", "vma", ")", "<nl>", "long", "user", "_", "extra", ",", "extra", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Don", "'", "t", "allow", "mmap", "(", ")", "of", "inherited", "per", "-", "task", "counters", ".", "This", "would", "<nl>", "+", "*", "create", "a", "performance", "issue", "due", "to", "all", "children", "writing", "to", "the", "<nl>", "+", "*", "same", "buffer", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "event", "-", ">", "cpu", "=", "=", "-", "1", "&", "&", "event", "-", ">", "attr", ".", "inherit", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "if", "(", "!", "(", "vma", "-", ">", "vm", "_", "flags", "&", "VM", "_", "SHARED", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["perf", "Disallow", "mmap", "on", "per", "task", "inherited", "events"]}
{"code_tokens": ["static", "void", "_", "tcpm", "_", "cc", "_", "change", "(", "struct", "tcpm", "_", "port", "*", "port", ",", "enum", "typec", "_", "cc", "_", "status", "cc1", ",", "<nl>", "break", ";", "<nl>", "<nl>", "case", "SRC", "_", "TRY", ":", "<nl>", "-", "tcpm", "_", "set", "_", "state", "(", "port", ",", "SRC", "_", "TRY", "_", "DEBOUNCE", ",", "0", ")", ";", "<nl>", "+", "if", "(", "tcpm", "_", "port", "_", "is", "_", "source", "(", "port", ")", ")", "<nl>", "+", "tcpm", "_", "set", "_", "state", "(", "port", ",", "SRC", "_", "TRY", "_", "DEBOUNCE", ",", "0", ")", ";", "<nl>", "break", ";", "<nl>", "case", "SRC", "_", "TRY", "_", "DEBOUNCE", ":", "<nl>", "tcpm", "_", "set", "_", "state", "(", "port", ",", "SRC", "_", "TRY", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["staging", "typec", "tcpm", "Check", "cc", "status", "before", "entering", "SRC_TRY_DEBOUCE"]}
{"code_tokens": ["int", "mdfld", "_", "dsi", "_", "send", "_", "gen", "_", "short", "(", "struct", "mdfld", "_", "dsi", "_", "pkg", "_", "sender", "*", "sender", ",", "u8", "param0", ",", "<nl>", "unsigned", "long", "flags", ";", "<nl>", "u8", "data", "_", "type", ";", "<nl>", "<nl>", "-", "if", "(", "!", "sender", "|", "|", "param", "_", "num", "<", "0", "|", "|", "param", "_", "num", ">", "2", ")", "{", "<nl>", "+", "if", "(", "!", "sender", "|", "|", "param", "_", "num", ">", "2", ")", "{", "<nl>", "DRM", "_", "ERROR", "(", "\"", "Invalid", "parameter", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["gma500", "mdfld_dsi_pkg_sender", "fix", "Wtype", "limits", "warning"]}
{"code_tokens": ["int", "ll", "_", "fid2path", "(", "struct", "inode", "*", "inode", ",", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "if", "(", "get", "_", "user", "(", "pathlen", ",", "&", "gfin", "-", ">", "gf", "_", "pathlen", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "<nl>", "+", "if", "(", "pathlen", ">", "PATH", "_", "MAX", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "outsize", "=", "sizeof", "(", "*", "gfout", ")", "+", "pathlen", ";", "<nl>", "<nl>", "OBD", "_", "ALLOC", "(", "gfout", ",", "outsize", ")", ";", "<nl>"], "docstring_tokens": ["staging", "lustre", "llite", "Fix", "integer", "overflow", "in", "ll_fid2path"]}
{"code_tokens": ["static", "void", "ieee80211", "_", "iface", "_", "work", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "if", "(", "sta", ")", "{", "<nl>", "u16", "last", "_", "seq", ";", "<nl>", "<nl>", "-", "last", "_", "seq", "=", "le16", "_", "to", "_", "cpu", "(", "<nl>", "-", "sta", "-", ">", "last", "_", "seq", "_", "ctrl", "[", "rx", "_", "agg", "-", ">", "tid", "]", ")", ";", "<nl>", "+", "last", "_", "seq", "=", "IEEE80211", "_", "SEQ", "_", "TO", "_", "SN", "(", "le16", "_", "to", "_", "cpu", "(", "<nl>", "+", "sta", "-", ">", "last", "_", "seq", "_", "ctrl", "[", "rx", "_", "agg", "-", ">", "tid", "]", ")", ")", ";", "<nl>", "<nl>", "_", "_", "ieee80211", "_", "start", "_", "rx", "_", "ba", "_", "session", "(", "sta", ",", "<nl>", "0", ",", "0", ",", "<nl>"], "docstring_tokens": ["mac80211", "fix", "start_seq_num", "in", "Rx", "reorder", "offload"]}
{"code_tokens": ["void", "recalc", "_", "intercepts", "(", "struct", "vcpu", "_", "svm", "*", "svm", ")", "<nl>", "/", "*", "If", "SMI", "is", "not", "intercepted", ",", "ignore", "guest", "SMI", "intercept", "as", "well", "*", "/", "<nl>", "if", "(", "!", "intercept", "_", "smi", ")", "<nl>", "vmcb", "_", "clr", "_", "intercept", "(", "c", ",", "INTERCEPT", "_", "SMI", ")", ";", "<nl>", "+", "<nl>", "+", "vmcb", "_", "set", "_", "intercept", "(", "c", ",", "INTERCEPT", "_", "VMLOAD", ")", ";", "<nl>", "+", "vmcb", "_", "set", "_", "intercept", "(", "c", ",", "INTERCEPT", "_", "VMSAVE", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "copy", "_", "vmcb", "_", "control", "_", "area", "(", "struct", "vmcb", "_", "control", "_", "area", "*", "dst", ",", "<nl>"], "docstring_tokens": ["KVM", "nSVM", "always", "intercept", "VMLOAD", "VMSAVE", "when", "nested", "CVE", "2021", "3656"]}
{"code_tokens": ["static", "void", "br", "_", "multicast", "_", "del", "_", "pg", "(", "struct", "net", "_", "bridge", "*", "br", ",", "<nl>", "del", "_", "timer", "(", "&", "p", "-", ">", "timer", ")", ";", "<nl>", "call", "_", "rcu", "_", "bh", "(", "&", "p", "-", ">", "rcu", ",", "br", "_", "multicast", "_", "free", "_", "pg", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "mp", "-", ">", "ports", "&", "&", "!", "mp", "-", ">", "mglist", "&", "&", "<nl>", "+", "if", "(", "!", "mp", "-", ">", "ports", "&", "&", "!", "mp", "-", ">", "mglist", "&", "&", "mp", "-", ">", "timer", "_", "armed", "&", "&", "<nl>", "netif", "_", "running", "(", "br", "-", ">", "dev", ")", ")", "<nl>", "mod", "_", "timer", "(", "&", "mp", "-", ">", "timer", ",", "jiffies", ")", ";", "<nl>", "static", "void", "br", "_", "multicast", "_", "del", "_", "pg", "(", "struct", "net", "_", "bridge", "*", "br", ",", "<nl>", "del", "_", "timer", "(", "&", "p", "-", ">", "timer", ")", ";", "<nl>", "call", "_", "rcu", "_", "bh", "(", "&", "p", "-", ">", "rcu", ",", "br", "_", "multicast", "_", "free", "_", "pg", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "mp", "-", ">", "ports", "&", "&", "!", "mp", "-", ">", "mglist", "&", "&", "<nl>", "+", "if", "(", "!", "mp", "-", ">", "ports", "&", "&", "!", "mp", "-", ">", "mglist", "&", "&", "mp", "-", ">", "timer", "_", "armed", "&", "&", "<nl>", "netif", "_", "running", "(", "br", "-", ">", "dev", ")", ")", "<nl>", "mod", "_", "timer", "(", "&", "mp", "-", ">", "timer", ",", "jiffies", ")", ";", "<nl>", "<nl>", "static", "int", "_", "_", "br", "_", "mdb", "_", "del", "(", "struct", "net", "_", "bridge", "*", "br", ",", "struct", "br", "_", "mdb", "_", "entry", "*", "entry", ")", "<nl>", "call", "_", "rcu", "_", "bh", "(", "&", "p", "-", ">", "rcu", ",", "br", "_", "multicast", "_", "free", "_", "pg", ")", ";", "<nl>", "err", "=", "0", ";", "<nl>", "<nl>", "-", "if", "(", "!", "mp", "-", ">", "ports", "&", "&", "!", "mp", "-", ">", "mglist", "&", "&", "<nl>", "+", "if", "(", "!", "mp", "-", ">", "ports", "&", "&", "!", "mp", "-", ">", "mglist", "&", "&", "mp", "-", ">", "timer", "_", "armed", "&", "&", "<nl>", "netif", "_", "running", "(", "br", "-", ">", "dev", ")", ")", "<nl>", "mod", "_", "timer", "(", "&", "mp", "-", ">", "timer", ",", "jiffies", ")", ";", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["bridge", "fix", "some", "kernel", "warning", "in", "multicast", "timer"]}
{"code_tokens": ["mlx5", "_", "fw", "_", "fatal", "_", "reporter", "_", "dump", "(", "struct", "devlink", "_", "health", "_", "reporter", "*", "reporter", ",", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "err", "=", "mlx5", "_", "crdump", "_", "collect", "(", "dev", ",", "cr", "_", "data", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "-", "return", "err", ";", "<nl>", "+", "goto", "free", "_", "data", ";", "<nl>", "<nl>", "if", "(", "priv", "_", "ctx", ")", "{", "<nl>", "struct", "mlx5", "_", "fw", "_", "reporter", "_", "ctx", "*", "fw", "_", "reporter", "_", "ctx", "=", "priv", "_", "ctx", ";", "<nl>"], "docstring_tokens": ["net", "mlx5", "fix", "memory", "leak", "in", "mlx5_fw_fatal_reporter_dump"]}
{"code_tokens": ["static", "void", "mcba", "_", "usb", "_", "read", "_", "bulk", "_", "callback", "(", "struct", "urb", "*", "urb", ")", "<nl>", "<nl>", "case", "-", "ENOENT", ":", "<nl>", "case", "-", "EPIPE", ":", "<nl>", "+", "case", "-", "EPROTO", ":", "<nl>", "case", "-", "ESHUTDOWN", ":", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["can", "mcba_usb", "cancel", "urb", "on", "EPROTO"]}
{"code_tokens": ["int", "x25", "_", "rx", "_", "call", "_", "request", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "x25", "_", "neigh", "*", "nb", ",", "<nl>", "goto", "out", "_", "clear", "_", "request", ";", "<nl>", "skb", "_", "pull", "(", "skb", ",", "len", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Ensure", "that", "the", "amount", "of", "call", "user", "data", "is", "valid", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "skb", "-", ">", "len", ">", "X25", "_", "MAX", "_", "CUD", "_", "LEN", ")", "<nl>", "+", "goto", "out", "_", "clear", "_", "request", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Find", "a", "listener", "for", "the", "particular", "address", "/", "cud", "pair", ".", "<nl>", "*", "/", "mmm", "net", "/", "x25", "/", "x25", "_", "in", ".", "c", "<nl>", "int", "x25", "_", "rx", "_", "call", "_", "request", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "x25", "_", "neigh", "*", "nb", ",", "<nl>", "goto", "out", "_", "clear", "_", "request", ";", "<nl>", "skb", "_", "pull", "(", "skb", ",", "len", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Ensure", "that", "the", "amount", "of", "call", "user", "data", "is", "valid", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "skb", "-", ">", "len", ">", "X25", "_", "MAX", "_", "CUD", "_", "LEN", ")", "<nl>", "+", "goto", "out", "_", "clear", "_", "request", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Find", "a", "listener", "for", "the", "particular", "address", "/", "cud", "pair", ".", "<nl>", "*", "/", "<nl>", "static", "int", "x25", "_", "state1", "_", "machine", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "int", "frametyp", "<nl>", "*", "Copy", "any", "Call", "User", "Data", ".", "<nl>", "*", "/", "<nl>", "if", "(", "skb", "-", ">", "len", ">", "0", ")", "{", "<nl>", "+", "if", "(", "skb", "-", ">", "len", ">", "X25", "_", "MAX", "_", "CUD", "_", "LEN", ")", "<nl>", "+", "goto", "out", "_", "clear", ";", "<nl>", "+", "<nl>", "skb", "_", "copy", "_", "from", "_", "linear", "_", "data", "(", "skb", ",", "<nl>", "x25", "-", ">", "calluserdata", ".", "cuddata", ",", "<nl>", "skb", "-", ">", "len", ")", ";", "<nl>"], "docstring_tokens": ["x25", "Validate", "incoming", "call", "user", "data", "lengths"]}
{"code_tokens": ["static", "int", "nr", "_", "recvmsg", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "}", "<nl>", "<nl>", "if", "(", "sax", "!", "=", "NULL", ")", "{", "<nl>", "-", "memset", "(", "sax", ",", "0", ",", "sizeof", "(", "sax", ")", ")", ";", "<nl>", "+", "memset", "(", "sax", ",", "0", ",", "sizeof", "(", "*", "sax", ")", ")", ";", "<nl>", "sax", "-", ">", "sax25", "_", "family", "=", "AF", "_", "NETROM", ";", "<nl>", "skb", "_", "copy", "_", "from", "_", "linear", "_", "data", "_", "offset", "(", "skb", ",", "7", ",", "sax", "-", ">", "sax25", "_", "call", ".", "ax25", "_", "call", ",", "<nl>", "AX25", "_", "ADDR", "_", "LEN", ")", ";", "<nl>"], "docstring_tokens": ["netrom", "fix", "invalid", "use", "of", "sizeof", "in", "nr_recvmsg"]}
{"code_tokens": ["static", "int", "vt8500lcd", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "res", "=", "platform", "_", "get", "_", "resource", "(", "pdev", ",", "IORESOURCE", "_", "MEM", ",", "0", ")", ";", "<nl>", "release", "_", "mem", "_", "region", "(", "res", "-", ">", "start", ",", "resource", "_", "size", "(", "res", ")", ")", ";", "<nl>", "<nl>", "-", "kfree", "(", "fbi", ")", ";", "<nl>", "-", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["video", "vt8500lcdfb", "Remove", "kfree", "call", "since", "devm_kzalloc", "is", "used"]}
{"code_tokens": ["static", "void", "usb", "_", "alphatrack", "_", "disconnect", "(", "struct", "usb", "_", "interface", "*", "intf", ")", "<nl>", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "mtx", ")", ";", "<nl>", "usb", "_", "alphatrack", "_", "delete", "(", "dev", ")", ";", "<nl>", "}", "else", "{", "<nl>", "+", "atomic", "_", "set", "(", "&", "dev", "-", ">", "writes", "_", "pending", ",", "0", ")", ";", "<nl>", "dev", "-", ">", "intf", "=", "NULL", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "mtx", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "atomic", "_", "set", "(", "&", "dev", "-", ">", "writes", "_", "pending", ",", "0", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "disconnect", "_", "mutex", ")", ";", "<nl>", "<nl>", "dev", "_", "info", "(", "&", "intf", "-", ">", "dev", ",", "\"", "Alphatrack", "Surface", "#", "%", "d", "now", "disconnected", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["staging", "frontier", "use", "after", "free", "in", "disconnect"]}
{"code_tokens": ["static", "void", "dump", "_", "tasks", "(", "const", "struct", "mem", "_", "cgroup", "*", "mem", ")", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "<nl>", "-", "printk", "(", "KERN", "_", "INFO", "\"", "[", "%", "5d", "]", "%", "5d", "%", "5d", "%", "8lu", "%", "8lu", "%", "3d", "%", "3d", "%", "s", "\\", "n", "\"", ",", "<nl>", "+", "printk", "(", "KERN", "_", "INFO", "\"", "[", "%", "5d", "]", "%", "5d", "%", "5d", "%", "8lu", "%", "8lu", "%", "3u", "%", "3d", "%", "s", "\\", "n", "\"", ",", "<nl>", "task", "-", ">", "pid", ",", "_", "_", "task", "_", "cred", "(", "task", ")", "-", ">", "uid", ",", "task", "-", ">", "tgid", ",", "<nl>", "task", "-", ">", "mm", "-", ">", "total", "_", "vm", ",", "get", "_", "mm", "_", "rss", "(", "task", "-", ">", "mm", ")", ",", "<nl>", "-", "(", "int", ")", "task", "_", "cpu", "(", "task", ")", ",", "task", "-", ">", "signal", "-", ">", "oom", "_", "adj", ",", "p", "-", ">", "comm", ")", ";", "<nl>", "+", "task", "_", "cpu", "(", "task", ")", ",", "task", "-", ">", "signal", "-", ">", "oom", "_", "adj", ",", "task", "-", ">", "comm", ")", ";", "<nl>", "task", "_", "unlock", "(", "task", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["oom", "dump_tasks", "use", "find_lock_task_mm", "too", "fix"]}
{"code_tokens": ["static", "void", "ep93xx", "_", "free", "_", "buffers", "(", "struct", "ep93xx", "_", "priv", "*", "ep", ")", "<nl>", "struct", "device", "*", "dev", "=", "ep", "-", ">", "dev", "-", ">", "dev", ".", "parent", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "+", "if", "(", "!", "ep", "-", ">", "descs", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "RX", "_", "QUEUE", "_", "ENTRIES", ";", "i", "+", "+", ")", "{", "<nl>", "dma", "_", "addr", "_", "t", "d", ";", "<nl>", "<nl>", "static", "void", "ep93xx", "_", "free", "_", "buffers", "(", "struct", "ep93xx", "_", "priv", "*", "ep", ")", "<nl>", "<nl>", "dma", "_", "free", "_", "coherent", "(", "dev", ",", "sizeof", "(", "struct", "ep93xx", "_", "descs", ")", ",", "ep", "-", ">", "descs", ",", "<nl>", "ep", "-", ">", "descs", "_", "dma", "_", "addr", ")", ";", "<nl>", "+", "ep", "-", ">", "descs", "=", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "ep93xx", "_", "alloc", "_", "buffers", "(", "struct", "ep93xx", "_", "priv", "*", "ep", ")", "<nl>"], "docstring_tokens": ["net", "ep93xx_eth", "Do", "not", "crash", "unloading", "module"]}
{"code_tokens": ["static", "int", "dlm", "_", "purge", "_", "lockres", "(", "struct", "dlm", "_", "ctxt", "*", "dlm", ",", "<nl>", "res", "-", ">", "lockname", ".", "name", ",", "master", ")", ";", "<nl>", "<nl>", "if", "(", "!", "master", ")", "{", "<nl>", "+", "/", "*", "drop", "spinlock", ".", ".", ".", "retake", "below", "*", "/", "<nl>", "+", "spin", "_", "unlock", "(", "&", "dlm", "-", ">", "spinlock", ")", ";", "<nl>", "+", "<nl>", "spin", "_", "lock", "(", "&", "res", "-", ">", "spinlock", ")", ";", "<nl>", "/", "*", "This", "ensures", "that", "clear", "refmap", "is", "sent", "after", "the", "set", "*", "/", "<nl>", "_", "_", "dlm", "_", "wait", "_", "on", "_", "lockres", "_", "flags", "(", "res", ",", "DLM", "_", "LOCK", "_", "RES", "_", "SETREF", "_", "INPROG", ")", ";", "<nl>", "spin", "_", "unlock", "(", "&", "res", "-", ">", "spinlock", ")", ";", "<nl>", "-", "/", "*", "drop", "spinlock", "to", "do", "messaging", ",", "retake", "below", "*", "/", "<nl>", "-", "spin", "_", "unlock", "(", "&", "dlm", "-", ">", "spinlock", ")", ";", "<nl>", "+", "<nl>", "/", "*", "clear", "our", "bit", "from", "the", "master", "'", "s", "refmap", ",", "ignore", "errors", "*", "/", "<nl>", "ret", "=", "dlm", "_", "drop", "_", "lockres", "_", "ref", "(", "dlm", ",", "res", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>"], "docstring_tokens": ["ocfs2", "dlm", "dlm_thread", "should", "not", "sleep", "while", "holding", "the", "dlm_spinlock"]}
{"code_tokens": ["ath10k", "_", "wmi", "_", "tlv", "_", "op", "_", "gen", "_", "start", "_", "scan", "(", "struct", "ath10k", "*", "ar", ",", "<nl>", "bssid", "_", "len", "=", "arg", "-", ">", "n", "_", "bssids", "*", "sizeof", "(", "struct", "wmi", "_", "mac", "_", "addr", ")", ";", "<nl>", "ie", "_", "len", "=", "roundup", "(", "arg", "-", ">", "ie", "_", "len", ",", "4", ")", ";", "<nl>", "len", "=", "(", "sizeof", "(", "*", "tlv", ")", "+", "sizeof", "(", "*", "cmd", ")", ")", "+", "<nl>", "-", "(", "arg", "-", ">", "n", "_", "channels", "?", "sizeof", "(", "*", "tlv", ")", "+", "chan", "_", "len", ":", "0", ")", "+", "<nl>", "-", "(", "arg", "-", ">", "n", "_", "ssids", "?", "sizeof", "(", "*", "tlv", ")", "+", "ssid", "_", "len", ":", "0", ")", "+", "<nl>", "-", "(", "arg", "-", ">", "n", "_", "bssids", "?", "sizeof", "(", "*", "tlv", ")", "+", "bssid", "_", "len", ":", "0", ")", "+", "<nl>", "-", "(", "arg", "-", ">", "ie", "_", "len", "?", "sizeof", "(", "*", "tlv", ")", "+", "ie", "_", "len", ":", "0", ")", ";", "<nl>", "+", "sizeof", "(", "*", "tlv", ")", "+", "chan", "_", "len", "+", "<nl>", "+", "sizeof", "(", "*", "tlv", ")", "+", "ssid", "_", "len", "+", "<nl>", "+", "sizeof", "(", "*", "tlv", ")", "+", "bssid", "_", "len", "+", "<nl>", "+", "sizeof", "(", "*", "tlv", ")", "+", "ie", "_", "len", ";", "<nl>", "<nl>", "skb", "=", "ath10k", "_", "wmi", "_", "alloc", "_", "skb", "(", "ar", ",", "len", ")", ";", "<nl>", "if", "(", "!", "skb", ")", "<nl>"], "docstring_tokens": ["ath10k", "fix", "scan", "crash", "due", "to", "incorrect", "length", "calculation"]}
{"code_tokens": ["typedef", "_", "_", "s64", "int64", "_", "t", ";", "<nl>", "#", "endif", "<nl>", "<nl>", "/", "*", "this", "is", "a", "special", "64bit", "data", "type", "that", "is", "8", "-", "byte", "aligned", "*", "/", "<nl>", "-", "#", "define", "aligned", "_", "u64", "unsigned", "long", "long", "_", "_", "attribute", "_", "_", "(", "(", "aligned", "(", "8", ")", ")", ")", "<nl>", "+", "#", "define", "aligned", "_", "u64", "_", "_", "u64", "_", "_", "attribute", "_", "_", "(", "(", "aligned", "(", "8", ")", ")", ")", "<nl>", "#", "define", "aligned", "_", "be64", "_", "_", "be64", "_", "_", "attribute", "_", "_", "(", "(", "aligned", "(", "8", ")", ")", ")", "<nl>", "#", "define", "aligned", "_", "le64", "_", "_", "le64", "_", "_", "attribute", "_", "_", "(", "(", "aligned", "(", "8", ")", ")", ")", "<nl>"], "docstring_tokens": ["linux", "types", "h", "Use", "__u64", "for", "aligned_u64"]}
{"code_tokens": ["static", "int", "mfd", "_", "add", "_", "device", "(", "struct", "platform", "_", "device", "*", "parent", ",", "<nl>", "if", "(", "ret", ")", "<nl>", "goto", "fail", "_", "device", ";", "<nl>", "<nl>", "-", "memzero", "(", "res", ",", "sizeof", "(", "res", ")", ")", ";", "<nl>", "+", "memset", "(", "res", ",", "0", ",", "sizeof", "(", "res", ")", ")", ";", "<nl>", "for", "(", "r", "=", "0", ";", "r", "<", "cell", "-", ">", "num", "_", "resources", ";", "r", "+", "+", ")", "{", "<nl>", "res", "[", "r", "]", ".", "name", "=", "cell", "-", ">", "resources", "[", "r", "]", ".", "name", ";", "<nl>", "res", "[", "r", "]", ".", "flags", "=", "cell", "-", ">", "resources", "[", "r", "]", ".", "flags", ";", "<nl>"], "docstring_tokens": ["mfd", "don", "t", "use", "memzero"]}
{"code_tokens": ["nouveau", "_", "connector", "_", "set", "_", "encoder", "(", "struct", "drm", "_", "connector", "*", "connector", ",", "<nl>", "return", ";", "<nl>", "nv", "_", "connector", "-", ">", "detected", "_", "encoder", "=", "nv", "_", "encoder", ";", "<nl>", "<nl>", "+", "if", "(", "dev", "_", "priv", "-", ">", "card", "_", "type", ">", "=", "NV", "_", "50", ")", "{", "<nl>", "+", "connector", "-", ">", "interlace", "_", "allowed", "=", "true", ";", "<nl>", "+", "connector", "-", ">", "doublescan", "_", "allowed", "=", "true", ";", "<nl>", "+", "}", "else", "<nl>", "if", "(", "nv", "_", "encoder", "-", ">", "dcb", "-", ">", "type", "=", "=", "OUTPUT", "_", "LVDS", "|", "|", "<nl>", "nv", "_", "encoder", "-", ">", "dcb", "-", ">", "type", "=", "=", "OUTPUT", "_", "TMDS", ")", "{", "<nl>", "connector", "-", ">", "doublescan", "_", "allowed", "=", "false", ";", "<nl>"], "docstring_tokens": ["drm", "nv50", "disp", "allow", "interlaced", "and", "doublescan", "modes", "on", "digital", "outputs"]}
{"code_tokens": ["int", "uprobe", "_", "write", "_", "opcode", "(", "struct", "mm", "_", "struct", "*", "mm", ",", "unsigned", "long", "vaddr", ",", "<nl>", "<nl>", "retry", ":", "<nl>", "/", "*", "Read", "the", "page", "with", "vaddr", "into", "memory", "*", "/", "<nl>", "-", "ret", "=", "get", "_", "user", "_", "pages", "_", "remote", "(", "NULL", ",", "mm", ",", "vaddr", ",", "1", ",", "FOLL", "_", "FORCE", ",", "&", "old", "_", "page", ",", "<nl>", "-", "&", "vma", ",", "NULL", ")", ";", "<nl>", "+", "ret", "=", "get", "_", "user", "_", "pages", "_", "remote", "(", "NULL", ",", "mm", ",", "vaddr", ",", "1", ",", "<nl>", "+", "FOLL", "_", "FORCE", "|", "FOLL", "_", "SPLIT", ",", "&", "old", "_", "page", ",", "&", "vma", ",", "NULL", ")", ";", "<nl>", "if", "(", "ret", "<", "=", "0", ")", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["uprobes", "split", "THPs", "before", "trying", "to", "replace", "them"]}
{"code_tokens": ["async", "_", "syndrome", "_", "val", "(", "struct", "page", "*", "*", "blocks", ",", "unsigned", "int", "offset", ",", "int", "disks", ",", "<nl>", "<nl>", "dma", "_", "set", "_", "unmap", "(", "tx", ",", "unmap", ")", ";", "<nl>", "async", "_", "tx", "_", "submit", "(", "chan", ",", "tx", ",", "submit", ")", ";", "<nl>", "-", "<nl>", "-", "return", "tx", ";", "<nl>", "}", "else", "{", "<nl>", "struct", "page", "*", "p", "_", "src", "=", "P", "(", "blocks", ",", "disks", ")", ";", "<nl>", "struct", "page", "*", "q", "_", "src", "=", "Q", "(", "blocks", ",", "disks", ")", ";", "<nl>", "async", "_", "syndrome", "_", "val", "(", "struct", "page", "*", "*", "blocks", ",", "unsigned", "int", "offset", ",", "int", "disks", ",", "<nl>", "submit", "-", ">", "cb", "_", "param", "=", "cb", "_", "param", "_", "orig", ";", "<nl>", "submit", "-", ">", "flags", "=", "flags", "_", "orig", ";", "<nl>", "async", "_", "tx", "_", "sync", "_", "epilog", "(", "submit", ")", ";", "<nl>", "-", "<nl>", "-", "return", "NULL", ";", "<nl>", "+", "tx", "=", "NULL", ";", "<nl>", "}", "<nl>", "+", "dmaengine", "_", "unmap", "_", "put", "(", "unmap", ")", ";", "<nl>", "+", "<nl>", "+", "return", "tx", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "async", "_", "syndrome", "_", "val", ")", ";", "<nl>"], "docstring_tokens": ["async_pq_val", "fix", "DMA", "memory", "leak"]}
{"code_tokens": ["struct", "b43", "_", "dmadesc", "_", "generic", "{", "<nl>", "/", "*", "DMA", "engine", "tuning", "knobs", "*", "/", "<nl>", "#", "define", "B43", "_", "TXRING", "_", "SLOTS", "256", "<nl>", "#", "define", "B43", "_", "RXRING", "_", "SLOTS", "64", "<nl>", "-", "#", "define", "B43", "_", "DMA0", "_", "RX", "_", "BUFFERSIZE", "IEEE80211", "_", "MAX", "_", "FRAME", "_", "LEN", "<nl>", "+", "#", "define", "B43", "_", "DMA0", "_", "RX", "_", "BUFFERSIZE", "(", "B43", "_", "DMA0", "_", "RX", "_", "FRAMEOFFSET", "+", "IEEE80211", "_", "MAX", "_", "FRAME", "_", "LEN", ")", "<nl>", "<nl>", "/", "*", "Pointer", "poison", "*", "/", "<nl>", "#", "define", "B43", "_", "DMA", "_", "PTR", "_", "POISON", "(", "(", "void", "*", ")", "ERR", "_", "PTR", "(", "-", "ENOMEM", ")", ")", "mmm", "drivers", "/", "net", "/", "wireless", "/", "b43", "/", "dma", ".", "c", "<nl>", "struct", "b43", "_", "dmadesc", "_", "generic", "{", "<nl>", "/", "*", "DMA", "engine", "tuning", "knobs", "*", "/", "<nl>", "#", "define", "B43", "_", "TXRING", "_", "SLOTS", "256", "<nl>", "#", "define", "B43", "_", "RXRING", "_", "SLOTS", "64", "<nl>", "-", "#", "define", "B43", "_", "DMA0", "_", "RX", "_", "BUFFERSIZE", "IEEE80211", "_", "MAX", "_", "FRAME", "_", "LEN", "<nl>", "+", "#", "define", "B43", "_", "DMA0", "_", "RX", "_", "BUFFERSIZE", "(", "B43", "_", "DMA0", "_", "RX", "_", "FRAMEOFFSET", "+", "IEEE80211", "_", "MAX", "_", "FRAME", "_", "LEN", ")", "<nl>", "<nl>", "/", "*", "Pointer", "poison", "*", "/", "<nl>", "#", "define", "B43", "_", "DMA", "_", "PTR", "_", "POISON", "(", "(", "void", "*", ")", "ERR", "_", "PTR", "(", "-", "ENOMEM", ")", ")", "<nl>", "static", "void", "dma", "_", "rx", "(", "struct", "b43", "_", "dmaring", "*", "ring", ",", "int", "*", "slot", ")", "<nl>", "dmaaddr", "=", "meta", "-", ">", "dmaaddr", ";", "<nl>", "goto", "drop", "_", "recycle", "_", "buffer", ";", "<nl>", "}", "<nl>", "-", "if", "(", "unlikely", "(", "len", ">", "ring", "-", ">", "rx", "_", "buffersize", ")", ")", "{", "<nl>", "+", "if", "(", "unlikely", "(", "len", "+", "ring", "-", ">", "frameoffset", ">", "ring", "-", ">", "rx", "_", "buffersize", ")", ")", "{", "<nl>", "/", "*", "The", "data", "did", "not", "fit", "into", "one", "descriptor", "buffer", "<nl>", "*", "and", "is", "split", "over", "multiple", "buffers", ".", "<nl>", "*", "This", "should", "never", "happen", ",", "as", "we", "try", "to", "allocate", "buffers", "<nl>"], "docstring_tokens": ["b43", "allocate", "receive", "buffers", "big", "enough", "for", "max", "frame", "len", "offset"]}
{"code_tokens": ["static", "int", "f2fs", "_", "fill", "_", "super", "(", "struct", "super", "_", "block", "*", "sb", ",", "void", "*", "data", ",", "int", "silent", ")", "<nl>", "int", "n", "=", "(", "i", "=", "=", "META", ")", "?", "1", ":", "NR", "_", "TEMP", "_", "TYPE", ";", "<nl>", "int", "j", ";", "<nl>", "<nl>", "-", "sbi", "-", ">", "write", "_", "io", "[", "i", "]", "=", "f2fs", "_", "kmalloc", "(", "sbi", ",", "<nl>", "-", "n", "*", "sizeof", "(", "struct", "f2fs", "_", "bio", "_", "info", ")", ",", "<nl>", "-", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "sbi", "-", ">", "write", "_", "io", "[", "i", "]", "=", "<nl>", "+", "f2fs", "_", "kmalloc", "(", "sbi", ",", "<nl>", "+", "array", "_", "size", "(", "n", ",", "<nl>", "+", "sizeof", "(", "struct", "f2fs", "_", "bio", "_", "info", ")", ")", ",", "<nl>", "+", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "sbi", "-", ">", "write", "_", "io", "[", "i", "]", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "free", "_", "options", ";", "<nl>"], "docstring_tokens": ["treewide", "Use", "array_size", "in", "f2fs_kmalloc"]}
{"code_tokens": ["struct", "sta", "_", "info", "*", "ieee80211", "_", "ibss", "_", "add", "_", "sta", "(", "struct", "ieee80211", "_", "sub", "_", "if", "_", "data", "*", "sdata", ",", "<nl>", "if", "(", "!", "sta", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "+", "sta", "-", ">", "last", "_", "rx", "=", "jiffies", ";", "<nl>", "set", "_", "sta", "_", "flags", "(", "sta", ",", "WLAN", "_", "STA", "_", "AUTHORIZED", ")", ";", "<nl>", "<nl>", "/", "*", "make", "sure", "mandatory", "rates", "are", "always", "added", "*", "/", "<nl>"], "docstring_tokens": ["mac80211", "Fix", "ibss", "station", "got", "expired", "immediately"]}
{"code_tokens": ["xfs", "_", "da3", "_", "fixhashpath", "(", "<nl>", "node", "=", "blk", "-", ">", "bp", "-", ">", "b", "_", "addr", ";", "<nl>", "dp", "-", ">", "d", "_", "ops", "-", ">", "node", "_", "hdr", "_", "from", "_", "disk", "(", "&", "nodehdr", ",", "node", ")", ";", "<nl>", "btree", "=", "dp", "-", ">", "d", "_", "ops", "-", ">", "node", "_", "tree", "_", "p", "(", "node", ")", ";", "<nl>", "-", "if", "(", "be32", "_", "to", "_", "cpu", "(", "btree", "-", ">", "hashval", ")", "=", "=", "lasthash", ")", "<nl>", "+", "if", "(", "be32", "_", "to", "_", "cpu", "(", "btree", "[", "blk", "-", ">", "index", "]", ".", "hashval", ")", "=", "=", "lasthash", ")", "<nl>", "break", ";", "<nl>", "blk", "-", ">", "hashval", "=", "lasthash", ";", "<nl>", "btree", "[", "blk", "-", ">", "index", "]", ".", "hashval", "=", "cpu", "_", "to", "_", "be32", "(", "lasthash", ")", ";", "<nl>"], "docstring_tokens": ["xfs", "fix", "directory", "hash", "ordering", "bug"]}
{"code_tokens": ["static", "long", "_", "_", "media", "_", "device", "_", "enum", "_", "links", "(", "struct", "media", "_", "device", "*", "mdev", ",", "<nl>", "<nl>", "for", "(", "p", "=", "0", ";", "p", "<", "entity", "-", ">", "num", "_", "pads", ";", "p", "+", "+", ")", "{", "<nl>", "struct", "media", "_", "pad", "_", "desc", "pad", ";", "<nl>", "+", "<nl>", "+", "memset", "(", "&", "pad", ",", "0", ",", "sizeof", "(", "pad", ")", ")", ";", "<nl>", "media", "_", "device", "_", "kpad", "_", "to", "_", "upad", "(", "&", "entity", "-", ">", "pads", "[", "p", "]", ",", "&", "pad", ")", ";", "<nl>", "if", "(", "copy", "_", "to", "_", "user", "(", "&", "links", "-", ">", "pads", "[", "p", "]", ",", "&", "pad", ",", "sizeof", "(", "pad", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "static", "long", "_", "_", "media", "_", "device", "_", "enum", "_", "links", "(", "struct", "media", "_", "device", "*", "mdev", ",", "<nl>", "if", "(", "entity", "-", ">", "links", "[", "l", "]", ".", "source", "-", ">", "entity", "!", "=", "entity", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "link", ",", "0", ",", "sizeof", "(", "link", ")", ")", ";", "<nl>", "media", "_", "device", "_", "kpad", "_", "to", "_", "upad", "(", "entity", "-", ">", "links", "[", "l", "]", ".", "source", ",", "<nl>", "&", "link", ".", "source", ")", ";", "<nl>", "media", "_", "device", "_", "kpad", "_", "to", "_", "upad", "(", "entity", "-", ">", "links", "[", "l", "]", ".", "sink", ",", "<nl>"], "docstring_tokens": ["media", "media", "info", "leak", "in", "__media_device_enum_links"]}
{"code_tokens": ["iscsi", "_", "if", "_", "rx", "(", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "uint32", "_", "t", "group", ";", "<nl>", "<nl>", "nlh", "=", "nlmsg", "_", "hdr", "(", "skb", ")", ";", "<nl>", "-", "if", "(", "nlh", "-", ">", "nlmsg", "_", "len", "<", "sizeof", "(", "*", "nlh", ")", "|", "|", "<nl>", "+", "if", "(", "nlh", "-", ">", "nlmsg", "_", "len", "<", "sizeof", "(", "*", "nlh", ")", "+", "sizeof", "(", "*", "ev", ")", "|", "|", "<nl>", "skb", "-", ">", "len", "<", "nlh", "-", ">", "nlmsg", "_", "len", ")", "{", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["scsi", "scsi_transport_iscsi", "fix", "the", "issue", "that", "iscsi_if_rx", "doesn", "t", "parse", "nlmsg", "properly"]}
{"code_tokens": ["static", "struct", "sctp", "_", "auth", "_", "bytes", "*", "sctp", "_", "auth", "_", "create", "_", "key", "(", "_", "_", "u32", "key", "_", "len", ",", "gfp", "_", "t", "gfp", ")", "<nl>", "struct", "sctp", "_", "auth", "_", "bytes", "*", "key", ";", "<nl>", "<nl>", "/", "*", "Verify", "that", "we", "are", "not", "going", "to", "overflow", "INT", "_", "MAX", "*", "/", "<nl>", "-", "if", "(", "(", "INT", "_", "MAX", "-", "key", "_", "len", ")", "<", "sizeof", "(", "struct", "sctp", "_", "auth", "_", "bytes", ")", ")", "<nl>", "+", "if", "(", "key", "_", "len", ">", "(", "INT", "_", "MAX", "-", "sizeof", "(", "struct", "sctp", "_", "auth", "_", "bytes", ")", ")", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "/", "*", "Allocate", "the", "shared", "key", "*", "/", "<nl>"], "docstring_tokens": ["sctp", "better", "integer", "overflow", "check", "in", "sctp_auth_create_key"]}
{"code_tokens": ["static", "inline", "struct", "kvm", "_", "vcpu", "*", "kvm", "_", "get", "_", "vcpu", "_", "by", "_", "id", "(", "struct", "kvm", "*", "kvm", ",", "int", "id", ")", "<nl>", "struct", "kvm", "_", "vcpu", "*", "vcpu", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "+", "if", "(", "id", "<", "0", "|", "|", "id", ">", "=", "KVM", "_", "MAX", "_", "VCPUS", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "vcpu", "=", "kvm", "_", "get", "_", "vcpu", "(", "kvm", ",", "id", ")", ";", "<nl>", "+", "if", "(", "vcpu", "&", "&", "vcpu", "-", ">", "vcpu", "_", "id", "=", "=", "id", ")", "<nl>", "+", "return", "vcpu", ";", "<nl>", "kvm", "_", "for", "_", "each", "_", "vcpu", "(", "i", ",", "vcpu", ",", "kvm", ")", "<nl>", "if", "(", "vcpu", "-", ">", "vcpu", "_", "id", "=", "=", "id", ")", "<nl>", "return", "vcpu", ";", "<nl>"], "docstring_tokens": ["KVM", "use", "heuristic", "for", "fast", "VCPU", "lookup", "by", "id"]}
{"code_tokens": ["static", "int", "bxt", "_", "phy", "_", "ctl", "_", "family", "_", "write", "(", "struct", "intel", "_", "vgpu", "*", "vgpu", ",", "<nl>", "u32", "v", "=", "*", "(", "u32", "*", ")", "p", "_", "data", ";", "<nl>", "u32", "data", "=", "v", "&", "COMMON", "_", "RESET", "_", "DIS", "?", "BXT", "_", "PHY", "_", "LANE", "_", "ENABLED", ":", "0", ";", "<nl>", "<nl>", "-", "vgpu", "_", "vreg", "(", "vgpu", ",", "_", "BXT", "_", "PHY", "_", "CTL", "_", "DDI", "_", "A", ")", "=", "data", ";", "<nl>", "-", "vgpu", "_", "vreg", "(", "vgpu", ",", "_", "BXT", "_", "PHY", "_", "CTL", "_", "DDI", "_", "B", ")", "=", "data", ";", "<nl>", "-", "vgpu", "_", "vreg", "(", "vgpu", ",", "_", "BXT", "_", "PHY", "_", "CTL", "_", "DDI", "_", "C", ")", "=", "data", ";", "<nl>", "+", "switch", "(", "offset", ")", "{", "<nl>", "+", "case", "_", "PHY", "_", "CTL", "_", "FAMILY", "_", "EDP", ":", "<nl>", "+", "vgpu", "_", "vreg", "(", "vgpu", ",", "_", "BXT", "_", "PHY", "_", "CTL", "_", "DDI", "_", "A", ")", "=", "data", ";", "<nl>", "+", "break", ";", "<nl>", "+", "case", "_", "PHY", "_", "CTL", "_", "FAMILY", "_", "DDI", ":", "<nl>", "+", "vgpu", "_", "vreg", "(", "vgpu", ",", "_", "BXT", "_", "PHY", "_", "CTL", "_", "DDI", "_", "B", ")", "=", "data", ";", "<nl>", "+", "vgpu", "_", "vreg", "(", "vgpu", ",", "_", "BXT", "_", "PHY", "_", "CTL", "_", "DDI", "_", "C", ")", "=", "data", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "<nl>", "vgpu", "_", "vreg", "(", "vgpu", ",", "offset", ")", "=", "v", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "gvt", "Make", "correct", "handling", "to", "vreg", "BXT_PHY_CTL_FAMILY"]}
{"code_tokens": ["static", "int", "reset", "_", "one", "_", "sub", "_", "crq", "_", "queue", "(", "struct", "ibmvnic", "_", "adapter", "*", "adapter", ",", "<nl>", "scrq", "-", ">", "irq", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "memset", "(", "scrq", "-", ">", "msgs", ",", "0", ",", "2", "*", "PAGE", "_", "SIZE", ")", ";", "<nl>", "+", "memset", "(", "scrq", "-", ">", "msgs", ",", "0", ",", "4", "*", "PAGE", "_", "SIZE", ")", ";", "<nl>", "scrq", "-", ">", "cur", "=", "0", ";", "<nl>", "<nl>", "rc", "=", "h", "_", "reg", "_", "sub", "_", "crq", "(", "adapter", "-", ">", "vdev", "-", ">", "unit", "_", "address", ",", "scrq", "-", ">", "msg", "_", "token", ",", "<nl>"], "docstring_tokens": ["ibmvnic", "Sanitize", "entire", "SCRQ", "buffer", "on", "reset"]}
{"code_tokens": ["static", "int", "mlx5", "_", "fpga", "_", "conn", "_", "create", "_", "cq", "(", "struct", "mlx5", "_", "fpga", "_", "conn", "*", "conn", ",", "int", "cq", "_", "size", ")", "<nl>", "}", "<nl>", "<nl>", "err", "=", "mlx5", "_", "vector2eqn", "(", "mdev", ",", "smp", "_", "processor", "_", "id", "(", ")", ",", "&", "eqn", ",", "&", "irqn", ")", ";", "<nl>", "-", "if", "(", "err", ")", "<nl>", "+", "if", "(", "err", ")", "{", "<nl>", "+", "kvfree", "(", "in", ")", ";", "<nl>", "goto", "err", "_", "cqwq", ";", "<nl>", "+", "}", "<nl>", "<nl>", "cqc", "=", "MLX5", "_", "ADDR", "_", "OF", "(", "create", "_", "cq", "_", "in", ",", "in", ",", "cq", "_", "context", ")", ";", "<nl>", "MLX5", "_", "SET", "(", "cqc", ",", "cqc", ",", "log", "_", "cq", "_", "size", ",", "ilog2", "(", "cq", "_", "size", ")", ")", ";", "<nl>"], "docstring_tokens": ["net", "mlx5", "prevent", "memory", "leak", "in", "mlx5_fpga_conn_create_cq"]}
{"code_tokens": ["static", "int", "sco", "_", "sock", "_", "recvmsg", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "test", "_", "bit", "(", "BT", "_", "SK", "_", "DEFER", "_", "SETUP", ",", "&", "bt", "_", "sk", "(", "sk", ")", "-", ">", "flags", ")", ")", "{", "<nl>", "hci", "_", "conn", "_", "accept", "(", "pi", "-", ">", "conn", "-", ">", "hcon", ",", "0", ")", ";", "<nl>", "sk", "-", ">", "sk", "_", "state", "=", "BT", "_", "CONFIG", ";", "<nl>", "+", "msg", "-", ">", "msg", "_", "namelen", "=", "0", ";", "<nl>", "<nl>", "release", "_", "sock", "(", "sk", ")", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "SCO", "Fix", "missing", "msg_namelen", "update", "in", "sco_sock_recvmsg"]}
{"code_tokens": ["static", "int", "dsa", "_", "of", "_", "probe", "(", "struct", "device", "*", "dev", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "cd", "-", ">", "sw", "_", "addr", "=", "be32", "_", "to", "_", "cpup", "(", "sw", "_", "addr", ")", ";", "<nl>", "-", "if", "(", "cd", "-", ">", "sw", "_", "addr", ">", "PHY", "_", "MAX", "_", "ADDR", ")", "<nl>", "+", "if", "(", "cd", "-", ">", "sw", "_", "addr", ">", "=", "PHY", "_", "MAX", "_", "ADDR", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "if", "(", "!", "of", "_", "property", "_", "read", "_", "u32", "(", "child", ",", "\"", "eeprom", "-", "length", "\"", ",", "&", "eeprom", "_", "len", ")", ")", "<nl>"], "docstring_tokens": ["net", "dsa", "Fix", "off", "by", "one", "in", "switch", "address", "parsing"]}
{"code_tokens": ["void", "partition", "_", "sched", "_", "domains", "(", "int", "ndoms", "_", "new", ",", "cpumask", "_", "var", "_", "t", "doms", "_", "new", "[", "]", ",", "<nl>", ";", "<nl>", "}", "<nl>", "<nl>", "+", "n", "=", "ndoms", "_", "cur", ";", "<nl>", "if", "(", "doms", "_", "new", "=", "=", "NULL", ")", "{", "<nl>", "-", "ndoms", "_", "cur", "=", "0", ";", "<nl>", "+", "n", "=", "0", ";", "<nl>", "doms", "_", "new", "=", "&", "fallback", "_", "doms", ";", "<nl>", "cpumask", "_", "andnot", "(", "doms", "_", "new", "[", "0", "]", ",", "cpu", "_", "active", "_", "mask", ",", "cpu", "_", "isolated", "_", "map", ")", ";", "<nl>", "WARN", "_", "ON", "_", "ONCE", "(", "dattr", "_", "new", ")", ";", "<nl>", "void", "partition", "_", "sched", "_", "domains", "(", "int", "ndoms", "_", "new", ",", "cpumask", "_", "var", "_", "t", "doms", "_", "new", "[", "]", ",", "<nl>", "<nl>", "/", "*", "Build", "new", "domains", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "ndoms", "_", "new", ";", "i", "+", "+", ")", "{", "<nl>", "-", "for", "(", "j", "=", "0", ";", "j", "<", "ndoms", "_", "cur", "&", "&", "!", "new", "_", "topology", ";", "j", "+", "+", ")", "{", "<nl>", "+", "for", "(", "j", "=", "0", ";", "j", "<", "n", "&", "&", "!", "new", "_", "topology", ";", "j", "+", "+", ")", "{", "<nl>", "if", "(", "cpumask", "_", "equal", "(", "doms", "_", "new", "[", "i", "]", ",", "doms", "_", "cur", "[", "j", "]", ")", "<nl>", "&", "&", "dattrs", "_", "equal", "(", "dattr", "_", "new", ",", "i", ",", "dattr", "_", "cur", ",", "j", ")", ")", "<nl>", "goto", "match2", ";", "<nl>"], "docstring_tokens": ["cpumask", "Fix", "cpumask", "leak", "in", "partition_sched_domains"]}
{"code_tokens": ["static", "int", "btrfs", "_", "show", "_", "options", "(", "struct", "seq", "_", "file", "*", "seq", ",", "struct", "dentry", "*", "dentry", ")", "<nl>", "seq", "_", "puts", "(", "seq", ",", "\"", ",", "fatal", "_", "errors", "=", "panic", "\"", ")", ";", "<nl>", "if", "(", "info", "-", ">", "commit", "_", "interval", "!", "=", "BTRFS", "_", "DEFAULT", "_", "COMMIT", "_", "INTERVAL", ")", "<nl>", "seq", "_", "printf", "(", "seq", ",", "\"", ",", "commit", "=", "%", "d", "\"", ",", "info", "-", ">", "commit", "_", "interval", ")", ";", "<nl>", "+", "seq", "_", "printf", "(", "seq", ",", "\"", ",", "subvolid", "=", "%", "llu", "\"", ",", "<nl>", "+", "BTRFS", "_", "I", "(", "d", "_", "inode", "(", "dentry", ")", ")", "-", ">", "root", "-", ">", "root", "_", "key", ".", "objectid", ")", ";", "<nl>", "+", "seq", "_", "puts", "(", "seq", ",", "\"", ",", "subvol", "=", "\"", ")", ";", "<nl>", "+", "seq", "_", "dentry", "(", "seq", ",", "dentry", ",", "\"", "\\", "t", "\\", "n", "\\", "\\", "\"", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "static", "int", "btrfs", "_", "show", "_", "options", "(", "struct", "seq", "_", "file", "*", "seq", ",", "struct", "dentry", "*", "dentry", ")", "<nl>", "seq", "_", "puts", "(", "seq", ",", "\"", ",", "fatal", "_", "errors", "=", "panic", "\"", ")", ";", "<nl>", "if", "(", "info", "-", ">", "commit", "_", "interval", "!", "=", "BTRFS", "_", "DEFAULT", "_", "COMMIT", "_", "INTERVAL", ")", "<nl>", "seq", "_", "printf", "(", "seq", ",", "\"", ",", "commit", "=", "%", "d", "\"", ",", "info", "-", ">", "commit", "_", "interval", ")", ";", "<nl>", "+", "seq", "_", "printf", "(", "seq", ",", "\"", ",", "subvolid", "=", "%", "llu", "\"", ",", "<nl>", "+", "BTRFS", "_", "I", "(", "d", "_", "inode", "(", "dentry", ")", ")", "-", ">", "root", "-", ">", "root", "_", "key", ".", "objectid", ")", ";", "<nl>", "+", "seq", "_", "puts", "(", "seq", ",", "\"", ",", "subvol", "=", "\"", ")", ";", "<nl>", "+", "seq", "_", "dentry", "(", "seq", ",", "dentry", ",", "\"", "\\", "t", "\\", "n", "\\", "\\", "\"", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "int", "seq", "_", "dentry", "(", "struct", "seq", "_", "file", "*", "m", ",", "struct", "dentry", "*", "dentry", ",", "const", "char", "*", "esc", ")", "<nl>", "<nl>", "return", "res", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "(", "seq", "_", "dentry", ")", ";", "<nl>", "<nl>", "static", "void", "*", "single", "_", "start", "(", "struct", "seq", "_", "file", "*", "p", ",", "loff", "_", "t", "*", "pos", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["Btrfs", "show", "subvol", "and", "subvolid", "in", "proc", "mounts"]}
{"code_tokens": ["static", "int", "sdio", "_", "read", "_", "cis", "(", "struct", "mmc", "_", "card", "*", "card", ",", "struct", "sdio", "_", "func", "*", "func", ")", "<nl>", "if", "(", "tpl", "_", "code", "=", "=", "0xff", ")", "<nl>", "break", ";", "<nl>", "<nl>", "+", "/", "*", "null", "entries", "have", "no", "link", "field", "or", "data", "*", "/", "<nl>", "+", "if", "(", "tpl", "_", "code", "=", "=", "0x00", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "ret", "=", "mmc", "_", "io", "_", "rw", "_", "direct", "(", "card", ",", "0", ",", "0", ",", "ptr", "+", "+", ",", "0", ",", "&", "tpl", "_", "link", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["sdio", "handle", "null", "tuples"]}
{"code_tokens": ["int", "rds", "_", "ib", "_", "xmit", "(", "struct", "rds", "_", "connection", "*", "conn", ",", "struct", "rds", "_", "message", "*", "rm", ",", "<nl>", "if", "(", "credit", "_", "alloc", "<", "work", "_", "alloc", ")", "{", "<nl>", "rds", "_", "ib", "_", "ring", "_", "unalloc", "(", "&", "ic", "-", ">", "i", "_", "send", "_", "ring", ",", "work", "_", "alloc", "-", "credit", "_", "alloc", ")", ";", "<nl>", "work", "_", "alloc", "=", "credit", "_", "alloc", ";", "<nl>", "-", "flow", "_", "controlled", "+", "+", ";", "<nl>", "+", "flow", "_", "controlled", "=", "1", ";", "<nl>", "}", "<nl>", "if", "(", "work", "_", "alloc", "=", "=", "0", ")", "{", "<nl>", "set", "_", "bit", "(", "RDS", "_", "LL", "_", "SEND", "_", "FULL", ",", "&", "conn", "-", ">", "c", "_", "flags", ")", ";", "<nl>", "int", "rds", "_", "ib", "_", "xmit", "(", "struct", "rds", "_", "connection", "*", "conn", ",", "struct", "rds", "_", "message", "*", "rm", ",", "<nl>", "/", "*", "<nl>", "*", "Update", "adv", "_", "credits", "since", "we", "reset", "the", "ACK", "_", "REQUIRED", "bit", ".", "<nl>", "*", "/", "<nl>", "-", "rds", "_", "ib", "_", "send", "_", "grab", "_", "credits", "(", "ic", ",", "0", ",", "&", "posted", ",", "1", ",", "RDS", "_", "MAX", "_", "ADV", "_", "CREDIT", "-", "adv", "_", "credits", ")", ";", "<nl>", "-", "adv", "_", "credits", "+", "=", "posted", ";", "<nl>", "-", "BUG", "_", "ON", "(", "adv", "_", "credits", ">", "255", ")", ";", "<nl>", "+", "if", "(", "ic", "-", ">", "i", "_", "flowctl", ")", "{", "<nl>", "+", "rds", "_", "ib", "_", "send", "_", "grab", "_", "credits", "(", "ic", ",", "0", ",", "&", "posted", ",", "1", ",", "RDS", "_", "MAX", "_", "ADV", "_", "CREDIT", "-", "adv", "_", "credits", ")", ";", "<nl>", "+", "adv", "_", "credits", "+", "=", "posted", ";", "<nl>", "+", "BUG", "_", "ON", "(", "adv", "_", "credits", ">", "255", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Sometimes", "you", "want", "to", "put", "a", "fence", "between", "an", "RDMA", "<nl>", "int", "rds", "_", "ib", "_", "xmit", "(", "struct", "rds", "_", "connection", "*", "conn", ",", "struct", "rds", "_", "message", "*", "rm", ",", "<nl>", "/", "*", "<nl>", "*", "Always", "signal", "the", "last", "one", "if", "we", "'", "re", "stopping", "due", "to", "flow", "control", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "flow", "_", "controlled", "&", "&", "i", "=", "=", "(", "work", "_", "alloc", "-", "1", ")", ")", "<nl>", "+", "if", "(", "ic", "-", ">", "i", "_", "flowctl", "&", "&", "flow", "_", "controlled", "&", "&", "i", "=", "=", "(", "work", "_", "alloc", "-", "1", ")", ")", "<nl>", "send", "-", ">", "s", "_", "wr", ".", "send", "_", "flags", "|", "=", "IB", "_", "SEND", "_", "SIGNALED", "|", "IB", "_", "SEND", "_", "SOLICITED", ";", "<nl>", "<nl>", "rdsdebug", "(", "\"", "send", "%", "p", "wr", "%", "p", "num", "_", "sge", "%", "u", "next", "%", "p", "\\", "n", "\"", ",", "send", ",", "<nl>", "&", "send", "-", ">", "s", "_", "wr", ",", "send", "-", ">", "s", "_", "wr", ".", "num", "_", "sge", ",", "send", "-", ">", "s", "_", "wr", ".", "next", ")", ";", "<nl>", "<nl>", "-", "if", "(", "adv", "_", "credits", ")", "{", "<nl>", "+", "if", "(", "ic", "-", ">", "i", "_", "flowctl", "&", "&", "adv", "_", "credits", ")", "{", "<nl>", "struct", "rds", "_", "header", "*", "hdr", "=", "&", "ic", "-", ">", "i", "_", "send", "_", "hdrs", "[", "pos", "]", ";", "<nl>", "<nl>", "/", "*", "add", "credit", "and", "redo", "the", "header", "checksum", "*", "/", "<nl>"], "docstring_tokens": ["RDS", "IB", "Make", "all", "flow", "control", "code", "conditional", "on", "i_flowctl"]}
{"code_tokens": ["static", "int", "fill", "_", "thread", "_", "core", "_", "info", "(", "struct", "elf", "_", "thread", "_", "core", "_", "info", "*", "t", ",", "<nl>", "for", "(", "i", "=", "1", ";", "i", "<", "view", "-", ">", "n", ";", "+", "+", "i", ")", "{", "<nl>", "const", "struct", "user", "_", "regset", "*", "regset", "=", "&", "view", "-", ">", "regsets", "[", "i", "]", ";", "<nl>", "do", "_", "thread", "_", "regset", "_", "writeback", "(", "t", "-", ">", "task", ",", "regset", ")", ";", "<nl>", "-", "if", "(", "regset", "-", ">", "core", "_", "note", "_", "type", "&", "&", "<nl>", "+", "if", "(", "regset", "-", ">", "core", "_", "note", "_", "type", "&", "&", "regset", "-", ">", "get", "&", "&", "<nl>", "(", "!", "regset", "-", ">", "active", "|", "|", "regset", "-", ">", "active", "(", "t", "-", ">", "task", ",", "regset", ")", ")", ")", "{", "<nl>", "int", "ret", ";", "<nl>", "size", "_", "t", "size", "=", "regset", "-", ">", "n", "*", "regset", "-", ">", "size", ";", "mmm", "include", "/", "linux", "/", "regset", ".", "h", "<nl>", "static", "int", "fill", "_", "thread", "_", "core", "_", "info", "(", "struct", "elf", "_", "thread", "_", "core", "_", "info", "*", "t", ",", "<nl>", "for", "(", "i", "=", "1", ";", "i", "<", "view", "-", ">", "n", ";", "+", "+", "i", ")", "{", "<nl>", "const", "struct", "user", "_", "regset", "*", "regset", "=", "&", "view", "-", ">", "regsets", "[", "i", "]", ";", "<nl>", "do", "_", "thread", "_", "regset", "_", "writeback", "(", "t", "-", ">", "task", ",", "regset", ")", ";", "<nl>", "-", "if", "(", "regset", "-", ">", "core", "_", "note", "_", "type", "&", "&", "<nl>", "+", "if", "(", "regset", "-", ">", "core", "_", "note", "_", "type", "&", "&", "regset", "-", ">", "get", "&", "&", "<nl>", "(", "!", "regset", "-", ">", "active", "|", "|", "regset", "-", ">", "active", "(", "t", "-", ">", "task", ",", "regset", ")", ")", ")", "{", "<nl>", "int", "ret", ";", "<nl>", "size", "_", "t", "size", "=", "regset", "-", ">", "n", "*", "regset", "-", ">", "size", ";", "<nl>", "static", "inline", "int", "copy", "_", "regset", "_", "to", "_", "user", "(", "struct", "task", "_", "struct", "*", "target", ",", "<nl>", "{", "<nl>", "const", "struct", "user", "_", "regset", "*", "regset", "=", "&", "view", "-", ">", "regsets", "[", "setno", "]", ";", "<nl>", "<nl>", "+", "if", "(", "!", "regset", "-", ">", "get", ")", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "<nl>", "if", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "WRITE", ",", "data", ",", "size", ")", ")", "<nl>", "return", "-", "EIO", ";", "<nl>", "<nl>", "static", "inline", "int", "copy", "_", "regset", "_", "from", "_", "user", "(", "struct", "task", "_", "struct", "*", "target", ",", "<nl>", "{", "<nl>", "const", "struct", "user", "_", "regset", "*", "regset", "=", "&", "view", "-", ">", "regsets", "[", "setno", "]", ";", "<nl>", "<nl>", "+", "if", "(", "!", "regset", "-", ">", "set", ")", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "<nl>", "if", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "READ", ",", "data", ",", "size", ")", ")", "<nl>", "return", "-", "EIO", ";", "<nl>"], "docstring_tokens": ["regset", "Prevent", "null", "pointer", "reference", "on", "readonly", "regsets"]}
{"code_tokens": ["static", "int", "msr", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "unsigned", "int", "cpu", ";", "<nl>", "struct", "cpuinfo", "_", "x86", "*", "c", ";", "<nl>", "<nl>", "+", "if", "(", "!", "capable", "(", "CAP", "_", "SYS", "_", "RAWIO", ")", ")", "<nl>", "+", "return", "-", "EPERM", ";", "<nl>", "+", "<nl>", "cpu", "=", "iminor", "(", "file", "-", ">", "f", "_", "path", ".", "dentry", "-", ">", "d", "_", "inode", ")", ";", "<nl>", "if", "(", "cpu", ">", "=", "nr", "_", "cpu", "_", "ids", "|", "|", "!", "cpu", "_", "online", "(", "cpu", ")", ")", "<nl>", "return", "-", "ENXIO", ";", "/", "*", "No", "such", "CPU", "*", "/", "<nl>"], "docstring_tokens": ["x86", "msr", "Add", "capabilities", "check"]}
{"code_tokens": ["static", "u32", "_", "_", "init", "allocate", "_", "aperture", "(", "void", ")", "<nl>", "printk", "(", "\"", "Cannot", "allocate", "aperture", "memory", "hole", "(", "%", "p", ",", "%", "uK", ")", "\\", "n", "\"", ",", "<nl>", "p", ",", "aper", "_", "size", ">", ">", "10", ")", ";", "<nl>", "if", "(", "p", ")", "<nl>", "-", "free", "_", "bootmem", "_", "node", "(", "nd0", ",", "(", "unsigned", "long", ")", "p", ",", "aper", "_", "size", ")", ";", "<nl>", "+", "free", "_", "bootmem", "_", "node", "(", "nd0", ",", "_", "_", "pa", "(", "p", ")", ",", "aper", "_", "size", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "printk", "(", "\"", "Mapping", "aperture", "over", "%", "d", "KB", "of", "RAM", "@", "%", "lx", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["PATCH", "x86_64", "free_bootmem_node", "needs", "__pa", "in", "allocate_aperture"]}
{"code_tokens": ["int", "vty", "_", "init", "(", "const", "struct", "file", "_", "operations", "*", "console", "_", "fops", ")", ";", "<nl>", "<nl>", "static", "inline", "bool", "vt", "_", "force", "_", "oops", "_", "output", "(", "struct", "vc", "_", "data", "*", "vc", ")", "<nl>", "{", "<nl>", "-", "if", "(", "oops", "_", "in", "_", "progress", "&", "&", "vc", "-", ">", "vc", "_", "panic", "_", "force", "_", "write", ")", "<nl>", "+", "if", "(", "oops", "_", "in", "_", "progress", "&", "&", "vc", "-", ">", "vc", "_", "panic", "_", "force", "_", "write", "&", "&", "panic", "_", "timeout", ">", "=", "0", ")", "<nl>", "return", "true", ";", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["panic", "vt", "do", "not", "force", "oops", "output", "when", "panic_timeout", "0"]}
{"code_tokens": ["validate", "_", "event", "(", "struct", "pmu", "_", "hw", "_", "events", "*", "hw", "_", "events", ",", "<nl>", "struct", "arm", "_", "pmu", "*", "armpmu", "=", "to", "_", "arm", "_", "pmu", "(", "event", "-", ">", "pmu", ")", ";", "<nl>", "struct", "pmu", "*", "leader", "_", "pmu", "=", "event", "-", ">", "group", "_", "leader", "-", ">", "pmu", ";", "<nl>", "<nl>", "+", "if", "(", "is", "_", "software", "_", "event", "(", "event", ")", ")", "<nl>", "+", "return", "1", ";", "<nl>", "+", "<nl>", "if", "(", "event", "-", ">", "pmu", "!", "=", "leader", "_", "pmu", "|", "|", "event", "-", ">", "state", "<", "PERF", "_", "EVENT", "_", "STATE", "_", "OFF", ")", "<nl>", "return", "1", ";", "<nl>"], "docstring_tokens": ["ARM", "7809", "1", "perf", "fix", "event", "validation", "for", "software", "group", "leaders"]}
{"code_tokens": ["TRACE", "_", "EVENT", "(", "snd", "_", "soc", "_", "dapm", "_", "output", "_", "path", ",", "<nl>", "_", "_", "assign", "_", "str", "(", "pname", ",", "path", "-", ">", "name", "?", "path", "-", ">", "name", ":", "DAPM", "_", "DIRECT", ")", ";", "<nl>", "_", "_", "assign", "_", "str", "(", "psname", ",", "path", "-", ">", "sink", "-", ">", "name", ")", ";", "<nl>", "_", "_", "entry", "-", ">", "path", "_", "connect", "=", "path", "-", ">", "connect", ";", "<nl>", "-", "_", "_", "entry", "-", ">", "path", "_", "sink", "=", "(", "int", ")", "path", "-", ">", "sink", ";", "<nl>", "+", "_", "_", "entry", "-", ">", "path", "_", "sink", "=", "(", "long", ")", "path", "-", ">", "sink", ";", "<nl>", ")", ",", "<nl>", "<nl>", "TP", "_", "printk", "(", "\"", "%", "c", "%", "s", "-", ">", "%", "s", "-", ">", "%", "s", "\\", "n", "\"", ",", "<nl>", "TRACE", "_", "EVENT", "(", "snd", "_", "soc", "_", "dapm", "_", "input", "_", "path", ",", "<nl>", "_", "_", "assign", "_", "str", "(", "pname", ",", "path", "-", ">", "name", "?", "path", "-", ">", "name", ":", "DAPM", "_", "DIRECT", ")", ";", "<nl>", "_", "_", "assign", "_", "str", "(", "psname", ",", "path", "-", ">", "source", "-", ">", "name", ")", ";", "<nl>", "_", "_", "entry", "-", ">", "path", "_", "connect", "=", "path", "-", ">", "connect", ";", "<nl>", "-", "_", "_", "entry", "-", ">", "path", "_", "source", "=", "(", "int", ")", "path", "-", ">", "source", ";", "<nl>", "+", "_", "_", "entry", "-", ">", "path", "_", "source", "=", "(", "long", ")", "path", "-", ">", "source", ";", "<nl>", ")", ",", "<nl>", "<nl>", "TP", "_", "printk", "(", "\"", "%", "c", "%", "s", "<", "-", "%", "s", "<", "-", "%", "s", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["ASoC", "dapm", "Fix", "x86_64", "build", "warning"]}
{"code_tokens": ["struct", "au0828", "_", "dev", "{", "<nl>", "unsigned", "int", "frame", "_", "count", ";", "<nl>", "int", "ctrl", "_", "freq", ";", "<nl>", "int", "input", "_", "type", ";", "<nl>", "+", "int", "std", "_", "set", "_", "in", "_", "tuner", "_", "core", ";", "<nl>", "unsigned", "int", "ctrl", "_", "input", ";", "<nl>", "enum", "au0828", "_", "dev", "_", "state", "dev", "_", "state", ";", "<nl>", "enum", "au0828", "_", "stream", "_", "state", "stream", "_", "state", ";", "mmm", "drivers", "/", "media", "/", "video", "/", "au0828", "/", "au0828", "-", "video", ".", "c", "<nl>", "struct", "au0828", "_", "dev", "{", "<nl>", "unsigned", "int", "frame", "_", "count", ";", "<nl>", "int", "ctrl", "_", "freq", ";", "<nl>", "int", "input", "_", "type", ";", "<nl>", "+", "int", "std", "_", "set", "_", "in", "_", "tuner", "_", "core", ";", "<nl>", "unsigned", "int", "ctrl", "_", "input", ";", "<nl>", "enum", "au0828", "_", "dev", "_", "state", "dev", "_", "state", ";", "<nl>", "enum", "au0828", "_", "stream", "_", "state", "stream", "_", "state", ";", "<nl>", "static", "int", "vidioc", "_", "s", "_", "std", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "v4l2", "_", "std", "_", "id", "*", "norm", ")", "<nl>", "buffer", ",", "which", "is", "currently", "hardcoded", "at", "720", "x480", "*", "/", "<nl>", "<nl>", "v4l2", "_", "device", "_", "call", "_", "all", "(", "&", "dev", "-", ">", "v4l2", "_", "dev", ",", "0", ",", "core", ",", "s", "_", "std", ",", "*", "norm", ")", ";", "<nl>", "+", "dev", "-", ">", "std", "_", "set", "_", "in", "_", "tuner", "_", "core", "=", "1", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "vidioc", "_", "s", "_", "frequency", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "<nl>", "<nl>", "dev", "-", ">", "ctrl", "_", "freq", "=", "freq", "-", ">", "frequency", ";", "<nl>", "<nl>", "+", "if", "(", "dev", "-", ">", "std", "_", "set", "_", "in", "_", "tuner", "_", "core", "=", "=", "0", ")", "{", "<nl>", "+", "/", "*", "If", "we", "'", "ve", "never", "sent", "the", "standard", "in", "tuner", "core", ",", "do", "so", "now", ".", "We", "<nl>", "+", "don", "'", "t", "do", "this", "at", "device", "probe", "because", "we", "don", "'", "t", "want", "to", "incur", "<nl>", "+", "the", "cost", "of", "a", "firmware", "load", "*", "/", "<nl>", "+", "v4l2", "_", "device", "_", "call", "_", "all", "(", "&", "dev", "-", ">", "v4l2", "_", "dev", ",", "0", ",", "core", ",", "s", "_", "std", ",", "<nl>", "+", "dev", "-", ">", "vdev", "-", ">", "tvnorms", ")", ";", "<nl>", "+", "dev", "-", ">", "std", "_", "set", "_", "in", "_", "tuner", "_", "core", "=", "1", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "v4l2", "_", "device", "_", "call", "_", "all", "(", "&", "dev", "-", ">", "v4l2", "_", "dev", ",", "0", ",", "tuner", ",", "s", "_", "frequency", ",", "freq", ")", ";", "<nl>", "<nl>", "au0828", "_", "analog", "_", "stream", "_", "reset", "(", "dev", ")", ";", "<nl>"], "docstring_tokens": ["media", "au0828", "make", "sure", "video", "standard", "is", "setup", "in", "tuner", "core"]}
{"code_tokens": ["static", "void", "intel", "_", "dp", "_", "prepare", "(", "struct", "intel", "_", "encoder", "*", "encoder", ",", "<nl>", "trans", "_", "dp", "&", "=", "~", "TRANS", "_", "DP", "_", "ENH", "_", "FRAMING", ";", "<nl>", "I915", "_", "WRITE", "(", "TRANS", "_", "DP", "_", "CTL", "(", "crtc", "-", ">", "pipe", ")", ",", "trans", "_", "dp", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "if", "(", "!", "HAS", "_", "PCH", "_", "SPLIT", "(", "dev", "_", "priv", ")", "&", "&", "!", "IS", "_", "VALLEYVIEW", "(", "dev", "_", "priv", ")", "&", "&", "<nl>", "-", "!", "IS", "_", "CHERRYVIEW", "(", "dev", "_", "priv", ")", "&", "&", "<nl>", "-", "pipe", "_", "config", "-", ">", "limited", "_", "color", "_", "range", ")", "<nl>", "+", "if", "(", "IS", "_", "G4X", "(", "dev", "_", "priv", ")", "&", "&", "pipe", "_", "config", "-", ">", "limited", "_", "color", "_", "range", ")", "<nl>", "intel", "_", "dp", "-", ">", "DP", "|", "=", "DP", "_", "COLOR", "_", "RANGE", "_", "16", "_", "235", ";", "<nl>", "<nl>", "if", "(", "adjusted", "_", "mode", "-", ">", "flags", "&", "DRM", "_", "MODE", "_", "FLAG", "_", "PHSYNC", ")", "<nl>", "static", "void", "intel", "_", "dp", "_", "get", "_", "config", "(", "struct", "intel", "_", "encoder", "*", "encoder", ",", "<nl>", "<nl>", "pipe", "_", "config", "-", ">", "base", ".", "adjusted", "_", "mode", ".", "flags", "|", "=", "flags", ";", "<nl>", "<nl>", "-", "if", "(", "!", "HAS", "_", "PCH", "_", "SPLIT", "(", "dev", "_", "priv", ")", "&", "&", "!", "IS", "_", "VALLEYVIEW", "(", "dev", "_", "priv", ")", "&", "&", "<nl>", "-", "!", "IS", "_", "CHERRYVIEW", "(", "dev", "_", "priv", ")", "&", "&", "tmp", "&", "DP", "_", "COLOR", "_", "RANGE", "_", "16", "_", "235", ")", "<nl>", "+", "if", "(", "IS", "_", "G4X", "(", "dev", "_", "priv", ")", "&", "&", "tmp", "&", "DP", "_", "COLOR", "_", "RANGE", "_", "16", "_", "235", ")", "<nl>", "pipe", "_", "config", "-", ">", "limited", "_", "color", "_", "range", "=", "true", ";", "<nl>", "<nl>", "pipe", "_", "config", "-", ">", "lane", "_", "count", "=", "<nl>"], "docstring_tokens": ["drm", "i915", "Simplify", "DP", "port", "limited", "color", "range", "bit", "platform", "checks"]}
{"code_tokens": ["_", "_", "init", "int", "intel", "_", "pmu", "_", "init", "(", "void", ")", "<nl>", "if", "(", "version", ">", "1", ")", "<nl>", "x86", "_", "pmu", ".", "num", "_", "counters", "_", "fixed", "=", "max", "(", "(", "int", ")", "edx", ".", "split", ".", "num", "_", "counters", "_", "fixed", ",", "3", ")", ";", "<nl>", "<nl>", "-", "/", "*", "<nl>", "-", "*", "v2", "and", "above", "have", "a", "perf", "capabilities", "MSR", "<nl>", "-", "*", "/", "<nl>", "-", "if", "(", "version", ">", "1", ")", "{", "<nl>", "+", "if", "(", "boot", "_", "cpu", "_", "has", "(", "X86", "_", "FEATURE", "_", "PDCM", ")", ")", "{", "<nl>", "u64", "capabilities", ";", "<nl>", "<nl>", "rdmsrl", "(", "MSR", "_", "IA32", "_", "PERF", "_", "CAPABILITIES", ",", "capabilities", ")", ";", "<nl>"], "docstring_tokens": ["perf", "x86", "Correctly", "use", "FEATURE_PDCM"]}
{"code_tokens": ["int", "ext4", "_", "orphan", "_", "add", "(", "handle", "_", "t", "*", "handle", ",", "struct", "inode", "*", "inode", ")", "<nl>", "struct", "ext4", "_", "iloc", "iloc", ";", "<nl>", "int", "err", "=", "0", ",", "rc", ";", "<nl>", "<nl>", "-", "if", "(", "!", "ext4", "_", "handle", "_", "valid", "(", "handle", ")", ")", "<nl>", "+", "if", "(", "!", "EXT4", "_", "SB", "(", "sb", ")", "-", ">", "s", "_", "journal", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "EXT4", "_", "SB", "(", "sb", ")", "-", ">", "s", "_", "orphan", "_", "lock", ")", ";", "<nl>", "int", "ext4", "_", "orphan", "_", "del", "(", "handle", "_", "t", "*", "handle", ",", "struct", "inode", "*", "inode", ")", "<nl>", "struct", "ext4", "_", "iloc", "iloc", ";", "<nl>", "int", "err", "=", "0", ";", "<nl>", "<nl>", "-", "/", "*", "ext4", "_", "handle", "_", "valid", "(", ")", "assumes", "a", "valid", "handle", "_", "t", "pointer", "*", "/", "<nl>", "-", "if", "(", "handle", "&", "&", "!", "ext4", "_", "handle", "_", "valid", "(", "handle", ")", ")", "<nl>", "+", "if", "(", "!", "EXT4", "_", "SB", "(", "inode", "-", ">", "i", "_", "sb", ")", "-", ">", "s", "_", "journal", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "EXT4", "_", "SB", "(", "inode", "-", ">", "i", "_", "sb", ")", "-", ">", "s", "_", "orphan", "_", "lock", ")", ";", "<nl>", "int", "ext4", "_", "orphan", "_", "del", "(", "handle", "_", "t", "*", "handle", ",", "struct", "inode", "*", "inode", ")", "<nl>", "*", "transaction", "handle", "with", "which", "to", "update", "the", "orphan", "list", "on", "<nl>", "*", "disk", ",", "but", "we", "still", "need", "to", "remove", "the", "inode", "from", "the", "linked", "<nl>", "*", "list", "in", "memory", ".", "*", "/", "<nl>", "-", "if", "(", "sbi", "-", ">", "s", "_", "journal", "&", "&", "!", "handle", ")", "<nl>", "+", "if", "(", "!", "handle", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "err", "=", "ext4", "_", "reserve", "_", "inode", "_", "write", "(", "handle", ",", "inode", ",", "&", "iloc", ")", ";", "<nl>"], "docstring_tokens": ["ext4", "make", "orphan", "functions", "be", "no", "op", "in", "no", "journal", "mode"]}
{"code_tokens": ["static", "netdev", "_", "tx", "_", "t", "w83977af", "_", "hard", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "mtt", "=", "irda", "_", "get", "_", "mtt", "(", "skb", ")", ";", "<nl>", "pr", "_", "debug", "(", "\"", "%", "s", "(", "%", "ld", ")", ",", "mtt", "=", "%", "d", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "jiffies", ",", "mtt", ")", ";", "<nl>", "-", "if", "(", "mtt", ")", "<nl>", "+", "if", "(", "mtt", ">", "1000", ")", "<nl>", "+", "mdelay", "(", "mtt", "/", "1000", ")", ";", "<nl>", "+", "else", "if", "(", "mtt", ")", "<nl>", "udelay", "(", "mtt", ")", ";", "<nl>", "<nl>", "/", "*", "Enable", "DMA", "interrupt", "*", "/", "<nl>"], "docstring_tokens": ["irda", "fix", "overly", "long", "udelay"]}
{"code_tokens": ["static", "inline", "void", "map", "_", "vector", "_", "to", "_", "rxq", "(", "struct", "ixgbe", "_", "adapter", "*", "a", ",", "int", "v", "_", "idx", ",", "<nl>", "<nl>", "set", "_", "bit", "(", "r", "_", "idx", ",", "q", "_", "vector", "-", ">", "rxr", "_", "idx", ")", ";", "<nl>", "q", "_", "vector", "-", ">", "rxr", "_", "count", "+", "+", ";", "<nl>", "-", "a", "-", ">", "rx", "_", "ring", "[", "r", "_", "idx", "]", ".", "v", "_", "idx", "=", "1", "<", "<", "v", "_", "idx", ";", "<nl>", "+", "a", "-", ">", "rx", "_", "ring", "[", "r", "_", "idx", "]", ".", "v", "_", "idx", "=", "(", "u64", ")", "1", "<", "<", "v", "_", "idx", ";", "<nl>", "}", "<nl>", "<nl>", "static", "inline", "void", "map", "_", "vector", "_", "to", "_", "txq", "(", "struct", "ixgbe", "_", "adapter", "*", "a", ",", "int", "v", "_", "idx", ",", "<nl>", "static", "inline", "void", "map", "_", "vector", "_", "to", "_", "txq", "(", "struct", "ixgbe", "_", "adapter", "*", "a", ",", "int", "v", "_", "idx", ",", "<nl>", "<nl>", "set", "_", "bit", "(", "t", "_", "idx", ",", "q", "_", "vector", "-", ">", "txr", "_", "idx", ")", ";", "<nl>", "q", "_", "vector", "-", ">", "txr", "_", "count", "+", "+", ";", "<nl>", "-", "a", "-", ">", "tx", "_", "ring", "[", "t", "_", "idx", "]", ".", "v", "_", "idx", "=", "1", "<", "<", "v", "_", "idx", ";", "<nl>", "+", "a", "-", ">", "tx", "_", "ring", "[", "t", "_", "idx", "]", ".", "v", "_", "idx", "=", "(", "u64", ")", "1", "<", "<", "v", "_", "idx", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>", "static", "void", "ixgbe", "_", "watchdog", "(", "unsigned", "long", "data", ")", "<nl>", "int", "i", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "adapter", "-", ">", "num", "_", "msix", "_", "vectors", "-", "NON", "_", "Q", "_", "VECTORS", ";", "i", "+", "+", ")", "<nl>", "-", "eics", "|", "=", "(", "1", "<", "<", "i", ")", ";", "<nl>", "+", "eics", "|", "=", "(", "(", "u64", ")", "1", "<", "<", "i", ")", ";", "<nl>", "<nl>", "/", "*", "Cause", "software", "interrupt", "to", "ensure", "rx", "rings", "are", "cleaned", "*", "/", "<nl>", "switch", "(", "hw", "-", ">", "mac", ".", "type", ")", "{", "<nl>"], "docstring_tokens": ["ixgbe", "Typecase", "1", "for", "64", "bit", "shift"]}
{"code_tokens": ["int", "iwl", "_", "mvm", "_", "rx", "_", "card", "_", "state", "_", "notif", "(", "struct", "iwl", "_", "mvm", "*", "mvm", ",", "<nl>", "(", "flags", "&", "CT", "_", "KILL", "_", "CARD", "_", "DISABLED", ")", "?", "<nl>", "\"", "Reached", "\"", ":", "\"", "Not", "reached", "\"", ")", ";", "<nl>", "<nl>", "-", "if", "(", "flags", "&", "CARD", "_", "DISABLED", "_", "MSK", ")", "<nl>", "-", "iwl", "_", "write32", "(", "mvm", "-", ">", "trans", ",", "CSR", "_", "UCODE", "_", "DRV", "_", "GP1", "_", "SET", ",", "<nl>", "-", "CSR", "_", "UCODE", "_", "DRV", "_", "GP1", "_", "BIT", "_", "CMD", "_", "BLOCKED", ")", ";", "<nl>", "-", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["iwlwifi", "don", "t", "ack", "the", "card", "state", "notification"]}
{"code_tokens": ["static", "int", "doc", "_", "ecc", "_", "decode", "(", "struct", "rs", "_", "control", "*", "rs", ",", "uint8", "_", "t", "*", "data", ",", "uint8", "_", "t", "*", "ecc", ")", "<nl>", "uint8", "_", "t", "parity", ";", "<nl>", "uint16", "_", "t", "ds", "[", "4", "]", ",", "s", "[", "5", "]", ",", "tmp", ",", "errval", "[", "8", "]", ",", "syn", "[", "4", "]", ";", "<nl>", "<nl>", "+", "memset", "(", "syn", ",", "0", ",", "sizeof", "(", "syn", ")", ")", ";", "<nl>", "/", "*", "Convert", "the", "ecc", "bytes", "into", "words", "*", "/", "<nl>", "ds", "[", "0", "]", "=", "(", "(", "ecc", "[", "4", "]", "&", "0xff", ")", ">", ">", "0", ")", "|", "(", "(", "ecc", "[", "5", "]", "&", "0x03", ")", "<", "<", "8", ")", ";", "<nl>", "ds", "[", "1", "]", "=", "(", "(", "ecc", "[", "5", "]", "&", "0xfc", ")", ">", ">", "2", ")", "|", "(", "(", "ecc", "[", "2", "]", "&", "0x0f", ")", "<", "<", "6", ")", ";", "<nl>", "static", "int", "doc", "_", "ecc", "_", "decode", "(", "struct", "rs", "_", "control", "*", "rs", ",", "uint8", "_", "t", "*", "data", ",", "uint8", "_", "t", "*", "ecc", ")", "<nl>", "s", "[", "i", "]", "^", "=", "rs", "-", ">", "alpha", "_", "to", "[", "rs", "_", "modnn", "(", "rs", ",", "tmp", "+", "(", "FCR", "+", "i", ")", "*", "j", ")", "]", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "Calc", "s", "[", "i", "]", "=", "s", "[", "i", "]", "/", "alpha", "^", "(", "v", "+", "i", ")", "*", "/", "<nl>", "+", "/", "*", "Calc", "syn", "[", "i", "]", "=", "s", "[", "i", "]", "/", "alpha", "^", "(", "v", "+", "i", ")", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "NROOTS", ";", "i", "+", "+", ")", "{", "<nl>", "-", "if", "(", "syn", "[", "i", "]", ")", "<nl>", "+", "if", "(", "s", "[", "i", "]", ")", "<nl>", "syn", "[", "i", "]", "=", "rs", "_", "modnn", "(", "rs", ",", "rs", "-", ">", "index", "_", "of", "[", "s", "[", "i", "]", "]", "+", "(", "NN", "-", "FCR", "-", "i", ")", ")", ";", "<nl>", "}", "<nl>", "/", "*", "Call", "the", "decoder", "library", "*", "/", "<nl>"], "docstring_tokens": ["mtd", "doc2000", "fix", "uninitialized", "variable", "in", "doc_ecc_decode"]}
{"code_tokens": ["xfs", "_", "fs", "_", "fill", "_", "super", "(", "<nl>", "out", "_", "close", "_", "devices", ":", "<nl>", "xfs", "_", "close", "_", "devices", "(", "mp", ")", ";", "<nl>", "out", "_", "free", "_", "fsname", ":", "<nl>", "+", "sb", "-", ">", "s", "_", "fs", "_", "info", "=", "NULL", ";", "<nl>", "xfs", "_", "free", "_", "fsname", "(", "mp", ")", ";", "<nl>", "kfree", "(", "mp", ")", ";", "<nl>", "out", ":", "<nl>", "xfs", "_", "fs", "_", "put", "_", "super", "(", "<nl>", "{", "<nl>", "struct", "xfs", "_", "mount", "*", "mp", "=", "XFS", "_", "M", "(", "sb", ")", ";", "<nl>", "<nl>", "+", "/", "*", "if", "-", ">", "fill", "_", "super", "failed", ",", "we", "have", "no", "mount", "to", "tear", "down", "*", "/", "<nl>", "+", "if", "(", "!", "sb", "-", ">", "s", "_", "fs", "_", "info", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "xfs", "_", "notice", "(", "mp", ",", "\"", "Unmounting", "Filesystem", "\"", ")", ";", "<nl>", "xfs", "_", "filestream", "_", "unmount", "(", "mp", ")", ";", "<nl>", "xfs", "_", "unmountfs", "(", "mp", ")", ";", "<nl>", "xfs", "_", "fs", "_", "put", "_", "super", "(", "<nl>", "xfs", "_", "destroy", "_", "percpu", "_", "counters", "(", "mp", ")", ";", "<nl>", "xfs", "_", "destroy", "_", "mount", "_", "workqueues", "(", "mp", ")", ";", "<nl>", "xfs", "_", "close", "_", "devices", "(", "mp", ")", ";", "<nl>", "+", "<nl>", "+", "sb", "-", ">", "s", "_", "fs", "_", "info", "=", "NULL", ";", "<nl>", "xfs", "_", "free", "_", "fsname", "(", "mp", ")", ";", "<nl>", "kfree", "(", "mp", ")", ";", "<nl>", "}", "<nl>", "xfs", "_", "fs", "_", "nr", "_", "cached", "_", "objects", "(", "<nl>", "struct", "super", "_", "block", "*", "sb", ",", "<nl>", "struct", "shrink", "_", "control", "*", "sc", ")", "<nl>", "{", "<nl>", "+", "/", "*", "Paranoia", ":", "catch", "incorrect", "calls", "during", "mount", "setup", "or", "teardown", "*", "/", "<nl>", "+", "if", "(", "WARN", "_", "ON", "_", "ONCE", "(", "!", "sb", "-", ">", "s", "_", "fs", "_", "info", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "return", "xfs", "_", "reclaim", "_", "inodes", "_", "count", "(", "XFS", "_", "M", "(", "sb", ")", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["xfs", "clear", "sb", "s_fs_info", "on", "mount", "failure"]}
{"code_tokens": ["nfp", "_", "bpf", "_", "cmsg", "_", "wait", "_", "reply", "(", "struct", "nfp", "_", "app", "_", "bpf", "*", "bpf", ",", "enum", "nfp", "_", "bpf", "_", "cmsg", "_", "type", "type", ",", "<nl>", "int", "tag", ")", "<nl>", "{", "<nl>", "struct", "sk", "_", "buff", "*", "skb", ";", "<nl>", "-", "int", "err", ";", "<nl>", "+", "int", "i", ",", "err", ";", "<nl>", "+", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "50", ";", "i", "+", "+", ")", "{", "<nl>", "+", "udelay", "(", "4", ")", ";", "<nl>", "+", "skb", "=", "nfp", "_", "bpf", "_", "reply", "(", "bpf", ",", "tag", ")", ";", "<nl>", "+", "if", "(", "skb", ")", "<nl>", "+", "return", "skb", ";", "<nl>", "+", "}", "<nl>", "<nl>", "err", "=", "wait", "_", "event", "_", "interruptible", "_", "timeout", "(", "bpf", "-", ">", "cmsg", "_", "wq", ",", "<nl>", "skb", "=", "nfp", "_", "bpf", "_", "reply", "(", "bpf", ",", "tag", ")", ",", "<nl>"], "docstring_tokens": ["nfp", "bpf", "add", "short", "busy", "wait", "for", "FW", "replies"]}
{"code_tokens": ["static", "int", "blkcg", "_", "print", "_", "stat", "(", "struct", "seq", "_", "file", "*", "sf", ",", "void", "*", "v", ")", "<nl>", "struct", "cftype", "blkcg", "_", "files", "[", "]", "=", "{", "<nl>", "{", "<nl>", ".", "name", "=", "\"", "stat", "\"", ",", "<nl>", "+", ".", "flags", "=", "CFTYPE", "_", "NOT", "_", "ON", "_", "ROOT", ",", "<nl>", ".", "seq", "_", "show", "=", "blkcg", "_", "print", "_", "stat", ",", "<nl>", "}", ",", "<nl>", "{", "}", "/", "*", "terminate", "*", "/", "<nl>"], "docstring_tokens": ["blkcg", "don", "t", "create", "io", "stat", "on", "the", "root", "cgroup"]}
{"code_tokens": ["static", "void", "ebt", "_", "ulog", "_", "packet", "(", "struct", "net", "*", "net", ",", "unsigned", "int", "hooknr", ",", "<nl>", "ub", "-", ">", "qlen", "+", "+", ";", "<nl>", "<nl>", "pm", "=", "nlmsg", "_", "data", "(", "nlh", ")", ";", "<nl>", "+", "memset", "(", "pm", ",", "0", ",", "sizeof", "(", "*", "pm", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Fill", "in", "the", "ulog", "data", "*", "/", "<nl>", "pm", "-", ">", "version", "=", "EBT", "_", "ULOG", "_", "VERSION", ";", "<nl>", "static", "void", "ebt", "_", "ulog", "_", "packet", "(", "struct", "net", "*", "net", ",", "unsigned", "int", "hooknr", ",", "<nl>", "pm", "-", ">", "hook", "=", "hooknr", ";", "<nl>", "if", "(", "uloginfo", "-", ">", "prefix", "!", "=", "NULL", ")", "<nl>", "strcpy", "(", "pm", "-", ">", "prefix", ",", "uloginfo", "-", ">", "prefix", ")", ";", "<nl>", "-", "else", "<nl>", "-", "*", "(", "pm", "-", ">", "prefix", ")", "=", "'", "\\", "0", "'", ";", "<nl>", "<nl>", "if", "(", "in", ")", "{", "<nl>", "strcpy", "(", "pm", "-", ">", "physindev", ",", "in", "-", ">", "name", ")", ";", "<nl>", "static", "void", "ebt", "_", "ulog", "_", "packet", "(", "struct", "net", "*", "net", ",", "unsigned", "int", "hooknr", ",", "<nl>", "strcpy", "(", "pm", "-", ">", "indev", ",", "br", "_", "port", "_", "get", "_", "rcu", "(", "in", ")", "-", ">", "br", "-", ">", "dev", "-", ">", "name", ")", ";", "<nl>", "else", "<nl>", "strcpy", "(", "pm", "-", ">", "indev", ",", "in", "-", ">", "name", ")", ";", "<nl>", "-", "}", "else", "<nl>", "-", "pm", "-", ">", "indev", "[", "0", "]", "=", "pm", "-", ">", "physindev", "[", "0", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "out", ")", "{", "<nl>", "/", "*", "If", "out", "exists", ",", "then", "out", "is", "a", "bridge", "port", "*", "/", "<nl>", "strcpy", "(", "pm", "-", ">", "physoutdev", ",", "out", "-", ">", "name", ")", ";", "<nl>", "/", "*", "rcu", "_", "read", "_", "lock", "(", ")", "ed", "by", "nf", "_", "hook", "_", "slow", "*", "/", "<nl>", "strcpy", "(", "pm", "-", ">", "outdev", ",", "br", "_", "port", "_", "get", "_", "rcu", "(", "out", ")", "-", ">", "br", "-", ">", "dev", "-", ">", "name", ")", ";", "<nl>", "-", "}", "else", "<nl>", "-", "pm", "-", ">", "outdev", "[", "0", "]", "=", "pm", "-", ">", "physoutdev", "[", "0", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "skb", "_", "copy", "_", "bits", "(", "skb", ",", "-", "ETH", "_", "HLEN", ",", "pm", "-", ">", "data", ",", "copy", "_", "len", ")", "<", "0", ")", "<nl>", "BUG", "(", ")", ";", "<nl>"], "docstring_tokens": ["netfilter", "ebt_ulog", "fix", "info", "leaks"]}
{"code_tokens": ["static", "int", "_", "_", "build", "_", "sched", "_", "domains", "(", "const", "cpumask", "_", "t", "*", "cpu", "_", "map", ",", "<nl>", "error", ":", "<nl>", "free", "_", "sched", "_", "groups", "(", "cpu", "_", "map", ",", "tmpmask", ")", ";", "<nl>", "SCHED", "_", "CPUMASK", "_", "FREE", "(", "(", "void", "*", ")", "allmasks", ")", ";", "<nl>", "+", "kfree", "(", "rd", ")", ";", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>"], "docstring_tokens": ["sched", "fix", "memory", "leak", "in", "a", "failure", "path"]}
{"code_tokens": ["void", "_", "_", "key", "_", "link", "_", "end", "(", "struct", "key", "*", "keyring", ",", "<nl>", "if", "(", "index", "_", "key", "-", ">", "type", "=", "=", "&", "key", "_", "type", "_", "keyring", ")", "<nl>", "up", "_", "write", "(", "&", "keyring", "_", "serialise", "_", "link", "_", "sem", ")", ";", "<nl>", "<nl>", "-", "if", "(", "edit", "&", "&", "!", "edit", "-", ">", "dead", "_", "leaf", ")", "{", "<nl>", "-", "key", "_", "payload", "_", "reserve", "(", "keyring", ",", "<nl>", "-", "keyring", "-", ">", "datalen", "-", "KEYQUOTA", "_", "LINK", "_", "BYTES", ")", ";", "<nl>", "+", "if", "(", "edit", ")", "{", "<nl>", "+", "if", "(", "!", "edit", "-", ">", "dead", "_", "leaf", ")", "{", "<nl>", "+", "key", "_", "payload", "_", "reserve", "(", "keyring", ",", "<nl>", "+", "keyring", "-", ">", "datalen", "-", "KEYQUOTA", "_", "LINK", "_", "BYTES", ")", ";", "<nl>", "+", "}", "<nl>", "assoc", "_", "array", "_", "cancel", "_", "edit", "(", "edit", ")", ";", "<nl>", "}", "<nl>", "up", "_", "write", "(", "&", "keyring", "-", ">", "sem", ")", ";", "<nl>"], "docstring_tokens": ["KEYS", "ensure", "we", "free", "the", "assoc", "array", "edit", "if", "edit", "is", "valid"]}
{"code_tokens": ["static", "void", "ip", "_", "cmsg", "_", "recv", "_", "checksum", "(", "struct", "msghdr", "*", "msg", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "if", "(", "skb", "-", ">", "ip", "_", "summed", "!", "=", "CHECKSUM", "_", "COMPLETE", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "if", "(", "offset", "!", "=", "0", ")", "<nl>", "-", "csum", "=", "csum", "_", "sub", "(", "csum", ",", "<nl>", "-", "csum", "_", "partial", "(", "skb", "_", "transport", "_", "header", "(", "skb", ")", "+", "tlen", ",", "<nl>", "-", "offset", ",", "0", ")", ")", ";", "<nl>", "+", "if", "(", "offset", "!", "=", "0", ")", "{", "<nl>", "+", "int", "tend", "_", "off", "=", "skb", "_", "transport", "_", "offset", "(", "skb", ")", "+", "tlen", ";", "<nl>", "+", "csum", "=", "csum", "_", "sub", "(", "csum", ",", "skb", "_", "checksum", "(", "skb", ",", "tend", "_", "off", ",", "offset", ",", "0", ")", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "put", "_", "cmsg", "(", "msg", ",", "SOL", "_", "IP", ",", "IP", "_", "CHECKSUM", ",", "sizeof", "(", "_", "_", "wsum", ")", ",", "&", "csum", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ip", "fix", "IP_CHECKSUM", "handling"]}
{"code_tokens": ["void", "_", "_", "init", "pxa26x", "_", "init", "_", "irq", "(", "void", ")", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "+", "void", "_", "_", "init", "pxa25x", "_", "dt", "_", "init", "_", "irq", "(", "void", ")", "<nl>", "+", "{", "<nl>", "+", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "OF", ")", ")", "<nl>", "+", "pxa", "_", "dt", "_", "irq", "_", "init", "(", "pxa25x", "_", "set", "_", "wake", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "struct", "map", "_", "desc", "pxa25x", "_", "io", "_", "desc", "[", "]", "_", "_", "initdata", "=", "{", "<nl>", "{", "/", "*", "Mem", "Ctl", "*", "/", "<nl>", ".", "virtual", "=", "(", "unsigned", "long", ")", "SMEMC", "_", "VIRT", ",", "mmm", "arch", "/", "arm", "/", "mach", "-", "pxa", "/", "generic", ".", "h", "<nl>", "void", "_", "_", "init", "pxa26x", "_", "init", "_", "irq", "(", "void", ")", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "+", "void", "_", "_", "init", "pxa25x", "_", "dt", "_", "init", "_", "irq", "(", "void", ")", "<nl>", "+", "{", "<nl>", "+", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "OF", ")", ")", "<nl>", "+", "pxa", "_", "dt", "_", "irq", "_", "init", "(", "pxa25x", "_", "set", "_", "wake", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "struct", "map", "_", "desc", "pxa25x", "_", "io", "_", "desc", "[", "]", "_", "_", "initdata", "=", "{", "<nl>", "{", "/", "*", "Mem", "Ctl", "*", "/", "<nl>", ".", "virtual", "=", "(", "unsigned", "long", ")", "SMEMC", "_", "VIRT", ",", "<nl>", "extern", "void", "pxa", "_", "timer", "_", "init", "(", "void", ")", ";", "<nl>", "<nl>", "#", "define", "pxa25x", "_", "handle", "_", "irq", "icip", "_", "handle", "_", "irq", "<nl>", "extern", "int", "_", "_", "init", "pxa25x", "_", "clocks", "_", "init", "(", "void", ")", ";", "<nl>", "+", "extern", "void", "_", "_", "init", "pxa25x", "_", "dt", "_", "init", "_", "irq", "(", "void", ")", ";", "<nl>", "extern", "void", "_", "_", "init", "pxa25x", "_", "init", "_", "irq", "(", "void", ")", ";", "<nl>", "extern", "void", "_", "_", "init", "pxa25x", "_", "map", "_", "io", "(", "void", ")", ";", "<nl>", "extern", "void", "_", "_", "init", "pxa26x", "_", "init", "_", "irq", "(", "void", ")", ";", "<nl>"], "docstring_tokens": ["ARM", "pxa", "prepare", "pxa25x", "interrupts", "for", "device", "tree", "platforms"]}
{"code_tokens": ["static", "int", "skge", "_", "down", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "struct", "skge", "_", "hw", "*", "hw", "=", "skge", "-", ">", "hw", ";", "<nl>", "int", "port", "=", "skge", "-", ">", "port", ";", "<nl>", "<nl>", "-", "if", "(", "skge", "-", ">", "mem", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "!", "skge", "-", ">", "mem", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "netif", "_", "info", "(", "skge", ",", "ifdown", ",", "skge", "-", ">", "netdev", ",", "\"", "disabling", "interface", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["skge", "Adjust", "a", "null", "pointer", "check", "in", "skge_down"]}
{"code_tokens": ["static", "bool", "fib6", "_", "rule", "_", "suppress", "(", "struct", "fib", "_", "rule", "*", "rule", ",", "struct", "fib", "_", "lookup", "_", "arg", "*", "arg", "<nl>", "return", "false", ";", "<nl>", "<nl>", "suppress", "_", "route", ":", "<nl>", "-", "ip6", "_", "rt", "_", "put", "(", "rt", ")", ";", "<nl>", "+", "if", "(", "!", "(", "arg", "-", ">", "flags", "&", "FIB", "_", "LOOKUP", "_", "NOREF", ")", ")", "<nl>", "+", "ip6", "_", "rt", "_", "put", "(", "rt", ")", ";", "<nl>", "return", "true", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ipv6", "do", "not", "free", "rt", "if", "FIB_LOOKUP_NOREF", "is", "set", "on", "suppress", "rule"]}
{"code_tokens": ["int", "omap3isp", "_", "csiphy", "_", "acquire", "(", "struct", "isp", "_", "csiphy", "*", "phy", ")", "<nl>", "if", "(", "rval", "<", "0", ")", "<nl>", "goto", "done", ";", "<nl>", "<nl>", "-", "omap3isp", "_", "csi2", "_", "reset", "(", "phy", "-", ">", "csi2", ")", ";", "<nl>", "+", "rval", "=", "omap3isp", "_", "csi2", "_", "reset", "(", "phy", "-", ">", "csi2", ")", ";", "<nl>", "+", "if", "(", "rval", "<", "0", ")", "<nl>", "+", "goto", "done", ";", "<nl>", "<nl>", "csiphy", "_", "dphy", "_", "config", "(", "phy", ")", ";", "<nl>", "csiphy", "_", "lanes", "_", "config", "(", "phy", ")", ";", "<nl>"], "docstring_tokens": ["media", "omap3isp", "Handle", "omap3isp_csi2_reset", "errors"]}
{"code_tokens": ["static", "int", "ds3000", "_", "writeFW", "(", "struct", "ds3000", "_", "state", "*", "state", ",", "int", "reg", ",", "<nl>", "struct", "i2c", "_", "msg", "msg", ";", "<nl>", "u8", "*", "buf", ";", "<nl>", "<nl>", "-", "buf", "=", "kmalloc", "(", "3", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "buf", "=", "kmalloc", "(", "33", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "buf", "=", "=", "NULL", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "Unable", "to", "kmalloc", "\\", "n", "\"", ")", ";", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>", "static", "int", "ds3000", "_", "writeFW", "(", "struct", "ds3000", "_", "state", "*", "state", ",", "int", "reg", ",", "<nl>", "msg", ".", "addr", "=", "state", "-", ">", "config", "-", ">", "demod", "_", "address", ";", "<nl>", "msg", ".", "flags", "=", "0", ";", "<nl>", "msg", ".", "buf", "=", "buf", ";", "<nl>", "-", "msg", ".", "len", "=", "3", ";", "<nl>", "+", "msg", ".", "len", "=", "33", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "len", ";", "i", "+", "=", "2", ")", "{", "<nl>", "-", "memcpy", "(", "buf", "+", "1", ",", "data", "+", "i", ",", "2", ")", ";", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "len", ";", "i", "+", "=", "32", ")", "{", "<nl>", "+", "memcpy", "(", "buf", "+", "1", ",", "data", "+", "i", ",", "32", ")", ";", "<nl>", "<nl>", "dprintk", "(", "\"", "%", "s", ":", "write", "reg", "0x", "%", "02x", ",", "len", "=", "%", "d", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "reg", ",", "len", ")", ";", "<nl>"], "docstring_tokens": ["media", "ds3000", "loading", "firmware", "in", "bigger", "chunks"]}
{"code_tokens": ["static", "int", "i915", "_", "ppgtt", "_", "info", "(", "struct", "seq", "_", "file", "*", "m", ",", "void", "*", "data", ")", "<nl>", "task", "=", "get", "_", "pid", "_", "task", "(", "file", "-", ">", "pid", ",", "PIDTYPE", "_", "PID", ")", ";", "<nl>", "if", "(", "!", "task", ")", "{", "<nl>", "ret", "=", "-", "ESRCH", ";", "<nl>", "-", "goto", "out", "_", "put", ";", "<nl>", "+", "goto", "out", "_", "unlock", ";", "<nl>", "}", "<nl>", "seq", "_", "printf", "(", "m", ",", "\"", "\\", "nproc", ":", "%", "s", "\\", "n", "\"", ",", "task", "-", ">", "comm", ")", ";", "<nl>", "put", "_", "task", "_", "struct", "(", "task", ")", ";", "<nl>", "idr", "_", "for", "_", "each", "(", "&", "file", "_", "priv", "-", ">", "context", "_", "idr", ",", "per", "_", "file", "_", "ctx", ",", "<nl>", "(", "void", "*", ")", "(", "unsigned", "long", ")", "m", ")", ";", "<nl>", "}", "<nl>", "+", "out", "_", "unlock", ":", "<nl>", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "filelist", "_", "mutex", ")", ";", "<nl>", "<nl>", "-", "out", "_", "put", ":", "<nl>", "intel", "_", "runtime", "_", "pm", "_", "put", "(", "dev", "_", "priv", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "struct", "_", "mutex", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "Fix", "missing", "unlock", "on", "error", "in", "i915_ppgtt_info"]}
{"code_tokens": ["static", "struct", "pci", "_", "resource", "*", "get", "_", "max", "_", "resource", "(", "struct", "pci", "_", "resource", "*", "*", "head", ",", "u32", "siz", "<nl>", "temp", "=", "temp", "-", ">", "next", ";", "<nl>", "}", "<nl>", "<nl>", "-", "temp", "-", ">", "next", "=", "max", "-", ">", "next", ";", "<nl>", "+", "if", "(", "temp", ")", "<nl>", "+", "temp", "-", ">", "next", "=", "max", "-", ">", "next", ";", "<nl>", "}", "<nl>", "<nl>", "max", "-", ">", "next", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["PCI", "cpqphp", "Fix", "possible", "null", "pointer", "dereference"]}
{"code_tokens": ["extern", "pgprot", "_", "t", "phys", "_", "mem", "_", "access", "_", "prot", "(", "struct", "file", "*", "file", ",", "unsigned", "long", "pfn", ",", "<nl>", "#", "define", "pmd", "_", "sect", "(", "pmd", ")", "(", "(", "pmd", "_", "val", "(", "pmd", ")", "&", "PMD", "_", "TYPE", "_", "MASK", ")", "=", "=", "\\", "<nl>", "PMD", "_", "TYPE", "_", "SECT", ")", "<nl>", "<nl>", "-", "#", "ifdef", "CONFIG", "_", "ARM64", "_", "64K", "_", "PAGES", "<nl>", "+", "#", "if", "defined", "(", "CONFIG", "_", "ARM64", "_", "64K", "_", "PAGES", ")", "|", "|", "CONFIG", "_", "PGTABLE", "_", "LEVELS", "<", "3", "<nl>", "#", "define", "pud", "_", "sect", "(", "pud", ")", "(", "0", ")", "<nl>", "#", "define", "pud", "_", "table", "(", "pud", ")", "(", "1", ")", "<nl>", "#", "else", "<nl>"], "docstring_tokens": ["arm64", "Fix", "building", "error", "with", "16KB", "pages", "and", "36", "bit", "VA"]}
{"code_tokens": ["static", "int", "treo", "_", "attach", "(", "struct", "usb", "_", "serial", "*", "serial", ")", "<nl>", "(", "serial", "-", ">", "num", "_", "interrupt", "_", "in", "=", "=", "0", ")", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "if", "(", "serial", "-", ">", "num", "_", "bulk", "_", "in", "<", "2", "|", "|", "serial", "-", ">", "num", "_", "interrupt", "_", "in", "<", "2", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "serial", "-", ">", "interface", "-", ">", "dev", ",", "\"", "missing", "endpoints", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "It", "appears", "that", "Treos", "and", "Kyoceras", "want", "to", "use", "the", "<nl>", "*", "1", "st", "bulk", "in", "endpoint", "to", "communicate", "with", "the", "2", "nd", "bulk", "out", "endpoint", ",", "<nl>"], "docstring_tokens": ["USB", "visor", "fix", "null", "deref", "at", "probe"]}
{"code_tokens": ["static", "int", "i915", "_", "display", "_", "info", "(", "struct", "seq", "_", "file", "*", "m", ",", "void", "*", "unused", ")", "<nl>", "x", ",", "y", ",", "crtc", "-", ">", "cursor", "_", "addr", ",", "<nl>", "yesno", "(", "active", ")", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "seq", "_", "printf", "(", "m", ",", "\"", "\\", "tunderrun", "reporting", ":", "cpu", "=", "%", "s", "pch", "=", "%", "s", "\\", "n", "\"", ",", "<nl>", "+", "yesno", "(", "!", "crtc", "-", ">", "cpu", "_", "fifo", "_", "underrun", "_", "disabled", ")", ",", "<nl>", "+", "yesno", "(", "!", "crtc", "-", ">", "pch", "_", "fifo", "_", "underrun", "_", "disabled", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "seq", "_", "printf", "(", "m", ",", "\"", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "Add", "fifo", "underrun", "reporting", "state", "to", "debugfs"]}
{"code_tokens": ["static", "bool", "ldm", "_", "frag", "_", "add", "(", "const", "u8", "*", "data", ",", "int", "size", ",", "struct", "list", "_", "head", "*", "frags", ")", "<nl>", "<nl>", "list", "_", "add", "_", "tail", "(", "&", "f", "-", ">", "list", ",", "frags", ")", ";", "<nl>", "found", ":", "<nl>", "+", "if", "(", "rec", ">", "=", "f", "-", ">", "num", ")", "{", "<nl>", "+", "ldm", "_", "error", "(", "\"", "REC", "value", "(", "%", "d", ")", "exceeds", "NUM", "value", "(", "%", "d", ")", "\"", ",", "rec", ",", "f", "-", ">", "num", ")", ";", "<nl>", "+", "return", "false", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "f", "-", ">", "map", "&", "(", "1", "<", "<", "rec", ")", ")", "{", "<nl>", "ldm", "_", "error", "(", "\"", "Duplicate", "VBLK", ",", "part", "%", "d", ".", "\"", ",", "rec", ")", ";", "<nl>", "f", "-", ">", "map", "&", "=", "0x7F", ";", "/", "*", "Mark", "the", "group", "as", "broken", "*", "/", "<nl>"], "docstring_tokens": ["Fix", "for", "buffer", "overflow", "in", "ldm_frag_add", "not", "sufficient"]}
{"code_tokens": ["int", "pem", "_", "task", "_", "create", "_", "user", "_", "performance", "_", "state", "(", "struct", "pp", "_", "eventmgr", "*", "eventmgr", ",", "struct", "<nl>", "int", "pem", "_", "task", "_", "initialize", "_", "thermal", "_", "controller", "(", "struct", "pp", "_", "eventmgr", "*", "eventmgr", ",", "struct", "pem", "_", "event", "_", "data", "*", "event", "_", "data", ")", "<nl>", "{", "<nl>", "struct", "PP", "_", "TemperatureRange", "range", ";", "<nl>", "+", "<nl>", "range", ".", "max", "=", "TEMP", "_", "RANGE", "_", "MAX", ";", "<nl>", "range", ".", "min", "=", "TEMP", "_", "RANGE", "_", "MIN", ";", "<nl>", "<nl>", "-", "return", "phm", "_", "start", "_", "thermal", "_", "controller", "(", "eventmgr", "-", ">", "hwmgr", ",", "&", "range", ")", ";", "<nl>", "+", "if", "(", "eventmgr", "=", "=", "NULL", "|", "|", "eventmgr", "-", ">", "platform", "_", "descriptor", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "+", "if", "(", "phm", "_", "cap", "_", "enabled", "(", "eventmgr", "-", ">", "platform", "_", "descriptor", "-", ">", "platformCaps", ",", "PHM", "_", "PlatformCaps", "_", "ThermalController", ")", ")", "<nl>", "+", "return", "phm", "_", "start", "_", "thermal", "_", "controller", "(", "eventmgr", "-", ">", "hwmgr", ",", "&", "range", ")", ";", "<nl>", "+", "<nl>", "+", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "int", "pem", "_", "task", "_", "uninitialize", "_", "thermal", "_", "controller", "(", "struct", "pp", "_", "eventmgr", "*", "eventmgr", ",", "struct", "pem", "_", "event", "_", "data", "*", "event", "_", "data", ")", "<nl>"], "docstring_tokens": ["drm", "amd", "powerplay", "check", "whether", "need", "to", "enable", "thermal", "control", "v2"]}
{"code_tokens": ["static", "void", "igb", "_", "reset", "_", "q", "_", "vector", "(", "struct", "igb", "_", "adapter", "*", "adapter", ",", "int", "v", "_", "idx", ")", "<nl>", "{", "<nl>", "struct", "igb", "_", "q", "_", "vector", "*", "q", "_", "vector", "=", "adapter", "-", ">", "q", "_", "vector", "[", "v", "_", "idx", "]", ";", "<nl>", "<nl>", "+", "/", "*", "Coming", "from", "igb", "_", "set", "_", "interrupt", "_", "capability", ",", "the", "vectors", "are", "not", "yet", "<nl>", "+", "*", "allocated", ".", "So", ",", "q", "_", "vector", "is", "NULL", "so", "we", "should", "stop", "here", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "q", "_", "vector", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "if", "(", "q", "_", "vector", "-", ">", "tx", ".", "ring", ")", "<nl>", "adapter", "-", ">", "tx", "_", "ring", "[", "q", "_", "vector", "-", ">", "tx", ".", "ring", "-", ">", "queue", "_", "index", "]", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["igb", "Fix", "Null", "pointer", "dereference", "in", "igb_reset_q_vector"]}
{"code_tokens": ["static", "int", "xgene", "_", "hwmon", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "struct", "xgene", "_", "hwmon", "_", "dev", "*", "ctx", "=", "platform", "_", "get", "_", "drvdata", "(", "pdev", ")", ";", "<nl>", "<nl>", "+", "cancel", "_", "work", "_", "sync", "(", "&", "ctx", "-", ">", "workq", ")", ";", "<nl>", "hwmon", "_", "device", "_", "unregister", "(", "ctx", "-", ">", "hwmon", "_", "dev", ")", ";", "<nl>", "kfifo", "_", "free", "(", "&", "ctx", "-", ">", "async", "_", "msg", "_", "fifo", ")", ";", "<nl>", "if", "(", "acpi", "_", "disabled", ")", "<nl>"], "docstring_tokens": ["hwmon", "xgene", "Fix", "use", "after", "free", "bug", "in", "xgene_hwmon_remove", "due", "to", "race", "condition"]}
{"code_tokens": ["ctnetlink", "_", "create", "_", "conntrack", "(", "struct", "nlattr", "*", "cda", "[", "]", ",", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "helper", "=", "_", "_", "nf", "_", "ct", "_", "helper", "_", "find", "(", "rtuple", ")", ";", "<nl>", "if", "(", "helper", ")", "{", "<nl>", "-", "help", "=", "nf", "_", "ct", "_", "helper", "_", "ext", "_", "add", "(", "ct", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "help", "=", "nf", "_", "ct", "_", "helper", "_", "ext", "_", "add", "(", "ct", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "if", "(", "help", "=", "=", "NULL", ")", "{", "<nl>", "rcu", "_", "read", "_", "unlock", "(", ")", ";", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["netfilter", "ctnetlink", "fix", "sleep", "in", "read", "side", "lock", "section"]}
{"code_tokens": ["static", "int", "storvsc", "_", "queuecommand", "(", "struct", "Scsi", "_", "Host", "*", "host", ",", "struct", "scsi", "_", "cmnd", "*", "scmnd", ")", "<nl>", "vm", "_", "srb", "-", ">", "data", "_", "in", "=", "READ", "_", "TYPE", ";", "<nl>", "vm", "_", "srb", "-", ">", "win8", "_", "extension", ".", "srb", "_", "flags", "|", "=", "SRB", "_", "FLAGS", "_", "DATA", "_", "IN", ";", "<nl>", "break", ";", "<nl>", "-", "default", ":", "<nl>", "+", "case", "DMA", "_", "NONE", ":", "<nl>", "vm", "_", "srb", "-", ">", "data", "_", "in", "=", "UNKNOWN", "_", "TYPE", ";", "<nl>", "vm", "_", "srb", "-", ">", "win8", "_", "extension", ".", "srb", "_", "flags", "|", "=", "SRB", "_", "FLAGS", "_", "NO", "_", "DATA", "_", "TRANSFER", ";", "<nl>", "break", ";", "<nl>", "+", "default", ":", "<nl>", "+", "/", "*", "<nl>", "+", "*", "This", "is", "DMA", "_", "BIDIRECTIONAL", "or", "something", "else", "we", "are", "never", "<nl>", "+", "*", "supposed", "to", "see", "here", ".", "<nl>", "+", "*", "/", "<nl>", "+", "WARN", "(", "1", ",", "\"", "Unexpected", "data", "direction", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "+", "scmnd", "-", ">", "sc", "_", "data", "_", "direction", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["storvsc", "be", "more", "picky", "about", "scmnd", "sc_data_direction"]}
{"code_tokens": ["static", "const", "struct", "usb", "_", "device", "_", "id", "blacklist", "_", "table", "[", "]", "=", "{", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x16d3", ",", "0x0002", ")", ",", "<nl>", ".", "driver", "_", "info", "=", "BTUSB", "_", "SNIFFER", "|", "BTUSB", "_", "BROKEN", "_", "ISOC", "}", ",", "<nl>", "<nl>", "+", "/", "*", "Marvell", "Bluetooth", "devices", "*", "/", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "0x1286", ",", "0x2044", ")", ",", ".", "driver", "_", "info", "=", "BTUSB", "_", "MARVELL", "}", ",", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "0x1286", ",", "0x2046", ")", ",", ".", "driver", "_", "info", "=", "BTUSB", "_", "MARVELL", "}", ",", "<nl>", "+", "<nl>", "/", "*", "Intel", "Bluetooth", "device", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x8087", ",", "0x07dc", ")", ",", ".", "driver", "_", "info", "=", "BTUSB", "_", "INTEL", "}", ",", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x8087", ",", "0x0a2a", ")", ",", ".", "driver", "_", "info", "=", "BTUSB", "_", "INTEL", "}", ",", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x8087", ",", "0x0a2b", ")", ",", ".", "driver", "_", "info", "=", "BTUSB", "_", "INTEL", "_", "NEW", "}", ",", "<nl>", "<nl>", "-", "/", "*", "Marvell", "device", "*", "/", "<nl>", "-", "{", "USB", "_", "DEVICE", "(", "0x1286", ",", "0x2044", ")", ",", ".", "driver", "_", "info", "=", "BTUSB", "_", "MARVELL", "}", ",", "<nl>", "-", "{", "USB", "_", "DEVICE", "(", "0x1286", ",", "0x2046", ")", ",", ".", "driver", "_", "info", "=", "BTUSB", "_", "MARVELL", "}", ",", "<nl>", "<nl>", "{", "}", "/", "*", "Terminating", "entry", "*", "/", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "btusb", "Sort", "USB_DEVICE", "entries", "for", "Marvell", "by", "vendor", "id"]}
{"code_tokens": ["static", "int", "mac", "_", "probe", "(", "struct", "platform", "_", "device", "*", "_", "of", "_", "dev", ")", "<nl>", "priv", "-", ">", "fixed", "_", "link", "-", ">", "duplex", "=", "phy", "-", ">", "duplex", ";", "<nl>", "priv", "-", ">", "fixed", "_", "link", "-", ">", "pause", "=", "phy", "-", ">", "pause", ";", "<nl>", "priv", "-", ">", "fixed", "_", "link", "-", ">", "asym", "_", "pause", "=", "phy", "-", ">", "asym", "_", "pause", ";", "<nl>", "+", "<nl>", "+", "put", "_", "device", "(", "&", "phy", "-", ">", "mdio", ".", "dev", ")", ";", "<nl>", "}", "<nl>", "<nl>", "err", "=", "mac", "_", "dev", "-", ">", "init", "(", "mac", "_", "dev", ")", ";", "<nl>"], "docstring_tokens": ["net", "fsl", "fman", "fix", "fixed", "link", "phydev", "reference", "leak"]}
{"code_tokens": ["static", "struct", "ucma", "_", "multicast", "*", "ucma", "_", "alloc", "_", "multicast", "(", "struct", "ucma", "_", "context", "*", "ctx", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "mut", ")", ";", "<nl>", "-", "mc", "-", ">", "id", "=", "idr", "_", "alloc", "(", "&", "multicast", "_", "idr", ",", "mc", ",", "0", ",", "0", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "mc", "-", ">", "id", "=", "idr", "_", "alloc", "(", "&", "multicast", "_", "idr", ",", "NULL", ",", "0", ",", "0", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "mut", ")", ";", "<nl>", "if", "(", "mc", "-", ">", "id", "<", "0", ")", "<nl>", "goto", "error", ";", "<nl>", "static", "ssize", "_", "t", "ucma", "_", "process", "_", "join", "(", "struct", "ucma", "_", "file", "*", "file", ",", "<nl>", "goto", "err3", ";", "<nl>", "}", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "mut", ")", ";", "<nl>", "+", "idr", "_", "replace", "(", "&", "multicast", "_", "idr", ",", "mc", ",", "mc", "-", ">", "id", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "mut", ")", ";", "<nl>", "+", "<nl>", "mutex", "_", "unlock", "(", "&", "file", "-", ">", "mut", ")", ";", "<nl>", "ucma", "_", "put", "_", "ctx", "(", "ctx", ")", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["infiniband", "fix", "a", "possible", "use", "after", "free", "bug"]}
{"code_tokens": ["static", "int", "dvb", "_", "ca", "_", "ioctl", "(", "struct", "file", "*", "file", ",", "unsigned", "int", "cmd", ",", "void", "*", "parg", ")", "<nl>", "{", "<nl>", "ca", "_", "slot", "_", "info", "_", "t", "*", "info", "=", "(", "ca", "_", "slot", "_", "info", "_", "t", "*", ")", "parg", ";", "<nl>", "<nl>", "-", "if", "(", "info", "-", ">", "num", ">", "1", ")", "<nl>", "+", "if", "(", "info", "-", ">", "num", "<", "0", "|", "|", "info", "-", ">", "num", ">", "1", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "av7110", "-", ">", "ci", "_", "slot", "[", "info", "-", ">", "num", "]", ".", "num", "=", "info", "-", ">", "num", ";", "<nl>", "av7110", "-", ">", "ci", "_", "slot", "[", "info", "-", ">", "num", "]", ".", "type", "=", "FW", "_", "CI", "_", "LL", "_", "SUPPORT", "(", "av7110", "-", ">", "arm", "_", "app", ")", "?", "<nl>"], "docstring_tokens": ["media", "v3", "media", "av7110", "check", "for", "negative", "array", "offset"]}
{"code_tokens": ["static", "int", "clie", "_", "5", "_", "attach", "(", "struct", "usb", "_", "serial", "*", "serial", ")", "<nl>", "*", "/", "<nl>", "<nl>", "/", "*", "some", "sanity", "check", "*", "/", "<nl>", "-", "if", "(", "serial", "-", ">", "num", "_", "ports", "<", "2", ")", "<nl>", "-", "return", "-", "1", ";", "<nl>", "+", "if", "(", "serial", "-", ">", "num", "_", "bulk", "_", "out", "<", "2", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "serial", "-", ">", "interface", "-", ">", "dev", ",", "\"", "missing", "bulk", "out", "endpoints", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "port", "0", "now", "uses", "the", "modified", "endpoint", "Address", "*", "/", "<nl>", "port", "=", "serial", "-", ">", "port", "[", "0", "]", ";", "<nl>"], "docstring_tokens": ["USB", "serial", "visor", "fix", "crash", "on", "detecting", "device", "without", "write_urbs"]}
{"code_tokens": ["static", "void", "cpufreq", "_", "policy", "_", "free", "(", "struct", "cpufreq", "_", "policy", "*", "policy", ")", "<nl>", "<nl>", "static", "void", "update", "_", "policy", "_", "cpu", "(", "struct", "cpufreq", "_", "policy", "*", "policy", ",", "unsigned", "int", "cpu", ")", "<nl>", "{", "<nl>", "+", "if", "(", "cpu", "=", "=", "policy", "-", ">", "cpu", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "policy", "-", ">", "last", "_", "cpu", "=", "policy", "-", ">", "cpu", ";", "<nl>", "policy", "-", ">", "cpu", "=", "cpu", ";", "<nl>"], "docstring_tokens": ["cpufreq", "Prevent", "problems", "in", "update_policy_cpu", "if", "last_cpu", "new_cpu"]}
{"code_tokens": ["static", "int", "kenvctrld", "(", "void", "*", "_", "_", "unused", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "}", "<nl>", "<nl>", "-", "poll", "_", "interval", "=", "5", "*", "HZ", ";", "/", "*", "TODO", "env", "_", "mon", "_", "interval", "*", "/", "<nl>", "+", "poll", "_", "interval", "=", "5000", ";", "/", "*", "TODO", "env", "_", "mon", "_", "interval", "*", "/", "<nl>", "<nl>", "daemonize", "(", "\"", "kenvctrld", "\"", ")", ";", "<nl>", "allow", "_", "signal", "(", "SIGKILL", ")", ";", "<nl>", "static", "int", "kenvctrld", "(", "void", "*", "_", "_", "unused", ")", "<nl>", "<nl>", "printk", "(", "KERN", "_", "INFO", "\"", "envctrl", ":", "%", "s", "starting", ".", ".", ".", "\\", "n", "\"", ",", "current", "-", ">", "comm", ")", ";", "<nl>", "for", "(", ";", ";", ")", "{", "<nl>", "-", "current", "-", ">", "state", "=", "TASK", "_", "INTERRUPTIBLE", ";", "<nl>", "-", "schedule", "_", "timeout", "(", "poll", "_", "interval", ")", ";", "<nl>", "-", "<nl>", "-", "if", "(", "signal", "_", "pending", "(", "current", ")", ")", "<nl>", "+", "if", "(", "msleep", "_", "interruptible", "(", "poll", "_", "interval", ")", ")", "<nl>", "break", ";", "<nl>", "<nl>", "for", "(", "whichcpu", "=", "0", ";", "whichcpu", "<", "ENVCTRL", "_", "MAX", "_", "CPU", ";", "+", "+", "whichcpu", ")", "{", "<nl>"], "docstring_tokens": ["SPARC", "sbus", "envctrl", "replace", "schedule_timeout", "with", "msleep_interruptible"]}
{"code_tokens": ["static", "struct", "map", "*", "kernel", "_", "get", "_", "module", "_", "map", "(", "const", "char", "*", "module", ")", "<nl>", "module", "=", "\"", "kernel", "\"", ";", "<nl>", "<nl>", "for", "(", "pos", "=", "maps", "_", "_", "first", "(", "maps", ")", ";", "pos", ";", "pos", "=", "map", "_", "_", "next", "(", "pos", ")", ")", "{", "<nl>", "+", "/", "*", "short", "_", "name", "is", "\"", "[", "module", "]", "\"", "*", "/", "<nl>", "if", "(", "strncmp", "(", "pos", "-", ">", "dso", "-", ">", "short", "_", "name", "+", "1", ",", "module", ",", "<nl>", "-", "pos", "-", ">", "dso", "-", ">", "short", "_", "name", "_", "len", "-", "2", ")", "=", "=", "0", ")", "{", "<nl>", "+", "pos", "-", ">", "dso", "-", ">", "short", "_", "name", "_", "len", "-", "2", ")", "=", "=", "0", "&", "&", "<nl>", "+", "module", "[", "pos", "-", ">", "dso", "-", ">", "short", "_", "name", "_", "len", "-", "2", "]", "=", "=", "'", "\\", "0", "'", ")", "{", "<nl>", "return", "pos", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["perf", "probe", "Fix", "module", "name", "matching"]}
{"code_tokens": ["static", "int", "s5c73m3", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "state", "-", ">", "oif", "_", "pads", "[", "OIF", "_", "ISP", "_", "PAD", "]", ".", "flags", "=", "MEDIA", "_", "PAD", "_", "FL", "_", "SINK", ";", "<nl>", "state", "-", ">", "oif", "_", "pads", "[", "OIF", "_", "JPEG", "_", "PAD", "]", ".", "flags", "=", "MEDIA", "_", "PAD", "_", "FL", "_", "SINK", ";", "<nl>", "state", "-", ">", "oif", "_", "pads", "[", "OIF", "_", "SOURCE", "_", "PAD", "]", ".", "flags", "=", "MEDIA", "_", "PAD", "_", "FL", "_", "SOURCE", ";", "<nl>", "-", "oif", "_", "sd", "-", ">", "entity", ".", "function", "=", "MEDIA", "_", "ENT", "_", "F", "_", "V4L2", "_", "SUBDEV", "_", "UNKNOWN", ";", "<nl>", "+", "oif", "_", "sd", "-", ">", "entity", ".", "function", "=", "MEDIA", "_", "ENT", "_", "F", "_", "PROC", "_", "VIDEO", "_", "SCALER", ";", "<nl>", "<nl>", "ret", "=", "media", "_", "entity", "_", "pads", "_", "init", "(", "&", "oif", "_", "sd", "-", ">", "entity", ",", "OIF", "_", "NUM", "_", "PADS", ",", "<nl>", "state", "-", ">", "oif", "_", "pads", ")", ";", "<nl>"], "docstring_tokens": ["media", "s5c73m3", "Fix", "entity", "function", "assignment", "for", "the", "OIF", "subdev"]}
{"code_tokens": ["#", "include", "<", "asm", "/", "atariints", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "atari", "_", "stdma", ".", "h", ">", "<nl>", "<nl>", "+", "#", "define", "DRV", "_", "NAME", "\"", "falconide", "\"", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Base", "of", "the", "IDE", "interface", "<nl>", "static", "int", "_", "_", "init", "falconide", "_", "init", "(", "void", ")", "<nl>", "<nl>", "printk", "(", "KERN", "_", "INFO", "\"", "ide", ":", "Falcon", "IDE", "controller", "\\", "n", "\"", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "request", "_", "mem", "_", "region", "(", "ATA", "_", "HD", "_", "BASE", ",", "0x40", ",", "DRV", "_", "NAME", ")", ")", "{", "<nl>", "+", "printk", "(", "KERN", "_", "ERR", "\"", "%", "s", ":", "resources", "busy", "\\", "n", "\"", ",", "DRV", "_", "NAME", ")", ";", "<nl>", "+", "return", "-", "EBUSY", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "falconide", "_", "setup", "_", "ports", "(", "&", "hw", ")", ";", "<nl>", "<nl>", "hwif", "=", "ide", "_", "find", "_", "port", "(", ")", ";", "<nl>", "static", "int", "_", "_", "init", "falconide", "_", "init", "(", "void", ")", "<nl>", "<nl>", "ide", "_", "init", "_", "port", "_", "data", "(", "hwif", ",", "index", ")", ";", "<nl>", "ide", "_", "init", "_", "port", "_", "hw", "(", "hwif", ",", "&", "hw", ")", ";", "<nl>", "+", "hwif", "-", ">", "mmio", "=", "1", ";", "<nl>", "<nl>", "ide", "_", "get", "_", "lock", "(", "NULL", ",", "NULL", ")", ";", "<nl>", "ide", "_", "device", "_", "add", "(", "idx", ",", "NULL", ")", ";", "<nl>"], "docstring_tokens": ["falconide", "fix", "resources", "reservation", "take", "2"]}
{"code_tokens": ["static", "struct", "timespec", "timekeeping", "_", "suspend", "_", "time", ";", "<nl>", "*", "/", "<nl>", "static", "void", "_", "_", "timekeeping", "_", "inject", "_", "sleeptime", "(", "struct", "timespec", "*", "delta", ")", "<nl>", "{", "<nl>", "+", "if", "(", "!", "timespec", "_", "valid", "(", "delta", ")", ")", "{", "<nl>", "+", "printk", "(", "KERN", "_", "WARN", "\"", "_", "_", "timekeeping", "_", "inject", "_", "sleeptime", ":", "Invalid", "\"", "<nl>", "+", "\"", "sleep", "delta", "value", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "xtime", "=", "timespec", "_", "add", "(", "xtime", ",", "*", "delta", ")", ";", "<nl>", "wall", "_", "to", "_", "monotonic", "=", "timespec", "_", "sub", "(", "wall", "_", "to", "_", "monotonic", ",", "*", "delta", ")", ";", "<nl>", "total", "_", "sleep", "_", "time", "=", "timespec", "_", "add", "(", "total", "_", "sleep", "_", "time", ",", "*", "delta", ")", ";", "<nl>"], "docstring_tokens": ["time", "Catch", "invalid", "timespec", "sleep", "values", "in", "__timekeeping_inject_sleeptime"]}
{"code_tokens": ["static", "int", "ieee80211", "_", "cfg", "_", "get", "_", "channel", "(", "struct", "wiphy", "*", "wiphy", ",", "<nl>", "struct", "cfg80211", "_", "chan", "_", "def", "*", "chandef", ")", "<nl>", "{", "<nl>", "struct", "ieee80211", "_", "sub", "_", "if", "_", "data", "*", "sdata", "=", "IEEE80211", "_", "WDEV", "_", "TO", "_", "SUB", "_", "IF", "(", "wdev", ")", ";", "<nl>", "+", "struct", "ieee80211", "_", "local", "*", "local", "=", "wiphy", "_", "priv", "(", "wiphy", ")", ";", "<nl>", "struct", "ieee80211", "_", "chanctx", "_", "conf", "*", "chanctx", "_", "conf", ";", "<nl>", "int", "ret", "=", "-", "ENODATA", ";", "<nl>", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "-", "chanctx", "_", "conf", "=", "rcu", "_", "dereference", "(", "sdata", "-", ">", "vif", ".", "chanctx", "_", "conf", ")", ";", "<nl>", "-", "if", "(", "chanctx", "_", "conf", ")", "{", "<nl>", "-", "*", "chandef", "=", "chanctx", "_", "conf", "-", ">", "def", ";", "<nl>", "+", "if", "(", "local", "-", ">", "use", "_", "chanctx", ")", "{", "<nl>", "+", "chanctx", "_", "conf", "=", "rcu", "_", "dereference", "(", "sdata", "-", ">", "vif", ".", "chanctx", "_", "conf", ")", ";", "<nl>", "+", "if", "(", "chanctx", "_", "conf", ")", "{", "<nl>", "+", "*", "chandef", "=", "chanctx", "_", "conf", "-", ">", "def", ";", "<nl>", "+", "ret", "=", "0", ";", "<nl>", "+", "}", "<nl>", "+", "}", "else", "if", "(", "local", "-", ">", "open", "_", "count", "=", "=", "local", "-", ">", "monitors", ")", "{", "<nl>", "+", "*", "chandef", "=", "local", "-", ">", "monitor", "_", "chandef", ";", "<nl>", "ret", "=", "0", ";", "<nl>", "}", "<nl>", "rcu", "_", "read", "_", "unlock", "(", ")", ";", "<nl>"], "docstring_tokens": ["mac80211", "fix", "monitor", "mode", "channel", "reporting"]}
{"code_tokens": ["static", "void", "rds", "_", "tcp", "_", "kill", "_", "sock", "(", "struct", "net", "*", "net", ")", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "_", "safe", "(", "tc", ",", "_", "tc", ",", "&", "rds", "_", "tcp", "_", "conn", "_", "list", ",", "t", "_", "tcp", "_", "node", ")", "{", "<nl>", "struct", "net", "*", "c", "_", "net", "=", "read", "_", "pnet", "(", "&", "tc", "-", ">", "t", "_", "cpath", "-", ">", "cp", "_", "conn", "-", ">", "c", "_", "net", ")", ";", "<nl>", "<nl>", "-", "if", "(", "net", "!", "=", "c", "_", "net", "|", "|", "!", "tc", "-", ">", "t", "_", "sock", ")", "<nl>", "+", "if", "(", "net", "!", "=", "c", "_", "net", ")", "<nl>", "continue", ";", "<nl>", "if", "(", "!", "list", "_", "has", "_", "conn", "(", "&", "tmp", "_", "list", ",", "tc", "-", ">", "t", "_", "cpath", "-", ">", "cp", "_", "conn", ")", ")", "{", "<nl>", "list", "_", "move", "_", "tail", "(", "&", "tc", "-", ">", "t", "_", "tcp", "_", "node", ",", "&", "tmp", "_", "list", ")", ";", "<nl>"], "docstring_tokens": ["net", "rds", "force", "to", "destroy", "connection", "if", "t_sock", "is", "NULL", "in", "rds_tcp_kill_sock"]}
{"code_tokens": ["s32", "ixgbe", "_", "dcb", "_", "config", "_", "pfc", "_", "82599", "(", "struct", "ixgbe", "_", "hw", "*", "hw", ",", "u8", "pfc", "_", "en", ",", "u8", "*", "prio", "_", "tc", ")", "<nl>", "reg", "|", "=", "IXGBE", "_", "MFLCN", "_", "DPF", ";", "<nl>", "<nl>", "/", "*", "<nl>", "-", "*", "X540", "supports", "per", "TC", "Rx", "priority", "flow", "control", ".", "So", "<nl>", "-", "*", "clear", "all", "TCs", "and", "only", "enable", "those", "that", "should", "be", "<nl>", "+", "*", "X540", "&", "X550", "supports", "per", "TC", "Rx", "priority", "flow", "control", ".", "<nl>", "+", "*", "So", "clear", "all", "TCs", "and", "only", "enable", "those", "that", "should", "be", "<nl>", "*", "enabled", ".", "<nl>", "*", "/", "<nl>", "reg", "&", "=", "~", "(", "IXGBE", "_", "MFLCN", "_", "RPFCE", "_", "MASK", "|", "IXGBE", "_", "MFLCN", "_", "RFCE", ")", ";", "<nl>", "<nl>", "-", "if", "(", "hw", "-", ">", "mac", ".", "type", "=", "=", "ixgbe", "_", "mac", "_", "X540", ")", "<nl>", "+", "if", "(", "hw", "-", ">", "mac", ".", "type", ">", "=", "ixgbe", "_", "mac", "_", "X540", ")", "<nl>", "reg", "|", "=", "pfc", "_", "en", "<", "<", "IXGBE", "_", "MFLCN", "_", "RPFCE", "_", "SHIFT", ";", "<nl>", "<nl>", "if", "(", "pfc", "_", "en", ")", "<nl>"], "docstring_tokens": ["ixgbe", "fix", "broken", "PFC", "with", "X550"]}
{"code_tokens": ["static", "void", "escb", "_", "tasklet", "_", "complete", "(", "struct", "asd", "_", "ascb", "*", "ascb", ",", "<nl>", "tc", "_", "abort", "=", "le16", "_", "to", "_", "cpu", "(", "tc", "_", "abort", ")", ";", "<nl>", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "_", "safe", "(", "a", ",", "b", ",", "&", "asd", "_", "ha", "-", ">", "seq", ".", "pend", "_", "q", ",", "list", ")", "{", "<nl>", "-", "struct", "sas", "_", "task", "*", "task", "=", "ascb", "-", ">", "uldd", "_", "task", ";", "<nl>", "+", "struct", "sas", "_", "task", "*", "task", "=", "a", "-", ">", "uldd", "_", "task", ";", "<nl>", "+", "<nl>", "+", "if", "(", "a", "-", ">", "tc", "_", "index", "!", "=", "tc", "_", "abort", ")", "<nl>", "+", "continue", ";", "<nl>", "<nl>", "-", "if", "(", "task", "&", "&", "a", "-", ">", "tc", "_", "index", "=", "=", "tc", "_", "abort", ")", "{", "<nl>", "+", "if", "(", "task", ")", "{", "<nl>", "failed", "_", "dev", "=", "task", "-", ">", "dev", ";", "<nl>", "sas", "_", "task", "_", "abort", "(", "task", ")", ";", "<nl>", "-", "break", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "ASD", "_", "DPRINTK", "(", "\"", "R", "_", "T", "_", "A", "for", "non", "TASK", "scb", "0x", "%", "x", "\\", "n", "\"", ",", "<nl>", "+", "a", "-", ">", "scb", "-", ">", "header", ".", "opcode", ")", ";", "<nl>", "}", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "!", "failed", "_", "dev", ")", "{", "<nl>", "static", "void", "escb", "_", "tasklet", "_", "complete", "(", "struct", "asd", "_", "ascb", "*", "ascb", ",", "<nl>", "*", "that", "the", "EH", "will", "wake", "up", "and", "do", "something", ".", "<nl>", "*", "/", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "_", "safe", "(", "a", ",", "b", ",", "&", "asd", "_", "ha", "-", ">", "seq", ".", "pend", "_", "q", ",", "list", ")", "{", "<nl>", "-", "struct", "sas", "_", "task", "*", "task", "=", "ascb", "-", ">", "uldd", "_", "task", ";", "<nl>", "+", "struct", "sas", "_", "task", "*", "task", "=", "a", "-", ">", "uldd", "_", "task", ";", "<nl>", "<nl>", "if", "(", "task", "&", "&", "<nl>", "task", "-", ">", "dev", "=", "=", "failed", "_", "dev", "&", "&", "<nl>"], "docstring_tokens": ["SCSI", "aic94xx", "fix", "REQ_TASK_ABORT", "and", "REQ_DEVICE_RESET"]}
{"code_tokens": ["void", "spuctx", "_", "switch", "_", "state", "(", "struct", "spu", "_", "context", "*", "ctx", ",", "<nl>", "node", "=", "spu", "-", ">", "node", ";", "<nl>", "if", "(", "old", "_", "state", "=", "=", "SPU", "_", "UTIL", "_", "USER", ")", "<nl>", "atomic", "_", "dec", "(", "&", "cbe", "_", "spu", "_", "info", "[", "node", "]", ".", "busy", "_", "spus", ")", ";", "<nl>", "-", "if", "(", "new", "_", "state", "=", "=", "SPU", "_", "UTIL", "_", "USER", ")", ";", "<nl>", "+", "if", "(", "new", "_", "state", "=", "=", "SPU", "_", "UTIL", "_", "USER", ")", "<nl>", "atomic", "_", "inc", "(", "&", "cbe", "_", "spu", "_", "info", "[", "node", "]", ".", "busy", "_", "spus", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["powerpc", "spufs", "Remove", "invalid", "semicolon", "after", "if", "statement"]}
{"code_tokens": ["static", "void", "_", "_", "init", "_", "discard", "_", "policy", "(", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "dpolicy", "-", ">", "min", "_", "interval", "=", "DEF", "_", "MIN", "_", "DISCARD", "_", "ISSUE", "_", "TIME", ";", "<nl>", "dpolicy", "-", ">", "max", "_", "interval", "=", "DEF", "_", "MAX", "_", "DISCARD", "_", "ISSUE", "_", "TIME", ";", "<nl>", "dpolicy", "-", ">", "io", "_", "aware", "=", "true", ";", "<nl>", "+", "dpolicy", "-", ">", "sync", "=", "false", ";", "<nl>", "if", "(", "utilization", "(", "sbi", ")", ">", "DEF", "_", "DISCARD", "_", "URGENT", "_", "UTIL", ")", "{", "<nl>", "dpolicy", "-", ">", "granularity", "=", "1", ";", "<nl>", "dpolicy", "-", ">", "max", "_", "interval", "=", "DEF", "_", "MIN", "_", "DISCARD", "_", "ISSUE", "_", "TIME", ";", "<nl>"], "docstring_tokens": ["f2fs", "turn", "down", "IO", "priority", "of", "discard", "from", "background"]}
{"code_tokens": ["static", "int", "do", "_", "proc", "_", "dointvec", "_", "jiffies", "_", "conv", "(", "int", "*", "negp", ",", "unsigned", "long", "*", "lvalp", ",", "<nl>", "int", "write", ",", "void", "*", "data", ")", "<nl>", "{", "<nl>", "if", "(", "write", ")", "{", "<nl>", "+", "if", "(", "*", "lvalp", ">", "LONG", "_", "MAX", "/", "HZ", ")", "<nl>", "+", "return", "1", ";", "<nl>", "*", "valp", "=", "*", "negp", "?", "-", "(", "*", "lvalp", "*", "HZ", ")", ":", "(", "*", "lvalp", "*", "HZ", ")", ";", "<nl>", "}", "else", "{", "<nl>", "int", "val", "=", "*", "valp", ";", "<nl>", "static", "int", "do", "_", "proc", "_", "dointvec", "_", "userhz", "_", "jiffies", "_", "conv", "(", "int", "*", "negp", ",", "unsigned", "long", "*", "lvalp", ",", "<nl>", "int", "write", ",", "void", "*", "data", ")", "<nl>", "{", "<nl>", "if", "(", "write", ")", "{", "<nl>", "+", "if", "(", "USER", "_", "HZ", "<", "HZ", "&", "&", "*", "lvalp", ">", "(", "LONG", "_", "MAX", "/", "HZ", ")", "*", "USER", "_", "HZ", ")", "<nl>", "+", "return", "1", ";", "<nl>", "*", "valp", "=", "clock", "_", "t", "_", "to", "_", "jiffies", "(", "*", "negp", "?", "-", "*", "lvalp", ":", "*", "lvalp", ")", ";", "<nl>", "}", "else", "{", "<nl>", "int", "val", "=", "*", "valp", ";", "<nl>"], "docstring_tokens": ["PATCH", "Range", "checking", "in", "do_proc_dointvec_", "userhz_", "jiffies_conv"]}
{"code_tokens": ["void", "cpu", "_", "idle", "(", "void", ")", "<nl>", "local", "_", "irq", "_", "disable", "(", ")", ";", "<nl>", "/", "*", "Don", "'", "t", "trace", "irqs", "off", "for", "idle", "*", "/", "<nl>", "stop", "_", "critical", "_", "timings", "(", ")", ";", "<nl>", "-", "if", "(", "cpuidle", "_", "call", "_", "idle", "(", ")", ")", "<nl>", "+", "if", "(", "cpuidle", "_", "idle", "_", "call", "(", ")", ")", "<nl>", "pm", "_", "idle", "(", ")", ";", "<nl>", "/", "*", "<nl>", "*", "Sanity", "check", "to", "ensure", "that", "pm", "_", "idle", "(", ")", "returnsmmm", "arch", "/", "arm", "/", "kernel", "/", "process", ".", "c", "<nl>", "void", "cpu", "_", "idle", "(", "void", ")", "<nl>", "local", "_", "irq", "_", "disable", "(", ")", ";", "<nl>", "/", "*", "Don", "'", "t", "trace", "irqs", "off", "for", "idle", "*", "/", "<nl>", "stop", "_", "critical", "_", "timings", "(", ")", ";", "<nl>", "-", "if", "(", "cpuidle", "_", "call", "_", "idle", "(", ")", ")", "<nl>", "+", "if", "(", "cpuidle", "_", "idle", "_", "call", "(", ")", ")", "<nl>", "pm", "_", "idle", "(", ")", ";", "<nl>", "/", "*", "<nl>", "*", "Sanity", "check", "to", "ensure", "that", "pm", "_", "idle", "(", ")", "returns", "<nl>", "void", "cpu", "_", "idle", "(", "void", ")", "<nl>", "cpu", "_", "relax", "(", ")", ";", "<nl>", "}", "else", "{", "<nl>", "stop", "_", "critical", "_", "timings", "(", ")", ";", "<nl>", "-", "if", "(", "cpuidle", "_", "call", "_", "idle", "(", ")", ")", "<nl>", "+", "if", "(", "cpuidle", "_", "idle", "_", "call", "(", ")", ")", "<nl>", "pm", "_", "idle", "(", ")", ";", "<nl>", "start", "_", "critical", "_", "timings", "(", ")", ";", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["cpuidle", "Consistent", "spelling", "of", "cpuidle_idle_call"]}
{"code_tokens": ["int", "shash", "_", "ahash", "_", "finup", "(", "struct", "ahash", "_", "request", "*", "req", ",", "struct", "shash", "_", "desc", "*", "desc", ")", "<nl>", "struct", "crypto", "_", "hash", "_", "walk", "walk", ";", "<nl>", "int", "nbytes", ";", "<nl>", "<nl>", "-", "for", "(", "nbytes", "=", "crypto", "_", "hash", "_", "walk", "_", "first", "(", "req", ",", "&", "walk", ")", ";", "nbytes", ">", "0", ";", "<nl>", "-", "nbytes", "=", "crypto", "_", "hash", "_", "walk", "_", "done", "(", "&", "walk", ",", "nbytes", ")", ")", "<nl>", "+", "nbytes", "=", "crypto", "_", "hash", "_", "walk", "_", "first", "(", "req", ",", "&", "walk", ")", ";", "<nl>", "+", "if", "(", "!", "nbytes", ")", "<nl>", "+", "return", "crypto", "_", "shash", "_", "final", "(", "desc", ",", "req", "-", ">", "result", ")", ";", "<nl>", "+", "<nl>", "+", "do", "{", "<nl>", "nbytes", "=", "crypto", "_", "hash", "_", "walk", "_", "last", "(", "&", "walk", ")", "?", "<nl>", "crypto", "_", "shash", "_", "finup", "(", "desc", ",", "walk", ".", "data", ",", "nbytes", ",", "<nl>", "req", "-", ">", "result", ")", ":", "<nl>", "crypto", "_", "shash", "_", "update", "(", "desc", ",", "walk", ".", "data", ",", "nbytes", ")", ";", "<nl>", "+", "nbytes", "=", "crypto", "_", "hash", "_", "walk", "_", "done", "(", "&", "walk", ",", "nbytes", ")", ";", "<nl>", "+", "}", "while", "(", "nbytes", ">", "0", ")", ";", "<nl>", "<nl>", "return", "nbytes", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["crypto", "shash", "Fix", "async", "finup", "handling", "of", "null", "digest"]}
{"code_tokens": ["static", "int", "meson", "_", "mmc", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "}", "<nl>", "<nl>", "irq", "=", "platform", "_", "get", "_", "irq", "(", "pdev", ",", "0", ")", ";", "<nl>", "-", "if", "(", "!", "irq", ")", "{", "<nl>", "+", "if", "(", "irq", "<", "=", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "failed", "to", "get", "interrupt", "resource", ".", "\\", "n", "\"", ")", ";", "<nl>", "ret", "=", "-", "EINVAL", ";", "<nl>", "goto", "free", "_", "host", ";", "<nl>"], "docstring_tokens": ["mmc", "meson", "gx", "mmc", "Fix", "platform_get_irq", "s", "error", "checking"]}
{"code_tokens": ["int", "btrfs", "_", "defrag", "_", "file", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ",", "<nl>", "<nl>", "defrag", "_", "count", "+", "=", "ret", ";", "<nl>", "balance", "_", "dirty", "_", "pages", "_", "ratelimited", "_", "nr", "(", "inode", "-", ">", "i", "_", "mapping", ",", "ret", ")", ";", "<nl>", "-", "i", "+", "=", "ret", ";", "<nl>", "<nl>", "if", "(", "newer", "_", "than", ")", "{", "<nl>", "if", "(", "newer", "_", "off", "=", "=", "(", "u64", ")", "-", "1", ")", "<nl>", "int", "btrfs", "_", "defrag", "_", "file", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ",", "<nl>", "break", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "-", "i", "+", "+", ";", "<nl>", "+", "if", "(", "ret", ">", "0", ")", "<nl>", "+", "i", "+", "=", "ret", ";", "<nl>", "+", "else", "<nl>", "+", "i", "+", "+", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Btrfs", "fix", "defragmentation", "regression"]}
{"code_tokens": ["static", "void", "tk", "_", "setup", "_", "internals", "(", "struct", "timekeeper", "*", "tk", ",", "struct", "clocksource", "*", "clock", ")", "<nl>", "tk", "-", ">", "cycle", "_", "interval", "=", "interval", ";", "<nl>", "<nl>", "/", "*", "Go", "back", "from", "cycles", "-", ">", "shifted", "ns", "*", "/", "<nl>", "-", "tk", "-", ">", "xtime", "_", "interval", "=", "(", "u64", ")", "interval", "*", "clock", "-", ">", "mult", ";", "<nl>", "+", "tk", "-", ">", "xtime", "_", "interval", "=", "interval", "*", "clock", "-", ">", "mult", ";", "<nl>", "tk", "-", ">", "xtime", "_", "remainder", "=", "ntpinterval", "-", "tk", "-", ">", "xtime", "_", "interval", ";", "<nl>", "-", "tk", "-", ">", "raw", "_", "interval", "=", "<nl>", "-", "(", "(", "u64", ")", "interval", "*", "clock", "-", ">", "mult", ")", ">", ">", "clock", "-", ">", "shift", ";", "<nl>", "+", "tk", "-", ">", "raw", "_", "interval", "=", "(", "interval", "*", "clock", "-", ">", "mult", ")", ">", ">", "clock", "-", ">", "shift", ";", "<nl>", "<nl>", "/", "*", "if", "changing", "clocks", ",", "convert", "xtime", "_", "nsec", "shift", "units", "*", "/", "<nl>", "if", "(", "old", "_", "clock", ")", "{", "<nl>"], "docstring_tokens": ["timekeeping", "Get", "rid", "of", "pointless", "typecasts"]}
{"code_tokens": ["static", "void", "init", "_", "vmcb", "(", "struct", "vcpu", "_", "svm", "*", "svm", ")", "<nl>", "set", "_", "exception", "_", "intercept", "(", "svm", ",", "UD", "_", "VECTOR", ")", ";", "<nl>", "set", "_", "exception", "_", "intercept", "(", "svm", ",", "MC", "_", "VECTOR", ")", ";", "<nl>", "set", "_", "exception", "_", "intercept", "(", "svm", ",", "AC", "_", "VECTOR", ")", ";", "<nl>", "+", "set", "_", "exception", "_", "intercept", "(", "svm", ",", "DB", "_", "VECTOR", ")", ";", "<nl>", "<nl>", "set", "_", "intercept", "(", "svm", ",", "INTERCEPT", "_", "INTR", ")", ";", "<nl>", "set", "_", "intercept", "(", "svm", ",", "INTERCEPT", "_", "NMI", ")", ";", "<nl>", "static", "void", "svm", "_", "set", "_", "segment", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "<nl>", "mark", "_", "dirty", "(", "svm", "-", ">", "vmcb", ",", "VMCB", "_", "SEG", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "update", "_", "db", "_", "bp", "_", "intercept", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "+", "static", "void", "update", "_", "bp", "_", "intercept", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "{", "<nl>", "struct", "vcpu", "_", "svm", "*", "svm", "=", "to", "_", "svm", "(", "vcpu", ")", ";", "<nl>", "<nl>", "-", "clr", "_", "exception", "_", "intercept", "(", "svm", ",", "DB", "_", "VECTOR", ")", ";", "<nl>", "clr", "_", "exception", "_", "intercept", "(", "svm", ",", "BP", "_", "VECTOR", ")", ";", "<nl>", "<nl>", "-", "if", "(", "svm", "-", ">", "nmi", "_", "singlestep", ")", "<nl>", "-", "set", "_", "exception", "_", "intercept", "(", "svm", ",", "DB", "_", "VECTOR", ")", ";", "<nl>", "-", "<nl>", "if", "(", "vcpu", "-", ">", "guest", "_", "debug", "&", "KVM", "_", "GUESTDBG", "_", "ENABLE", ")", "{", "<nl>", "-", "if", "(", "vcpu", "-", ">", "guest", "_", "debug", "&", "<nl>", "-", "(", "KVM", "_", "GUESTDBG", "_", "SINGLESTEP", "|", "KVM", "_", "GUESTDBG", "_", "USE", "_", "HW", "_", "BP", ")", ")", "<nl>", "-", "set", "_", "exception", "_", "intercept", "(", "svm", ",", "DB", "_", "VECTOR", ")", ";", "<nl>", "if", "(", "vcpu", "-", ">", "guest", "_", "debug", "&", "KVM", "_", "GUESTDBG", "_", "USE", "_", "SW", "_", "BP", ")", "<nl>", "set", "_", "exception", "_", "intercept", "(", "svm", ",", "BP", "_", "VECTOR", ")", ";", "<nl>", "}", "else", "<nl>", "static", "int", "db", "_", "interception", "(", "struct", "vcpu", "_", "svm", "*", "svm", ")", "<nl>", "if", "(", "!", "(", "svm", "-", ">", "vcpu", ".", "guest", "_", "debug", "&", "KVM", "_", "GUESTDBG", "_", "SINGLESTEP", ")", ")", "<nl>", "svm", "-", ">", "vmcb", "-", ">", "save", ".", "rflags", "&", "=", "<nl>", "~", "(", "X86", "_", "EFLAGS", "_", "TF", "|", "X86", "_", "EFLAGS", "_", "RF", ")", ";", "<nl>", "-", "update", "_", "db", "_", "bp", "_", "intercept", "(", "&", "svm", "-", ">", "vcpu", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "svm", "-", ">", "vcpu", ".", "guest", "_", "debug", "&", "<nl>", "static", "void", "enable", "_", "nmi", "_", "window", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "*", "/", "<nl>", "svm", "-", ">", "nmi", "_", "singlestep", "=", "true", ";", "<nl>", "svm", "-", ">", "vmcb", "-", ">", "save", ".", "rflags", "|", "=", "(", "X86", "_", "EFLAGS", "_", "TF", "|", "X86", "_", "EFLAGS", "_", "RF", ")", ";", "<nl>", "-", "update", "_", "db", "_", "bp", "_", "intercept", "(", "vcpu", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "svm", "_", "set", "_", "tss", "_", "addr", "(", "struct", "kvm", "*", "kvm", ",", "unsigned", "int", "addr", ")", "<nl>", "static", "struct", "kvm", "_", "x86", "_", "ops", "svm", "_", "x86", "_", "ops", "=", "{", "<nl>", ".", "vcpu", "_", "load", "=", "svm", "_", "vcpu", "_", "load", ",", "<nl>", ".", "vcpu", "_", "put", "=", "svm", "_", "vcpu", "_", "put", ",", "<nl>", "<nl>", "-", ".", "update", "_", "db", "_", "bp", "_", "intercept", "=", "update", "_", "db", "_", "bp", "_", "intercept", ",", "<nl>", "+", ".", "update", "_", "db", "_", "bp", "_", "intercept", "=", "update", "_", "bp", "_", "intercept", ",", "<nl>", ".", "get", "_", "msr", "=", "svm", "_", "get", "_", "msr", ",", "<nl>", ".", "set", "_", "msr", "=", "svm", "_", "set", "_", "msr", ",", "<nl>", ".", "get", "_", "segment", "_", "base", "=", "svm", "_", "get", "_", "segment", "_", "base", ",", "<nl>"], "docstring_tokens": ["KVM", "svm", "unconditionally", "intercept", "DB"]}
{"code_tokens": ["static", "void", "comedi", "_", "set", "_", "subdevice", "_", "runflags", "(", "struct", "comedi", "_", "subdevice", "*", "s", ",", "<nl>", "}", "<nl>", "<nl>", "static", "int", "do", "_", "cmd", "_", "ioctl", "(", "struct", "comedi", "_", "device", "*", "dev", ",", "<nl>", "-", "struct", "comedi", "_", "cmd", "_", "_", "user", "*", "cmd", ",", "void", "*", "file", ")", "<nl>", "+", "struct", "comedi", "_", "cmd", "_", "_", "user", "*", "arg", ",", "void", "*", "file", ")", "<nl>", "{", "<nl>", "struct", "comedi", "_", "cmd", "user", "_", "cmd", ";", "<nl>", "struct", "comedi", "_", "subdevice", "*", "s", ";", "<nl>", "static", "int", "do", "_", "cmd", "_", "ioctl", "(", "struct", "comedi", "_", "device", "*", "dev", ",", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "unsigned", "int", "_", "_", "user", "*", "chanlist", "_", "saver", "=", "NULL", ";", "<nl>", "<nl>", "-", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "user", "_", "cmd", ",", "cmd", ",", "sizeof", "(", "struct", "comedi", "_", "cmd", ")", ")", ")", "{", "<nl>", "+", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "user", "_", "cmd", ",", "arg", ",", "sizeof", "(", "struct", "comedi", "_", "cmd", ")", ")", ")", "{", "<nl>", "DPRINTK", "(", "\"", "bad", "cmd", "address", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "static", "int", "do", "_", "cmd", "_", "ioctl", "(", "struct", "comedi", "_", "device", "*", "dev", ",", "<nl>", "/", "*", "restore", "chanlist", "pointer", "before", "copying", "back", "*", "/", "<nl>", "user", "_", "cmd", ".", "chanlist", "=", "chanlist", "_", "saver", ";", "<nl>", "user", "_", "cmd", ".", "data", "=", "NULL", ";", "<nl>", "-", "if", "(", "copy", "_", "to", "_", "user", "(", "cmd", ",", "&", "user", "_", "cmd", ",", "sizeof", "(", "struct", "comedi", "_", "cmd", ")", ")", ")", "{", "<nl>", "+", "if", "(", "copy", "_", "to", "_", "user", "(", "arg", ",", "&", "user", "_", "cmd", ",", "sizeof", "(", "struct", "comedi", "_", "cmd", ")", ")", ")", "{", "<nl>", "DPRINTK", "(", "\"", "fault", "writing", "cmd", "\\", "n", "\"", ")", ";", "<nl>", "ret", "=", "-", "EFAULT", ";", "<nl>", "goto", "cleanup", ";", "<nl>"], "docstring_tokens": ["staging", "comedi", "comedi_fops", "rename", "the", "__user", "cmd", "param", "in", "do_cmd_ioctl"]}
{"code_tokens": ["static", "int", "ip", "_", "frag", "_", "reasm", "(", "struct", "ipq", "*", "qp", ",", "struct", "sk", "_", "buff", "*", "prev", ",", "<nl>", "skb", "_", "morph", "(", "head", ",", "qp", "-", ">", "q", ".", "fragments", ")", ";", "<nl>", "head", "-", ">", "next", "=", "qp", "-", ">", "q", ".", "fragments", "-", ">", "next", ";", "<nl>", "<nl>", "-", "kfree", "_", "skb", "(", "qp", "-", ">", "q", ".", "fragments", ")", ";", "<nl>", "+", "consume", "_", "skb", "(", "qp", "-", ">", "q", ".", "fragments", ")", ";", "<nl>", "qp", "-", ">", "q", ".", "fragments", "=", "head", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ipv4", "dont", "drop", "packet", "in", "defrag", "but", "consume", "it"]}
{"code_tokens": ["#", "ifndef", "_", "_", "SUN3", "_", "MMU", "_", "H", "_", "_", "<nl>", "#", "define", "_", "_", "SUN3", "_", "MMU", "_", "H", "_", "_", "<nl>", "<nl>", "+", "#", "include", "<", "linux", "/", "types", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "movs", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "sun3", "-", "head", ".", "h", ">", "<nl>", "<nl>", "static", "inline", "void", "sun3", "_", "put", "_", "context", "(", "unsigned", "char", "c", ")", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "-", "extern", "void", "*", "sun3", "_", "ioremap", "(", "unsigned", "long", "phys", ",", "unsigned", "long", "size", ",", "<nl>", "+", "extern", "void", "_", "_", "iomem", "*", "sun3", "_", "ioremap", "(", "unsigned", "long", "phys", ",", "unsigned", "long", "size", ",", "<nl>", "unsigned", "long", "type", ")", ";", "<nl>", "<nl>", "extern", "int", "sun3", "_", "map", "_", "test", "(", "unsigned", "long", "addr", ",", "char", "*", "val", ")", ";", "<nl>"], "docstring_tokens": ["PATCH", "sun3_ioremap", "prototype"]}
{"code_tokens": ["static", "int", "spcp8x5", "_", "probe", "(", "struct", "usb", "_", "serial", "*", "serial", ",", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "spcp8x5", "_", "attach", "(", "struct", "usb", "_", "serial", "*", "serial", ")", "<nl>", "+", "{", "<nl>", "+", "unsigned", "char", "num", "_", "ports", "=", "serial", "-", ">", "num", "_", "ports", ";", "<nl>", "+", "<nl>", "+", "if", "(", "serial", "-", ">", "num", "_", "bulk", "_", "in", "<", "num", "_", "ports", "|", "|", "<nl>", "+", "serial", "-", ">", "num", "_", "bulk", "_", "out", "<", "num", "_", "ports", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "serial", "-", ">", "interface", "-", ">", "dev", ",", "\"", "missing", "endpoints", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "int", "spcp8x5", "_", "port", "_", "probe", "(", "struct", "usb", "_", "serial", "_", "port", "*", "port", ")", "<nl>", "{", "<nl>", "const", "struct", "usb", "_", "device", "_", "id", "*", "id", "=", "usb", "_", "get", "_", "serial", "_", "data", "(", "port", "-", ">", "serial", ")", ";", "<nl>", "static", "struct", "usb", "_", "serial", "_", "driver", "spcp8x5", "_", "device", "=", "{", "<nl>", ".", "tiocmget", "=", "spcp8x5", "_", "tiocmget", ",", "<nl>", ".", "tiocmset", "=", "spcp8x5", "_", "tiocmset", ",", "<nl>", ".", "probe", "=", "spcp8x5", "_", "probe", ",", "<nl>", "+", ".", "attach", "=", "spcp8x5", "_", "attach", ",", "<nl>", ".", "port", "_", "probe", "=", "spcp8x5", "_", "port", "_", "probe", ",", "<nl>", ".", "port", "_", "remove", "=", "spcp8x5", "_", "port", "_", "remove", ",", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["USB", "serial", "spcp8x5", "fix", "NULL", "deref", "at", "open"]}
{"code_tokens": ["static", "long", "kvm", "_", "dev", "_", "ioctl", "(", "struct", "file", "*", "filp", ",", "<nl>", "num", "_", "msrs", "_", "to", "_", "save", "*", "sizeof", "(", "u32", ")", ")", ")", "<nl>", "goto", "out", ";", "<nl>", "r", "=", "0", ";", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "default", ":", "<nl>", ";", "<nl>"], "docstring_tokens": ["PATCH", "KVM", "Add", "missing", "break"]}
{"code_tokens": ["static", "u8", "i7300", "_", "idle", "_", "thrtctl", "_", "saved", ";", "<nl>", "static", "u8", "i7300", "_", "idle", "_", "thrtlow", "_", "saved", ";", "<nl>", "static", "u32", "i7300", "_", "idle", "_", "mc", "_", "saved", ";", "<nl>", "<nl>", "-", "static", "cpumask", "_", "t", "idle", "_", "cpumask", ";", "<nl>", "+", "static", "cpumask", "_", "var", "_", "t", "idle", "_", "cpumask", ";", "<nl>", "static", "ktime", "_", "t", "start", "_", "ktime", ";", "<nl>", "static", "unsigned", "long", "avg", "_", "idle", "_", "us", ";", "<nl>", "<nl>", "static", "int", "i7300", "_", "idle", "_", "notifier", "(", "struct", "notifier", "_", "block", "*", "nb", ",", "unsigned", "long", "val", ",", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "i7300", "_", "idle", "_", "lock", ",", "flags", ")", ";", "<nl>", "if", "(", "val", "=", "=", "IDLE", "_", "START", ")", "{", "<nl>", "<nl>", "-", "cpu", "_", "set", "(", "smp", "_", "processor", "_", "id", "(", ")", ",", "idle", "_", "cpumask", ")", ";", "<nl>", "+", "cpumask", "_", "set", "_", "cpu", "(", "smp", "_", "processor", "_", "id", "(", ")", ",", "idle", "_", "cpumask", ")", ";", "<nl>", "<nl>", "-", "if", "(", "cpus", "_", "weight", "(", "idle", "_", "cpumask", ")", "!", "=", "num", "_", "online", "_", "cpus", "(", ")", ")", "<nl>", "+", "if", "(", "cpumask", "_", "weight", "(", "idle", "_", "cpumask", ")", "!", "=", "num", "_", "online", "_", "cpus", "(", ")", ")", "<nl>", "goto", "end", ";", "<nl>", "<nl>", "now", "_", "ktime", "=", "ktime", "_", "get", "(", ")", ";", "<nl>", "static", "int", "i7300", "_", "idle", "_", "notifier", "(", "struct", "notifier", "_", "block", "*", "nb", ",", "unsigned", "long", "val", ",", "<nl>", "i7300", "_", "idle", "_", "ioat", "_", "start", "(", ")", ";", "<nl>", "<nl>", "}", "else", "if", "(", "val", "=", "=", "IDLE", "_", "END", ")", "{", "<nl>", "-", "cpu", "_", "clear", "(", "smp", "_", "processor", "_", "id", "(", ")", ",", "idle", "_", "cpumask", ")", ";", "<nl>", "-", "if", "(", "cpus", "_", "weight", "(", "idle", "_", "cpumask", ")", "=", "=", "(", "num", "_", "online", "_", "cpus", "(", ")", "-", "1", ")", ")", "{", "<nl>", "+", "cpumask", "_", "clear", "_", "cpu", "(", "smp", "_", "processor", "_", "id", "(", ")", ",", "idle", "_", "cpumask", ")", ";", "<nl>", "+", "if", "(", "cpumask", "_", "weight", "(", "idle", "_", "cpumask", ")", "=", "=", "(", "num", "_", "online", "_", "cpus", "(", ")", "-", "1", ")", ")", "{", "<nl>", "/", "*", "First", "CPU", "coming", "out", "of", "idle", "*", "/", "<nl>", "u64", "idle", "_", "duration", "_", "us", ";", "<nl>", "<nl>", "struct", "debugfs", "_", "file", "_", "info", "{", "<nl>", "static", "int", "_", "_", "init", "i7300", "_", "idle", "_", "init", "(", "void", ")", "<nl>", "{", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "i7300", "_", "idle", "_", "lock", ")", ";", "<nl>", "-", "cpus", "_", "clear", "(", "idle", "_", "cpumask", ")", ";", "<nl>", "total", "_", "us", "=", "0", ";", "<nl>", "<nl>", "if", "(", "i7300", "_", "idle", "_", "platform", "_", "probe", "(", "&", "fbd", "_", "dev", ",", "&", "ioat", "_", "dev", ",", "forceload", ")", ")", "<nl>", "static", "int", "_", "_", "init", "i7300", "_", "idle", "_", "init", "(", "void", ")", "<nl>", "if", "(", "i7300", "_", "idle", "_", "ioat", "_", "init", "(", ")", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "+", "if", "(", "!", "zalloc", "_", "cpumask", "_", "var", "(", "&", "idle", "_", "cpumask", ",", "GFP", "_", "KERNEL", ")", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "debugfs", "_", "dir", "=", "debugfs", "_", "create", "_", "dir", "(", "\"", "i7300", "_", "idle", "\"", ",", "NULL", ")", ";", "<nl>", "if", "(", "debugfs", "_", "dir", ")", "{", "<nl>", "int", "i", "=", "0", ";", "<nl>", "static", "int", "_", "_", "init", "i7300", "_", "idle", "_", "init", "(", "void", ")", "<nl>", "static", "void", "_", "_", "exit", "i7300", "_", "idle", "_", "exit", "(", "void", ")", "<nl>", "{", "<nl>", "idle", "_", "notifier", "_", "unregister", "(", "&", "i7300", "_", "idle", "_", "nb", ")", ";", "<nl>", "+", "free", "_", "cpumask", "_", "var", "(", "idle", "_", "cpumask", ")", ";", "<nl>", "<nl>", "if", "(", "debugfs", "_", "dir", ")", "{", "<nl>", "int", "i", "=", "0", ";", "<nl>"], "docstring_tokens": ["cpumask", "convert", "drivers", "idle", "i7300_idle", "c", "to", "cpumask_var_t"]}
{"code_tokens": ["static", "int", "_", "_", "pci", "_", "read", "_", "base", "(", "struct", "pci", "_", "dev", "*", "dev", ",", "enum", "pci", "_", "bar", "_", "type", "type", ",", "<nl>", "if", "(", "!", "sz64", ")", "<nl>", "goto", "fail", ";", "<nl>", "<nl>", "-", "if", "(", "(", "BITS", "_", "PER", "_", "LONG", "<", "64", ")", "&", "&", "(", "sz64", ">", "0x100000000ULL", ")", ")", "{", "<nl>", "+", "if", "(", "(", "sizeof", "(", "resource", "_", "size", "_", "t", ")", "<", "8", ")", "&", "&", "(", "sz64", ">", "0x100000000ULL", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "dev", "-", ">", "dev", ",", "\"", "can", "'", "t", "handle", "64", "-", "bit", "BAR", "\\", "n", "\"", ")", ";", "<nl>", "goto", "fail", ";", "<nl>", "-", "}", "else", "if", "(", "(", "BITS", "_", "PER", "_", "LONG", "<", "64", ")", "&", "&", "l", ")", "{", "<nl>", "+", "}", "else", "if", "(", "(", "sizeof", "(", "resource", "_", "size", "_", "t", ")", "<", "8", ")", "&", "&", "l", ")", "{", "<nl>", "/", "*", "Address", "above", "32", "-", "bit", "boundary", ";", "disable", "the", "BAR", "*", "/", "<nl>", "pci", "_", "write", "_", "config", "_", "dword", "(", "dev", ",", "pos", ",", "0", ")", ";", "<nl>", "pci", "_", "write", "_", "config", "_", "dword", "(", "dev", ",", "pos", "+", "4", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["PCI", "handle", "64", "bit", "resources", "better", "on", "32", "bit", "machines"]}
{"code_tokens": ["isl1208", "_", "i2c", "_", "set", "_", "time", "(", "struct", "i2c", "_", "client", "*", "client", ",", "struct", "rtc", "_", "time", "const", "*", "tm", ")", "<nl>", "int", "sr", ";", "<nl>", "u8", "regs", "[", "ISL1208", "_", "RTC", "_", "SECTION", "_", "LEN", "]", "=", "{", "0", ",", "}", ";", "<nl>", "<nl>", "+", "/", "*", "The", "clock", "has", "an", "8", "bit", "wide", "bcd", "-", "coded", "register", "(", "they", "never", "learn", ")", "<nl>", "+", "*", "for", "the", "year", ".", "tm", "_", "year", "is", "an", "offset", "from", "1900", "and", "we", "are", "interested", "<nl>", "+", "*", "in", "the", "2000", "-", "2099", "range", ",", "so", "any", "value", "less", "than", "100", "is", "invalid", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "tm", "-", ">", "tm", "_", "year", "<", "100", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "regs", "[", "ISL1208", "_", "REG", "_", "SC", "]", "=", "bin2bcd", "(", "tm", "-", ">", "tm", "_", "sec", ")", ";", "<nl>", "regs", "[", "ISL1208", "_", "REG", "_", "MN", "]", "=", "bin2bcd", "(", "tm", "-", ">", "tm", "_", "min", ")", ";", "<nl>", "regs", "[", "ISL1208", "_", "REG", "_", "HR", "]", "=", "bin2bcd", "(", "tm", "-", ">", "tm", "_", "hour", ")", "|", "ISL1208", "_", "REG", "_", "HR", "_", "MIL", ";", "<nl>"], "docstring_tokens": ["rtc", "rtc", "isl1208", "reject", "invalid", "dates"]}
{"code_tokens": ["asmlinkage", "void", "math", "_", "emulate", "(", "long", "arg", ")", "<nl>", "entry", "_", "sel", "_", "off", ".", "offset", "=", "FPU", "_", "ORIG", "_", "EIP", ";", "<nl>", "entry", "_", "sel", "_", "off", ".", "selector", "=", "FPU", "_", "CS", ";", "<nl>", "entry", "_", "sel", "_", "off", ".", "opcode", "=", "(", "byte1", "<", "<", "8", ")", "|", "FPU", "_", "modrm", ";", "<nl>", "+", "entry", "_", "sel", "_", "off", ".", "empty", "=", "0", ";", "<nl>", "<nl>", "FPU", "_", "rm", "=", "FPU", "_", "modrm", "&", "7", ";", "<nl>"], "docstring_tokens": ["i386", "arch", "x86", "math", "emu", "fpu_entry", "c", "warning", "fix"]}
{"code_tokens": ["static", "struct", "clk", "*", "step", "_", "clk", ";", "<nl>", "static", "struct", "clk", "*", "pll2", "_", "pfd2", "_", "396m", "_", "clk", ";", "<nl>", "<nl>", "static", "struct", "device", "*", "cpu", "_", "dev", ";", "<nl>", "+", "static", "bool", "free", "_", "opp", ";", "<nl>", "static", "struct", "cpufreq", "_", "frequency", "_", "table", "*", "freq", "_", "table", ";", "<nl>", "static", "unsigned", "int", "transition", "_", "latency", ";", "<nl>", "<nl>", "static", "int", "imx6q", "_", "cpufreq", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "goto", "put", "_", "reg", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Because", "we", "have", "added", "the", "OPPs", "here", ",", "we", "must", "free", "them", "*", "/", "<nl>", "+", "free", "_", "opp", "=", "true", ";", "<nl>", "+", "<nl>", "num", "=", "dev", "_", "pm", "_", "opp", "_", "get", "_", "opp", "_", "count", "(", "cpu", "_", "dev", ")", ";", "<nl>", "if", "(", "num", "<", "0", ")", "{", "<nl>", "ret", "=", "num", ";", "<nl>", "dev", "_", "err", "(", "cpu", "_", "dev", ",", "\"", "no", "OPP", "table", "is", "found", ":", "%", "d", "\\", "n", "\"", ",", "ret", ")", ";", "<nl>", "-", "goto", "put", "_", "reg", ";", "<nl>", "+", "goto", "out", "_", "free", "_", "opp", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "static", "int", "imx6q", "_", "cpufreq", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "free", "_", "freq", "_", "table", ":", "<nl>", "dev", "_", "pm", "_", "opp", "_", "free", "_", "cpufreq", "_", "table", "(", "cpu", "_", "dev", ",", "&", "freq", "_", "table", ")", ";", "<nl>", "+", "out", "_", "free", "_", "opp", ":", "<nl>", "+", "if", "(", "free", "_", "opp", ")", "<nl>", "+", "of", "_", "free", "_", "opp", "_", "table", "(", "cpu", "_", "dev", ")", ";", "<nl>", "put", "_", "reg", ":", "<nl>", "if", "(", "!", "IS", "_", "ERR", "(", "arm", "_", "reg", ")", ")", "<nl>", "regulator", "_", "put", "(", "arm", "_", "reg", ")", ";", "<nl>", "static", "int", "imx6q", "_", "cpufreq", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "cpufreq", "_", "unregister", "_", "driver", "(", "&", "imx6q", "_", "cpufreq", "_", "driver", ")", ";", "<nl>", "dev", "_", "pm", "_", "opp", "_", "free", "_", "cpufreq", "_", "table", "(", "cpu", "_", "dev", ",", "&", "freq", "_", "table", ")", ";", "<nl>", "+", "if", "(", "free", "_", "opp", ")", "<nl>", "+", "of", "_", "free", "_", "opp", "_", "table", "(", "cpu", "_", "dev", ")", ";", "<nl>", "regulator", "_", "put", "(", "arm", "_", "reg", ")", ";", "<nl>", "if", "(", "!", "IS", "_", "ERR", "(", "pu", "_", "reg", ")", ")", "<nl>", "regulator", "_", "put", "(", "pu", "_", "reg", ")", ";", "<nl>"], "docstring_tokens": ["imx6q", "free", "OPP", "table", "created", "during", "init"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "e3d", "_", "pci", "_", "register", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "if", "(", "err", "<", "0", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "e3d", ":", "Could", "not", "register", "framebuffer", "%", "s", "\\", "n", "\"", ",", "<nl>", "pci", "_", "name", "(", "pdev", ")", ")", ";", "<nl>", "-", "goto", "err", "_", "unmap", "_", "fb", ";", "<nl>", "+", "goto", "err", "_", "free", "_", "cmap", ";", "<nl>", "}", "<nl>", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "err", "_", "free", "_", "cmap", ":", "<nl>", "+", "fb", "_", "dealloc", "_", "cmap", "(", "&", "info", "-", ">", "cmap", ")", ";", "<nl>", "+", "<nl>", "err", "_", "unmap", "_", "fb", ":", "<nl>", "iounmap", "(", "ep", "-", ">", "fb", "_", "base", ")", ";", "<nl>", "<nl>", "static", "void", "_", "_", "devexit", "e3d", "_", "pci", "_", "unregister", "(", "struct", "pci", "_", "dev", "*", "pdev", ")", "<nl>", "pci", "_", "release", "_", "region", "(", "pdev", ",", "0", ")", ";", "<nl>", "pci", "_", "release", "_", "region", "(", "pdev", ",", "1", ")", ";", "<nl>", "<nl>", "+", "fb", "_", "dealloc", "_", "cmap", "(", "&", "info", "-", ">", "cmap", ")", ";", "<nl>", "framebuffer", "_", "release", "(", "info", ")", ";", "<nl>", "<nl>", "pci", "_", "disable", "_", "device", "(", "pdev", ")", ";", "<nl>"], "docstring_tokens": ["sunxvr500", "fix", "cmap", "memory", "leaks"]}
{"code_tokens": ["struct", "sk", "_", "buff", "*", "sock", "_", "alloc", "_", "send", "_", "pskb", "(", "struct", "sock", "*", "sk", ",", "unsigned", "long", "header", "_", "len", ",", "<nl>", "gfp", "_", "t", "gfp", "_", "mask", ";", "<nl>", "long", "timeo", ";", "<nl>", "int", "err", ";", "<nl>", "+", "int", "npages", "=", "(", "data", "_", "len", "+", "(", "PAGE", "_", "SIZE", "-", "1", ")", ")", ">", ">", "PAGE", "_", "SHIFT", ";", "<nl>", "+", "<nl>", "+", "err", "=", "-", "EMSGSIZE", ";", "<nl>", "+", "if", "(", "npages", ">", "MAX", "_", "SKB", "_", "FRAGS", ")", "<nl>", "+", "goto", "failure", ";", "<nl>", "<nl>", "gfp", "_", "mask", "=", "sk", "-", ">", "sk", "_", "allocation", ";", "<nl>", "if", "(", "gfp", "_", "mask", "&", "_", "_", "GFP", "_", "WAIT", ")", "<nl>", "struct", "sk", "_", "buff", "*", "sock", "_", "alloc", "_", "send", "_", "pskb", "(", "struct", "sock", "*", "sk", ",", "unsigned", "long", "header", "_", "len", ",", "<nl>", "if", "(", "atomic", "_", "read", "(", "&", "sk", "-", ">", "sk", "_", "wmem", "_", "alloc", ")", "<", "sk", "-", ">", "sk", "_", "sndbuf", ")", "{", "<nl>", "skb", "=", "alloc", "_", "skb", "(", "header", "_", "len", ",", "gfp", "_", "mask", ")", ";", "<nl>", "if", "(", "skb", ")", "{", "<nl>", "-", "int", "npages", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "/", "*", "No", "pages", ",", "we", "'", "re", "done", ".", ".", ".", "*", "/", "<nl>", "if", "(", "!", "data", "_", "len", ")", "<nl>", "break", ";", "<nl>", "<nl>", "-", "npages", "=", "(", "data", "_", "len", "+", "(", "PAGE", "_", "SIZE", "-", "1", ")", ")", ">", ">", "PAGE", "_", "SHIFT", ";", "<nl>", "skb", "-", ">", "truesize", "+", "=", "data", "_", "len", ";", "<nl>", "skb", "_", "shinfo", "(", "skb", ")", "-", ">", "nr", "_", "frags", "=", "npages", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "npages", ";", "i", "+", "+", ")", "{", "<nl>"], "docstring_tokens": ["net", "sock", "validate", "data_len", "before", "allocating", "skb", "in", "sock_alloc_send_pskb"]}
{"code_tokens": ["int", "radeon", "_", "suspend", "_", "kms", "(", "struct", "drm", "_", "device", "*", "dev", ",", "bool", "suspend", ",", "<nl>", "radeon", "_", "agp", "_", "suspend", "(", "rdev", ")", ";", "<nl>", "<nl>", "pci", "_", "save", "_", "state", "(", "dev", "-", ">", "pdev", ")", ";", "<nl>", "-", "if", "(", "freeze", "&", "&", "rdev", "-", ">", "family", ">", "=", "CHIP", "_", "R600", ")", "{", "<nl>", "+", "if", "(", "freeze", "&", "&", "rdev", "-", ">", "family", ">", "=", "CHIP", "_", "CEDAR", ")", "{", "<nl>", "rdev", "-", ">", "asic", "-", ">", "asic", "_", "reset", "(", "rdev", ",", "true", ")", ";", "<nl>", "pci", "_", "restore", "_", "state", "(", "dev", "-", ">", "pdev", ")", ";", "<nl>", "}", "else", "if", "(", "suspend", ")", "{", "<nl>"], "docstring_tokens": ["drm", "radeon", "do", "not", "hard", "reset", "GPU", "while", "freezing", "on", "r600", "r700", "family"]}
{"code_tokens": ["void", "dlm", "_", "add", "_", "cb", "(", "struct", "dlm", "_", "lkb", "*", "lkb", ",", "uint32", "_", "t", "flags", ",", "int", "mode", ",", "int", "status", ",", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "dlm", "_", "cb", "_", "seq", "_", "spin", ")", ";", "<nl>", "new", "_", "seq", "=", "+", "+", "dlm", "_", "cb", "_", "seq", ";", "<nl>", "+", "if", "(", "!", "dlm", "_", "cb", "_", "seq", ")", "<nl>", "+", "new", "_", "seq", "=", "+", "+", "dlm", "_", "cb", "_", "seq", ";", "<nl>", "spin", "_", "unlock", "(", "&", "dlm", "_", "cb", "_", "seq", "_", "spin", ")", ";", "<nl>", "<nl>", "if", "(", "lkb", "-", ">", "lkb", "_", "flags", "&", "DLM", "_", "IFL", "_", "USER", ")", "{", "<nl>"], "docstring_tokens": ["DLM", "fix", "overflow", "dlm_cb_seq"]}
{"code_tokens": ["int", "BcmGetSectionValEndOffset", "(", "struct", "bcm", "_", "mini", "_", "adapter", "*", "Adapter", ",", "enum", "bcm", "_", "flash2x", "<nl>", "case", "CONTROL", "_", "SECTION", ":", "<nl>", "/", "*", "Not", "Clear", "So", "Putting", "failure", ".", "confirm", "and", "fix", "it", ".", "*", "/", "<nl>", "SectEndOffset", "=", "STATUS", "_", "FAILURE", ";", "<nl>", "+", "break", ";", "<nl>", "case", "ISO", "_", "IMAGE1", "_", "PART2", ":", "<nl>", "if", "(", "Adapter", "-", ">", "psFlash2xCSInfo", "-", ">", "OffsetISOImage1Part2End", "!", "=", "UNINIT", "_", "PTR", "_", "IN", "_", "CS", ")", "<nl>", "SectEndOffset", "=", "(", "Adapter", "-", ">", "psFlash2xCSInfo", "-", ">", "OffsetISOImage1Part2End", ")", ";", "<nl>"], "docstring_tokens": ["Staging", "bcm", "add", "a", "missing", "break", "statement"]}
{"code_tokens": ["static", "int", "at", "_", "dma", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "/", "*", "Disable", "interrupts", "*", "/", "<nl>", "atc", "_", "disable", "_", "chan", "_", "irq", "(", "atdma", ",", "chan", "-", ">", "chan", "_", "id", ")", ";", "<nl>", "-", "tasklet", "_", "disable", "(", "&", "atchan", "-", ">", "tasklet", ")", ";", "<nl>", "<nl>", "tasklet", "_", "kill", "(", "&", "atchan", "-", ">", "tasklet", ")", ";", "<nl>", "list", "_", "del", "(", "&", "chan", "-", ">", "device", "_", "node", ")", ";", "<nl>"], "docstring_tokens": ["dmaengine", "at_hdmac", "use", "tasklet_kill", "in", "teardown"]}
{"code_tokens": ["static", "int", "get", "_", "info", "(", "struct", "net", "*", "net", ",", "void", "_", "_", "user", "*", "user", ",", "<nl>", "private", "=", "&", "tmp", ";", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "+", "memset", "(", "&", "info", ",", "0", ",", "sizeof", "(", "info", ")", ")", ";", "<nl>", "info", ".", "valid", "_", "hooks", "=", "t", "-", ">", "valid", "_", "hooks", ";", "<nl>", "memcpy", "(", "info", ".", "hook", "_", "entry", ",", "private", "-", ">", "hook", "_", "entry", ",", "<nl>", "sizeof", "(", "info", ".", "hook", "_", "entry", ")", ")", ";", "<nl>"], "docstring_tokens": ["netfilter", "ip6_tables", "fix", "information", "leak", "to", "userspace"]}
{"code_tokens": ["static", "inline", "int", "init", "_", "new", "_", "context", "(", "struct", "task", "_", "struct", "*", "tsk", ",", "<nl>", "mm", "-", ">", "context", ".", "execute", "_", "only", "_", "pkey", "=", "-", "1", ";", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "-", "init", "_", "new", "_", "context", "_", "ldt", "(", "tsk", ",", "mm", ")", ";", "<nl>", "-", "<nl>", "-", "return", "0", ";", "<nl>", "+", "return", "init", "_", "new", "_", "context", "_", "ldt", "(", "tsk", ",", "mm", ")", ";", "<nl>", "}", "<nl>", "static", "inline", "void", "destroy", "_", "context", "(", "struct", "mm", "_", "struct", "*", "mm", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["x86", "mm", "Fix", "use", "after", "free", "of", "ldt_struct"]}
{"code_tokens": ["static", "struct", "sg", "_", "table", "*", "omap", "_", "gem", "_", "map", "_", "dma", "_", "buf", "(", "<nl>", "/", "*", "this", "should", "be", "after", "_", "get", "_", "paddr", "(", ")", "to", "ensure", "we", "have", "pages", "attached", "*", "/", "<nl>", "omap", "_", "gem", "_", "dma", "_", "sync", "(", "obj", ",", "dir", ")", ";", "<nl>", "<nl>", "-", "out", ":", "<nl>", "-", "if", "(", "ret", ")", "<nl>", "-", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>", "return", "sg", ";", "<nl>", "+", "out", ":", "<nl>", "+", "kfree", "(", "sg", ")", ";", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "omap", "_", "gem", "_", "unmap", "_", "dma", "_", "buf", "(", "struct", "dma", "_", "buf", "_", "attachment", "*", "attachment", ",", "<nl>"], "docstring_tokens": ["staging", "omapdrm", "omap_gem_dmabuf", "c", "fix", "memory", "leakage"]}
{"code_tokens": ["cnp", "_", "setup", "_", "backlight", "(", "struct", "intel", "_", "connector", "*", "connector", ",", "enum", "pipe", "unused", ")", "<nl>", "u32", "pwm", "_", "ctl", ",", "val", ";", "<nl>", "<nl>", "/", "*", "<nl>", "-", "*", "CNP", "has", "the", "BXT", "implementation", "of", "backlight", ",", "but", "with", "only", "<nl>", "-", "*", "one", "controller", ".", "Future", "platforms", "could", "have", "multiple", "controllers", "<nl>", "-", "*", "so", "let", "'", "s", "make", "this", "extensible", "and", "prepared", "for", "the", "future", ".", "<nl>", "+", "*", "CNP", "has", "the", "BXT", "implementation", "of", "backlight", ",", "but", "with", "only", "one", "<nl>", "+", "*", "controller", ".", "TODO", ":", "ICP", "has", "multiple", "controllers", "but", "we", "only", "use", "<nl>", "+", "*", "controller", "0", "for", "now", ".", "<nl>", "*", "/", "<nl>", "panel", "-", ">", "backlight", ".", "controller", "=", "0", ";", "<nl>", "<nl>", "intel", "_", "panel", "_", "init", "_", "backlight", "_", "funcs", "(", "struct", "intel", "_", "panel", "*", "panel", ")", "<nl>", "panel", "-", ">", "backlight", ".", "set", "=", "bxt", "_", "set", "_", "backlight", ";", "<nl>", "panel", "-", ">", "backlight", ".", "get", "=", "bxt", "_", "get", "_", "backlight", ";", "<nl>", "panel", "-", ">", "backlight", ".", "hz", "_", "to", "_", "pwm", "=", "bxt", "_", "hz", "_", "to", "_", "pwm", ";", "<nl>", "-", "}", "else", "if", "(", "HAS", "_", "PCH", "_", "CNP", "(", "dev", "_", "priv", ")", ")", "{", "<nl>", "+", "}", "else", "if", "(", "HAS", "_", "PCH", "_", "CNP", "(", "dev", "_", "priv", ")", "|", "|", "HAS", "_", "PCH", "_", "ICP", "(", "dev", "_", "priv", ")", ")", "{", "<nl>", "panel", "-", ">", "backlight", ".", "setup", "=", "cnp", "_", "setup", "_", "backlight", ";", "<nl>", "panel", "-", ">", "backlight", ".", "enable", "=", "cnp", "_", "enable", "_", "backlight", ";", "<nl>", "panel", "-", ">", "backlight", ".", "disable", "=", "cnp", "_", "disable", "_", "backlight", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "icp", "Add", "backlight", "Support", "for", "ICP"]}
{"code_tokens": ["ssize", "_", "t", "tcp", "_", "splice", "_", "read", "(", "struct", "socket", "*", "sock", ",", "loff", "_", "t", "*", "ppos", ",", "<nl>", "ret", "=", "-", "EAGAIN", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "/", "*", "if", "_", "_", "tcp", "_", "splice", "_", "read", "(", ")", "got", "nothing", "while", "we", "have", "<nl>", "+", "*", "an", "skb", "in", "receive", "queue", ",", "we", "do", "not", "want", "to", "loop", ".", "<nl>", "+", "*", "This", "might", "happen", "with", "URG", "data", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "skb", "_", "queue", "_", "empty", "(", "&", "sk", "-", ">", "sk", "_", "receive", "_", "queue", ")", ")", "<nl>", "+", "break", ";", "<nl>", "sk", "_", "wait", "_", "data", "(", "sk", ",", "&", "timeo", ",", "NULL", ")", ";", "<nl>", "if", "(", "signal", "_", "pending", "(", "current", ")", ")", "{", "<nl>", "ret", "=", "sock", "_", "intr", "_", "errno", "(", "timeo", ")", ";", "<nl>"], "docstring_tokens": ["tcp", "avoid", "infinite", "loop", "in", "tcp_splice_read"]}
{"code_tokens": ["static", "int", "ravb", "_", "close", "(", "struct", "net", "_", "device", "*", "ndev", ")", "<nl>", "priv", "-", ">", "phydev", "=", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "priv", "-", ">", "chip", "_", "id", "=", "=", "RCAR", "_", "GEN3", ")", "<nl>", "+", "if", "(", "priv", "-", ">", "chip", "_", "id", "!", "=", "RCAR", "_", "GEN2", ")", "{", "<nl>", "+", "free", "_", "irq", "(", "priv", "-", ">", "tx", "_", "irqs", "[", "RAVB", "_", "NC", "]", ",", "ndev", ")", ";", "<nl>", "+", "free", "_", "irq", "(", "priv", "-", ">", "rx", "_", "irqs", "[", "RAVB", "_", "NC", "]", ",", "ndev", ")", ";", "<nl>", "+", "free", "_", "irq", "(", "priv", "-", ">", "tx", "_", "irqs", "[", "RAVB", "_", "BE", "]", ",", "ndev", ")", ";", "<nl>", "+", "free", "_", "irq", "(", "priv", "-", ">", "rx", "_", "irqs", "[", "RAVB", "_", "BE", "]", ",", "ndev", ")", ";", "<nl>", "free", "_", "irq", "(", "priv", "-", ">", "emac", "_", "irq", ",", "ndev", ")", ";", "<nl>", "+", "}", "<nl>", "free", "_", "irq", "(", "ndev", "-", ">", "irq", ",", "ndev", ")", ";", "<nl>", "<nl>", "napi", "_", "disable", "(", "&", "priv", "-", ">", "napi", "[", "RAVB", "_", "NC", "]", ")", ";", "<nl>"], "docstring_tokens": ["ravb", "Add", "missing", "free_irq", "calls", "to", "ravb_close"]}
{"code_tokens": ["static", "int", "rtl8192eu", "_", "parse", "_", "efuse", "(", "struct", "rtl8xxxu", "_", "priv", "*", "priv", ")", "<nl>", "raw", "[", "i", "+", "6", "]", ",", "raw", "[", "i", "+", "7", "]", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Temporarily", "disable", "8192", "eu", "support", "<nl>", "+", "*", "/", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["rtl8xxxu", "Temporarily", "disable", "8192eu", "device", "init"]}
{"code_tokens": ["static", "int", "_", "_", "driver", "_", "rfc4106", "_", "decrypt", "(", "struct", "aead", "_", "request", "*", "req", ")", "<nl>", "src", "=", "kmalloc", "(", "req", "-", ">", "cryptlen", "+", "req", "-", ">", "assoclen", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "if", "(", "!", "src", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "-", "assoc", "=", "(", "src", "+", "req", "-", ">", "cryptlen", "+", "auth", "_", "tag", "_", "len", ")", ";", "<nl>", "+", "assoc", "=", "(", "src", "+", "req", "-", ">", "cryptlen", ")", ";", "<nl>", "scatterwalk", "_", "map", "_", "and", "_", "copy", "(", "src", ",", "req", "-", ">", "src", ",", "0", ",", "req", "-", ">", "cryptlen", ",", "0", ")", ";", "<nl>", "scatterwalk", "_", "map", "_", "and", "_", "copy", "(", "assoc", ",", "req", "-", ">", "assoc", ",", "0", ",", "<nl>", "req", "-", ">", "assoclen", ",", "0", ")", ";", "<nl>", "static", "int", "_", "_", "driver", "_", "rfc4106", "_", "decrypt", "(", "struct", "aead", "_", "request", "*", "req", ")", "<nl>", "scatterwalk", "_", "done", "(", "&", "src", "_", "sg", "_", "walk", ",", "0", ",", "0", ")", ";", "<nl>", "scatterwalk", "_", "done", "(", "&", "assoc", "_", "sg", "_", "walk", ",", "0", ",", "0", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "scatterwalk", "_", "map", "_", "and", "_", "copy", "(", "dst", ",", "req", "-", ">", "dst", ",", "0", ",", "req", "-", ">", "cryptlen", ",", "1", ")", ";", "<nl>", "+", "scatterwalk", "_", "map", "_", "and", "_", "copy", "(", "dst", ",", "req", "-", ">", "dst", ",", "0", ",", "tempCipherLen", ",", "1", ")", ";", "<nl>", "kfree", "(", "src", ")", ";", "<nl>", "}", "<nl>", "return", "retval", ";", "<nl>"], "docstring_tokens": ["crypto", "aesni", "fix", "memory", "usage", "in", "GCM", "decryption"]}
{"code_tokens": ["int", "igb", "_", "set", "_", "spd", "_", "dplx", "(", "struct", "igb", "_", "adapter", "*", "adapter", ",", "u16", "spddplx", ")", "<nl>", "<nl>", "mac", "-", ">", "autoneg", "=", "0", ";", "<nl>", "<nl>", "+", "/", "*", "Fiber", "NIC", "'", "s", "only", "allow", "1000", "Gbps", "Full", "duplex", "*", "/", "<nl>", "+", "if", "(", "(", "adapter", "-", ">", "hw", ".", "phy", ".", "media", "_", "type", "=", "=", "e1000", "_", "media", "_", "type", "_", "internal", "_", "serdes", ")", "&", "&", "<nl>", "+", "spddplx", "!", "=", "(", "SPEED", "_", "1000", "+", "DUPLEX", "_", "FULL", ")", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Unsupported", "Speed", "/", "Duplex", "configuration", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "switch", "(", "spddplx", ")", "{", "<nl>", "case", "SPEED", "_", "10", "+", "DUPLEX", "_", "HALF", ":", "<nl>", "mac", "-", ">", "forced", "_", "speed", "_", "duplex", "=", "ADVERTISE", "_", "10", "_", "HALF", ";", "<nl>"], "docstring_tokens": ["igb", "add", "check", "for", "fiber", "serdes", "devices", "to", "igb_set_spd_dplx"]}
{"code_tokens": ["static", "int", "kcm", "_", "sendmsg", "(", "struct", "socket", "*", "sock", ",", "struct", "msghdr", "*", "msg", ",", "size", "_", "t", "len", ")", "<nl>", "}", "else", "{", "<nl>", "/", "*", "Message", "not", "complete", ",", "save", "state", "*", "/", "<nl>", "partial", "_", "message", ":", "<nl>", "-", "kcm", "-", ">", "seq", "_", "skb", "=", "head", ";", "<nl>", "-", "kcm", "_", "tx", "_", "msg", "(", "head", ")", "-", ">", "last", "_", "skb", "=", "skb", ";", "<nl>", "+", "if", "(", "head", ")", "{", "<nl>", "+", "kcm", "-", ">", "seq", "_", "skb", "=", "head", ";", "<nl>", "+", "kcm", "_", "tx", "_", "msg", "(", "head", ")", "-", ">", "last", "_", "skb", "=", "skb", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "KCM", "_", "STATS", "_", "ADD", "(", "kcm", "-", ">", "stats", ".", "tx", "_", "bytes", ",", "copied", ")", ";", "<nl>"], "docstring_tokens": ["kcm", "fix", "a", "null", "pointer", "dereference", "in", "kcm_sendmsg"]}
{"code_tokens": ["static", "int", "orion", "_", "spi", "_", "transfer", "_", "one", "_", "message", "(", "struct", "spi", "_", "master", "*", "master", ",", "<nl>", "goto", "msg", "_", "done", ";", "<nl>", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "t", ",", "&", "m", "-", ">", "transfers", ",", "transfer", "_", "list", ")", "{", "<nl>", "-", "/", "*", "make", "sure", "buffer", "length", "is", "even", "when", "working", "in", "16", "<nl>", "-", "*", "bit", "mode", "*", "/", "<nl>", "-", "if", "(", "(", "t", "-", ">", "bits", "_", "per", "_", "word", "=", "=", "16", ")", "&", "&", "(", "t", "-", ">", "len", "&", "1", ")", ")", "{", "<nl>", "-", "dev", "_", "err", "(", "&", "spi", "-", ">", "dev", ",", "<nl>", "-", "\"", "message", "rejected", ":", "\"", "<nl>", "-", "\"", "odd", "data", "length", "%", "d", "while", "in", "16", "bit", "mode", "\\", "n", "\"", ",", "<nl>", "-", "t", "-", ">", "len", ")", ";", "<nl>", "-", "status", "=", "-", "EIO", ";", "<nl>", "-", "goto", "msg", "_", "done", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "if", "(", "par", "_", "override", "|", "|", "t", "-", ">", "speed", "_", "hz", "|", "|", "t", "-", ">", "bits", "_", "per", "_", "word", ")", "{", "<nl>", "par", "_", "override", "=", "1", ";", "<nl>", "status", "=", "orion", "_", "spi", "_", "setup", "_", "transfer", "(", "spi", ",", "t", ")", ";", "<nl>"], "docstring_tokens": ["spi", "orion", "Let", "spi", "core", "handle", "validating", "transfer", "length"]}
{"code_tokens": ["static", "int", "cmp", "_", "ies", "(", "u8", "num", ",", "u8", "*", "ies1", ",", "size", "_", "t", "len1", ",", "u8", "*", "ies2", ",", "size", "_", "t", "len2", ")", "<nl>", "<nl>", "if", "(", "!", "ie1", "&", "&", "!", "ie2", ")", "<nl>", "return", "0", ";", "<nl>", "-", "if", "(", "!", "ie1", ")", "<nl>", "+", "if", "(", "!", "ie1", "|", "|", "!", "ie2", ")", "<nl>", "return", "-", "1", ";", "<nl>", "<nl>", "r", "=", "memcmp", "(", "ie1", "+", "2", ",", "ie2", "+", "2", ",", "min", "(", "ie1", "[", "1", "]", ",", "ie2", "[", "1", "]", ")", ")", ";", "<nl>", "static", "bool", "is", "_", "mesh", "(", "struct", "cfg80211", "_", "bss", "*", "a", ",", "<nl>", "ie", "=", "find", "_", "ie", "(", "WLAN", "_", "EID", "_", "MESH", "_", "CONFIG", ",", "<nl>", "a", "-", ">", "information", "_", "elements", ",", "<nl>", "a", "-", ">", "len", "_", "information", "_", "elements", ")", ";", "<nl>", "+", "if", "(", "!", "ie", ")", "<nl>", "+", "return", "false", ";", "<nl>", "if", "(", "ie", "[", "1", "]", "!", "=", "IEEE80211", "_", "MESH", "_", "CONFIG", "_", "LEN", ")", "<nl>", "return", "false", ";", "<nl>"], "docstring_tokens": ["cfg80211", "add", "two", "missing", "NULL", "pointer", "checks"]}
{"code_tokens": ["static", "int", "f2fs", "_", "write", "_", "begin", "(", "struct", "file", "*", "file", ",", "struct", "address", "_", "space", "*", "mapping", ",", "<nl>", "<nl>", "/", "*", "check", "inline", "_", "data", "*", "/", "<nl>", "ipage", "=", "get", "_", "node", "_", "page", "(", "sbi", ",", "inode", "-", ">", "i", "_", "ino", ")", ";", "<nl>", "-", "if", "(", "IS", "_", "ERR", "(", "ipage", ")", ")", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "ipage", ")", ")", "{", "<nl>", "+", "err", "=", "PTR", "_", "ERR", "(", "ipage", ")", ";", "<nl>", "goto", "unlock", "_", "fail", ";", "<nl>", "+", "}", "<nl>", "<nl>", "set", "_", "new", "_", "dnode", "(", "&", "dn", ",", "inode", ",", "ipage", ",", "ipage", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["f2fs", "fix", "to", "return", "correct", "error", "number", "in", "f2fs_write_begin"]}
{"code_tokens": ["struct", "vfsmount", "*", "collect", "_", "mounts", "(", "struct", "path", "*", "path", ")", "<nl>", "{", "<nl>", "struct", "mount", "*", "tree", ";", "<nl>", "namespace", "_", "lock", "(", ")", ";", "<nl>", "-", "tree", "=", "copy", "_", "tree", "(", "real", "_", "mount", "(", "path", "-", ">", "mnt", ")", ",", "path", "-", ">", "dentry", ",", "<nl>", "-", "CL", "_", "COPY", "_", "ALL", "|", "CL", "_", "PRIVATE", ")", ";", "<nl>", "+", "if", "(", "!", "check", "_", "mnt", "(", "real", "_", "mount", "(", "path", "-", ">", "mnt", ")", ")", ")", "<nl>", "+", "tree", "=", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "+", "else", "<nl>", "+", "tree", "=", "copy", "_", "tree", "(", "real", "_", "mount", "(", "path", "-", ">", "mnt", ")", ",", "path", "-", ">", "dentry", ",", "<nl>", "+", "CL", "_", "COPY", "_", "ALL", "|", "CL", "_", "PRIVATE", ")", ";", "<nl>", "namespace", "_", "unlock", "(", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "tree", ")", ")", "<nl>", "return", "ERR", "_", "CAST", "(", "tree", ")", ";", "<nl>"], "docstring_tokens": ["mnt", "Fail", "collect_mounts", "when", "applied", "to", "unmounted", "mounts"]}
{"code_tokens": ["int", "iwl", "_", "mvm", "_", "remove", "_", "sta", "_", "key", "(", "struct", "iwl", "_", "mvm", "*", "mvm", ",", "<nl>", "<nl>", "/", "*", "Get", "the", "station", "from", "the", "mvm", "local", "station", "table", "*", "/", "<nl>", "mvm", "_", "sta", "=", "iwl", "_", "mvm", "_", "get", "_", "key", "_", "sta", "(", "mvm", ",", "vif", ",", "sta", ")", ";", "<nl>", "+", "if", "(", "!", "mvm", "_", "sta", ")", "{", "<nl>", "+", "IWL", "_", "ERR", "(", "mvm", ",", "\"", "Failed", "to", "find", "station", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "sta", "_", "id", "=", "mvm", "_", "sta", "-", ">", "sta", "_", "id", ";", "<nl>", "<nl>", "IWL", "_", "DEBUG", "_", "WEP", "(", "mvm", ",", "\"", "mvm", "remove", "dynamic", "key", ":", "idx", "=", "%", "d", "sta", "=", "%", "d", "\\", "n", "\"", ",", "<nl>", "keyconf", "-", ">", "keyidx", ",", "sta", "_", "id", ")", ";", "<nl>", "int", "iwl", "_", "mvm", "_", "remove", "_", "sta", "_", "key", "(", "struct", "iwl", "_", "mvm", "*", "mvm", ",", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "sta", "_", "id", "=", "mvm", "_", "sta", "-", ">", "sta", "_", "id", ";", "<nl>", "-", "<nl>", "ret", "=", "_", "_", "iwl", "_", "mvm", "_", "remove", "_", "sta", "_", "key", "(", "mvm", ",", "sta", "_", "id", ",", "keyconf", ",", "mcast", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["iwlwifi", "mvm", "Fix", "removal", "of", "IGTK"]}
{"code_tokens": ["static", "int", "fill", "_", "and", "_", "eval", "_", "dacs", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "<nl>", "memset", "(", "spec", "-", ">", "multiout", ".", "extra", "_", "out", "_", "nid", ",", "0", ",", "sizeof", "(", "spec", "-", ">", "multiout", ".", "extra", "_", "out", "_", "nid", ")", ")", ";", "<nl>", "spec", "-", ">", "multi", "_", "ios", "=", "0", ";", "<nl>", "snd", "_", "array", "_", "free", "(", "&", "spec", "-", ">", "paths", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "clear", "path", "indices", "*", "/", "<nl>", "+", "memset", "(", "spec", "-", ">", "out", "_", "paths", ",", "0", ",", "sizeof", "(", "spec", "-", ">", "out", "_", "paths", ")", ")", ";", "<nl>", "+", "memset", "(", "spec", "-", ">", "hp", "_", "paths", ",", "0", ",", "sizeof", "(", "spec", "-", ">", "hp", "_", "paths", ")", ")", ";", "<nl>", "+", "memset", "(", "spec", "-", ">", "speaker", "_", "paths", ",", "0", ",", "sizeof", "(", "spec", "-", ">", "speaker", "_", "paths", ")", ")", ";", "<nl>", "+", "memset", "(", "spec", "-", ">", "aamix", "_", "out", "_", "paths", ",", "0", ",", "sizeof", "(", "spec", "-", ">", "aamix", "_", "out", "_", "paths", ")", ")", ";", "<nl>", "+", "memset", "(", "spec", "-", ">", "digout", "_", "paths", ",", "0", ",", "sizeof", "(", "spec", "-", ">", "digout", "_", "paths", ")", ")", ";", "<nl>", "+", "memset", "(", "spec", "-", ">", "loopback", "_", "paths", ",", "0", ",", "sizeof", "(", "spec", "-", ">", "loopback", "_", "paths", ")", ")", ";", "<nl>", "+", "memset", "(", "&", "spec", "-", ">", "digin", "_", "path", ",", "0", ",", "sizeof", "(", "spec", "-", ">", "digin", "_", "path", ")", ")", ";", "<nl>", "+", "<nl>", "badness", "=", "0", ";", "<nl>", "<nl>", "/", "*", "fill", "hard", "-", "wired", "DACs", "first", "*", "/", "<nl>"], "docstring_tokens": ["ALSA", "hda", "Clear", "path", "indices", "properly", "at", "each", "re", "evaluation"]}
{"code_tokens": ["+", "/", "/", "SPDX", "-", "License", "-", "Identifier", ":", "GPL", "-", "2", ".", "0", "<nl>", "/", "*", "<nl>", "*", "Watchdog", "driver", "for", "IMX2", "and", "later", "processors", "<nl>", "*", "<nl>", "*", "some", "parts", "adapted", "by", "similar", "drivers", "from", "Darius", "Augulis", "and", "Vladimir", "<nl>", "*", "Zapolskiy", ",", "additional", "improvements", "by", "Wim", "Van", "Sebroeck", ".", "<nl>", "*", "<nl>", "-", "*", "This", "program", "is", "free", "software", ";", "you", "can", "redistribute", "it", "and", "/", "or", "modify", "it", "<nl>", "-", "*", "under", "the", "terms", "of", "the", "GNU", "General", "Public", "License", "version", "2", "as", "published", "by", "<nl>", "-", "*", "the", "Free", "Software", "Foundation", ".", "<nl>", "-", "*", "<nl>", "*", "NOTE", ":", "MX1", "has", "a", "slightly", "different", "Watchdog", "than", "MX2", "and", "later", ":", "<nl>", "*", "<nl>", "*", "MX1", ":", "MX2", "+", ":", "<nl>"], "docstring_tokens": ["watchdog", "imx2_wdt", "Switch", "to", "SPDX", "identifier"]}
{"code_tokens": ["static", "void", "pch", "_", "gpio", "_", "setup", "(", "struct", "pch", "_", "gpio", "*", "chip", ")", "<nl>", "static", "int", "pch", "_", "irq", "_", "type", "(", "struct", "irq", "_", "data", "*", "d", ",", "unsigned", "int", "type", ")", "<nl>", "{", "<nl>", "u32", "im", ";", "<nl>", "-", "u32", "*", "im", "_", "reg", ";", "<nl>", "+", "u32", "_", "_", "iomem", "*", "im", "_", "reg", ";", "<nl>", "u32", "ien", ";", "<nl>", "u32", "im", "_", "pos", ";", "<nl>", "int", "ch", ";", "<nl>"], "docstring_tokens": ["gpio", "pch", "cleanup", "__iomem", "annotation", "usage"]}
{"code_tokens": ["static", "int", "ascot2e", "_", "write", "_", "regs", "(", "struct", "ascot2e", "_", "priv", "*", "priv", ",", "<nl>", "}", "<nl>", "}", ";", "<nl>", "<nl>", "-", "if", "(", "len", "+", "1", ">", "=", "sizeof", "(", "buf", ")", ")", "{", "<nl>", "+", "if", "(", "len", "+", "1", ">", "sizeof", "(", "buf", ")", ")", "{", "<nl>", "dev", "_", "warn", "(", "&", "priv", "-", ">", "i2c", "-", ">", "dev", ",", "\"", "wr", "reg", "=", "%", "04x", ":", "len", "=", "%", "d", "is", "too", "big", "!", "\\", "n", "\"", ",", "<nl>", "reg", ",", "len", "+", "1", ")", ";", "<nl>", "return", "-", "E2BIG", ";", "<nl>"], "docstring_tokens": ["media", "ascot2e", "Fix", "I2C", "message", "size", "check"]}
{"code_tokens": ["static", "int", "ad5686", "_", "write", "_", "raw", "(", "struct", "iio", "_", "dev", "*", "indio", "_", "dev", ",", "<nl>", "<nl>", "switch", "(", "mask", ")", "{", "<nl>", "case", "0", ":", "<nl>", "-", "if", "(", "val", ">", "(", "1", "<", "<", "chan", "-", ">", "scan", "_", "type", ".", "realbits", ")", ")", "<nl>", "+", "if", "(", "val", ">", "(", "1", "<", "<", "chan", "-", ">", "scan", "_", "type", ".", "realbits", ")", "|", "|", "val", "<", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "indio", "_", "dev", "-", ">", "mlock", ")", ";", "<nl>"], "docstring_tokens": ["staging", "iio", "dac", "ad5686", "Check", "for", "negative", "values"]}
{"code_tokens": ["static", "struct", "sk", "_", "buff", "*", "netem", "_", "dequeue", "(", "struct", "Qdisc", "*", "sch", ")", "<nl>", "<nl>", "/", "*", "if", "more", "time", "remaining", "?", "*", "/", "<nl>", "if", "(", "cb", "-", ">", "time", "_", "to", "_", "send", "<", "=", "psched", "_", "get", "_", "time", "(", ")", ")", "{", "<nl>", "-", "skb", "=", "qdisc", "_", "dequeue", "_", "tail", "(", "sch", ")", ";", "<nl>", "-", "if", "(", "unlikely", "(", "!", "skb", ")", ")", "<nl>", "-", "goto", "qdisc", "_", "dequeue", ";", "<nl>", "+", "_", "_", "skb", "_", "unlink", "(", "skb", ",", "&", "sch", "-", ">", "q", ")", ";", "<nl>", "+", "sch", "-", ">", "qstats", ".", "backlog", "-", "=", "qdisc", "_", "pkt", "_", "len", "(", "skb", ")", ";", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "NET", "_", "CLS", "_", "ACT", "<nl>", "/", "*", "<nl>", "static", "struct", "sk", "_", "buff", "*", "netem", "_", "dequeue", "(", "struct", "Qdisc", "*", "sch", ")", "<nl>", "qdisc", "_", "watchdog", "_", "schedule", "(", "&", "q", "-", ">", "watchdog", ",", "cb", "-", ">", "time", "_", "to", "_", "send", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "qdisc", "_", "dequeue", ":", "<nl>", "if", "(", "q", "-", ">", "qdisc", ")", "{", "<nl>", "skb", "=", "q", "-", ">", "qdisc", "-", ">", "ops", "-", ">", "dequeue", "(", "q", "-", ">", "qdisc", ")", ";", "<nl>", "if", "(", "skb", ")", "<nl>"], "docstring_tokens": ["netem", "fix", "dequeue"]}
{"code_tokens": ["static", "ssize", "_", "t", "write", "_", "ports", "(", "struct", "file", "*", "file", ",", "char", "*", "buf", ",", "size", "_", "t", "size", ")", "<nl>", "/", "*", "Decrease", "the", "count", ",", "but", "don", "'", "t", "shutdown", "the", "<nl>", "*", "the", "service", "<nl>", "*", "/", "<nl>", "+", "lock", "_", "kernel", "(", ")", ";", "<nl>", "nfsd", "_", "serv", "-", ">", "sv", "_", "nrthreads", "-", "-", ";", "<nl>", "+", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "}", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PATCH", "knfsd", "Protect", "update", "to", "sn_nrthreads", "with", "lock_kernel"]}
{"code_tokens": ["static", "void", "blk", "_", "mq", "_", "usage", "_", "counter", "_", "release", "(", "struct", "percpu", "_", "ref", "*", "ref", ")", "<nl>", "*", "/", "<nl>", "void", "blk", "_", "mq", "_", "freeze", "_", "queue", "(", "struct", "request", "_", "queue", "*", "q", ")", "<nl>", "{", "<nl>", "+", "bool", "freeze", ";", "<nl>", "+", "<nl>", "spin", "_", "lock", "_", "irq", "(", "q", "-", ">", "queue", "_", "lock", ")", ";", "<nl>", "-", "q", "-", ">", "mq", "_", "freeze", "_", "depth", "+", "+", ";", "<nl>", "+", "freeze", "=", "!", "q", "-", ">", "mq", "_", "freeze", "_", "depth", "+", "+", ";", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "q", "-", ">", "queue", "_", "lock", ")", ";", "<nl>", "<nl>", "-", "percpu", "_", "ref", "_", "kill", "(", "&", "q", "-", ">", "mq", "_", "usage", "_", "counter", ")", ";", "<nl>", "-", "blk", "_", "mq", "_", "run", "_", "queues", "(", "q", ",", "false", ")", ";", "<nl>", "+", "if", "(", "freeze", ")", "{", "<nl>", "+", "percpu", "_", "ref", "_", "kill", "(", "&", "q", "-", ">", "mq", "_", "usage", "_", "counter", ")", ";", "<nl>", "+", "blk", "_", "mq", "_", "run", "_", "queues", "(", "q", ",", "false", ")", ";", "<nl>", "+", "}", "<nl>", "wait", "_", "event", "(", "q", "-", ">", "mq", "_", "freeze", "_", "wq", ",", "percpu", "_", "ref", "_", "is", "_", "zero", "(", "&", "q", "-", ">", "mq", "_", "usage", "_", "counter", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "blk", "_", "mq", "_", "unfreeze", "_", "queue", "(", "struct", "request", "_", "queue", "*", "q", ")", "<nl>", "{", "<nl>", "-", "bool", "wake", "=", "false", ";", "<nl>", "+", "bool", "wake", ";", "<nl>", "<nl>", "spin", "_", "lock", "_", "irq", "(", "q", "-", ">", "queue", "_", "lock", ")", ";", "<nl>", "wake", "=", "!", "-", "-", "q", "-", ">", "mq", "_", "freeze", "_", "depth", ";", "<nl>"], "docstring_tokens": ["blk", "mq", "blk_mq_freeze_queue", "should", "allow", "nesting"]}
{"code_tokens": ["static", "int", "prepend", "_", "path", "(", "const", "struct", "path", "*", "path", ",", "<nl>", "<nl>", "if", "(", "dentry", "=", "=", "vfsmnt", "-", ">", "mnt", "_", "root", "|", "|", "IS", "_", "ROOT", "(", "dentry", ")", ")", "{", "<nl>", "struct", "mount", "*", "parent", "=", "ACCESS", "_", "ONCE", "(", "mnt", "-", ">", "mnt", "_", "parent", ")", ";", "<nl>", "+", "/", "*", "Escaped", "?", "*", "/", "<nl>", "+", "if", "(", "dentry", "!", "=", "vfsmnt", "-", ">", "mnt", "_", "root", ")", "{", "<nl>", "+", "bptr", "=", "*", "buffer", ";", "<nl>", "+", "blen", "=", "*", "buflen", ";", "<nl>", "+", "error", "=", "3", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "/", "*", "Global", "root", "?", "*", "/", "<nl>", "if", "(", "mnt", "!", "=", "parent", ")", "{", "<nl>", "dentry", "=", "ACCESS", "_", "ONCE", "(", "mnt", "-", ">", "mnt", "_", "mountpoint", ")", ";", "<nl>"], "docstring_tokens": ["dcache", "Handle", "escaped", "paths", "in", "prepend_path"]}
{"code_tokens": ["static", "int", "rtnl", "_", "fill", "_", "statsinfo", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "return", "-", "EMSGSIZE", ";", "<nl>", "<nl>", "ifsm", "=", "nlmsg", "_", "data", "(", "nlh", ")", ";", "<nl>", "+", "ifsm", "-", ">", "family", "=", "PF", "_", "UNSPEC", ";", "<nl>", "+", "ifsm", "-", ">", "pad1", "=", "0", ";", "<nl>", "+", "ifsm", "-", ">", "pad2", "=", "0", ";", "<nl>", "ifsm", "-", ">", "ifindex", "=", "dev", "-", ">", "ifindex", ";", "<nl>", "ifsm", "-", ">", "filter", "_", "mask", "=", "filter", "_", "mask", ";", "<nl>"], "docstring_tokens": ["net", "rtnetlink", "fix", "info", "leak", "in", "RTM_GETSTATS", "call"]}
{"code_tokens": ["static", "int", "ccp", "_", "aes", "_", "cmac", "_", "import", "(", "struct", "ahash", "_", "request", "*", "req", ",", "const", "void", "*", "in", ")", "<nl>", "/", "*", "'", "in", "'", "may", "not", "be", "aligned", "so", "memcpy", "to", "local", "variable", "*", "/", "<nl>", "memcpy", "(", "&", "state", ",", "in", ",", "sizeof", "(", "state", ")", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "rctx", ",", "0", ",", "sizeof", "(", "*", "rctx", ")", ")", ";", "<nl>", "rctx", "-", ">", "null", "_", "msg", "=", "state", ".", "null", "_", "msg", ";", "<nl>", "memcpy", "(", "rctx", "-", ">", "iv", ",", "state", ".", "iv", ",", "sizeof", "(", "rctx", "-", ">", "iv", ")", ")", ";", "<nl>", "rctx", "-", ">", "buf", "_", "count", "=", "state", ".", "buf", "_", "count", ";", "mmm", "drivers", "/", "crypto", "/", "ccp", "/", "ccp", "-", "crypto", "-", "sha", ".", "c", "<nl>", "static", "int", "ccp", "_", "aes", "_", "cmac", "_", "import", "(", "struct", "ahash", "_", "request", "*", "req", ",", "const", "void", "*", "in", ")", "<nl>", "/", "*", "'", "in", "'", "may", "not", "be", "aligned", "so", "memcpy", "to", "local", "variable", "*", "/", "<nl>", "memcpy", "(", "&", "state", ",", "in", ",", "sizeof", "(", "state", ")", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "rctx", ",", "0", ",", "sizeof", "(", "*", "rctx", ")", ")", ";", "<nl>", "rctx", "-", ">", "null", "_", "msg", "=", "state", ".", "null", "_", "msg", ";", "<nl>", "memcpy", "(", "rctx", "-", ">", "iv", ",", "state", ".", "iv", ",", "sizeof", "(", "rctx", "-", ">", "iv", ")", ")", ";", "<nl>", "rctx", "-", ">", "buf", "_", "count", "=", "state", ".", "buf", "_", "count", ";", "<nl>", "static", "int", "ccp", "_", "sha", "_", "import", "(", "struct", "ahash", "_", "request", "*", "req", ",", "const", "void", "*", "in", ")", "<nl>", "/", "*", "'", "in", "'", "may", "not", "be", "aligned", "so", "memcpy", "to", "local", "variable", "*", "/", "<nl>", "memcpy", "(", "&", "state", ",", "in", ",", "sizeof", "(", "state", ")", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "rctx", ",", "0", ",", "sizeof", "(", "*", "rctx", ")", ")", ";", "<nl>", "rctx", "-", ">", "type", "=", "state", ".", "type", ";", "<nl>", "rctx", "-", ">", "msg", "_", "bits", "=", "state", ".", "msg", "_", "bits", ";", "<nl>", "rctx", "-", ">", "first", "=", "state", ".", "first", ";", "<nl>"], "docstring_tokens": ["crypto", "ccp", "memset", "request", "context", "to", "zero", "during", "import"]}
{"code_tokens": ["void", "brcmf", "_", "txflowblock", "(", "struct", "device", "*", "dev", ",", "bool", "state", ")", "<nl>", "<nl>", "brcmf", "_", "dbg", "(", "TRACE", ",", "\"", "Enter", "\\", "n", "\"", ")", ";", "<nl>", "<nl>", "-", "brcmf", "_", "fws", "_", "bus", "_", "blocked", "(", "drvr", ",", "state", ")", ";", "<nl>", "-", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "BRCMF", "_", "MAX", "_", "IFS", ";", "i", "+", "+", ")", "<nl>", "-", "brcmf", "_", "txflowblock", "_", "if", "(", "drvr", "-", ">", "iflist", "[", "i", "]", ",", "<nl>", "-", "BRCMF", "_", "NETIF", "_", "STOP", "_", "REASON", "_", "BLOCK", "_", "BUS", ",", "state", ")", ";", "<nl>", "+", "if", "(", "brcmf", "_", "fws", "_", "fc", "_", "active", "(", "drvr", "-", ">", "fws", ")", ")", "{", "<nl>", "+", "brcmf", "_", "fws", "_", "bus", "_", "blocked", "(", "drvr", ",", "state", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "BRCMF", "_", "MAX", "_", "IFS", ";", "i", "+", "+", ")", "<nl>", "+", "brcmf", "_", "txflowblock", "_", "if", "(", "drvr", "-", ">", "iflist", "[", "i", "]", ",", "<nl>", "+", "BRCMF", "_", "NETIF", "_", "STOP", "_", "REASON", "_", "BLOCK", "_", "BUS", ",", "<nl>", "+", "state", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "void", "brcmf", "_", "rx", "_", "frames", "(", "struct", "device", "*", "dev", ",", "struct", "sk", "_", "buff", "_", "head", "*", "skb", "_", "list", ")", "<nl>"], "docstring_tokens": ["brcmfmac", "On", "bus", "flow", "control", "use", "fw", "signalling", "or", "netif"]}
{"code_tokens": ["int", "platform", "_", "device", "_", "add", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "else", "<nl>", "dev", "_", "set", "_", "name", "(", "&", "pdev", "-", ">", "dev", ",", "pdev", "-", ">", "name", ")", ";", "<nl>", "<nl>", "-", "pdev", "-", ">", "platform", "_", "data", "=", "pdev", "-", ">", "dev", ".", "platform", "_", "data", ";", "<nl>", "+", "/", "*", "We", "will", "remove", "platform", "_", "data", "field", "from", "struct", "device", "<nl>", "+", "*", "if", "all", "platform", "devices", "pass", "its", "platform", "specific", "data", "<nl>", "+", "*", "from", "platform", "_", "device", ".", "The", "conversion", "is", "going", "to", "be", "a", "<nl>", "+", "*", "long", "time", ",", "so", "we", "allow", "the", "two", "cases", "coexist", "to", "make", "<nl>", "+", "*", "this", "kind", "of", "fix", "more", "easily", "*", "/", "<nl>", "+", "if", "(", "pdev", "-", ">", "platform", "_", "data", "&", "&", "pdev", "-", ">", "dev", ".", "platform", "_", "data", ")", "{", "<nl>", "+", "printk", "(", "KERN", "_", "ERR", "<nl>", "+", "\"", "%", "s", ":", "use", "which", "platform", "_", "data", "?", "\\", "n", "\"", ",", "<nl>", "+", "dev", "_", "name", "(", "&", "pdev", "-", ">", "dev", ")", ")", ";", "<nl>", "+", "}", "else", "if", "(", "pdev", "-", ">", "platform", "_", "data", ")", "{", "<nl>", "+", "pdev", "-", ">", "dev", ".", "platform", "_", "data", "=", "pdev", "-", ">", "platform", "_", "data", ";", "<nl>", "+", "}", "else", "if", "(", "pdev", "-", ">", "dev", ".", "platform", "_", "data", ")", "{", "<nl>", "+", "pdev", "-", ">", "platform", "_", "data", "=", "pdev", "-", ">", "dev", ".", "platform", "_", "data", ";", "<nl>", "+", "}", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "pdev", "-", ">", "num", "_", "resources", ";", "i", "+", "+", ")", "{", "<nl>", "struct", "resource", "*", "p", ",", "*", "r", "=", "&", "pdev", "-", ">", "resource", "[", "i", "]", ";", "<nl>"], "docstring_tokens": ["driver", "core", "fix", "passing", "platform_data"]}
{"code_tokens": ["get", "_", "futex", "_", "key", "(", "u32", "_", "_", "user", "*", "uaddr", ",", "int", "fshared", ",", "union", "futex", "_", "key", "*", "key", ",", "int", "rw", ")", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "+", "page", "=", "compound", "_", "head", "(", "page", ")", ";", "<nl>", "lock", "_", "page", "(", "page", ")", ";", "<nl>", "if", "(", "!", "page", "-", ">", "mapping", ")", "{", "<nl>", "unlock", "_", "page", "(", "page", ")", ";", "<nl>"], "docstring_tokens": ["futexes", "Fix", "infinite", "loop", "in", "get_futex_key", "on", "huge", "page"]}
{"code_tokens": ["static", "void", "exynos5", "_", "powerdown", "_", "conf", "(", "enum", "sys", "_", "powerdown", "mode", ")", "<nl>", "void", "exynos", "_", "sys", "_", "powerdown", "_", "conf", "(", "enum", "sys", "_", "powerdown", "mode", ")", "<nl>", "{", "<nl>", "unsigned", "int", "i", ";", "<nl>", "+", "const", "struct", "exynos", "_", "pmu", "_", "data", "*", "pmu", "_", "data", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "pmu", "_", "context", ")", "<nl>", "+", "return", ";", "<nl>", "<nl>", "-", "const", "struct", "exynos", "_", "pmu", "_", "data", "*", "pmu", "_", "data", "=", "pmu", "_", "context", "-", ">", "pmu", "_", "data", ";", "<nl>", "+", "pmu", "_", "data", "=", "pmu", "_", "context", "-", ">", "pmu", "_", "data", ";", "<nl>", "<nl>", "if", "(", "pmu", "_", "data", "-", ">", "powerdown", "_", "conf", ")", "<nl>", "pmu", "_", "data", "-", ">", "powerdown", "_", "conf", "(", "mode", ")", ";", "<nl>"], "docstring_tokens": ["ARM", "EXYNOS", "Fix", "potential", "NULL", "pointer", "access", "in", "exynos_sys_powerdown_conf"]}
{"code_tokens": ["static", "void", "soc", "_", "init", "_", "codec", "_", "debugfs", "(", "struct", "snd", "_", "soc", "_", "codec", "*", "codec", ")", "<nl>", "{", "<nl>", "char", "codec", "_", "root", "[", "128", "]", ";", "<nl>", "<nl>", "-", "snprintf", "(", "codec", "_", "root", ",", "sizeof", "(", "codec", "_", "root", ")", ",", "<nl>", "-", "\"", "%", "s", "-", "%", "s", "\"", ",", "dev", "_", "name", "(", "codec", "-", ">", "socdev", "-", ">", "dev", ")", ",", "codec", "-", ">", "name", ")", ";", "<nl>", "+", "if", "(", "codec", "-", ">", "dev", ")", "<nl>", "+", "snprintf", "(", "codec", "_", "root", ",", "sizeof", "(", "codec", "_", "root", ")", ",", "<nl>", "+", "\"", "%", "s", ".", "%", "s", "\"", ",", "codec", "-", ">", "name", ",", "dev", "_", "name", "(", "codec", "-", ">", "dev", ")", ")", ";", "<nl>", "+", "else", "<nl>", "+", "snprintf", "(", "codec", "_", "root", ",", "sizeof", "(", "codec", "_", "root", ")", ",", "<nl>", "+", "\"", "%", "s", "\"", ",", "codec", "-", ">", "name", ")", ";", "<nl>", "<nl>", "codec", "-", ">", "debugfs", "_", "codec", "_", "root", "=", "debugfs", "_", "create", "_", "dir", "(", "codec", "_", "root", ",", "<nl>", "debugfs", "_", "root", ")", ";", "<nl>"], "docstring_tokens": ["ASoC", "Improve", "the", "debugfs", "hierarchy"]}
{"code_tokens": ["static", "inline", "bool", "kvm", "_", "apic", "_", "vid", "_", "enabled", "(", "struct", "kvm", "*", "kvm", ")", "<nl>", "<nl>", "static", "inline", "bool", "kvm", "_", "apic", "_", "has", "_", "events", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "{", "<nl>", "-", "return", "vcpu", "-", ">", "arch", ".", "apic", "-", ">", "pending", "_", "events", ";", "<nl>", "+", "return", "kvm", "_", "vcpu", "_", "has", "_", "lapic", "(", "vcpu", ")", "&", "&", "vcpu", "-", ">", "arch", ".", "apic", "-", ">", "pending", "_", "events", ";", "<nl>", "}", "<nl>", "<nl>", "static", "inline", "bool", "kvm", "_", "lowest", "_", "prio", "_", "delivery", "(", "struct", "kvm", "_", "lapic", "_", "irq", "*", "irq", ")", "<nl>"], "docstring_tokens": ["kvm", "x86", "fix", "kvm_apic_has_events", "to", "check", "for", "NULL", "pointer"]}
{"code_tokens": ["acpi", "_", "ev", "_", "initialize", "_", "gpe", "_", "block", "(", "struct", "acpi", "_", "namespace", "_", "node", "*", "gpe", "_", "device", ",", "<nl>", "<nl>", "gpe", "_", "index", "=", "(", "i", "*", "ACPI", "_", "GPE", "_", "REGISTER", "_", "WIDTH", ")", "+", "j", ";", "<nl>", "gpe", "_", "event", "_", "info", "=", "&", "gpe", "_", "block", "-", ">", "event", "_", "info", "[", "gpe", "_", "index", "]", ";", "<nl>", "+", "gpe", "_", "number", "=", "gpe", "_", "index", "+", "gpe", "_", "block", "-", ">", "block", "_", "base", "_", "number", ";", "<nl>", "+", "<nl>", "+", "/", "*", "<nl>", "+", "*", "If", "the", "GPE", "has", "already", "been", "enabled", "for", "runtime", "<nl>", "+", "*", "signaling", ",", "make", "sure", "it", "remains", "enabled", ",", "but", "do", "not", "<nl>", "+", "*", "increment", "its", "reference", "counter", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "gpe", "_", "event", "_", "info", "-", ">", "runtime", "_", "count", ")", "{", "<nl>", "+", "acpi", "_", "set", "_", "gpe", "(", "gpe", "_", "device", ",", "gpe", "_", "number", ",", "<nl>", "+", "ACPI", "_", "GPE", "_", "ENABLE", ")", ";", "<nl>", "+", "gpe", "_", "enabled", "_", "count", "+", "+", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "gpe", "_", "event", "_", "info", "-", ">", "flags", "&", "ACPI", "_", "GPE", "_", "CAN", "_", "WAKE", ")", "{", "<nl>", "wake", "_", "gpe", "_", "count", "+", "+", ";", "<nl>", "acpi", "_", "ev", "_", "initialize", "_", "gpe", "_", "block", "(", "struct", "acpi", "_", "namespace", "_", "node", "*", "gpe", "_", "device", ",", "<nl>", "<nl>", "/", "*", "Enable", "this", "GPE", "*", "/", "<nl>", "<nl>", "-", "gpe", "_", "number", "=", "gpe", "_", "index", "+", "gpe", "_", "block", "-", ">", "block", "_", "base", "_", "number", ";", "<nl>", "status", "=", "acpi", "_", "enable", "_", "gpe", "(", "gpe", "_", "device", ",", "gpe", "_", "number", ",", "<nl>", "ACPI", "_", "GPE", "_", "TYPE", "_", "RUNTIME", ")", ";", "<nl>", "if", "(", "ACPI", "_", "FAILURE", "(", "status", ")", ")", "{", "<nl>"], "docstring_tokens": ["ACPI", "ACPICA", "Fix", "GPE", "initialization"]}
{"code_tokens": ["static", "int", "_", "_", "init", "check", "_", "parameters", "(", "struct", "fsg", "_", "dev", "*", "fsg", ")", "<nl>", "mod", "_", "data", ".", "protocol", "_", "type", "=", "USB", "_", "SC", "_", "SCSI", ";", "<nl>", "mod", "_", "data", ".", "protocol", "_", "name", "=", "\"", "Transparent", "SCSI", "\"", ";", "<nl>", "<nl>", "-", "if", "(", "gadget", "_", "is", "_", "sh", "(", "fsg", "-", ">", "gadget", ")", ")", "<nl>", "+", "/", "*", "Some", "peripheral", "controllers", "are", "known", "not", "to", "be", "able", "to", "<nl>", "+", "*", "halt", "bulk", "endpoints", "correctly", ".", "If", "one", "of", "them", "is", "present", ",", "<nl>", "+", "*", "disable", "stalls", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "gadget", "_", "is", "_", "sh", "(", "fsg", "-", ">", "gadget", ")", "|", "|", "gadget", "_", "is", "_", "at91", "(", "fsg", "-", ">", "gadget", ")", ")", "<nl>", "mod", "_", "data", ".", "can", "_", "stall", "=", "0", ";", "<nl>", "<nl>", "if", "(", "mod", "_", "data", ".", "release", "=", "=", "0xffff", ")", "{", "/", "/", "Parameter", "wasn", "'", "t", "set", "<nl>"], "docstring_tokens": ["USB", "g_file_storage", "automatically", "disable", "stalls", "under", "Atmel"]}
{"code_tokens": ["static", "int", "drbg", "_", "generate", "_", "long", "(", "struct", "drbg", "_", "state", "*", "drbg", ",", "<nl>", "if", "(", "0", ">", "=", "tmplen", ")", "<nl>", "return", "tmplen", ";", "<nl>", "len", "+", "=", "tmplen", ";", "<nl>", "-", "}", "while", "(", "slice", ">", "0", ")", ";", "<nl>", "+", "}", "while", "(", "slice", ">", "0", "&", "&", "(", "len", "<", "buflen", ")", ")", ";", "<nl>", "return", "len", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["crypto", "drbg", "fix", "failure", "of", "generating", "multiple", "of", "2", "16", "bytes"]}
{"code_tokens": ["static", "noinline", "int", "create", "_", "subvol", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "<nl>", "btrfs", "_", "record", "_", "root", "_", "in", "_", "trans", "(", "trans", ",", "new", "_", "root", ")", ";", "<nl>", "<nl>", "ret", "=", "btrfs", "_", "create", "_", "subvol", "_", "root", "(", "trans", ",", "new", "_", "root", ",", "new", "_", "dirid", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "{", "<nl>", "+", "/", "*", "We", "potentially", "lose", "an", "unused", "inode", "item", "here", "*", "/", "<nl>", "+", "goto", "fail", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "insert", "the", "directory", "item", "<nl>", "*", "/", "mmm", "fs", "/", "btrfs", "/", "inode", ".", "c", "<nl>", "static", "noinline", "int", "create", "_", "subvol", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "<nl>", "btrfs", "_", "record", "_", "root", "_", "in", "_", "trans", "(", "trans", ",", "new", "_", "root", ")", ";", "<nl>", "<nl>", "ret", "=", "btrfs", "_", "create", "_", "subvol", "_", "root", "(", "trans", ",", "new", "_", "root", ",", "new", "_", "dirid", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "{", "<nl>", "+", "/", "*", "We", "potentially", "lose", "an", "unused", "inode", "item", "here", "*", "/", "<nl>", "+", "goto", "fail", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "insert", "the", "directory", "item", "<nl>", "*", "/", "<nl>", "int", "btrfs", "_", "create", "_", "subvol", "_", "root", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "btrfs", "_", "i", "_", "size", "_", "write", "(", "inode", ",", "0", ")", ";", "<nl>", "<nl>", "err", "=", "btrfs", "_", "update", "_", "inode", "(", "trans", ",", "new", "_", "root", ",", "inode", ")", ";", "<nl>", "-", "BUG", "_", "ON", "(", "err", ")", ";", "<nl>", "<nl>", "iput", "(", "inode", ")", ";", "<nl>", "-", "return", "0", ";", "<nl>", "+", "return", "err", ";", "<nl>", "}", "<nl>", "<nl>", "struct", "inode", "*", "btrfs", "_", "alloc", "_", "inode", "(", "struct", "super", "_", "block", "*", "sb", ")", "<nl>"], "docstring_tokens": ["btrfs", "Don", "t", "BUG_ON", "errors", "from", "btrfs_create_subvol_root"]}
{"code_tokens": ["static", "void", "_", "_", "reada", "_", "start", "_", "machine", "(", "struct", "btrfs", "_", "fs", "_", "info", "*", "fs", "_", "info", ")", "<nl>", "<nl>", "do", "{", "<nl>", "enqueued", "=", "0", ";", "<nl>", "+", "mutex", "_", "lock", "(", "&", "fs", "_", "devices", "-", ">", "device", "_", "list", "_", "mutex", ")", ";", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "device", ",", "&", "fs", "_", "devices", "-", ">", "devices", ",", "dev", "_", "list", ")", "{", "<nl>", "if", "(", "atomic", "_", "read", "(", "&", "device", "-", ">", "reada", "_", "in", "_", "flight", ")", "<", "<nl>", "MAX", "_", "IN", "_", "FLIGHT", ")", "<nl>", "enqueued", "+", "=", "reada", "_", "start", "_", "machine", "_", "dev", "(", "fs", "_", "info", ",", "<nl>", "device", ")", ";", "<nl>", "}", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "fs", "_", "devices", "-", ">", "device", "_", "list", "_", "mutex", ")", ";", "<nl>", "total", "+", "=", "enqueued", ";", "<nl>", "}", "while", "(", "enqueued", "&", "&", "total", "<", "10000", ")", ";", "<nl>"], "docstring_tokens": ["Btrfs", "fix", "race", "between", "readahead", "and", "device", "replace", "removal"]}
{"code_tokens": ["static", "void", "solos", "_", "bh", "(", "unsigned", "long", "card", "_", "arg", ")", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "<nl>", "-", "skb", "=", "alloc", "_", "skb", "(", "size", "+", "1", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "/", "*", "Use", "netdev", "_", "alloc", "_", "skb", "(", ")", "because", "it", "adds", "NET", "_", "SKB", "_", "PAD", "of", "<nl>", "+", "*", "headroom", ",", "and", "ensures", "we", "can", "route", "packets", "back", "out", "an", "<nl>", "+", "*", "Ethernet", "interface", "(", "for", "example", ")", "without", "having", "to", "<nl>", "+", "*", "reallocate", ".", "Adding", "NET", "_", "IP", "_", "ALIGN", "also", "ensures", "that", "both", "<nl>", "+", "*", "PPPoATM", "and", "PPPoEoBR2684", "packets", "end", "up", "aligned", ".", "*", "/", "<nl>", "+", "skb", "=", "netdev", "_", "alloc", "_", "skb", "_", "ip", "_", "align", "(", "NULL", ",", "size", "+", "1", ")", ";", "<nl>", "if", "(", "!", "skb", ")", "{", "<nl>", "if", "(", "net", "_", "ratelimit", "(", ")", ")", "<nl>", "dev", "_", "warn", "(", "&", "card", "-", ">", "dev", "-", ">", "dev", ",", "\"", "Failed", "to", "allocate", "sk", "_", "buff", "for", "RX", "\\", "n", "\"", ")", ";", "<nl>", "static", "void", "solos", "_", "bh", "(", "unsigned", "long", "card", "_", "arg", ")", "<nl>", "/", "*", "Allocate", "RX", "skbs", "for", "any", "ports", "which", "need", "them", "*", "/", "<nl>", "if", "(", "card", "-", ">", "using", "_", "dma", "&", "&", "card", "-", ">", "atmdev", "[", "port", "]", "&", "&", "<nl>", "!", "card", "-", ">", "rx", "_", "skb", "[", "port", "]", ")", "{", "<nl>", "-", "struct", "sk", "_", "buff", "*", "skb", "=", "alloc", "_", "skb", "(", "RX", "_", "DMA", "_", "SIZE", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "/", "*", "Unlike", "the", "MMIO", "case", "(", "qv", ")", "we", "can", "'", "t", "add", "NET", "_", "IP", "_", "ALIGN", "<nl>", "+", "*", "here", ";", "the", "FPGA", "can", "only", "DMA", "to", "addresses", "which", "are", "<nl>", "+", "*", "aligned", "to", "4", "bytes", ".", "*", "/", "<nl>", "+", "struct", "sk", "_", "buff", "*", "skb", "=", "dev", "_", "alloc", "_", "skb", "(", "RX", "_", "DMA", "_", "SIZE", ")", ";", "<nl>", "if", "(", "skb", ")", "{", "<nl>", "SKB", "_", "CB", "(", "skb", ")", "-", ">", "dma", "_", "addr", "=", "<nl>", "dma", "_", "map", "_", "single", "(", "&", "card", "-", ">", "dev", "-", ">", "dev", ",", "skb", "-", ">", "data", ",", "<nl>"], "docstring_tokens": ["solos", "pci", "Increase", "headroom", "on", "received", "packets"]}
{"code_tokens": ["int", "vb2", "_", "mmap", "(", "struct", "vb2", "_", "queue", "*", "q", ",", "struct", "vm", "_", "area", "_", "struct", "*", "vma", ")", "<nl>", "{", "<nl>", "unsigned", "long", "off", "=", "vma", "-", ">", "vm", "_", "pgoff", "<", "<", "PAGE", "_", "SHIFT", ";", "<nl>", "struct", "vb2", "_", "buffer", "*", "vb", ";", "<nl>", "-", "unsigned", "int", "buffer", ",", "plane", ";", "<nl>", "+", "unsigned", "int", "buffer", "=", "0", ",", "plane", "=", "0", ";", "<nl>", "int", "ret", ";", "<nl>", "unsigned", "long", "length", ";", "<nl>"], "docstring_tokens": ["media", "vb2", "fix", "compiler", "warning"]}
{"code_tokens": ["static", "int", "set", "_", "rtc", "_", "irq", "_", "bit", "(", "unsigned", "char", "bit", ")", "<nl>", "unsigned", "char", "val", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "/", "*", "if", "the", "bit", "is", "set", ",", "return", "from", "here", "*", "/", "<nl>", "+", "if", "(", "rtc", "_", "irq", "_", "bits", "&", "bit", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "val", "=", "rtc", "_", "irq", "_", "bits", "|", "bit", ";", "<nl>", "val", "&", "=", "~", "BIT", "_", "RTC", "_", "INTERRUPTS", "_", "REG", "_", "EVERY", "_", "M", ";", "<nl>", "ret", "=", "twl", "_", "rtc", "_", "write", "_", "u8", "(", "val", ",", "REG", "_", "RTC", "_", "INTERRUPTS", "_", "REG", ")", ";", "<nl>", "static", "int", "mask", "_", "rtc", "_", "irq", "_", "bit", "(", "unsigned", "char", "bit", ")", "<nl>", "unsigned", "char", "val", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "/", "*", "if", "the", "bit", "is", "clear", ",", "return", "from", "here", "*", "/", "<nl>", "+", "if", "(", "!", "(", "rtc", "_", "irq", "_", "bits", "&", "bit", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "val", "=", "rtc", "_", "irq", "_", "bits", "&", "~", "bit", ";", "<nl>", "ret", "=", "twl", "_", "rtc", "_", "write", "_", "u8", "(", "val", ",", "REG", "_", "RTC", "_", "INTERRUPTS", "_", "REG", ")", ";", "<nl>", "if", "(", "ret", "=", "=", "0", ")", "<nl>"], "docstring_tokens": ["drivers", "rtc", "rtc", "twl", "c", "optimize", "IRQ", "bit", "access"]}
{"code_tokens": ["static", "void", "ath9k", "_", "htc", "_", "send", "_", "buffered", "(", "struct", "ath9k", "_", "htc", "_", "priv", "*", "priv", ",", "<nl>", "}", "<nl>", "<nl>", "tx", "_", "slot", "=", "ath9k", "_", "htc", "_", "tx", "_", "get", "_", "slot", "(", "priv", ")", ";", "<nl>", "-", "if", "(", "tx", "_", "slot", "!", "=", "0", ")", "{", "<nl>", "+", "if", "(", "tx", "_", "slot", "<", "0", ")", "{", "<nl>", "ath", "_", "dbg", "(", "common", ",", "ATH", "_", "DBG", "_", "XMIT", ",", "\"", "No", "free", "CAB", "slot", "\\", "n", "\"", ")", ";", "<nl>", "dev", "_", "kfree", "_", "skb", "_", "any", "(", "skb", ")", ";", "<nl>", "goto", "next", ";", "<nl>"], "docstring_tokens": ["ath9k_htc", "Fix", "free", "slot", "value", "for", "cab", "queue"]}
{"code_tokens": ["static", "int", "_", "_", "xen", "_", "pcibk", "_", "add", "_", "pci", "_", "dev", "(", "struct", "xen", "_", "pcibk", "_", "device", "*", "pdev", ",", "<nl>", "/", "*", "Publish", "this", "device", ".", "*", "/", "<nl>", "if", "(", "!", "err", ")", "<nl>", "err", "=", "publish", "_", "cb", "(", "pdev", ",", "0", ",", "0", ",", "PCI", "_", "DEVFN", "(", "slot", ",", "func", ")", ",", "devid", ")", ";", "<nl>", "+", "else", "<nl>", "+", "kfree", "(", "dev", "_", "entry", ")", ";", "<nl>", "<nl>", "out", ":", "<nl>", "return", "err", ";", "<nl>"], "docstring_tokens": ["xen", "fix", "memory", "leak", "in", "__xen_pcibk_add_pci_dev"]}
{"code_tokens": ["static", "int", "iscsi", "_", "add", "_", "notunderstood", "_", "response", "(", "<nl>", "}", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "extra", "_", "response", "-", ">", "er", "_", "list", ")", ";", "<nl>", "<nl>", "-", "strncpy", "(", "extra", "_", "response", "-", ">", "key", ",", "key", ",", "strlen", "(", "key", ")", "+", "1", ")", ";", "<nl>", "-", "strncpy", "(", "extra", "_", "response", "-", ">", "value", ",", "NOTUNDERSTOOD", ",", "<nl>", "-", "strlen", "(", "NOTUNDERSTOOD", ")", "+", "1", ")", ";", "<nl>", "+", "strlcpy", "(", "extra", "_", "response", "-", ">", "key", ",", "key", ",", "sizeof", "(", "extra", "_", "response", "-", ">", "key", ")", ")", ";", "<nl>", "+", "strlcpy", "(", "extra", "_", "response", "-", ">", "value", ",", "NOTUNDERSTOOD", ",", "<nl>", "+", "sizeof", "(", "extra", "_", "response", "-", ">", "value", ")", ")", ";", "<nl>", "<nl>", "list", "_", "add", "_", "tail", "(", "&", "extra", "_", "response", "-", ">", "er", "_", "list", ",", "<nl>", "&", "param", "_", "list", "-", ">", "extra", "_", "response", "_", "list", ")", ";", "<nl>", "int", "iscsi", "_", "decode", "_", "text", "_", "input", "(", "<nl>", "<nl>", "if", "(", "phase", "&", "PHASE", "_", "SECURITY", ")", "{", "<nl>", "if", "(", "iscsi", "_", "check", "_", "for", "_", "auth", "_", "key", "(", "key", ")", ">", "0", ")", "{", "<nl>", "-", "char", "*", "tmpptr", "=", "key", "+", "strlen", "(", "key", ")", ";", "<nl>", "-", "*", "tmpptr", "=", "'", "=", "'", ";", "<nl>", "kfree", "(", "tmpbuf", ")", ";", "<nl>", "return", "1", ";", "<nl>", "}", "mmm", "drivers", "/", "target", "/", "iscsi", "/", "iscsi", "_", "target", "_", "parameters", ".", "h", "<nl>", "static", "int", "iscsi", "_", "add", "_", "notunderstood", "_", "response", "(", "<nl>", "}", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "extra", "_", "response", "-", ">", "er", "_", "list", ")", ";", "<nl>", "<nl>", "-", "strncpy", "(", "extra", "_", "response", "-", ">", "key", ",", "key", ",", "strlen", "(", "key", ")", "+", "1", ")", ";", "<nl>", "-", "strncpy", "(", "extra", "_", "response", "-", ">", "value", ",", "NOTUNDERSTOOD", ",", "<nl>", "-", "strlen", "(", "NOTUNDERSTOOD", ")", "+", "1", ")", ";", "<nl>", "+", "strlcpy", "(", "extra", "_", "response", "-", ">", "key", ",", "key", ",", "sizeof", "(", "extra", "_", "response", "-", ">", "key", ")", ")", ";", "<nl>", "+", "strlcpy", "(", "extra", "_", "response", "-", ">", "value", ",", "NOTUNDERSTOOD", ",", "<nl>", "+", "sizeof", "(", "extra", "_", "response", "-", ">", "value", ")", ")", ";", "<nl>", "<nl>", "list", "_", "add", "_", "tail", "(", "&", "extra", "_", "response", "-", ">", "er", "_", "list", ",", "<nl>", "&", "param", "_", "list", "-", ">", "extra", "_", "response", "_", "list", ")", ";", "<nl>", "int", "iscsi", "_", "decode", "_", "text", "_", "input", "(", "<nl>", "<nl>", "if", "(", "phase", "&", "PHASE", "_", "SECURITY", ")", "{", "<nl>", "if", "(", "iscsi", "_", "check", "_", "for", "_", "auth", "_", "key", "(", "key", ")", ">", "0", ")", "{", "<nl>", "-", "char", "*", "tmpptr", "=", "key", "+", "strlen", "(", "key", ")", ";", "<nl>", "-", "*", "tmpptr", "=", "'", "=", "'", ";", "<nl>", "kfree", "(", "tmpbuf", ")", ";", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>", "#", "ifndef", "ISCSI", "_", "PARAMETERS", "_", "H", "<nl>", "#", "define", "ISCSI", "_", "PARAMETERS", "_", "H", "<nl>", "<nl>", "+", "#", "include", "<", "scsi", "/", "iscsi", "_", "proto", ".", "h", ">", "<nl>", "+", "<nl>", "struct", "iscsi", "_", "extra", "_", "response", "{", "<nl>", "-", "char", "key", "[", "64", "]", ";", "<nl>", "+", "char", "key", "[", "KEY", "_", "MAXLEN", "]", ";", "<nl>", "char", "value", "[", "32", "]", ";", "<nl>", "struct", "list", "_", "head", "er", "_", "list", ";", "<nl>", "}", "_", "_", "_", "_", "cacheline", "_", "aligned", ";", "<nl>"], "docstring_tokens": ["iscsi", "target", "fix", "heap", "buffer", "overflow", "on", "error"]}
{"code_tokens": ["int", "genl", "_", "register", "_", "family", "(", "struct", "genl", "_", "family", "*", "family", ")", "<nl>", "start", ",", "end", "+", "1", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "family", "-", ">", "id", "<", "0", ")", "{", "<nl>", "err", "=", "family", "-", ">", "id", ";", "<nl>", "-", "goto", "errout", "_", "locked", ";", "<nl>", "+", "goto", "errout", "_", "free", ";", "<nl>", "}", "<nl>", "<nl>", "err", "=", "genl", "_", "validate", "_", "assign", "_", "mc", "_", "groups", "(", "family", ")", ";", "<nl>", "int", "genl", "_", "register", "_", "family", "(", "struct", "genl", "_", "family", "*", "family", ")", "<nl>", "<nl>", "errout", "_", "remove", ":", "<nl>", "idr", "_", "remove", "(", "&", "genl", "_", "fam", "_", "idr", ",", "family", "-", ">", "id", ")", ";", "<nl>", "+", "errout", "_", "free", ":", "<nl>", "kfree", "(", "family", "-", ">", "attrbuf", ")", ";", "<nl>", "errout", "_", "locked", ":", "<nl>", "genl", "_", "unlock", "_", "all", "(", ")", ";", "<nl>"], "docstring_tokens": ["genetlink", "Fix", "a", "memory", "leak", "on", "error", "path"]}
{"code_tokens": ["static", "int", "snd", "_", "timer", "_", "user", "_", "params", "(", "struct", "file", "*", "file", ",", "<nl>", "if", "(", "tu", "-", ">", "timeri", "-", ">", "flags", "&", "SNDRV", "_", "TIMER", "_", "IFLG", "_", "EARLY", "_", "EVENT", ")", "{", "<nl>", "if", "(", "tu", "-", ">", "tread", ")", "{", "<nl>", "struct", "snd", "_", "timer", "_", "tread", "tread", ";", "<nl>", "+", "memset", "(", "&", "tread", ",", "0", ",", "sizeof", "(", "tread", ")", ")", ";", "<nl>", "tread", ".", "event", "=", "SNDRV", "_", "TIMER", "_", "EVENT", "_", "EARLY", ";", "<nl>", "tread", ".", "tstamp", ".", "tv", "_", "sec", "=", "0", ";", "<nl>", "tread", ".", "tstamp", ".", "tv", "_", "nsec", "=", "0", ";", "<nl>"], "docstring_tokens": ["ALSA", "timer", "Fix", "leak", "in", "SNDRV_TIMER_IOCTL_PARAMS"]}
{"code_tokens": ["static", "int", "uwbd", "(", "void", "*", "param", ")", "<nl>", "HZ", ")", ";", "<nl>", "if", "(", "should", "_", "stop", ")", "<nl>", "break", ";", "<nl>", "-", "try", "_", "to", "_", "freeze", "(", ")", ";", "<nl>", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "rc", "-", ">", "uwbd", ".", "event", "_", "list", "_", "lock", ",", "flags", ")", ";", "<nl>", "if", "(", "!", "list", "_", "empty", "(", "&", "rc", "-", ">", "uwbd", ".", "event", "_", "list", ")", ")", "{", "<nl>"], "docstring_tokens": ["uwb", "uwbd", "is", "not", "freezable", "kthread"]}
{"code_tokens": ["inherit", "_", "event", "(", "struct", "perf", "_", "event", "*", "parent", "_", "event", ",", "<nl>", "struct", "perf", "_", "event", "_", "context", "*", "child", "_", "ctx", ")", "<nl>", "{", "<nl>", "struct", "perf", "_", "event", "*", "child", "_", "event", ";", "<nl>", "+", "unsigned", "long", "flags", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Instead", "of", "creating", "recursive", "hierarchies", "of", "events", ",", "<nl>", "inherit", "_", "event", "(", "struct", "perf", "_", "event", "*", "parent", "_", "event", ",", "<nl>", "/", "*", "<nl>", "*", "Link", "it", "up", "in", "the", "child", "'", "s", "context", ":", "<nl>", "*", "/", "<nl>", "+", "raw", "_", "spin", "_", "lock", "_", "irqsave", "(", "&", "child", "_", "ctx", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "add", "_", "event", "_", "to", "_", "ctx", "(", "child", "_", "event", ",", "child", "_", "ctx", ")", ";", "<nl>", "+", "raw", "_", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "child", "_", "ctx", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Get", "a", "reference", "to", "the", "parent", "filp", "-", "we", "will", "fput", "it", "<nl>"], "docstring_tokens": ["perf", "Ensure", "we", "call", "add_event_to_ctx", "with", "the", "right", "locks", "held"]}
{"code_tokens": ["static", "int", "sensor", "_", "hub", "_", "probe", "(", "struct", "hid", "_", "device", "*", "hdev", ",", "<nl>", "if", "(", "name", "=", "=", "NULL", ")", "{", "<nl>", "hid", "_", "err", "(", "hdev", ",", "\"", "Failed", "MFD", "device", "name", "\\", "n", "\"", ")", ";", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>", "+", "kfree", "(", "hsdev", ")", ";", "<nl>", "goto", "err", "_", "no", "_", "mem", ";", "<nl>", "}", "<nl>", "sd", "-", ">", "hid", "_", "sensor", "_", "hub", "_", "client", "_", "devs", "[", "<nl>"], "docstring_tokens": ["HID", "sensor", "hub", "fix", "potential", "memory", "leak"]}
{"code_tokens": ["ieee80211", "_", "tx", "_", "info", "_", "clear", "_", "status", "(", "struct", "ieee80211", "_", "tx", "_", "info", "*", "info", ")", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "DECRYPTED", ":", "This", "frame", "was", "decrypted", "in", "hardware", ".", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "MMIC", "_", "STRIPPED", ":", "the", "Michael", "MIC", "is", "stripped", "off", "this", "frame", ",", "<nl>", "*", "verification", "has", "been", "done", "by", "the", "hardware", ".", "<nl>", "-", "*", "@", "RX", "_", "FLAG", "_", "IV", "_", "STRIPPED", ":", "The", "IV", "/", "ICV", "are", "stripped", "from", "this", "frame", ".", "<nl>", "+", "*", "@", "RX", "_", "FLAG", "_", "IV", "_", "STRIPPED", ":", "The", "IV", "and", "ICV", "are", "stripped", "from", "this", "frame", ".", "<nl>", "*", "If", "this", "flag", "is", "set", ",", "the", "stack", "cannot", "do", "any", "replay", "detection", "<nl>", "*", "hence", "the", "driver", "or", "hardware", "will", "have", "to", "do", "that", ".", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "PN", "_", "VALIDATED", ":", "Currently", "only", "valid", "for", "CCMP", "/", "GCMP", "frames", ",", "this", "<nl>", "ieee80211", "_", "tx", "_", "info", "_", "clear", "_", "status", "(", "struct", "ieee80211", "_", "tx", "_", "info", "*", "info", ")", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "ALLOW", "_", "SAME", "_", "PN", ":", "Allow", "the", "same", "PN", "as", "same", "packet", "before", ".", "<nl>", "*", "This", "is", "used", "for", "AMSDU", "subframes", "which", "can", "have", "the", "same", "PN", "as", "<nl>", "*", "the", "first", "subframe", ".", "<nl>", "+", "*", "@", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", ":", "The", "ICV", "is", "stripped", "from", "this", "frame", ".", "CRC", "checking", "must", "<nl>", "+", "*", "be", "done", "in", "the", "hardware", ".", "<nl>", "*", "/", "<nl>", "enum", "mac80211", "_", "rx", "_", "flags", "{", "<nl>", "RX", "_", "FLAG", "_", "MMIC", "_", "ERROR", "=", "BIT", "(", "0", ")", ",", "<nl>", "enum", "mac80211", "_", "rx", "_", "flags", "{", "<nl>", "RX", "_", "FLAG", "_", "RADIOTAP", "_", "VENDOR", "_", "DATA", "=", "BIT", "(", "31", ")", ",", "<nl>", "RX", "_", "FLAG", "_", "MIC", "_", "STRIPPED", "=", "BIT", "_", "ULL", "(", "32", ")", ",", "<nl>", "RX", "_", "FLAG", "_", "ALLOW", "_", "SAME", "_", "PN", "=", "BIT", "_", "ULL", "(", "33", ")", ",", "<nl>", "+", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", "=", "BIT", "_", "ULL", "(", "34", ")", ",", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "RX", "_", "FLAG", "_", "STBC", "_", "SHIFT", "26mmm", "net", "/", "mac80211", "/", "wpa", ".", "c", "<nl>", "ieee80211", "_", "tx", "_", "info", "_", "clear", "_", "status", "(", "struct", "ieee80211", "_", "tx", "_", "info", "*", "info", ")", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "DECRYPTED", ":", "This", "frame", "was", "decrypted", "in", "hardware", ".", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "MMIC", "_", "STRIPPED", ":", "the", "Michael", "MIC", "is", "stripped", "off", "this", "frame", ",", "<nl>", "*", "verification", "has", "been", "done", "by", "the", "hardware", ".", "<nl>", "-", "*", "@", "RX", "_", "FLAG", "_", "IV", "_", "STRIPPED", ":", "The", "IV", "/", "ICV", "are", "stripped", "from", "this", "frame", ".", "<nl>", "+", "*", "@", "RX", "_", "FLAG", "_", "IV", "_", "STRIPPED", ":", "The", "IV", "and", "ICV", "are", "stripped", "from", "this", "frame", ".", "<nl>", "*", "If", "this", "flag", "is", "set", ",", "the", "stack", "cannot", "do", "any", "replay", "detection", "<nl>", "*", "hence", "the", "driver", "or", "hardware", "will", "have", "to", "do", "that", ".", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "PN", "_", "VALIDATED", ":", "Currently", "only", "valid", "for", "CCMP", "/", "GCMP", "frames", ",", "this", "<nl>", "ieee80211", "_", "tx", "_", "info", "_", "clear", "_", "status", "(", "struct", "ieee80211", "_", "tx", "_", "info", "*", "info", ")", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "ALLOW", "_", "SAME", "_", "PN", ":", "Allow", "the", "same", "PN", "as", "same", "packet", "before", ".", "<nl>", "*", "This", "is", "used", "for", "AMSDU", "subframes", "which", "can", "have", "the", "same", "PN", "as", "<nl>", "*", "the", "first", "subframe", ".", "<nl>", "+", "*", "@", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", ":", "The", "ICV", "is", "stripped", "from", "this", "frame", ".", "CRC", "checking", "must", "<nl>", "+", "*", "be", "done", "in", "the", "hardware", ".", "<nl>", "*", "/", "<nl>", "enum", "mac80211", "_", "rx", "_", "flags", "{", "<nl>", "RX", "_", "FLAG", "_", "MMIC", "_", "ERROR", "=", "BIT", "(", "0", ")", ",", "<nl>", "enum", "mac80211", "_", "rx", "_", "flags", "{", "<nl>", "RX", "_", "FLAG", "_", "RADIOTAP", "_", "VENDOR", "_", "DATA", "=", "BIT", "(", "31", ")", ",", "<nl>", "RX", "_", "FLAG", "_", "MIC", "_", "STRIPPED", "=", "BIT", "_", "ULL", "(", "32", ")", ",", "<nl>", "RX", "_", "FLAG", "_", "ALLOW", "_", "SAME", "_", "PN", "=", "BIT", "_", "ULL", "(", "33", ")", ",", "<nl>", "+", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", "=", "BIT", "_", "ULL", "(", "34", ")", ",", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "RX", "_", "FLAG", "_", "STBC", "_", "SHIFT", "26", "<nl>", "ieee80211", "_", "crypto", "_", "tkip", "_", "decrypt", "(", "struct", "ieee80211", "_", "rx", "_", "data", "*", "rx", ")", "<nl>", "return", "RX", "_", "DROP", "_", "UNUSABLE", ";", "<nl>", "<nl>", "/", "*", "Trim", "ICV", "*", "/", "<nl>", "-", "skb", "_", "trim", "(", "skb", ",", "skb", "-", ">", "len", "-", "IEEE80211", "_", "TKIP", "_", "ICV", "_", "LEN", ")", ";", "<nl>", "+", "if", "(", "!", "(", "status", "-", ">", "flag", "&", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", ")", ")", "<nl>", "+", "skb", "_", "trim", "(", "skb", ",", "skb", "-", ">", "len", "-", "IEEE80211", "_", "TKIP", "_", "ICV", "_", "LEN", ")", ";", "<nl>", "<nl>", "/", "*", "Remove", "IV", "*", "/", "<nl>", "memmove", "(", "skb", "-", ">", "data", "+", "IEEE80211", "_", "TKIP", "_", "IV", "_", "LEN", ",", "skb", "-", ">", "data", ",", "hdrlen", ")", ";", "mmm", "net", "/", "mac80211", "/", "wep", ".", "c", "<nl>", "ieee80211", "_", "tx", "_", "info", "_", "clear", "_", "status", "(", "struct", "ieee80211", "_", "tx", "_", "info", "*", "info", ")", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "DECRYPTED", ":", "This", "frame", "was", "decrypted", "in", "hardware", ".", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "MMIC", "_", "STRIPPED", ":", "the", "Michael", "MIC", "is", "stripped", "off", "this", "frame", ",", "<nl>", "*", "verification", "has", "been", "done", "by", "the", "hardware", ".", "<nl>", "-", "*", "@", "RX", "_", "FLAG", "_", "IV", "_", "STRIPPED", ":", "The", "IV", "/", "ICV", "are", "stripped", "from", "this", "frame", ".", "<nl>", "+", "*", "@", "RX", "_", "FLAG", "_", "IV", "_", "STRIPPED", ":", "The", "IV", "and", "ICV", "are", "stripped", "from", "this", "frame", ".", "<nl>", "*", "If", "this", "flag", "is", "set", ",", "the", "stack", "cannot", "do", "any", "replay", "detection", "<nl>", "*", "hence", "the", "driver", "or", "hardware", "will", "have", "to", "do", "that", ".", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "PN", "_", "VALIDATED", ":", "Currently", "only", "valid", "for", "CCMP", "/", "GCMP", "frames", ",", "this", "<nl>", "ieee80211", "_", "tx", "_", "info", "_", "clear", "_", "status", "(", "struct", "ieee80211", "_", "tx", "_", "info", "*", "info", ")", "<nl>", "*", "@", "RX", "_", "FLAG", "_", "ALLOW", "_", "SAME", "_", "PN", ":", "Allow", "the", "same", "PN", "as", "same", "packet", "before", ".", "<nl>", "*", "This", "is", "used", "for", "AMSDU", "subframes", "which", "can", "have", "the", "same", "PN", "as", "<nl>", "*", "the", "first", "subframe", ".", "<nl>", "+", "*", "@", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", ":", "The", "ICV", "is", "stripped", "from", "this", "frame", ".", "CRC", "checking", "must", "<nl>", "+", "*", "be", "done", "in", "the", "hardware", ".", "<nl>", "*", "/", "<nl>", "enum", "mac80211", "_", "rx", "_", "flags", "{", "<nl>", "RX", "_", "FLAG", "_", "MMIC", "_", "ERROR", "=", "BIT", "(", "0", ")", ",", "<nl>", "enum", "mac80211", "_", "rx", "_", "flags", "{", "<nl>", "RX", "_", "FLAG", "_", "RADIOTAP", "_", "VENDOR", "_", "DATA", "=", "BIT", "(", "31", ")", ",", "<nl>", "RX", "_", "FLAG", "_", "MIC", "_", "STRIPPED", "=", "BIT", "_", "ULL", "(", "32", ")", ",", "<nl>", "RX", "_", "FLAG", "_", "ALLOW", "_", "SAME", "_", "PN", "=", "BIT", "_", "ULL", "(", "33", ")", ",", "<nl>", "+", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", "=", "BIT", "_", "ULL", "(", "34", ")", ",", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "RX", "_", "FLAG", "_", "STBC", "_", "SHIFT", "26", "<nl>", "ieee80211", "_", "crypto", "_", "tkip", "_", "decrypt", "(", "struct", "ieee80211", "_", "rx", "_", "data", "*", "rx", ")", "<nl>", "return", "RX", "_", "DROP", "_", "UNUSABLE", ";", "<nl>", "<nl>", "/", "*", "Trim", "ICV", "*", "/", "<nl>", "-", "skb", "_", "trim", "(", "skb", ",", "skb", "-", ">", "len", "-", "IEEE80211", "_", "TKIP", "_", "ICV", "_", "LEN", ")", ";", "<nl>", "+", "if", "(", "!", "(", "status", "-", ">", "flag", "&", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", ")", ")", "<nl>", "+", "skb", "_", "trim", "(", "skb", ",", "skb", "-", ">", "len", "-", "IEEE80211", "_", "TKIP", "_", "ICV", "_", "LEN", ")", ";", "<nl>", "<nl>", "/", "*", "Remove", "IV", "*", "/", "<nl>", "memmove", "(", "skb", "-", ">", "data", "+", "IEEE80211", "_", "TKIP", "_", "IV", "_", "LEN", ",", "skb", "-", ">", "data", ",", "hdrlen", ")", ";", "<nl>", "ieee80211", "_", "crypto", "_", "wep", "_", "decrypt", "(", "struct", "ieee80211", "_", "rx", "_", "data", "*", "rx", ")", "<nl>", "return", "RX", "_", "DROP", "_", "UNUSABLE", ";", "<nl>", "ieee80211", "_", "wep", "_", "remove", "_", "iv", "(", "rx", "-", ">", "local", ",", "rx", "-", ">", "skb", ",", "rx", "-", ">", "key", ")", ";", "<nl>", "/", "*", "remove", "ICV", "*", "/", "<nl>", "-", "if", "(", "pskb", "_", "trim", "(", "rx", "-", ">", "skb", ",", "rx", "-", ">", "skb", "-", ">", "len", "-", "IEEE80211", "_", "WEP", "_", "ICV", "_", "LEN", ")", ")", "<nl>", "+", "if", "(", "!", "(", "status", "-", ">", "flag", "&", "RX", "_", "FLAG", "_", "ICV", "_", "STRIPPED", ")", "&", "&", "<nl>", "+", "pskb", "_", "trim", "(", "rx", "-", ">", "skb", ",", "rx", "-", ">", "skb", "-", ">", "len", "-", "IEEE80211", "_", "WEP", "_", "ICV", "_", "LEN", ")", ")", "<nl>", "return", "RX", "_", "DROP", "_", "UNUSABLE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mac80211", "Add", "RX", "flag", "to", "indicate", "ICV", "stripped"]}
{"code_tokens": ["static", "struct", "nlattr", "*", "reserve", "_", "sfa", "_", "size", "(", "struct", "sw", "_", "flow", "_", "actions", "*", "*", "sfa", ",", "<nl>", "new", "_", "acts", "_", "size", "=", "max", "(", "next", "_", "offset", "+", "req", "_", "size", ",", "ksize", "(", "*", "sfa", ")", "*", "2", ")", ";", "<nl>", "<nl>", "if", "(", "new", "_", "acts", "_", "size", ">", "MAX", "_", "ACTIONS", "_", "BUFSIZE", ")", "{", "<nl>", "-", "if", "(", "(", "MAX", "_", "ACTIONS", "_", "BUFSIZE", "-", "next", "_", "offset", ")", "<", "req", "_", "size", ")", "{", "<nl>", "+", "if", "(", "(", "next", "_", "offset", "+", "req", "_", "size", ")", ">", "MAX", "_", "ACTIONS", "_", "BUFSIZE", ")", "{", "<nl>", "OVS", "_", "NLERR", "(", "log", ",", "\"", "Flow", "action", "size", "exceeds", "max", "%", "u", "\"", ",", "<nl>", "MAX", "_", "ACTIONS", "_", "BUFSIZE", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EMSGSIZE", ")", ";", "<nl>"], "docstring_tokens": ["openvswitch", "fix", "OOB", "access", "in", "reserve_sfa_size"]}
{"code_tokens": ["static", "int", "ioctl", "_", "send", "_", "response", "(", "struct", "client", "*", "client", ",", "void", "*", "buffer", ")", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "r", "-", ">", "data", ",", "u64", "_", "to", "_", "uptr", "(", "request", "-", ">", "data", ")", ",", "<nl>", "r", "-", ">", "length", ")", ")", "{", "<nl>", "ret", "=", "-", "EFAULT", ";", "<nl>", "+", "kfree", "(", "r", "-", ">", "request", ")", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "fw", "_", "send", "_", "response", "(", "client", "-", ">", "device", "-", ">", "card", ",", "r", "-", ">", "request", ",", "<nl>"], "docstring_tokens": ["firewire", "cdev", "fix", "another", "memory", "leak", "in", "an", "error", "path"]}
{"code_tokens": ["static", "struct", "snd", "_", "soc", "_", "codec", "_", "driver", "soc", "_", "codec", "_", "device", "_", "ak4104", "=", "{", "<nl>", ".", "probe", "=", "ak4104", "_", "probe", ",", "<nl>", ".", "remove", "=", "ak4104", "_", "remove", ",", "<nl>", ".", "reg", "_", "cache", "_", "size", "=", "AK4104", "_", "NUM", "_", "REGS", ",", "<nl>", "-", ".", "reg", "_", "word", "_", "size", "=", "sizeof", "(", "u16", ")", ",", "<nl>", "+", ".", "reg", "_", "word", "_", "size", "=", "sizeof", "(", "u8", ")", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "int", "ak4104", "_", "spi", "_", "probe", "(", "struct", "spi", "_", "device", "*", "spi", ")", "<nl>"], "docstring_tokens": ["ASoC", "Fix", "reg_word_size", "for", "ak4104"]}
{"code_tokens": ["unsigned", "long", "powerpc", "_", "security", "_", "features", "_", "_", "read", "_", "mostly", "=", "SEC", "_", "FTR", "_", "DEFAULT", ";", "<nl>", "<nl>", "bool", "barrier", "_", "nospec", "_", "enabled", ";", "<nl>", "+", "static", "bool", "no", "_", "nospec", ";", "<nl>", "<nl>", "static", "void", "enable", "_", "barrier", "_", "nospec", "(", "bool", "enable", ")", "<nl>", "{", "<nl>", "void", "setup", "_", "barrier", "_", "nospec", "(", "void", ")", "<nl>", "enable", "=", "security", "_", "ftr", "_", "enabled", "(", "SEC", "_", "FTR", "_", "FAVOUR", "_", "SECURITY", ")", "&", "&", "<nl>", "security", "_", "ftr", "_", "enabled", "(", "SEC", "_", "FTR", "_", "BNDS", "_", "CHK", "_", "SPEC", "_", "BAR", ")", ";", "<nl>", "<nl>", "-", "enable", "_", "barrier", "_", "nospec", "(", "enable", ")", ";", "<nl>", "+", "if", "(", "!", "no", "_", "nospec", ")", "<nl>", "+", "enable", "_", "barrier", "_", "nospec", "(", "enable", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "_", "_", "init", "handle", "_", "nospectre", "_", "v1", "(", "char", "*", "p", ")", "<nl>", "+", "{", "<nl>", "+", "no", "_", "nospec", "=", "true", ";", "<nl>", "+", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "early", "_", "param", "(", "\"", "nospectre", "_", "v1", "\"", ",", "handle", "_", "nospectre", "_", "v1", ")", ";", "<nl>", "+", "<nl>", "#", "ifdef", "CONFIG", "_", "DEBUG", "_", "FS", "<nl>", "static", "int", "barrier", "_", "nospec", "_", "set", "(", "void", "*", "data", ",", "u64", "val", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["powerpc", "64", "Disable", "the", "speculation", "barrier", "from", "the", "command", "line"]}
{"code_tokens": ["static", "int", "e1000", "_", "set", "_", "ringparam", "(", "struct", "net", "_", "device", "*", "netdev", ",", "<nl>", "err", "_", "alloc", "_", "rx", ":", "<nl>", "kfree", "(", "txdr", ")", ";", "<nl>", "err", "_", "alloc", "_", "tx", ":", "<nl>", "-", "e1000", "_", "up", "(", "adapter", ")", ";", "<nl>", "+", "if", "(", "netif", "_", "running", "(", "adapter", "-", ">", "netdev", ")", ")", "<nl>", "+", "e1000", "_", "up", "(", "adapter", ")", ";", "<nl>", "err", "_", "setup", ":", "<nl>", "clear", "_", "bit", "(", "_", "_", "E1000", "_", "RESETTING", ",", "&", "adapter", "-", ">", "flags", ")", ";", "<nl>", "return", "err", ";", "<nl>"], "docstring_tokens": ["e1000", "check", "on", "netif_running", "before", "calling", "e1000_up"]}
{"code_tokens": ["static", "void", "atmel", "_", "aes", "_", "get", "_", "cap", "(", "struct", "atmel", "_", "aes", "_", "dev", "*", "dd", ")", "<nl>", "<nl>", "/", "*", "keep", "only", "major", "version", "number", "*", "/", "<nl>", "switch", "(", "dd", "-", ">", "hw", "_", "version", "&", "0xff0", ")", "{", "<nl>", "+", "case", "0x200", ":", "<nl>", "+", "dd", "-", ">", "caps", ".", "has", "_", "dualbuff", "=", "1", ";", "<nl>", "+", "dd", "-", ">", "caps", ".", "has", "_", "cfb64", "=", "1", ";", "<nl>", "+", "dd", "-", ">", "caps", ".", "max", "_", "burst", "_", "size", "=", "4", ";", "<nl>", "+", "break", ";", "<nl>", "case", "0x130", ":", "<nl>", "dd", "-", ">", "caps", ".", "has", "_", "dualbuff", "=", "1", ";", "<nl>", "dd", "-", ">", "caps", ".", "has", "_", "cfb64", "=", "1", ";", "<nl>"], "docstring_tokens": ["crypto", "atmel", "aes", "add", "new", "version"]}
{"code_tokens": ["int", "intel", "_", "gvt", "_", "init", "(", "struct", "drm", "_", "i915", "_", "private", "*", "dev", "_", "priv", ")", "<nl>", "goto", "bail", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "i915", ".", "enable", "_", "execlists", ")", "{", "<nl>", "+", "DRM", "_", "INFO", "(", "\"", "GPU", "guest", "virtualisation", "[", "GVT", "-", "g", "]", "disabled", "due", "to", "disabled", "execlist", "submission", "[", "i915", ".", "enable", "_", "execlists", "module", "parameter", "]", "\\", "n", "\"", ")", ";", "<nl>", "+", "goto", "bail", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "We", "'", "re", "not", "in", "host", "or", "fail", "to", "find", "a", "MPT", "module", ",", "disable", "GVT", "-", "g", "<nl>", "*", "/", "<nl>"], "docstring_tokens": ["drm", "i915", "gvt", "add", "enable_execlists", "check", "before", "enable", "gvt"]}
{"code_tokens": ["static", "int", "si21", "_", "writeregs", "(", "struct", "si21xx", "_", "state", "*", "state", ",", "u8", "reg1", ",", "<nl>", ".", "len", "=", "len", "+", "1", "<nl>", "}", ";", "<nl>", "<nl>", "+", "if", "(", "len", ">", "sizeof", "(", "buf", ")", "-", "1", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "msg", ".", "buf", "[", "0", "]", "=", "reg1", ";", "<nl>", "memcpy", "(", "msg", ".", "buf", "+", "1", ",", "data", ",", "len", ")", ";", "<nl>"], "docstring_tokens": ["media", "dvb", "si21xx", "buffer", "overflow", "in", "si21_writeregs"]}
{"code_tokens": ["bool", "dc", "_", "stream", "_", "set", "_", "cursor", "_", "position", "(", "<nl>", "!", "pipe", "_", "ctx", "-", ">", "ipp", "|", "|", "!", "pipe", "_", "ctx", "-", ">", "surface", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "+", "if", "(", "pipe", "_", "ctx", "-", ">", "surface", "-", ">", "public", ".", "address", ".", "type", "<nl>", "+", "=", "=", "PLN", "_", "ADDR", "_", "TYPE", "_", "VIDEO", "_", "PROGRESSIVE", ")", "<nl>", "+", "pos", "_", "cpy", ".", "enable", "=", "false", ";", "<nl>", "+", "<nl>", "if", "(", "pipe", "_", "ctx", "-", ">", "top", "_", "pipe", "&", "&", "pipe", "_", "ctx", "-", ">", "surface", "!", "=", "pipe", "_", "ctx", "-", ">", "top", "_", "pipe", "-", ">", "surface", ")", "<nl>", "pos", "_", "cpy", ".", "enable", "=", "false", ";", "<nl>"], "docstring_tokens": ["drm", "amd", "display", "Disable", "cursor", "on", "video", "surface"]}
{"code_tokens": ["static", "int", "wm8731", "_", "hw", "_", "params", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ",", "<nl>", "case", "24", ":", "<nl>", "iface", "|", "=", "0x0008", ";", "<nl>", "break", ";", "<nl>", "+", "case", "32", ":", "<nl>", "+", "iface", "|", "=", "0x000c", ";", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "<nl>", "wm8731", "_", "set", "_", "deemph", "(", "codec", ")", ";", "<nl>", "static", "int", "wm8731", "_", "startup", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ",", "<nl>", "#", "define", "WM8731", "_", "RATES", "SNDRV", "_", "PCM", "_", "RATE", "_", "8000", "_", "96000", "<nl>", "<nl>", "#", "define", "WM8731", "_", "FORMATS", "(", "SNDRV", "_", "PCM", "_", "FMTBIT", "_", "S16", "_", "LE", "|", "SNDRV", "_", "PCM", "_", "FMTBIT", "_", "S20", "_", "3LE", "|", "\\", "<nl>", "-", "SNDRV", "_", "PCM", "_", "FMTBIT", "_", "S24", "_", "LE", ")", "<nl>", "+", "SNDRV", "_", "PCM", "_", "FMTBIT", "_", "S24", "_", "LE", "|", "SNDRV", "_", "PCM", "_", "FMTBIT", "_", "S32", "_", "LE", ")", "<nl>", "<nl>", "static", "const", "struct", "snd", "_", "soc", "_", "dai", "_", "ops", "wm8731", "_", "dai", "_", "ops", "=", "{", "<nl>", ".", "startup", "=", "wm8731", "_", "startup", ",", "<nl>"], "docstring_tokens": ["ASoc", "wm8731", "add", "32bit", "mode"]}
{"code_tokens": ["int", "smb2", "_", "tree", "_", "disconnect", "(", "struct", "ksmbd", "_", "work", "*", "work", ")", "<nl>", "<nl>", "ksmbd", "_", "close", "_", "tree", "_", "conn", "_", "fds", "(", "work", ")", ";", "<nl>", "ksmbd", "_", "tree", "_", "conn", "_", "disconnect", "(", "sess", ",", "tcon", ")", ";", "<nl>", "+", "work", "-", ">", "tcon", "=", "NULL", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ksmbd", "fix", "use", "after", "free", "bug", "in", "smb2_tree_disconect"]}
{"code_tokens": ["static", "ide", "_", "startstop", "_", "t", "_", "_", "ide", "_", "do", "_", "rw", "_", "disk", "(", "ide", "_", "drive", "_", "t", "*", "drive", ",", "struct", "request", "*", "rq", ",", "<nl>", "command", "=", "lba48", "?", "WIN", "_", "WRITE", "_", "EXT", ":", "WIN", "_", "WRITE", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "FIXME", ":", "-", ">", "OUTBSYNC", "?", "*", "/", "<nl>", "-", "hwif", "-", ">", "OUTB", "(", "command", ",", "IDE", "_", "COMMAND", "_", "REG", ")", ";", "<nl>", "+", "hwif", "-", ">", "OUTBSYNC", "(", "drive", ",", "command", ",", "IDE", "_", "COMMAND", "_", "REG", ")", ";", "<nl>", "<nl>", "return", "pre", "_", "task", "_", "out", "_", "intr", "(", "drive", ",", "rq", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ide", "disk", "fix", "__ide_do_rw_disk", "to", "use", "OUTBSYNC"]}
{"code_tokens": ["static", "int", "ext4", "_", "file", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "path", ".", "dentry", "=", "mnt", "-", ">", "mnt", "_", "root", ";", "<nl>", "cp", "=", "d", "_", "path", "(", "&", "path", ",", "buf", ",", "sizeof", "(", "buf", ")", ")", ";", "<nl>", "if", "(", "!", "IS", "_", "ERR", "(", "cp", ")", ")", "{", "<nl>", "-", "memcpy", "(", "sbi", "-", ">", "s", "_", "es", "-", ">", "s", "_", "last", "_", "mounted", ",", "cp", ",", "<nl>", "-", "sizeof", "(", "sbi", "-", ">", "s", "_", "es", "-", ">", "s", "_", "last", "_", "mounted", ")", ")", ";", "<nl>", "+", "strlcpy", "(", "sbi", "-", ">", "s", "_", "es", "-", ">", "s", "_", "last", "_", "mounted", ",", "cp", ",", "<nl>", "+", "sizeof", "(", "sbi", "-", ">", "s", "_", "es", "-", ">", "s", "_", "last", "_", "mounted", ")", ")", ";", "<nl>", "ext4", "_", "mark", "_", "super", "_", "dirty", "(", "sb", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["ext4", "prevent", "stack", "overrun", "in", "ext4_file_open"]}
{"code_tokens": ["static", "void", "ipr", "_", "handle", "_", "log", "_", "data", "(", "struct", "ipr", "_", "ioa", "_", "cfg", "*", "ioa", "_", "cfg", ",", "<nl>", "<nl>", "if", "(", "ioa", "_", "cfg", "-", ">", "log", "_", "level", "<", "IPR", "_", "DEFAULT", "_", "LOG", "_", "LEVEL", ")", "<nl>", "return", ";", "<nl>", "+", "if", "(", "be32", "_", "to", "_", "cpu", "(", "hostrcb", "-", ">", "hcam", ".", "length", ")", ">", "sizeof", "(", "hostrcb", "-", ">", "hcam", ".", "u", ".", "raw", ")", ")", "<nl>", "+", "hostrcb", "-", ">", "hcam", ".", "length", "=", "cpu", "_", "to", "_", "be32", "(", "sizeof", "(", "hostrcb", "-", ">", "hcam", ".", "u", ".", "raw", ")", ")", ";", "<nl>", "<nl>", "switch", "(", "hostrcb", "-", ">", "hcam", ".", "overlay", "_", "id", ")", "{", "<nl>", "-", "case", "IPR", "_", "HOST", "_", "RCB", "_", "OVERLAY", "_", "ID", "_", "1", ":", "<nl>", "-", "ipr", "_", "log", "_", "generic", "_", "error", "(", "ioa", "_", "cfg", ",", "hostrcb", ")", ";", "<nl>", "-", "break", ";", "<nl>", "case", "IPR", "_", "HOST", "_", "RCB", "_", "OVERLAY", "_", "ID", "_", "2", ":", "<nl>", "ipr", "_", "log", "_", "cache", "_", "error", "(", "ioa", "_", "cfg", ",", "hostrcb", ")", ";", "<nl>", "break", ";", "<nl>", "static", "void", "ipr", "_", "handle", "_", "log", "_", "data", "(", "struct", "ipr", "_", "ioa", "_", "cfg", "*", "ioa", "_", "cfg", ",", "<nl>", "case", "IPR", "_", "HOST", "_", "RCB", "_", "OVERLAY", "_", "ID", "_", "6", ":", "<nl>", "ipr", "_", "log", "_", "array", "_", "error", "(", "ioa", "_", "cfg", ",", "hostrcb", ")", ";", "<nl>", "break", ";", "<nl>", "+", "case", "IPR", "_", "HOST", "_", "RCB", "_", "OVERLAY", "_", "ID", "_", "1", ":", "<nl>", "case", "IPR", "_", "HOST", "_", "RCB", "_", "OVERLAY", "_", "ID", "_", "DEFAULT", ":", "<nl>", "default", ":", "<nl>", "ipr", "_", "log", "_", "generic", "_", "error", "(", "ioa", "_", "cfg", ",", "hostrcb", ")", ";", "<nl>"], "docstring_tokens": ["SCSI", "ipr", "Error", "logging", "cleanup"]}
{"code_tokens": ["-", "/", "*", "<nl>", "+", "/", "*", "<nl>", "*", "Cryptographic", "API", "<nl>", "*", "<nl>", "*", "ARC4", "Cipher", "Algorithm", "<nl>", "static", "int", "arc4", "_", "set", "_", "key", "(", "struct", "crypto", "_", "tfm", "*", "tfm", ",", "const", "u8", "*", "in", "_", "key", ",", "<nl>", "ctx", "-", ">", "x", "=", "1", ";", "<nl>", "ctx", "-", ">", "y", "=", "0", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "256", ";", "i", "+", "+", ")", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "256", ";", "i", "+", "+", ")", "<nl>", "ctx", "-", ">", "S", "[", "i", "]", "=", "i", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "256", ";", "i", "+", "+", ")", "<nl>", "-", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "256", ";", "i", "+", "+", ")", "{", "<nl>", "u8", "a", "=", "ctx", "-", ">", "S", "[", "i", "]", ";", "<nl>", "j", "=", "(", "j", "+", "in", "_", "key", "[", "k", "]", "+", "a", ")", "&", "0xff", ";", "<nl>", "ctx", "-", ">", "S", "[", "i", "]", "=", "ctx", "-", ">", "S", "[", "j", "]", ";", "<nl>", "ctx", "-", ">", "S", "[", "j", "]", "=", "a", ";", "<nl>", "-", "if", "(", "+", "+", "k", ">", "=", "key", "_", "len", ")", "<nl>", "+", "if", "(", "+", "+", "k", ">", "=", "key", "_", "len", ")", "<nl>", "k", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "crypto", "_", "alg", "arc4", "_", "alg", "=", "{", "<nl>", ".", "cra", "_", "u", "=", "{", ".", "cipher", "=", "{", "<nl>", ".", "cia", "_", "min", "_", "keysize", "=", "ARC4", "_", "MIN", "_", "KEY", "_", "SIZE", ",", "<nl>", ".", "cia", "_", "max", "_", "keysize", "=", "ARC4", "_", "MAX", "_", "KEY", "_", "SIZE", ",", "<nl>", "-", ".", "cia", "_", "setkey", "=", "arc4", "_", "set", "_", "key", ",", "<nl>", "-", ".", "cia", "_", "encrypt", "=", "arc4", "_", "crypt", ",", "<nl>", "-", ".", "cia", "_", "decrypt", "=", "arc4", "_", "crypt", "}", "}", "<nl>", "+", ".", "cia", "_", "setkey", "=", "arc4", "_", "set", "_", "key", ",", "<nl>", "+", ".", "cia", "_", "encrypt", "=", "arc4", "_", "crypt", ",", "<nl>", "+", ".", "cia", "_", "decrypt", "=", "arc4", "_", "crypt", "}", "}", "<nl>", "}", ";", "<nl>", "<nl>", "static", "int", "_", "_", "init", "arc4", "_", "init", "(", "void", ")", "<nl>"], "docstring_tokens": ["crypto", "arc4", "Fixed", "coding", "style", "issues"]}
{"code_tokens": ["static", "int", "kvm", "_", "ioctl", "_", "create", "_", "device", "(", "struct", "kvm", "*", "kvm", ",", "<nl>", "if", "(", "ops", "-", ">", "init", ")", "<nl>", "ops", "-", ">", "init", "(", "dev", ")", ";", "<nl>", "<nl>", "+", "kvm", "_", "get", "_", "kvm", "(", "kvm", ")", ";", "<nl>", "ret", "=", "anon", "_", "inode", "_", "getfd", "(", "ops", "-", ">", "name", ",", "&", "kvm", "_", "device", "_", "fops", ",", "dev", ",", "O", "_", "RDWR", "|", "O", "_", "CLOEXEC", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "+", "kvm", "_", "put", "_", "kvm", "(", "kvm", ")", ";", "<nl>", "mutex", "_", "lock", "(", "&", "kvm", "-", ">", "lock", ")", ";", "<nl>", "list", "_", "del", "(", "&", "dev", "-", ">", "vm", "_", "node", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "kvm", "-", ">", "lock", ")", ";", "<nl>", "static", "int", "kvm", "_", "ioctl", "_", "create", "_", "device", "(", "struct", "kvm", "*", "kvm", ",", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "kvm", "_", "get", "_", "kvm", "(", "kvm", ")", ";", "<nl>", "cd", "-", ">", "fd", "=", "ret", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["kvm", "fix", "kvm_ioctl_create_device", "reference", "counting", "CVE", "2019", "6974"]}
{"code_tokens": ["static", "void", "nilfs", "_", "btree", "_", "add", "_", "dirty", "_", "buffer", "(", "struct", "nilfs", "_", "btree", "*", "btree", ",", "<nl>", "node", "=", "(", "struct", "nilfs", "_", "btree", "_", "node", "*", ")", "bh", "-", ">", "b", "_", "data", ";", "<nl>", "key", "=", "nilfs", "_", "btree", "_", "node", "_", "get", "_", "key", "(", "node", ",", "0", ")", ";", "<nl>", "level", "=", "nilfs", "_", "btree", "_", "node", "_", "get", "_", "level", "(", "node", ")", ";", "<nl>", "+", "if", "(", "level", "<", "NILFS", "_", "BTREE", "_", "LEVEL", "_", "NODE", "_", "MIN", "|", "|", "<nl>", "+", "level", ">", "=", "NILFS", "_", "BTREE", "_", "LEVEL", "_", "MAX", ")", "{", "<nl>", "+", "dump", "_", "stack", "(", ")", ";", "<nl>", "+", "printk", "(", "KERN", "_", "WARNING", "<nl>", "+", "\"", "%", "s", ":", "invalid", "btree", "level", ":", "%", "d", "(", "key", "=", "%", "llu", ",", "ino", "=", "%", "lu", ",", "\"", "<nl>", "+", "\"", "blocknr", "=", "%", "llu", ")", "\\", "n", "\"", ",", "<nl>", "+", "_", "_", "func", "_", "_", ",", "level", ",", "(", "unsigned", "long", "long", ")", "key", ",", "<nl>", "+", "NILFS", "_", "BMAP", "_", "I", "(", "&", "btree", "-", ">", "bt", "_", "bmap", ")", "-", ">", "vfs", "_", "inode", ".", "i", "_", "ino", ",", "<nl>", "+", "(", "unsigned", "long", "long", ")", "bh", "-", ">", "b", "_", "blocknr", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "list", "_", "for", "_", "each", "(", "head", ",", "&", "lists", "[", "level", "]", ")", "{", "<nl>", "cbh", "=", "list", "_", "entry", "(", "head", ",", "struct", "buffer", "_", "head", ",", "b", "_", "assoc", "_", "buffers", ")", ";", "<nl>", "cnode", "=", "(", "struct", "nilfs", "_", "btree", "_", "node", "*", ")", "cbh", "-", ">", "b", "_", "data", ";", "<nl>"], "docstring_tokens": ["nilfs2", "add", "sanity", "check", "in", "nilfs_btree_add_dirty_buffer"]}
{"code_tokens": ["xfs", "_", "qm", "_", "dquot", "_", "walk", "(", "<nl>", "skipped", "=", "0", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "/", "*", "we", "'", "re", "done", "if", "id", "overflows", "back", "to", "zero", "*", "/", "<nl>", "+", "if", "(", "!", "next", "_", "index", ")", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "skipped", ")", "{", "<nl>"], "docstring_tokens": ["xfs", "fix", "quotacheck", "dquot", "id", "overflow", "infinite", "loop"]}
{"code_tokens": ["static", "u32", "obj", "_", "raw", "_", "hashfn", "(", "struct", "rhashtable", "*", "ht", ",", "<nl>", "}", "<nl>", "<nl>", "static", "u32", "key", "_", "hashfn", "(", "struct", "rhashtable", "*", "ht", ",", "const", "struct", "bucket", "_", "table", "*", "tbl", ",", "<nl>", "-", "const", "void", "*", "key", ",", "u32", "len", ")", "<nl>", "+", "const", "void", "*", "key", ")", "<nl>", "{", "<nl>", "-", "return", "rht", "_", "bucket", "_", "index", "(", "tbl", ",", "ht", "-", ">", "p", ".", "hashfn", "(", "key", ",", "len", ",", "tbl", "-", ">", "hash", "_", "rnd", ")", ">", ">", "<nl>", "+", "return", "rht", "_", "bucket", "_", "index", "(", "tbl", ",", "ht", "-", ">", "p", ".", "hashfn", "(", "key", ",", "ht", "-", ">", "p", ".", "key", "_", "len", ",", "<nl>", "+", "tbl", "-", ">", "hash", "_", "rnd", ")", ">", ">", "<nl>", "HASH", "_", "RESERVED", "_", "SPACE", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "*", "rhashtable", "_", "lookup", "_", "compare", "(", "struct", "rhashtable", "*", "ht", ",", "const", "void", "*", "key", ",", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "<nl>", "tbl", "=", "rht", "_", "dereference", "_", "rcu", "(", "ht", "-", ">", "tbl", ",", "ht", ")", ";", "<nl>", "-", "hash", "=", "key", "_", "hashfn", "(", "ht", ",", "tbl", ",", "key", ",", "ht", "-", ">", "p", ".", "key", "_", "len", ")", ";", "<nl>", "+", "hash", "=", "key", "_", "hashfn", "(", "ht", ",", "tbl", ",", "key", ")", ";", "<nl>", "restart", ":", "<nl>", "rht", "_", "for", "_", "each", "_", "rcu", "(", "he", ",", "tbl", ",", "hash", ")", "{", "<nl>", "if", "(", "!", "compare", "(", "rht", "_", "obj", "(", "ht", ",", "he", ")", ",", "arg", ")", ")", "<nl>"], "docstring_tokens": ["rhashtable", "Remove", "key", "length", "argument", "to", "key_hashfn"]}
{"code_tokens": ["static", "struct", "port", "_", "buffer", "*", "get", "_", "inbuf", "(", "struct", "port", "*", "port", ")", "<nl>", "<nl>", "buf", "=", "virtqueue", "_", "get", "_", "buf", "(", "port", "-", ">", "in", "_", "vq", ",", "&", "len", ")", ";", "<nl>", "if", "(", "buf", ")", "{", "<nl>", "-", "buf", "-", ">", "len", "=", "len", ";", "<nl>", "+", "buf", "-", ">", "len", "=", "min", "_", "t", "(", "size", "_", "t", ",", "len", ",", "buf", "-", ">", "size", ")", ";", "<nl>", "buf", "-", ">", "offset", "=", "0", ";", "<nl>", "port", "-", ">", "stats", ".", "bytes", "_", "received", "+", "=", "len", ";", "<nl>", "}", "<nl>", "static", "void", "control", "_", "work", "_", "handler", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "while", "(", "(", "buf", "=", "virtqueue", "_", "get", "_", "buf", "(", "vq", ",", "&", "len", ")", ")", ")", "{", "<nl>", "spin", "_", "unlock", "(", "&", "portdev", "-", ">", "c", "_", "ivq", "_", "lock", ")", ";", "<nl>", "<nl>", "-", "buf", "-", ">", "len", "=", "len", ";", "<nl>", "+", "buf", "-", ">", "len", "=", "min", "_", "t", "(", "size", "_", "t", ",", "len", ",", "buf", "-", ">", "size", ")", ";", "<nl>", "buf", "-", ">", "offset", "=", "0", ";", "<nl>", "<nl>", "handle", "_", "control", "_", "message", "(", "vq", "-", ">", "vdev", ",", "portdev", ",", "buf", ")", ";", "<nl>"], "docstring_tokens": ["virtio_console", "Assure", "used", "length", "from", "device", "is", "limited"]}
{"code_tokens": ["static", "void", "_", "_", "init", "offb", "_", "init", "_", "fb", "(", "const", "char", "*", "name", ",", "const", "char", "*", "full", "_", "name", ",", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "-", "size", "=", "sizeof", "(", "struct", "fb", "_", "info", ")", "+", "sizeof", "(", "u32", ")", "*", "17", ";", "<nl>", "+", "size", "=", "sizeof", "(", "struct", "fb", "_", "info", ")", "+", "sizeof", "(", "u32", ")", "*", "16", ";", "<nl>", "<nl>", "info", "=", "kmalloc", "(", "size", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>"], "docstring_tokens": ["offb", "the", "pseudo_palette", "is", "only", "16", "elements", "long"]}
{"code_tokens": ["static", "int", "transport", "_", "generic", "_", "cmd", "_", "sequencer", "(", "<nl>", "cmd", "-", ">", "data", "_", "length", "=", "size", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Let", "'", "s", "limit", "control", "cdbs", "to", "a", "page", ",", "for", "simplicity", "'", "s", "sake", ".", "*", "/", "<nl>", "+", "if", "(", "(", "cmd", "-", ">", "se", "_", "cmd", "_", "flags", "&", "SCF", "_", "SCSI", "_", "CONTROL", "_", "SG", "_", "IO", "_", "CDB", ")", "&", "&", "<nl>", "+", "size", ">", "PAGE", "_", "SIZE", ")", "<nl>", "+", "goto", "out", "_", "invalid", "_", "cdb", "_", "field", ";", "<nl>", "+", "<nl>", "transport", "_", "set", "_", "supported", "_", "SAM", "_", "opcode", "(", "cmd", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "static", "int", "transport", "_", "generic", "_", "cmd", "_", "sequencer", "(", "<nl>", "cmd", "-", ">", "data", "_", "length", "=", "size", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Let", "'", "s", "limit", "control", "cdbs", "to", "a", "page", ",", "for", "simplicity", "'", "s", "sake", ".", "*", "/", "<nl>", "+", "if", "(", "(", "cmd", "-", ">", "se", "_", "cmd", "_", "flags", "&", "SCF", "_", "SCSI", "_", "CONTROL", "_", "SG", "_", "IO", "_", "CDB", ")", "&", "&", "<nl>", "+", "size", ">", "PAGE", "_", "SIZE", ")", "<nl>", "+", "goto", "out", "_", "invalid", "_", "cdb", "_", "field", ";", "<nl>", "+", "<nl>", "transport", "_", "set", "_", "supported", "_", "SAM", "_", "opcode", "(", "cmd", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "/", "*", "Used", "by", "transport", "_", "generic", "_", "allocate", "_", "iovecs", "(", ")", "*", "/", "<nl>", "#", "define", "TRANSPORT", "_", "IOV", "_", "DATA", "_", "BUFFER", "5", "<nl>", "/", "*", "Maximum", "Number", "of", "LUNs", "per", "Target", "Portal", "Group", "*", "/", "<nl>", "+", "/", "*", "Don", "'", "t", "raise", "above", "511", "or", "REPORT", "_", "LUNS", "needs", "to", "handle", ">", "1", "page", "*", "/", "<nl>", "#", "define", "TRANSPORT", "_", "MAX", "_", "LUNS", "_", "PER", "_", "TPG", "256", "<nl>", "/", "*", "<nl>", "*", "By", "default", "we", "use", "32", "-", "byte", "CDBs", "in", "TCM", "Core", "and", "subsystem", "plugin", "code", ".", "<nl>"], "docstring_tokens": ["target", "Enforce", "1", "page", "max", "for", "control", "cdb", "buffer", "sizes"]}
{"code_tokens": ["int", "tcp", "_", "fragment", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "u32", "len", ",", "unsigned", "int", "mss", "<nl>", "tp", "-", ">", "fackets", "_", "out", "-", "=", "diff", ";", "<nl>", "if", "(", "(", "int", ")", "tp", "-", ">", "fackets", "_", "out", "<", "0", ")", "<nl>", "tp", "-", ">", "fackets", "_", "out", "=", "0", ";", "<nl>", "+", "/", "*", "SACK", "fastpath", "might", "overwrite", "it", "unless", "dealt", "with", "*", "/", "<nl>", "+", "if", "(", "tp", "-", ">", "fastpath", "_", "skb", "_", "hint", "!", "=", "NULL", "&", "&", "<nl>", "+", "after", "(", "TCP", "_", "SKB", "_", "CB", "(", "tp", "-", ">", "fastpath", "_", "skb", "_", "hint", ")", "-", ">", "seq", ",", "<nl>", "+", "TCP", "_", "SKB", "_", "CB", "(", "skb", ")", "-", ">", "seq", ")", ")", "{", "<nl>", "+", "tp", "-", ">", "fastpath", "_", "cnt", "_", "hint", "-", "=", "diff", ";", "<nl>", "+", "if", "(", "(", "int", ")", "tp", "-", ">", "fastpath", "_", "cnt", "_", "hint", "<", "0", ")", "<nl>", "+", "tp", "-", ">", "fastpath", "_", "cnt", "_", "hint", "=", "0", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["TCP", "SACK", "fastpath", "did", "override", "adjusted", "fackets_out"]}
{"code_tokens": ["struct", "net", "_", "device", "*", "alloc", "_", "netdev", "_", "mq", "(", "int", "sizeof", "_", "priv", ",", "const", "char", "*", "name", ",", "<nl>", "alloc", "_", "size", "=", "(", "sizeof", "(", "*", "dev", ")", "+", "NETDEV", "_", "ALIGN", "_", "CONST", "+", "<nl>", "(", "sizeof", "(", "struct", "net", "_", "device", "_", "subqueue", ")", "*", "(", "queue", "_", "count", "-", "1", ")", ")", ")", "&", "<nl>", "~", "NETDEV", "_", "ALIGN", "_", "CONST", ";", "<nl>", "-", "alloc", "_", "size", "+", "=", "sizeof", "_", "priv", "+", "NETDEV", "_", "ALIGN", "_", "CONST", ";", "<nl>", "+", "if", "(", "sizeof", "_", "priv", ")", "<nl>", "+", "alloc", "_", "size", "+", "=", "sizeof", "_", "priv", "+", "NETDEV", "_", "ALIGN", "_", "CONST", ";", "<nl>", "<nl>", "p", "=", "kzalloc", "(", "alloc", "_", "size", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "p", ")", "{", "<nl>"], "docstring_tokens": ["NET", "Do", "not", "allocate", "unneeded", "memory", "for", "dev", "priv", "alignment"]}
{"code_tokens": ["int", "_", "_", "init", "omap", "_", "mux", "_", "init", "(", "u32", "mux", "_", "pbase", ",", "u32", "mux", "_", "size", ",", "<nl>", "}", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "OMAP", "_", "MUX", "<nl>", "-", "omap", "_", "mux", "_", "package", "_", "fixup", "(", "package", "_", "subset", ",", "superset", ")", ";", "<nl>", "-", "omap", "_", "mux", "_", "package", "_", "init", "_", "balls", "(", "package", "_", "balls", ",", "superset", ")", ";", "<nl>", "+", "if", "(", "package", "_", "subset", ")", "<nl>", "+", "omap", "_", "mux", "_", "package", "_", "fixup", "(", "package", "_", "subset", ",", "superset", ")", ";", "<nl>", "+", "if", "(", "package", "_", "balls", ")", "<nl>", "+", "omap", "_", "mux", "_", "package", "_", "init", "_", "balls", "(", "package", "_", "balls", ",", "superset", ")", ";", "<nl>", "omap", "_", "mux", "_", "set", "_", "cmdline", "_", "signals", "(", ")", ";", "<nl>", "omap", "_", "mux", "_", "set", "_", "board", "_", "signals", "(", "board", "_", "mux", ")", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["omap3", "Fix", "booting", "if", "package", "is", "uninitialized"]}
{"code_tokens": ["static", "void", "add", "_", "to", "_", "group", "(", "struct", "gen", "_", "opcode", "*", "desc", ",", "struct", "insn", "*", "insn", ",", "int", "offset", ")", "<nl>", "if", "(", "!", "desc", "-", ">", "group", ")", "<nl>", "exit", "(", "EXIT", "_", "FAILURE", ")", ";", "<nl>", "group", "=", "&", "desc", "-", ">", "group", "[", "desc", "-", ">", "nr", "_", "groups", "-", "1", "]", ";", "<nl>", "-", "strncpy", "(", "group", "-", ">", "opcode", ",", "insn", "-", ">", "opcode", ",", "2", ")", ";", "<nl>", "+", "memcpy", "(", "group", "-", ">", "opcode", ",", "insn", "-", ">", "opcode", ",", "2", ")", ";", "<nl>", "group", "-", ">", "type", "=", "insn", "-", ">", "type", ";", "<nl>", "group", "-", ">", "offset", "=", "offset", ";", "<nl>", "group", "-", ">", "count", "=", "1", ";", "<nl>", "static", "void", "print", "_", "opcode", "_", "table", "(", "struct", "gen", "_", "opcode", "*", "desc", ")", "<nl>", "continue", ";", "<nl>", "add", "_", "to", "_", "group", "(", "desc", ",", "insn", ",", "offset", ")", ";", "<nl>", "if", "(", "strncmp", "(", "opcode", ",", "insn", "-", ">", "opcode", ",", "2", ")", ")", "{", "<nl>", "-", "strncpy", "(", "opcode", ",", "insn", "-", ">", "opcode", ",", "2", ")", ";", "<nl>", "+", "memcpy", "(", "opcode", ",", "insn", "-", ">", "opcode", ",", "2", ")", ";", "<nl>", "printf", "(", "\"", "\\", "t", "/", "*", "%", ".", "2s", "*", "/", "\\", "\\", "\\", "n", "\"", ",", "opcode", ")", ";", "<nl>", "}", "<nl>", "print", "_", "opcode", "(", "insn", ",", "offset", ")", ";", "<nl>"], "docstring_tokens": ["s390", "tools", "fix", "gcc", "8", "stringop", "truncation", "warnings"]}
{"code_tokens": ["u32", "total", "_", "acks", "=", "0", ",", "dropped", "_", "acks", "=", "0", ";", "<nl>", "#", "ifdef", "TCP", "_", "ACK", "_", "FILTER", "<nl>", "struct", "ack", "_", "session", "_", "info", ";", "<nl>", "struct", "ack", "_", "session", "_", "info", "{", "<nl>", "-", "u32", "Ack", "_", "seq", "_", "num", ";", "<nl>", "+", "u32", "seq", "_", "num", ";", "<nl>", "u32", "Bigger", "_", "Ack", "_", "num", ";", "<nl>", "u16", "src", "_", "port", ";", "<nl>", "u16", "dst", "_", "port", ";", "<nl>", "static", "inline", "int", "Init", "_", "TCP", "_", "tracking", "(", "void", ")", "<nl>", "<nl>", "static", "inline", "int", "add", "_", "TCP", "_", "track", "_", "session", "(", "u32", "src", "_", "prt", ",", "u32", "dst", "_", "prt", ",", "u32", "seq", ")", "<nl>", "{", "<nl>", "-", "Acks", "_", "keep", "_", "track", "_", "info", "[", "Opened", "_", "TCP", "_", "session", "]", ".", "Ack", "_", "seq", "_", "num", "=", "seq", ";", "<nl>", "+", "Acks", "_", "keep", "_", "track", "_", "info", "[", "Opened", "_", "TCP", "_", "session", "]", ".", "seq", "_", "num", "=", "seq", ";", "<nl>", "Acks", "_", "keep", "_", "track", "_", "info", "[", "Opened", "_", "TCP", "_", "session", "]", ".", "Bigger", "_", "Ack", "_", "num", "=", "0", ";", "<nl>", "Acks", "_", "keep", "_", "track", "_", "info", "[", "Opened", "_", "TCP", "_", "session", "]", ".", "src", "_", "port", "=", "src", "_", "prt", ";", "<nl>", "Acks", "_", "keep", "_", "track", "_", "info", "[", "Opened", "_", "TCP", "_", "session", "]", ".", "dst", "_", "port", "=", "dst", "_", "prt", ";", "<nl>", "static", "inline", "int", "tcp", "_", "process", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "txq", "_", "entry", "_", "t", "*", "tqe", ")", "<nl>", "Ack", "_", "no", "=", "(", "(", "(", "u32", ")", "tcp", "_", "hdr", "_", "ptr", "[", "8", "]", ")", "<", "<", "24", ")", "+", "(", "(", "(", "u32", ")", "tcp", "_", "hdr", "_", "ptr", "[", "9", "]", ")", "<", "<", "16", ")", "+", "(", "(", "(", "u32", ")", "tcp", "_", "hdr", "_", "ptr", "[", "10", "]", ")", "<", "<", "8", ")", "+", "(", "(", "u32", ")", "tcp", "_", "hdr", "_", "ptr", "[", "11", "]", ")", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "Opened", "_", "TCP", "_", "session", ";", "i", "+", "+", ")", "{", "<nl>", "-", "if", "(", "Acks", "_", "keep", "_", "track", "_", "info", "[", "i", "]", ".", "Ack", "_", "seq", "_", "num", "=", "=", "seq", "_", "no", ")", "{", "<nl>", "+", "if", "(", "Acks", "_", "keep", "_", "track", "_", "info", "[", "i", "]", ".", "seq", "_", "num", "=", "=", "seq", "_", "no", ")", "{", "<nl>", "Update", "_", "TCP", "_", "track", "_", "session", "(", "i", ",", "Ack", "_", "no", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "wilc1000", "rename", "Ack_seq_num", "of", "struct", "ack_session_info"]}
{"code_tokens": ["static", "int", "xfrm6", "_", "tunnel", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "_", "_", "be32", "spi", ";", "<nl>", "<nl>", "spi", "=", "xfrm6", "_", "tunnel", "_", "spi", "_", "lookup", "(", "(", "xfrm", "_", "address", "_", "t", "*", ")", "&", "iph", "-", ">", "saddr", ")", ";", "<nl>", "-", "return", "xfrm6", "_", "rcv", "_", "spi", "(", "skb", ",", "spi", ")", ";", "<nl>", "+", "return", "xfrm6", "_", "rcv", "_", "spi", "(", "skb", ",", "spi", ")", ">", "0", "?", ":", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "xfrm6", "_", "tunnel", "_", "err", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "inet6", "_", "skb", "_", "parm", "*", "opt", ",", "<nl>"], "docstring_tokens": ["IPV6", "Fix", "slab", "corruption", "running", "ip6sic"]}
{"code_tokens": ["sg", "_", "add", "(", "struct", "class", "_", "device", "*", "cl", "_", "dev", ",", "struct", "class", "_", "interface", "*", "cl", "_", "intf", ")", "<nl>", "MKDEV", "(", "SCSI", "_", "GENERIC", "_", "MAJOR", ",", "sdp", "-", ">", "index", ")", ",", "<nl>", "cl", "_", "dev", "-", ">", "dev", ",", "\"", "%", "s", "\"", ",", "<nl>", "disk", "-", ">", "disk", "_", "name", ")", ";", "<nl>", "-", "if", "(", "IS", "_", "ERR", "(", "sg", "_", "class", "_", "member", ")", ")", "<nl>", "-", "printk", "(", "KERN", "_", "WARNING", "\"", "sg", "_", "add", ":", "\"", "<nl>", "-", "\"", "class", "_", "device", "_", "create", "failed", "\\", "n", "\"", ")", ";", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "sg", "_", "class", "_", "member", ")", ")", "{", "<nl>", "+", "printk", "(", "KERN", "_", "ERR", "\"", "sg", "_", "add", ":", "\"", "<nl>", "+", "\"", "class", "_", "device", "_", "create", "failed", "\\", "n", "\"", ")", ";", "<nl>", "+", "error", "=", "PTR", "_", "ERR", "(", "sg", "_", "class", "_", "member", ")", ";", "<nl>", "+", "goto", "cdev", "_", "add", "_", "err", ";", "<nl>", "+", "}", "<nl>", "class", "_", "set", "_", "devdata", "(", "sg", "_", "class", "_", "member", ",", "sdp", ")", ";", "<nl>", "-", "error", "=", "sysfs", "_", "create", "_", "link", "(", "&", "scsidp", "-", ">", "sdev", "_", "gendev", ".", "kobj", ",", "<nl>", "+", "error", "=", "sysfs", "_", "create", "_", "link", "(", "&", "scsidp", "-", ">", "sdev", "_", "gendev", ".", "kobj", ",", "<nl>", "&", "sg", "_", "class", "_", "member", "-", ">", "kobj", ",", "\"", "generic", "\"", ")", ";", "<nl>", "if", "(", "error", ")", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "sg", "_", "add", ":", "unable", "to", "make", "symlink", "\"", "<nl>"], "docstring_tokens": ["SCSI", "sg", "handle", "class_device_create", "failure", "properly"]}
{"code_tokens": ["#", "include", "<", "sound", "/", "soc", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "hardware", ".", "h", ">", "<nl>", "<nl>", "-", "#", "include", "<", "plat", "/", "regs", "-", "s3c2412", "-", "iis", ".", "h", ">", "<nl>", "-", "<nl>", "#", "include", "<", "mach", "/", "regs", "-", "gpio", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "dma", ".", "h", ">", "<nl>", "<nl>", "#", "include", "\"", "s3c", "-", "dma", ".", "h", "\"", "<nl>", "+", "#", "include", "\"", "regs", "-", "i2s", "-", "v2", ".", "h", "\"", "<nl>", "#", "include", "\"", "s3c2412", "-", "i2s", ".", "h", "\"", "<nl>", "<nl>", "#", "define", "S3C2412", "_", "I2S", "_", "DEBUG", "0mmm", "sound", "/", "soc", "/", "s3c24xx", "/", "s3c64xx", "-", "i2s", ".", "c", "<nl>", "#", "include", "<", "sound", "/", "soc", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "hardware", ".", "h", ">", "<nl>", "<nl>", "-", "#", "include", "<", "plat", "/", "regs", "-", "s3c2412", "-", "iis", ".", "h", ">", "<nl>", "-", "<nl>", "#", "include", "<", "mach", "/", "regs", "-", "gpio", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "dma", ".", "h", ">", "<nl>", "<nl>", "#", "include", "\"", "s3c", "-", "dma", ".", "h", "\"", "<nl>", "+", "#", "include", "\"", "regs", "-", "i2s", "-", "v2", ".", "h", "\"", "<nl>", "#", "include", "\"", "s3c2412", "-", "i2s", ".", "h", "\"", "<nl>", "<nl>", "#", "define", "S3C2412", "_", "I2S", "_", "DEBUG", "0", "<nl>", "<nl>", "#", "include", "<", "sound", "/", "soc", ".", "h", ">", "<nl>", "<nl>", "-", "#", "include", "<", "plat", "/", "regs", "-", "s3c2412", "-", "iis", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "gpio", "-", "bank", "-", "d", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "gpio", "-", "bank", "-", "e", ".", "h", ">", "<nl>", "#", "include", "<", "plat", "/", "gpio", "-", "cfg", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "dma", ".", "h", ">", "<nl>", "<nl>", "#", "include", "\"", "s3c", "-", "dma", ".", "h", "\"", "<nl>", "+", "#", "include", "\"", "regs", "-", "i2s", "-", "v2", ".", "h", "\"", "<nl>", "#", "include", "\"", "s3c64xx", "-", "i2s", ".", "h", "\"", "<nl>", "<nl>", "/", "*", "The", "value", "should", "be", "set", "to", "maximum", "of", "the", "total", "numbermmm", "sound", "/", "soc", "/", "s3c24xx", "/", "s3c", "-", "i2s", "-", "v2", ".", "c", "<nl>", "#", "include", "<", "sound", "/", "soc", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "hardware", ".", "h", ">", "<nl>", "<nl>", "-", "#", "include", "<", "plat", "/", "regs", "-", "s3c2412", "-", "iis", ".", "h", ">", "<nl>", "-", "<nl>", "#", "include", "<", "mach", "/", "regs", "-", "gpio", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "dma", ".", "h", ">", "<nl>", "<nl>", "#", "include", "\"", "s3c", "-", "dma", ".", "h", "\"", "<nl>", "+", "#", "include", "\"", "regs", "-", "i2s", "-", "v2", ".", "h", "\"", "<nl>", "#", "include", "\"", "s3c2412", "-", "i2s", ".", "h", "\"", "<nl>", "<nl>", "#", "define", "S3C2412", "_", "I2S", "_", "DEBUG", "0", "<nl>", "<nl>", "#", "include", "<", "sound", "/", "soc", ".", "h", ">", "<nl>", "<nl>", "-", "#", "include", "<", "plat", "/", "regs", "-", "s3c2412", "-", "iis", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "gpio", "-", "bank", "-", "d", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "gpio", "-", "bank", "-", "e", ".", "h", ">", "<nl>", "#", "include", "<", "plat", "/", "gpio", "-", "cfg", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "dma", ".", "h", ">", "<nl>", "<nl>", "#", "include", "\"", "s3c", "-", "dma", ".", "h", "\"", "<nl>", "+", "#", "include", "\"", "regs", "-", "i2s", "-", "v2", ".", "h", "\"", "<nl>", "#", "include", "\"", "s3c64xx", "-", "i2s", ".", "h", "\"", "<nl>", "<nl>", "/", "*", "The", "value", "should", "be", "set", "to", "maximum", "of", "the", "total", "number", "<nl>", "#", "include", "<", "sound", "/", "pcm", "_", "params", ".", "h", ">", "<nl>", "#", "include", "<", "sound", "/", "soc", ".", "h", ">", "<nl>", "<nl>", "-", "#", "include", "<", "plat", "/", "regs", "-", "s3c2412", "-", "iis", ".", "h", ">", "<nl>", "-", "<nl>", "#", "include", "<", "mach", "/", "dma", ".", "h", ">", "<nl>", "<nl>", "+", "#", "include", "\"", "regs", "-", "i2s", "-", "v2", ".", "h", "\"", "<nl>", "#", "include", "\"", "s3c", "-", "i2s", "-", "v2", ".", "h", "\"", "<nl>", "#", "include", "\"", "s3c", "-", "dma", ".", "h", "\"", "<nl>"], "docstring_tokens": ["ASoC", "S3C", "I2Sv2", "Move", "defines", "closer", "to", "driver"]}
{"code_tokens": ["static", "ssize", "_", "t", "fuse", "_", "fill", "_", "write", "_", "pages", "(", "struct", "fuse", "_", "req", "*", "req", ",", "<nl>", "if", "(", "!", "fc", "-", ">", "big", "_", "writes", ")", "<nl>", "break", ";", "<nl>", "}", "while", "(", "iov", "_", "iter", "_", "count", "(", "ii", ")", "&", "&", "count", "<", "fc", "-", ">", "max", "_", "write", "&", "&", "<nl>", "-", "req", "-", ">", "num", "_", "pages", "<", "FUSE", "_", "MAX", "_", "PAGES", "_", "PER", "_", "REQ", "&", "&", "offset", "=", "=", "0", ")", ";", "<nl>", "+", "req", "-", ">", "num", "_", "pages", "<", "req", "-", ">", "max", "_", "pages", "&", "&", "offset", "=", "=", "0", ")", ";", "<nl>", "<nl>", "return", "count", ">", "0", "?", "count", ":", "err", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "inline", "unsigned", "fuse", "_", "wr", "_", "pages", "(", "loff", "_", "t", "pos", ",", "size", "_", "t", "len", ")", "<nl>", "+", "{", "<nl>", "+", "return", "min", "_", "t", "(", "unsigned", ",", "<nl>", "+", "(", "(", "pos", "+", "len", "-", "1", ")", ">", ">", "PAGE", "_", "CACHE", "_", "SHIFT", ")", "-", "<nl>", "+", "(", "pos", ">", ">", "PAGE", "_", "CACHE", "_", "SHIFT", ")", "+", "1", ",", "<nl>", "+", "FUSE", "_", "MAX", "_", "PAGES", "_", "PER", "_", "REQ", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "ssize", "_", "t", "fuse", "_", "perform", "_", "write", "(", "struct", "file", "*", "file", ",", "<nl>", "struct", "address", "_", "space", "*", "mapping", ",", "<nl>", "struct", "iov", "_", "iter", "*", "ii", ",", "loff", "_", "t", "pos", ")", "<nl>", "static", "ssize", "_", "t", "fuse", "_", "perform", "_", "write", "(", "struct", "file", "*", "file", ",", "<nl>", "do", "{", "<nl>", "struct", "fuse", "_", "req", "*", "req", ";", "<nl>", "ssize", "_", "t", "count", ";", "<nl>", "+", "unsigned", "nr", "_", "pages", "=", "fuse", "_", "wr", "_", "pages", "(", "pos", ",", "iov", "_", "iter", "_", "count", "(", "ii", ")", ")", ";", "<nl>", "<nl>", "-", "req", "=", "fuse", "_", "get", "_", "req", "(", "fc", ",", "FUSE", "_", "MAX", "_", "PAGES", "_", "PER", "_", "REQ", ")", ";", "<nl>", "+", "req", "=", "fuse", "_", "get", "_", "req", "(", "fc", ",", "nr", "_", "pages", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "req", ")", ")", "{", "<nl>", "err", "=", "PTR", "_", "ERR", "(", "req", ")", ";", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["fuse", "rework", "fuse_perform_write"]}
{"code_tokens": ["static", "struct", "i2c", "_", "board", "_", "info", "_", "_", "initdata", "snapper9260", "_", "i2c", "_", "devices", "[", "]", "=", "{", "<nl>", "{", "<nl>", "/", "*", "RTC", "*", "/", "<nl>", "I2C", "_", "BOARD", "_", "INFO", "(", "\"", "isl1208", "\"", ",", "0x6f", ")", ",", "<nl>", "+", ".", "irq", "=", "gpio", "_", "to", "_", "irq", "(", "AT91", "_", "PIN", "_", "PA31", ")", ",", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["ARM", "6665", "1", "Add", "Snapper9260", "rtc", "wakeup", "interrupt", "pin"]}
{"code_tokens": ["static", "u8", "smp", "_", "cmd", "_", "pairing", "_", "req", "(", "struct", "l2cap", "_", "conn", "*", "conn", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "<nl>", "if", "(", "!", "test", "_", "and", "_", "set", "_", "bit", "(", "HCI", "_", "CONN", "_", "LE", "_", "SMP", "_", "PEND", ",", "&", "conn", "-", ">", "hcon", "-", ">", "flags", ")", ")", "<nl>", "smp", "=", "smp", "_", "chan", "_", "create", "(", "conn", ")", ";", "<nl>", "+", "else", "<nl>", "+", "smp", "=", "conn", "-", ">", "smp", "_", "chan", ";", "<nl>", "<nl>", "-", "smp", "=", "conn", "-", ">", "smp", "_", "chan", ";", "<nl>", "+", "if", "(", "!", "smp", ")", "<nl>", "+", "return", "SMP", "_", "UNSPECIFIED", ";", "<nl>", "<nl>", "smp", "-", ">", "preq", "[", "0", "]", "=", "SMP", "_", "CMD", "_", "PAIRING", "_", "REQ", ";", "<nl>", "memcpy", "(", "&", "smp", "-", ">", "preq", "[", "1", "]", ",", "req", ",", "sizeof", "(", "*", "req", ")", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "smp", "Fix", "possible", "NULL", "dereference"]}
{"code_tokens": ["static", "ssize", "_", "t", "iio", "_", "ring", "_", "rip", "_", "outer", "(", "struct", "file", "*", "filp", ",", "char", "_", "_", "user", "*", "buf", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "copied", "=", "rb", "-", ">", "access", ".", "rip", "_", "lots", "(", "rb", ",", "count", ",", "&", "data", ",", "&", "dead", "_", "offset", ")", ";", "<nl>", "<nl>", "-", "if", "(", "copied", "<", "0", ")", "{", "<nl>", "+", "if", "(", "copied", "<", "=", "0", ")", "{", "<nl>", "ret", "=", "copied", ";", "<nl>", "goto", "error", "_", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "iio", "iio_ring_rip_outer", "return", "immediately", "if", "rip_lots", "returns", "0"]}
{"code_tokens": ["static", "int", "sh", "_", "pfc", "_", "dt", "_", "node", "_", "to", "_", "map", "(", "struct", "pinctrl", "_", "dev", "*", "pctldev", ",", "<nl>", "for", "_", "each", "_", "child", "_", "of", "_", "node", "(", "np", ",", "child", ")", "{", "<nl>", "ret", "=", "sh", "_", "pfc", "_", "dt", "_", "subnode", "_", "to", "_", "map", "(", "pctldev", ",", "child", ",", "map", ",", "num", "_", "maps", ",", "<nl>", "&", "index", ")", ";", "<nl>", "-", "if", "(", "ret", "<", "0", ")", "<nl>", "+", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "+", "of", "_", "node", "_", "put", "(", "child", ")", ";", "<nl>", "goto", "done", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "/", "*", "If", "no", "mapping", "has", "been", "found", "in", "child", "nodes", "try", "the", "config", "node", ".", "*", "/", "<nl>"], "docstring_tokens": ["pinctrl", "sh", "pfc", "add", "missing", "of_node_put"]}
{"code_tokens": ["unsigned", "int", "ivtv", "_", "v4l2", "_", "dec", "_", "poll", "(", "struct", "file", "*", "filp", ",", "poll", "_", "table", "*", "wait", ")", "<nl>", "return", "res", ";", "<nl>", "}", "<nl>", "<nl>", "-", "unsigned", "int", "ivtv", "_", "v4l2", "_", "enc", "_", "poll", "(", "struct", "file", "*", "filp", ",", "poll", "_", "table", "*", "wait", ")", "<nl>", "+", "unsigned", "int", "ivtv", "_", "v4l2", "_", "enc", "_", "poll", "(", "struct", "file", "*", "filp", ",", "poll", "_", "table", "*", "wait", ")", "<nl>", "{", "<nl>", "+", "unsigned", "long", "req", "_", "events", "=", "poll", "_", "requested", "_", "events", "(", "wait", ")", ";", "<nl>", "struct", "ivtv", "_", "open", "_", "id", "*", "id", "=", "fh2id", "(", "filp", "-", ">", "private", "_", "data", ")", ";", "<nl>", "struct", "ivtv", "*", "itv", "=", "id", "-", ">", "itv", ";", "<nl>", "struct", "ivtv", "_", "stream", "*", "s", "=", "&", "itv", "-", ">", "streams", "[", "id", "-", ">", "type", "]", ";", "<nl>", "unsigned", "int", "ivtv", "_", "v4l2", "_", "enc", "_", "poll", "(", "struct", "file", "*", "filp", ",", "poll", "_", "table", "*", "wait", ")", "<nl>", "unsigned", "res", "=", "0", ";", "<nl>", "<nl>", "/", "*", "Start", "a", "capture", "if", "there", "is", "none", "*", "/", "<nl>", "-", "if", "(", "!", "eof", "&", "&", "!", "test", "_", "bit", "(", "IVTV", "_", "F", "_", "S", "_", "STREAMING", ",", "&", "s", "-", ">", "s", "_", "flags", ")", ")", "{", "<nl>", "+", "if", "(", "!", "eof", "&", "&", "!", "test", "_", "bit", "(", "IVTV", "_", "F", "_", "S", "_", "STREAMING", ",", "&", "s", "-", ">", "s", "_", "flags", ")", "&", "&", "<nl>", "+", "(", "req", "_", "events", "&", "(", "POLLIN", "|", "POLLRDNORM", ")", ")", ")", "{", "<nl>", "int", "rc", ";", "<nl>", "<nl>", "rc", "=", "ivtv", "_", "start", "_", "capture", "(", "id", ")", ";", "<nl>"], "docstring_tokens": ["media", "ivtv", "only", "start", "streaming", "in", "poll", "if", "polling", "for", "input"]}
{"code_tokens": ["static", "int", "max30102", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "dev", "_", "err", "(", "&", "client", "-", ">", "dev", ",", "\"", "regmap", "initialization", "failed", "\\", "n", "\"", ")", ";", "<nl>", "return", "PTR", "_", "ERR", "(", "data", "-", ">", "regmap", ")", ";", "<nl>", "}", "<nl>", "-", "max30102", "_", "set", "_", "powermode", "(", "data", ",", "false", ")", ";", "<nl>", "+", "<nl>", "+", "ret", "=", "max30102", "_", "set", "_", "powermode", "(", "data", ",", "false", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "<nl>", "ret", "=", "max30102", "_", "chip", "_", "init", "(", "data", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>"], "docstring_tokens": ["iio", "health", "max30102", "Check", "retval", "of", "powermode", "function"]}
{"code_tokens": ["i2c", "_", "dw", "_", "xfer", "(", "struct", "i2c", "_", "adapter", "*", "adap", ",", "struct", "i2c", "_", "msg", "msgs", "[", "]", ",", "int", "num", ")", "<nl>", "i2c", "_", "dw", "_", "xfer", "_", "init", "(", "dev", ")", ";", "<nl>", "<nl>", "/", "*", "wait", "for", "tx", "to", "complete", "*", "/", "<nl>", "-", "if", "(", "!", "wait", "_", "for", "_", "completion", "_", "timeout", "(", "&", "dev", "-", ">", "cmd", "_", "complete", ",", "HZ", ")", ")", "{", "<nl>", "+", "if", "(", "!", "wait", "_", "for", "_", "completion", "_", "timeout", "(", "&", "dev", "-", ">", "cmd", "_", "complete", ",", "adap", "-", ">", "timeout", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", "-", ">", "dev", ",", "\"", "controller", "timed", "out", "\\", "n", "\"", ")", ";", "<nl>", "/", "*", "i2c", "_", "dw", "_", "init", "implicitly", "disables", "the", "adapter", "*", "/", "<nl>", "i2c", "_", "dw", "_", "init", "(", "dev", ")", ";", "<nl>"], "docstring_tokens": ["i2c", "designware", "Use", "transfer", "timeout", "from", "ioctl", "I2C_TIMEOUT"]}
{"code_tokens": ["#", "define", "DRIVER", "_", "AUTHOR", "\"", "Maksim", "Salau", "<", "maksim", ".", "salau", "@", "gmail", ".", "com", ">", "\"", "<nl>", "<nl>", "static", "const", "struct", "usb", "_", "device", "_", "id", "id", "_", "table", "[", "]", "=", "{", "<nl>", "-", "{", "USB", "_", "DEVICE", "(", "0x045B", ",", "0x0212", ")", "}", ",", "/", "*", "YRPBRL78G13", ",", "YRPBRL78G14", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x0409", ",", "0x0063", ")", "}", ",", "/", "*", "V850ESJX3", "-", "STICK", "*", "/", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "0x045B", ",", "0x0212", ")", "}", ",", "/", "*", "YRPBRL78G13", ",", "YRPBRL78G14", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x064B", ",", "0x7825", ")", "}", ",", "/", "*", "Analog", "Devices", "EVAL", "-", "ADXL362Z", "-", "DB", "*", "/", "<nl>", "{", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["USB", "serial", "upd78f0730", "sort", "device", "ids"]}
{"code_tokens": ["static", "ssize", "_", "t", "channel", "_", "dimm", "_", "label", "_", "store", "(", "struct", "device", "*", "dev", ",", "<nl>", "if", "(", "data", "[", "count", "-", "1", "]", "=", "=", "'", "\\", "0", "'", "|", "|", "data", "[", "count", "-", "1", "]", "=", "=", "'", "\\", "n", "'", ")", "<nl>", "copy", "_", "count", "-", "=", "1", ";", "<nl>", "<nl>", "-", "if", "(", "copy", "_", "count", ">", "=", "sizeof", "(", "rank", "-", ">", "dimm", "-", ">", "label", ")", ")", "<nl>", "+", "if", "(", "copy", "_", "count", "=", "=", "0", "|", "|", "copy", "_", "count", ">", "=", "sizeof", "(", "rank", "-", ">", "dimm", "-", ">", "label", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "strncpy", "(", "rank", "-", ">", "dimm", "-", ">", "label", ",", "data", ",", "copy", "_", "count", ")", ";", "<nl>", "static", "ssize", "_", "t", "dimmdev", "_", "label", "_", "store", "(", "struct", "device", "*", "dev", ",", "<nl>", "if", "(", "data", "[", "count", "-", "1", "]", "=", "=", "'", "\\", "0", "'", "|", "|", "data", "[", "count", "-", "1", "]", "=", "=", "'", "\\", "n", "'", ")", "<nl>", "copy", "_", "count", "-", "=", "1", ";", "<nl>", "<nl>", "-", "if", "(", "copy", "_", "count", ">", "=", "sizeof", "(", "dimm", "-", ">", "label", ")", ")", "<nl>", "+", "if", "(", "copy", "_", "count", "=", "=", "0", "|", "|", "copy", "_", "count", ">", "=", "sizeof", "(", "dimm", "-", ">", "label", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "strncpy", "(", "dimm", "-", ">", "label", ",", "data", ",", "copy", "_", "count", ")", ";", "<nl>"], "docstring_tokens": ["EDAC", "Don", "t", "allow", "empty", "DIMM", "labels"]}
{"code_tokens": ["struct", "md", "_", "op", "_", "data", "*", "ll", "_", "prep", "_", "md", "_", "op", "_", "data", "(", "struct", "md", "_", "op", "_", "data", "*", "op", "_", "data", ",", "<nl>", "op", "_", "data", "-", ">", "op", "_", "default", "_", "stripe", "_", "offset", "=", "-", "1", ";", "<nl>", "if", "(", "S", "_", "ISDIR", "(", "i1", "-", ">", "i", "_", "mode", ")", ")", "{", "<nl>", "op", "_", "data", "-", ">", "op", "_", "mea1", "=", "ll", "_", "i2info", "(", "i1", ")", "-", ">", "lli", "_", "lsm", "_", "md", ";", "<nl>", "-", "op", "_", "data", "-", ">", "op", "_", "default", "_", "stripe", "_", "offset", "=", "<nl>", "-", "ll", "_", "i2info", "(", "i1", ")", "-", ">", "lli", "_", "def", "_", "stripe", "_", "offset", ";", "<nl>", "+", "if", "(", "opc", "=", "=", "LUSTRE", "_", "OPC", "_", "MKDIR", ")", "<nl>", "+", "op", "_", "data", "-", ">", "op", "_", "default", "_", "stripe", "_", "offset", "=", "<nl>", "+", "ll", "_", "i2info", "(", "i1", ")", "-", ">", "lli", "_", "def", "_", "stripe", "_", "offset", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "i2", ")", "{", "<nl>"], "docstring_tokens": ["staging", "lustre", "llite", "default", "dir", "stripe", "index", "only", "for", "mkdir"]}
{"code_tokens": ["static", "int", "xemaclite", "_", "of", "_", "probe", "(", "struct", "platform", "_", "device", "*", "ofdev", ")", "<nl>", "}", "<nl>", "<nl>", "dev", "_", "info", "(", "dev", ",", "<nl>", "-", "\"", "Xilinx", "EmacLite", "at", "0x", "%", "08lX", "mapped", "to", "0x", "%", "08lX", ",", "irq", "=", "%", "d", "\\", "n", "\"", ",", "<nl>", "-", "(", "unsigned", "long", "_", "_", "force", ")", "ndev", "-", ">", "mem", "_", "start", ",", "<nl>", "-", "(", "unsigned", "long", "_", "_", "force", ")", "lp", "-", ">", "base", "_", "addr", ",", "ndev", "-", ">", "irq", ")", ";", "<nl>", "+", "\"", "Xilinx", "EmacLite", "at", "0x", "%", "08lX", "mapped", "to", "0x", "%", "p", ",", "irq", "=", "%", "d", "\\", "n", "\"", ",", "<nl>", "+", "(", "unsigned", "long", "_", "_", "force", ")", "ndev", "-", ">", "mem", "_", "start", ",", "lp", "-", ">", "base", "_", "addr", ",", "ndev", "-", ">", "irq", ")", ";", "<nl>", "return", "0", ";", "<nl>", "<nl>", "error", ":", "<nl>"], "docstring_tokens": ["net", "xilinx_emaclite", "Do", "not", "print", "real", "IOMEM", "pointer"]}
{"code_tokens": ["struct", "snd", "_", "soc", "_", "component", "_", "driver", "{", "<nl>", "int", "(", "*", "suspend", ")", "(", "struct", "snd", "_", "soc", "_", "component", "*", ")", ";", "<nl>", "int", "(", "*", "resume", ")", "(", "struct", "snd", "_", "soc", "_", "component", "*", ")", ";", "<nl>", "<nl>", "+", "unsigned", "int", "(", "*", "read", ")", "(", "struct", "snd", "_", "soc", "_", "component", "*", ",", "unsigned", "int", ")", ";", "<nl>", "+", "int", "(", "*", "write", ")", "(", "struct", "snd", "_", "soc", "_", "component", "*", ",", "unsigned", "int", ",", "unsigned", "int", ")", ";", "<nl>", "+", "<nl>", "/", "*", "pcm", "creation", "and", "destruction", "*", "/", "<nl>", "int", "(", "*", "pcm", "_", "new", ")", "(", "struct", "snd", "_", "soc", "_", "pcm", "_", "runtime", "*", ")", ";", "<nl>", "void", "(", "*", "pcm", "_", "free", ")", "(", "struct", "snd", "_", "pcm", "*", ")", ";", "mmm", "sound", "/", "soc", "/", "soc", "-", "io", ".", "c", "<nl>", "struct", "snd", "_", "soc", "_", "component", "_", "driver", "{", "<nl>", "int", "(", "*", "suspend", ")", "(", "struct", "snd", "_", "soc", "_", "component", "*", ")", ";", "<nl>", "int", "(", "*", "resume", ")", "(", "struct", "snd", "_", "soc", "_", "component", "*", ")", ";", "<nl>", "<nl>", "+", "unsigned", "int", "(", "*", "read", ")", "(", "struct", "snd", "_", "soc", "_", "component", "*", ",", "unsigned", "int", ")", ";", "<nl>", "+", "int", "(", "*", "write", ")", "(", "struct", "snd", "_", "soc", "_", "component", "*", ",", "unsigned", "int", ",", "unsigned", "int", ")", ";", "<nl>", "+", "<nl>", "/", "*", "pcm", "creation", "and", "destruction", "*", "/", "<nl>", "int", "(", "*", "pcm", "_", "new", ")", "(", "struct", "snd", "_", "soc", "_", "pcm", "_", "runtime", "*", ")", ";", "<nl>", "void", "(", "*", "pcm", "_", "free", ")", "(", "struct", "snd", "_", "pcm", "*", ")", ";", "<nl>", "int", "snd", "_", "soc", "_", "component", "_", "read", "(", "struct", "snd", "_", "soc", "_", "component", "*", "component", ",", "<nl>", "ret", "=", "regmap", "_", "read", "(", "component", "-", ">", "regmap", ",", "reg", ",", "val", ")", ";", "<nl>", "else", "if", "(", "component", "-", ">", "read", ")", "<nl>", "ret", "=", "component", "-", ">", "read", "(", "component", ",", "reg", ",", "val", ")", ";", "<nl>", "+", "else", "if", "(", "component", "-", ">", "driver", "-", ">", "read", ")", "{", "<nl>", "+", "*", "val", "=", "component", "-", ">", "driver", "-", ">", "read", "(", "component", ",", "reg", ")", ";", "<nl>", "+", "ret", "=", "0", ";", "<nl>", "+", "}", "<nl>", "else", "<nl>", "ret", "=", "-", "EIO", ";", "<nl>", "<nl>", "int", "snd", "_", "soc", "_", "component", "_", "write", "(", "struct", "snd", "_", "soc", "_", "component", "*", "component", ",", "<nl>", "return", "regmap", "_", "write", "(", "component", "-", ">", "regmap", ",", "reg", ",", "val", ")", ";", "<nl>", "else", "if", "(", "component", "-", ">", "write", ")", "<nl>", "return", "component", "-", ">", "write", "(", "component", ",", "reg", ",", "val", ")", ";", "<nl>", "+", "else", "if", "(", "component", "-", ">", "driver", "-", ">", "write", ")", "<nl>", "+", "return", "component", "-", ">", "driver", "-", ">", "write", "(", "component", ",", "reg", ",", "val", ")", ";", "<nl>", "else", "<nl>", "return", "-", "EIO", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "add", "Component", "level", "read", "write"]}
{"code_tokens": ["static", "int", "mwifiex", "_", "pcie", "_", "init", "_", "evt", "_", "ring", "(", "struct", "mwifiex", "_", "adapter", "*", "adapter", ")", "<nl>", "skb", "_", "put", "(", "skb", ",", "MAX", "_", "EVENT", "_", "SIZE", ")", ";", "<nl>", "<nl>", "if", "(", "mwifiex", "_", "map", "_", "pci", "_", "memory", "(", "adapter", ",", "skb", ",", "MAX", "_", "EVENT", "_", "SIZE", ",", "<nl>", "-", "PCI", "_", "DMA", "_", "FROMDEVICE", ")", ")", "<nl>", "+", "PCI", "_", "DMA", "_", "FROMDEVICE", ")", ")", "{", "<nl>", "+", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "+", "kfree", "(", "card", "-", ">", "evtbd", "_", "ring", "_", "vbase", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "+", "}", "<nl>", "<nl>", "buf", "_", "pa", "=", "MWIFIEX", "_", "SKB", "_", "DMA", "_", "ADDR", "(", "skb", ")", ";", "<nl>"], "docstring_tokens": ["mwifiex", "pcie", "Fix", "memory", "leak", "in", "mwifiex_pcie_init_evt_ring"]}
{"code_tokens": ["static", "int", "tile", "_", "net", "_", "poll", "(", "struct", "napi", "_", "struct", "*", "napi", ",", "int", "budget", ")", "<nl>", "struct", "info", "_", "mpipe", "*", "info", "_", "mpipe", "=", "<nl>", "container", "_", "of", "(", "napi", ",", "struct", "info", "_", "mpipe", ",", "napi", ")", ";", "<nl>", "<nl>", "+", "if", "(", "budget", "<", "=", "0", ")", "<nl>", "+", "goto", "done", ";", "<nl>", "+", "<nl>", "instance", "=", "info", "_", "mpipe", "-", ">", "instance", ";", "<nl>", "while", "(", "(", "n", "=", "gxio", "_", "mpipe", "_", "iqueue", "_", "try", "_", "peek", "(", "<nl>", "&", "info", "_", "mpipe", "-", ">", "iqueue", ",", "<nl>"], "docstring_tokens": ["tilegx", "Don", "t", "receive", "packets", "when", "the", "napi", "budget", "0"]}
{"code_tokens": ["xfs", "_", "itruncate", "_", "start", "(", "<nl>", "mp", "=", "ip", "-", ">", "i", "_", "mount", ";", "<nl>", "<nl>", "/", "*", "wait", "for", "the", "completion", "of", "any", "pending", "DIOs", "*", "/", "<nl>", "-", "if", "(", "new", "_", "size", "<", "ip", "-", ">", "i", "_", "size", ")", "<nl>", "+", "if", "(", "new", "_", "size", "=", "=", "0", "|", "|", "new", "_", "size", "<", "ip", "-", ">", "i", "_", "size", ")", "<nl>", "vn", "_", "iowait", "(", "ip", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["XFS", "Wait", "for", "all", "I", "O", "on", "truncate", "to", "zero", "file", "size"]}
{"code_tokens": ["void", "oz", "_", "usb", "_", "rx", "(", "struct", "oz", "_", "pd", "*", "pd", ",", "struct", "oz", "_", "elt", "*", "elt", ")", "<nl>", "case", "OZ", "_", "GET", "_", "DESC", "_", "RSP", ":", "{", "<nl>", "struct", "oz", "_", "get", "_", "desc", "_", "rsp", "*", "body", "=", "<nl>", "(", "struct", "oz", "_", "get", "_", "desc", "_", "rsp", "*", ")", "usb", "_", "hdr", ";", "<nl>", "-", "int", "data", "_", "len", "=", "elt", "-", ">", "length", "-", "<nl>", "-", "sizeof", "(", "struct", "oz", "_", "get", "_", "desc", "_", "rsp", ")", "+", "1", ";", "<nl>", "-", "u16", "offs", "=", "le16", "_", "to", "_", "cpu", "(", "get", "_", "unaligned", "(", "&", "body", "-", ">", "offset", ")", ")", ";", "<nl>", "-", "u16", "total", "_", "size", "=", "<nl>", "+", "u16", "offs", ",", "total", "_", "size", ";", "<nl>", "+", "u8", "data", "_", "len", ";", "<nl>", "+", "<nl>", "+", "if", "(", "elt", "-", ">", "length", "<", "sizeof", "(", "struct", "oz", "_", "get", "_", "desc", "_", "rsp", ")", "-", "1", ")", "<nl>", "+", "break", ";", "<nl>", "+", "data", "_", "len", "=", "elt", "-", ">", "length", "-", "<nl>", "+", "(", "sizeof", "(", "struct", "oz", "_", "get", "_", "desc", "_", "rsp", ")", "-", "1", ")", ";", "<nl>", "+", "offs", "=", "le16", "_", "to", "_", "cpu", "(", "get", "_", "unaligned", "(", "&", "body", "-", ">", "offset", ")", ")", ";", "<nl>", "+", "total", "_", "size", "=", "<nl>", "le16", "_", "to", "_", "cpu", "(", "get", "_", "unaligned", "(", "&", "body", "-", ">", "total", "_", "size", ")", ")", ";", "<nl>", "oz", "_", "dbg", "(", "ON", ",", "\"", "USB", "_", "REQ", "_", "GET", "_", "DESCRIPTOR", "-", "cnf", "\\", "n", "\"", ")", ";", "<nl>", "oz", "_", "hcd", "_", "get", "_", "desc", "_", "cnf", "(", "usb", "_", "ctx", "-", ">", "hport", ",", "body", "-", ">", "req", "_", "id", ",", "<nl>"], "docstring_tokens": ["ozwpan", "Use", "proper", "check", "to", "prevent", "heap", "overflow"]}
{"code_tokens": ["static", "ssize", "_", "t", "snd", "_", "timer", "_", "user", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "buffer", ",", "<nl>", "<nl>", "tu", "=", "file", "-", ">", "private", "_", "data", ";", "<nl>", "unit", "=", "tu", "-", ">", "tread", "?", "sizeof", "(", "struct", "snd", "_", "timer", "_", "tread", ")", ":", "sizeof", "(", "struct", "snd", "_", "timer", "_", "read", ")", ";", "<nl>", "+", "mutex", "_", "lock", "(", "&", "tu", "-", ">", "ioctl", "_", "lock", ")", ";", "<nl>", "spin", "_", "lock", "_", "irq", "(", "&", "tu", "-", ">", "qlock", ")", ";", "<nl>", "while", "(", "(", "long", ")", "count", "-", "result", ">", "=", "unit", ")", "{", "<nl>", "while", "(", "!", "tu", "-", ">", "qused", ")", "{", "<nl>", "static", "ssize", "_", "t", "snd", "_", "timer", "_", "user", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "buffer", ",", "<nl>", "add", "_", "wait", "_", "queue", "(", "&", "tu", "-", ">", "qchange", "_", "sleep", ",", "&", "wait", ")", ";", "<nl>", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "&", "tu", "-", ">", "qlock", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "tu", "-", ">", "ioctl", "_", "lock", ")", ";", "<nl>", "schedule", "(", ")", ";", "<nl>", "+", "mutex", "_", "lock", "(", "&", "tu", "-", ">", "ioctl", "_", "lock", ")", ";", "<nl>", "spin", "_", "lock", "_", "irq", "(", "&", "tu", "-", ">", "qlock", ")", ";", "<nl>", "<nl>", "remove", "_", "wait", "_", "queue", "(", "&", "tu", "-", ">", "qchange", "_", "sleep", ",", "&", "wait", ")", ";", "<nl>", "static", "ssize", "_", "t", "snd", "_", "timer", "_", "user", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "buffer", ",", "<nl>", "tu", "-", ">", "qused", "-", "-", ";", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "&", "tu", "-", ">", "qlock", ")", ";", "<nl>", "<nl>", "-", "mutex", "_", "lock", "(", "&", "tu", "-", ">", "ioctl", "_", "lock", ")", ";", "<nl>", "if", "(", "tu", "-", ">", "tread", ")", "{", "<nl>", "if", "(", "copy", "_", "to", "_", "user", "(", "buffer", ",", "&", "tu", "-", ">", "tqueue", "[", "qhead", "]", ",", "<nl>", "sizeof", "(", "struct", "snd", "_", "timer", "_", "tread", ")", ")", ")", "<nl>", "static", "ssize", "_", "t", "snd", "_", "timer", "_", "user", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "buffer", ",", "<nl>", "sizeof", "(", "struct", "snd", "_", "timer", "_", "read", ")", ")", ")", "<nl>", "err", "=", "-", "EFAULT", ";", "<nl>", "}", "<nl>", "-", "mutex", "_", "unlock", "(", "&", "tu", "-", ">", "ioctl", "_", "lock", ")", ";", "<nl>", "<nl>", "spin", "_", "lock", "_", "irq", "(", "&", "tu", "-", ">", "qlock", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "static", "ssize", "_", "t", "snd", "_", "timer", "_", "user", "_", "read", "(", "struct", "file", "*", "file", ",", "char", "_", "_", "user", "*", "buffer", ",", "<nl>", "}", "<nl>", "_", "error", ":", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "&", "tu", "-", ">", "qlock", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "tu", "-", ">", "ioctl", "_", "lock", ")", ";", "<nl>", "return", "result", ">", "0", "?", "result", ":", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "timer", "Fix", "race", "between", "read", "and", "ioctl"]}
{"code_tokens": ["find", "_", "prev", "_", "fhdr", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "u8", "*", "prevhdrp", ",", "int", "*", "prevhoff", ",", "int", "*", "fhoff", ")", "<nl>", "if", "(", "!", "ipv6", "_", "ext", "_", "hdr", "(", "nexthdr", ")", ")", "{", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "-", "if", "(", "len", "<", "(", "int", ")", "sizeof", "(", "struct", "ipv6", "_", "opt", "_", "hdr", ")", ")", "{", "<nl>", "-", "pr", "_", "debug", "(", "\"", "too", "short", "\\", "n", "\"", ")", ";", "<nl>", "-", "return", "-", "1", ";", "<nl>", "-", "}", "<nl>", "if", "(", "nexthdr", "=", "=", "NEXTHDR", "_", "NONE", ")", "{", "<nl>", "pr", "_", "debug", "(", "\"", "next", "header", "is", "none", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "+", "if", "(", "len", "<", "(", "int", ")", "sizeof", "(", "struct", "ipv6", "_", "opt", "_", "hdr", ")", ")", "{", "<nl>", "+", "pr", "_", "debug", "(", "\"", "too", "short", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "}", "<nl>", "if", "(", "skb", "_", "copy", "_", "bits", "(", "skb", ",", "start", ",", "&", "hdr", ",", "sizeof", "(", "hdr", ")", ")", ")", "<nl>", "BUG", "(", ")", ";", "<nl>", "if", "(", "nexthdr", "=", "=", "NEXTHDR", "_", "AUTH", ")", "<nl>"], "docstring_tokens": ["netfilter", "conntrack", "check", "for", "NEXTHDR_NONE", "before", "header", "sanity", "checking"]}
{"code_tokens": ["static", "int", "fcoe", "_", "interface", "_", "setup", "(", "struct", "fcoe", "_", "interface", "*", "fcoe", ",", "<nl>", "*", "use", "the", "first", "one", "for", "SPMA", "*", "/", "<nl>", "real", "_", "dev", "=", "(", "netdev", "-", ">", "priv", "_", "flags", "&", "IFF", "_", "802", "_", "1Q", "_", "VLAN", ")", "?", "<nl>", "vlan", "_", "dev", "_", "real", "_", "dev", "(", "netdev", ")", ":", "netdev", ";", "<nl>", "+", "fcoe", "-", ">", "realdev", "=", "real", "_", "dev", ";", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "for", "_", "each", "_", "dev", "_", "addr", "(", "real", "_", "dev", ",", "ha", ")", "{", "<nl>", "if", "(", "(", "ha", "-", ">", "type", "=", "=", "NETDEV", "_", "HW", "_", "ADDR", "_", "T", "_", "SAN", ")", "&", "&", "<nl>", "int", "fcoe", "_", "xmit", "(", "struct", "fc", "_", "lport", "*", "lport", ",", "struct", "fc", "_", "frame", "*", "fp", ")", "<nl>", "skb", "_", "reset", "_", "network", "_", "header", "(", "skb", ")", ";", "<nl>", "skb", "-", ">", "mac", "_", "len", "=", "elen", ";", "<nl>", "skb", "-", ">", "protocol", "=", "htons", "(", "ETH", "_", "P", "_", "FCOE", ")", ";", "<nl>", "-", "skb", "-", ">", "dev", "=", "fcoe", "-", ">", "netdev", ";", "<nl>", "+", "if", "(", "fcoe", "-", ">", "netdev", "-", ">", "priv", "_", "flags", "&", "IFF", "_", "802", "_", "1Q", "_", "VLAN", "&", "&", "<nl>", "+", "fcoe", "-", ">", "realdev", "-", ">", "features", "&", "NETIF", "_", "F", "_", "HW", "_", "VLAN", "_", "TX", ")", "{", "<nl>", "+", "skb", "-", ">", "vlan", "_", "tci", "=", "VLAN", "_", "TAG", "_", "PRESENT", "|", "<nl>", "+", "vlan", "_", "dev", "_", "vlan", "_", "id", "(", "fcoe", "-", ">", "netdev", ")", ";", "<nl>", "+", "skb", "-", ">", "dev", "=", "fcoe", "-", ">", "realdev", ";", "<nl>", "+", "}", "else", "<nl>", "+", "skb", "-", ">", "dev", "=", "fcoe", "-", ">", "netdev", ";", "<nl>", "<nl>", "/", "*", "fill", "up", "mac", "and", "fcoe", "headers", "*", "/", "<nl>", "eh", "=", "eth", "_", "hdr", "(", "skb", ")", ";", "mmm", "drivers", "/", "scsi", "/", "fcoe", "/", "fcoe", ".", "h", "<nl>", "static", "int", "fcoe", "_", "interface", "_", "setup", "(", "struct", "fcoe", "_", "interface", "*", "fcoe", ",", "<nl>", "*", "use", "the", "first", "one", "for", "SPMA", "*", "/", "<nl>", "real", "_", "dev", "=", "(", "netdev", "-", ">", "priv", "_", "flags", "&", "IFF", "_", "802", "_", "1Q", "_", "VLAN", ")", "?", "<nl>", "vlan", "_", "dev", "_", "real", "_", "dev", "(", "netdev", ")", ":", "netdev", ";", "<nl>", "+", "fcoe", "-", ">", "realdev", "=", "real", "_", "dev", ";", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "for", "_", "each", "_", "dev", "_", "addr", "(", "real", "_", "dev", ",", "ha", ")", "{", "<nl>", "if", "(", "(", "ha", "-", ">", "type", "=", "=", "NETDEV", "_", "HW", "_", "ADDR", "_", "T", "_", "SAN", ")", "&", "&", "<nl>", "int", "fcoe", "_", "xmit", "(", "struct", "fc", "_", "lport", "*", "lport", ",", "struct", "fc", "_", "frame", "*", "fp", ")", "<nl>", "skb", "_", "reset", "_", "network", "_", "header", "(", "skb", ")", ";", "<nl>", "skb", "-", ">", "mac", "_", "len", "=", "elen", ";", "<nl>", "skb", "-", ">", "protocol", "=", "htons", "(", "ETH", "_", "P", "_", "FCOE", ")", ";", "<nl>", "-", "skb", "-", ">", "dev", "=", "fcoe", "-", ">", "netdev", ";", "<nl>", "+", "if", "(", "fcoe", "-", ">", "netdev", "-", ">", "priv", "_", "flags", "&", "IFF", "_", "802", "_", "1Q", "_", "VLAN", "&", "&", "<nl>", "+", "fcoe", "-", ">", "realdev", "-", ">", "features", "&", "NETIF", "_", "F", "_", "HW", "_", "VLAN", "_", "TX", ")", "{", "<nl>", "+", "skb", "-", ">", "vlan", "_", "tci", "=", "VLAN", "_", "TAG", "_", "PRESENT", "|", "<nl>", "+", "vlan", "_", "dev", "_", "vlan", "_", "id", "(", "fcoe", "-", ">", "netdev", ")", ";", "<nl>", "+", "skb", "-", ">", "dev", "=", "fcoe", "-", ">", "realdev", ";", "<nl>", "+", "}", "else", "<nl>", "+", "skb", "-", ">", "dev", "=", "fcoe", "-", ">", "netdev", ";", "<nl>", "<nl>", "/", "*", "fill", "up", "mac", "and", "fcoe", "headers", "*", "/", "<nl>", "eh", "=", "eth", "_", "hdr", "(", "skb", ")", ";", "<nl>", "do", "{", "\\", "<nl>", "struct", "fcoe", "_", "interface", "{", "<nl>", "struct", "list", "_", "head", "list", ";", "<nl>", "struct", "net", "_", "device", "*", "netdev", ";", "<nl>", "+", "struct", "net", "_", "device", "*", "realdev", ";", "<nl>", "struct", "packet", "_", "type", "fcoe", "_", "packet", "_", "type", ";", "<nl>", "struct", "packet", "_", "type", "fip", "_", "packet", "_", "type", ";", "<nl>", "struct", "fcoe", "_", "ctlr", "ctlr", ";", "<nl>"], "docstring_tokens": ["SCSI", "fcoe", "use", "real", "dev", "in", "case", "of", "HW", "vlan", "acceleration"]}
{"code_tokens": ["static", "void", "do", "_", "fault", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "(", "vma", "-", ">", "vm", "_", "flags", "&", "(", "VM", "_", "READ", "|", "VM", "_", "EXEC", "|", "VM", "_", "WRITE", ")", ")", ")", "{", "<nl>", "+", "/", "*", "handle", "_", "mm", "_", "fault", "would", "BUG", "_", "ON", "(", ")", "*", "/", "<nl>", "+", "up", "_", "read", "(", "&", "mm", "-", ">", "mmap", "_", "sem", ")", ";", "<nl>", "+", "handle", "_", "fault", "_", "error", "(", "fault", ")", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "ret", "=", "handle", "_", "mm", "_", "fault", "(", "mm", ",", "vma", ",", "address", ",", "write", ")", ";", "<nl>", "if", "(", "ret", "&", "VM", "_", "FAULT", "_", "ERROR", ")", "{", "<nl>", "/", "*", "failed", "to", "service", "fault", "*", "/", "<nl>"], "docstring_tokens": ["iommu", "amd", "Fix", "BUG", "when", "faulting", "a", "PROT_NONE", "VMA"]}
{"code_tokens": ["struct", "xt", "_", "table", "_", "info", "*", "xt", "_", "alloc", "_", "table", "_", "info", "(", "unsigned", "int", "size", ")", "<nl>", "struct", "xt", "_", "table", "_", "info", "*", "info", "=", "NULL", ";", "<nl>", "size", "_", "t", "sz", "=", "sizeof", "(", "*", "info", ")", "+", "size", ";", "<nl>", "<nl>", "+", "if", "(", "sz", "<", "sizeof", "(", "*", "info", ")", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "/", "*", "Pedantry", ":", "prevent", "them", "from", "hitting", "BUG", "(", ")", "in", "vmalloc", ".", "c", "-", "-", "RR", "*", "/", "<nl>", "if", "(", "(", "SMP", "_", "ALIGN", "(", "size", ")", ">", ">", "PAGE", "_", "SHIFT", ")", "+", "2", ">", "totalram", "_", "pages", ")", "<nl>", "return", "NULL", ";", "<nl>"], "docstring_tokens": ["netfilter", "x_tables", "check", "for", "size", "overflow"]}
{"code_tokens": ["static", "int", "fw", "_", "add", "_", "devm", "_", "name", "(", "struct", "device", "*", "dev", ",", "const", "char", "*", "name", ")", "<nl>", "<nl>", "fwn", "=", "fw", "_", "find", "_", "devm", "_", "name", "(", "dev", ",", "name", ")", ";", "<nl>", "if", "(", "fwn", ")", "<nl>", "-", "return", "1", ";", "<nl>", "+", "return", "0", ";", "<nl>", "<nl>", "fwn", "=", "devres", "_", "alloc", "(", "fw", "_", "name", "_", "devm", "_", "release", ",", "sizeof", "(", "struct", "fw", "_", "name", "_", "devm", ")", ",", "<nl>", "GFP", "_", "KERNEL", ")", ";", "<nl>", "int", "assign", "_", "fw", "(", "struct", "firmware", "*", "fw", ",", "struct", "device", "*", "device", ",", "<nl>", "unsigned", "int", "opt", "_", "flags", ")", "<nl>", "{", "<nl>", "struct", "fw", "_", "priv", "*", "fw", "_", "priv", "=", "fw", "-", ">", "priv", ";", "<nl>", "+", "int", "ret", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "fw", "_", "lock", ")", ";", "<nl>", "if", "(", "!", "fw", "_", "priv", "-", ">", "size", "|", "|", "fw", "_", "state", "_", "is", "_", "aborted", "(", "fw", "_", "priv", ")", ")", "{", "<nl>", "int", "assign", "_", "fw", "(", "struct", "firmware", "*", "fw", ",", "struct", "device", "*", "device", ",", "<nl>", "*", "/", "<nl>", "/", "*", "don", "'", "t", "cache", "firmware", "handled", "without", "uevent", "*", "/", "<nl>", "if", "(", "device", "&", "&", "(", "opt", "_", "flags", "&", "FW", "_", "OPT", "_", "UEVENT", ")", "&", "&", "<nl>", "-", "!", "(", "opt", "_", "flags", "&", "FW", "_", "OPT", "_", "NOCACHE", ")", ")", "<nl>", "-", "fw", "_", "add", "_", "devm", "_", "name", "(", "device", ",", "fw", "_", "priv", "-", ">", "fw", "_", "name", ")", ";", "<nl>", "+", "!", "(", "opt", "_", "flags", "&", "FW", "_", "OPT", "_", "NOCACHE", ")", ")", "{", "<nl>", "+", "ret", "=", "fw", "_", "add", "_", "devm", "_", "name", "(", "device", ",", "fw", "_", "priv", "-", ">", "fw", "_", "name", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "{", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "fw", "_", "lock", ")", ";", "<nl>", "+", "return", "ret", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "<nl>", "*", "After", "caching", "firmware", "image", "is", "started", ",", "let", "it", "piggyback", "<nl>"], "docstring_tokens": ["firmware", "fix", "checking", "for", "return", "values", "for", "fw_add_devm_name"]}
{"code_tokens": ["ssize", "_", "t", "mipi", "_", "dsi", "_", "dcs", "_", "read", "(", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", ",", "unsigned", "int", "channel", ",", "<nl>", "*", "@", "driver", ":", "device", "driver", "model", "driver", "<nl>", "*", "@", "probe", ":", "callback", "for", "device", "binding", "<nl>", "*", "@", "remove", ":", "callback", "for", "device", "unbinding", "<nl>", "+", "*", "@", "shutdown", ":", "called", "at", "shutdown", "time", "to", "quiesce", "the", "device", "<nl>", "*", "/", "<nl>", "struct", "mipi", "_", "dsi", "_", "driver", "{", "<nl>", "struct", "device", "_", "driver", "driver", ";", "<nl>", "int", "(", "*", "probe", ")", "(", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", ")", ";", "<nl>", "int", "(", "*", "remove", ")", "(", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", ")", ";", "<nl>", "+", "void", "(", "*", "shutdown", ")", "(", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", ")", ";", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "to", "_", "mipi", "_", "dsi", "_", "driver", "(", "d", ")", "container", "_", "of", "(", "d", ",", "struct", "mipi", "_", "dsi", "_", "driver", ",", "driver", ")", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "drm", "_", "mipi", "_", "dsi", ".", "c", "<nl>", "ssize", "_", "t", "mipi", "_", "dsi", "_", "dcs", "_", "read", "(", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", ",", "unsigned", "int", "channel", ",", "<nl>", "*", "@", "driver", ":", "device", "driver", "model", "driver", "<nl>", "*", "@", "probe", ":", "callback", "for", "device", "binding", "<nl>", "*", "@", "remove", ":", "callback", "for", "device", "unbinding", "<nl>", "+", "*", "@", "shutdown", ":", "called", "at", "shutdown", "time", "to", "quiesce", "the", "device", "<nl>", "*", "/", "<nl>", "struct", "mipi", "_", "dsi", "_", "driver", "{", "<nl>", "struct", "device", "_", "driver", "driver", ";", "<nl>", "int", "(", "*", "probe", ")", "(", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", ")", ";", "<nl>", "int", "(", "*", "remove", ")", "(", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", ")", ";", "<nl>", "+", "void", "(", "*", "shutdown", ")", "(", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", ")", ";", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "to", "_", "mipi", "_", "dsi", "_", "driver", "(", "d", ")", "container", "_", "of", "(", "d", ",", "struct", "mipi", "_", "dsi", "_", "driver", ",", "driver", ")", "<nl>", "static", "int", "mipi", "_", "dsi", "_", "drv", "_", "remove", "(", "struct", "device", "*", "dev", ")", "<nl>", "return", "drv", "-", ">", "remove", "(", "dsi", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "void", "mipi", "_", "dsi", "_", "drv", "_", "shutdown", "(", "struct", "device", "*", "dev", ")", "<nl>", "+", "{", "<nl>", "+", "struct", "mipi", "_", "dsi", "_", "driver", "*", "drv", "=", "to", "_", "mipi", "_", "dsi", "_", "driver", "(", "dev", "-", ">", "driver", ")", ";", "<nl>", "+", "struct", "mipi", "_", "dsi", "_", "device", "*", "dsi", "=", "to", "_", "mipi", "_", "dsi", "_", "device", "(", "dev", ")", ";", "<nl>", "+", "<nl>", "+", "drv", "-", ">", "shutdown", "(", "dsi", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "*", "<nl>", "*", "mipi", "_", "dsi", "_", "driver", "_", "register", "-", "register", "a", "driver", "for", "DSI", "devices", "<nl>", "*", "@", "drv", ":", "DSI", "driver", "structure", "<nl>", "int", "mipi", "_", "dsi", "_", "driver", "_", "register", "(", "struct", "mipi", "_", "dsi", "_", "driver", "*", "drv", ")", "<nl>", "drv", "-", ">", "driver", ".", "probe", "=", "mipi", "_", "dsi", "_", "drv", "_", "probe", ";", "<nl>", "if", "(", "drv", "-", ">", "remove", ")", "<nl>", "drv", "-", ">", "driver", ".", "remove", "=", "mipi", "_", "dsi", "_", "drv", "_", "remove", ";", "<nl>", "+", "if", "(", "drv", "-", ">", "shutdown", ")", "<nl>", "+", "drv", "-", ">", "driver", ".", "shutdown", "=", "mipi", "_", "dsi", "_", "drv", "_", "shutdown", ";", "<nl>", "<nl>", "return", "driver", "_", "register", "(", "&", "drv", "-", ">", "driver", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "dsi", "Support", "device", "shutdown"]}
{"code_tokens": ["void", "print", "_", "tree", "(", "struct", "ctree", "_", "root", "*", "root", ",", "struct", "tree", "_", "buffer", "*", "t", ")", "<nl>", "}", "<nl>", "printf", "(", "\"", "node", "%", "Lu", "level", "%", "d", "total", "ptrs", "%", "d", "free", "spc", "%", "u", "\\", "n", "\"", ",", "t", "-", ">", "blocknr", ",", "<nl>", "node", "_", "level", "(", "c", "-", ">", "header", ".", "flags", ")", ",", "c", "-", ">", "header", ".", "nritems", ",", "<nl>", "-", "NODEPTRS", "_", "PER", "_", "BLOCK", "-", "c", "-", ">", "header", ".", "nritems", ")", ";", "<nl>", "+", "(", "u32", ")", "NODEPTRS", "_", "PER", "_", "BLOCK", "-", "c", "-", ">", "header", ".", "nritems", ")", ";", "<nl>", "fflush", "(", "stdout", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "nr", ";", "i", "+", "+", ")", "{", "<nl>", "printf", "(", "\"", "\\", "tkey", "%", "d", "(", "%", "Lu", "%", "u", "%", "Lu", ")", "block", "%", "Lu", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["Btrfs", "more", "32", "bit", "cleanups"]}
{"code_tokens": ["static", "struct", "v4l2", "_", "capability", "pvr", "_", "capability", "=", "{", "<nl>", ".", "card", "=", "\"", "Hauppauge", "WinTV", "pvr", "-", "usb2", "\"", ",", "<nl>", ".", "bus", "_", "info", "=", "\"", "usb", "\"", ",", "<nl>", ".", "version", "=", "KERNEL", "_", "VERSION", "(", "0", ",", "8", ",", "0", ")", ",", "<nl>", "-", ".", "capabilities", "=", "(", "V4L2", "_", "CAP", "_", "VIDEO", "_", "CAPTURE", "|", "V4L2", "_", "CAP", "_", "VBI", "_", "CAPTURE", "|", "<nl>", "+", ".", "capabilities", "=", "(", "V4L2", "_", "CAP", "_", "VIDEO", "_", "CAPTURE", "|", "<nl>", "V4L2", "_", "CAP", "_", "TUNER", "|", "V4L2", "_", "CAP", "_", "AUDIO", "|", "V4L2", "_", "CAP", "_", "RADIO", "|", "<nl>", "V4L2", "_", "CAP", "_", "READWRITE", ")", ",", "<nl>", ".", "reserved", "=", "{", "0", ",", "0", ",", "0", ",", "0", "}", "<nl>"], "docstring_tokens": ["V4L", "DVB", "10236", "pvrusb2", "Stop", "advertising", "VBI", "capability", "it", "isn", "t", "there"]}
{"code_tokens": ["void", "_", "_", "iomem", "*", "_", "_", "ioremap", "(", "unsigned", "long", "addr", ",", "unsigned", "long", "size", ",", "<nl>", "pa", "=", "addr", "&", "PAGE", "_", "MASK", ";", "<nl>", "size", "=", "PAGE", "_", "ALIGN", "(", "addr", "+", "size", ")", "-", "pa", ";", "<nl>", "<nl>", "-", "if", "(", "size", "=", "=", "0", ")", "<nl>", "+", "if", "(", "(", "size", "=", "=", "0", ")", "|", "|", "(", "pa", "=", "=", "0", ")", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "if", "(", "mem", "_", "init", "_", "done", ")", "{", "<nl>"], "docstring_tokens": ["PATCH", "powerpc", "IOMMU", "don", "t", "ioremap", "null", "addresses"]}
{"code_tokens": ["static", "const", "struct", "ata", "_", "blacklist", "_", "entry", "ata", "_", "device", "_", "blacklist", "[", "]", "=", "{", "<nl>", "{", "\"", "_", "NEC", "DV5800A", "\"", ",", "NULL", ",", "ATA", "_", "HORKAGE", "_", "NODMA", "}", ",", "<nl>", "{", "\"", "SAMSUNG", "CD", "-", "ROM", "SN", "-", "124", "\"", ",", "\"", "N001", "\"", ",", "ATA", "_", "HORKAGE", "_", "NODMA", "}", ",", "<nl>", "{", "\"", "Seagate", "STT20000A", "\"", ",", "NULL", ",", "ATA", "_", "HORKAGE", "_", "NODMA", "}", ",", "<nl>", "-", "{", "\"", "2GB", "ATA", "Flash", "Disk", "\"", ",", "\"", "ADMA428M", "\"", ",", "ATA", "_", "HORKAGE", "_", "NODMA", "}", ",", "<nl>", "+", "{", "\"", "2GB", "ATA", "Flash", "Disk", "\"", ",", "\"", "ADMA428M", "\"", ",", "ATA", "_", "HORKAGE", "_", "NODMA", "}", ",", "<nl>", "/", "*", "Odd", "clown", "on", "sil3726", "/", "4726", "PMPs", "*", "/", "<nl>", "{", "\"", "Config", "Disk", "\"", ",", "NULL", ",", "ATA", "_", "HORKAGE", "_", "DISABLE", "}", ",", "<nl>"], "docstring_tokens": ["libata", "Add", "a", "space", "to", "2GB", "ATA", "Flash", "Disk", "DMA", "blacklist", "entry"]}
{"code_tokens": ["static", "void", "skge", "_", "get", "_", "regs", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "ethtool", "_", "regs", "*", "regs", ",", "<nl>", "/", "*", "Wake", "on", "Lan", "only", "supported", "on", "Yukon", "chips", "with", "rev", "1", "or", "above", "*", "/", "<nl>", "static", "u32", "wol", "_", "supported", "(", "const", "struct", "skge", "_", "hw", "*", "hw", ")", "<nl>", "{", "<nl>", "-", "if", "(", "hw", "-", ">", "chip", "_", "id", "=", "=", "CHIP", "_", "ID", "_", "YUKON", "&", "&", "hw", "-", ">", "chip", "_", "rev", "!", "=", "0", ")", "<nl>", "-", "return", "WAKE", "_", "MAGIC", "|", "WAKE", "_", "PHY", ";", "<nl>", "-", "else", "<nl>", "+", "if", "(", "hw", "-", ">", "chip", "_", "id", "=", "=", "CHIP", "_", "ID", "_", "GENESIS", ")", "<nl>", "return", "0", ";", "<nl>", "+", "<nl>", "+", "if", "(", "hw", "-", ">", "chip", "_", "id", "=", "=", "CHIP", "_", "ID", "_", "YUKON", "&", "&", "hw", "-", ">", "chip", "_", "rev", "=", "=", "0", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "+", "return", "WAKE", "_", "MAGIC", "|", "WAKE", "_", "PHY", ";", "<nl>", "}", "<nl>", "<nl>", "static", "u32", "pci", "_", "wake", "_", "enabled", "(", "struct", "pci", "_", "dev", "*", "dev", ")", "<nl>"], "docstring_tokens": ["skge", "allow", "WOL", "except", "for", "known", "broken", "chips"]}
{"code_tokens": ["static", "bool", "service", "_", "io", "(", "struct", "device", "*", "dev", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "OK", ",", "so", "we", "noted", "that", "it", "was", "pretty", "poor", "to", "use", "an", "fdatasync", "as", "a", "<nl>", "+", "*", "barrier", ".", "But", "Christoph", "Hellwig", "points", "out", "that", "we", "need", "a", "sync", "<nl>", "+", "*", "*", "afterwards", "*", "as", "well", ":", "\"", "Barriers", "specify", "no", "reordering", "to", "the", "front", "<nl>", "+", "*", "or", "the", "back", ".", "\"", "And", "Jens", "Axboe", "confirmed", "it", ",", "so", "here", "we", "are", ":", "*", "/", "<nl>", "+", "if", "(", "out", "-", ">", "type", "&", "VIRTIO", "_", "BLK", "_", "T", "_", "BARRIER", ")", "<nl>", "+", "fdatasync", "(", "vblk", "-", ">", "fd", ")", ";", "<nl>", "+", "<nl>", "/", "*", "We", "can", "'", "t", "trigger", "an", "IRQ", ",", "because", "we", "'", "re", "not", "the", "Launcher", ".", "It", "does", "<nl>", "*", "that", "when", "we", "tell", "it", "we", "'", "re", "done", ".", "*", "/", "<nl>", "add", "_", "used", "(", "dev", "-", ">", "vq", ",", "head", ",", "wlen", ")", ";", "<nl>"], "docstring_tokens": ["lguest", "barrier", "me", "harder"]}
{"code_tokens": ["static", "int", "cgroup", "_", "enable", "_", "threaded", "(", "struct", "cgroup", "*", "cgrp", ")", "<nl>", "if", "(", "cgroup", "_", "is", "_", "threaded", "(", "cgrp", ")", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "If", "@", "cgroup", "is", "populated", "or", "has", "domain", "controllers", "enabled", ",", "it", "<nl>", "+", "*", "can", "'", "t", "be", "switched", ".", "While", "the", "below", "cgroup", "_", "can", "_", "be", "_", "thread", "_", "root", "(", ")", "<nl>", "+", "*", "test", "can", "catch", "the", "same", "conditions", ",", "that", "'", "s", "only", "when", "@", "parent", "is", "<nl>", "+", "*", "not", "mixable", ",", "so", "let", "'", "s", "check", "it", "explicitly", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "cgroup", "_", "is", "_", "populated", "(", "cgrp", ")", "|", "|", "<nl>", "+", "cgrp", "-", ">", "subtree", "_", "control", "&", "~", "cgrp", "_", "dfl", "_", "threaded", "_", "ss", "_", "mask", ")", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "<nl>", "/", "*", "we", "'", "re", "joining", "the", "parent", "'", "s", "domain", ",", "ensure", "its", "validity", "*", "/", "<nl>", "if", "(", "!", "cgroup", "_", "is", "_", "valid", "_", "domain", "(", "dom", "_", "cgrp", ")", "|", "|", "<nl>", "!", "cgroup", "_", "can", "_", "be", "_", "thread", "_", "root", "(", "dom", "_", "cgrp", ")", ")", "<nl>"], "docstring_tokens": ["cgroup", "fix", "rule", "checking", "for", "threaded", "mode", "switching"]}
{"code_tokens": ["unsigned", "int", "sk", "_", "run", "_", "filter", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "sock", "_", "filter", "*", "filter", ",", "int", "<nl>", "case", "SKF", "_", "AD", "_", "MARK", ":", "<nl>", "A", "=", "skb", "-", ">", "mark", ";", "<nl>", "continue", ";", "<nl>", "+", "case", "SKF", "_", "AD", "_", "QUEUE", ":", "<nl>", "+", "A", "=", "skb", "-", ">", "queue", "_", "mapping", ";", "<nl>", "+", "continue", ";", "<nl>", "case", "SKF", "_", "AD", "_", "NLATTR", ":", "{", "<nl>", "struct", "nlattr", "*", "nla", ";", "<nl>", "unsigned", "int", "sk", "_", "run", "_", "filter", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "sock", "_", "filter", "*", "filter", ",", "int", "<nl>", "case", "SKF", "_", "AD", "_", "MARK", ":", "<nl>", "A", "=", "skb", "-", ">", "mark", ";", "<nl>", "continue", ";", "<nl>", "+", "case", "SKF", "_", "AD", "_", "QUEUE", ":", "<nl>", "+", "A", "=", "skb", "-", ">", "queue", "_", "mapping", ";", "<nl>", "+", "continue", ";", "<nl>", "case", "SKF", "_", "AD", "_", "NLATTR", ":", "{", "<nl>", "struct", "nlattr", "*", "nla", ";", "<nl>", "<nl>", "struct", "sock", "_", "fprog", "/", "*", "Required", "for", "SO", "_", "ATTACH", "_", "FILTER", ".", "*", "/", "<nl>", "#", "define", "SKF", "_", "AD", "_", "NLATTR", "12", "<nl>", "#", "define", "SKF", "_", "AD", "_", "NLATTR", "_", "NEST", "16", "<nl>", "#", "define", "SKF", "_", "AD", "_", "MARK", "20", "<nl>", "-", "#", "define", "SKF", "_", "AD", "_", "MAX", "24", "<nl>", "+", "#", "define", "SKF", "_", "AD", "_", "QUEUE", "24", "<nl>", "+", "#", "define", "SKF", "_", "AD", "_", "MAX", "28", "<nl>", "#", "define", "SKF", "_", "NET", "_", "OFF", "(", "-", "0x100000", ")", "<nl>", "#", "define", "SKF", "_", "LL", "_", "OFF", "(", "-", "0x200000", ")", "<nl>"], "docstring_tokens": ["filter", "Add", "SKF_AD_QUEUE", "instruction"]}
{"code_tokens": ["static", "void", "gb", "_", "svc", "_", "remove", "_", "modules", "(", "struct", "gb", "_", "svc", "*", "svc", ")", "<nl>", "<nl>", "void", "gb", "_", "svc", "_", "del", "(", "struct", "gb", "_", "svc", "*", "svc", ")", "<nl>", "{", "<nl>", "-", "gb", "_", "connection", "_", "disable", "(", "svc", "-", ">", "connection", ")", ";", "<nl>", "+", "gb", "_", "connection", "_", "disable", "_", "rx", "(", "svc", "-", ">", "connection", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "The", "SVC", "device", "and", "input", "device", "may", "have", "been", "registered", "<nl>", "void", "gb", "_", "svc", "_", "del", "(", "struct", "gb", "_", "svc", "*", "svc", ")", "<nl>", "flush", "_", "workqueue", "(", "svc", "-", ">", "wq", ")", ";", "<nl>", "<nl>", "gb", "_", "svc", "_", "remove", "_", "modules", "(", "svc", ")", ";", "<nl>", "+", "<nl>", "+", "gb", "_", "connection", "_", "disable", "(", "svc", "-", ">", "connection", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "gb", "_", "svc", "_", "put", "(", "struct", "gb", "_", "svc", "*", "svc", ")", "<nl>"], "docstring_tokens": ["greybus", "svc", "disable", "connection", "after", "all", "its", "users", "are", "gone"]}
{"code_tokens": ["static", "int", "fsl", "_", "ifc", "_", "chip", "_", "init", "(", "struct", "fsl", "_", "ifc", "_", "mtd", "*", "priv", ")", "<nl>", "chip", "-", ">", "ecc", ".", "algo", "=", "NAND", "_", "ECC", "_", "HAMMING", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "ctrl", "-", ">", "version", "=", "=", "FSL", "_", "IFC", "_", "VERSION", "_", "1", "_", "1", "_", "0", ")", "<nl>", "+", "if", "(", "ctrl", "-", ">", "version", ">", "=", "FSL", "_", "IFC", "_", "VERSION", "_", "1", "_", "1", "_", "0", ")", "<nl>", "fsl", "_", "ifc", "_", "sram", "_", "init", "(", "priv", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["mtd", "nand", "ifc", "Initialize", "SRAM", "for", "all", "version", "1", "0"]}
{"code_tokens": ["static", "int", "i2c", "_", "hid", "_", "hwreset", "(", "struct", "i2c", "_", "client", "*", "client", ")", "<nl>", "static", "void", "i2c", "_", "hid", "_", "get", "_", "input", "(", "struct", "i2c", "_", "hid", "*", "ihid", ")", "<nl>", "{", "<nl>", "int", "ret", ",", "ret", "_", "size", ";", "<nl>", "-", "int", "size", "=", "le16", "_", "to", "_", "cpu", "(", "ihid", "-", ">", "hdesc", ".", "wMaxInputLength", ")", ";", "<nl>", "+", "int", "size", "=", "ihid", "-", ">", "bufsize", ";", "<nl>", "<nl>", "ret", "=", "i2c", "_", "master", "_", "recv", "(", "ihid", "-", ">", "client", ",", "ihid", "-", ">", "inbuf", ",", "size", ")", ";", "<nl>", "if", "(", "ret", "!", "=", "size", ")", "{", "<nl>"], "docstring_tokens": ["HID", "i2c", "hid", "prevent", "buffer", "overflow", "in", "early", "IRQ"]}
{"code_tokens": ["static", "ssize", "_", "t", "rp5c01", "_", "nvram", "_", "read", "(", "struct", "file", "*", "filp", ",", "struct", "kobject", "*", "kobj", ",", "<nl>", "<nl>", "spin", "_", "lock", "_", "irq", "(", "&", "priv", "-", ">", "lock", ")", ";", "<nl>", "<nl>", "-", "for", "(", "count", "=", "0", ";", "size", ">", "0", "&", "&", "pos", "<", "RP5C01", "_", "MODE", ";", "count", "+", "+", ",", "size", "-", "-", ")", "{", "<nl>", "+", "for", "(", "count", "=", "0", ";", "count", "<", "size", ";", "count", "+", "+", ")", "{", "<nl>", "u8", "data", ";", "<nl>", "<nl>", "rp5c01", "_", "write", "(", "priv", ",", "<nl>", "static", "ssize", "_", "t", "rp5c01", "_", "nvram", "_", "write", "(", "struct", "file", "*", "filp", ",", "struct", "kobject", "*", "kobj", ",", "<nl>", "<nl>", "spin", "_", "lock", "_", "irq", "(", "&", "priv", "-", ">", "lock", ")", ";", "<nl>", "<nl>", "-", "for", "(", "count", "=", "0", ";", "size", ">", "0", "&", "&", "pos", "<", "RP5C01", "_", "MODE", ";", "count", "+", "+", ",", "size", "-", "-", ")", "{", "<nl>", "+", "for", "(", "count", "=", "0", ";", "count", "<", "size", ";", "count", "+", "+", ")", "{", "<nl>", "u8", "data", "=", "*", "buf", "+", "+", ";", "<nl>", "<nl>", "rp5c01", "_", "write", "(", "priv", ",", "<nl>"], "docstring_tokens": ["rtc", "rp5c01", "clean", "up", "rp5c01_nvram_read", "rp5c01_nvram_write"]}
{"code_tokens": ["void", "*", "kmap", "_", "atomic", "_", "pfn", "(", "unsigned", "long", "pfn", ",", "enum", "km", "_", "type", "type", ")", "<nl>", "<nl>", "return", "(", "void", "*", ")", "vaddr", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "kmap", "_", "atomic", "_", "pfn", ")", ";", "/", "*", "temporarily", "in", "use", "by", "i915", "GEM", "until", "vmap", "*", "/", "<nl>", "<nl>", "struct", "page", "*", "kmap", "_", "atomic", "_", "to", "_", "page", "(", "void", "*", "ptr", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["Export", "kmap_atomic_pfn", "for", "DRM", "GEM"]}
{"code_tokens": ["icst525", "_", "khz", "_", "to", "_", "vco", "(", "const", "struct", "icst525", "_", "params", "*", "p", ",", "unsigned", "long", "freq", ")", "<nl>", "break", ";", "<nl>", "}", "while", "(", "i", "<", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "i", ">", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "+", "if", "(", "i", ">", "=", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "return", "vco", ";", "<nl>", "<nl>", "vco", ".", "s", "=", "idx2s", "[", "i", "]", ";", "<nl>", "icst525", "_", "ps", "_", "to", "_", "vco", "(", "const", "struct", "icst525", "_", "params", "*", "p", ",", "unsigned", "long", "period", ")", "<nl>", "break", ";", "<nl>", "}", "while", "(", "i", "<", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "i", ">", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "+", "if", "(", "i", ">", "=", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "return", "vco", ";", "<nl>", "<nl>", "vco", ".", "s", "=", "idx2s", "[", "i", "]", ";", "mmm", "arch", "/", "arm", "/", "common", "/", "icst307", ".", "c", "<nl>", "icst525", "_", "khz", "_", "to", "_", "vco", "(", "const", "struct", "icst525", "_", "params", "*", "p", ",", "unsigned", "long", "freq", ")", "<nl>", "break", ";", "<nl>", "}", "while", "(", "i", "<", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "i", ">", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "+", "if", "(", "i", ">", "=", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "return", "vco", ";", "<nl>", "<nl>", "vco", ".", "s", "=", "idx2s", "[", "i", "]", ";", "<nl>", "icst525", "_", "ps", "_", "to", "_", "vco", "(", "const", "struct", "icst525", "_", "params", "*", "p", ",", "unsigned", "long", "period", ")", "<nl>", "break", ";", "<nl>", "}", "while", "(", "i", "<", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "i", ">", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "+", "if", "(", "i", ">", "=", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "return", "vco", ";", "<nl>", "<nl>", "vco", ".", "s", "=", "idx2s", "[", "i", "]", ";", "<nl>", "icst307", "_", "khz", "_", "to", "_", "vco", "(", "const", "struct", "icst307", "_", "params", "*", "p", ",", "unsigned", "long", "freq", ")", "<nl>", "break", ";", "<nl>", "}", "while", "(", "i", "<", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "i", ">", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "+", "if", "(", "i", ">", "=", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "return", "vco", ";", "<nl>", "<nl>", "vco", ".", "s", "=", "idx2s", "[", "i", "]", ";", "<nl>", "icst307", "_", "ps", "_", "to", "_", "vco", "(", "const", "struct", "icst307", "_", "params", "*", "p", ",", "unsigned", "long", "period", ")", "<nl>", "break", ";", "<nl>", "}", "while", "(", "i", "<", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "i", ">", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "+", "if", "(", "i", ">", "=", "ARRAY", "_", "SIZE", "(", "idx2s", ")", ")", "<nl>", "return", "vco", ";", "<nl>", "<nl>", "vco", ".", "s", "=", "idx2s", "[", "i", "]", ";", "<nl>"], "docstring_tokens": ["ARM", "Off", "by", "one", "in", "arch", "arm", "common", "icst"]}
{"code_tokens": ["static", "int", "watchdog", "_", "release", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "struct", "watchdog", "_", "core", "_", "data", "*", "wd", "_", "data", "=", "file", "-", ">", "private", "_", "data", ";", "<nl>", "struct", "watchdog", "_", "device", "*", "wdd", ";", "<nl>", "int", "err", "=", "-", "EBUSY", ";", "<nl>", "+", "bool", "running", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "wd", "_", "data", "-", ">", "lock", ")", ";", "<nl>", "<nl>", "static", "int", "watchdog", "_", "release", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "clear", "_", "bit", "(", "_", "WDOG", "_", "DEV", "_", "OPEN", ",", "&", "wd", "_", "data", "-", ">", "status", ")", ";", "<nl>", "<nl>", "done", ":", "<nl>", "+", "running", "=", "wdd", "&", "&", "watchdog", "_", "hw", "_", "running", "(", "wdd", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "wd", "_", "data", "-", ">", "lock", ")", ";", "<nl>", "/", "*", "<nl>", "*", "Allow", "the", "owner", "module", "to", "be", "unloaded", "again", "unless", "the", "watchdog", "<nl>", "*", "is", "still", "running", ".", "If", "the", "watchdog", "is", "still", "running", ",", "it", "can", "not", "<nl>", "*", "be", "stopped", ",", "and", "its", "driver", "must", "not", "be", "unloaded", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "!", "watchdog", "_", "hw", "_", "running", "(", "wdd", ")", ")", "{", "<nl>", "-", "module", "_", "put", "(", "wdd", "-", ">", "ops", "-", ">", "owner", ")", ";", "<nl>", "+", "if", "(", "!", "running", ")", "{", "<nl>", "+", "module", "_", "put", "(", "wd", "_", "data", "-", ">", "cdev", ".", "owner", ")", ";", "<nl>", "kref", "_", "put", "(", "&", "wd", "_", "data", "-", ">", "kref", ",", "watchdog", "_", "core", "_", "data", "_", "release", ")", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["watchdog", "Ensure", "that", "wdd", "is", "not", "dereferenced", "if", "NULL"]}
{"code_tokens": ["static", "int", "_", "_", "mlx4", "_", "ib", "_", "modify", "_", "qp", "(", "struct", "ib", "_", "qp", "*", "ibqp", ",", "<nl>", "attr", "-", ">", "path", "_", "mtu", ")", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "-", "context", "-", ">", "mtu", "_", "msgmax", "=", "(", "attr", "-", ">", "path", "_", "mtu", "<", "<", "5", ")", "|", "31", ";", "<nl>", "+", "context", "-", ">", "mtu", "_", "msgmax", "=", "(", "attr", "-", ">", "path", "_", "mtu", "<", "<", "5", ")", "|", "<nl>", "+", "ilog2", "(", "dev", "-", ">", "dev", "-", ">", "caps", ".", "max", "_", "msg", "_", "sz", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "qp", "-", ">", "rq", ".", "wqe", "_", "cnt", ")", "<nl>"], "docstring_tokens": ["IB", "mlx4", "Configure", "QPs", "max", "message", "size", "based", "on", "real", "device", "capability"]}
{"code_tokens": ["static", "long", "hidraw", "_", "ioctl", "(", "struct", "file", "*", "file", ",", "unsigned", "int", "cmd", ",", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "minors", "_", "lock", ")", ";", "<nl>", "dev", "=", "hidraw", "_", "table", "[", "minor", "]", ";", "<nl>", "+", "if", "(", "!", "dev", ")", "{", "<nl>", "+", "ret", "=", "-", "ENODEV", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "<nl>", "switch", "(", "cmd", ")", "{", "<nl>", "case", "HIDIOCGRDESCSIZE", ":", "<nl>", "static", "long", "hidraw", "_", "ioctl", "(", "struct", "file", "*", "file", ",", "unsigned", "int", "cmd", ",", "<nl>", "<nl>", "ret", "=", "-", "ENOTTY", ";", "<nl>", "}", "<nl>", "+", "out", ":", "<nl>", "mutex", "_", "unlock", "(", "&", "minors", "_", "lock", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["HID", "hidraw", "fix", "a", "NULL", "pointer", "dereference", "in", "hidraw_ioctl"]}
{"code_tokens": ["uart", "_", "get", "_", "console", "(", "struct", "uart", "_", "port", "*", "ports", ",", "int", "nr", ",", "struct", "console", "*", "co", ")", "<nl>", "*", "@", "options", ":", "ptr", "for", "<", "options", ">", "field", ";", "NULL", "if", "not", "present", "(", "out", ")", "<nl>", "*", "<nl>", "*", "Decodes", "earlycon", "kernel", "command", "line", "parameters", "of", "the", "form", "<nl>", "-", "*", "earlycon", "=", "<", "name", ">", ",", "io", "|", "mmio", "|", "mmio32", "|", "mmio32be", ",", "<", "addr", ">", ",", "<", "options", ">", "<nl>", "-", "*", "console", "=", "<", "name", ">", ",", "io", "|", "mmio", "|", "mmio32", "|", "mmio32be", ",", "<", "addr", ">", ",", "<", "options", ">", "<nl>", "+", "*", "earlycon", "=", "<", "name", ">", ",", "io", "|", "mmio", "|", "mmio32", "|", "mmio32be", "|", "mmio32native", ",", "<", "addr", ">", ",", "<", "options", ">", "<nl>", "+", "*", "console", "=", "<", "name", ">", ",", "io", "|", "mmio", "|", "mmio32", "|", "mmio32be", "|", "mmio32native", ",", "<", "addr", ">", ",", "<", "options", ">", "<nl>", "*", "<nl>", "*", "The", "optional", "form", "<nl>", "*", "earlycon", "=", "<", "name", ">", ",", "0", "x", "<", "addr", ">", ",", "<", "options", ">", "<nl>", "int", "uart", "_", "parse", "_", "earlycon", "(", "char", "*", "p", ",", "unsigned", "char", "*", "iotype", ",", "unsigned", "long", "*", "addr", ",", "<nl>", "}", "else", "if", "(", "strncmp", "(", "p", ",", "\"", "mmio32be", ",", "\"", ",", "9", ")", "=", "=", "0", ")", "{", "<nl>", "*", "iotype", "=", "UPIO", "_", "MEM32BE", ";", "<nl>", "p", "+", "=", "9", ";", "<nl>", "+", "}", "else", "if", "(", "strncmp", "(", "p", ",", "\"", "mmio32native", ",", "\"", ",", "13", ")", "=", "=", "0", ")", "{", "<nl>", "+", "*", "iotype", "=", "IS", "_", "ENABLED", "(", "CONFIG", "_", "CPU", "_", "BIG", "_", "ENDIAN", ")", "?", "<nl>", "+", "UPIO", "_", "MEM32BE", ":", "UPIO", "_", "MEM32", ";", "<nl>", "+", "p", "+", "=", "13", ";", "<nl>", "}", "else", "if", "(", "strncmp", "(", "p", ",", "\"", "io", ",", "\"", ",", "3", ")", "=", "=", "0", ")", "{", "<nl>", "*", "iotype", "=", "UPIO", "_", "PORT", ";", "<nl>", "p", "+", "=", "3", ";", "<nl>"], "docstring_tokens": ["serial_core", "support", "native", "endianness"]}
{"code_tokens": ["static", "void", "fcoe", "_", "ctlr", "_", "vn", "_", "send", "(", "struct", "fcoe", "_", "ctlr", "*", "fip", ",", "<nl>", "frame", "=", "(", "struct", "fip", "_", "frame", "*", ")", "skb", "-", ">", "data", ";", "<nl>", "memset", "(", "frame", ",", "0", ",", "len", ")", ";", "<nl>", "memcpy", "(", "frame", "-", ">", "eth", ".", "h", "_", "dest", ",", "dest", ",", "ETH", "_", "ALEN", ")", ";", "<nl>", "-", "memcpy", "(", "frame", "-", ">", "eth", ".", "h", "_", "source", ",", "fip", "-", ">", "ctl", "_", "src", "_", "addr", ",", "ETH", "_", "ALEN", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "sub", "=", "=", "FIP", "_", "SC", "_", "VN", "_", "BEACON", ")", "{", "<nl>", "+", "hton24", "(", "frame", "-", ">", "eth", ".", "h", "_", "source", ",", "FIP", "_", "VN", "_", "FC", "_", "MAP", ")", ";", "<nl>", "+", "hton24", "(", "frame", "-", ">", "eth", ".", "h", "_", "source", "+", "3", ",", "fip", "-", ">", "port", "_", "id", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "memcpy", "(", "frame", "-", ">", "eth", ".", "h", "_", "source", ",", "fip", "-", ">", "ctl", "_", "src", "_", "addr", ",", "ETH", "_", "ALEN", ")", ";", "<nl>", "+", "}", "<nl>", "frame", "-", ">", "eth", ".", "h", "_", "proto", "=", "htons", "(", "ETH", "_", "P", "_", "FIP", ")", ";", "<nl>", "<nl>", "frame", "-", ">", "fip", ".", "fip", "_", "ver", "=", "FIP", "_", "VER", "_", "ENCAPS", "(", "FIP", "_", "VER", ")", ";", "<nl>"], "docstring_tokens": ["SCSI", "libfcoe", "fix", "VN2VN", "N_Port_ID", "Beacon", "source", "MAC"]}
{"code_tokens": ["static", "int", "oz", "_", "build", "_", "endpoints", "_", "for", "_", "interface", "(", "struct", "usb", "_", "hcd", "*", "hcd", ",", "<nl>", "int", "request", "_", "heartbeat", "=", "0", ";", "<nl>", "<nl>", "oz", "_", "dbg", "(", "ON", ",", "\"", "interface", "[", "%", "d", "]", "=", "%", "p", "\\", "n", "\"", ",", "if", "_", "ix", ",", "intf", ")", ";", "<nl>", "+", "if", "(", "if", "_", "ix", ">", "=", "port", "-", ">", "num", "_", "iface", "|", "|", "port", "-", ">", "iface", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "intf", "-", ">", "desc", ".", "bNumEndpoints", ";", "i", "+", "+", ")", "{", "<nl>", "struct", "usb", "_", "host", "_", "endpoint", "*", "hep", "=", "&", "intf", "-", ">", "endpoint", "[", "i", "]", ";", "<nl>", "u8", "ep", "_", "addr", "=", "hep", "-", ">", "desc", ".", "bEndpointAddress", ";", "<nl>"], "docstring_tokens": ["staging", "ozwpan", "Check", "error", "condition", "before", "creating", "endpoint"]}
{"code_tokens": ["static", "int", "create", "_", "trace", "_", "uprobe", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "<nl>", "goto", "fail", "_", "address", "_", "parse", ";", "<nl>", "<nl>", "inode", "=", "igrab", "(", "path", ".", "dentry", "-", ">", "d", "_", "inode", ")", ";", "<nl>", "+", "if", "(", "!", "S", "_", "ISREG", "(", "inode", "-", ">", "i", "_", "mode", ")", ")", "{", "<nl>", "+", "ret", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "fail", "_", "address", "_", "parse", ";", "<nl>", "+", "}", "<nl>", "<nl>", "argc", "-", "=", "2", ";", "<nl>", "argv", "+", "=", "2", ";", "<nl>", "static", "int", "create", "_", "trace", "_", "uprobe", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "<nl>", "if", "(", "inode", ")", "<nl>", "iput", "(", "inode", ")", ";", "<nl>", "<nl>", "-", "pr", "_", "info", "(", "\"", "Failed", "to", "parse", "address", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "pr", "_", "info", "(", "\"", "Failed", "to", "parse", "address", "or", "file", ".", "\\", "n", "\"", ")", ";", "<nl>", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tracing", "Verify", "target", "file", "before", "registering", "a", "uprobe", "event"]}
{"code_tokens": ["static", "int", "bpa10x", "_", "send", "_", "frame", "(", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "bpa10x", "_", "destruct", "(", "struct", "hci", "_", "dev", "*", "hdev", ")", "<nl>", "-", "{", "<nl>", "-", "struct", "bpa10x", "_", "data", "*", "data", "=", "hdev", "-", ">", "driver", "_", "data", ";", "<nl>", "-", "<nl>", "-", "BT", "_", "DBG", "(", "\"", "%", "s", "\"", ",", "hdev", "-", ">", "name", ")", ";", "<nl>", "-", "<nl>", "-", "kfree", "_", "skb", "(", "data", "-", ">", "rx", "_", "skb", "[", "0", "]", ")", ";", "<nl>", "-", "kfree", "_", "skb", "(", "data", "-", ">", "rx", "_", "skb", "[", "1", "]", ")", ";", "<nl>", "-", "kfree", "(", "data", ")", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "static", "int", "bpa10x", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "intf", ",", "const", "struct", "usb", "_", "device", "_", "id", "*", "id", ")", "<nl>", "{", "<nl>", "struct", "bpa10x", "_", "data", "*", "data", ";", "<nl>", "static", "int", "bpa10x", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "intf", ",", "const", "struct", "usb", "_", "device", "_", "id", "*", "<nl>", "hdev", "-", ">", "close", "=", "bpa10x", "_", "close", ";", "<nl>", "hdev", "-", ">", "flush", "=", "bpa10x", "_", "flush", ";", "<nl>", "hdev", "-", ">", "send", "=", "bpa10x", "_", "send", "_", "frame", ";", "<nl>", "-", "hdev", "-", ">", "destruct", "=", "bpa10x", "_", "destruct", ";", "<nl>", "<nl>", "hdev", "-", ">", "owner", "=", "THIS", "_", "MODULE", ";", "<nl>", "<nl>", "static", "void", "bpa10x", "_", "disconnect", "(", "struct", "usb", "_", "interface", "*", "intf", ")", "<nl>", "hci", "_", "unregister", "_", "dev", "(", "data", "-", ">", "hdev", ")", ";", "<nl>", "<nl>", "hci", "_", "free", "_", "dev", "(", "data", "-", ">", "hdev", ")", ";", "<nl>", "+", "kfree", "_", "skb", "(", "data", "-", ">", "rx", "_", "skb", "[", "0", "]", ")", ";", "<nl>", "+", "kfree", "_", "skb", "(", "data", "-", ">", "rx", "_", "skb", "[", "1", "]", ")", ";", "<nl>", "+", "kfree", "(", "data", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "usb", "_", "driver", "bpa10x", "_", "driver", "=", "{", "<nl>"], "docstring_tokens": ["Bluetooth", "bpa10x", "Free", "private", "driver", "data", "on", "usb", "shutdown"]}
{"code_tokens": ["#", "include", "<", "linux", "/", "clk", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "of", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "of", "_", "device", ".", "h", ">", "<nl>", "-", "#", "include", "<", "linux", "/", "pinctrl", "/", "consumer", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "can", "/", "dev", ".", "h", ">", "<nl>", "<nl>", "static", "int", "c", "_", "can", "_", "plat", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "struct", "c", "_", "can", "_", "priv", "*", "priv", ";", "<nl>", "const", "struct", "of", "_", "device", "_", "id", "*", "match", ";", "<nl>", "const", "struct", "platform", "_", "device", "_", "id", "*", "id", ";", "<nl>", "-", "struct", "pinctrl", "*", "pinctrl", ";", "<nl>", "struct", "resource", "*", "mem", ",", "*", "res", ";", "<nl>", "int", "irq", ";", "<nl>", "struct", "clk", "*", "clk", ";", "<nl>", "static", "int", "c", "_", "can", "_", "plat", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "id", "=", "platform", "_", "get", "_", "device", "_", "id", "(", "pdev", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "pinctrl", "=", "devm", "_", "pinctrl", "_", "get", "_", "select", "_", "default", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "-", "if", "(", "IS", "_", "ERR", "(", "pinctrl", ")", ")", "<nl>", "-", "dev", "_", "warn", "(", "&", "pdev", "-", ">", "dev", ",", "<nl>", "-", "\"", "failed", "to", "configure", "pins", "from", "driver", "\\", "n", "\"", ")", ";", "<nl>", "-", "<nl>", "/", "*", "get", "the", "appropriate", "clk", "*", "/", "<nl>", "clk", "=", "clk", "_", "get", "(", "&", "pdev", "-", ">", "dev", ",", "NULL", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "clk", ")", ")", "{", "<nl>"], "docstring_tokens": ["drivers", "net", "can", "c_can", "don", "t", "use", "devm_pinctrl_get_select_default", "in", "probe"]}
{"code_tokens": ["static", "int", "llcp", "_", "sock", "_", "recvmsg", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "<nl>", "pr", "_", "debug", "(", "\"", "%", "p", "%", "zu", "\\", "n", "\"", ",", "sk", ",", "len", ")", ";", "<nl>", "<nl>", "+", "msg", "-", ">", "msg", "_", "namelen", "=", "0", ";", "<nl>", "+", "<nl>", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "<nl>", "if", "(", "sk", "-", ">", "sk", "_", "state", "=", "=", "LLCP", "_", "CLOSED", "&", "&", "<nl>", "static", "int", "llcp", "_", "sock", "_", "recvmsg", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "<nl>", "pr", "_", "debug", "(", "\"", "Datagram", "socket", "%", "d", "%", "d", "\\", "n", "\"", ",", "ui", "_", "cb", "-", ">", "dsap", ",", "ui", "_", "cb", "-", ">", "ssap", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "sockaddr", ",", "0", ",", "sizeof", "(", "*", "sockaddr", ")", ")", ";", "<nl>", "sockaddr", "-", ">", "sa", "_", "family", "=", "AF", "_", "NFC", ";", "<nl>", "sockaddr", "-", ">", "nfc", "_", "protocol", "=", "NFC", "_", "PROTO", "_", "NFC", "_", "DEP", ";", "<nl>", "sockaddr", "-", ">", "dsap", "=", "ui", "_", "cb", "-", ">", "dsap", ";", "<nl>"], "docstring_tokens": ["NFC", "llcp", "fix", "info", "leaks", "via", "msg_name", "in", "llcp_sock_recvmsg"]}
{"code_tokens": ["void", "nfcmrvl", "_", "nci", "_", "unregister", "_", "dev", "(", "struct", "nfcmrvl", "_", "private", "*", "priv", ")", "<nl>", "{", "<nl>", "struct", "nci", "_", "dev", "*", "ndev", "=", "priv", "-", ">", "ndev", ";", "<nl>", "<nl>", "+", "nci", "_", "unregister", "_", "device", "(", "ndev", ")", ";", "<nl>", "if", "(", "priv", "-", ">", "ndev", "-", ">", "nfc", "_", "dev", "-", ">", "fw", "_", "download", "_", "in", "_", "progress", ")", "<nl>", "nfcmrvl", "_", "fw", "_", "dnld", "_", "abort", "(", "priv", ")", ";", "<nl>", "<nl>", "void", "nfcmrvl", "_", "nci", "_", "unregister", "_", "dev", "(", "struct", "nfcmrvl", "_", "private", "*", "priv", ")", "<nl>", "if", "(", "gpio", "_", "is", "_", "valid", "(", "priv", "-", ">", "config", ".", "reset", "_", "n", "_", "io", ")", ")", "<nl>", "gpio", "_", "free", "(", "priv", "-", ">", "config", ".", "reset", "_", "n", "_", "io", ")", ";", "<nl>", "<nl>", "-", "nci", "_", "unregister", "_", "device", "(", "ndev", ")", ";", "<nl>", "nci", "_", "free", "_", "device", "(", "ndev", ")", ";", "<nl>", "kfree", "(", "priv", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["nfc", "nfcmrvl", "main", "reorder", "destructive", "operations", "in", "nfcmrvl_nci_unregister_dev", "to", "avoid", "bugs"]}
{"code_tokens": ["struct", "sun4i", "_", "tcon", "{", "<nl>", "/", "*", "Associated", "crtc", "*", "/", "<nl>", "struct", "sun4i", "_", "crtc", "*", "crtc", ";", "<nl>", "<nl>", "+", "int", "id", ";", "<nl>", "+", "<nl>", "/", "*", "TCON", "list", "management", "*", "/", "<nl>", "struct", "list", "_", "head", "list", ";", "<nl>", "}", ";", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "sun4i", "/", "sun4i", "_", "tcon", ".", "c", "<nl>", "struct", "sun4i", "_", "tcon", "{", "<nl>", "/", "*", "Associated", "crtc", "*", "/", "<nl>", "struct", "sun4i", "_", "crtc", "*", "crtc", ";", "<nl>", "<nl>", "+", "int", "id", ";", "<nl>", "+", "<nl>", "/", "*", "TCON", "list", "management", "*", "/", "<nl>", "struct", "list", "_", "head", "list", ";", "<nl>", "}", ";", "<nl>", "static", "int", "sun4i", "_", "tcon", "_", "bind", "(", "struct", "device", "*", "dev", ",", "struct", "device", "*", "master", ",", "<nl>", "dev", "_", "set", "_", "drvdata", "(", "dev", ",", "tcon", ")", ";", "<nl>", "tcon", "-", ">", "drm", "=", "drm", ";", "<nl>", "tcon", "-", ">", "dev", "=", "dev", ";", "<nl>", "+", "tcon", "-", ">", "id", "=", "backend", "-", ">", "id", ";", "<nl>", "tcon", "-", ">", "quirks", "=", "of", "_", "device", "_", "get", "_", "match", "_", "data", "(", "dev", ")", ";", "<nl>", "<nl>", "tcon", "-", ">", "lcd", "_", "rst", "=", "devm", "_", "reset", "_", "control", "_", "get", "(", "dev", ",", "\"", "lcd", "\"", ")", ";", "<nl>"], "docstring_tokens": ["drm", "sun4i", "tcon", "Copy", "ID", "from", "associated", "backend"]}
{"code_tokens": ["int", "ivtv", "_", "v4l2", "_", "ioctls", "(", "struct", "ivtv", "*", "itv", ",", "struct", "file", "*", "filp", ",", "unsigned", "int", "cmd", ",", "void", "<nl>", "<nl>", "memset", "(", "vcap", ",", "0", ",", "sizeof", "(", "*", "vcap", ")", ")", ";", "<nl>", "strcpy", "(", "vcap", "-", ">", "driver", ",", "IVTV", "_", "DRIVER", "_", "NAME", ")", ";", "/", "*", "driver", "name", "*", "/", "<nl>", "-", "strcpy", "(", "vcap", "-", ">", "card", ",", "itv", "-", ">", "card", "_", "name", ")", ";", "/", "*", "card", "type", "*", "/", "<nl>", "+", "strncpy", "(", "vcap", "-", ">", "card", ",", "itv", "-", ">", "card", "_", "name", ",", "<nl>", "+", "sizeof", "(", "vcap", "-", ">", "card", ")", "-", "1", ")", ";", "/", "*", "card", "type", "*", "/", "<nl>", "strcpy", "(", "vcap", "-", ">", "bus", "_", "info", ",", "pci", "_", "name", "(", "itv", "-", ">", "dev", ")", ")", ";", "/", "*", "bus", "info", ".", ".", ".", "*", "/", "<nl>", "vcap", "-", ">", "version", "=", "IVTV", "_", "DRIVER", "_", "VERSION", ";", "/", "*", "version", "*", "/", "<nl>", "vcap", "-", ">", "capabilities", "=", "itv", "-", ">", "v4l2", "_", "cap", ";", "/", "*", "capabilities", "*", "/", "<nl>"], "docstring_tokens": ["V4L", "DVB", "7729", "Fix", "VIDIOCGAP", "corruption", "in", "ivtv"]}
{"code_tokens": ["static", "void", "thinkpad", "_", "acpi", "_", "module", "_", "exit", "(", "void", ")", "<nl>", "kfree", "(", "thinkpad", "_", "id", ".", "bios", "_", "version", "_", "str", ")", ";", "<nl>", "kfree", "(", "thinkpad", "_", "id", ".", "ec", "_", "version", "_", "str", ")", ";", "<nl>", "kfree", "(", "thinkpad", "_", "id", ".", "model", "_", "str", ")", ";", "<nl>", "+", "kfree", "(", "thinkpad", "_", "id", ".", "nummodel", "_", "str", ")", ";", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["thinkpad_acpi", "Fix", "a", "memory", "leak", "during", "module", "exit"]}
{"code_tokens": ["static", "struct", "pci", "_", "driver", "jr3", "_", "pci", "_", "pci", "_", "driver", "=", "{", "<nl>", "module", "_", "comedi", "_", "pci", "_", "driver", "(", "jr3", "_", "pci", "_", "driver", ",", "jr3", "_", "pci", "_", "pci", "_", "driver", ")", ";", "<nl>", "<nl>", "MODULE", "_", "AUTHOR", "(", "\"", "Comedi", "http", ":", "/", "/", "www", ".", "comedi", ".", "org", "\"", ")", ";", "<nl>", "-", "MODULE", "_", "DESCRIPTION", "(", "\"", "Comedi", "low", "-", "level", "driver", "\"", ")", ";", "<nl>", "+", "MODULE", "_", "DESCRIPTION", "(", "\"", "Comedi", "driver", "for", "JR3", "/", "PCI", "force", "sensor", "board", "\"", ")", ";", "<nl>", "MODULE", "_", "LICENSE", "(", "\"", "GPL", "\"", ")", ";", "<nl>", "MODULE", "_", "FIRMWARE", "(", "\"", "comedi", "/", "jr3pci", ".", "idm", "\"", ")", ";", "<nl>"], "docstring_tokens": ["staging", "comedi", "jr3_pci", "change", "module", "description"]}
{"code_tokens": ["static", "int", "vidioc", "_", "g", "_", "register", "(", "struct", "file", "*", "file", ",", "void", "*", "fh", ",", "struct", "v4l2", "_", "dbg", "_", "regist", "<nl>", "{", "<nl>", "struct", "saa7146", "_", "dev", "*", "dev", "=", "(", "(", "struct", "saa7146", "_", "fh", "*", ")", "fh", ")", "-", ">", "dev", ";", "<nl>", "<nl>", "+", "if", "(", "reg", "-", ">", "reg", ">", "pci", "_", "resource", "_", "len", "(", "dev", "-", ">", "pci", ",", "0", ")", "-", "4", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "reg", "-", ">", "val", "=", "saa7146", "_", "read", "(", "dev", ",", "reg", "-", ">", "reg", ")", ";", "<nl>", "reg", "-", ">", "size", "=", "4", ";", "<nl>", "return", "0", ";", "<nl>", "static", "int", "vidioc", "_", "s", "_", "register", "(", "struct", "file", "*", "file", ",", "void", "*", "fh", ",", "const", "struct", "v4l2", "_", "dbg", "_", "<nl>", "{", "<nl>", "struct", "saa7146", "_", "dev", "*", "dev", "=", "(", "(", "struct", "saa7146", "_", "fh", "*", ")", "fh", ")", "-", ">", "dev", ";", "<nl>", "<nl>", "+", "if", "(", "reg", "-", ">", "reg", ">", "pci", "_", "resource", "_", "len", "(", "dev", "-", ">", "pci", ",", "0", ")", "-", "4", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "saa7146", "_", "write", "(", "dev", ",", "reg", "-", ">", "reg", ",", "reg", "-", ">", "val", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["media", "mxb", "check", "register", "address", "when", "reading", "writing", "a", "register"]}
{"code_tokens": ["static", "int", "ulite", "_", "transmit", "(", "struct", "uart", "_", "port", "*", "port", ",", "int", "stat", ")", "<nl>", "static", "irqreturn", "_", "t", "ulite", "_", "isr", "(", "int", "irq", ",", "void", "*", "dev", "_", "id", ")", "<nl>", "{", "<nl>", "struct", "uart", "_", "port", "*", "port", "=", "dev", "_", "id", ";", "<nl>", "-", "int", "busy", ";", "<nl>", "+", "int", "busy", ",", "n", "=", "0", ";", "<nl>", "<nl>", "do", "{", "<nl>", "int", "stat", "=", "readb", "(", "port", "-", ">", "membase", "+", "ULITE", "_", "STATUS", ")", ";", "<nl>", "busy", "=", "ulite", "_", "receive", "(", "port", ",", "stat", ")", ";", "<nl>", "busy", "|", "=", "ulite", "_", "transmit", "(", "port", ",", "stat", ")", ";", "<nl>", "+", "n", "+", "+", ";", "<nl>", "}", "while", "(", "busy", ")", ";", "<nl>", "<nl>", "-", "tty", "_", "flip", "_", "buffer", "_", "push", "(", "port", "-", ">", "state", "-", ">", "port", ".", "tty", ")", ";", "<nl>", "-", "<nl>", "-", "return", "IRQ", "_", "HANDLED", ";", "<nl>", "+", "/", "*", "work", "done", "?", "*", "/", "<nl>", "+", "if", "(", "n", ">", "1", ")", "{", "<nl>", "+", "tty", "_", "flip", "_", "buffer", "_", "push", "(", "port", "-", ">", "state", "-", ">", "port", ".", "tty", ")", ";", "<nl>", "+", "return", "IRQ", "_", "HANDLED", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "return", "IRQ", "_", "NONE", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "static", "unsigned", "int", "ulite", "_", "tx", "_", "empty", "(", "struct", "uart", "_", "port", "*", "port", ")", "<nl>", "static", "int", "ulite", "_", "startup", "(", "struct", "uart", "_", "port", "*", "port", ")", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "ret", "=", "request", "_", "irq", "(", "port", "-", ">", "irq", ",", "ulite", "_", "isr", ",", "<nl>", "-", "IRQF", "_", "DISABLED", "|", "IRQF", "_", "SAMPLE", "_", "RANDOM", ",", "\"", "uartlite", "\"", ",", "port", ")", ";", "<nl>", "+", "IRQF", "_", "SHARED", "|", "IRQF", "_", "SAMPLE", "_", "RANDOM", ",", "\"", "uartlite", "\"", ",", "port", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["uartlite", "support", "shared", "interrupt", "lines"]}
{"code_tokens": ["static", "int", "t7l66xb", "_", "probe", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "t7l66xb", "-", ">", "clk48m", "=", "clk", "_", "get", "(", "&", "dev", "-", ">", "dev", ",", "\"", "CLK", "_", "CK48M", "\"", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "t7l66xb", "-", ">", "clk48m", ")", ")", "{", "<nl>", "ret", "=", "PTR", "_", "ERR", "(", "t7l66xb", "-", ">", "clk48m", ")", ";", "<nl>", "-", "clk", "_", "put", "(", "t7l66xb", "-", ">", "clk32k", ")", ";", "<nl>", "goto", "err", "_", "clk48m", "_", "get", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "t7l66xb", "_", "remove", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "ret", "=", "pdata", "-", ">", "disable", "(", "dev", ")", ";", "<nl>", "clk", "_", "disable", "(", "t7l66xb", "-", ">", "clk48m", ")", ";", "<nl>", "clk", "_", "put", "(", "t7l66xb", "-", ">", "clk48m", ")", ";", "<nl>", "+", "clk", "_", "disable", "(", "t7l66xb", "-", ">", "clk32k", ")", ";", "<nl>", "+", "clk", "_", "put", "(", "t7l66xb", "-", ">", "clk32k", ")", ";", "<nl>", "t7l66xb", "_", "detach", "_", "irq", "(", "dev", ")", ";", "<nl>", "iounmap", "(", "t7l66xb", "-", ">", "scr", ")", ";", "<nl>", "release", "_", "resource", "(", "&", "t7l66xb", "-", ">", "rscr", ")", ";", "<nl>"], "docstring_tokens": ["mfd", "Properly", "free", "t7l66xb", "clk32k", "clock", "source"]}
{"code_tokens": ["static", "ssize", "_", "t", "map", "_", "write", "(", "struct", "file", "*", "file", ",", "const", "char", "_", "_", "user", "*", "buf", ",", "<nl>", "if", "(", "!", "new", "_", "idmap", "_", "permitted", "(", "file", ",", "ns", ",", "cap", "_", "setid", ",", "&", "new", "_", "map", ")", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "-", "ret", "=", "sort", "_", "idmaps", "(", "&", "new", "_", "map", ")", ";", "<nl>", "-", "if", "(", "ret", "<", "0", ")", "<nl>", "-", "goto", "out", ";", "<nl>", "-", "<nl>", "ret", "=", "-", "EPERM", ";", "<nl>", "/", "*", "Map", "the", "lower", "ids", "from", "the", "parent", "user", "namespace", "to", "the", "<nl>", "*", "kernel", "global", "id", "space", ".", "<nl>", "static", "ssize", "_", "t", "map", "_", "write", "(", "struct", "file", "*", "file", ",", "const", "char", "_", "_", "user", "*", "buf", ",", "<nl>", "e", "-", ">", "lower", "_", "first", "=", "lower", "_", "first", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "If", "we", "want", "to", "use", "binary", "search", "for", "lookup", ",", "this", "clones", "the", "extent", "<nl>", "+", "*", "array", "and", "sorts", "both", "copies", ".", "<nl>", "+", "*", "/", "<nl>", "+", "ret", "=", "sort", "_", "idmaps", "(", "&", "new", "_", "map", ")", ";", "<nl>", "+", "if", "(", "ret", "<", "0", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "<nl>", "/", "*", "Install", "the", "map", "*", "/", "<nl>", "if", "(", "new", "_", "map", ".", "nr", "_", "extents", "<", "=", "UID", "_", "GID", "_", "MAP", "_", "MAX", "_", "BASE", "_", "EXTENTS", ")", "{", "<nl>", "memcpy", "(", "map", "-", ">", "extent", ",", "new", "_", "map", ".", "extent", ",", "<nl>"], "docstring_tokens": ["userns", "also", "map", "extents", "in", "the", "reverse", "map", "to", "kernel", "IDs"]}
{"code_tokens": ["sctp", "_", "disposition", "_", "t", "sctp", "_", "sf", "_", "eat", "_", "auth", "(", "const", "struct", "sctp", "_", "endpoint", "*", "ep", ",", "<nl>", "struct", "sctp", "_", "chunk", "*", "err", "_", "chunk", ";", "<nl>", "sctp", "_", "ierror", "_", "t", "error", ";", "<nl>", "<nl>", "+", "/", "*", "Make", "sure", "that", "the", "peer", "has", "AUTH", "capable", "*", "/", "<nl>", "+", "if", "(", "!", "asoc", "-", ">", "peer", ".", "auth", "_", "capable", ")", "<nl>", "+", "return", "sctp", "_", "sf", "_", "unk", "_", "chunk", "(", "ep", ",", "asoc", ",", "type", ",", "arg", ",", "commands", ")", ";", "<nl>", "+", "<nl>", "if", "(", "!", "sctp", "_", "vtag", "_", "verify", "(", "chunk", ",", "asoc", ")", ")", "{", "<nl>", "sctp", "_", "add", "_", "cmd", "_", "sf", "(", "commands", ",", "SCTP", "_", "CMD", "_", "REPORT", "_", "BAD", "_", "TAG", ",", "<nl>", "SCTP", "_", "NULL", "(", ")", ")", ";", "<nl>"], "docstring_tokens": ["SCTP", "Fix", "kernel", "panic", "while", "received", "AUTH", "chunk", "while", "enabled", "auth"]}
{"code_tokens": ["int", "acpi", "_", "bus", "_", "start", "(", "struct", "acpi", "_", "device", "*", "device", ")", "<nl>", "{", "<nl>", "struct", "acpi", "_", "bus", "_", "ops", "ops", ";", "<nl>", "<nl>", "+", "if", "(", "!", "device", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "memset", "(", "&", "ops", ",", "0", ",", "sizeof", "(", "ops", ")", ")", ";", "<nl>", "ops", ".", "acpi", "_", "op", "_", "start", "=", "1", ";", "<nl>"], "docstring_tokens": ["ACPI", "Add", "NULL", "pointer", "check", "in", "acpi_bus_start"]}
{"code_tokens": ["void", "btrfs", "_", "destroy", "_", "dev", "_", "replace", "_", "tgtdev", "(", "struct", "btrfs", "_", "fs", "_", "info", "*", "fs", "_", "info", ",", "<nl>", "mutex", "_", "lock", "(", "&", "uuid", "_", "mutex", ")", ";", "<nl>", "WARN", "_", "ON", "(", "!", "tgtdev", ")", ";", "<nl>", "mutex", "_", "lock", "(", "&", "fs", "_", "info", "-", ">", "fs", "_", "devices", "-", ">", "device", "_", "list", "_", "mutex", ")", ";", "<nl>", "+", "<nl>", "+", "btrfs", "_", "kobj", "_", "rm", "_", "device", "(", "fs", "_", "info", "-", ">", "fs", "_", "devices", ",", "tgtdev", ")", ";", "<nl>", "+", "<nl>", "if", "(", "tgtdev", "-", ">", "bdev", ")", "{", "<nl>", "btrfs", "_", "scratch", "_", "superblock", "(", "tgtdev", ")", ";", "<nl>", "fs", "_", "info", "-", ">", "fs", "_", "devices", "-", ">", "open", "_", "devices", "-", "-", ";", "mmm", "fs", "/", "btrfs", "/", "dev", "-", "replace", ".", "c", "<nl>", "void", "btrfs", "_", "destroy", "_", "dev", "_", "replace", "_", "tgtdev", "(", "struct", "btrfs", "_", "fs", "_", "info", "*", "fs", "_", "info", ",", "<nl>", "mutex", "_", "lock", "(", "&", "uuid", "_", "mutex", ")", ";", "<nl>", "WARN", "_", "ON", "(", "!", "tgtdev", ")", ";", "<nl>", "mutex", "_", "lock", "(", "&", "fs", "_", "info", "-", ">", "fs", "_", "devices", "-", ">", "device", "_", "list", "_", "mutex", ")", ";", "<nl>", "+", "<nl>", "+", "btrfs", "_", "kobj", "_", "rm", "_", "device", "(", "fs", "_", "info", "-", ">", "fs", "_", "devices", ",", "tgtdev", ")", ";", "<nl>", "+", "<nl>", "if", "(", "tgtdev", "-", ">", "bdev", ")", "{", "<nl>", "btrfs", "_", "scratch", "_", "superblock", "(", "tgtdev", ")", ";", "<nl>", "fs", "_", "info", "-", ">", "fs", "_", "devices", "-", ">", "open", "_", "devices", "-", "-", ";", "<nl>", "int", "btrfs", "_", "dev", "_", "replace", "_", "start", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "<nl>", "WARN", "_", "ON", "(", "!", "tgt", "_", "device", ")", ";", "<nl>", "dev", "_", "replace", "-", ">", "tgtdev", "=", "tgt", "_", "device", ";", "<nl>", "<nl>", "+", "ret", "=", "btrfs", "_", "kobj", "_", "add", "_", "device", "(", "tgt", "_", "device", "-", ">", "fs", "_", "devices", ",", "tgt", "_", "device", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "btrfs", "_", "error", "(", "root", "-", ">", "fs", "_", "info", ",", "ret", ",", "\"", "kobj", "add", "dev", "failed", "\"", ")", ";", "<nl>", "+", "<nl>", "printk", "_", "in", "_", "rcu", "(", "KERN", "_", "INFO", "<nl>", "\"", "BTRFS", ":", "dev", "_", "replace", "from", "%", "s", "(", "devid", "%", "llu", ")", "to", "%", "s", "started", "\\", "n", "\"", ",", "<nl>", "src", "_", "device", "-", ">", "missing", "?", "\"", "<", "missing", "disk", ">", "\"", ":", "<nl>", "static", "int", "btrfs", "_", "dev", "_", "replace", "_", "finishing", "(", "struct", "btrfs", "_", "fs", "_", "info", "*", "fs", "_", "info", ",", "<nl>", "<nl>", "/", "*", "replace", "the", "sysfs", "entry", "*", "/", "<nl>", "btrfs", "_", "kobj", "_", "rm", "_", "device", "(", "fs", "_", "info", "-", ">", "fs", "_", "devices", ",", "src", "_", "device", ")", ";", "<nl>", "-", "btrfs", "_", "kobj", "_", "add", "_", "device", "(", "fs", "_", "info", "-", ">", "fs", "_", "devices", ",", "tgt", "_", "device", ")", ";", "<nl>", "btrfs", "_", "rm", "_", "dev", "_", "replace", "_", "free", "_", "srcdev", "(", "fs", "_", "info", ",", "src", "_", "device", ")", ";", "<nl>", "<nl>", "/", "*", "write", "back", "the", "superblocks", "*", "/", "<nl>"], "docstring_tokens": ["Btrfs", "sysfs", "add", "support", "to", "show", "replacing", "target", "in", "the", "sysfs"]}
{"code_tokens": ["static", "int", "fl", "_", "dump", "(", "struct", "net", "*", "net", ",", "struct", "tcf", "_", "proto", "*", "tp", ",", "void", "*", "fh", ",", "<nl>", "if", "(", "fl", "_", "dump", "_", "key", "_", "vlan", "(", "skb", ",", "&", "key", "-", ">", "vlan", ",", "&", "mask", "-", ">", "vlan", ")", ")", "<nl>", "goto", "nla", "_", "put", "_", "failure", ";", "<nl>", "<nl>", "+", "if", "(", "mask", "-", ">", "vlan", ".", "vlan", "_", "tpid", "&", "&", "<nl>", "+", "nla", "_", "put", "_", "be16", "(", "skb", ",", "TCA", "_", "FLOWER", "_", "KEY", "_", "VLAN", "_", "ETH", "_", "TYPE", ",", "key", "-", ">", "basic", ".", "n", "_", "proto", ")", ")", "<nl>", "+", "goto", "nla", "_", "put", "_", "failure", ";", "<nl>", "+", "<nl>", "if", "(", "(", "key", "-", ">", "basic", ".", "n", "_", "proto", "=", "=", "htons", "(", "ETH", "_", "P", "_", "IP", ")", "|", "|", "<nl>", "key", "-", ">", "basic", ".", "n", "_", "proto", "=", "=", "htons", "(", "ETH", "_", "P", "_", "IPV6", ")", ")", "&", "&", "<nl>", "(", "fl", "_", "dump", "_", "key", "_", "val", "(", "skb", ",", "&", "key", "-", ">", "basic", ".", "ip", "_", "proto", ",", "TCA", "_", "FLOWER", "_", "KEY", "_", "IP", "_", "PROTO", ",", "<nl>"], "docstring_tokens": ["net", "sched", "flower", "Dump", "the", "ethertype", "encapsulated", "in", "vlan"]}
{"code_tokens": ["nfp", "_", "fl", "_", "output", "(", "struct", "nfp", "_", "fl", "_", "output", "*", "output", ",", "const", "struct", "tc", "_", "action", "*", "action", ",", "<nl>", "*", "/", "<nl>", "if", "(", "!", "switchdev", "_", "port", "_", "same", "_", "parent", "_", "id", "(", "in", "_", "dev", ",", "out", "_", "dev", ")", ")", "<nl>", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "if", "(", "!", "nfp", "_", "netdev", "_", "is", "_", "nfp", "_", "repr", "(", "out", "_", "dev", ")", ")", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "<nl>", "output", "-", ">", "port", "=", "cpu", "_", "to", "_", "be32", "(", "nfp", "_", "repr", "_", "get", "_", "port", "_", "id", "(", "out", "_", "dev", ")", ")", ";", "<nl>", "if", "(", "!", "output", "-", ">", "port", ")", "<nl>"], "docstring_tokens": ["nfp", "refuse", "offloading", "filters", "that", "redirects", "to", "upper", "devices"]}
{"code_tokens": ["static", "int", "proc", "_", "do", "_", "submiturb", "(", "struct", "usb", "_", "dev", "_", "state", "*", "ps", ",", "struct", "usbdevfs", "_", "urb", "*", "uurb", "<nl>", "u", "=", "(", "is", "_", "in", "?", "URB", "_", "DIR", "_", "IN", ":", "URB", "_", "DIR", "_", "OUT", ")", ";", "<nl>", "if", "(", "uurb", "-", ">", "flags", "&", "USBDEVFS", "_", "URB", "_", "ISO", "_", "ASAP", ")", "<nl>", "u", "|", "=", "URB", "_", "ISO", "_", "ASAP", ";", "<nl>", "-", "if", "(", "uurb", "-", ">", "flags", "&", "USBDEVFS", "_", "URB", "_", "SHORT", "_", "NOT", "_", "OK", ")", "<nl>", "+", "if", "(", "uurb", "-", ">", "flags", "&", "USBDEVFS", "_", "URB", "_", "SHORT", "_", "NOT", "_", "OK", "&", "&", "is", "_", "in", ")", "<nl>", "u", "|", "=", "URB", "_", "SHORT", "_", "NOT", "_", "OK", ";", "<nl>", "if", "(", "uurb", "-", ">", "flags", "&", "USBDEVFS", "_", "URB", "_", "NO", "_", "FSBR", ")", "<nl>", "u", "|", "=", "URB", "_", "NO", "_", "FSBR", ";", "<nl>"], "docstring_tokens": ["USB", "devio", "fix", "issue", "with", "log", "flooding"]}
{"code_tokens": ["static", "int", "addrconf", "_", "notify", "(", "struct", "notifier", "_", "block", "*", "this", ",", "unsigned", "long", "event", ",", "<nl>", "break", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "idev", "&", "&", "dev", "-", ">", "mtu", ">", "=", "IPV6", "_", "MIN", "_", "MTU", ")", "<nl>", "+", "idev", "=", "ipv6", "_", "add", "_", "dev", "(", "dev", ")", ";", "<nl>", "+", "<nl>", "if", "(", "idev", ")", "<nl>", "idev", "-", ">", "if", "_", "flags", "|", "=", "IF", "_", "READY", ";", "<nl>", "}", "else", "{", "<nl>", "static", "int", "addrconf", "_", "notify", "(", "struct", "notifier", "_", "block", "*", "this", ",", "unsigned", "long", "event", ",", "<nl>", "break", ";", "<nl>", "<nl>", "case", "NETDEV", "_", "CHANGEMTU", ":", "<nl>", "-", "if", "(", "idev", "&", "&", "dev", "-", ">", "mtu", ">", "=", "IPV6", "_", "MIN", "_", "MTU", ")", "{", "<nl>", "+", "if", "(", "idev", "&", "&", "dev", "-", ">", "mtu", ">", "=", "IPV6", "_", "MIN", "_", "MTU", ")", "{", "<nl>", "rt6", "_", "mtu", "_", "change", "(", "dev", ",", "dev", "-", ">", "mtu", ")", ";", "<nl>", "idev", "-", ">", "cnf", ".", "mtu6", "=", "dev", "-", ">", "mtu", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "idev", "&", "&", "dev", "-", ">", "mtu", ">", "=", "IPV6", "_", "MIN", "_", "MTU", ")", "{", "<nl>", "+", "idev", "=", "ipv6", "_", "add", "_", "dev", "(", "dev", ")", ";", "<nl>", "+", "if", "(", "idev", ")", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "MTU", "falled", "under", "IPV6", "_", "MIN", "_", "MTU", ".", "Stop", "IPv6", "on", "this", "interface", ".", "*", "/", "<nl>", "<nl>", "case", "NETDEV", "_", "DOWN", ":", "<nl>"], "docstring_tokens": ["IPV6", "Restore", "IPv6", "when", "MTU", "is", "big", "enough"]}
{"code_tokens": ["cy", "_", "put", "_", "char", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "unsigned", "char", "ch", ")", "<nl>", "if", "(", "serial", "_", "paranoia", "_", "check", "(", "info", ",", "tty", "-", ">", "name", ",", "\"", "cy", "_", "put", "_", "char", "\"", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "if", "(", "!", "tty", "|", "|", "!", "info", "-", ">", "xmit", "_", "buf", ")", "<nl>", "+", "if", "(", "!", "info", "-", ">", "xmit", "_", "buf", ")", "<nl>", "return", ";", "<nl>", "<nl>", "local", "_", "irq", "_", "save", "(", "flags", ")", ";", "<nl>", "cy", "_", "write", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "!", "tty", "|", "|", "!", "info", "-", ">", "xmit", "_", "buf", ")", "{", "<nl>", "+", "if", "(", "!", "info", "-", ">", "xmit", "_", "buf", ")", "{", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PATCH", "Char", "serial167", "remove", "useless", "tty", "check"]}
{"code_tokens": ["void", "sctp", "_", "association", "_", "free", "(", "struct", "sctp", "_", "association", "*", "asoc", ")", "<nl>", "/", "*", "Only", "real", "associations", "count", "against", "the", "endpoint", ",", "so", "<nl>", "*", "don", "'", "t", "bother", "for", "if", "this", "is", "a", "temporary", "association", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "!", "asoc", "-", ">", "temp", ")", "{", "<nl>", "+", "if", "(", "!", "list", "_", "empty", "(", "&", "asoc", "-", ">", "asocs", ")", ")", "{", "<nl>", "list", "_", "del", "(", "&", "asoc", "-", ">", "asocs", ")", ";", "<nl>", "<nl>", "/", "*", "Decrement", "the", "backlog", "value", "for", "a", "TCP", "-", "style", "listening", "<nl>"], "docstring_tokens": ["sctp", "Fix", "sk_ack_backlog", "wrap", "around", "problem"]}
{"code_tokens": ["#", "include", "<", "linux", "/", "hdmi", ".", "h", ">", "<nl>", "#", "include", "\"", "hdmi", ".", "h", "\"", "<nl>", "<nl>", "-", "<nl>", "-", "/", "*", "Supported", "HDMI", "Audio", "channels", "*", "/", "<nl>", "-", "#", "define", "MSM", "_", "HDMI", "_", "AUDIO", "_", "CHANNEL", "_", "2", "0", "<nl>", "-", "#", "define", "MSM", "_", "HDMI", "_", "AUDIO", "_", "CHANNEL", "_", "4", "1", "<nl>", "-", "#", "define", "MSM", "_", "HDMI", "_", "AUDIO", "_", "CHANNEL", "_", "6", "2", "<nl>", "-", "#", "define", "MSM", "_", "HDMI", "_", "AUDIO", "_", "CHANNEL", "_", "8", "3", "<nl>", "-", "<nl>", "/", "*", "maps", "MSM", "_", "HDMI", "_", "AUDIO", "_", "CHANNEL", "_", "n", "consts", "used", "by", "audio", "driver", "to", "#", "of", "channels", ":", "*", "/", "<nl>", "static", "int", "nchannels", "[", "]", "=", "{", "2", ",", "4", ",", "6", ",", "8", "}", ";", "<nl>"], "docstring_tokens": ["drm", "msm", "hdmi", "redefinitions", "of", "macros", "not", "required"]}
{"code_tokens": ["static", "struct", "dma", "_", "chan", "*", "jz4780", "_", "of", "_", "dma", "_", "xlate", "(", "struct", "of", "_", "phandle", "_", "args", "*", "dma", "_", "spec", ",", "<nl>", "data", ".", "channel", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "-", "}", "<nl>", "<nl>", "-", "return", "dma", "_", "request", "_", "channel", "(", "mask", ",", "jz4780", "_", "dma", "_", "filter", "_", "fn", ",", "&", "data", ")", ";", "<nl>", "+", "jzdma", "-", ">", "chan", "[", "data", ".", "channel", "]", ".", "transfer", "_", "type", "=", "data", ".", "transfer", "_", "type", ";", "<nl>", "+", "<nl>", "+", "return", "dma", "_", "get", "_", "slave", "_", "channel", "(", "<nl>", "+", "&", "jzdma", "-", ">", "chan", "[", "data", ".", "channel", "]", ".", "vchan", ".", "chan", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "return", "dma", "_", "request", "_", "channel", "(", "mask", ",", "jz4780", "_", "dma", "_", "filter", "_", "fn", ",", "&", "data", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "static", "int", "jz4780", "_", "dma", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>"], "docstring_tokens": ["dmaengine", "jz4780", "Use", "dma_get_slave_channel", "when", "requesting", "a", "specific", "channel"]}
{"code_tokens": ["int", "afu", "_", "register", "_", "irqs", "(", "struct", "cxl", "_", "context", "*", "ctx", ",", "u32", "count", ")", "<nl>", "*", "/", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "ctx", "-", ">", "irq", "_", "names", ")", ";", "<nl>", "for", "(", "r", "=", "1", ";", "r", "<", "CXL", "_", "IRQ", "_", "RANGES", ";", "r", "+", "+", ")", "{", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "ctx", "-", ">", "irqs", ".", "range", "[", "r", "]", ";", "hwirq", "+", "+", ",", "i", "+", "+", ")", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "ctx", "-", ">", "irqs", ".", "range", "[", "r", "]", ";", "i", "+", "+", ")", "{", "<nl>", "irq", "_", "name", "=", "kmalloc", "(", "sizeof", "(", "struct", "cxl", "_", "irq", "_", "name", ")", ",", "<nl>", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "irq", "_", "name", ")", "<nl>"], "docstring_tokens": ["cxl", "remove", "redundant", "increment", "of", "hwirq"]}
{"code_tokens": ["static", "int", "gfx", "_", "v9", "_", "0", "_", "ngg", "_", "init", "(", "struct", "amdgpu", "_", "device", "*", "adev", ")", "<nl>", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "size", "=", "ALIGN", "(", "5", "*", "4", ",", "0x40", ")", ";", "<nl>", "adev", "-", ">", "gds", ".", "mem", ".", "total", "_", "size", "-", "=", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "size", ";", "<nl>", "adev", "-", ">", "gds", ".", "mem", ".", "gfx", "_", "partition", "_", "size", "-", "=", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "size", ";", "<nl>", "-", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "addr", "=", "SOC15", "_", "REG", "_", "OFFSET", "(", "GC", ",", "0", ",", "mmGDS", "_", "VMID0", "_", "BASE", ")", ";", "<nl>", "-", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "addr", "+", "=", "adev", "-", ">", "gds", ".", "mem", ".", "gfx", "_", "partition", "_", "size", ";", "<nl>", "+", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "addr", "=", "RREG32", "_", "SOC15", "(", "GC", ",", "0", ",", "mmGDS", "_", "VMID0", "_", "BASE", ")", ";", "<nl>", "+", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "addr", "+", "=", "RREG32", "_", "SOC15", "(", "GC", ",", "0", ",", "mmGDS", "_", "VMID0", "_", "SIZE", ")", ";", "<nl>", "<nl>", "/", "*", "Primitive", "Buffer", "*", "/", "<nl>", "r", "=", "gfx", "_", "v9", "_", "0", "_", "ngg", "_", "create", "_", "buf", "(", "adev", ",", "&", "adev", "-", ">", "gfx", ".", "ngg", ".", "buf", "[", "NGG", "_", "PRIM", "]", ",", "<nl>", "static", "int", "gfx", "_", "v9", "_", "0", "_", "ngg", "_", "en", "(", "struct", "amdgpu", "_", "device", "*", "adev", ")", "<nl>", "<nl>", "amdgpu", "_", "ring", "_", "write", "(", "ring", ",", "PACKET3", "(", "PACKET3", "_", "DMA", "_", "DATA", ",", "5", ")", ")", ";", "<nl>", "amdgpu", "_", "ring", "_", "write", "(", "ring", ",", "(", "PACKET3", "_", "DMA", "_", "DATA", "_", "CP", "_", "SYNC", "|", "<nl>", "+", "PACKET3", "_", "DMA", "_", "DATA", "_", "DST", "_", "SEL", "(", "1", ")", "|", "<nl>", "PACKET3", "_", "DMA", "_", "DATA", "_", "SRC", "_", "SEL", "(", "2", ")", ")", ")", ";", "<nl>", "amdgpu", "_", "ring", "_", "write", "(", "ring", ",", "0", ")", ";", "<nl>", "amdgpu", "_", "ring", "_", "write", "(", "ring", ",", "0", ")", ";", "<nl>", "amdgpu", "_", "ring", "_", "write", "(", "ring", ",", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "addr", ")", ";", "<nl>", "amdgpu", "_", "ring", "_", "write", "(", "ring", ",", "0", ")", ";", "<nl>", "-", "amdgpu", "_", "ring", "_", "write", "(", "ring", ",", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "size", ")", ";", "<nl>", "-", "<nl>", "+", "amdgpu", "_", "ring", "_", "write", "(", "ring", ",", "PACKET3", "_", "DMA", "_", "DATA", "_", "CMD", "_", "RAW", "_", "WAIT", "|", "<nl>", "+", "adev", "-", ">", "gfx", ".", "ngg", ".", "gds", "_", "reserve", "_", "size", ")", ";", "<nl>", "<nl>", "gfx", "_", "v9", "_", "0", "_", "write", "_", "data", "_", "to", "_", "reg", "(", "ring", ",", "0", ",", "false", ",", "<nl>", "SOC15", "_", "REG", "_", "OFFSET", "(", "GC", ",", "0", ",", "mmGDS", "_", "VMID0", "_", "SIZE", ")", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["drm", "amdgpu", "gfx9", "fix", "ngg", "enablement", "to", "clear", "gds", "reserved", "memory", "v2"]}
{"code_tokens": ["static", "inline", "int", "r600", "_", "cs", "_", "track", "_", "validate", "_", "cb", "(", "struct", "radeon", "_", "cs", "_", "parser", "*", "p", ",", "int", "i", ")", "<nl>", "if", "(", "array", "_", "mode", "=", "=", "V", "_", "0280A0", "_", "ARRAY", "_", "LINEAR", "_", "GENERAL", ")", "{", "<nl>", "/", "*", "the", "initial", "DDX", "does", "bad", "things", "with", "the", "CB", "size", "occasionally", "*", "/", "<nl>", "/", "*", "it", "rounds", "up", "height", "too", "far", "for", "slice", "tile", "max", "but", "the", "BO", "is", "smaller", "*", "/", "<nl>", "-", "tmp", "=", "(", "height", "-", "7", ")", "*", "8", "*", "bpe", ";", "<nl>", "+", "tmp", "=", "(", "height", "-", "7", ")", "*", "pitch", "*", "bpe", ";", "<nl>", "if", "(", "(", "tmp", "+", "track", "-", ">", "cb", "_", "color", "_", "bo", "_", "offset", "[", "i", "]", ")", ">", "radeon", "_", "bo", "_", "size", "(", "track", "-", ">", "cb", "_", "color", "_", "bo", "[", "i", "]", ")", ")", "{", "<nl>", "dev", "_", "warn", "(", "p", "-", ">", "dev", ",", "\"", "%", "s", "offset", "[", "%", "d", "]", "%", "d", "%", "d", "%", "lu", "too", "big", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "i", ",", "track", "-", ">", "cb", "_", "color", "_", "bo", "_", "offset", "[", "i", "]", ",", "tmp", ",", "radeon", "_", "bo", "_", "size", "(", "track", "-", ">", "cb", "_", "color", "_", "bo", "[", "i", "]", ")", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["drm", "radeon", "kms", "fix", "typo", "in", "r600", "cs", "checker"]}
{"code_tokens": ["static", "int", "rockchip", "_", "usb", "_", "phy", "_", "init", "(", "struct", "rockchip", "_", "usb", "_", "phy", "_", "base", "*", "base", ",", "<nl>", "goto", "err", "_", "clk", "_", "prov", ";", "<nl>", "}", "<nl>", "<nl>", "-", "err", "=", "devm", "_", "add", "_", "action", "(", "base", "-", ">", "dev", ",", "rockchip", "_", "usb", "_", "phy", "_", "action", ",", "rk", "_", "phy", ")", ";", "<nl>", "+", "err", "=", "devm", "_", "add", "_", "action", "_", "or", "_", "reset", "(", "base", "-", ">", "dev", ",", "rockchip", "_", "usb", "_", "phy", "_", "action", ",", "<nl>", "+", "rk", "_", "phy", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "-", "goto", "err", "_", "devm", "_", "action", ";", "<nl>", "+", "return", "err", ";", "<nl>", "<nl>", "rk", "_", "phy", "-", ">", "phy", "=", "devm", "_", "phy", "_", "create", "(", "base", "-", ">", "dev", ",", "child", ",", "&", "ops", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "rk", "_", "phy", "-", ">", "phy", ")", ")", "{", "<nl>", "static", "int", "rockchip", "_", "usb", "_", "phy", "_", "init", "(", "struct", "rockchip", "_", "usb", "_", "phy", "_", "base", "*", "base", ",", "<nl>", "else", "<nl>", "return", "rockchip", "_", "usb", "_", "phy", "_", "power", "(", "rk", "_", "phy", ",", "1", ")", ";", "<nl>", "<nl>", "-", "err", "_", "devm", "_", "action", ":", "<nl>", "-", "if", "(", "!", "rk", "_", "phy", "-", ">", "uart", "_", "enabled", ")", "<nl>", "-", "of", "_", "clk", "_", "del", "_", "provider", "(", "child", ")", ";", "<nl>", "err", "_", "clk", "_", "prov", ":", "<nl>", "if", "(", "!", "rk", "_", "phy", "-", ">", "uart", "_", "enabled", ")", "<nl>", "clk", "_", "unregister", "(", "rk", "_", "phy", "-", ">", "clk480m", ")", ";", "<nl>"], "docstring_tokens": ["phy", "rockhip", "usb", "use", "devm_add_action_or_reset"]}
{"code_tokens": ["int", "ext4", "_", "expand", "_", "extra", "_", "isize", "_", "ea", "(", "struct", "inode", "*", "inode", ",", "int", "new", "_", "extra", "_", "isize", ",", "<nl>", "goto", "cleanup", ";", "<nl>", "kfree", "(", "b", "_", "entry", "_", "name", ")", ";", "<nl>", "kfree", "(", "buffer", ")", ";", "<nl>", "+", "b", "_", "entry", "_", "name", "=", "NULL", ";", "<nl>", "+", "buffer", "=", "NULL", ";", "<nl>", "brelse", "(", "is", "-", ">", "iloc", ".", "bh", ")", ";", "<nl>", "kfree", "(", "is", ")", ";", "<nl>", "kfree", "(", "bs", ")", ";", "<nl>"], "docstring_tokens": ["ext4", "Eliminate", "potential", "double", "free", "on", "error", "path"]}
{"code_tokens": ["static", "void", "imon", "_", "incoming", "_", "packet", "(", "struct", "imon", "_", "context", "*", "ictx", ",", "<nl>", "if", "(", "press", "_", "type", "=", "=", "0", ")", "<nl>", "rc", "_", "keyup", "(", "ictx", "-", ">", "rdev", ")", ";", "<nl>", "else", "{", "<nl>", "-", "if", "(", "ictx", "-", ">", "rc", "_", "type", "=", "=", "RC", "_", "BIT", "_", "RC6", "_", "MCE", ")", "<nl>", "+", "if", "(", "ictx", "-", ">", "rc", "_", "type", "=", "=", "RC", "_", "BIT", "_", "RC6", "_", "MCE", "|", "|", "<nl>", "+", "ictx", "-", ">", "rc", "_", "type", "=", "=", "RC", "_", "BIT", "_", "OTHER", ")", "<nl>", "rc", "_", "keydown", "(", "ictx", "-", ">", "rdev", ",", "<nl>", "ictx", "-", ">", "rc", "_", "type", "=", "=", "RC", "_", "BIT", "_", "RC6", "_", "MCE", "?", "RC", "_", "TYPE", "_", "RC6", "_", "MCE", ":", "RC", "_", "TYPE", "_", "OTHER", ",", "<nl>", "ictx", "-", ">", "rc", "_", "scancode", ",", "ictx", "-", ">", "rc", "_", "toggle", ")", ";", "<nl>"], "docstring_tokens": ["media", "imon", "fix", "other", "RC", "type", "protocol", "support"]}
{"code_tokens": ["void", "kvm", "_", "mmu", "_", "zap", "_", "all", "(", "struct", "kvm", "*", "kvm", ")", "<nl>", "kvm", "_", "flush", "_", "remote", "_", "tlbs", "(", "kvm", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "kvm", "_", "mmu", "_", "remove", "_", "one", "_", "alloc", "_", "mmu", "_", "page", "(", "struct", "kvm", "*", "kvm", ")", "<nl>", "+", "static", "int", "kvm", "_", "mmu", "_", "remove", "_", "some", "_", "alloc", "_", "mmu", "_", "pages", "(", "struct", "kvm", "*", "kvm", ")", "<nl>", "{", "<nl>", "struct", "kvm", "_", "mmu", "_", "page", "*", "page", ";", "<nl>", "<nl>", "page", "=", "container", "_", "of", "(", "kvm", "-", ">", "arch", ".", "active", "_", "mmu", "_", "pages", ".", "prev", ",", "<nl>", "struct", "kvm", "_", "mmu", "_", "page", ",", "link", ")", ";", "<nl>", "-", "kvm", "_", "mmu", "_", "zap", "_", "page", "(", "kvm", ",", "page", ")", ";", "<nl>", "+", "return", "kvm", "_", "mmu", "_", "zap", "_", "page", "(", "kvm", ",", "page", ")", "+", "1", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "mmu", "_", "shrink", "(", "int", "nr", "_", "to", "_", "scan", ",", "gfp", "_", "t", "gfp", "_", "mask", ")", "<nl>", "static", "int", "mmu", "_", "shrink", "(", "int", "nr", "_", "to", "_", "scan", ",", "gfp", "_", "t", "gfp", "_", "mask", ")", "<nl>", "spin", "_", "lock", "(", "&", "kvm", "_", "lock", ")", ";", "<nl>", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "kvm", ",", "&", "vm", "_", "list", ",", "vm", "_", "list", ")", "{", "<nl>", "-", "int", "npages", ",", "idx", ";", "<nl>", "+", "int", "npages", ",", "idx", ",", "freed", "_", "pages", ";", "<nl>", "<nl>", "idx", "=", "srcu", "_", "read", "_", "lock", "(", "&", "kvm", "-", ">", "srcu", ")", ";", "<nl>", "spin", "_", "lock", "(", "&", "kvm", "-", ">", "mmu", "_", "lock", ")", ";", "<nl>", "static", "int", "mmu", "_", "shrink", "(", "int", "nr", "_", "to", "_", "scan", ",", "gfp", "_", "t", "gfp", "_", "mask", ")", "<nl>", "kvm", "-", ">", "arch", ".", "n", "_", "free", "_", "mmu", "_", "pages", ";", "<nl>", "cache", "_", "count", "+", "=", "npages", ";", "<nl>", "if", "(", "!", "kvm", "_", "freed", "&", "&", "nr", "_", "to", "_", "scan", ">", "0", "&", "&", "npages", ">", "0", ")", "{", "<nl>", "-", "kvm", "_", "mmu", "_", "remove", "_", "one", "_", "alloc", "_", "mmu", "_", "page", "(", "kvm", ")", ";", "<nl>", "-", "cache", "_", "count", "-", "-", ";", "<nl>", "+", "freed", "_", "pages", "=", "kvm", "_", "mmu", "_", "remove", "_", "some", "_", "alloc", "_", "mmu", "_", "pages", "(", "kvm", ")", ";", "<nl>", "+", "cache", "_", "count", "-", "=", "freed", "_", "pages", ";", "<nl>", "kvm", "_", "freed", "=", "kvm", ";", "<nl>", "}", "<nl>", "nr", "_", "to", "_", "scan", "-", "-", ";", "<nl>"], "docstring_tokens": ["KVM", "Fix", "mmu", "shrinker", "error"]}
{"code_tokens": ["static", "int", "pxad", "_", "probe", "(", "struct", "platform", "_", "device", "*", "op", ")", "<nl>", "pdev", "-", ">", "slave", ".", "dst", "_", "addr", "_", "widths", "=", "widths", ";", "<nl>", "pdev", "-", ">", "slave", ".", "directions", "=", "BIT", "(", "DMA", "_", "MEM", "_", "TO", "_", "DEV", ")", "|", "BIT", "(", "DMA", "_", "DEV", "_", "TO", "_", "MEM", ")", ";", "<nl>", "pdev", "-", ">", "slave", ".", "residue", "_", "granularity", "=", "DMA", "_", "RESIDUE", "_", "GRANULARITY", "_", "DESCRIPTOR", ";", "<nl>", "+", "pdev", "-", ">", "slave", ".", "descriptor", "_", "reuse", "=", "true", ";", "<nl>", "<nl>", "pdev", "-", ">", "slave", ".", "dev", "=", "&", "op", "-", ">", "dev", ";", "<nl>", "ret", "=", "pxad", "_", "init", "_", "dmadev", "(", "op", ",", "pdev", ",", "dma", "_", "channels", ")", ";", "<nl>"], "docstring_tokens": ["dmaengine", "pxa_dma", "declare", "transfer", "are", "reusable"]}
{"code_tokens": ["static", "void", "iriap", "_", "getvaluebyclass", "_", "indication", "(", "struct", "iriap", "_", "cb", "*", "self", ",", "<nl>", "n", "=", "1", ";", "<nl>", "<nl>", "name", "_", "len", "=", "fp", "[", "n", "+", "+", "]", ";", "<nl>", "+", "<nl>", "+", "IRDA", "_", "ASSERT", "(", "name", "_", "len", "<", "IAS", "_", "MAX", "_", "CLASSNAME", "+", "1", ",", "return", ";", ")", ";", "<nl>", "+", "<nl>", "memcpy", "(", "name", ",", "fp", "+", "n", ",", "name", "_", "len", ")", ";", "n", "+", "=", "name", "_", "len", ";", "<nl>", "name", "[", "name", "_", "len", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "<nl>", "attr", "_", "len", "=", "fp", "[", "n", "+", "+", "]", ";", "<nl>", "+", "<nl>", "+", "IRDA", "_", "ASSERT", "(", "attr", "_", "len", "<", "IAS", "_", "MAX", "_", "ATTRIBNAME", "+", "1", ",", "return", ";", ")", ";", "<nl>", "+", "<nl>", "memcpy", "(", "attr", ",", "fp", "+", "n", ",", "attr", "_", "len", ")", ";", "n", "+", "=", "attr", "_", "len", ";", "<nl>", "attr", "[", "attr", "_", "len", "]", "=", "'", "\\", "0", "'", ";", "<nl>"], "docstring_tokens": ["irda", "validate", "peer", "name", "and", "attribute", "lengths"]}
{"code_tokens": ["efi", "_", "initialize", "_", "iomem", "_", "resources", "(", "struct", "resource", "*", "code", "_", "resource", ",", "<nl>", "if", "(", "md", "-", ">", "attribute", "&", "EFI", "_", "MEMORY", "_", "WP", ")", "{", "<nl>", "name", "=", "\"", "System", "ROM", "\"", ";", "<nl>", "flags", "|", "=", "IORESOURCE", "_", "READONLY", ";", "<nl>", "-", "}", "else", "{", "<nl>", "+", "}", "else", "if", "(", "md", "-", ">", "attribute", "=", "=", "EFI", "_", "MEMORY", "_", "UC", ")", "<nl>", "+", "name", "=", "\"", "Uncached", "RAM", "\"", ";", "<nl>", "+", "else", "<nl>", "name", "=", "\"", "System", "RAM", "\"", ";", "<nl>", "-", "}", "<nl>", "break", ";", "<nl>", "<nl>", "case", "EFI", "_", "ACPI", "_", "MEMORY", "_", "NVS", ":", "<nl>"], "docstring_tokens": ["IA64", "kexec", "fails", "on", "systems", "with", "blocks", "of", "uncached", "memory"]}
{"code_tokens": ["static", "int", "snd", "_", "imx", "_", "open", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ")", "<nl>", "dma", "_", "params", "=", "snd", "_", "soc", "_", "dai", "_", "get", "_", "dma", "_", "data", "(", "rtd", "-", ">", "cpu", "_", "dai", ",", "substream", ")", ";", "<nl>", "<nl>", "dma", "_", "data", "=", "kzalloc", "(", "sizeof", "(", "*", "dma", "_", "data", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "dma", "_", "data", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "dma", "_", "data", "-", ">", "peripheral", "_", "type", "=", "dma", "_", "params", "-", ">", "shared", "_", "peripheral", "?", "<nl>", "IMX", "_", "DMATYPE", "_", "SSI", "_", "SP", ":", "IMX", "_", "DMATYPE", "_", "SSI", ";", "<nl>", "dma", "_", "data", "-", ">", "priority", "=", "DMA", "_", "PRIO", "_", "HIGH", ";", "<nl>"], "docstring_tokens": ["ASoC", "imx", "pcm", "dma", "check", "kzalloc", "return", "value", "in", "function", "snd_imx_open"]}
{"code_tokens": ["static", "int", "i915", "_", "sink", "_", "crc", "(", "struct", "seq", "_", "file", "*", "m", ",", "void", "*", "data", ")", "<nl>", "static", "int", "i915", "_", "energy", "_", "uJ", "(", "struct", "seq", "_", "file", "*", "m", ",", "void", "*", "data", ")", "<nl>", "{", "<nl>", "struct", "drm", "_", "i915", "_", "private", "*", "dev", "_", "priv", "=", "node", "_", "to", "_", "i915", "(", "m", "-", ">", "private", ")", ";", "<nl>", "-", "u64", "power", ";", "<nl>", "+", "unsigned", "long", "long", "power", ";", "<nl>", "u32", "units", ";", "<nl>", "<nl>", "if", "(", "INTEL", "_", "GEN", "(", "dev", "_", "priv", ")", "<", "6", ")", "<nl>", "static", "int", "i915", "_", "energy", "_", "uJ", "(", "struct", "seq", "_", "file", "*", "m", ",", "void", "*", "data", ")", "<nl>", "<nl>", "intel", "_", "runtime", "_", "pm", "_", "get", "(", "dev", "_", "priv", ")", ";", "<nl>", "<nl>", "-", "rdmsrl", "(", "MSR", "_", "RAPL", "_", "POWER", "_", "UNIT", ",", "power", ")", ";", "<nl>", "-", "power", "=", "(", "power", "&", "0x1f00", ")", ">", ">", "8", ";", "<nl>", "-", "units", "=", "1000000", "/", "(", "1", "<", "<", "power", ")", ";", "/", "*", "convert", "to", "uJ", "*", "/", "<nl>", "+", "if", "(", "rdmsrl", "_", "safe", "(", "MSR", "_", "RAPL", "_", "POWER", "_", "UNIT", ",", "&", "power", ")", ")", "{", "<nl>", "+", "intel", "_", "runtime", "_", "pm", "_", "put", "(", "dev", "_", "priv", ")", ";", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "units", "=", "(", "power", "&", "0x1f00", ")", ">", ">", "8", ";", "<nl>", "power", "=", "I915", "_", "READ", "(", "MCH", "_", "SECP", "_", "NRG", "_", "STTS", ")", ";", "<nl>", "-", "power", "*", "=", "units", ";", "<nl>", "+", "power", "=", "(", "1000000", "*", "power", ")", ">", ">", "units", ";", "/", "*", "convert", "to", "uJ", "*", "/", "<nl>", "<nl>", "intel", "_", "runtime", "_", "pm", "_", "put", "(", "dev", "_", "priv", ")", ";", "<nl>", "<nl>", "-", "seq", "_", "printf", "(", "m", ",", "\"", "%", "llu", "\"", ",", "(", "long", "long", "unsigned", ")", "power", ")", ";", "<nl>", "+", "seq", "_", "printf", "(", "m", ",", "\"", "%", "llu", "\"", ",", "power", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "Handle", "msr", "read", "failure", "gracefully"]}
{"code_tokens": ["static", "const", "struct", "port100", "_", "in", "_", "rf", "_", "setting", "in", "_", "rf", "_", "settings", "[", "]", "=", "{", "<nl>", ".", "in", "_", "recv", "_", "set", "_", "number", "=", "15", ",", "<nl>", ".", "in", "_", "recv", "_", "comm", "_", "type", "=", "PORT100", "_", "COMM", "_", "TYPE", "_", "IN", "_", "106A", ",", "<nl>", "}", ",", "<nl>", "+", "/", "*", "Ensures", "the", "array", "has", "NFC", "_", "DIGITAL", "_", "RF", "_", "TECH", "_", "LAST", "elements", "*", "/", "<nl>", "+", "[", "NFC", "_", "DIGITAL", "_", "RF", "_", "TECH", "_", "LAST", "]", "=", "{", "0", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "static", "const", "struct", "port100", "_", "tg", "_", "rf", "_", "setting", "tg", "_", "rf", "_", "settings", "[", "]", "=", "{", "<nl>", ".", "tg", "_", "set", "_", "number", "=", "8", ",", "<nl>", ".", "tg", "_", "comm", "_", "type", "=", "PORT100", "_", "COMM", "_", "TYPE", "_", "TG", "_", "424F", ",", "<nl>", "}", ",", "<nl>", "+", "/", "*", "Ensures", "the", "array", "has", "NFC", "_", "DIGITAL", "_", "RF", "_", "TECH", "_", "LAST", "elements", "*", "/", "<nl>", "+", "[", "NFC", "_", "DIGITAL", "_", "RF", "_", "TECH", "_", "LAST", "]", "=", "{", "0", "}", ",", "<nl>", "+", "<nl>", "}", ";", "<nl>", "<nl>", "#", "define", "PORT100", "_", "IN", "_", "PROT", "_", "INITIAL", "_", "GUARD", "_", "TIME", "0x00", "<nl>", "in", "_", "protocols", "[", "]", "[", "PORT100", "_", "IN", "_", "MAX", "_", "NUM", "_", "PROTOCOLS", "+", "1", "]", "=", "{", "<nl>", "[", "NFC", "_", "DIGITAL", "_", "FRAMING", "_", "NFC", "_", "DEP", "_", "ACTIVATED", "]", "=", "{", "<nl>", "{", "PORT100", "_", "IN", "_", "PROT", "_", "END", ",", "0", "}", ",", "<nl>", "}", ",", "<nl>", "+", "/", "*", "Ensures", "the", "array", "has", "NFC", "_", "DIGITAL", "_", "FRAMING", "_", "LAST", "elements", "*", "/", "<nl>", "+", "[", "NFC", "_", "DIGITAL", "_", "FRAMING", "_", "LAST", "]", "=", "{", "<nl>", "+", "{", "PORT100", "_", "IN", "_", "PROT", "_", "END", ",", "0", "}", ",", "<nl>", "+", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "struct", "port100", "_", "protocol", "<nl>", "tg", "_", "protocols", "[", "]", "[", "PORT100", "_", "TG", "_", "MAX", "_", "NUM", "_", "PROTOCOLS", "+", "1", "]", "=", "{", "<nl>", "{", "PORT100", "_", "TG", "_", "PROT", "_", "RF", "_", "OFF", ",", "1", "}", ",", "<nl>", "{", "PORT100", "_", "TG", "_", "PROT", "_", "END", ",", "0", "}", ",", "<nl>", "}", ",", "<nl>", "+", "/", "*", "Ensures", "the", "array", "has", "NFC", "_", "DIGITAL", "_", "FRAMING", "_", "LAST", "elements", "*", "/", "<nl>", "+", "[", "NFC", "_", "DIGITAL", "_", "FRAMING", "_", "LAST", "]", "=", "{", "<nl>", "+", "{", "PORT100", "_", "TG", "_", "PROT", "_", "END", ",", "0", "}", ",", "<nl>", "+", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "struct", "port100", "{", "<nl>"], "docstring_tokens": ["NFC", "port100", "Fix", "possible", "buffer", "overflow"]}
{"code_tokens": ["static", "void", "nfp", "_", "net", "_", "tx", "_", "complete", "(", "struct", "nfp", "_", "net", "_", "tx", "_", "ring", "*", "tx", "_", "ring", ")", "<nl>", "int", "fidx", ";", "<nl>", "int", "idx", ";", "<nl>", "<nl>", "+", "if", "(", "tx", "_", "ring", "-", ">", "wr", "_", "p", "=", "=", "tx", "_", "ring", "-", ">", "rd", "_", "p", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "/", "*", "Work", "out", "how", "many", "descriptors", "have", "been", "transmitted", "*", "/", "<nl>", "qcp", "_", "rd", "_", "p", "=", "nfp", "_", "qcp", "_", "rd", "_", "ptr", "_", "read", "(", "tx", "_", "ring", "-", ">", "qcp", "_", "q", ")", ";", "<nl>", "<nl>", "static", "void", "nfp", "_", "net", "_", "xdp", "_", "complete", "(", "struct", "nfp", "_", "net", "_", "tx", "_", "ring", "*", "tx", "_", "ring", ")", "<nl>", "int", "idx", ",", "todo", ";", "<nl>", "u32", "qcp", "_", "rd", "_", "p", ";", "<nl>", "<nl>", "+", "if", "(", "tx", "_", "ring", "-", ">", "wr", "_", "p", "=", "=", "tx", "_", "ring", "-", ">", "rd", "_", "p", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "/", "*", "Work", "out", "how", "many", "descriptors", "have", "been", "transmitted", "*", "/", "<nl>", "qcp", "_", "rd", "_", "p", "=", "nfp", "_", "qcp", "_", "rd", "_", "ptr", "_", "read", "(", "tx", "_", "ring", "-", ">", "qcp", "_", "q", ")", ";", "<nl>"], "docstring_tokens": ["nfp", "avoid", "reading", "TX", "queue", "indexes", "from", "the", "device"]}
{"code_tokens": ["static", "int", "intel", "_", "pstate", "_", "set", "_", "policy", "(", "struct", "cpufreq", "_", "policy", "*", "policy", ")", "<nl>", "<nl>", "cpu", "=", "all", "_", "cpu", "_", "data", "[", "policy", "-", ">", "cpu", "]", ";", "<nl>", "<nl>", "+", "if", "(", "!", "policy", "-", ">", "cpuinfo", ".", "max", "_", "freq", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "<nl>", "intel", "_", "pstate", "_", "get", "_", "min", "_", "max", "(", "cpu", ",", "&", "min", ",", "&", "max", ")", ";", "<nl>", "<nl>", "limits", ".", "min", "_", "perf", "_", "pct", "=", "(", "policy", "-", ">", "min", "*", "100", ")", "/", "policy", "-", ">", "cpuinfo", ".", "max", "_", "freq", ";", "<nl>"], "docstring_tokens": ["cpufreq", "intel_pstate", "Do", "not", "load", "on", "VM", "that", "does", "not", "report", "max", "P", "state"]}
{"code_tokens": ["static", "int", "spi", "_", "gpio", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "status", "=", "devm", "_", "add", "_", "action", "_", "or", "_", "reset", "(", "&", "pdev", "-", ">", "dev", ",", "spi", "_", "gpio", "_", "put", ",", "master", ")", ";", "<nl>", "-", "if", "(", "status", ")", "<nl>", "+", "if", "(", "status", ")", "{", "<nl>", "+", "spi", "_", "master", "_", "put", "(", "master", ")", ";", "<nl>", "return", "status", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "of", "_", "id", ")", "<nl>", "status", "=", "spi", "_", "gpio", "_", "probe", "_", "dt", "(", "pdev", ",", "master", ")", ";", "<nl>"], "docstring_tokens": ["spi", "gpio", "prevent", "memory", "leak", "in", "spi_gpio_probe"]}
{"code_tokens": ["int", "seq", "_", "buf", "_", "putmem", "_", "hex", "(", "struct", "seq", "_", "buf", "*", "s", ",", "const", "void", "*", "mem", ",", "<nl>", "<nl>", "WARN", "_", "ON", "(", "s", "-", ">", "size", "=", "=", "0", ")", ";", "<nl>", "<nl>", "+", "BUILD", "_", "BUG", "_", "ON", "(", "MAX", "_", "MEMHEX", "_", "BYTES", "*", "2", ">", "=", "HEX", "_", "CHARS", ")", ";", "<nl>", "+", "<nl>", "while", "(", "len", ")", "{", "<nl>", "-", "start", "_", "len", "=", "min", "(", "len", ",", "HEX", "_", "CHARS", "-", "1", ")", ";", "<nl>", "+", "start", "_", "len", "=", "min", "(", "len", ",", "MAX", "_", "MEMHEX", "_", "BYTES", ")", ";", "<nl>", "#", "ifdef", "_", "_", "BIG", "_", "ENDIAN", "<nl>", "for", "(", "i", "=", "0", ",", "j", "=", "0", ";", "i", "<", "start", "_", "len", ";", "i", "+", "+", ")", "{", "<nl>", "#", "else", "<nl>"], "docstring_tokens": ["seq_buf", "Fix", "overflow", "in", "seq_buf_putmem_hex"]}
{"code_tokens": ["static", "bool", "intel", "_", "crt", "_", "detect", "_", "ddc", "(", "struct", "drm", "_", "connector", "*", "connector", ")", "<nl>", "*", "This", "may", "be", "a", "DVI", "-", "I", "connector", "with", "a", "shared", "DDC", "<nl>", "*", "link", "between", "analog", "and", "digital", "outputs", ",", "so", "we", "<nl>", "*", "have", "to", "check", "the", "EDID", "input", "spec", "of", "the", "attached", "device", ".", "<nl>", "+", "*", "<nl>", "+", "*", "On", "the", "other", "hand", ",", "what", "should", "we", "do", "if", "it", "is", "a", "broken", "EDID", "?", "<nl>", "*", "/", "<nl>", "if", "(", "edid", "!", "=", "NULL", ")", "{", "<nl>", "is", "_", "digital", "=", "edid", "-", ">", "input", "&", "DRM", "_", "EDID", "_", "INPUT", "_", "DIGITAL", ";", "<nl>", "static", "bool", "intel", "_", "crt", "_", "detect", "_", "ddc", "(", "struct", "drm", "_", "connector", "*", "connector", ")", "<nl>", "if", "(", "!", "is", "_", "digital", ")", "{", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "CRT", "detected", "via", "DDC", ":", "0x50", "[", "EDID", "]", "\\", "n", "\"", ")", ";", "<nl>", "return", "true", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "CRT", "not", "detected", "via", "DDC", ":", "0x50", "[", "EDID", "reports", "a", "digital", "panel", "]", "\\", "n", "\"", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "crt", "Explicitly", "return", "false", "if", "connected", "to", "a", "digital", "monitor"]}
{"code_tokens": ["int", "main", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "<nl>", "\"", "%", "s", "-", "dev", "%", "d", "\"", ",", "device", "_", "name", ",", "dev", "_", "num", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>", "-", "goto", "error", "_", "ret", ";", "<nl>", "+", "goto", "error", "_", "free", "_", "dev", "_", "dir", "_", "name", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "int", "main", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "<nl>", "error", "_", "free", "_", "triggername", ":", "<nl>", "if", "(", "datardytrigger", ")", "<nl>", "free", "(", "trigger", "_", "name", ")", ";", "<nl>", "+", "error", "_", "free", "_", "dev", "_", "dir", "_", "name", ":", "<nl>", "+", "free", "(", "dev", "_", "dir", "_", "name", ")", ";", "<nl>", "error", "_", "ret", ":", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tools", "iio", "generic_buffer", "free", "dev_dir_name", "on", "exit"]}
{"code_tokens": ["struct", "mem", "_", "ctl", "_", "info", "*", "edac", "_", "mc", "_", "alloc", "(", "unsigned", "mc", "_", "num", ",", "<nl>", "/", "*", "<nl>", "*", "Alocate", "and", "fill", "the", "csrow", "/", "channels", "structs", "<nl>", "*", "/", "<nl>", "-", "mci", "-", ">", "csrows", "=", "kcalloc", "(", "sizeof", "(", "*", "mci", "-", ">", "csrows", ")", ",", "tot", "_", "csrows", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "mci", "-", ">", "csrows", "=", "kcalloc", "(", "tot", "_", "csrows", ",", "sizeof", "(", "*", "mci", "-", ">", "csrows", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "mci", "-", ">", "csrows", ")", "<nl>", "goto", "error", ";", "<nl>", "for", "(", "row", "=", "0", ";", "row", "<", "tot", "_", "csrows", ";", "row", "+", "+", ")", "{", "<nl>", "struct", "mem", "_", "ctl", "_", "info", "*", "edac", "_", "mc", "_", "alloc", "(", "unsigned", "mc", "_", "num", ",", "<nl>", "csr", "-", ">", "csrow", "_", "idx", "=", "row", ";", "<nl>", "csr", "-", ">", "mci", "=", "mci", ";", "<nl>", "csr", "-", ">", "nr", "_", "channels", "=", "tot", "_", "channels", ";", "<nl>", "-", "csr", "-", ">", "channels", "=", "kcalloc", "(", "sizeof", "(", "*", "csr", "-", ">", "channels", ")", ",", "tot", "_", "channels", ",", "<nl>", "+", "csr", "-", ">", "channels", "=", "kcalloc", "(", "tot", "_", "channels", ",", "sizeof", "(", "*", "csr", "-", ">", "channels", ")", ",", "<nl>", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "csr", "-", ">", "channels", ")", "<nl>", "goto", "error", ";", "<nl>", "struct", "mem", "_", "ctl", "_", "info", "*", "edac", "_", "mc", "_", "alloc", "(", "unsigned", "mc", "_", "num", ",", "<nl>", "/", "*", "<nl>", "*", "Allocate", "and", "fill", "the", "dimm", "structs", "<nl>", "*", "/", "<nl>", "-", "mci", "-", ">", "dimms", "=", "kcalloc", "(", "sizeof", "(", "*", "mci", "-", ">", "dimms", ")", ",", "tot", "_", "dimms", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "mci", "-", ">", "dimms", "=", "kcalloc", "(", "tot", "_", "dimms", ",", "sizeof", "(", "*", "mci", "-", ">", "dimms", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "mci", "-", ">", "dimms", ")", "<nl>", "goto", "error", ";", "<nl>"], "docstring_tokens": ["EDAC", "Fix", "kcalloc", "argument", "order"]}
{"code_tokens": ["void", "drbd", "_", "start", "_", "resync", "(", "struct", "drbd", "_", "device", "*", "device", ",", "enum", "drbd", "_", "conns", "side", ")", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "connection", ")", "{", "<nl>", "+", "drbd", "_", "err", "(", "device", ",", "\"", "No", "connection", "to", "peer", ",", "aborting", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "!", "test", "_", "bit", "(", "B", "_", "RS", "_", "H", "_", "DONE", ",", "&", "device", "-", ">", "flags", ")", ")", "{", "<nl>", "if", "(", "side", "=", "=", "C", "_", "SYNC", "_", "TARGET", ")", "{", "<nl>", "/", "*", "Since", "application", "IO", "was", "locked", "out", "during", "C", "_", "WF", "_", "BITMAP", "_", "T", "and", "<nl>"], "docstring_tokens": ["drbd", "abort", "drbd_start_resync", "if", "there", "is", "no", "connection"]}
{"code_tokens": ["static", "unsigned", "int", "max", "_", "cstate", "_", "_", "read", "_", "mostly", "=", "ACPI", "_", "PROCESSOR", "_", "MAX", "_", "POWER", ";", "<nl>", "module", "_", "param", "(", "max", "_", "cstate", ",", "uint", ",", "0000", ")", ";", "<nl>", "static", "unsigned", "int", "nocst", "_", "_", "read", "_", "mostly", ";", "<nl>", "module", "_", "param", "(", "nocst", ",", "uint", ",", "0000", ")", ";", "<nl>", "+", "static", "int", "bm", "_", "check", "_", "disable", "_", "_", "read", "_", "mostly", ";", "<nl>", "+", "module", "_", "param", "(", "bm", "_", "check", "_", "disable", ",", "uint", ",", "0000", ")", ";", "<nl>", "<nl>", "static", "unsigned", "int", "latency", "_", "factor", "_", "_", "read", "_", "mostly", "=", "2", ";", "<nl>", "module", "_", "param", "(", "latency", "_", "factor", ",", "uint", ",", "0644", ")", ";", "<nl>", "static", "int", "acpi", "_", "idle", "_", "bm", "_", "check", "(", "void", ")", "<nl>", "{", "<nl>", "u32", "bm", "_", "status", "=", "0", ";", "<nl>", "<nl>", "+", "if", "(", "bm", "_", "check", "_", "disable", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "acpi", "_", "read", "_", "bit", "_", "register", "(", "ACPI", "_", "BITREG", "_", "BUS", "_", "MASTER", "_", "STATUS", ",", "&", "bm", "_", "status", ")", ";", "<nl>", "if", "(", "bm", "_", "status", ")", "<nl>", "acpi", "_", "write", "_", "bit", "_", "register", "(", "ACPI", "_", "BITREG", "_", "BUS", "_", "MASTER", "_", "STATUS", ",", "1", ")", ";", "<nl>"], "docstring_tokens": ["ACPI", "create", "processor", "bm_check_disable", "boot", "param"]}
{"code_tokens": ["int", "i40e", "_", "ndo", "_", "get", "_", "vf", "_", "config", "(", "struct", "net", "_", "device", "*", "netdev", ",", "<nl>", "else", "<nl>", "ivi", "-", ">", "linkstate", "=", "IFLA", "_", "VF", "_", "LINK", "_", "STATE", "_", "DISABLE", ";", "<nl>", "ivi", "-", ">", "spoofchk", "=", "vf", "-", ">", "spoofchk", ";", "<nl>", "+", "ivi", "-", ">", "trusted", "=", "vf", "-", ">", "trusted", ";", "<nl>", "ret", "=", "0", ";", "<nl>", "<nl>", "error", "_", "param", ":", "<nl>"], "docstring_tokens": ["i40e", "Expose", "trust", "flag", "to", "userspace", "via", "ndo_get_vf_config"]}
{"code_tokens": ["static", "int", "spk", "_", "ttyio", "_", "ldisc", "_", "open", "(", "struct", "tty", "_", "struct", "*", "tty", ")", "<nl>", "<nl>", "if", "(", "!", "tty", "-", ">", "ops", "-", ">", "write", ")", "<nl>", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "<nl>", "+", "mutex", "_", "lock", "(", "&", "speakup", "_", "tty", "_", "mutex", ")", ";", "<nl>", "+", "if", "(", "speakup", "_", "tty", ")", "{", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "speakup", "_", "tty", "_", "mutex", ")", ";", "<nl>", "+", "return", "-", "EBUSY", ";", "<nl>", "+", "}", "<nl>", "speakup", "_", "tty", "=", "tty", ";", "<nl>", "<nl>", "ldisc", "_", "data", "=", "kmalloc", "(", "sizeof", "(", "*", "ldisc", "_", "data", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "!", "ldisc", "_", "data", ")", "<nl>", "+", "if", "(", "!", "ldisc", "_", "data", ")", "{", "<nl>", "+", "speakup", "_", "tty", "=", "NULL", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "speakup", "_", "tty", "_", "mutex", ")", ";", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "+", "}", "<nl>", "<nl>", "init", "_", "completion", "(", "&", "ldisc", "_", "data", "-", ">", "completion", ")", ";", "<nl>", "ldisc", "_", "data", "-", ">", "buf", "_", "free", "=", "true", ";", "<nl>", "speakup", "_", "tty", "-", ">", "disc", "_", "data", "=", "ldisc", "_", "data", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "speakup", "_", "tty", "_", "mutex", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["speakup", "Do", "not", "let", "the", "line", "discipline", "be", "used", "several", "times"]}
{"code_tokens": ["static", "struct", "ib", "_", "qp", "*", "i40iw", "_", "create", "_", "qp", "(", "struct", "ib", "_", "pd", "*", "ibpd", ",", "<nl>", "return", "&", "iwqp", "-", ">", "ibqp", ";", "<nl>", "error", ":", "<nl>", "i40iw", "_", "free", "_", "qp", "_", "resources", "(", "iwdev", ",", "iwqp", ",", "qp", "_", "num", ")", ";", "<nl>", "-", "kfree", "(", "mem", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "err", "_", "code", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["i40iw", "Fix", "double", "free", "of", "allocated_buffer"]}
{"code_tokens": ["struct", "ahash", "_", "request", "{", "<nl>", "void", "*", "_", "_", "ctx", "[", "]", "CRYPTO", "_", "MINALIGN", "_", "ATTR", ";", "<nl>", "}", ";", "<nl>", "<nl>", "+", "#", "define", "AHASH", "_", "REQUEST", "_", "ON", "_", "STACK", "(", "name", ",", "ahash", ")", "\\", "<nl>", "+", "char", "_", "_", "#", "#", "name", "#", "#", "_", "desc", "[", "sizeof", "(", "struct", "ahash", "_", "request", ")", "+", "\\", "<nl>", "+", "crypto", "_", "ahash", "_", "reqsize", "(", "ahash", ")", "]", "CRYPTO", "_", "MINALIGN", "_", "ATTR", ";", "\\", "<nl>", "+", "struct", "ahash", "_", "request", "*", "name", "=", "(", "void", "*", ")", "_", "_", "#", "#", "name", "#", "#", "_", "desc", "<nl>", "+", "<nl>", "/", "*", "*", "<nl>", "*", "struct", "ahash", "_", "alg", "-", "asynchronous", "message", "digest", "definition", "<nl>", "*", "@", "init", ":", "Initialize", "the", "transformation", "context", ".", "Intended", "only", "to", "initialize", "the", "<nl>"], "docstring_tokens": ["crypto", "hash", "Add", "AHASH_REQUEST_ON_STACK"]}
{"code_tokens": ["static", "int", "s5p", "_", "mfc", "_", "queue", "_", "setup", "(", "struct", "vb2", "_", "queue", "*", "vq", ",", "<nl>", "struct", "s5p", "_", "mfc", "_", "ctx", "*", "ctx", "=", "fh", "_", "to", "_", "ctx", "(", "vq", "-", ">", "drv", "_", "priv", ")", ";", "<nl>", "struct", "s5p", "_", "mfc", "_", "dev", "*", "dev", "=", "ctx", "-", ">", "dev", ";", "<nl>", "<nl>", "-", "if", "(", "ctx", "-", ">", "state", "!", "=", "MFCINST", "_", "GOT", "_", "INST", ")", "{", "<nl>", "-", "mfc", "_", "err", "(", "\"", "inavlid", "state", ":", "%", "d", "\\", "n", "\"", ",", "ctx", "-", ">", "state", ")", ";", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "-", "}", "<nl>", "if", "(", "vq", "-", ">", "type", "=", "=", "V4L2", "_", "BUF", "_", "TYPE", "_", "VIDEO", "_", "CAPTURE", "_", "MPLANE", ")", "{", "<nl>", "+", "if", "(", "ctx", "-", ">", "state", "!", "=", "MFCINST", "_", "GOT", "_", "INST", ")", "{", "<nl>", "+", "mfc", "_", "err", "(", "\"", "inavlid", "state", ":", "%", "d", "\\", "n", "\"", ",", "ctx", "-", ">", "state", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "ctx", "-", ">", "dst", "_", "fmt", ")", "<nl>", "*", "plane", "_", "count", "=", "ctx", "-", ">", "dst", "_", "fmt", "-", ">", "num", "_", "planes", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["media", "s5p", "mfc", "fix", "state", "check", "from", "encoder", "queue_setup"]}
{"code_tokens": ["static", "void", "*", "mlx5", "_", "ib", "_", "add", "(", "struct", "mlx5", "_", "core", "_", "dev", "*", "mdev", ")", "<nl>", "(", "1ull", "<", "<", "IB", "_", "USER", "_", "VERBS", "_", "CMD", "_", "CREATE", "_", "XSRQ", ")", "|", "<nl>", "(", "1ull", "<", "<", "IB", "_", "USER", "_", "VERBS", "_", "CMD", "_", "OPEN", "_", "QP", ")", ";", "<nl>", "dev", "-", ">", "ib", "_", "dev", ".", "uverbs", "_", "ex", "_", "cmd", "_", "mask", "=", "<nl>", "-", "(", "1ull", "<", "<", "IB", "_", "USER", "_", "VERBS", "_", "EX", "_", "CMD", "_", "QUERY", "_", "DEVICE", ")", ";", "<nl>", "+", "(", "1ull", "<", "<", "IB", "_", "USER", "_", "VERBS", "_", "EX", "_", "CMD", "_", "QUERY", "_", "DEVICE", ")", "|", "<nl>", "+", "(", "1ull", "<", "<", "IB", "_", "USER", "_", "VERBS", "_", "EX", "_", "CMD", "_", "CREATE", "_", "CQ", ")", "|", "<nl>", "+", "(", "1ull", "<", "<", "IB", "_", "USER", "_", "VERBS", "_", "EX", "_", "CMD", "_", "CREATE", "_", "QP", ")", ";", "<nl>", "<nl>", "dev", "-", ">", "ib", "_", "dev", ".", "query", "_", "device", "=", "mlx5", "_", "ib", "_", "query", "_", "device", ";", "<nl>", "dev", "-", ">", "ib", "_", "dev", ".", "query", "_", "port", "=", "mlx5", "_", "ib", "_", "query", "_", "port", ";", "<nl>"], "docstring_tokens": ["IB", "mlx5", "Add", "CREATE_CQ", "and", "CREATE_QP", "to", "uverbs_ex_cmd_mask"]}
{"code_tokens": ["static", "void", "mceusb", "_", "process", "_", "ir", "_", "data", "(", "struct", "mceusb", "_", "dev", "*", "ir", ",", "int", "buf", "_", "len", ")", "<nl>", "init", "_", "ir", "_", "raw", "_", "event", "(", "&", "rawir", ")", ";", "<nl>", "rawir", ".", "pulse", "=", "(", "(", "ir", "-", ">", "buf", "_", "in", "[", "i", "]", "&", "MCE", "_", "PULSE", "_", "BIT", ")", "!", "=", "0", ")", ";", "<nl>", "rawir", ".", "duration", "=", "(", "ir", "-", ">", "buf", "_", "in", "[", "i", "]", "&", "MCE", "_", "PULSE", "_", "MASK", ")", ";", "<nl>", "+", "if", "(", "unlikely", "(", "!", "rawir", ".", "duration", ")", ")", "{", "<nl>", "+", "dev", "_", "warn", "(", "ir", "-", ">", "dev", ",", "\"", "nonsensical", "irdata", "%", "02x", "with", "duration", "0", "\"", ",", "<nl>", "+", "ir", "-", ">", "buf", "_", "in", "[", "i", "]", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "if", "(", "rawir", ".", "pulse", ")", "{", "<nl>", "ir", "-", ">", "pulse", "_", "tunit", "+", "=", "rawir", ".", "duration", ";", "<nl>", "ir", "-", ">", "pulse", "_", "count", "+", "+", ";", "<nl>"], "docstring_tokens": ["media", "mceusb", "filter", "out", "bogus", "timing", "irdata", "of", "duration", "0"]}
{"code_tokens": ["static", "int", "tg3", "_", "bmcr", "_", "reset", "(", "struct", "tg3", "*", "tp", ")", "<nl>", "}", "<nl>", "udelay", "(", "10", ")", ";", "<nl>", "}", "<nl>", "-", "if", "(", "limit", "<", "=", "0", ")", "<nl>", "+", "if", "(", "limit", "<", "0", ")", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "static", "int", "tg3", "_", "wait", "_", "macro", "_", "done", "(", "struct", "tg3", "*", "tp", ")", "<nl>", "break", ";", "<nl>", "}", "<nl>", "}", "<nl>", "-", "if", "(", "limit", "<", "=", "0", ")", "<nl>", "+", "if", "(", "limit", "<", "0", ")", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["TG3", "limit", "reaches", "1"]}
{"code_tokens": ["static", "int", "decode", "_", "modrm", "(", "struct", "x86", "_", "emulate", "_", "ctxt", "*", "ctxt", ",", "<nl>", "c", "-", ">", "modrm", "_", "reg", "|", "=", "(", "c", "-", ">", "modrm", "&", "0x38", ")", ">", ">", "3", ";", "<nl>", "c", "-", ">", "modrm", "_", "rm", "|", "=", "(", "c", "-", ">", "modrm", "&", "0x07", ")", ";", "<nl>", "c", "-", ">", "modrm", "_", "ea", "=", "0", ";", "<nl>", "-", "c", "-", ">", "use", "_", "modrm", "_", "ea", "=", "1", ";", "<nl>", "c", "-", ">", "modrm", "_", "seg", "=", "VCPU", "_", "SREG", "_", "DS", ";", "<nl>", "<nl>", "if", "(", "c", "-", ">", "modrm", "_", "mod", "=", "=", "3", ")", "{", "mmm", "arch", "/", "x86", "/", "include", "/", "asm", "/", "kvm", "_", "emulate", ".", "h", "<nl>", "static", "int", "decode", "_", "modrm", "(", "struct", "x86", "_", "emulate", "_", "ctxt", "*", "ctxt", ",", "<nl>", "c", "-", ">", "modrm", "_", "reg", "|", "=", "(", "c", "-", ">", "modrm", "&", "0x38", ")", ">", ">", "3", ";", "<nl>", "c", "-", ">", "modrm", "_", "rm", "|", "=", "(", "c", "-", ">", "modrm", "&", "0x07", ")", ";", "<nl>", "c", "-", ">", "modrm", "_", "ea", "=", "0", ";", "<nl>", "-", "c", "-", ">", "use", "_", "modrm", "_", "ea", "=", "1", ";", "<nl>", "c", "-", ">", "modrm", "_", "seg", "=", "VCPU", "_", "SREG", "_", "DS", ";", "<nl>", "<nl>", "if", "(", "c", "-", ">", "modrm", "_", "mod", "=", "=", "3", ")", "{", "<nl>", "struct", "decode", "_", "cache", "{", "<nl>", "u8", "modrm", "_", "reg", ";", "<nl>", "u8", "modrm", "_", "rm", ";", "<nl>", "u8", "modrm", "_", "seg", ";", "<nl>", "-", "u8", "use", "_", "modrm", "_", "ea", ";", "<nl>", "bool", "rip", "_", "relative", ";", "<nl>", "unsigned", "long", "modrm", "_", "ea", ";", "<nl>", "void", "*", "modrm", "_", "ptr", ";", "<nl>"], "docstring_tokens": ["KVM", "x86", "emulator", "drop", "use_modrm_ea"]}
{"code_tokens": ["static", "int", "_", "regmap", "_", "read", "(", "struct", "regmap", "*", "map", ",", "unsigned", "int", "reg", ",", "<nl>", "if", "(", "map", "-", ">", "cache", "_", "only", ")", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "<nl>", "+", "if", "(", "!", "regmap", "_", "readable", "(", "map", ",", "reg", ")", ")", "<nl>", "+", "return", "-", "EIO", ";", "<nl>", "+", "<nl>", "ret", "=", "map", "-", ">", "reg", "_", "read", "(", "context", ",", "reg", ",", "val", ")", ";", "<nl>", "if", "(", "ret", "=", "=", "0", ")", "{", "<nl>", "#", "ifdef", "LOG", "_", "DEVICE", "<nl>"], "docstring_tokens": ["regmap", "Check", "readable", "regs", "in", "_regmap_read"]}
{"code_tokens": ["static", "int", "uas", "_", "find", "_", "endpoints", "(", "struct", "usb", "_", "host", "_", "interface", "*", "alt", ",", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "n", "_", "endpoints", ";", "i", "+", "+", ")", "{", "<nl>", "unsigned", "char", "*", "extra", "=", "endpoint", "[", "i", "]", ".", "extra", ";", "<nl>", "int", "len", "=", "endpoint", "[", "i", "]", ".", "extralen", ";", "<nl>", "-", "while", "(", "len", ">", "1", ")", "{", "<nl>", "+", "while", "(", "len", ">", "=", "3", ")", "{", "<nl>", "if", "(", "extra", "[", "1", "]", "=", "=", "USB", "_", "DT", "_", "PIPE", "_", "USAGE", ")", "{", "<nl>", "unsigned", "pipe", "_", "id", "=", "extra", "[", "2", "]", ";", "<nl>", "if", "(", "pipe", "_", "id", ">", "0", "&", "&", "pipe", "_", "id", "<", "5", ")", "<nl>"], "docstring_tokens": ["uas", "Fix", "bounds", "check", "in", "uas_find_endpoints"]}
{"code_tokens": ["bool", "unwind", "_", "next", "_", "frame", "(", "struct", "unwind", "_", "state", "*", "state", ")", "<nl>", "state", "-", ">", "regs", "-", ">", "sp", "<", "(", "unsigned", "long", ")", "task", "_", "pt", "_", "regs", "(", "state", "-", ">", "task", ")", ")", "<nl>", "goto", "the", "_", "end", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "There", "are", "some", "known", "frame", "pointer", "issues", "on", "32", "-", "bit", ".", "Disable", "<nl>", "+", "*", "unwinder", "warnings", "on", "32", "-", "bit", "until", "it", "gets", "objtool", "support", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "X86", "_", "32", ")", ")", "<nl>", "+", "goto", "the", "_", "end", ";", "<nl>", "+", "<nl>", "if", "(", "state", "-", ">", "regs", ")", "{", "<nl>", "printk", "_", "deferred", "_", "once", "(", "KERN", "_", "WARNING", "<nl>", "\"", "WARNING", ":", "kernel", "stack", "regs", "at", "%", "p", "in", "%", "s", ":", "%", "d", "has", "bad", "'", "bp", "'", "value", "%", "p", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["x86", "unwind", "Disable", "unwinder", "warnings", "on", "32", "bit"]}
{"code_tokens": ["static", "int", "_", "_", "init", "_", "refok", "setup", "_", "cpu", "_", "cache", "(", "struct", "kmem", "_", "cache", "*", "cachep", ",", "gfp", "_", "t", "gfp", ")", "<nl>", "int", "<nl>", "_", "_", "kmem", "_", "cache", "_", "create", "(", "struct", "kmem", "_", "cache", "*", "cachep", ",", "unsigned", "long", "flags", ")", "<nl>", "{", "<nl>", "-", "size", "_", "t", "left", "_", "over", ",", "freelist", "_", "size", ",", "ralign", ";", "<nl>", "+", "size", "_", "t", "left", "_", "over", ",", "freelist", "_", "size", ";", "<nl>", "+", "size", "_", "t", "ralign", "=", "BYTES", "_", "PER", "_", "WORD", ";", "<nl>", "gfp", "_", "t", "gfp", ";", "<nl>", "int", "err", ";", "<nl>", "size", "_", "t", "size", "=", "cachep", "-", ">", "size", ";", "<nl>", "_", "_", "kmem", "_", "cache", "_", "create", "(", "struct", "kmem", "_", "cache", "*", "cachep", ",", "unsigned", "long", "flags", ")", "<nl>", "size", "&", "=", "~", "(", "BYTES", "_", "PER", "_", "WORD", "-", "1", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "<nl>", "-", "*", "Redzoning", "and", "user", "store", "require", "word", "alignment", "or", "possibly", "larger", ".", "<nl>", "-", "*", "Note", "this", "will", "be", "overridden", "by", "architecture", "or", "caller", "mandated", "<nl>", "-", "*", "alignment", "if", "either", "is", "greater", "than", "BYTES", "_", "PER", "_", "WORD", ".", "<nl>", "-", "*", "/", "<nl>", "-", "if", "(", "flags", "&", "SLAB", "_", "STORE", "_", "USER", ")", "<nl>", "-", "ralign", "=", "BYTES", "_", "PER", "_", "WORD", ";", "<nl>", "-", "<nl>", "if", "(", "flags", "&", "SLAB", "_", "RED", "_", "ZONE", ")", "{", "<nl>", "ralign", "=", "REDZONE", "_", "ALIGN", ";", "<nl>", "/", "*", "If", "redzoning", ",", "ensure", "that", "the", "second", "redzone", "is", "suitably", "<nl>"], "docstring_tokens": ["mm", "slab", "initialize", "object", "alignment", "on", "cache", "creation"]}
{"code_tokens": ["static", "int", "mxs", "_", "lradc", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "*", "of", "the", "array", ".", "<nl>", "*", "/", "<nl>", "scale", "_", "uv", "=", "(", "(", "u64", ")", "lradc", "-", ">", "vref", "_", "mv", "[", "i", "]", "*", "100000000", ")", ">", ">", "<nl>", "-", "(", "iio", "-", ">", "channels", "[", "i", "]", ".", "scan", "_", "type", ".", "realbits", "-", "s", ")", ";", "<nl>", "+", "(", "LRADC", "_", "RESOLUTION", "-", "s", ")", ";", "<nl>", "lradc", "-", ">", "scale", "_", "avail", "[", "i", "]", "[", "s", "]", ".", "nano", "=", "<nl>", "do", "_", "div", "(", "scale", "_", "uv", ",", "100000000", ")", "*", "10", ";", "<nl>", "lradc", "-", ">", "scale", "_", "avail", "[", "i", "]", "[", "s", "]", ".", "integer", "=", "scale", "_", "uv", ";", "<nl>"], "docstring_tokens": ["iio", "mxs", "lradc", "fix", "buffer", "overflow"]}
{"code_tokens": ["static", "int", "i7core", "_", "register", "_", "mci", "(", "struct", "i7core", "_", "dev", "*", "i7core", "_", "dev", ",", "<nl>", "}", "<nl>", "<nl>", "fail", ":", "<nl>", "-", "edac", "_", "mc", "_", "free", "(", "mci", ")", ";", "<nl>", "+", "if", "(", "rc", "<", "0", ")", "<nl>", "+", "edac", "_", "mc", "_", "free", "(", "mci", ")", ";", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["i7core_edac", "don", "t", "free", "on", "success"]}
{"code_tokens": ["i915", "_", "gem", "_", "execbuffer", "_", "relocate", "_", "entry", "(", "struct", "drm", "_", "i915", "_", "gem", "_", "object", "*", "obj", ",", "<nl>", "else", "<nl>", "ret", "=", "relocate", "_", "entry", "_", "gtt", "(", "obj", ",", "reloc", ")", ";", "<nl>", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "+", "<nl>", "/", "*", "and", "update", "the", "user", "'", "s", "relocation", "entry", "*", "/", "<nl>", "reloc", "-", ">", "presumed", "_", "offset", "=", "target", "_", "offset", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "fix", "up", "the", "relocate_entry", "refactoring"]}
{"code_tokens": ["int", "create", "_", "flush", "_", "cmd", "_", "control", "(", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", ")", "<nl>", "init", "_", "waitqueue", "_", "head", "(", "&", "fcc", "-", ">", "flush", "_", "wait", "_", "queue", ")", ";", "<nl>", "init", "_", "llist", "_", "head", "(", "&", "fcc", "-", ">", "issue", "_", "list", ")", ";", "<nl>", "SM", "_", "I", "(", "sbi", ")", "-", ">", "fcc", "_", "info", "=", "fcc", ";", "<nl>", "+", "if", "(", "!", "test", "_", "opt", "(", "sbi", ",", "FLUSH", "_", "MERGE", ")", ")", "<nl>", "+", "return", "err", ";", "<nl>", "+", "<nl>", "init", "_", "thread", ":", "<nl>", "fcc", "-", ">", "f2fs", "_", "issue", "_", "flush", "=", "kthread", "_", "run", "(", "issue", "_", "flush", "_", "thread", ",", "sbi", ",", "<nl>", "\"", "f2fs", "_", "flush", "-", "%", "u", ":", "%", "u", "\"", ",", "MAJOR", "(", "dev", ")", ",", "MINOR", "(", "dev", ")", ")", ";", "<nl>", "int", "build", "_", "segment", "_", "manager", "(", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", ")", "<nl>", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "sm", "_", "info", "-", ">", "sit", "_", "entry", "_", "set", ")", ";", "<nl>", "<nl>", "-", "if", "(", "test", "_", "opt", "(", "sbi", ",", "FLUSH", "_", "MERGE", ")", "&", "&", "!", "f2fs", "_", "readonly", "(", "sbi", "-", ">", "sb", ")", ")", "{", "<nl>", "+", "if", "(", "!", "f2fs", "_", "readonly", "(", "sbi", "-", ">", "sb", ")", ")", "{", "<nl>", "err", "=", "create", "_", "flush", "_", "cmd", "_", "control", "(", "sbi", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "return", "err", ";", "<nl>"], "docstring_tokens": ["f2fs", "fix", "a", "panic", "caused", "by", "NULL", "flush_cmd_control"]}
{"code_tokens": ["struct", "input", "_", "keymap", "_", "entry", "{", "<nl>", "#", "define", "BTN", "_", "TOOL", "_", "FINGER", "0x145", "<nl>", "#", "define", "BTN", "_", "TOOL", "_", "MOUSE", "0x146", "<nl>", "#", "define", "BTN", "_", "TOOL", "_", "LENS", "0x147", "<nl>", "+", "#", "define", "BTN", "_", "TOOL", "_", "QUINTTAP", "0x148", "/", "*", "Five", "fingers", "on", "trackpad", "*", "/", "<nl>", "#", "define", "BTN", "_", "TOUCH", "0x14a", "<nl>", "#", "define", "BTN", "_", "STYLUS", "0x14b", "<nl>", "#", "define", "BTN", "_", "STYLUS2", "0x14cmmm", "drivers", "/", "input", "/", "input", "-", "mt", ".", "c", "<nl>", "struct", "input", "_", "keymap", "_", "entry", "{", "<nl>", "#", "define", "BTN", "_", "TOOL", "_", "FINGER", "0x145", "<nl>", "#", "define", "BTN", "_", "TOOL", "_", "MOUSE", "0x146", "<nl>", "#", "define", "BTN", "_", "TOOL", "_", "LENS", "0x147", "<nl>", "+", "#", "define", "BTN", "_", "TOOL", "_", "QUINTTAP", "0x148", "/", "*", "Five", "fingers", "on", "trackpad", "*", "/", "<nl>", "#", "define", "BTN", "_", "TOUCH", "0x14a", "<nl>", "#", "define", "BTN", "_", "STYLUS", "0x14b", "<nl>", "#", "define", "BTN", "_", "STYLUS2", "0x14c", "<nl>", "void", "input", "_", "mt", "_", "report", "_", "finger", "_", "count", "(", "struct", "input", "_", "dev", "*", "dev", ",", "int", "count", ")", "<nl>", "input", "_", "event", "(", "dev", ",", "EV", "_", "KEY", ",", "BTN", "_", "TOOL", "_", "DOUBLETAP", ",", "count", "=", "=", "2", ")", ";", "<nl>", "input", "_", "event", "(", "dev", ",", "EV", "_", "KEY", ",", "BTN", "_", "TOOL", "_", "TRIPLETAP", ",", "count", "=", "=", "3", ")", ";", "<nl>", "input", "_", "event", "(", "dev", ",", "EV", "_", "KEY", ",", "BTN", "_", "TOOL", "_", "QUADTAP", ",", "count", "=", "=", "4", ")", ";", "<nl>", "+", "input", "_", "event", "(", "dev", ",", "EV", "_", "KEY", ",", "BTN", "_", "TOOL", "_", "QUINTTAP", ",", "count", "=", "=", "5", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "input", "_", "mt", "_", "report", "_", "finger", "_", "count", ")", ";", "<nl>"], "docstring_tokens": ["Input", "add", "BTN_TOOL_QUINTTAP", "for", "reporting", "5", "fingers", "on", "touchpad"]}
{"code_tokens": ["static", "void", "ext4", "_", "end", "_", "bio", "(", "struct", "bio", "*", "bio", ",", "int", "error", ")", "<nl>", "struct", "inode", "*", "inode", ";", "<nl>", "unsigned", "long", "flags", ";", "<nl>", "int", "i", ";", "<nl>", "+", "sector", "_", "t", "bi", "_", "sector", "=", "bio", "-", ">", "bi", "_", "sector", ";", "<nl>", "<nl>", "BUG", "_", "ON", "(", "!", "io", "_", "end", ")", ";", "<nl>", "bio", "-", ">", "bi", "_", "private", "=", "NULL", ";", "<nl>", "static", "void", "ext4", "_", "end", "_", "bio", "(", "struct", "bio", "*", "bio", ",", "int", "error", ")", "<nl>", "if", "(", "error", ")", "<nl>", "SetPageError", "(", "page", ")", ";", "<nl>", "BUG", "_", "ON", "(", "!", "head", ")", ";", "<nl>", "-", "if", "(", "head", "-", ">", "b", "_", "size", "=", "=", "PAGE", "_", "CACHE", "_", "SIZE", ")", "<nl>", "-", "clear", "_", "buffer", "_", "dirty", "(", "head", ")", ";", "<nl>", "-", "else", "{", "<nl>", "+", "if", "(", "head", "-", ">", "b", "_", "size", "!", "=", "PAGE", "_", "CACHE", "_", "SIZE", ")", "{", "<nl>", "loff", "_", "t", "offset", ";", "<nl>", "loff", "_", "t", "io", "_", "end", "_", "offset", "=", "io", "_", "end", "-", ">", "offset", "+", "io", "_", "end", "-", ">", "size", ";", "<nl>", "<nl>", "static", "void", "ext4", "_", "end", "_", "bio", "(", "struct", "bio", "*", "bio", ",", "int", "error", ")", "<nl>", "if", "(", "error", ")", "<nl>", "buffer", "_", "io", "_", "error", "(", "bh", ")", ";", "<nl>", "<nl>", "-", "clear", "_", "buffer", "_", "dirty", "(", "bh", ")", ";", "<nl>", "}", "<nl>", "if", "(", "buffer", "_", "delay", "(", "bh", ")", ")", "<nl>", "partial", "_", "write", "=", "1", ";", "<nl>", "static", "void", "ext4", "_", "end", "_", "bio", "(", "struct", "bio", "*", "bio", ",", "int", "error", ")", "<nl>", "(", "unsigned", "long", "long", ")", "io", "_", "end", "-", ">", "offset", ",", "<nl>", "(", "long", ")", "io", "_", "end", "-", ">", "size", ",", "<nl>", "(", "unsigned", "long", "long", ")", "<nl>", "-", "bio", "-", ">", "bi", "_", "sector", ">", ">", "(", "inode", "-", ">", "i", "_", "blkbits", "-", "9", ")", ")", ";", "<nl>", "+", "bi", "_", "sector", ">", ">", "(", "inode", "-", ">", "i", "_", "blkbits", "-", "9", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Add", "the", "io", "_", "end", "to", "per", "-", "inode", "completed", "io", "list", "*", "/", "<nl>", "int", "ext4", "_", "bio", "_", "write", "_", "page", "(", "struct", "ext4", "_", "io", "_", "submit", "*", "io", ",", "<nl>", "<nl>", "blocksize", "=", "1", "<", "<", "inode", "-", ">", "i", "_", "blkbits", ";", "<nl>", "<nl>", "+", "BUG", "_", "ON", "(", "!", "PageLocked", "(", "page", ")", ")", ";", "<nl>", "BUG", "_", "ON", "(", "PageWriteback", "(", "page", ")", ")", ";", "<nl>", "set", "_", "page", "_", "writeback", "(", "page", ")", ";", "<nl>", "ClearPageError", "(", "page", ")", ";", "<nl>", "int", "ext4", "_", "bio", "_", "write", "_", "page", "(", "struct", "ext4", "_", "io", "_", "submit", "*", "io", ",", "<nl>", "for", "(", "bh", "=", "head", "=", "page", "_", "buffers", "(", "page", ")", ",", "block", "_", "start", "=", "0", ";", "<nl>", "bh", "!", "=", "head", "|", "|", "!", "block", "_", "start", ";", "<nl>", "block", "_", "start", "=", "block", "_", "end", ",", "bh", "=", "bh", "-", ">", "b", "_", "this", "_", "page", ")", "{", "<nl>", "+", "<nl>", "block", "_", "end", "=", "block", "_", "start", "+", "blocksize", ";", "<nl>", "if", "(", "block", "_", "start", ">", "=", "len", ")", "{", "<nl>", "clear", "_", "buffer", "_", "dirty", "(", "bh", ")", ";", "<nl>", "set", "_", "buffer", "_", "uptodate", "(", "bh", ")", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "+", "clear", "_", "buffer", "_", "dirty", "(", "bh", ")", ";", "<nl>", "ret", "=", "io", "_", "submit", "_", "add", "_", "bh", "(", "io", ",", "io", "_", "page", ",", "inode", ",", "wbc", ",", "bh", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["ext4", "Fix", "data", "corruption", "with", "multi", "block", "writepages", "support"]}
{"code_tokens": ["static", "int", "ext4", "_", "fill", "_", "flex", "_", "info", "(", "struct", "super", "_", "block", "*", "sb", ")", "<nl>", "struct", "ext4", "_", "group", "_", "desc", "*", "gdp", "=", "NULL", ";", "<nl>", "ext4", "_", "group", "_", "t", "flex", "_", "group", "_", "count", ";", "<nl>", "ext4", "_", "group", "_", "t", "flex", "_", "group", ";", "<nl>", "-", "int", "groups", "_", "per", "_", "flex", "=", "0", ";", "<nl>", "+", "unsigned", "int", "groups", "_", "per", "_", "flex", "=", "0", ";", "<nl>", "size", "_", "t", "size", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "sbi", "-", ">", "s", "_", "log", "_", "groups", "_", "per", "_", "flex", "=", "sbi", "-", ">", "s", "_", "es", "-", ">", "s", "_", "log", "_", "groups", "_", "per", "_", "flex", ";", "<nl>", "-", "groups", "_", "per", "_", "flex", "=", "1", "<", "<", "sbi", "-", ">", "s", "_", "log", "_", "groups", "_", "per", "_", "flex", ";", "<nl>", "-", "<nl>", "-", "if", "(", "groups", "_", "per", "_", "flex", "<", "2", ")", "{", "<nl>", "+", "if", "(", "sbi", "-", ">", "s", "_", "log", "_", "groups", "_", "per", "_", "flex", "<", "1", "|", "|", "sbi", "-", ">", "s", "_", "log", "_", "groups", "_", "per", "_", "flex", ">", "31", ")", "{", "<nl>", "sbi", "-", ">", "s", "_", "log", "_", "groups", "_", "per", "_", "flex", "=", "0", ";", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>", "+", "groups", "_", "per", "_", "flex", "=", "1", "<", "<", "sbi", "-", ">", "s", "_", "log", "_", "groups", "_", "per", "_", "flex", ";", "<nl>", "<nl>", "/", "*", "We", "allocate", "both", "existing", "and", "potentially", "added", "groups", "*", "/", "<nl>", "flex", "_", "group", "_", "count", "=", "(", "(", "sbi", "-", ">", "s", "_", "groups", "_", "count", "+", "groups", "_", "per", "_", "flex", "-", "1", ")", "+", "<nl>"], "docstring_tokens": ["ext4", "fix", "undefined", "behavior", "in", "ext4_fill_flex_info"]}
{"code_tokens": ["int", "cap", "_", "bprm", "_", "set", "_", "creds", "(", "struct", "linux", "_", "binprm", "*", "bprm", ")", "<nl>", "}", "<nl>", "skip", ":", "<nl>", "<nl>", "+", "/", "*", "if", "we", "have", "fs", "caps", ",", "clear", "dangerous", "personality", "flags", "*", "/", "<nl>", "+", "if", "(", "!", "cap", "_", "issubset", "(", "new", "-", ">", "cap", "_", "permitted", ",", "old", "-", ">", "cap", "_", "permitted", ")", ")", "<nl>", "+", "bprm", "-", ">", "per", "_", "clear", "|", "=", "PER", "_", "CLEAR", "_", "ON", "_", "SETID", ";", "<nl>", "+", "<nl>", "+", "<nl>", "/", "*", "Don", "'", "t", "let", "someone", "trace", "a", "set", "[", "ug", "]", "id", "/", "setpcap", "binary", "with", "the", "revised", "<nl>", "*", "credentials", "unless", "they", "have", "the", "appropriate", "permit", "<nl>", "*", "/", "<nl>"], "docstring_tokens": ["fcaps", "clear", "the", "same", "personality", "flags", "as", "suid", "when", "fcaps", "are", "used"]}
{"code_tokens": ["static", "void", "<nl>", "iscsi", "_", "tcp", "_", "conn", "_", "stop", "(", "struct", "iscsi", "_", "cls", "_", "conn", "*", "cls", "_", "conn", ",", "int", "flag", ")", "<nl>", "{", "<nl>", "struct", "iscsi", "_", "conn", "*", "conn", "=", "cls", "_", "conn", "-", ">", "dd", "_", "data", ";", "<nl>", "+", "struct", "iscsi", "_", "tcp", "_", "conn", "*", "tcp", "_", "conn", "=", "conn", "-", ">", "dd", "_", "data", ";", "<nl>", "<nl>", "iscsi", "_", "conn", "_", "stop", "(", "cls", "_", "conn", ",", "flag", ")", ";", "<nl>", "iscsi", "_", "tcp", "_", "release", "_", "conn", "(", "conn", ")", ";", "<nl>", "+", "tcp", "_", "conn", "-", ">", "hdr", "_", "size", "=", "sizeof", "(", "struct", "iscsi", "_", "hdr", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "<nl>"], "docstring_tokens": ["SCSI", "iscsi_tcp", "update", "header", "size", "during", "relogin"]}
{"code_tokens": ["static", "int", "soc", "_", "camera", "_", "try", "_", "fmt", "_", "vid", "_", "cap", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "<nl>", "static", "int", "soc", "_", "camera", "_", "enum", "_", "input", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "<nl>", "struct", "v4l2", "_", "input", "*", "inp", ")", "<nl>", "{", "<nl>", "+", "struct", "soc", "_", "camera", "_", "device", "*", "icd", "=", "file", "-", ">", "private", "_", "data", ";", "<nl>", "+", "<nl>", "if", "(", "inp", "-", ">", "index", "!", "=", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "/", "*", "default", "is", "camera", "*", "/", "<nl>", "inp", "-", ">", "type", "=", "V4L2", "_", "INPUT", "_", "TYPE", "_", "CAMERA", ";", "<nl>", "+", "inp", "-", ">", "std", "=", "icd", "-", ">", "vdev", "-", ">", "tvnorms", ";", "<nl>", "strcpy", "(", "inp", "-", ">", "name", ",", "\"", "Camera", "\"", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["media", "soc_camera", "fix", "enum_input"]}
{"code_tokens": ["static", "struct", "rc", "_", "map", "_", "list", "empty", "_", "map", "=", "{", "<nl>", "static", "int", "ir", "_", "create", "_", "table", "(", "struct", "rc", "_", "map", "*", "rc", "_", "map", ",", "<nl>", "const", "char", "*", "name", ",", "u64", "rc", "_", "type", ",", "size", "_", "t", "size", ")", "<nl>", "{", "<nl>", "-", "rc", "_", "map", "-", ">", "name", "=", "name", ";", "<nl>", "+", "rc", "_", "map", "-", ">", "name", "=", "kstrdup", "(", "name", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "rc", "_", "map", "-", ">", "name", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "rc", "_", "map", "-", ">", "rc", "_", "type", "=", "rc", "_", "type", ";", "<nl>", "rc", "_", "map", "-", ">", "alloc", "=", "roundup", "_", "pow", "_", "of", "_", "two", "(", "size", "*", "sizeof", "(", "struct", "rc", "_", "map", "_", "table", ")", ")", ";", "<nl>", "rc", "_", "map", "-", ">", "size", "=", "rc", "_", "map", "-", ">", "alloc", "/", "sizeof", "(", "struct", "rc", "_", "map", "_", "table", ")", ";", "<nl>", "rc", "_", "map", "-", ">", "scan", "=", "kmalloc", "(", "rc", "_", "map", "-", ">", "alloc", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "!", "rc", "_", "map", "-", ">", "scan", ")", "<nl>", "+", "if", "(", "!", "rc", "_", "map", "-", ">", "scan", ")", "{", "<nl>", "+", "kfree", "(", "rc", "_", "map", "-", ">", "name", ")", ";", "<nl>", "+", "rc", "_", "map", "-", ">", "name", "=", "NULL", ";", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "+", "}", "<nl>", "<nl>", "IR", "_", "dprintk", "(", "1", ",", "\"", "Allocated", "space", "for", "%", "u", "keycode", "entries", "(", "%", "u", "bytes", ")", "\\", "n", "\"", ",", "<nl>", "rc", "_", "map", "-", ">", "size", ",", "rc", "_", "map", "-", ">", "alloc", ")", ";", "<nl>", "static", "int", "ir", "_", "create", "_", "table", "(", "struct", "rc", "_", "map", "*", "rc", "_", "map", ",", "<nl>", "static", "void", "ir", "_", "free", "_", "table", "(", "struct", "rc", "_", "map", "*", "rc", "_", "map", ")", "<nl>", "{", "<nl>", "rc", "_", "map", "-", ">", "size", "=", "0", ";", "<nl>", "+", "kfree", "(", "rc", "_", "map", "-", ">", "name", ")", ";", "<nl>", "kfree", "(", "rc", "_", "map", "-", ">", "scan", ")", ";", "<nl>", "rc", "_", "map", "-", ">", "scan", "=", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["media", "rc", "main", "fix", "kernel", "oops", "after", "unloading", "keymap", "module"]}
{"code_tokens": ["static", "struct", "kioctx", "*", "ioctx", "_", "alloc", "(", "unsigned", "nr", "_", "events", ")", "<nl>", "err", "_", "cleanup", ":", "<nl>", "aio", "_", "nr", "_", "sub", "(", "ctx", "-", ">", "max", "_", "reqs", ")", ";", "<nl>", "err", ":", "<nl>", "-", "aio", "_", "free", "_", "ring", "(", "ctx", ")", ";", "<nl>", "free", "_", "percpu", "(", "ctx", "-", ">", "cpu", ")", ";", "<nl>", "free", "_", "percpu", "(", "ctx", "-", ">", "reqs", ".", "pcpu", "_", "count", ")", ";", "<nl>", "free", "_", "percpu", "(", "ctx", "-", ">", "users", ".", "pcpu", "_", "count", ")", ";", "<nl>"], "docstring_tokens": ["aio", "prevent", "double", "free", "in", "ioctx_alloc"]}
{"code_tokens": ["static", "int", "rsi", "_", "send", "_", "beacon", "(", "struct", "rsi", "_", "common", "*", "common", ")", "<nl>", "skb", "_", "pull", "(", "skb", ",", "(", "64", "-", "dword", "_", "align", "_", "bytes", ")", ")", ";", "<nl>", "if", "(", "rsi", "_", "prepare", "_", "beacon", "(", "common", ",", "skb", ")", ")", "{", "<nl>", "rsi", "_", "dbg", "(", "ERR", "_", "ZONE", ",", "\"", "Failed", "to", "prepare", "beacon", "\\", "n", "\"", ")", ";", "<nl>", "+", "dev", "_", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "skb", "_", "queue", "_", "tail", "(", "&", "common", "-", ">", "tx", "_", "queue", "[", "MGMT", "_", "BEACON", "_", "Q", "]", ",", "skb", ")", ";", "<nl>"], "docstring_tokens": ["rsi", "release", "skb", "if", "rsi_prepare_beacon", "fails"]}
{"code_tokens": ["struct", "powerdomain", "*", "omap", "_", "hwmod", "_", "get", "_", "pwrdm", "(", "struct", "omap", "_", "hwmod", "*", "oh", ")", "<nl>", "c", "=", "oh", "-", ">", "slaves", "[", "oh", "-", ">", "_", "mpu", "_", "port", "_", "index", "]", "-", ">", "_", "clk", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "c", "-", ">", "clkdm", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "return", "c", "-", ">", "clkdm", "-", ">", "pwrdm", ".", "ptr", ";", "<nl>", "<nl>", "}", "<nl>"], "docstring_tokens": ["OMAP", "HWMOD", "Adding", "clockdomain", "check"]}
{"code_tokens": ["int", "xfrm", "_", "policy", "_", "flush", "(", "u8", "type", ",", "struct", "xfrm", "_", "audit", "*", "audit", "_", "info", ")", "<nl>", "continue", ";", "<nl>", "hlist", "_", "del", "(", "&", "pol", "-", ">", "bydst", ")", ";", "<nl>", "hlist", "_", "del", "(", "&", "pol", "-", ">", "byidx", ")", ";", "<nl>", "+", "list", "_", "del", "(", "&", "pol", "-", ">", "walk", ".", "all", ")", ";", "<nl>", "write", "_", "unlock", "_", "bh", "(", "&", "xfrm", "_", "policy", "_", "lock", ")", ";", "<nl>", "<nl>", "xfrm", "_", "audit", "_", "policy", "_", "delete", "(", "pol", ",", "1", ",", "audit", "_", "info", "-", ">", "loginuid", ",", "<nl>"], "docstring_tokens": ["xfrm", "Fix", "kernel", "panic", "when", "flush", "and", "dump", "SPD", "entries"]}
{"code_tokens": ["bool", "_", "_", "skb", "_", "flow", "_", "dissect", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "/", "*", "Only", "look", "inside", "GRE", "without", "routing", "*", "/", "<nl>", "if", "(", "hdr", "-", ">", "flags", "&", "GRE", "_", "ROUTING", ")", "<nl>", "-", "break", ";", "<nl>", "+", "goto", "out", "_", "good", ";", "<nl>", "<nl>", "/", "*", "Only", "look", "inside", "GRE", "for", "version", "0", "and", "1", "*", "/", "<nl>", "gre", "_", "ver", "=", "ntohs", "(", "hdr", "-", ">", "flags", "&", "GRE", "_", "VERSION", ")", ";", "<nl>", "if", "(", "gre", "_", "ver", ">", "1", ")", "<nl>", "-", "break", ";", "<nl>", "+", "goto", "out", "_", "good", ";", "<nl>", "<nl>", "proto", "=", "hdr", "-", ">", "protocol", ";", "<nl>", "if", "(", "gre", "_", "ver", ")", "{", "<nl>", "/", "*", "Version1", "must", "be", "PPTP", ",", "and", "check", "the", "flags", "*", "/", "<nl>", "if", "(", "!", "(", "proto", "=", "=", "GRE", "_", "PROTO", "_", "PPP", "&", "&", "(", "hdr", "-", ">", "flags", "&", "GRE", "_", "KEY", ")", ")", ")", "<nl>", "-", "break", ";", "<nl>", "+", "goto", "out", "_", "good", ";", "<nl>", "}", "<nl>", "<nl>", "offset", "+", "=", "sizeof", "(", "struct", "gre", "_", "base", "_", "hdr", ")", ";", "<nl>"], "docstring_tokens": ["flow_dissector", "Fix", "GRE", "header", "error", "path"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "lpc32xx", "_", "nand", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Missing", "platform", "data", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "ENOENT", ";", "<nl>", "}", "<nl>", "+", "if", "(", "host", "-", ">", "ncfg", "-", ">", "wp", "_", "gpio", "=", "=", "-", "EPROBE", "_", "DEFER", ")", "<nl>", "+", "return", "-", "EPROBE", "_", "DEFER", ";", "<nl>", "if", "(", "gpio", "_", "is", "_", "valid", "(", "host", "-", ">", "ncfg", "-", ">", "wp", "_", "gpio", ")", "&", "&", "<nl>", "gpio", "_", "request", "(", "host", "-", ">", "ncfg", "-", ">", "wp", "_", "gpio", ",", "\"", "NAND", "WP", "\"", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "GPIO", "not", "available", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["mtd", "lpc32xx_slc", "Make", "probe", "return", "EPROBE_DEFER", "if", "necessary"]}
{"code_tokens": ["static", "int", "labpc", "_", "ai", "_", "cmd", "(", "struct", "comedi", "_", "device", "*", "dev", ",", "struct", "comedi", "_", "subdevice", "*", "s", ")", "<nl>", "devpriv", "-", ">", "write", "_", "byte", "(", "INTERVAL", "_", "LOAD", "_", "BITS", ",", "<nl>", "dev", "-", ">", "iobase", "+", "INTERVAL", "_", "LOAD", "_", "REG", ")", ";", "<nl>", "<nl>", "-", "if", "(", "cmd", "-", ">", "convert", "_", "src", "=", "=", "TRIG", "_", "TIMER", "|", "|", "cmd", "-", ">", "scan", "_", "begin", "_", "src", "=", "=", "TRIG", "_", "TIMER", ")", "{", "<nl>", "+", "if", "(", "cmd", "-", ">", "convert", "_", "src", "=", "=", "TRIG", "_", "TIMER", "|", "|", "<nl>", "+", "cmd", "-", ">", "scan", "_", "begin", "_", "src", "=", "=", "TRIG", "_", "TIMER", ")", "{", "<nl>", "/", "*", "set", "up", "pacing", "*", "/", "<nl>", "labpc", "_", "adc", "_", "timing", "(", "dev", ",", "cmd", ",", "mode", ")", ";", "<nl>", "/", "*", "load", "counter", "b0", "in", "mode", "3", "*", "/", "<nl>"], "docstring_tokens": ["staging", "comedi", "ni_labpc", "fix", "a", "80", "char", "line", "issue"]}
{"code_tokens": ["static", "int", "amdgpu", "_", "dm", "_", "atomic", "_", "check", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "for", "_", "each", "_", "oldnew", "_", "crtc", "_", "in", "_", "state", "(", "state", ",", "crtc", ",", "old", "_", "crtc", "_", "state", ",", "new", "_", "crtc", "_", "state", ",", "i", ")", "{", "<nl>", "-", "if", "(", "!", "drm", "_", "atomic", "_", "crtc", "_", "needs", "_", "modeset", "(", "new", "_", "crtc", "_", "state", ")", ")", "<nl>", "+", "if", "(", "!", "drm", "_", "atomic", "_", "crtc", "_", "needs", "_", "modeset", "(", "new", "_", "crtc", "_", "state", ")", "&", "&", "<nl>", "+", "!", "new", "_", "crtc", "_", "state", "-", ">", "color", "_", "mgmt", "_", "changed", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "if", "(", "!", "new", "_", "crtc", "_", "state", "-", ">", "enable", ")", "<nl>"], "docstring_tokens": ["drm", "amd", "display", "fix", "gamma", "setting"]}
{"code_tokens": ["static", "int", "bond", "_", "validate", "(", "struct", "nlattr", "*", "tb", "[", "]", ",", "struct", "nlattr", "*", "data", "[", "]", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "bond", "_", "get", "_", "tx", "_", "queues", "(", "struct", "net", "*", "net", ",", "struct", "nlattr", "*", "tb", "[", "]", ",", "<nl>", "+", "unsigned", "int", "*", "num", "_", "queues", ",", "<nl>", "+", "unsigned", "int", "*", "real", "_", "num", "_", "queues", ")", "<nl>", "+", "{", "<nl>", "+", "*", "num", "_", "queues", "=", "tx", "_", "queues", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "struct", "rtnl", "_", "link", "_", "ops", "bond", "_", "link", "_", "ops", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "kind", "=", "\"", "bond", "\"", ",", "<nl>", ".", "priv", "_", "size", "=", "sizeof", "(", "struct", "bonding", ")", ",", "<nl>", ".", "setup", "=", "bond", "_", "setup", ",", "<nl>", ".", "validate", "=", "bond", "_", "validate", ",", "<nl>", "+", ".", "get", "_", "tx", "_", "queues", "=", "bond", "_", "get", "_", "tx", "_", "queues", ",", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "Create", "a", "new", "bond", "based", "on", "the", "specified", "name", "and", "bonding", "parameters", ".", "<nl>"], "docstring_tokens": ["bonding", "implement", "get_tx_queues", "rtnk_link_op"]}
{"code_tokens": ["vsock", "_", "stream", "_", "recvmsg", "(", "struct", "kiocb", "*", "kiocb", ",", "<nl>", "vsk", "=", "vsock", "_", "sk", "(", "sk", ")", ";", "<nl>", "err", "=", "0", ";", "<nl>", "<nl>", "+", "msg", "-", ">", "msg", "_", "namelen", "=", "0", ";", "<nl>", "+", "<nl>", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "<nl>", "if", "(", "sk", "-", ">", "sk", "_", "state", "!", "=", "SS", "_", "CONNECTED", ")", "{", "<nl>"], "docstring_tokens": ["VSOCK", "Fix", "missing", "msg_namelen", "update", "in", "vsock_stream_recvmsg"]}
{"code_tokens": ["static", "int", "nsp", "_", "gpio", "_", "get", "_", "strength", "(", "struct", "nsp", "_", "gpio", "*", "chip", ",", "unsigned", "gpio", ",", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "int", "nsp", "_", "pin", "_", "config", "_", "group", "_", "get", "(", "struct", "pinctrl", "_", "dev", "*", "pctldev", ",", "unsigned", "selector", ",", "<nl>", "+", "static", "int", "nsp", "_", "pin", "_", "config", "_", "group", "_", "get", "(", "struct", "pinctrl", "_", "dev", "*", "pctldev", ",", "<nl>", "+", "unsigned", "selector", ",", "<nl>", "unsigned", "long", "*", "config", ")", "<nl>", "{", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "int", "nsp", "_", "pin", "_", "config", "_", "group", "_", "set", "(", "struct", "pinctrl", "_", "dev", "*", "pctldev", ",", "unsigned", "selector", ",", "<nl>", "+", "static", "int", "nsp", "_", "pin", "_", "config", "_", "group", "_", "set", "(", "struct", "pinctrl", "_", "dev", "*", "pctldev", ",", "<nl>", "+", "unsigned", "selector", ",", "<nl>", "unsigned", "long", "*", "configs", ",", "unsigned", "num", "_", "configs", ")", "<nl>", "{", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["pinctrl", "nsp", "gpio", "fix", "non", "static", "functions"]}
{"code_tokens": ["static", "int", "ipw", "_", "wx", "_", "set", "_", "retry", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "if", "(", "!", "(", "wrqu", "-", ">", "retry", ".", "flags", "&", "IW", "_", "RETRY", "_", "LIMIT", ")", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "-", "if", "(", "wrqu", "-", ">", "retry", ".", "value", "<", "0", "|", "|", "wrqu", "-", ">", "retry", ".", "value", ">", "255", ")", "<nl>", "+", "if", "(", "wrqu", "-", ">", "retry", ".", "value", "<", "0", "|", "|", "wrqu", "-", ">", "retry", ".", "value", ">", "=", "255", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "priv", "-", ">", "mutex", ")", ";", "<nl>"], "docstring_tokens": ["PATCH", "ipw2200", "mark", "iwconfig", "retry", "255", "as", "invalid"]}
{"code_tokens": ["static", "int", "bcm", "_", "delete", "_", "rx", "_", "op", "(", "struct", "list", "_", "head", "*", "ops", ",", "struct", "bcm", "_", "msg", "_", "head", "*", "mh", ",", "<nl>", "bcm", "_", "rx", "_", "handler", ",", "op", ")", ";", "<nl>", "<nl>", "list", "_", "del", "(", "&", "op", "-", ">", "list", ")", ";", "<nl>", "+", "synchronize", "_", "rcu", "(", ")", ";", "<nl>", "bcm", "_", "remove", "_", "op", "(", "op", ")", ";", "<nl>", "return", "1", ";", "/", "*", "done", "*", "/", "<nl>", "}", "<nl>", "static", "int", "bcm", "_", "release", "(", "struct", "socket", "*", "sock", ")", "<nl>", "REGMASK", "(", "op", "-", ">", "can", "_", "id", ")", ",", "<nl>", "bcm", "_", "rx", "_", "handler", ",", "op", ")", ";", "<nl>", "<nl>", "-", "bcm", "_", "remove", "_", "op", "(", "op", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "synchronize", "_", "rcu", "(", ")", ";", "<nl>", "+", "<nl>", "+", "list", "_", "for", "_", "each", "_", "entry", "_", "safe", "(", "op", ",", "next", ",", "&", "bo", "-", ">", "rx", "_", "ops", ",", "list", ")", "<nl>", "+", "bcm", "_", "remove", "_", "op", "(", "op", ")", ";", "<nl>", "+", "<nl>", "#", "if", "IS", "_", "ENABLED", "(", "CONFIG", "_", "PROC", "_", "FS", ")", "<nl>", "/", "*", "remove", "procfs", "entry", "*", "/", "<nl>", "if", "(", "net", "-", ">", "can", ".", "bcmproc", "_", "dir", "&", "&", "bo", "-", ">", "bcm", "_", "proc", "_", "read", ")", "<nl>"], "docstring_tokens": ["can", "bcm", "delay", "release", "of", "struct", "bcm_op", "after", "synchronize_rcu"]}
{"code_tokens": ["static", "int", "cs", "_", "etm", "_", "_", "sample", "(", "struct", "cs", "_", "etm", "_", "queue", "*", "etmq", ")", "<nl>", "static", "int", "cs", "_", "etm", "_", "_", "flush", "(", "struct", "cs", "_", "etm", "_", "queue", "*", "etmq", ")", "<nl>", "{", "<nl>", "int", "err", "=", "0", ";", "<nl>", "+", "struct", "cs", "_", "etm", "_", "auxtrace", "*", "etm", "=", "etmq", "-", ">", "etm", ";", "<nl>", "struct", "cs", "_", "etm", "_", "packet", "*", "tmp", ";", "<nl>", "<nl>", "if", "(", "!", "etmq", "-", ">", "prev", "_", "packet", ")", "<nl>", "static", "int", "cs", "_", "etm", "_", "_", "flush", "(", "struct", "cs", "_", "etm", "_", "queue", "*", "etmq", ")", "<nl>", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "etm", "-", ">", "sample", "_", "branches", "&", "&", "<nl>", "+", "etmq", "-", ">", "prev", "_", "packet", "-", ">", "sample", "_", "type", "=", "=", "CS", "_", "ETM", "_", "RANGE", ")", "{", "<nl>", "+", "err", "=", "cs", "_", "etm", "_", "_", "synth", "_", "branch", "_", "sample", "(", "etmq", ")", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "return", "err", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "swap", "_", "packet", ":", "<nl>", "if", "(", "etmq", "-", ">", "etm", "-", ">", "synth", "_", "opts", ".", "last", "_", "branch", ")", "{", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["perf", "cs", "etm", "Generate", "branch", "sample", "when", "receiving", "a", "CS_ETM_TRACE_ON", "packet"]}
{"code_tokens": ["int", "arizona", "_", "out", "_", "ev", "(", "struct", "snd", "_", "soc", "_", "dapm", "_", "widget", "*", "w", ",", "<nl>", "case", "ARIZONA", "_", "OUT3R", "_", "ENA", "_", "SHIFT", ":", "<nl>", "priv", "-", ">", "out", "_", "up", "_", "pending", "-", "-", ";", "<nl>", "if", "(", "!", "priv", "-", ">", "out", "_", "up", "_", "pending", ")", "{", "<nl>", "+", "dev", "_", "dbg", "(", "codec", "-", ">", "dev", ",", "\"", "Power", "up", "delay", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "+", "priv", "-", ">", "out", "_", "up", "_", "delay", ")", ";", "<nl>", "msleep", "(", "priv", "-", ">", "out", "_", "up", "_", "delay", ")", ";", "<nl>", "priv", "-", ">", "out", "_", "up", "_", "delay", "=", "0", ";", "<nl>", "}", "<nl>", "int", "arizona", "_", "out", "_", "ev", "(", "struct", "snd", "_", "soc", "_", "dapm", "_", "widget", "*", "w", ",", "<nl>", "case", "ARIZONA", "_", "OUT3R", "_", "ENA", "_", "SHIFT", ":", "<nl>", "priv", "-", ">", "out", "_", "down", "_", "pending", "-", "-", ";", "<nl>", "if", "(", "!", "priv", "-", ">", "out", "_", "down", "_", "pending", ")", "{", "<nl>", "+", "dev", "_", "dbg", "(", "codec", "-", ">", "dev", ",", "\"", "Power", "down", "delay", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "+", "priv", "-", ">", "out", "_", "down", "_", "delay", ")", ";", "<nl>", "msleep", "(", "priv", "-", ">", "out", "_", "down", "_", "delay", ")", ";", "<nl>", "priv", "-", ">", "out", "_", "down", "_", "delay", "=", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "arizona", "Add", "debug", "prints", "for", "output", "power", "up", "down", "times"]}
{"code_tokens": ["static", "int", "u3", "_", "ht", "_", "read", "_", "config", "(", "struct", "pci", "_", "bus", "*", "bus", ",", "unsigned", "int", "devfn", ",", "<nl>", "if", "(", "hose", "=", "=", "NULL", ")", "<nl>", "return", "PCIBIOS", "_", "DEVICE", "_", "NOT", "_", "FOUND", ";", "<nl>", "<nl>", "+", "if", "(", "offset", ">", "0xff", ")", "<nl>", "+", "return", "PCIBIOS", "_", "BAD", "_", "REGISTER", "_", "NUMBER", ";", "<nl>", "+", "<nl>", "addr", "=", "u3", "_", "ht", "_", "cfg", "_", "access", "(", "hose", ",", "bus", "-", ">", "number", ",", "devfn", ",", "offset", ")", ";", "<nl>", "if", "(", "!", "addr", ")", "<nl>", "return", "PCIBIOS", "_", "DEVICE", "_", "NOT", "_", "FOUND", ";", "<nl>", "static", "int", "u3", "_", "ht", "_", "write", "_", "config", "(", "struct", "pci", "_", "bus", "*", "bus", ",", "unsigned", "int", "devfn", ",", "<nl>", "if", "(", "hose", "=", "=", "NULL", ")", "<nl>", "return", "PCIBIOS", "_", "DEVICE", "_", "NOT", "_", "FOUND", ";", "<nl>", "<nl>", "+", "if", "(", "offset", ">", "0xff", ")", "<nl>", "+", "return", "PCIBIOS", "_", "BAD", "_", "REGISTER", "_", "NUMBER", ";", "<nl>", "+", "<nl>", "addr", "=", "u3", "_", "ht", "_", "cfg", "_", "access", "(", "hose", ",", "bus", "-", ">", "number", ",", "devfn", ",", "offset", ")", ";", "<nl>", "if", "(", "!", "addr", ")", "<nl>", "return", "PCIBIOS", "_", "DEVICE", "_", "NOT", "_", "FOUND", ";", "<nl>"], "docstring_tokens": ["POWERPC", "Maple", "U3", "HT", "reject", "inappropriate", "config", "space", "access"]}
{"code_tokens": ["static", "int", "validate", "_", "user", "_", "key", "(", "struct", "fscrypt", "_", "info", "*", "crypt", "_", "info", ",", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "ukp", "=", "user", "_", "key", "_", "payload", "_", "locked", "(", "keyring", "_", "key", ")", ";", "<nl>", "+", "if", "(", "!", "ukp", ")", "{", "<nl>", "+", "/", "*", "key", "was", "revoked", "before", "we", "acquired", "its", "semaphore", "*", "/", "<nl>", "+", "res", "=", "-", "EKEYREVOKED", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "if", "(", "ukp", "-", ">", "datalen", "!", "=", "sizeof", "(", "struct", "fscrypt", "_", "key", ")", ")", "{", "<nl>", "res", "=", "-", "EINVAL", ";", "<nl>", "goto", "out", ";", "<nl>"], "docstring_tokens": ["fscrypt", "fix", "dereference", "of", "NULL", "user_key_payload"]}
{"code_tokens": ["extern", "int", "of", "_", "irq", "_", "parse", "_", "one", "(", "struct", "device", "_", "node", "*", "device", ",", "int", "index", ",", "<nl>", "extern", "unsigned", "int", "irq", "_", "create", "_", "of", "_", "mapping", "(", "struct", "of", "_", "phandle", "_", "args", "*", "irq", "_", "data", ")", ";", "<nl>", "extern", "int", "of", "_", "irq", "_", "to", "_", "resource", "(", "struct", "device", "_", "node", "*", "dev", ",", "int", "index", ",", "<nl>", "struct", "resource", "*", "r", ")", ";", "<nl>", "-", "extern", "int", "of", "_", "irq", "_", "to", "_", "resource", "_", "table", "(", "struct", "device", "_", "node", "*", "dev", ",", "<nl>", "-", "struct", "resource", "*", "res", ",", "int", "nr", "_", "irqs", ")", ";", "<nl>", "<nl>", "extern", "void", "of", "_", "irq", "_", "init", "(", "const", "struct", "of", "_", "device", "_", "id", "*", "matches", ")", ";", "<nl>", "<nl>", "extern", "void", "of", "_", "irq", "_", "init", "(", "const", "struct", "of", "_", "device", "_", "id", "*", "matches", ")", ";", "<nl>", "extern", "int", "of", "_", "irq", "_", "count", "(", "struct", "device", "_", "node", "*", "dev", ")", ";", "<nl>", "extern", "int", "of", "_", "irq", "_", "get", "(", "struct", "device", "_", "node", "*", "dev", ",", "int", "index", ")", ";", "<nl>", "extern", "int", "of", "_", "irq", "_", "get", "_", "byname", "(", "struct", "device", "_", "node", "*", "dev", ",", "const", "char", "*", "name", ")", ";", "<nl>", "+", "extern", "int", "of", "_", "irq", "_", "to", "_", "resource", "_", "table", "(", "struct", "device", "_", "node", "*", "dev", ",", "<nl>", "+", "struct", "resource", "*", "res", ",", "int", "nr", "_", "irqs", ")", ";", "<nl>", "#", "else", "<nl>", "static", "inline", "int", "of", "_", "irq", "_", "count", "(", "struct", "device", "_", "node", "*", "dev", ")", "<nl>", "{", "<nl>", "static", "inline", "int", "of", "_", "irq", "_", "get", "_", "byname", "(", "struct", "device", "_", "node", "*", "dev", ",", "const", "char", "*", "name", ")", "<nl>", "{", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "+", "static", "inline", "int", "of", "_", "irq", "_", "to", "_", "resource", "_", "table", "(", "struct", "device", "_", "node", "*", "dev", ",", "<nl>", "+", "struct", "resource", "*", "res", ",", "int", "nr", "_", "irqs", ")", "<nl>", "+", "{", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "#", "if", "defined", "(", "CONFIG", "_", "OF", ")", "<nl>"], "docstring_tokens": ["of", "Add", "dummy", "of_irq_to_resource_table", "for", "IRQ_OF", "n"]}
{"code_tokens": ["int", "vt", "_", "ioctl", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "struct", "file", "*", "file", ",", "<nl>", "if", "(", "ret", ")", "<nl>", "break", ";", "<nl>", "/", "*", "Commence", "switch", "and", "lock", "*", "/", "<nl>", "-", "set", "_", "console", "(", "arg", ")", ";", "<nl>", "+", "set", "_", "console", "(", "vsa", ".", "console", ")", ";", "<nl>", "}", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["tty", "vt", "fix", "VT_SETACTIVATE", "console", "switch"]}
{"code_tokens": ["static", "int", "sci", "_", "init", "_", "clocks", "(", "struct", "sci", "_", "port", "*", "sci", "_", "port", ",", "struct", "device", "*", "dev", ")", "<nl>", "dev", "_", "dbg", "(", "dev", ",", "\"", "failed", "to", "get", "%", "s", "(", "%", "ld", ")", "\\", "n", "\"", ",", "clk", "_", "names", "[", "i", "]", ",", "<nl>", "PTR", "_", "ERR", "(", "clk", ")", ")", ";", "<nl>", "else", "<nl>", "-", "dev", "_", "dbg", "(", "dev", ",", "\"", "clk", "%", "s", "is", "%", "pC", "rate", "%", "pCr", "\\", "n", "\"", ",", "clk", "_", "names", "[", "i", "]", ",", "<nl>", "-", "clk", ",", "clk", ")", ";", "<nl>", "+", "dev", "_", "dbg", "(", "dev", ",", "\"", "clk", "%", "s", "is", "%", "pC", "rate", "%", "lu", "\\", "n", "\"", ",", "clk", "_", "names", "[", "i", "]", ",", "<nl>", "+", "clk", ",", "clk", "_", "get", "_", "rate", "(", "clk", ")", ")", ";", "<nl>", "sci", "_", "port", "-", ">", "clks", "[", "i", "]", "=", "IS", "_", "ERR", "(", "clk", ")", "?", "NULL", ":", "clk", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["serial", "sh", "sci", "Stop", "using", "printk", "format", "pCr"]}
{"code_tokens": ["static", "int", "disable", "_", "periodic", "(", "struct", "ehci", "_", "hcd", "*", "ehci", ")", "<nl>", "ehci", "_", "writel", "(", "ehci", ",", "cmd", ",", "&", "ehci", "-", ">", "regs", "-", ">", "command", ")", ";", "<nl>", "/", "*", "posted", "write", ".", ".", ".", "*", "/", "<nl>", "<nl>", "+", "free", "_", "cached", "_", "itd", "_", "list", "(", "ehci", ")", ";", "<nl>", "+", "<nl>", "ehci", "-", ">", "next", "_", "uframe", "=", "-", "1", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["USB", "ehci", "add", "call", "of", "free_cached_itd_list", "function", "in", "disable_periodic"]}
{"code_tokens": ["static", "const", "struct", "kernel", "_", "symbol", "*", "resolve", "_", "symbol", "(", "struct", "module", "*", "mod", ",", "<nl>", "const", "unsigned", "long", "*", "crc", ";", "<nl>", "int", "err", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "The", "module", "_", "mutex", "should", "not", "be", "a", "heavily", "contended", "lock", ";", "<nl>", "+", "*", "if", "we", "get", "the", "occasional", "sleep", "here", ",", "we", "'", "ll", "go", "an", "extra", "iteration", "<nl>", "+", "*", "in", "the", "wait", "_", "event", "_", "interruptible", "(", ")", ",", "which", "is", "harmless", ".", "<nl>", "+", "*", "/", "<nl>", "+", "sched", "_", "annotate", "_", "sleep", "(", ")", ";", "<nl>", "mutex", "_", "lock", "(", "&", "module", "_", "mutex", ")", ";", "<nl>", "sym", "=", "find", "_", "symbol", "(", "name", ",", "&", "owner", ",", "&", "crc", ",", "<nl>", "!", "(", "mod", "-", ">", "taints", "&", "(", "1", "<", "<", "TAINT", "_", "PROPRIETARY", "_", "MODULE", ")", ")", ",", "true", ")", ";", "<nl>"], "docstring_tokens": ["module", "Annotate", "nested", "sleep", "in", "resolve_symbol"]}
{"code_tokens": ["int", "_", "_", "req", "_", "mod", "(", "struct", "drbd", "_", "request", "*", "req", ",", "enum", "drbd", "_", "req", "_", "event", "what", ",", "<nl>", "_", "req", "_", "may", "_", "be", "_", "done", "(", "req", ",", "m", ")", ";", "/", "*", "Allowed", "while", "state", ".", "susp", "*", "/", "<nl>", "break", ";", "<nl>", "<nl>", "-", "case", "write", "_", "acked", "_", "by", "_", "peer", "_", "and", "_", "sis", ":", "<nl>", "-", "req", "-", ">", "rq", "_", "state", "|", "=", "RQ", "_", "NET", "_", "SIS", ";", "<nl>", "case", "conflict", "_", "discarded", "_", "by", "_", "peer", ":", "<nl>", "/", "*", "for", "discarded", "conflicting", "writes", "of", "multiple", "primaries", ",", "<nl>", "*", "there", "is", "no", "need", "to", "keep", "anything", "in", "the", "tl", ",", "potential", "<nl>", "int", "_", "_", "req", "_", "mod", "(", "struct", "drbd", "_", "request", "*", "req", ",", "enum", "drbd", "_", "req", "_", "event", "what", ",", "<nl>", "(", "unsigned", "long", "long", ")", "req", "-", ">", "sector", ",", "req", "-", ">", "size", ")", ";", "<nl>", "req", "-", ">", "rq", "_", "state", "|", "=", "RQ", "_", "NET", "_", "DONE", ";", "<nl>", "/", "*", "fall", "through", "*", "/", "<nl>", "+", "case", "write", "_", "acked", "_", "by", "_", "peer", "_", "and", "_", "sis", ":", "<nl>", "case", "write", "_", "acked", "_", "by", "_", "peer", ":", "<nl>", "+", "if", "(", "what", "=", "=", "write", "_", "acked", "_", "by", "_", "peer", "_", "and", "_", "sis", ")", "<nl>", "+", "req", "-", ">", "rq", "_", "state", "|", "=", "RQ", "_", "NET", "_", "SIS", ";", "<nl>", "/", "*", "protocol", "C", ";", "successfully", "written", "on", "peer", ".", "<nl>", "-", "*", "Nothing", "to", "do", "here", ".", "<nl>", "+", "*", "Nothing", "more", "to", "do", "here", ".", "<nl>", "*", "We", "want", "to", "keep", "the", "tl", "in", "place", "for", "all", "protocols", ",", "to", "cater", "<nl>", "-", "*", "for", "volatile", "write", "-", "back", "caches", "on", "lower", "level", "devices", ".", "<nl>", "-", "*", "<nl>", "-", "*", "A", "barrier", "request", "is", "expected", "to", "have", "forced", "all", "prior", "<nl>", "-", "*", "requests", "onto", "stable", "storage", ",", "so", "completion", "of", "a", "barrier", "<nl>", "-", "*", "request", "could", "set", "NET", "_", "DONE", "right", "here", ",", "and", "not", "wait", "for", "the", "<nl>", "-", "*", "P", "_", "BARRIER", "_", "ACK", ",", "but", "that", "is", "an", "unnecessary", "optimization", ".", "*", "/", "<nl>", "+", "*", "for", "volatile", "write", "-", "back", "caches", "on", "lower", "level", "devices", ".", "*", "/", "<nl>", "<nl>", "-", "/", "*", "this", "makes", "it", "effectively", "the", "same", "as", "for", ":", "*", "/", "<nl>", "case", "recv", "_", "acked", "_", "by", "_", "peer", ":", "<nl>", "/", "*", "protocol", "B", ";", "pretends", "to", "be", "successfully", "written", "on", "peer", ".", "<nl>", "*", "see", "also", "notes", "above", "in", "handed", "_", "over", "_", "to", "_", "network", "about", "<nl>"], "docstring_tokens": ["drbd", "fix", "WRITE_ACKED_BY_PEER_AND_SIS", "to", "not", "set", "RQ_NET_DONE"]}
{"code_tokens": ["static", "int", "vnt", "_", "tx", "_", "packet", "(", "struct", "vnt", "_", "private", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "if", "(", "dma", "_", "idx", "=", "=", "TYPE", "_", "AC0DMA", ")", "<nl>", "head", "_", "td", "-", ">", "pTDInfo", "-", ">", "byFlags", "=", "TD", "_", "FLAGS", "_", "NETIF", "_", "SKB", ";", "<nl>", "<nl>", "-", "priv", "-", ">", "iTDUsed", "[", "dma", "_", "idx", "]", "+", "+", ";", "<nl>", "-", "<nl>", "-", "/", "*", "Take", "ownership", "*", "/", "<nl>", "-", "wmb", "(", ")", ";", "<nl>", "-", "head", "_", "td", "-", ">", "m", "_", "td0TD0", ".", "f1Owner", "=", "OWNED", "_", "BY", "_", "NIC", ";", "<nl>", "-", "<nl>", "-", "/", "*", "get", "Next", "*", "/", "<nl>", "-", "wmb", "(", ")", ";", "<nl>", "priv", "-", ">", "apCurrTD", "[", "dma", "_", "idx", "]", "=", "head", "_", "td", "-", ">", "next", ";", "<nl>", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "priv", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "static", "int", "vnt", "_", "tx", "_", "packet", "(", "struct", "vnt", "_", "private", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "<nl>", "head", "_", "td", "-", ">", "buff", "_", "addr", "=", "cpu", "_", "to", "_", "le32", "(", "head", "_", "td", "-", ">", "pTDInfo", "-", ">", "skb", "_", "dma", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Poll", "Transmit", "the", "adapter", "*", "/", "<nl>", "+", "wmb", "(", ")", ";", "<nl>", "+", "head", "_", "td", "-", ">", "m", "_", "td0TD0", ".", "f1Owner", "=", "OWNED", "_", "BY", "_", "NIC", ";", "<nl>", "+", "wmb", "(", ")", ";", "/", "*", "second", "memory", "barrier", "*", "/", "<nl>", "+", "<nl>", "if", "(", "head", "_", "td", "-", ">", "pTDInfo", "-", ">", "byFlags", "&", "TD", "_", "FLAGS", "_", "NETIF", "_", "SKB", ")", "<nl>", "MACvTransmitAC0", "(", "priv", "-", ">", "PortOffset", ")", ";", "<nl>", "else", "<nl>", "MACvTransmit0", "(", "priv", "-", ">", "PortOffset", ")", ";", "<nl>", "<nl>", "+", "priv", "-", ">", "iTDUsed", "[", "dma", "_", "idx", "]", "+", "+", ";", "<nl>", "+", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "priv", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["staging", "vt6655", "vnt_tx_packet", "Correct", "TX", "order", "of", "OWNED_BY_NIC"]}
{"code_tokens": ["static", "_", "_", "inline", "_", "_", "int", "scm", "_", "check", "_", "creds", "(", "struct", "ucred", "*", "creds", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "if", "(", "(", "creds", "-", ">", "pid", "=", "=", "task", "_", "tgid", "_", "vnr", "(", "current", ")", "|", "|", "<nl>", "-", "ns", "_", "capable", "(", "current", "-", ">", "nsproxy", "-", ">", "pid", "_", "ns", "-", ">", "user", "_", "ns", ",", "CAP", "_", "SYS", "_", "ADMIN", ")", ")", "&", "&", "<nl>", "+", "ns", "_", "capable", "(", "task", "_", "active", "_", "pid", "_", "ns", "(", "current", ")", "-", ">", "user", "_", "ns", ",", "CAP", "_", "SYS", "_", "ADMIN", ")", ")", "&", "&", "<nl>", "(", "(", "uid", "_", "eq", "(", "uid", ",", "cred", "-", ">", "uid", ")", "|", "|", "uid", "_", "eq", "(", "uid", ",", "cred", "-", ">", "euid", ")", "|", "|", "<nl>", "uid", "_", "eq", "(", "uid", ",", "cred", "-", ">", "suid", ")", ")", "|", "|", "nsown", "_", "capable", "(", "CAP", "_", "SETUID", ")", ")", "&", "&", "<nl>", "(", "(", "gid", "_", "eq", "(", "gid", ",", "cred", "-", ">", "gid", ")", "|", "|", "gid", "_", "eq", "(", "gid", ",", "cred", "-", ">", "egid", ")", "|", "|", "<nl>"], "docstring_tokens": ["net", "Check", "the", "correct", "namespace", "when", "spoofing", "pid", "over", "SCM_RIGHTS"]}
{"code_tokens": ["void", "autofs4", "_", "catatonic", "_", "mode", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ")", "<nl>", "mutex", "_", "unlock", "(", "&", "sbi", "-", ">", "wq", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "int", "autofs4", "_", "write", "(", "struct", "file", "*", "file", ",", "const", "void", "*", "addr", ",", "int", "bytes", ")", "<nl>", "+", "static", "int", "autofs4", "_", "write", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "+", "struct", "file", "*", "file", ",", "const", "void", "*", "addr", ",", "int", "bytes", ")", "<nl>", "{", "<nl>", "unsigned", "long", "sigpipe", ",", "flags", ";", "<nl>", "mm", "_", "segment", "_", "t", "fs", ";", "<nl>", "const", "char", "*", "data", "=", "(", "const", "char", "*", ")", "addr", ";", "<nl>", "ssize", "_", "t", "wr", "=", "0", ";", "<nl>", "<nl>", "-", "/", "*", "*", "WARNING", ":", "this", "is", "not", "safe", "for", "writing", "more", "than", "PIPE", "_", "BUF", "bytes", "!", "*", "*", "/", "<nl>", "-", "<nl>", "sigpipe", "=", "sigismember", "(", "&", "current", "-", ">", "pending", ".", "signal", ",", "SIGPIPE", ")", ";", "<nl>", "<nl>", "/", "*", "Save", "pointer", "to", "user", "space", "and", "point", "back", "to", "kernel", "space", "*", "/", "<nl>", "fs", "=", "get", "_", "fs", "(", ")", ";", "<nl>", "set", "_", "fs", "(", "KERNEL", "_", "DS", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "sbi", "-", ">", "pipe", "_", "mutex", ")", ";", "<nl>", "while", "(", "bytes", "&", "&", "<nl>", "(", "wr", "=", "file", "-", ">", "f", "_", "op", "-", ">", "write", "(", "file", ",", "data", ",", "bytes", ",", "&", "file", "-", ">", "f", "_", "pos", ")", ")", ">", "0", ")", "{", "<nl>", "data", "+", "=", "wr", ";", "<nl>", "bytes", "-", "=", "wr", ";", "<nl>", "}", "<nl>", "+", "mutex", "_", "lock", "(", "&", "sbi", "-", ">", "pipe", "_", "mutex", ")", ";", "<nl>", "<nl>", "set", "_", "fs", "(", "fs", ")", ";", "<nl>", "<nl>", "static", "void", "autofs4", "_", "notify", "_", "daemon", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "<nl>", "mutex", "_", "unlock", "(", "&", "sbi", "-", ">", "wq", "_", "mutex", ")", ";", "<nl>", "<nl>", "-", "if", "(", "autofs4", "_", "write", "(", "pipe", ",", "&", "pkt", ",", "pktsz", ")", ")", "<nl>", "+", "if", "(", "autofs4", "_", "write", "(", "sbi", ",", "pipe", ",", "&", "pkt", ",", "pktsz", ")", ")", "<nl>", "autofs4", "_", "catatonic", "_", "mode", "(", "sbi", ")", ";", "<nl>", "fput", "(", "pipe", ")", ";", "<nl>", "}", "mmm", "fs", "/", "autofs4", "/", "inode", ".", "c", "<nl>", "void", "autofs4", "_", "catatonic", "_", "mode", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ")", "<nl>", "mutex", "_", "unlock", "(", "&", "sbi", "-", ">", "wq", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "int", "autofs4", "_", "write", "(", "struct", "file", "*", "file", ",", "const", "void", "*", "addr", ",", "int", "bytes", ")", "<nl>", "+", "static", "int", "autofs4", "_", "write", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "+", "struct", "file", "*", "file", ",", "const", "void", "*", "addr", ",", "int", "bytes", ")", "<nl>", "{", "<nl>", "unsigned", "long", "sigpipe", ",", "flags", ";", "<nl>", "mm", "_", "segment", "_", "t", "fs", ";", "<nl>", "const", "char", "*", "data", "=", "(", "const", "char", "*", ")", "addr", ";", "<nl>", "ssize", "_", "t", "wr", "=", "0", ";", "<nl>", "<nl>", "-", "/", "*", "*", "WARNING", ":", "this", "is", "not", "safe", "for", "writing", "more", "than", "PIPE", "_", "BUF", "bytes", "!", "*", "*", "/", "<nl>", "-", "<nl>", "sigpipe", "=", "sigismember", "(", "&", "current", "-", ">", "pending", ".", "signal", ",", "SIGPIPE", ")", ";", "<nl>", "<nl>", "/", "*", "Save", "pointer", "to", "user", "space", "and", "point", "back", "to", "kernel", "space", "*", "/", "<nl>", "fs", "=", "get", "_", "fs", "(", ")", ";", "<nl>", "set", "_", "fs", "(", "KERNEL", "_", "DS", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "sbi", "-", ">", "pipe", "_", "mutex", ")", ";", "<nl>", "while", "(", "bytes", "&", "&", "<nl>", "(", "wr", "=", "file", "-", ">", "f", "_", "op", "-", ">", "write", "(", "file", ",", "data", ",", "bytes", ",", "&", "file", "-", ">", "f", "_", "pos", ")", ")", ">", "0", ")", "{", "<nl>", "data", "+", "=", "wr", ";", "<nl>", "bytes", "-", "=", "wr", ";", "<nl>", "}", "<nl>", "+", "mutex", "_", "lock", "(", "&", "sbi", "-", ">", "pipe", "_", "mutex", ")", ";", "<nl>", "<nl>", "set", "_", "fs", "(", "fs", ")", ";", "<nl>", "<nl>", "static", "void", "autofs4", "_", "notify", "_", "daemon", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "<nl>", "mutex", "_", "unlock", "(", "&", "sbi", "-", ">", "wq", "_", "mutex", ")", ";", "<nl>", "<nl>", "-", "if", "(", "autofs4", "_", "write", "(", "pipe", ",", "&", "pkt", ",", "pktsz", ")", ")", "<nl>", "+", "if", "(", "autofs4", "_", "write", "(", "sbi", ",", "pipe", ",", "&", "pkt", ",", "pktsz", ")", ")", "<nl>", "autofs4", "_", "catatonic", "_", "mode", "(", "sbi", ")", ";", "<nl>", "fput", "(", "pipe", ")", ";", "<nl>", "}", "<nl>", "int", "autofs4", "_", "fill", "_", "super", "(", "struct", "super", "_", "block", "*", "s", ",", "void", "*", "data", ",", "int", "silent", ")", "<nl>", "sbi", "-", ">", "min", "_", "proto", "=", "0", ";", "<nl>", "sbi", "-", ">", "max", "_", "proto", "=", "0", ";", "<nl>", "mutex", "_", "init", "(", "&", "sbi", "-", ">", "wq", "_", "mutex", ")", ";", "<nl>", "+", "mutex", "_", "init", "(", "&", "sbi", "-", ">", "pipe", "_", "mutex", ")", ";", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "sbi", "-", ">", "fs", "_", "lock", ")", ";", "<nl>", "sbi", "-", ">", "queues", "=", "NULL", ";", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "sbi", "-", ">", "lookup", "_", "lock", ")", ";", "mmm", "fs", "/", "autofs4", "/", "autofs", "_", "i", ".", "h", "<nl>", "void", "autofs4", "_", "catatonic", "_", "mode", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ")", "<nl>", "mutex", "_", "unlock", "(", "&", "sbi", "-", ">", "wq", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "int", "autofs4", "_", "write", "(", "struct", "file", "*", "file", ",", "const", "void", "*", "addr", ",", "int", "bytes", ")", "<nl>", "+", "static", "int", "autofs4", "_", "write", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "+", "struct", "file", "*", "file", ",", "const", "void", "*", "addr", ",", "int", "bytes", ")", "<nl>", "{", "<nl>", "unsigned", "long", "sigpipe", ",", "flags", ";", "<nl>", "mm", "_", "segment", "_", "t", "fs", ";", "<nl>", "const", "char", "*", "data", "=", "(", "const", "char", "*", ")", "addr", ";", "<nl>", "ssize", "_", "t", "wr", "=", "0", ";", "<nl>", "<nl>", "-", "/", "*", "*", "WARNING", ":", "this", "is", "not", "safe", "for", "writing", "more", "than", "PIPE", "_", "BUF", "bytes", "!", "*", "*", "/", "<nl>", "-", "<nl>", "sigpipe", "=", "sigismember", "(", "&", "current", "-", ">", "pending", ".", "signal", ",", "SIGPIPE", ")", ";", "<nl>", "<nl>", "/", "*", "Save", "pointer", "to", "user", "space", "and", "point", "back", "to", "kernel", "space", "*", "/", "<nl>", "fs", "=", "get", "_", "fs", "(", ")", ";", "<nl>", "set", "_", "fs", "(", "KERNEL", "_", "DS", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "sbi", "-", ">", "pipe", "_", "mutex", ")", ";", "<nl>", "while", "(", "bytes", "&", "&", "<nl>", "(", "wr", "=", "file", "-", ">", "f", "_", "op", "-", ">", "write", "(", "file", ",", "data", ",", "bytes", ",", "&", "file", "-", ">", "f", "_", "pos", ")", ")", ">", "0", ")", "{", "<nl>", "data", "+", "=", "wr", ";", "<nl>", "bytes", "-", "=", "wr", ";", "<nl>", "}", "<nl>", "+", "mutex", "_", "lock", "(", "&", "sbi", "-", ">", "pipe", "_", "mutex", ")", ";", "<nl>", "<nl>", "set", "_", "fs", "(", "fs", ")", ";", "<nl>", "<nl>", "static", "void", "autofs4", "_", "notify", "_", "daemon", "(", "struct", "autofs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "<nl>", "mutex", "_", "unlock", "(", "&", "sbi", "-", ">", "wq", "_", "mutex", ")", ";", "<nl>", "<nl>", "-", "if", "(", "autofs4", "_", "write", "(", "pipe", ",", "&", "pkt", ",", "pktsz", ")", ")", "<nl>", "+", "if", "(", "autofs4", "_", "write", "(", "sbi", ",", "pipe", ",", "&", "pkt", ",", "pktsz", ")", ")", "<nl>", "autofs4", "_", "catatonic", "_", "mode", "(", "sbi", ")", ";", "<nl>", "fput", "(", "pipe", ")", ";", "<nl>", "}", "<nl>", "int", "autofs4", "_", "fill", "_", "super", "(", "struct", "super", "_", "block", "*", "s", ",", "void", "*", "data", ",", "int", "silent", ")", "<nl>", "sbi", "-", ">", "min", "_", "proto", "=", "0", ";", "<nl>", "sbi", "-", ">", "max", "_", "proto", "=", "0", ";", "<nl>", "mutex", "_", "init", "(", "&", "sbi", "-", ">", "wq", "_", "mutex", ")", ";", "<nl>", "+", "mutex", "_", "init", "(", "&", "sbi", "-", ">", "pipe", "_", "mutex", ")", ";", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "sbi", "-", ">", "fs", "_", "lock", ")", ";", "<nl>", "sbi", "-", ">", "queues", "=", "NULL", ";", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "sbi", "-", ">", "lookup", "_", "lock", ")", ";", "<nl>", "struct", "autofs", "_", "sb", "_", "info", "{", "<nl>", "int", "needs", "_", "reghost", ";", "<nl>", "struct", "super", "_", "block", "*", "sb", ";", "<nl>", "struct", "mutex", "wq", "_", "mutex", ";", "<nl>", "+", "struct", "mutex", "pipe", "_", "mutex", ";", "<nl>", "spinlock", "_", "t", "fs", "_", "lock", ";", "<nl>", "struct", "autofs", "_", "wait", "_", "queue", "*", "queues", ";", "/", "*", "Wait", "queue", "pointer", "*", "/", "<nl>", "spinlock", "_", "t", "lookup", "_", "lock", ";", "<nl>"], "docstring_tokens": ["autofs4", "deal", "with", "autofs4_write", "autofs4_write", "races"]}
{"code_tokens": ["static", "int", "_", "_", "netdev", "_", "upper", "_", "dev", "_", "link", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "if", "(", "_", "_", "netdev", "_", "find", "_", "adj", "(", "upper", "_", "dev", ",", "dev", ",", "&", "upper", "_", "dev", "-", ">", "all", "_", "adj", "_", "list", ".", "upper", ")", ")", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "<nl>", "-", "if", "(", "_", "_", "netdev", "_", "find", "_", "adj", "(", "dev", ",", "upper", "_", "dev", ",", "&", "dev", "-", ">", "all", "_", "adj", "_", "list", ".", "upper", ")", ")", "<nl>", "+", "if", "(", "_", "_", "netdev", "_", "find", "_", "adj", "(", "dev", ",", "upper", "_", "dev", ",", "&", "dev", "-", ">", "adj", "_", "list", ".", "upper", ")", ")", "<nl>", "return", "-", "EEXIST", ";", "<nl>", "<nl>", "if", "(", "master", "&", "&", "netdev", "_", "master", "_", "upper", "_", "dev", "_", "get", "(", "dev", ")", ")", "<nl>"], "docstring_tokens": ["net", "core", "Correct", "an", "over", "stringent", "device", "loop", "detection"]}
{"code_tokens": ["void", "_", "_", "aa", "_", "fs", "_", "profile", "_", "migrate", "_", "dents", "(", "struct", "aa", "_", "profile", "*", "old", ",", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "AAFS", "_", "PROF", "_", "SIZEOF", ";", "i", "+", "+", ")", "{", "<nl>", "new", "-", ">", "dents", "[", "i", "]", "=", "old", "-", ">", "dents", "[", "i", "]", ";", "<nl>", "+", "if", "(", "new", "-", ">", "dents", "[", "i", "]", ")", "<nl>", "+", "new", "-", ">", "dents", "[", "i", "]", "-", ">", "d", "_", "inode", "-", ">", "i", "_", "mtime", "=", "CURRENT", "_", "TIME", ";", "<nl>", "old", "-", ">", "dents", "[", "i", "]", "=", "NULL", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["apparmor", "fix", "update", "the", "mtime", "of", "the", "profile", "file", "on", "replacement"]}
{"code_tokens": ["static", "void", "mv", "_", "host", "_", "intr", "(", "struct", "ata", "_", "host", "_", "set", "*", "host", "_", "set", ",", "u32", "relevant", ",", "<nl>", "handled", "+", "+", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "ap", "&", "&", "<nl>", "-", "(", "ap", "-", ">", "flags", "&", "(", "ATA", "_", "FLAG", "_", "PORT", "_", "DISABLED", "|", "ATA", "_", "FLAG", "_", "NOINTR", ")", ")", ")", "<nl>", "+", "if", "(", "ap", "&", "&", "(", "ap", "-", ">", "flags", "&", "ATA", "_", "FLAG", "_", "PORT", "_", "DISABLED", ")", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "err", "_", "mask", "=", "ac", "_", "err", "_", "mask", "(", "ata", "_", "status", ")", ";", "<nl>", "static", "void", "mv", "_", "host", "_", "intr", "(", "struct", "ata", "_", "host", "_", "set", "*", "host", "_", "set", ",", "u32", "relevant", ",", "<nl>", "VPRINTK", "(", "\"", "port", "%", "u", "IRQ", "found", "for", "qc", ",", "\"", "<nl>", "\"", "ata", "_", "status", "0x", "%", "x", "\\", "n", "\"", ",", "port", ",", "ata", "_", "status", ")", ";", "<nl>", "/", "*", "mark", "qc", "status", "appropriately", "*", "/", "<nl>", "-", "if", "(", "!", "(", "qc", "-", ">", "tf", ".", "ctl", "&", "ATA", "_", "NIEN", ")", ")", "<nl>", "+", "if", "(", "!", "(", "qc", "-", ">", "tf", ".", "flags", "&", "ATA", "_", "TFLAG", "_", "POLLING", ")", ")", "<nl>", "ata", "_", "qc", "_", "complete", "(", "qc", ",", "err", "_", "mask", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["libata", "sata_mv", "IRQ", "PIO", "build", "fix"]}
{"code_tokens": ["static", "void", "nfs3", "_", "xdr", "_", "enc", "_", "setacl3args", "(", "struct", "rpc", "_", "rqst", "*", "req", ",", "<nl>", "if", "(", "args", "-", ">", "npages", "!", "=", "0", ")", "<nl>", "xdr", "_", "write", "_", "pages", "(", "xdr", ",", "args", "-", ">", "pages", ",", "0", ",", "args", "-", ">", "len", ")", ";", "<nl>", "else", "<nl>", "-", "xdr", "_", "reserve", "_", "space", "(", "xdr", ",", "NFS", "_", "ACL", "_", "INLINE", "_", "BUFSIZE", ")", ";", "<nl>", "+", "xdr", "_", "reserve", "_", "space", "(", "xdr", ",", "args", "-", ">", "len", ")", ";", "<nl>", "<nl>", "error", "=", "nfsacl", "_", "encode", "(", "xdr", "-", ">", "buf", ",", "base", ",", "args", "-", ">", "inode", ",", "<nl>", "(", "args", "-", ">", "mask", "&", "NFS", "_", "ACL", ")", "?", "<nl>"], "docstring_tokens": ["NFS", "Fix", "size", "of", "NFSACL", "SETACL", "operations"]}
{"code_tokens": ["void", "_", "_", "init", "init", "_", "cpu", "_", "features", "(", "struct", "cpuinfo", "_", "arm64", "*", "info", ")", "<nl>", "*", "Run", "the", "errata", "work", "around", "checks", "on", "the", "boot", "CPU", ",", "once", "we", "have", "<nl>", "*", "initialised", "the", "cpu", "feature", "infrastructure", ".", "<nl>", "*", "/", "<nl>", "-", "update", "_", "cpu", "_", "capabilities", "(", "arm64", "_", "errata", ",", "SCOPE", "_", "ALL", ",", "<nl>", "+", "update", "_", "cpu", "_", "capabilities", "(", "arm64", "_", "errata", ",", "SCOPE", "_", "LOCAL", "_", "CPU", ",", "<nl>", "\"", "enabling", "workaround", "for", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "check", "_", "local", "_", "cpu", "_", "capabilities", "(", "void", ")", "<nl>", "*", "advertised", "capabilities", ".", "<nl>", "*", "/", "<nl>", "if", "(", "!", "sys", "_", "caps", "_", "initialised", ")", "<nl>", "-", "update", "_", "cpu", "_", "capabilities", "(", "arm64", "_", "errata", ",", "SCOPE", "_", "ALL", ",", "<nl>", "+", "update", "_", "cpu", "_", "capabilities", "(", "arm64", "_", "errata", ",", "SCOPE", "_", "LOCAL", "_", "CPU", ",", "<nl>", "\"", "enabling", "workaround", "for", "\"", ")", ";", "<nl>", "else", "<nl>", "verify", "_", "local", "_", "cpu", "_", "capabilities", "(", ")", ";", "<nl>", "void", "_", "_", "init", "setup", "_", "cpu", "_", "features", "(", "void", ")", "<nl>", "<nl>", "/", "*", "Set", "the", "CPU", "feature", "capabilies", "*", "/", "<nl>", "update", "_", "cpu", "_", "capabilities", "(", "arm64", "_", "features", ",", "SCOPE", "_", "ALL", ",", "\"", "detected", ":", "\"", ")", ";", "<nl>", "+", "update", "_", "cpu", "_", "capabilities", "(", "arm64", "_", "errata", ",", "SCOPE", "_", "SYSTEM", ",", "<nl>", "+", "\"", "enabling", "workaround", "for", "\"", ")", ";", "<nl>", "enable", "_", "cpu", "_", "capabilities", "(", "arm64", "_", "features", ",", "SCOPE", "_", "ALL", ")", ";", "<nl>", "enable", "_", "cpu", "_", "capabilities", "(", "arm64", "_", "errata", ",", "SCOPE", "_", "ALL", ")", ";", "<nl>", "mark", "_", "const", "_", "caps", "_", "ready", "(", ")", ";", "<nl>"], "docstring_tokens": ["arm64", "capabilities", "Split", "the", "processing", "of", "errata", "work", "arounds"]}
{"code_tokens": ["static", "void", "run", "_", "init", "_", "process", "(", "const", "char", "*", "init", "_", "filename", ")", "<nl>", "kernel", "_", "execve", "(", "init", "_", "filename", ",", "argv", "_", "init", ",", "envp", "_", "init", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "This", "is", "a", "non", "_", "_", "init", "function", ".", "Force", "it", "to", "be", "noinline", "otherwise", "gcc", "<nl>", "-", "*", "makes", "it", "inline", "to", "init", "(", ")", "and", "it", "becomes", "part", "of", "init", ".", "text", "section", "<nl>", "-", "*", "/", "<nl>", "-", "static", "noinline", "int", "init", "_", "post", "(", "void", ")", "<nl>", "+", "static", "void", "_", "_", "init", "kernel", "_", "init", "_", "freeable", "(", "void", ")", ";", "<nl>", "+", "<nl>", "+", "static", "int", "_", "_", "ref", "kernel", "_", "init", "(", "void", "*", "unused", ")", "<nl>", "{", "<nl>", "+", "kernel", "_", "init", "_", "freeable", "(", ")", ";", "<nl>", "/", "*", "need", "to", "finish", "all", "async", "_", "_", "init", "code", "before", "freeing", "the", "memory", "*", "/", "<nl>", "async", "_", "synchronize", "_", "full", "(", ")", ";", "<nl>", "free", "_", "initmem", "(", ")", ";", "<nl>", "static", "noinline", "int", "init", "_", "post", "(", "void", ")", "<nl>", "\"", "See", "Linux", "Documentation", "/", "init", ".", "txt", "for", "guidance", ".", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "int", "_", "_", "init", "kernel", "_", "init", "(", "void", "*", "unused", ")", "<nl>", "+", "static", "void", "_", "_", "init", "kernel", "_", "init", "_", "freeable", "(", "void", ")", "<nl>", "{", "<nl>", "/", "*", "<nl>", "*", "Wait", "until", "kthreadd", "is", "all", "set", "-", "up", ".", "<nl>", "static", "int", "_", "_", "init", "kernel", "_", "init", "(", "void", "*", "unused", ")", "<nl>", "*", "we", "'", "re", "essentially", "up", "and", "running", ".", "Get", "rid", "of", "the", "<nl>", "*", "initmem", "segments", "and", "start", "the", "user", "-", "mode", "stuff", ".", ".", "<nl>", "*", "/", "<nl>", "-", "<nl>", "-", "init", "_", "post", "(", ")", ";", "<nl>", "-", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["make", "sure", "that", "we", "always", "have", "a", "return", "path", "from", "kernel_execve"]}
{"code_tokens": ["void", "iwl", "_", "mvm", "_", "rs", "_", "tx", "_", "status", "(", "struct", "iwl", "_", "mvm", "*", "mvm", ",", "struct", "ieee80211", "_", "sta", "*", "sta", ",", "<nl>", "*", "first", "index", "into", "rate", "scale", "table", ".", "<nl>", "*", "/", "<nl>", "if", "(", "info", "-", ">", "flags", "&", "IEEE80211", "_", "TX", "_", "STAT", "_", "AMPDU", ")", "{", "<nl>", "+", "/", "*", "ampdu", "_", "ack", "_", "len", "=", "0", "marks", "no", "BA", "was", "received", ".", "In", "this", "case", "<nl>", "+", "*", "treat", "it", "as", "a", "single", "frame", "loss", "as", "we", "don", "'", "t", "want", "the", "success", "<nl>", "+", "*", "ratio", "to", "dip", "too", "quickly", "because", "a", "BA", "wasn", "'", "t", "received", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "info", "-", ">", "status", ".", "ampdu", "_", "ack", "_", "len", "=", "=", "0", ")", "<nl>", "+", "info", "-", ">", "status", ".", "ampdu", "_", "len", "=", "1", ";", "<nl>", "+", "<nl>", "ucode", "_", "rate", "=", "le32", "_", "to", "_", "cpu", "(", "table", "-", ">", "rs", "_", "table", "[", "0", "]", ")", ";", "<nl>", "rs", "_", "rate", "_", "from", "_", "ucode", "_", "rate", "(", "ucode", "_", "rate", ",", "info", "-", ">", "band", ",", "&", "rate", ")", ";", "<nl>", "rs", "_", "collect", "_", "tx", "_", "data", "(", "lq", "_", "sta", ",", "curr", "_", "tbl", ",", "rate", ".", "index", ",", "<nl>"], "docstring_tokens": ["iwlwifi", "mvm", "rs", "consider", "a", "missing", "BA", "as", "a", "single", "tx", "failure"]}
{"code_tokens": ["static", "int", "_", "_", "tipc", "_", "sendmsg", "(", "struct", "socket", "*", "sock", ",", "struct", "msghdr", "*", "m", ",", "size", "_", "t", "dlen", ")", "<nl>", "msg", "_", "set", "_", "syn", "(", "hdr", ",", "1", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "memset", "(", "&", "skaddr", ",", "0", ",", "sizeof", "(", "skaddr", ")", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Determine", "destination", "*", "/", "<nl>", "if", "(", "atype", "=", "=", "TIPC", "_", "SERVICE", "_", "RANGE", ")", "{", "<nl>", "return", "tipc", "_", "sendmcast", "(", "sock", ",", "ua", ",", "m", ",", "dlen", ",", "timeout", ")", ";", "<nl>"], "docstring_tokens": ["net", "ticp", "fix", "a", "kernel", "infoleak", "in", "__tipc_sendmsg"]}
{"code_tokens": ["static", "int", "davinci", "_", "gpio", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "chips", "[", "i", "]", ".", "lock", ")", ";", "<nl>", "<nl>", "regs", "=", "gpio2regs", "(", "base", ")", ";", "<nl>", "+", "if", "(", "!", "regs", ")", "<nl>", "+", "return", "-", "ENXIO", ";", "<nl>", "chips", "[", "i", "]", ".", "regs", "=", "regs", ";", "<nl>", "chips", "[", "i", "]", ".", "set", "_", "data", "=", "&", "regs", "-", ">", "set", "_", "data", ";", "<nl>", "chips", "[", "i", "]", ".", "clr", "_", "data", "=", "&", "regs", "-", ">", "clr", "_", "data", ";", "<nl>"], "docstring_tokens": ["gpio", "davinci", "Fix", "possible", "NULL", "pointer", "deference"]}
{"code_tokens": ["static", "void", "bus", "_", "reset", "_", "work", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "{", "<nl>", "struct", "fw", "_", "ohci", "*", "ohci", "=", "<nl>", "container", "_", "of", "(", "work", ",", "struct", "fw", "_", "ohci", ",", "bus", "_", "reset", "_", "work", ")", ";", "<nl>", "-", "int", "self", "_", "id", "_", "count", ",", "i", ",", "j", ",", "reg", ";", "<nl>", "-", "int", "generation", ",", "new", "_", "generation", ";", "<nl>", "+", "int", "self", "_", "id", "_", "count", ",", "generation", ",", "new", "_", "generation", ",", "i", ",", "j", ";", "<nl>", "+", "u32", "reg", ";", "<nl>", "unsigned", "long", "flags", ";", "<nl>", "void", "*", "free", "_", "rom", "=", "NULL", ";", "<nl>", "dma", "_", "addr", "_", "t", "free", "_", "rom", "_", "bus", "=", "0", ";", "<nl>"], "docstring_tokens": ["firewire", "ohci", "correct", "signedness", "of", "a", "local", "variable"]}
{"code_tokens": ["struct", "pwm", "_", "device", "*", "pwm", "_", "get", "(", "struct", "device", "*", "dev", ",", "const", "char", "*", "con", "_", "id", ")", "<nl>", "unsigned", "int", "best", "=", "0", ";", "<nl>", "struct", "pwm", "_", "lookup", "*", "p", ";", "<nl>", "unsigned", "int", "match", ";", "<nl>", "+", "unsigned", "int", "period", ";", "<nl>", "+", "enum", "pwm", "_", "polarity", "polarity", ";", "<nl>", "<nl>", "/", "*", "look", "up", "via", "DT", "first", "*", "/", "<nl>", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "OF", ")", "&", "&", "dev", "&", "&", "dev", "-", ">", "of", "_", "node", ")", "<nl>", "struct", "pwm", "_", "device", "*", "pwm", "_", "get", "(", "struct", "device", "*", "dev", ",", "const", "char", "*", "con", "_", "id", ")", "<nl>", "if", "(", "match", ">", "best", ")", "{", "<nl>", "chip", "=", "pwmchip", "_", "find", "_", "by", "_", "name", "(", "p", "-", ">", "provider", ")", ";", "<nl>", "index", "=", "p", "-", ">", "index", ";", "<nl>", "+", "period", "=", "p", "-", ">", "period", ";", "<nl>", "+", "polarity", "=", "p", "-", ">", "polarity", ";", "<nl>", "<nl>", "if", "(", "match", "!", "=", "3", ")", "<nl>", "best", "=", "match", ";", "<nl>", "struct", "pwm", "_", "device", "*", "pwm", "_", "get", "(", "struct", "device", "*", "dev", ",", "const", "char", "*", "con", "_", "id", ")", "<nl>", "if", "(", "IS", "_", "ERR", "(", "pwm", ")", ")", "<nl>", "return", "pwm", ";", "<nl>", "<nl>", "-", "pwm", "_", "set", "_", "period", "(", "pwm", ",", "p", "-", ">", "period", ")", ";", "<nl>", "-", "pwm", "_", "set", "_", "polarity", "(", "pwm", ",", "p", "-", ">", "polarity", ")", ";", "<nl>", "+", "pwm", "_", "set", "_", "period", "(", "pwm", ",", "period", ")", ";", "<nl>", "+", "pwm", "_", "set", "_", "polarity", "(", "pwm", ",", "polarity", ")", ";", "<nl>", "<nl>", "<nl>", "return", "pwm", ";", "<nl>"], "docstring_tokens": ["pwm", "Fix", "period", "and", "polarity", "in", "pwm_get", "for", "non", "perfect", "matches"]}
{"code_tokens": ["static", "void", "nhmex", "_", "uncore", "_", "msr", "_", "enable", "_", "event", "(", "struct", "intel", "_", "uncore", "_", "box", "*", "box", ",", "struct", "p", "<nl>", "{", "<nl>", "struct", "hw", "_", "perf", "_", "event", "*", "hwc", "=", "&", "event", "-", ">", "hw", ";", "<nl>", "<nl>", "-", "if", "(", "hwc", "-", ">", "idx", ">", "=", "UNCORE", "_", "PMC", "_", "IDX", "_", "FIXED", ")", "<nl>", "+", "if", "(", "hwc", "-", ">", "idx", "=", "=", "UNCORE", "_", "PMC", "_", "IDX", "_", "FIXED", ")", "<nl>", "wrmsrl", "(", "hwc", "-", ">", "config", "_", "base", ",", "NHMEX", "_", "PMON", "_", "CTL", "_", "EN", "_", "BIT0", ")", ";", "<nl>", "else", "if", "(", "box", "-", ">", "pmu", "-", ">", "type", "-", ">", "event", "_", "mask", "&", "NHMEX", "_", "PMON", "_", "CTL", "_", "EN", "_", "BIT0", ")", "<nl>", "wrmsrl", "(", "hwc", "-", ">", "config", "_", "base", ",", "hwc", "-", ">", "config", "|", "NHMEX", "_", "PMON", "_", "CTL", "_", "EN", "_", "BIT22", ")", ";", "<nl>"], "docstring_tokens": ["perf", "x86", "intel", "uncore", "Correct", "fixed", "counter", "index", "check", "for", "NHM"]}
{"code_tokens": ["BPF", "_", "PROG", "_", "TYPE", "_", "FNS", "(", "tracepoint", ",", "BPF", "_", "PROG", "_", "TYPE", "_", "TRACEPOINT", ")", ";", "<nl>", "BPF", "_", "PROG", "_", "TYPE", "_", "FNS", "(", "xdp", ",", "BPF", "_", "PROG", "_", "TYPE", "_", "XDP", ")", ";", "<nl>", "BPF", "_", "PROG", "_", "TYPE", "_", "FNS", "(", "perf", "_", "event", ",", "BPF", "_", "PROG", "_", "TYPE", "_", "PERF", "_", "EVENT", ")", ";", "<nl>", "<nl>", "-", "#", "define", "BPF", "_", "PROG", "_", "SEC", "(", "string", ",", "type", ")", "{", "string", ",", "sizeof", "(", "string", ")", ",", "type", "}", "<nl>", "+", "#", "define", "BPF", "_", "PROG", "_", "SEC", "(", "string", ",", "type", ")", "{", "string", ",", "sizeof", "(", "string", ")", "-", "1", ",", "type", "}", "<nl>", "static", "const", "struct", "{", "<nl>", "const", "char", "*", "sec", ";", "<nl>", "size", "_", "t", "len", ";", "<nl>"], "docstring_tokens": ["libbpf", "fix", "string", "comparison", "for", "guessing", "eBPF", "program", "type"]}
{"code_tokens": ["static", "int", "io", "_", "files", "_", "update", "_", "with", "_", "index", "_", "alloc", "(", "struct", "io", "_", "kiocb", "*", "req", ",", "<nl>", "struct", "file", "*", "file", ";", "<nl>", "int", "ret", ",", "fd", ";", "<nl>", "<nl>", "+", "if", "(", "!", "req", "-", ">", "ctx", "-", ">", "file", "_", "data", ")", "<nl>", "+", "return", "-", "ENXIO", ";", "<nl>", "+", "<nl>", "for", "(", "done", "=", "0", ";", "done", "<", "req", "-", ">", "rsrc", "_", "update", ".", "nr", "_", "args", ";", "done", "+", "+", ")", "{", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "fd", ",", "&", "fds", "[", "done", "]", ",", "sizeof", "(", "fd", ")", ")", ")", "{", "<nl>", "ret", "=", "-", "EFAULT", ";", "<nl>"], "docstring_tokens": ["io_uring", "check", "that", "we", "have", "a", "file", "table", "when", "allocating", "update", "slots"]}
{"code_tokens": ["struct", "sta", "_", "info", "*", "sta", "_", "info", "_", "alloc", "(", "struct", "ieee80211", "_", "sub", "_", "if", "_", "data", "*", "sdata", ",", "<nl>", "if", "(", "sta", "-", ">", "sta", ".", "txq", "[", "0", "]", ")", "<nl>", "kfree", "(", "to", "_", "txq", "_", "info", "(", "sta", "-", ">", "sta", ".", "txq", "[", "0", "]", ")", ")", ";", "<nl>", "free", ":", "<nl>", "+", "free", "_", "percpu", "(", "sta", "-", ">", "pcpu", "_", "rx", "_", "stats", ")", ";", "<nl>", "#", "ifdef", "CONFIG", "_", "MAC80211", "_", "MESH", "<nl>", "kfree", "(", "sta", "-", ">", "mesh", ")", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["mac80211", "fix", "a", "possible", "leak", "of", "station", "stats"]}
{"code_tokens": ["verbose", "_", "printk", "(", "\"", "btrfs", ":", "send", "_", "create", "_", "inode", "%", "llu", "\\", "n", "\"", ",", "ino", ")", ";", "<nl>", "TLV", "_", "PUT", "_", "PATH", "(", "sctx", ",", "BTRFS", "_", "SEND", "_", "A", "_", "PATH", "_", "LINK", ",", "p", ")", ";", "<nl>", "}", "else", "if", "(", "S", "_", "ISCHR", "(", "mode", ")", "|", "|", "S", "_", "ISBLK", "(", "mode", ")", "|", "|", "<nl>", "S", "_", "ISFIFO", "(", "mode", ")", "|", "|", "S", "_", "ISSOCK", "(", "mode", ")", ")", "{", "<nl>", "-", "TLV", "_", "PUT", "_", "U64", "(", "sctx", ",", "BTRFS", "_", "SEND", "_", "A", "_", "RDEV", ",", "rdev", ")", ";", "<nl>", "+", "TLV", "_", "PUT", "_", "U64", "(", "sctx", ",", "BTRFS", "_", "SEND", "_", "A", "_", "RDEV", ",", "new", "_", "encode", "_", "dev", "(", "rdev", ")", ")", ";", "<nl>", "+", "TLV", "_", "PUT", "_", "U64", "(", "sctx", ",", "BTRFS", "_", "SEND", "_", "A", "_", "MODE", ",", "mode", ")", ";", "<nl>", "}", "<nl>", "<nl>", "ret", "=", "send", "_", "cmd", "(", "sctx", ")", ";", "<nl>"], "docstring_tokens": ["Btrfs", "send", "correct", "rdev", "and", "mode", "in", "btrfs", "send"]}
{"code_tokens": ["struct", "brnf", "_", "frag", "_", "data", "{", "<nl>", "char", "mac", "[", "NF", "_", "BRIDGE", "_", "MAX", "_", "MAC", "_", "HEADER", "_", "LENGTH", "]", ";", "<nl>", "u8", "encap", "_", "size", ";", "<nl>", "u8", "size", ";", "<nl>", "+", "u16", "vlan", "_", "tci", ";", "<nl>", "+", "_", "_", "be16", "vlan", "_", "proto", ";", "<nl>", "}", ";", "<nl>", "<nl>", "static", "DEFINE", "_", "PER", "_", "CPU", "(", "struct", "brnf", "_", "frag", "_", "data", ",", "brnf", "_", "frag", "_", "data", "_", "storage", ")", ";", "<nl>", "static", "int", "br", "_", "nf", "_", "push", "_", "frag", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "data", "-", ">", "vlan", "_", "tci", ")", "{", "<nl>", "+", "skb", "-", ">", "vlan", "_", "tci", "=", "data", "-", ">", "vlan", "_", "tci", ";", "<nl>", "+", "skb", "-", ">", "vlan", "_", "proto", "=", "data", "-", ">", "vlan", "_", "proto", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "skb", "_", "copy", "_", "to", "_", "linear", "_", "data", "_", "offset", "(", "skb", ",", "-", "data", "-", ">", "size", ",", "data", "-", ">", "mac", ",", "data", "-", ">", "size", ")", ";", "<nl>", "_", "_", "skb", "_", "push", "(", "skb", ",", "data", "-", ">", "encap", "_", "size", ")", ";", "<nl>", "<nl>", "static", "int", "br", "_", "nf", "_", "dev", "_", "queue", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "nf", "_", "bridge", "_", "update", "_", "protocol", "(", "skb", ")", ";", "<nl>", "<nl>", "data", "=", "this", "_", "cpu", "_", "ptr", "(", "&", "brnf", "_", "frag", "_", "data", "_", "storage", ")", ";", "<nl>", "+", "<nl>", "+", "data", "-", ">", "vlan", "_", "tci", "=", "skb", "-", ">", "vlan", "_", "tci", ";", "<nl>", "+", "data", "-", ">", "vlan", "_", "proto", "=", "skb", "-", ">", "vlan", "_", "proto", ";", "<nl>", "data", "-", ">", "encap", "_", "size", "=", "nf", "_", "bridge", "_", "encap", "_", "header", "_", "len", "(", "skb", ")", ";", "<nl>", "data", "-", ">", "size", "=", "ETH", "_", "HLEN", "+", "data", "-", ">", "encap", "_", "size", ";", "<nl>"], "docstring_tokens": ["netfilter", "bridge", "restore", "vlan", "tag", "when", "refragmenting"]}
{"code_tokens": ["int", "dss", "_", "mgr", "_", "enable", "(", "struct", "omap", "_", "overlay", "_", "manager", "*", "mgr", ")", "<nl>", "if", "(", "!", "mgr", "_", "manual", "_", "update", "(", "mgr", ")", ")", "<nl>", "mp", "-", ">", "updating", "=", "true", ";", "<nl>", "<nl>", "+", "if", "(", "!", "dss", "_", "data", ".", "irq", "_", "enabled", "&", "&", "need", "_", "isr", "(", ")", ")", "<nl>", "+", "dss", "_", "register", "_", "vsync", "_", "isr", "(", ")", ";", "<nl>", "+", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "data", "_", "lock", ",", "flags", ")", ";", "<nl>", "<nl>", "if", "(", "!", "mgr", "_", "manual", "_", "update", "(", "mgr", ")", ")", "<nl>"], "docstring_tokens": ["OMAPDSS", "fix", "registering", "the", "vsync", "isr", "in", "apply"]}
{"code_tokens": ["static", "void", "bat", "_", "iv", "_", "ogm", "_", "iface", "_", "enable", "(", "struct", "hard", "_", "iface", "*", "hard", "_", "iface", ")", "<nl>", "{", "<nl>", "struct", "batman", "_", "ogm", "_", "packet", "*", "batman", "_", "ogm", "_", "packet", ";", "<nl>", "+", "uint32", "_", "t", "random", "_", "seqno", ";", "<nl>", "+", "<nl>", "+", "/", "*", "randomize", "initial", "seqno", "to", "avoid", "collision", "*", "/", "<nl>", "+", "get", "_", "random", "_", "bytes", "(", "&", "random", "_", "seqno", ",", "sizeof", "(", "random", "_", "seqno", ")", ")", ";", "<nl>", "+", "atomic", "_", "set", "(", "&", "hard", "_", "iface", "-", ">", "seqno", ",", "random", "_", "seqno", ")", ";", "<nl>", "<nl>", "hard", "_", "iface", "-", ">", "packet", "_", "len", "=", "BATMAN", "_", "OGM", "_", "LEN", ";", "<nl>", "hard", "_", "iface", "-", ">", "packet", "_", "buff", "=", "kmalloc", "(", "hard", "_", "iface", "-", ">", "packet", "_", "len", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>"], "docstring_tokens": ["batman", "adv", "randomize", "initial", "seqno", "to", "avoid", "collision"]}
{"code_tokens": ["static", "struct", "saa7146", "_", "ext", "_", "vv", "av7110", "_", "vv", "_", "data", "_", "st", "=", "{", "<nl>", "static", "struct", "saa7146", "_", "ext", "_", "vv", "av7110", "_", "vv", "_", "data", "_", "c", "=", "{", "<nl>", ".", "inputs", "=", "1", ",", "<nl>", ".", "audios", "=", "1", ",", "<nl>", "-", ".", "capabilities", "=", "V4L2", "_", "CAP", "_", "TUNER", "|", "V4L2", "_", "CAP", "_", "VBI", "_", "CAPTURE", "|", "V4L2", "_", "CAP", "_", "SLICED", "_", "VBI", "_", "OUTPUT", ",", "<nl>", "+", ".", "capabilities", "=", "V4L2", "_", "CAP", "_", "TUNER", "|", "V4L2", "_", "CAP", "_", "SLICED", "_", "VBI", "_", "OUTPUT", ",", "<nl>", ".", "flags", "=", "SAA7146", "_", "USE", "_", "PORT", "_", "B", "_", "FOR", "_", "VBI", ",", "<nl>", "<nl>", ".", "stds", "=", "&", "standard", "[", "0", "]", ",", "<nl>"], "docstring_tokens": ["V4L", "DVB", "4631", "Av7110", "remove", "V4L2_CAP_VBI_CAPTURE", "flag"]}
{"code_tokens": ["static", "inline", "void", "chcr", "_", "handle", "_", "ahash", "_", "resp", "(", "struct", "ahash", "_", "request", "*", "req", ",", "<nl>", "<nl>", "if", "(", "input", "=", "=", "NULL", ")", "<nl>", "goto", "out", ";", "<nl>", "-", "reqctx", "=", "ahash", "_", "request", "_", "ctx", "(", "req", ")", ";", "<nl>", "digestsize", "=", "crypto", "_", "ahash", "_", "digestsize", "(", "crypto", "_", "ahash", "_", "reqtfm", "(", "req", ")", ")", ";", "<nl>", "if", "(", "reqctx", "-", ">", "is", "_", "sg", "_", "map", ")", "<nl>", "chcr", "_", "hash", "_", "dma", "_", "unmap", "(", "&", "u", "_", "ctx", "-", ">", "lldi", ".", "pdev", "-", ">", "dev", ",", "req", ")", ";", "<nl>", "static", "int", "chcr", "_", "aead", "_", "common", "_", "init", "(", "struct", "aead", "_", "request", "*", "req", ",", "<nl>", "struct", "chcr", "_", "aead", "_", "ctx", "*", "aeadctx", "=", "AEAD", "_", "CTX", "(", "a", "_", "ctx", "(", "tfm", ")", ")", ";", "<nl>", "struct", "chcr", "_", "aead", "_", "reqctx", "*", "reqctx", "=", "aead", "_", "request", "_", "ctx", "(", "req", ")", ";", "<nl>", "int", "error", "=", "-", "EINVAL", ";", "<nl>", "-", "unsigned", "int", "dst", "_", "size", ";", "<nl>", "unsigned", "int", "authsize", "=", "crypto", "_", "aead", "_", "authsize", "(", "tfm", ")", ";", "<nl>", "<nl>", "-", "dst", "_", "size", "=", "req", "-", ">", "assoclen", "+", "req", "-", ">", "cryptlen", "+", "(", "op", "_", "type", "?", "<nl>", "-", "-", "authsize", ":", "authsize", ")", ";", "<nl>", "/", "*", "validate", "key", "size", "*", "/", "<nl>", "if", "(", "aeadctx", "-", ">", "enckey", "_", "len", "=", "=", "0", ")", "<nl>", "goto", "err", ";", "<nl>"], "docstring_tokens": ["crypto", "chelsio", "remove", "redundant", "assignments", "to", "reqctx", "and", "dst_size"]}
{"code_tokens": ["struct", "team", "_", "port", "{", "<nl>", "s32", "priority", ";", "/", "*", "lower", "number", "~", "higher", "priority", "*", "/", "<nl>", "u16", "queue", "_", "id", ";", "<nl>", "struct", "list", "_", "head", "qom", "_", "list", ";", "/", "*", "node", "in", "queue", "override", "mapping", "list", "*", "/", "<nl>", "+", "struct", "rcu", "_", "head", "rcu", ";", "<nl>", "long", "mode", "_", "priv", "[", "0", "]", ";", "<nl>", "}", ";", "<nl>", "struct", "team", "_", "port", "{", "<nl>", "s32", "priority", ";", "/", "*", "lower", "number", "~", "higher", "priority", "*", "/", "<nl>", "u16", "queue", "_", "id", ";", "<nl>", "struct", "list", "_", "head", "qom", "_", "list", ";", "/", "*", "node", "in", "queue", "override", "mapping", "list", "*", "/", "<nl>", "+", "struct", "rcu", "_", "head", "rcu", ";", "<nl>", "long", "mode", "_", "priv", "[", "0", "]", ";", "<nl>", "}", ";", "<nl>", "<nl>", "static", "int", "team", "_", "port", "_", "del", "(", "struct", "team", "*", "team", ",", "struct", "net", "_", "device", "*", "port", "_", "dev", ")", "<nl>", "<nl>", "team", "_", "port", "_", "set", "_", "orig", "_", "dev", "_", "addr", "(", "port", ")", ";", "<nl>", "dev", "_", "set", "_", "mtu", "(", "port", "_", "dev", ",", "port", "-", ">", "orig", ".", "mtu", ")", ";", "<nl>", "-", "synchronize", "_", "rcu", "(", ")", ";", "<nl>", "-", "kfree", "(", "port", ")", ";", "<nl>", "+", "kfree", "_", "rcu", "(", "port", ",", "rcu", ")", ";", "<nl>", "netdev", "_", "info", "(", "dev", ",", "\"", "Port", "device", "%", "s", "removed", "\\", "n", "\"", ",", "portname", ")", ";", "<nl>", "_", "_", "team", "_", "compute", "_", "features", "(", "team", ")", ";", "<nl>"], "docstring_tokens": ["team", "use", "kfree_rcu", "instead", "of", "synchronize_rcu", "in", "team_port_dev"]}
{"code_tokens": ["static", "int", "create", "_", "queue", "_", "cpsch", "(", "struct", "device", "_", "queue", "_", "manager", "*", "dqm", ",", "struct", "queue", "*", "q", ",", "<nl>", "return", "retval", ";", "<nl>", "}", "<nl>", "<nl>", "-", "int", "fence", "_", "wait", "_", "timeout", "(", "unsigned", "int", "*", "fence", "_", "addr", ",", "unsigned", "int", "fence", "_", "value", ",", "<nl>", "-", "unsigned", "long", "timeout", ")", "<nl>", "+", "static", "int", "fence", "_", "wait", "_", "timeout", "(", "unsigned", "int", "*", "fence", "_", "addr", ",", "<nl>", "+", "unsigned", "int", "fence", "_", "value", ",", "<nl>", "+", "unsigned", "long", "timeout", ")", "<nl>", "{", "<nl>", "BUG", "_", "ON", "(", "!", "fence", "_", "addr", ")", ";", "<nl>", "timeout", "+", "=", "jiffies", ";", "<nl>"], "docstring_tokens": ["amdkfd", "fence_wait_timeout", "can", "be", "static"]}
{"code_tokens": ["int", "*", "load", "_", "mixer", "_", "volumes", "(", "char", "*", "name", ",", "int", "*", "levels", ",", "int", "present", ")", "<nl>", "int", "i", ",", "n", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "num", "_", "mixer", "_", "volumes", ";", "i", "+", "+", ")", "{", "<nl>", "-", "if", "(", "strcmp", "(", "name", ",", "mixer", "_", "vols", "[", "i", "]", ".", "name", ")", "=", "=", "0", ")", "{", "<nl>", "+", "if", "(", "strncmp", "(", "name", ",", "mixer", "_", "vols", "[", "i", "]", ".", "name", ",", "32", ")", "=", "=", "0", ")", "{", "<nl>", "if", "(", "present", ")", "<nl>", "mixer", "_", "vols", "[", "i", "]", ".", "num", "=", "i", ";", "<nl>", "return", "mixer", "_", "vols", "[", "i", "]", ".", "levels", ";", "<nl>", "int", "*", "load", "_", "mixer", "_", "volumes", "(", "char", "*", "name", ",", "int", "*", "levels", ",", "int", "present", ")", "<nl>", "}", "<nl>", "n", "=", "num", "_", "mixer", "_", "volumes", "+", "+", ";", "<nl>", "<nl>", "-", "strcpy", "(", "mixer", "_", "vols", "[", "n", "]", ".", "name", ",", "name", ")", ";", "<nl>", "+", "strncpy", "(", "mixer", "_", "vols", "[", "n", "]", ".", "name", ",", "name", ",", "32", ")", ";", "<nl>", "<nl>", "if", "(", "present", ")", "<nl>", "mixer", "_", "vols", "[", "n", "]", ".", "num", "=", "n", ";", "<nl>"], "docstring_tokens": ["sound", "Prevent", "buffer", "overflow", "in", "OSS", "load_mixer_volumes"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "snd", "_", "vt1724", "_", "read", "_", "eeprom", "(", "struct", "snd", "_", "ice1712", "*", "ice", ",", "<nl>", "static", "void", "_", "_", "devinit", "snd", "_", "vt1724", "_", "chip", "_", "reset", "(", "struct", "snd", "_", "ice1712", "*", "ice", ")", "<nl>", "{", "<nl>", "outb", "(", "VT1724", "_", "RESET", ",", "ICEREG1724", "(", "ice", ",", "CONTROL", ")", ")", ";", "<nl>", "+", "inb", "(", "ICEREG1724", "(", "ice", ",", "CONTROL", ")", ")", ";", "/", "*", "pci", "posting", "flush", "*", "/", "<nl>", "msleep", "(", "10", ")", ";", "<nl>", "outb", "(", "0", ",", "ICEREG1724", "(", "ice", ",", "CONTROL", ")", ")", ";", "<nl>", "+", "inb", "(", "ICEREG1724", "(", "ice", ",", "CONTROL", ")", ")", ";", "/", "*", "pci", "posting", "flush", "*", "/", "<nl>", "msleep", "(", "10", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "ice1724", "Add", "PCI", "postint", "to", "reset", "sequence"]}
{"code_tokens": ["static", "int", "get", "_", "rx", "_", "bufs", "(", "struct", "vhost", "_", "virtqueue", "*", "vq", ",", "<nl>", "*", "iovcount", "=", "seg", ";", "<nl>", "if", "(", "unlikely", "(", "log", ")", ")", "<nl>", "*", "log", "_", "num", "=", "nlogs", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Detect", "overrun", "*", "/", "<nl>", "+", "if", "(", "unlikely", "(", "datalen", ">", "0", ")", ")", "{", "<nl>", "+", "r", "=", "UIO", "_", "MAXIOV", "+", "1", ";", "<nl>", "+", "goto", "err", ";", "<nl>", "+", "}", "<nl>", "return", "headcount", ";", "<nl>", "err", ":", "<nl>", "vhost", "_", "discard", "_", "vq", "_", "desc", "(", "vq", ",", "headcount", ")", ";", "<nl>", "static", "void", "handle", "_", "rx", "(", "struct", "vhost", "_", "net", "*", "net", ")", "<nl>", "/", "*", "On", "error", ",", "stop", "handling", "until", "the", "next", "kick", ".", "*", "/", "<nl>", "if", "(", "unlikely", "(", "headcount", "<", "0", ")", ")", "<nl>", "break", ";", "<nl>", "+", "/", "*", "On", "overrun", ",", "truncate", "and", "discard", "*", "/", "<nl>", "+", "if", "(", "unlikely", "(", "headcount", ">", "UIO", "_", "MAXIOV", ")", ")", "{", "<nl>", "+", "msg", ".", "msg", "_", "iovlen", "=", "1", ";", "<nl>", "+", "err", "=", "sock", "-", ">", "ops", "-", ">", "recvmsg", "(", "NULL", ",", "sock", ",", "&", "msg", ",", "<nl>", "+", "1", ",", "MSG", "_", "DONTWAIT", "|", "MSG", "_", "TRUNC", ")", ";", "<nl>", "+", "pr", "_", "debug", "(", "\"", "Discarded", "rx", "packet", ":", "len", "%", "zd", "\\", "n", "\"", ",", "sock", "_", "len", ")", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "/", "*", "OK", ",", "now", "we", "need", "to", "know", "about", "added", "descriptors", ".", "*", "/", "<nl>", "if", "(", "!", "headcount", ")", "{", "<nl>", "if", "(", "unlikely", "(", "vhost", "_", "enable", "_", "notify", "(", "&", "net", "-", ">", "dev", ",", "vq", ")", ")", ")", "{", "<nl>"], "docstring_tokens": ["vhost", "fix", "total", "length", "when", "packets", "are", "too", "short"]}
{"code_tokens": ["static", "void", "gdm", "_", "usb", "_", "disconnect", "(", "struct", "usb", "_", "interface", "*", "intf", ")", "<nl>", "{", "<nl>", "struct", "phy", "_", "dev", "*", "phy", "_", "dev", ";", "<nl>", "struct", "lte", "_", "udev", "*", "udev", ";", "<nl>", "-", "u16", "idVendor", ",", "idProduct", ";", "<nl>", "struct", "usb", "_", "device", "*", "usbdev", ";", "<nl>", "<nl>", "usbdev", "=", "interface", "_", "to", "_", "usbdev", "(", "intf", ")", ";", "<nl>", "-", "<nl>", "-", "idVendor", "=", "_", "_", "le16", "_", "to", "_", "cpu", "(", "usbdev", "-", ">", "descriptor", ".", "idVendor", ")", ";", "<nl>", "-", "idProduct", "=", "_", "_", "le16", "_", "to", "_", "cpu", "(", "usbdev", "-", ">", "descriptor", ".", "idProduct", ")", ";", "<nl>", "-", "<nl>", "phy", "_", "dev", "=", "usb", "_", "get", "_", "intfdata", "(", "intf", ")", ";", "<nl>", "<nl>", "udev", "=", "phy", "_", "dev", "-", ">", "priv", "_", "dev", ";", "<nl>"], "docstring_tokens": ["staging", "gdm724x", "redundant", "variables", "idProduct", "and", "idVendor"]}
{"code_tokens": ["static", "int", "sd", "_", "start", "(", "struct", "gspca", "_", "dev", "*", "gspca", "_", "dev", ")", "<nl>", "<nl>", "/", "*", "create", "the", "JPEG", "header", "*", "/", "<nl>", "dev", "-", ">", "jpeg", "_", "hdr", "=", "kmalloc", "(", "JPEG", "_", "HDR", "_", "SZ", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "dev", "-", ">", "jpeg", "_", "hdr", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "jpeg", "_", "define", "(", "dev", "-", ">", "jpeg", "_", "hdr", ",", "gspca", "_", "dev", "-", ">", "height", ",", "gspca", "_", "dev", "-", ">", "width", ",", "<nl>", "0x21", ")", ";", "/", "*", "JPEG", "422", "*", "/", "<nl>", "jpeg", "_", "set", "_", "qual", "(", "dev", "-", ">", "jpeg", "_", "hdr", ",", "dev", "-", ">", "quality", ")", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "13017", "gspca", "kmalloc", "failure", "ignored", "in", "sd_start"]}
{"code_tokens": ["int", "snd", "_", "seq", "_", "port", "_", "connect", "(", "struct", "snd", "_", "seq", "_", "client", "*", "connector", ",", "<nl>", "atomic", "_", "set", "(", "&", "subs", "-", ">", "ref", "_", "count", ",", "2", ")", ";", "<nl>", "<nl>", "down", "_", "write", "(", "&", "src", "-", ">", "list", "_", "mutex", ")", ";", "<nl>", "-", "down", "_", "write", "(", "&", "dest", "-", ">", "list", "_", "mutex", ")", ";", "<nl>", "+", "down", "_", "write", "_", "nested", "(", "&", "dest", "-", ">", "list", "_", "mutex", ",", "SINGLE", "_", "DEPTH", "_", "NESTING", ")", ";", "<nl>", "<nl>", "exclusive", "=", "info", "-", ">", "flags", "&", "SNDRV", "_", "SEQ", "_", "PORT", "_", "SUBS", "_", "EXCLUSIVE", "?", "1", ":", "0", ";", "<nl>", "err", "=", "-", "EBUSY", ";", "<nl>", "int", "snd", "_", "seq", "_", "port", "_", "disconnect", "(", "struct", "snd", "_", "seq", "_", "client", "*", "connector", ",", "<nl>", "unsigned", "long", "flags", ";", "<nl>", "<nl>", "down", "_", "write", "(", "&", "src", "-", ">", "list", "_", "mutex", ")", ";", "<nl>", "-", "down", "_", "write", "(", "&", "dest", "-", ">", "list", "_", "mutex", ")", ";", "<nl>", "+", "down", "_", "write", "_", "nested", "(", "&", "dest", "-", ">", "list", "_", "mutex", ",", "SINGLE", "_", "DEPTH", "_", "NESTING", ")", ";", "<nl>", "<nl>", "/", "*", "look", "for", "the", "connection", "*", "/", "<nl>", "list", "_", "for", "_", "each", "(", "p", ",", "&", "src", "-", ">", "list", "_", "head", ")", "{", "<nl>"], "docstring_tokens": ["PATCH", "lockdep", "annotate", "sound", "core", "seq", "seq_ports", "c"]}
{"code_tokens": ["static", "void", "atmel", "_", "spi", "_", "next", "_", "xfer", "(", "struct", "spi", "_", "master", "*", "master", ",", "<nl>", "xfer", ",", "xfer", "-", ">", "len", ",", "xfer", "-", ">", "tx", "_", "buf", ",", "xfer", "-", ">", "tx", "_", "dma", ",", "<nl>", "xfer", "-", ">", "rx", "_", "buf", ",", "xfer", "-", ">", "rx", "_", "dma", ",", "spi", "_", "readl", "(", "as", ",", "IMR", ")", ")", ";", "<nl>", "<nl>", "-", "spi", "_", "writel", "(", "as", ",", "TCR", ",", "len", ")", ";", "<nl>", "spi", "_", "writel", "(", "as", ",", "RCR", ",", "len", ")", ";", "<nl>", "+", "spi", "_", "writel", "(", "as", ",", "TCR", ",", "len", ")", ";", "<nl>", "spi", "_", "writel", "(", "as", ",", "PTCR", ",", "SPI", "_", "BIT", "(", "TXTEN", ")", "|", "SPI", "_", "BIT", "(", "RXTEN", ")", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["atmel_spi", "reload", "RCR", "before", "TCR"]}
{"code_tokens": ["static", "int", "do", "_", "replace", "(", "struct", "net", "*", "net", ",", "const", "void", "_", "_", "user", "*", "user", ",", "<nl>", "if", "(", "tmp", ".", "num", "_", "counters", ">", "=", "INT", "_", "MAX", "/", "sizeof", "(", "struct", "ebt", "_", "counter", ")", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "+", "tmp", ".", "name", "[", "sizeof", "(", "tmp", ".", "name", ")", "-", "1", "]", "=", "0", ";", "<nl>", "+", "<nl>", "countersize", "=", "COUNTER", "_", "OFFSET", "(", "tmp", ".", "nentries", ")", "*", "nr", "_", "cpu", "_", "ids", ";", "<nl>", "newinfo", "=", "vmalloc", "(", "sizeof", "(", "*", "newinfo", ")", "+", "countersize", ")", ";", "<nl>", "if", "(", "!", "newinfo", ")", "<nl>"], "docstring_tokens": ["bridge", "netfilter", "fix", "information", "leak"]}
{"code_tokens": ["static", "struct", "file", "_", "system", "_", "type", "btrfs", "_", "fs", "_", "type", "=", "{", "<nl>", "}", ";", "<nl>", "MODULE", "_", "ALIAS", "_", "FS", "(", "\"", "btrfs", "\"", ")", ";", "<nl>", "<nl>", "+", "static", "int", "btrfs", "_", "control", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "+", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "The", "control", "file", "'", "s", "private", "_", "data", "is", "used", "to", "hold", "the", "<nl>", "+", "*", "transaction", "when", "it", "is", "started", "and", "is", "used", "to", "keep", "<nl>", "+", "*", "track", "of", "whether", "a", "transaction", "is", "already", "in", "progress", ".", "<nl>", "+", "*", "/", "<nl>", "+", "file", "-", ">", "private", "_", "data", "=", "NULL", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "used", "by", "btrfsctl", "to", "scan", "devices", "when", "no", "FS", "is", "mounted", "<nl>", "*", "/", "<nl>", "static", "const", "struct", "super", "_", "operations", "btrfs", "_", "super", "_", "ops", "=", "{", "<nl>", "}", ";", "<nl>", "<nl>", "static", "const", "struct", "file", "_", "operations", "btrfs", "_", "ctl", "_", "fops", "=", "{", "<nl>", "+", ".", "open", "=", "btrfs", "_", "control", "_", "open", ",", "<nl>", ".", "unlocked", "_", "ioctl", "=", "btrfs", "_", "control", "_", "ioctl", ",", "<nl>", ".", "compat", "_", "ioctl", "=", "btrfs", "_", "control", "_", "ioctl", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>"], "docstring_tokens": ["btrfs", "explicitly", "set", "control", "file", "s", "private_data"]}
{"code_tokens": ["int", "aer", "_", "osc", "_", "setup", "(", "struct", "pcie", "_", "device", "*", "pciedev", ")", "<nl>", "}", "<nl>", "<nl>", "if", "(", "handle", ")", "{", "<nl>", "-", "pci", "_", "osc", "_", "support", "_", "set", "(", "OSC", "_", "EXT", "_", "PCI", "_", "CONFIG", "_", "SUPPORT", ")", ";", "<nl>", "+", "pcie", "_", "osc", "_", "support", "_", "set", "(", "OSC", "_", "EXT", "_", "PCI", "_", "CONFIG", "_", "SUPPORT", ")", ";", "<nl>", "status", "=", "pci", "_", "osc", "_", "control", "_", "set", "(", "handle", ",", "<nl>", "OSC", "_", "PCI", "_", "EXPRESS", "_", "AER", "_", "CONTROL", "|", "<nl>", "OSC", "_", "PCI", "_", "EXPRESS", "_", "CAP", "_", "STRUCTURE", "_", "CONTROL", ")", ";", "<nl>"], "docstring_tokens": ["PCI", "ACPI", "AER", "driver", "should", "only", "register", "PCIe", "devices", "with", "_OSC"]}
{"code_tokens": ["int", "btrfs", "_", "read", "_", "sys", "_", "array", "(", "struct", "btrfs", "_", "root", "*", "root", ")", "<nl>", "sb", "_", "array", "_", "offset", "+", "=", "len", ";", "<nl>", "cur", "_", "offset", "+", "=", "len", ";", "<nl>", "}", "<nl>", "+", "clear", "_", "extent", "_", "buffer", "_", "uptodate", "(", "sb", ")", ";", "<nl>", "free", "_", "extent", "_", "buffer", "_", "stale", "(", "sb", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "out", "_", "short", "_", "read", ":", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "BTRFS", ":", "sys", "_", "array", "too", "short", "to", "read", "%", "u", "bytes", "at", "offset", "%", "u", "\\", "n", "\"", ",", "<nl>", "len", ",", "cur", "_", "offset", ")", ";", "<nl>", "+", "clear", "_", "extent", "_", "buffer", "_", "uptodate", "(", "sb", ")", ";", "<nl>", "free", "_", "extent", "_", "buffer", "_", "stale", "(", "sb", ")", ";", "<nl>", "return", "-", "EIO", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Btrfs", "clear", "uptodate", "flags", "of", "pages", "in", "sys_array", "eb"]}
{"code_tokens": ["void", "_", "_", "init", "init", "_", "extra", "_", "mapping", "_", "uc", "(", "unsigned", "long", "phys", ",", "unsigned", "long", "size", ")", "<nl>", "void", "_", "_", "init", "cleanup", "_", "highmap", "(", "void", ")", "<nl>", "{", "<nl>", "unsigned", "long", "vaddr", "=", "_", "_", "START", "_", "KERNEL", "_", "map", ";", "<nl>", "-", "unsigned", "long", "end", "=", "round", "_", "up", "(", "(", "unsigned", "long", ")", "_", "end", ",", "PMD", "_", "SIZE", ")", "-", "1", ";", "<nl>", "+", "unsigned", "long", "end", "=", "roundup", "(", "(", "unsigned", "long", ")", "_", "end", ",", "PMD", "_", "SIZE", ")", "-", "1", ";", "<nl>", "pmd", "_", "t", "*", "pmd", "=", "level2", "_", "kernel", "_", "pgt", ";", "<nl>", "pmd", "_", "t", "*", "last", "_", "pmd", "=", "pmd", "+", "PTRS", "_", "PER", "_", "PMD", ";", "<nl>", "<nl>", "static", "void", "_", "_", "init", "find", "_", "early", "_", "table", "_", "space", "(", "unsigned", "long", "end", ")", "<nl>", "unsigned", "long", "puds", ",", "pmds", ",", "ptes", ",", "tables", ",", "start", ";", "<nl>", "<nl>", "puds", "=", "(", "end", "+", "PUD", "_", "SIZE", "-", "1", ")", ">", ">", "PUD", "_", "SHIFT", ";", "<nl>", "-", "tables", "=", "round", "_", "up", "(", "puds", "*", "sizeof", "(", "pud", "_", "t", ")", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "+", "tables", "=", "roundup", "(", "puds", "*", "sizeof", "(", "pud", "_", "t", ")", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "if", "(", "direct", "_", "gbpages", ")", "{", "<nl>", "unsigned", "long", "extra", ";", "<nl>", "extra", "=", "end", "-", "(", "(", "end", ">", ">", "PUD", "_", "SHIFT", ")", "<", "<", "PUD", "_", "SHIFT", ")", ";", "<nl>", "pmds", "=", "(", "extra", "+", "PMD", "_", "SIZE", "-", "1", ")", ">", ">", "PMD", "_", "SHIFT", ";", "<nl>", "}", "else", "<nl>", "pmds", "=", "(", "end", "+", "PMD", "_", "SIZE", "-", "1", ")", ">", ">", "PMD", "_", "SHIFT", ";", "<nl>", "-", "tables", "+", "=", "round", "_", "up", "(", "pmds", "*", "sizeof", "(", "pmd", "_", "t", ")", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "+", "tables", "+", "=", "roundup", "(", "pmds", "*", "sizeof", "(", "pmd", "_", "t", ")", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "<nl>", "if", "(", "cpu", "_", "has", "_", "pse", ")", "{", "<nl>", "unsigned", "long", "extra", ";", "<nl>", "static", "void", "_", "_", "init", "find", "_", "early", "_", "table", "_", "space", "(", "unsigned", "long", "end", ")", "<nl>", "ptes", "=", "(", "extra", "+", "PAGE", "_", "SIZE", "-", "1", ")", ">", ">", "PAGE", "_", "SHIFT", ";", "<nl>", "}", "else", "<nl>", "ptes", "=", "(", "end", "+", "PAGE", "_", "SIZE", "-", "1", ")", ">", ">", "PAGE", "_", "SHIFT", ";", "<nl>", "-", "tables", "+", "=", "round", "_", "up", "(", "ptes", "*", "sizeof", "(", "pte", "_", "t", ")", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "+", "tables", "+", "=", "roundup", "(", "ptes", "*", "sizeof", "(", "pte", "_", "t", ")", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "RED", "-", "PEN", "putting", "page", "tables", "only", "on", "node", "0", "could", "<nl>"], "docstring_tokens": ["x86", "convert", "init_64", "c", "from", "round_up", "to", "roundup"]}
{"code_tokens": ["aoenet", "_", "xmit", "(", "struct", "sk", "_", "buff", "_", "head", "*", "queue", ")", "<nl>", "{", "<nl>", "struct", "sk", "_", "buff", "*", "skb", ",", "*", "tmp", ";", "<nl>", "<nl>", "-", "skb", "_", "queue", "_", "walk", "_", "safe", "(", "queue", ",", "skb", ",", "tmp", ")", "<nl>", "+", "skb", "_", "queue", "_", "walk", "_", "safe", "(", "queue", ",", "skb", ",", "tmp", ")", "{", "<nl>", "+", "_", "_", "skb", "_", "unlink", "(", "skb", ",", "queue", ")", ";", "<nl>", "dev", "_", "queue", "_", "xmit", "(", "skb", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["aoe", "Fix", "OOPS", "after", "SKB", "queue", "changes"]}
{"code_tokens": ["static", "int", "xtsonic", "_", "open", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "int", "retval", ";", "<nl>", "<nl>", "-", "retval", "=", "request", "_", "irq", "(", "dev", "-", ">", "irq", ",", "sonic", "_", "interrupt", ",", "IRQF", "_", "DISABLED", ",", "<nl>", "-", "\"", "sonic", "\"", ",", "dev", ")", ";", "<nl>", "+", "retval", "=", "request", "_", "irq", "(", "dev", "-", ">", "irq", ",", "sonic", "_", "interrupt", ",", "0", ",", "\"", "sonic", "\"", ",", "dev", ")", ";", "<nl>", "if", "(", "retval", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "%", "s", ":", "unable", "to", "get", "IRQ", "%", "d", ".", "\\", "n", "\"", ",", "<nl>", "dev", "-", ">", "name", ",", "dev", "-", ">", "irq", ")", ";", "mmm", "drivers", "/", "net", "/", "ethernet", "/", "natsemi", "/", "jazzsonic", ".", "c", "<nl>", "static", "int", "xtsonic", "_", "open", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "int", "retval", ";", "<nl>", "<nl>", "-", "retval", "=", "request", "_", "irq", "(", "dev", "-", ">", "irq", ",", "sonic", "_", "interrupt", ",", "IRQF", "_", "DISABLED", ",", "<nl>", "-", "\"", "sonic", "\"", ",", "dev", ")", ";", "<nl>", "+", "retval", "=", "request", "_", "irq", "(", "dev", "-", ">", "irq", ",", "sonic", "_", "interrupt", ",", "0", ",", "\"", "sonic", "\"", ",", "dev", ")", ";", "<nl>", "if", "(", "retval", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "%", "s", ":", "unable", "to", "get", "IRQ", "%", "d", ".", "\\", "n", "\"", ",", "<nl>", "dev", "-", ">", "name", ",", "dev", "-", ">", "irq", ")", ";", "<nl>", "static", "int", "jazzsonic", "_", "open", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "int", "retval", ";", "<nl>", "<nl>", "-", "retval", "=", "request", "_", "irq", "(", "dev", "-", ">", "irq", ",", "sonic", "_", "interrupt", ",", "IRQF", "_", "DISABLED", ",", "<nl>", "-", "\"", "sonic", "\"", ",", "dev", ")", ";", "<nl>", "+", "retval", "=", "request", "_", "irq", "(", "dev", "-", ">", "irq", ",", "sonic", "_", "interrupt", ",", "0", ",", "\"", "sonic", "\"", ",", "dev", ")", ";", "<nl>", "if", "(", "retval", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "%", "s", ":", "unable", "to", "get", "IRQ", "%", "d", ".", "\\", "n", "\"", ",", "<nl>", "dev", "-", ">", "name", ",", "dev", "-", ">", "irq", ")", ";", "<nl>"], "docstring_tokens": ["net", "natsemi", "remove", "deprecated", "IRQF_DISABLED"]}
{"code_tokens": ["struct", "mmc", "_", "host", "_", "ops", "{", "<nl>", "<nl>", "int", "(", "*", "start", "_", "signal", "_", "voltage", "_", "switch", ")", "(", "struct", "mmc", "_", "host", "*", "host", ",", "struct", "mmc", "_", "ios", "*", "ios", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Check", "if", "the", "card", "is", "pulling", "dat", "[", "0", ":", "3", "]", "low", "*", "/", "<nl>", "+", "int", "(", "*", "card", "_", "busy", ")", "(", "struct", "mmc", "_", "host", "*", "host", ")", ";", "<nl>", "+", "<nl>", "/", "*", "The", "tuning", "command", "opcode", "value", "is", "different", "for", "SD", "and", "eMMC", "cards", "*", "/", "<nl>", "int", "(", "*", "execute", "_", "tuning", ")", "(", "struct", "mmc", "_", "host", "*", "host", ",", "u32", "opcode", ")", ";", "<nl>", "void", "(", "*", "enable", "_", "preset", "_", "value", ")", "(", "struct", "mmc", "_", "host", "*", "host", ",", "bool", "enable", ")", ";", "<nl>"], "docstring_tokens": ["mmc", "core", "Add", "card_busy", "to", "host_ops"]}
{"code_tokens": ["void", "smscore", "_", "onresponse", "(", "struct", "smscore", "_", "device", "_", "t", "*", "coredev", ",", "<nl>", "-", "sizeof", "(", "struct", "SmsMsgHdr", "_", "ST", ")", ")", ";", "<nl>", "break", ";", "<nl>", "<nl>", "+", "case", "MSG", "_", "SMS", "_", "DVBT", "_", "BDA", "_", "DATA", ":", "<nl>", "+", "/", "*", "<nl>", "+", "*", "It", "can", "be", "received", "here", ",", "if", "the", "frontend", "is", "<nl>", "+", "*", "tuned", "into", "a", "valid", "channel", "and", "the", "proper", "firmware", "<nl>", "+", "*", "is", "loaded", ".", "That", "happens", "when", "the", "module", "got", "removed", "<nl>", "+", "*", "and", "re", "-", "inserted", ",", "without", "powering", "the", "device", "off", "<nl>", "+", "*", "/", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "sms", "_", "debug", "(", "\"", "message", "%", "s", "(", "%", "d", ")", "not", "handled", ".", "\"", ",", "<nl>", "smscore", "_", "translate", "_", "msg", "(", "phdr", "-", ">", "msgType", ")", ",", "<nl>"], "docstring_tokens": ["media", "siano", "Remove", "bogus", "complain", "about", "MSG_SMS_DVBT_BDA_DATA"]}
{"code_tokens": ["static", "int", "mailbox", "_", "write", "(", "struct", "intel", "_", "vgpu", "*", "vgpu", ",", "unsigned", "int", "offset", ",", "<nl>", "else", "<nl>", "*", "data0", "=", "0x61514b3d", ";", "<nl>", "break", ";", "<nl>", "+", "case", "SKL", "_", "PCODE", "_", "CDCLK", "_", "CONTROL", ":", "<nl>", "+", "*", "data0", "=", "SKL", "_", "CDCLK", "_", "READY", "_", "FOR", "_", "CHANGE", ";", "<nl>", "+", "break", ";", "<nl>", "case", "0x5", ":", "<nl>", "*", "data0", "|", "=", "0x1", ";", "<nl>", "break", ";", "<nl>", "static", "int", "mailbox", "_", "write", "(", "struct", "intel", "_", "vgpu", "*", "vgpu", ",", "unsigned", "int", "offset", ",", "<nl>", "<nl>", "gvt", "_", "dbg", "_", "core", "(", "\"", "VM", "(", "%", "d", ")", "write", "%", "x", "to", "mailbox", ",", "return", "data0", "%", "x", "\\", "n", "\"", ",", "<nl>", "vgpu", "-", ">", "id", ",", "value", ",", "*", "data0", ")", ";", "<nl>", "-", "<nl>", "-", "value", "&", "=", "~", "(", "1", "<", "<", "31", ")", ";", "<nl>", "+", "/", "*", "*", "<nl>", "+", "*", "PCODE", "_", "READY", "clear", "means", "ready", "for", "pcode", "read", "/", "write", ",", "<nl>", "+", "*", "PCODE", "_", "ERROR", "_", "MASK", "clear", "means", "no", "error", "happened", ".", "In", "GVT", "-", "g", "we", "<nl>", "+", "*", "always", "emulate", "as", "pcode", "read", "/", "write", "success", "and", "ready", "for", "access", "<nl>", "+", "*", "anytime", ",", "since", "we", "don", "'", "t", "touch", "real", "physical", "registers", "here", ".", "<nl>", "+", "*", "/", "<nl>", "+", "value", "&", "=", "~", "(", "GEN6", "_", "PCODE", "_", "READY", "|", "GEN6", "_", "PCODE", "_", "ERROR", "_", "MASK", ")", ";", "<nl>", "return", "intel", "_", "vgpu", "_", "default", "_", "mmio", "_", "write", "(", "vgpu", ",", "offset", ",", "&", "value", ",", "bytes", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "gvt", "refine", "pcode", "write", "emulation"]}
{"code_tokens": ["static", "inline", "bool", "f2fs", "_", "has", "_", "xattr", "_", "block", "(", "unsigned", "int", "ofs", ")", "<nl>", "return", "ofs", "=", "=", "XATTR", "_", "NODE", "_", "OFFSET", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "inline", "bool", "_", "_", "allow", "_", "reserved", "_", "blocks", "(", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", ")", "<nl>", "+", "static", "inline", "bool", "_", "_", "allow", "_", "reserved", "_", "blocks", "(", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "+", "struct", "inode", "*", "inode", ")", "<nl>", "{", "<nl>", "+", "if", "(", "!", "inode", ")", "<nl>", "+", "return", "true", ";", "<nl>", "if", "(", "!", "test", "_", "opt", "(", "sbi", ",", "RESERVE", "_", "ROOT", ")", ")", "<nl>", "return", "false", ";", "<nl>", "+", "if", "(", "IS", "_", "NOQUOTA", "(", "inode", ")", ")", "<nl>", "+", "return", "true", ";", "<nl>", "if", "(", "capable", "(", "CAP", "_", "SYS", "_", "RESOURCE", ")", ")", "<nl>", "return", "true", ";", "<nl>", "if", "(", "uid", "_", "eq", "(", "sbi", "-", ">", "s", "_", "resuid", ",", "current", "_", "fsuid", "(", ")", ")", ")", "<nl>", "static", "inline", "int", "inc", "_", "valid", "_", "block", "_", "count", "(", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "avail", "_", "user", "_", "block", "_", "count", "=", "sbi", "-", ">", "user", "_", "block", "_", "count", "-", "<nl>", "sbi", "-", ">", "current", "_", "reserved", "_", "blocks", ";", "<nl>", "<nl>", "-", "if", "(", "!", "_", "_", "allow", "_", "reserved", "_", "blocks", "(", "sbi", ")", ")", "<nl>", "+", "if", "(", "!", "_", "_", "allow", "_", "reserved", "_", "blocks", "(", "sbi", ",", "inode", ")", ")", "<nl>", "avail", "_", "user", "_", "block", "_", "count", "-", "=", "sbi", "-", ">", "root", "_", "reserved", "_", "blocks", ";", "<nl>", "<nl>", "if", "(", "unlikely", "(", "sbi", "-", ">", "total", "_", "valid", "_", "block", "_", "count", ">", "avail", "_", "user", "_", "block", "_", "count", ")", ")", "{", "<nl>", "static", "inline", "int", "inc", "_", "valid", "_", "node", "_", "count", "(", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", ",", "<nl>", "valid", "_", "block", "_", "count", "=", "sbi", "-", ">", "total", "_", "valid", "_", "block", "_", "count", "+", "<nl>", "sbi", "-", ">", "current", "_", "reserved", "_", "blocks", "+", "1", ";", "<nl>", "<nl>", "-", "if", "(", "!", "_", "_", "allow", "_", "reserved", "_", "blocks", "(", "sbi", ")", ")", "<nl>", "+", "if", "(", "!", "_", "_", "allow", "_", "reserved", "_", "blocks", "(", "sbi", ",", "inode", ")", ")", "<nl>", "valid", "_", "block", "_", "count", "+", "=", "sbi", "-", ">", "root", "_", "reserved", "_", "blocks", ";", "<nl>", "<nl>", "if", "(", "unlikely", "(", "valid", "_", "block", "_", "count", ">", "sbi", "-", ">", "user", "_", "block", "_", "count", ")", ")", "{", "<nl>"], "docstring_tokens": ["f2fs", "allow", "quota", "to", "use", "reserved", "blocks"]}
{"code_tokens": ["static", "const", "struct", "imx", "_", "weim", "_", "devtype", "imx51", "_", "weim", "_", "devtype", "=", "{", "<nl>", ".", "cs", "_", "stride", "=", "0x18", ",", "<nl>", "}", ";", "<nl>", "<nl>", "+", "#", "define", "MAX", "_", "CS", "_", "REGS", "_", "COUNT", "6", "<nl>", "+", "<nl>", "static", "const", "struct", "of", "_", "device", "_", "id", "weim", "_", "id", "_", "table", "[", "]", "=", "{", "<nl>", "/", "*", "i", ".", "MX1", "/", "21", "*", "/", "<nl>", "{", ".", "compatible", "=", "\"", "fsl", ",", "imx1", "-", "weim", "\"", ",", ".", "data", "=", "&", "imx1", "_", "weim", "_", "devtype", ",", "}", ",", "<nl>", "static", "int", "_", "_", "init", "imx", "_", "weim", "_", "gpr", "_", "setup", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "static", "int", "_", "_", "init", "weim", "_", "timing", "_", "setup", "(", "struct", "device", "_", "node", "*", "np", ",", "void", "_", "_", "iomem", "*", "base", ",", "<nl>", "const", "struct", "imx", "_", "weim", "_", "devtype", "*", "devtype", ")", "<nl>", "{", "<nl>", "-", "u32", "cs", "_", "idx", ",", "value", "[", "devtype", "-", ">", "cs", "_", "regs", "_", "count", "]", ";", "<nl>", "+", "u32", "cs", "_", "idx", ",", "value", "[", "MAX", "_", "CS", "_", "REGS", "_", "COUNT", "]", ";", "<nl>", "int", "i", ",", "ret", ";", "<nl>", "<nl>", "+", "if", "(", "WARN", "_", "ON", "(", "devtype", "-", ">", "cs", "_", "regs", "_", "count", ">", "MAX", "_", "CS", "_", "REGS", "_", "COUNT", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "/", "*", "get", "the", "CS", "index", "from", "this", "child", "node", "'", "s", "\"", "reg", "\"", "property", ".", "*", "/", "<nl>", "ret", "=", "of", "_", "property", "_", "read", "_", "u32", "(", "np", ",", "\"", "reg", "\"", ",", "&", "cs", "_", "idx", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>"], "docstring_tokens": ["bus", "imx", "weim", "Remove", "VLA", "usage"]}
{"code_tokens": ["static", "int", "asus", "_", "laptop", "_", "get", "_", "info", "(", "struct", "asus", "_", "laptop", "*", "asus", ")", "<nl>", "}", "<nl>", "}", "<nl>", "asus", "-", ">", "name", "=", "kstrdup", "(", "string", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "!", "asus", "-", ">", "name", ")", "<nl>", "+", "if", "(", "!", "asus", "-", ">", "name", ")", "{", "<nl>", "+", "kfree", "(", "buffer", ".", "pointer", ")", ";", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "*", "string", ")", "<nl>", "pr", "_", "notice", "(", "\"", "%", "s", "model", "detected", "\\", "n", "\"", ",", "string", ")", ";", "<nl>"], "docstring_tokens": ["asus", "laptop", "fix", "a", "memory", "leak", "in", "asus_laptop_get_info", "error", "path"]}
{"code_tokens": ["enum", "mceusb", "_", "model", "_", "type", "{", "<nl>", "POLARIS", "_", "EVK", ",", "<nl>", "CX", "_", "HYBRID", "_", "TV", ",", "<nl>", "MULTIFUNCTION", ",", "<nl>", "+", "TIVO", "_", "KIT", ",", "<nl>", "}", ";", "<nl>", "<nl>", "struct", "mceusb", "_", "model", "{", "<nl>", "static", "const", "struct", "mceusb", "_", "model", "mceusb", "_", "model", "[", "]", "=", "{", "<nl>", ".", "mce", "_", "gen2", "=", "1", ",", "<nl>", ".", "ir", "_", "intfnum", "=", "2", ",", "<nl>", "}", ",", "<nl>", "+", "[", "TIVO", "_", "KIT", "]", "=", "{", "<nl>", "+", ".", "mce", "_", "gen2", "=", "1", ",", "<nl>", "+", ".", "rc", "_", "map", "=", "RC", "_", "MAP", "_", "TIVO", ",", "<nl>", "+", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "struct", "usb", "_", "device", "_", "id", "mceusb", "_", "dev", "_", "table", "[", "]", "=", "{", "<nl>", "static", "struct", "usb", "_", "device", "_", "id", "mceusb", "_", "dev", "_", "table", "[", "]", "=", "{", "<nl>", "/", "*", "Northstar", "Systems", ",", "Inc", ".", "eHome", "Infrared", "Transceiver", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "VENDOR", "_", "NORTHSTAR", ",", "0xe004", ")", "}", ",", "<nl>", "/", "*", "TiVo", "PC", "IR", "Receiver", "*", "/", "<nl>", "-", "{", "USB", "_", "DEVICE", "(", "VENDOR", "_", "TIVO", ",", "0x2000", ")", "}", ",", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "VENDOR", "_", "TIVO", ",", "0x2000", ")", ",", "<nl>", "+", ".", "driver", "_", "info", "=", "TIVO", "_", "KIT", "}", ",", "<nl>", "/", "*", "Conexant", "Hybrid", "TV", "\"", "Shelby", "\"", "Polaris", "SDK", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "VENDOR", "_", "CONEXANT", ",", "0x58a1", ")", ",", "<nl>", ".", "driver", "_", "info", "=", "POLARIS", "_", "EVK", "}", ",", "<nl>"], "docstring_tokens": ["media", "mceusb", "tivo", "transceiver", "should", "default", "to", "tivo", "keymap"]}
{"code_tokens": ["static", "void", "end", "_", "crisv10", "_", "irq", "(", "unsigned", "int", "irq", ")", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "irq", "_", "chip", "crisv10", "_", "irq", "_", "type", "=", "{", "<nl>", "-", ".", "typename", "=", "\"", "CRISv10", "\"", ",", "<nl>", "+", ".", "name", "=", "\"", "CRISv10", "\"", ",", "<nl>", ".", "startup", "=", "startup", "_", "crisv10", "_", "irq", ",", "<nl>", ".", "shutdown", "=", "shutdown", "_", "crisv10", "_", "irq", ",", "<nl>", ".", "enable", "=", "enable", "_", "crisv10", "_", "irq", ",", "mmm", "arch", "/", "cris", "/", "arch", "-", "v32", "/", "kernel", "/", "irq", ".", "c", "<nl>", "static", "void", "end", "_", "crisv10", "_", "irq", "(", "unsigned", "int", "irq", ")", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "irq", "_", "chip", "crisv10", "_", "irq", "_", "type", "=", "{", "<nl>", "-", ".", "typename", "=", "\"", "CRISv10", "\"", ",", "<nl>", "+", ".", "name", "=", "\"", "CRISv10", "\"", ",", "<nl>", ".", "startup", "=", "startup", "_", "crisv10", "_", "irq", ",", "<nl>", ".", "shutdown", "=", "shutdown", "_", "crisv10", "_", "irq", ",", "<nl>", ".", "enable", "=", "enable", "_", "crisv10", "_", "irq", ",", "<nl>", "int", "set", "_", "affinity", "_", "crisv32", "_", "irq", "(", "unsigned", "int", "irq", ",", "const", "struct", "cpumask", "*", "dest", ")", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "irq", "_", "chip", "crisv32", "_", "irq", "_", "type", "=", "{", "<nl>", "-", ".", "typename", "=", "\"", "CRISv32", "\"", ",", "<nl>", "+", ".", "name", "=", "\"", "CRISv32", "\"", ",", "<nl>", ".", "startup", "=", "startup", "_", "crisv32", "_", "irq", ",", "<nl>", ".", "shutdown", "=", "shutdown", "_", "crisv32", "_", "irq", ",", "<nl>", ".", "enable", "=", "enable", "_", "crisv32", "_", "irq", ",", "mmm", "arch", "/", "cris", "/", "kernel", "/", "irq", ".", "c", "<nl>", "static", "void", "end", "_", "crisv10", "_", "irq", "(", "unsigned", "int", "irq", ")", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "irq", "_", "chip", "crisv10", "_", "irq", "_", "type", "=", "{", "<nl>", "-", ".", "typename", "=", "\"", "CRISv10", "\"", ",", "<nl>", "+", ".", "name", "=", "\"", "CRISv10", "\"", ",", "<nl>", ".", "startup", "=", "startup", "_", "crisv10", "_", "irq", ",", "<nl>", ".", "shutdown", "=", "shutdown", "_", "crisv10", "_", "irq", ",", "<nl>", ".", "enable", "=", "enable", "_", "crisv10", "_", "irq", ",", "<nl>", "int", "set", "_", "affinity", "_", "crisv32", "_", "irq", "(", "unsigned", "int", "irq", ",", "const", "struct", "cpumask", "*", "dest", ")", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "irq", "_", "chip", "crisv32", "_", "irq", "_", "type", "=", "{", "<nl>", "-", ".", "typename", "=", "\"", "CRISv32", "\"", ",", "<nl>", "+", ".", "name", "=", "\"", "CRISv32", "\"", ",", "<nl>", ".", "startup", "=", "startup", "_", "crisv32", "_", "irq", ",", "<nl>", ".", "shutdown", "=", "shutdown", "_", "crisv32", "_", "irq", ",", "<nl>", ".", "enable", "=", "enable", "_", "crisv32", "_", "irq", ",", "<nl>", "int", "show", "_", "interrupts", "(", "struct", "seq", "_", "file", "*", "p", ",", "void", "*", "v", ")", "<nl>", "for", "_", "each", "_", "online", "_", "cpu", "(", "j", ")", "<nl>", "seq", "_", "printf", "(", "p", ",", "\"", "%", "10u", "\"", ",", "kstat", "_", "irqs", "_", "cpu", "(", "i", ",", "j", ")", ")", ";", "<nl>", "#", "endif", "<nl>", "-", "seq", "_", "printf", "(", "p", ",", "\"", "%", "14s", "\"", ",", "irq", "_", "desc", "[", "i", "]", ".", "chip", "-", ">", "typename", ")", ";", "<nl>", "+", "seq", "_", "printf", "(", "p", ",", "\"", "%", "14s", "\"", ",", "irq", "_", "desc", "[", "i", "]", ".", "chip", "-", ">", "name", ")", ";", "<nl>", "seq", "_", "printf", "(", "p", ",", "\"", "%", "s", "\"", ",", "action", "-", ">", "name", ")", ";", "<nl>", "<nl>", "for", "(", "action", "=", "action", "-", ">", "next", ";", "action", ";", "action", "=", "action", "-", ">", "next", ")", "<nl>"], "docstring_tokens": ["cris", "Fixup", "last", "users", "of", "irq_chip", "typename"]}
{"code_tokens": ["int", "x86", "_", "decode", "_", "insn", "(", "struct", "x86", "_", "emulate", "_", "ctxt", "*", "ctxt", ",", "void", "*", "insn", ",", "int", "insn", "_", "len", ")", "<nl>", "/", "*", "Decode", "and", "fetch", "the", "destination", "operand", ":", "register", "or", "memory", ".", "*", "/", "<nl>", "rc", "=", "decode", "_", "operand", "(", "ctxt", ",", "&", "ctxt", "-", ">", "dst", ",", "(", "ctxt", "-", ">", "d", ">", ">", "DstShift", ")", "&", "OpMask", ")", ";", "<nl>", "<nl>", "-", "if", "(", "ctxt", "-", ">", "rip", "_", "relative", ")", "<nl>", "+", "if", "(", "ctxt", "-", ">", "rip", "_", "relative", "&", "&", "likely", "(", "ctxt", "-", ">", "memopp", ")", ")", "<nl>", "ctxt", "-", ">", "memopp", "-", ">", "addr", ".", "mem", ".", "ea", "=", "address", "_", "mask", "(", "ctxt", ",", "<nl>", "ctxt", "-", ">", "memopp", "-", ">", "addr", ".", "mem", ".", "ea", "+", "ctxt", "-", ">", "_", "eip", ")", ";", "<nl>"], "docstring_tokens": ["kvm", "x86", "Check", "memopp", "before", "dereference", "CVE", "2016", "8630"]}
{"code_tokens": ["int", "trace", "_", "vbprintk", "(", "unsigned", "long", "ip", ",", "const", "char", "*", "fmt", ",", "va", "_", "list", "args", ")", "<nl>", "entry", "-", ">", "fmt", "=", "fmt", ";", "<nl>", "<nl>", "memcpy", "(", "entry", "-", ">", "buf", ",", "trace", "_", "buf", ",", "sizeof", "(", "u32", ")", "*", "len", ")", ";", "<nl>", "-", "if", "(", "!", "filter", "_", "check", "_", "discard", "(", "call", ",", "entry", ",", "buffer", ",", "event", ")", ")", "<nl>", "+", "if", "(", "!", "filter", "_", "check", "_", "discard", "(", "call", ",", "entry", ",", "buffer", ",", "event", ")", ")", "{", "<nl>", "ring", "_", "buffer", "_", "unlock", "_", "commit", "(", "buffer", ",", "event", ")", ";", "<nl>", "+", "ftrace", "_", "trace", "_", "stack", "(", "buffer", ",", "flags", ",", "6", ",", "pc", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "out", "_", "unlock", ":", "<nl>", "arch", "_", "spin", "_", "unlock", "(", "&", "trace", "_", "buf", "_", "lock", ")", ";", "<nl>", "int", "trace", "_", "array", "_", "vprintk", "(", "struct", "trace", "_", "array", "*", "tr", ",", "<nl>", "<nl>", "memcpy", "(", "&", "entry", "-", ">", "buf", ",", "trace", "_", "buf", ",", "len", ")", ";", "<nl>", "entry", "-", ">", "buf", "[", "len", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "-", "if", "(", "!", "filter", "_", "check", "_", "discard", "(", "call", ",", "entry", ",", "buffer", ",", "event", ")", ")", "<nl>", "+", "if", "(", "!", "filter", "_", "check", "_", "discard", "(", "call", ",", "entry", ",", "buffer", ",", "event", ")", ")", "{", "<nl>", "ring", "_", "buffer", "_", "unlock", "_", "commit", "(", "buffer", ",", "event", ")", ";", "<nl>", "+", "ftrace", "_", "trace", "_", "stack", "(", "buffer", ",", "irq", "_", "flags", ",", "6", ",", "pc", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "out", "_", "unlock", ":", "<nl>", "arch", "_", "spin", "_", "unlock", "(", "&", "trace", "_", "buf", "_", "lock", ")", ";", "<nl>"], "docstring_tokens": ["tracing", "Add", "stack", "dump", "to", "trace_printk", "if", "stacktrace", "option", "is", "set"]}
{"code_tokens": ["static", "int", "f2fs", "_", "move", "_", "file", "_", "range", "(", "struct", "file", "*", "file", "_", "in", ",", "loff", "_", "t", "pos", "_", "in", ",", "<nl>", "if", "(", "f2fs", "_", "encrypted", "_", "inode", "(", "src", ")", "|", "|", "f2fs", "_", "encrypted", "_", "inode", "(", "dst", ")", ")", "<nl>", "return", "-", "EOPNOTSUPP", ";", "<nl>", "<nl>", "+", "if", "(", "src", "=", "=", "dst", ")", "{", "<nl>", "+", "if", "(", "pos", "_", "in", "=", "=", "pos", "_", "out", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "if", "(", "pos", "_", "out", ">", "pos", "_", "in", "&", "&", "pos", "_", "out", "<", "pos", "_", "in", "+", "len", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "inode", "_", "lock", "(", "src", ")", ";", "<nl>", "if", "(", "src", "!", "=", "dst", ")", "{", "<nl>", "if", "(", "!", "inode", "_", "trylock", "(", "dst", ")", ")", "{", "<nl>"], "docstring_tokens": ["f2fs", "exclude", "special", "cases", "for", "f2fs_move_file_range"]}
{"code_tokens": ["static", "int", "_", "_", "udp6", "_", "lib", "_", "mcast", "_", "deliver", "(", "struct", "net", "*", "net", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "uh", "-", ">", "source", ",", "saddr", ",", "dif", ")", ")", ")", "{", "<nl>", "struct", "sk", "_", "buff", "*", "buff", "=", "skb", "_", "clone", "(", "skb", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "if", "(", "buff", ")", "{", "<nl>", "-", "bh", "_", "lock", "_", "sock", "_", "nested", "(", "sk2", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk2", ")", ";", "<nl>", "if", "(", "!", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk2", ")", ")", "<nl>", "udpv6", "_", "queue", "_", "rcv", "_", "skb", "(", "sk2", ",", "buff", ")", ";", "<nl>", "else", "<nl>", "static", "int", "_", "_", "udp6", "_", "lib", "_", "mcast", "_", "deliver", "(", "struct", "net", "*", "net", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "bh", "_", "unlock", "_", "sock", "(", "sk2", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "-", "bh", "_", "lock", "_", "sock", "_", "nested", "(", "sk", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "if", "(", "!", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk", ")", ")", "<nl>", "udpv6", "_", "queue", "_", "rcv", "_", "skb", "(", "sk", ",", "skb", ")", ";", "<nl>", "else", "<nl>", "int", "_", "_", "udp6", "_", "lib", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "hlist", "_", "head", "udptable", "[", "]", ",", "<nl>", "<nl>", "/", "*", "deliver", "*", "/", "<nl>", "<nl>", "-", "bh", "_", "lock", "_", "sock", "_", "nested", "(", "sk", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "if", "(", "!", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk", ")", ")", "<nl>", "udpv6", "_", "queue", "_", "rcv", "_", "skb", "(", "sk", ",", "skb", ")", ";", "<nl>", "elsemmm", "net", "/", "ipv4", "/", "udp", ".", "c", "<nl>", "static", "int", "_", "_", "udp6", "_", "lib", "_", "mcast", "_", "deliver", "(", "struct", "net", "*", "net", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "uh", "-", ">", "source", ",", "saddr", ",", "dif", ")", ")", ")", "{", "<nl>", "struct", "sk", "_", "buff", "*", "buff", "=", "skb", "_", "clone", "(", "skb", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "if", "(", "buff", ")", "{", "<nl>", "-", "bh", "_", "lock", "_", "sock", "_", "nested", "(", "sk2", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk2", ")", ";", "<nl>", "if", "(", "!", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk2", ")", ")", "<nl>", "udpv6", "_", "queue", "_", "rcv", "_", "skb", "(", "sk2", ",", "buff", ")", ";", "<nl>", "else", "<nl>", "static", "int", "_", "_", "udp6", "_", "lib", "_", "mcast", "_", "deliver", "(", "struct", "net", "*", "net", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "bh", "_", "unlock", "_", "sock", "(", "sk2", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "-", "bh", "_", "lock", "_", "sock", "_", "nested", "(", "sk", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "if", "(", "!", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk", ")", ")", "<nl>", "udpv6", "_", "queue", "_", "rcv", "_", "skb", "(", "sk", ",", "skb", ")", ";", "<nl>", "else", "<nl>", "int", "_", "_", "udp6", "_", "lib", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "hlist", "_", "head", "udptable", "[", "]", ",", "<nl>", "<nl>", "/", "*", "deliver", "*", "/", "<nl>", "<nl>", "-", "bh", "_", "lock", "_", "sock", "_", "nested", "(", "sk", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "if", "(", "!", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk", ")", ")", "<nl>", "udpv6", "_", "queue", "_", "rcv", "_", "skb", "(", "sk", ",", "skb", ")", ";", "<nl>", "else", "<nl>", "int", "udp", "_", "queue", "_", "rcv", "_", "skb", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "up", "-", ">", "encap", "_", "rcv", "!", "=", "NULL", ")", "{", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "bh", "_", "unlock", "_", "sock", "(", "sk", ")", ";", "<nl>", "ret", "=", "(", "*", "up", "-", ">", "encap", "_", "rcv", ")", "(", "sk", ",", "skb", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "if", "(", "ret", "<", "=", "0", ")", "{", "<nl>", "UDP", "_", "INC", "_", "STATS", "_", "BH", "(", "sock", "_", "net", "(", "sk", ")", ",", "<nl>", "UDP", "_", "MIB", "_", "INDATAGRAMS", ",", "<nl>", "static", "int", "_", "_", "udp4", "_", "lib", "_", "mcast", "_", "deliver", "(", "struct", "net", "*", "net", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "if", "(", "skb1", ")", "{", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "-", "bh", "_", "lock", "_", "sock", "_", "nested", "(", "sk", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "if", "(", "!", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk", ")", ")", "<nl>", "ret", "=", "udp", "_", "queue", "_", "rcv", "_", "skb", "(", "sk", ",", "skb1", ")", ";", "<nl>", "else", "<nl>", "int", "_", "_", "udp4", "_", "lib", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "hlist", "_", "head", "udptable", "[", "]", ",", "<nl>", "<nl>", "if", "(", "sk", "!", "=", "NULL", ")", "{", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "-", "bh", "_", "lock", "_", "sock", "_", "nested", "(", "sk", ")", ";", "<nl>", "+", "bh", "_", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "if", "(", "!", "sock", "_", "owned", "_", "by", "_", "user", "(", "sk", ")", ")", "<nl>", "ret", "=", "udp", "_", "queue", "_", "rcv", "_", "skb", "(", "sk", ",", "skb", ")", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["udp", "Drop", "socket", "lock", "for", "encapsulated", "packets"]}
{"code_tokens": ["i9xx", "_", "get", "_", "initial", "_", "plane", "_", "config", "(", "struct", "intel", "_", "crtc", "*", "crtc", ",", "<nl>", "struct", "drm", "_", "framebuffer", "*", "fb", ";", "<nl>", "struct", "intel", "_", "framebuffer", "*", "intel", "_", "fb", ";", "<nl>", "<nl>", "-", "intel", "_", "fb", "=", "kzalloc", "(", "sizeof", "(", "struct", "intel", "_", "framebuffer", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "intel", "_", "fb", "=", "kzalloc", "(", "sizeof", "(", "*", "intel", "_", "fb", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "intel", "_", "fb", ")", "{", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "failed", "to", "alloc", "fb", "\\", "n", "\"", ")", ";", "<nl>", "return", ";", "<nl>", "skylake", "_", "get", "_", "initial", "_", "plane", "_", "config", "(", "struct", "intel", "_", "crtc", "*", "crtc", ",", "<nl>", "struct", "drm", "_", "framebuffer", "*", "fb", ";", "<nl>", "struct", "intel", "_", "framebuffer", "*", "intel", "_", "fb", ";", "<nl>", "<nl>", "-", "intel", "_", "fb", "=", "kzalloc", "(", "sizeof", "(", "struct", "intel", "_", "framebuffer", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "intel", "_", "fb", "=", "kzalloc", "(", "sizeof", "(", "*", "intel", "_", "fb", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "intel", "_", "fb", ")", "{", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "failed", "to", "alloc", "fb", "\\", "n", "\"", ")", ";", "<nl>", "return", ";", "<nl>", "ironlake", "_", "get", "_", "initial", "_", "plane", "_", "config", "(", "struct", "intel", "_", "crtc", "*", "crtc", ",", "<nl>", "struct", "drm", "_", "framebuffer", "*", "fb", ";", "<nl>", "struct", "intel", "_", "framebuffer", "*", "intel", "_", "fb", ";", "<nl>", "<nl>", "-", "intel", "_", "fb", "=", "kzalloc", "(", "sizeof", "(", "struct", "intel", "_", "framebuffer", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "intel", "_", "fb", "=", "kzalloc", "(", "sizeof", "(", "*", "intel", "_", "fb", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "intel", "_", "fb", ")", "{", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "failed", "to", "alloc", "fb", "\\", "n", "\"", ")", ";", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "Use", "sizeof", "fb", "not", "sizeof", "struct", "in", "get_initial_plane_config"]}
{"code_tokens": ["static", "void", "sm501", "_", "free", "_", "init", "_", "fb", "(", "struct", "sm501fb", "_", "info", "*", "info", ",", "<nl>", "{", "<nl>", "struct", "fb", "_", "info", "*", "fbi", "=", "info", "-", ">", "fb", "[", "head", "]", ";", "<nl>", "<nl>", "+", "if", "(", "!", "fbi", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "fb", "_", "dealloc", "_", "cmap", "(", "&", "fbi", "-", ">", "cmap", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["sm501fb", "deallocate", "colormap", "only", "if", "allocated"]}
{"code_tokens": ["static", "void", "_", "_", "init", "setup", "_", "bootmem", "(", "void", ")", "<nl>", "}", "<nl>", "memset", "(", "pfnnid", "_", "map", ",", "0xff", ",", "sizeof", "(", "pfnnid", "_", "map", ")", ")", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "npmem", "_", "ranges", ";", "i", "+", "+", ")", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "npmem", "_", "ranges", ";", "i", "+", "+", ")", "{", "<nl>", "+", "node", "_", "set", "_", "state", "(", "i", ",", "N", "_", "NORMAL", "_", "MEMORY", ")", ";", "<nl>", "node", "_", "set", "_", "online", "(", "i", ")", ";", "<nl>", "+", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["PARISC", "set", "memory", "ranges", "in", "N_NORMAL_MEMORY", "when", "onlined"]}
{"code_tokens": ["static", "struct", "engine", "_", "mmio", "gen8", "_", "engine", "_", "mmio", "_", "list", "[", "]", "_", "_", "cacheline", "_", "aligned", "=", "{", "<nl>", "{", "BCS", ",", "RING", "_", "INSTPM", "(", "BLT", "_", "RING", "_", "BASE", ")", ",", "0xffff", ",", "false", "}", ",", "/", "*", "0x220c0", "*", "/", "<nl>", "{", "BCS", ",", "RING", "_", "HWSTAM", "(", "BLT", "_", "RING", "_", "BASE", ")", ",", "0x0", ",", "false", "}", ",", "/", "*", "0x22098", "*", "/", "<nl>", "{", "BCS", ",", "RING", "_", "EXCC", "(", "BLT", "_", "RING", "_", "BASE", ")", ",", "0x0", ",", "false", "}", ",", "/", "*", "0x22028", "*", "/", "<nl>", "-", "{", "/", "*", "Terminated", "*", "/", "}", "<nl>", "+", "{", "RCS", ",", "INVALID", "_", "MMIO", "_", "REG", ",", "0", ",", "false", "}", "/", "*", "Terminated", "*", "/", "<nl>", "}", ";", "<nl>", "<nl>", "static", "struct", "engine", "_", "mmio", "gen9", "_", "engine", "_", "mmio", "_", "list", "[", "]", "_", "_", "cacheline", "_", "aligned", "=", "{", "<nl>", "static", "struct", "engine", "_", "mmio", "gen9", "_", "engine", "_", "mmio", "_", "list", "[", "]", "_", "_", "cacheline", "_", "aligned", "=", "{", "<nl>", "{", "RCS", ",", "GEN8", "_", "GARBCNTL", ",", "0x0", ",", "false", "}", ",", "/", "*", "0xb004", "*", "/", "<nl>", "{", "RCS", ",", "GEN7", "_", "FF", "_", "THREAD", "_", "MODE", ",", "0x0", ",", "false", "}", ",", "/", "*", "0x20a0", "*", "/", "<nl>", "{", "RCS", ",", "FF", "_", "SLICE", "_", "CS", "_", "CHICKEN2", ",", "0xffff", ",", "false", "}", ",", "/", "*", "0x20e4", "*", "/", "<nl>", "-", "{", "/", "*", "Terminated", "*", "/", "}", "<nl>", "+", "{", "RCS", ",", "INVALID", "_", "MMIO", "_", "REG", ",", "0", ",", "false", "}", "/", "*", "Terminated", "*", "/", "<nl>", "}", ";", "<nl>", "<nl>", "static", "struct", "{", "<nl>", "static", "void", "switch", "_", "mmio", "(", "struct", "intel", "_", "vgpu", "*", "pre", ",", "<nl>", "if", "(", "IS", "_", "SKYLAKE", "(", "dev", "_", "priv", ")", "|", "|", "IS", "_", "KABYLAKE", "(", "dev", "_", "priv", ")", ")", "<nl>", "switch", "_", "mocs", "(", "pre", ",", "next", ",", "ring", "_", "id", ")", ";", "<nl>", "<nl>", "-", "mmio", "=", "dev", "_", "priv", "-", ">", "gvt", "-", ">", "engine", "_", "mmio", "_", "list", ";", "<nl>", "-", "while", "(", "i915", "_", "mmio", "_", "reg", "_", "offset", "(", "(", "mmio", "+", "+", ")", "-", ">", "reg", ")", ")", "{", "<nl>", "+", "for", "(", "mmio", "=", "dev", "_", "priv", "-", ">", "gvt", "-", ">", "engine", "_", "mmio", "_", "list", ";", "<nl>", "+", "i915", "_", "mmio", "_", "reg", "_", "valid", "(", "mmio", "-", ">", "reg", ")", ";", "mmio", "+", "+", ")", "{", "<nl>", "if", "(", "mmio", "-", ">", "ring", "_", "id", "!", "=", "ring", "_", "id", ")", "<nl>", "continue", ";", "<nl>", "/", "/", "save", "<nl>"], "docstring_tokens": ["drm", "i915", "gvt", "Fix", "gen8", "9_render_mmio_list", "0", "don", "t", "take", "effect"]}
{"code_tokens": ["static", "int", "sample", "(", "struct", "datapath", "*", "dp", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "skb", "_", "get", "(", "skb", ")", ";", "<nl>", "}", "else", "{", "<nl>", "sample", "_", "skb", "=", "skb", "_", "clone", "(", "skb", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "if", "(", "!", "sample", "_", "skb", ")", "/", "*", "Skip", "sample", "action", "when", "out", "of", "memory", ".", "*", "/", "<nl>", "+", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Note", "that", "do", "_", "execute", "_", "actions", "(", ")", "never", "consumes", "skb", ".", "<nl>"], "docstring_tokens": ["openvswitch", "Add", "skb_clone", "NULL", "check", "for", "the", "sampling", "action"]}
{"code_tokens": ["static", "void", "pl011", "_", "dma", "_", "probe", "(", "struct", "uart", "_", "amba", "_", "port", "*", "uap", ")", "<nl>", "/", "*", "Optionally", "make", "use", "of", "an", "RX", "channel", "as", "well", "*", "/", "<nl>", "chan", "=", "dma", "_", "request", "_", "slave", "_", "channel", "(", "dev", ",", "\"", "rx", "\"", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "chan", "&", "&", "plat", "-", ">", "dma", "_", "rx", "_", "param", ")", "{", "<nl>", "+", "if", "(", "!", "chan", "&", "&", "plat", "&", "&", "plat", "-", ">", "dma", "_", "rx", "_", "param", ")", "{", "<nl>", "chan", "=", "dma", "_", "request", "_", "channel", "(", "mask", ",", "plat", "-", ">", "dma", "_", "filter", ",", "plat", "-", ">", "dma", "_", "rx", "_", "param", ")", ";", "<nl>", "<nl>", "if", "(", "!", "chan", ")", "{", "<nl>"], "docstring_tokens": ["tty", "amba", "pl011", "don", "t", "dereference", "NULL", "platform", "data"]}
{"code_tokens": ["static", "int", "eni", "_", "start", "(", "struct", "atm", "_", "dev", "*", "dev", ")", "<nl>", "/", "*", "initialize", "memory", "management", "*", "/", "<nl>", "buffer", "_", "mem", "=", "eni", "_", "dev", "-", ">", "mem", "-", "(", "buf", "-", "eni", "_", "dev", "-", ">", "ram", ")", ";", "<nl>", "eni", "_", "dev", "-", ">", "free", "_", "list", "_", "size", "=", "buffer", "_", "mem", "/", "MID", "_", "MIN", "_", "BUF", "_", "SIZE", "/", "2", ";", "<nl>", "-", "eni", "_", "dev", "-", ">", "free", "_", "list", "=", "kmalloc", "(", "<nl>", "-", "sizeof", "(", "struct", "eni", "_", "free", ")", "*", "(", "eni", "_", "dev", "-", ">", "free", "_", "list", "_", "size", "+", "1", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "eni", "_", "dev", "-", ">", "free", "_", "list", "=", "kmalloc", "_", "array", "(", "eni", "_", "dev", "-", ">", "free", "_", "list", "_", "size", "+", "1", ",", "<nl>", "+", "sizeof", "(", "*", "eni", "_", "dev", "-", ">", "free", "_", "list", ")", ",", "<nl>", "+", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "eni", "_", "dev", "-", ">", "free", "_", "list", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "DEV", "_", "LABEL", "\"", "(", "itf", "%", "d", ")", ":", "couldn", "'", "t", "get", "free", "page", "\\", "n", "\"", ",", "<nl>", "dev", "-", ">", "number", ")", ";", "<nl>"], "docstring_tokens": ["ATM", "ENI", "Use", "kmalloc_array", "in", "eni_start"]}
{"code_tokens": ["static", "long", "cgroup", "_", "create", "(", "struct", "cgroup", "*", "parent", ",", "struct", "dentry", "*", "dentry", ",", "<nl>", "}", "<nl>", "<nl>", "err", "=", "percpu", "_", "ref", "_", "init", "(", "&", "css", "-", ">", "refcnt", ",", "css", "_", "release", ")", ";", "<nl>", "-", "if", "(", "err", ")", "<nl>", "+", "if", "(", "err", ")", "{", "<nl>", "+", "ss", "-", ">", "css", "_", "free", "(", "cgrp", ")", ";", "<nl>", "goto", "err", "_", "free", "_", "all", ";", "<nl>", "+", "}", "<nl>", "<nl>", "init", "_", "cgroup", "_", "css", "(", "css", ",", "ss", ",", "cgrp", ")", ";", "<nl>"], "docstring_tokens": ["cgroup", "fix", "a", "leak", "when", "percpu_ref_init", "fails"]}
{"code_tokens": ["static", "struct", "config", "_", "group", "*", "target", "_", "fabric", "_", "make", "_", "mappedlun", "(", "<nl>", "struct", "se", "_", "node", "_", "acl", ",", "acl", "_", "group", ")", ";", "<nl>", "struct", "se", "_", "portal", "_", "group", "*", "se", "_", "tpg", "=", "se", "_", "nacl", "-", ">", "se", "_", "tpg", ";", "<nl>", "struct", "target", "_", "fabric", "_", "configfs", "*", "tf", "=", "se", "_", "tpg", "-", ">", "se", "_", "tpg", "_", "wwn", "-", ">", "wwn", "_", "tf", ";", "<nl>", "-", "struct", "se", "_", "lun", "_", "acl", "*", "lacl", ";", "<nl>", "+", "struct", "se", "_", "lun", "_", "acl", "*", "lacl", "=", "NULL", ";", "<nl>", "struct", "config", "_", "item", "*", "acl", "_", "ci", ";", "<nl>", "struct", "config", "_", "group", "*", "lacl", "_", "cg", "=", "NULL", ",", "*", "ml", "_", "stat", "_", "grp", "=", "NULL", ";", "<nl>", "char", "*", "buf", ";", "<nl>", "static", "struct", "config", "_", "group", "*", "target", "_", "fabric", "_", "make", "_", "mappedlun", "(", "<nl>", "out", ":", "<nl>", "if", "(", "lacl", "_", "cg", ")", "<nl>", "kfree", "(", "lacl", "_", "cg", "-", ">", "default", "_", "groups", ")", ";", "<nl>", "+", "kfree", "(", "lacl", ")", ";", "<nl>", "kfree", "(", "buf", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["target", "Fix", "memory", "leak", "on", "error", "in", "target_fabric_make_mappedlun"]}
{"code_tokens": ["int", "iwlagn", "_", "mac", "_", "setup", "_", "register", "(", "struct", "iwl", "_", "priv", "*", "priv", ",", "<nl>", "ARRAY", "_", "SIZE", "(", "iwlagn", "_", "iface", "_", "combinations", "_", "dualmode", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "hw", "-", ">", "wiphy", "-", ">", "max", "_", "remain", "_", "on", "_", "channel", "_", "duration", "=", "1000", ";", "<nl>", "+", "hw", "-", ">", "wiphy", "-", ">", "max", "_", "remain", "_", "on", "_", "channel", "_", "duration", "=", "500", ";", "<nl>", "<nl>", "hw", "-", ">", "wiphy", "-", ">", "flags", "|", "=", "WIPHY", "_", "FLAG", "_", "CUSTOM", "_", "REGULATORY", "|", "<nl>", "WIPHY", "_", "FLAG", "_", "DISABLE", "_", "BEACON", "_", "HINTS", "|", "<nl>"], "docstring_tokens": ["iwlwifi", "reduce", "max", "remain", "on", "channel", "duration"]}
{"code_tokens": ["int", "dsa", "_", "port", "_", "vlan", "_", "add", "(", "struct", "dsa", "_", "port", "*", "dp", ",", "<nl>", ".", "vlan", "=", "vlan", ",", "<nl>", "}", ";", "<nl>", "<nl>", "+", "if", "(", "netif", "_", "is", "_", "bridge", "_", "master", "(", "vlan", "-", ">", "obj", ".", "orig", "_", "dev", ")", ")", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "<nl>", "if", "(", "br", "_", "vlan", "_", "enabled", "(", "dp", "-", ">", "bridge", "_", "dev", ")", ")", "<nl>", "return", "dsa", "_", "port", "_", "notify", "(", "dp", ",", "DSA", "_", "NOTIFIER", "_", "VLAN", "_", "ADD", ",", "&", "info", ")", ";", "<nl>", "<nl>", "int", "dsa", "_", "port", "_", "vlan", "_", "del", "(", "struct", "dsa", "_", "port", "*", "dp", ",", "<nl>", ".", "vlan", "=", "vlan", ",", "<nl>", "}", ";", "<nl>", "<nl>", "+", "if", "(", "netif", "_", "is", "_", "bridge", "_", "master", "(", "vlan", "-", ">", "obj", ".", "orig", "_", "dev", ")", ")", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "<nl>", "if", "(", "br", "_", "vlan", "_", "enabled", "(", "dp", "-", ">", "bridge", "_", "dev", ")", ")", "<nl>", "return", "dsa", "_", "port", "_", "notify", "(", "dp", ",", "DSA", "_", "NOTIFIER", "_", "VLAN", "_", "DEL", ",", "&", "info", ")", ";", "<nl>"], "docstring_tokens": ["dsa", "port", "Ignore", "bridge", "VLAN", "events"]}
{"code_tokens": ["static", "void", "fec", "_", "enet", "_", "work", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "<nl>", "if", "(", "fep", "-", ">", "delay", "_", "work", ".", "timeout", ")", "{", "<nl>", "fep", "-", ">", "delay", "_", "work", ".", "timeout", "=", "false", ";", "<nl>", "+", "rtnl", "_", "lock", "(", ")", ";", "<nl>", "fec", "_", "restart", "(", "fep", "-", ">", "netdev", ",", "fep", "-", ">", "full", "_", "duplex", ")", ";", "<nl>", "netif", "_", "wake", "_", "queue", "(", "fep", "-", ">", "netdev", ")", ";", "<nl>", "+", "rtnl", "_", "unlock", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "fep", "-", ">", "delay", "_", "work", ".", "trig", "_", "tx", ")", "{", "<nl>", "fec", "_", "suspend", "(", "struct", "device", "*", "dev", ")", "<nl>", "struct", "net", "_", "device", "*", "ndev", "=", "dev", "_", "get", "_", "drvdata", "(", "dev", ")", ";", "<nl>", "struct", "fec", "_", "enet", "_", "private", "*", "fep", "=", "netdev", "_", "priv", "(", "ndev", ")", ";", "<nl>", "<nl>", "+", "rtnl", "_", "lock", "(", ")", ";", "<nl>", "if", "(", "netif", "_", "running", "(", "ndev", ")", ")", "{", "<nl>", "phy", "_", "stop", "(", "fep", "-", ">", "phy", "_", "dev", ")", ";", "<nl>", "fec", "_", "stop", "(", "ndev", ")", ";", "<nl>", "netif", "_", "device", "_", "detach", "(", "ndev", ")", ";", "<nl>", "}", "<nl>", "+", "rtnl", "_", "unlock", "(", ")", ";", "<nl>", "+", "<nl>", "fec", "_", "enet", "_", "clk", "_", "enable", "(", "ndev", ",", "false", ")", ";", "<nl>", "pinctrl", "_", "pm", "_", "select", "_", "sleep", "_", "state", "(", "&", "fep", "-", ">", "pdev", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "fec", "_", "resume", "(", "struct", "device", "*", "dev", ")", "<nl>", "if", "(", "ret", ")", "<nl>", "goto", "failed", "_", "clk", ";", "<nl>", "<nl>", "+", "rtnl", "_", "lock", "(", ")", ";", "<nl>", "if", "(", "netif", "_", "running", "(", "ndev", ")", ")", "{", "<nl>", "fec", "_", "restart", "(", "ndev", ",", "fep", "-", ">", "full", "_", "duplex", ")", ";", "<nl>", "netif", "_", "device", "_", "attach", "(", "ndev", ")", ";", "<nl>", "phy", "_", "start", "(", "fep", "-", ">", "phy", "_", "dev", ")", ";", "<nl>", "}", "<nl>", "+", "rtnl", "_", "unlock", "(", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["net", "fec", "improve", "safety", "of", "suspend", "resume", "transmit", "timeout", "paths"]}
{"code_tokens": ["xt", "_", "request", "_", "find", "_", "match", "(", "uint8", "_", "t", "nfproto", ",", "const", "char", "*", "name", ",", "uint8", "_", "t", "revision", ")", "<nl>", "{", "<nl>", "struct", "xt", "_", "match", "*", "match", ";", "<nl>", "<nl>", "+", "if", "(", "strnlen", "(", "name", ",", "XT", "_", "EXTENSION", "_", "MAXNAMELEN", ")", "=", "=", "XT", "_", "EXTENSION", "_", "MAXNAMELEN", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "+", "<nl>", "match", "=", "xt", "_", "find", "_", "match", "(", "nfproto", ",", "name", ",", "revision", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "match", ")", ")", "{", "<nl>", "request", "_", "module", "(", "\"", "%", "st", "_", "%", "s", "\"", ",", "xt", "_", "prefix", "[", "nfproto", "]", ",", "name", ")", ";", "<nl>", "struct", "xt", "_", "target", "*", "xt", "_", "request", "_", "find", "_", "target", "(", "u8", "af", ",", "const", "char", "*", "name", ",", "u8", "revision", ")", "<nl>", "{", "<nl>", "struct", "xt", "_", "target", "*", "target", ";", "<nl>", "<nl>", "+", "if", "(", "strnlen", "(", "name", ",", "XT", "_", "EXTENSION", "_", "MAXNAMELEN", ")", "=", "=", "XT", "_", "EXTENSION", "_", "MAXNAMELEN", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "+", "<nl>", "target", "=", "xt", "_", "find", "_", "target", "(", "af", ",", "name", ",", "revision", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "target", ")", ")", "{", "<nl>", "request", "_", "module", "(", "\"", "%", "st", "_", "%", "s", "\"", ",", "xt", "_", "prefix", "[", "af", "]", ",", "name", ")", ";", "<nl>"], "docstring_tokens": ["netfilter", "x_tables", "avoid", "out", "of", "bounds", "reads", "in", "xt_request_find_", "match", "target"]}
{"code_tokens": ["static", "void", "_", "_", "devexit", "sx", "_", "remove", "_", "card", "(", "struct", "sx", "_", "board", "*", "board", ",", "<nl>", "del", "_", "timer", "(", "&", "board", "-", ">", "timer", ")", ";", "<nl>", "if", "(", "pdev", ")", "{", "<nl>", "#", "ifdef", "CONFIG", "_", "PCI", "<nl>", "-", "pci", "_", "iounmap", "(", "pdev", ",", "board", "-", ">", "base2", ")", ";", "<nl>", "+", "iounmap", "(", "board", "-", ">", "base2", ")", ";", "<nl>", "pci", "_", "release", "_", "region", "(", "pdev", ",", "IS", "_", "CF", "_", "BOARD", "(", "board", ")", "?", "3", ":", "2", ")", ";", "<nl>", "#", "endif", "<nl>", "}", "else", "{", "<nl>", "static", "int", "_", "_", "devinit", "sx", "_", "pci", "_", "probe", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "}", "<nl>", "board", "-", ">", "hw", "_", "base", "=", "pci", "_", "resource", "_", "start", "(", "pdev", ",", "reg", ")", ";", "<nl>", "board", "-", ">", "base2", "=", "<nl>", "-", "board", "-", ">", "base", "=", "pci", "_", "iomap", "(", "pdev", ",", "reg", ",", "WINDOW", "_", "LEN", "(", "board", ")", ")", ";", "<nl>", "+", "board", "-", ">", "base", "=", "ioremap", "_", "nocache", "(", "board", "-", ">", "hw", "_", "base", ",", "WINDOW", "_", "LEN", "(", "board", ")", ")", ";", "<nl>", "if", "(", "!", "board", "-", ">", "base", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "ioremap", "failed", "\\", "n", "\"", ")", ";", "<nl>", "goto", "err", "_", "reg", ";", "<nl>", "static", "int", "_", "_", "devinit", "sx", "_", "pci", "_", "probe", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "<nl>", "return", "0", ";", "<nl>", "err", "_", "unmap", ":", "<nl>", "-", "pci", "_", "iounmap", "(", "pdev", ",", "board", "-", ">", "base2", ")", ";", "<nl>", "+", "iounmap", "(", "board", "-", ">", "base2", ")", ";", "<nl>", "err", "_", "reg", ":", "<nl>", "pci", "_", "release", "_", "region", "(", "pdev", ",", "reg", ")", ";", "<nl>", "err", "_", "flag", ":", "<nl>"], "docstring_tokens": ["Char", "sx", "remove", "bogus", "iomap"]}
{"code_tokens": ["static", "int", "kvaser", "_", "usb", "_", "leaf", "_", "simple", "_", "cmd", "_", "async", "(", "struct", "kvaser", "_", "usb", "_", "net", "_", "priv", "*", "priv", ",", "<nl>", "struct", "kvaser", "_", "cmd", "*", "cmd", ";", "<nl>", "int", "err", ";", "<nl>", "<nl>", "-", "cmd", "=", "kmalloc", "(", "sizeof", "(", "*", "cmd", ")", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "cmd", "=", "kzalloc", "(", "sizeof", "(", "*", "cmd", ")", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "if", "(", "!", "cmd", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "static", "int", "kvaser", "_", "usb", "_", "leaf", "_", "set", "_", "opt", "_", "mode", "(", "const", "struct", "kvaser", "_", "usb", "_", "net", "_", "priv", "*", "priv", ")", "<nl>", "struct", "kvaser", "_", "cmd", "*", "cmd", ";", "<nl>", "int", "rc", ";", "<nl>", "<nl>", "-", "cmd", "=", "kmalloc", "(", "sizeof", "(", "*", "cmd", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "cmd", "=", "kzalloc", "(", "sizeof", "(", "*", "cmd", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "cmd", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "static", "int", "kvaser", "_", "usb", "_", "leaf", "_", "flush", "_", "queue", "(", "struct", "kvaser", "_", "usb", "_", "net", "_", "priv", "*", "priv", ")", "<nl>", "struct", "kvaser", "_", "cmd", "*", "cmd", ";", "<nl>", "int", "rc", ";", "<nl>", "<nl>", "-", "cmd", "=", "kmalloc", "(", "sizeof", "(", "*", "cmd", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "cmd", "=", "kzalloc", "(", "sizeof", "(", "*", "cmd", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "cmd", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["can", "kvaser_usb", "kvaser_usb_leaf", "Fix", "some", "info", "leaks", "to", "USB", "devices"]}
{"code_tokens": ["static", "int", "show", "_", "stat", "(", "struct", "seq", "_", "file", "*", "p", ",", "void", "*", "v", ")", "<nl>", "struct", "timespec", "boottime", ";", "<nl>", "unsigned", "int", "*", "per", "_", "irq", "_", "sum", ";", "<nl>", "<nl>", "-", "per", "_", "irq", "_", "sum", "=", "kzalloc", "(", "sizeof", "(", "unsigned", "int", ")", "*", "NR", "_", "IRQS", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "per", "_", "irq", "_", "sum", "=", "kzalloc", "(", "sizeof", "(", "unsigned", "int", ")", "*", "nr", "_", "irqs", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "per", "_", "irq", "_", "sum", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "static", "int", "show", "_", "stat", "(", "struct", "seq", "_", "file", "*", "p", ",", "void", "*", "v", ")", "<nl>", "softirq", "=", "cputime64", "_", "add", "(", "softirq", ",", "kstat", "_", "cpu", "(", "i", ")", ".", "cpustat", ".", "softirq", ")", ";", "<nl>", "steal", "=", "cputime64", "_", "add", "(", "steal", ",", "kstat", "_", "cpu", "(", "i", ")", ".", "cpustat", ".", "steal", ")", ";", "<nl>", "guest", "=", "cputime64", "_", "add", "(", "guest", ",", "kstat", "_", "cpu", "(", "i", ")", ".", "cpustat", ".", "guest", ")", ";", "<nl>", "-", "for", "(", "j", "=", "0", ";", "j", "<", "NR", "_", "IRQS", ";", "j", "+", "+", ")", "{", "<nl>", "+", "for", "(", "j", "=", "0", ";", "j", "<", "nr", "_", "irqs", ";", "j", "+", "+", ")", "{", "<nl>", "unsigned", "int", "temp", "=", "kstat", "_", "cpu", "(", "i", ")", ".", "irqs", "[", "j", "]", ";", "<nl>", "sum", "+", "=", "temp", ";", "<nl>", "per", "_", "irq", "_", "sum", "[", "j", "]", "+", "=", "temp", ";", "<nl>", "static", "int", "show", "_", "stat", "(", "struct", "seq", "_", "file", "*", "p", ",", "void", "*", "v", ")", "<nl>", "}", "<nl>", "seq", "_", "printf", "(", "p", ",", "\"", "intr", "%", "llu", "\"", ",", "(", "unsigned", "long", "long", ")", "sum", ")", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "NR", "_", "IRQS", ";", "i", "+", "+", ")", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "nr", "_", "irqs", ";", "i", "+", "+", ")", "<nl>", "seq", "_", "printf", "(", "p", ",", "\"", "%", "u", "\"", ",", "per", "_", "irq", "_", "sum", "[", "i", "]", ")", ";", "<nl>", "<nl>", "seq", "_", "printf", "(", "p", ",", "<nl>", "static", "const", "struct", "file", "_", "operations", "proc", "_", "stat", "_", "operations", "=", "{", "<nl>", "*", "/", "<nl>", "static", "void", "*", "int", "_", "seq", "_", "start", "(", "struct", "seq", "_", "file", "*", "f", ",", "loff", "_", "t", "*", "pos", ")", "<nl>", "{", "<nl>", "-", "return", "(", "*", "pos", "<", "=", "NR", "_", "IRQS", ")", "?", "pos", ":", "NULL", ";", "<nl>", "+", "return", "(", "*", "pos", "<", "=", "nr", "_", "irqs", ")", "?", "pos", ":", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "*", "int", "_", "seq", "_", "next", "(", "struct", "seq", "_", "file", "*", "f", ",", "void", "*", "v", ",", "loff", "_", "t", "*", "pos", ")", "<nl>", "{", "<nl>", "(", "*", "pos", ")", "+", "+", ";", "<nl>", "-", "if", "(", "*", "pos", ">", "NR", "_", "IRQS", ")", "<nl>", "+", "if", "(", "*", "pos", ">", "nr", "_", "irqs", ")", "<nl>", "return", "NULL", ";", "<nl>", "return", "pos", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fs", "proc", "use", "nr_irqs"]}
{"code_tokens": ["struct", "skl", "_", "up", "_", "down", "_", "mixer", "_", "cfg", "{", "<nl>", "u32", "coeff", "_", "sel", ";", "<nl>", "/", "*", "Pass", "the", "user", "coeff", "in", "this", "array", "*", "/", "<nl>", "s32", "coeff", "[", "UP", "_", "DOWN", "_", "MIXER", "_", "MAX", "_", "COEFF", "]", ";", "<nl>", "+", "u32", "ch", "_", "map", ";", "<nl>", "}", "_", "_", "packed", ";", "<nl>", "<nl>", "struct", "skl", "_", "algo", "_", "cfg", "{", "mmm", "sound", "/", "soc", "/", "intel", "/", "skylake", "/", "skl", "-", "messages", ".", "c", "<nl>", "struct", "skl", "_", "up", "_", "down", "_", "mixer", "_", "cfg", "{", "<nl>", "u32", "coeff", "_", "sel", ";", "<nl>", "/", "*", "Pass", "the", "user", "coeff", "in", "this", "array", "*", "/", "<nl>", "s32", "coeff", "[", "UP", "_", "DOWN", "_", "MIXER", "_", "MAX", "_", "COEFF", "]", ";", "<nl>", "+", "u32", "ch", "_", "map", ";", "<nl>", "}", "_", "_", "packed", ";", "<nl>", "<nl>", "struct", "skl", "_", "algo", "_", "cfg", "{", "<nl>", "static", "void", "skl", "_", "set", "_", "updown", "_", "mixer", "_", "format", "(", "struct", "skl", "_", "sst", "*", "ctx", ",", "<nl>", "skl", "_", "set", "_", "base", "_", "module", "_", "format", "(", "ctx", ",", "mconfig", ",", "<nl>", "(", "struct", "skl", "_", "base", "_", "cfg", "*", ")", "mixer", "_", "mconfig", ")", ";", "<nl>", "mixer", "_", "mconfig", "-", ">", "out", "_", "ch", "_", "cfg", "=", "fmt", "-", ">", "ch", "_", "cfg", ";", "<nl>", "+", "mixer", "_", "mconfig", "-", ">", "ch", "_", "map", "=", "fmt", "-", ">", "ch", "_", "map", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["ASoC", "Intel", "Skylake", "Add", "channel", "map", "in", "updown", "mixer", "module", "IPC"]}
{"code_tokens": ["struct", "tracepoint", "{", "<nl>", "do", "{", "\\", "<nl>", "void", "*", "*", "it", "_", "func", ";", "\\", "<nl>", "\\", "<nl>", "-", "rcu", "_", "read", "_", "lock", "_", "sched", "(", ")", ";", "\\", "<nl>", "+", "rcu", "_", "read", "_", "lock", "_", "sched", "_", "notrace", "(", ")", ";", "\\", "<nl>", "it", "_", "func", "=", "rcu", "_", "dereference", "(", "(", "tp", ")", "-", ">", "funcs", ")", ";", "\\", "<nl>", "if", "(", "it", "_", "func", ")", "{", "\\", "<nl>", "do", "{", "\\", "<nl>", "(", "(", "void", "(", "*", ")", "(", "proto", ")", ")", "(", "*", "it", "_", "func", ")", ")", "(", "args", ")", ";", "\\", "<nl>", "}", "while", "(", "*", "(", "+", "+", "it", "_", "func", ")", ")", ";", "\\", "<nl>", "}", "\\", "<nl>", "-", "rcu", "_", "read", "_", "unlock", "_", "sched", "(", ")", ";", "\\", "<nl>", "+", "rcu", "_", "read", "_", "unlock", "_", "sched", "_", "notrace", "(", ")", ";", "\\", "<nl>", "}", "while", "(", "0", ")", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["tracepoints", "use", "rcu_", "_sched_notrace"]}
{"code_tokens": ["static", "int", "set", "_", "geometry", "(", "unsigned", "int", "cmd", ",", "struct", "floppy", "_", "struct", "*", "g", ",", "<nl>", "int", "cnt", ";", "<nl>", "<nl>", "/", "*", "sanity", "checking", "for", "parameters", ".", "*", "/", "<nl>", "-", "if", "(", "g", "-", ">", "sect", "<", "=", "0", "|", "|", "<nl>", "-", "g", "-", ">", "head", "<", "=", "0", "|", "|", "<nl>", "+", "if", "(", "(", "int", ")", "g", "-", ">", "sect", "<", "=", "0", "|", "|", "<nl>", "+", "(", "int", ")", "g", "-", ">", "head", "<", "=", "0", "|", "|", "<nl>", "+", "/", "*", "check", "for", "overflow", "in", "max", "_", "sector", "*", "/", "<nl>", "+", "(", "int", ")", "(", "g", "-", ">", "sect", "*", "g", "-", ">", "head", ")", "<", "=", "0", "|", "|", "<nl>", "/", "*", "check", "for", "zero", "in", "F", "_", "SECT", "_", "PER", "_", "TRACK", "*", "/", "<nl>", "(", "unsigned", "char", ")", "(", "(", "g", "-", ">", "sect", "<", "<", "2", ")", ">", ">", "FD", "_", "SIZECODE", "(", "g", ")", ")", "=", "=", "0", "|", "|", "<nl>", "g", "-", ">", "track", "<", "=", "0", "|", "|", "g", "-", ">", "track", ">", "UDP", "-", ">", "tracks", ">", ">", "STRETCH", "(", "g", ")", "|", "|", "<nl>"], "docstring_tokens": ["floppy", "fix", "out", "of", "bounds", "read", "in", "copy_buffer"]}
{"code_tokens": ["-", "/", "*", "$", "Id", ":", "time", ".", "c", ",", "v", "1", ".", "18", "2005", "/", "03", "/", "04", "08", ":", "16", ":", "17", "starvik", "Exp", "$", "<nl>", "-", "*", "<nl>", "+", "/", "*", "<nl>", "*", "linux", "/", "arch", "/", "cris", "/", "kernel", "/", "time", ".", "c", "<nl>", "*", "<nl>", "*", "Copyright", "(", "C", ")", "1991", ",", "1992", ",", "1995", "Linus", "Torvalds", "<nl>", "*", "Linux", "/", "CRIS", "specific", "code", ":", "<nl>", "*", "<nl>", "*", "Authors", ":", "Bjorn", "Wesen", "<nl>", "-", "*", "Johan", "Adolfsson", "<nl>", "+", "*", "Johan", "Adolfsson", "<nl>", "*", "<nl>", "*", "/", "<nl>", "<nl>", "cris", "_", "do", "_", "profile", "(", "struct", "pt", "_", "regs", "*", "regs", ")", "<nl>", "#", "endif", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "PROFILING", "<nl>", "-", "profile", "_", "tick", "(", "CPU", "_", "PROFILING", ")", ";", "<nl>", "+", "profile", "_", "tick", "(", "CPU", "_", "PROFILING", ",", "regs", ")", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "<nl>", "+", "unsigned", "long", "long", "sched", "_", "clock", "(", "void", ")", "<nl>", "+", "{", "<nl>", "+", "return", "(", "unsigned", "long", "long", ")", "jiffies", "*", "(", "1000000000", "/", "HZ", ")", "+", "<nl>", "+", "get", "_", "ns", "_", "in", "_", "jiffie", "(", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "int", "<nl>", "_", "_", "init", "init", "_", "udelay", "(", "void", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["CRIS", "Add", "sched_clock", "to", "kernel", "time", "c"]}
{"code_tokens": ["static", "int", "_", "_", "poke", "_", "user", "(", "struct", "task", "_", "struct", "*", "child", ",", "addr", "_", "t", "addr", ",", "addr", "_", "t", "data", ")", "<nl>", "unsigned", "long", "mask", "=", "PSW", "_", "MASK", "_", "USER", ";", "<nl>", "<nl>", "mask", "|", "=", "is", "_", "ri", "_", "task", "(", "child", ")", "?", "PSW", "_", "MASK", "_", "RI", ":", "0", ";", "<nl>", "-", "if", "(", "(", "data", "&", "~", "mask", ")", "!", "=", "PSW", "_", "USER", "_", "BITS", ")", "<nl>", "+", "if", "(", "(", "data", "^", "PSW", "_", "USER", "_", "BITS", ")", "&", "~", "mask", ")", "<nl>", "+", "/", "*", "Invalid", "psw", "mask", ".", "*", "/", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "if", "(", "(", "data", "&", "PSW", "_", "MASK", "_", "ASC", ")", "=", "=", "PSW", "_", "ASC", "_", "HOME", ")", "<nl>", "+", "/", "*", "Invalid", "address", "-", "space", "-", "control", "bits", "*", "/", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "if", "(", "(", "data", "&", "PSW", "_", "MASK", "_", "EA", ")", "&", "&", "!", "(", "data", "&", "PSW", "_", "MASK", "_", "BA", ")", ")", "<nl>", "+", "/", "*", "Invalid", "addressing", "mode", "bits", "*", "/", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "*", "(", "addr", "_", "t", "*", ")", "(", "(", "addr", "_", "t", ")", "&", "task", "_", "pt", "_", "regs", "(", "child", ")", "-", ">", "psw", "+", "addr", ")", "=", "data", ";", "<nl>", "static", "int", "_", "_", "poke", "_", "user", "_", "compat", "(", "struct", "task", "_", "struct", "*", "child", ",", "<nl>", "<nl>", "mask", "|", "=", "is", "_", "ri", "_", "task", "(", "child", ")", "?", "PSW32", "_", "MASK", "_", "RI", ":", "0", ";", "<nl>", "/", "*", "Build", "a", "64", "bit", "psw", "mask", "from", "31", "bit", "mask", ".", "*", "/", "<nl>", "-", "if", "(", "(", "tmp", "&", "~", "mask", ")", "!", "=", "PSW32", "_", "USER", "_", "BITS", ")", "<nl>", "+", "if", "(", "(", "tmp", "^", "PSW32", "_", "USER", "_", "BITS", ")", "&", "~", "mask", ")", "<nl>", "/", "*", "Invalid", "psw", "mask", ".", "*", "/", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "+", "if", "(", "(", "data", "&", "PSW32", "_", "MASK", "_", "ASC", ")", "=", "=", "PSW32", "_", "ASC", "_", "HOME", ")", "<nl>", "+", "/", "*", "Invalid", "address", "-", "space", "-", "control", "bits", "*", "/", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "regs", "-", ">", "psw", ".", "mask", "=", "(", "regs", "-", ">", "psw", ".", "mask", "&", "~", "PSW", "_", "MASK", "_", "USER", ")", "|", "<nl>", "(", "regs", "-", ">", "psw", ".", "mask", "&", "PSW", "_", "MASK", "_", "BA", ")", "|", "<nl>", "(", "_", "_", "u64", ")", "(", "tmp", "&", "mask", ")", "<", "<", "32", ";", "<nl>"], "docstring_tokens": ["s390", "ptrace", "fix", "PSW", "mask", "check"]}
{"code_tokens": ["static", "int", "snd", "_", "usb", "_", "cm106", "_", "boot", "_", "quirk", "(", "struct", "usb", "_", "device", "*", "dev", ")", "<nl>", "*", "/", "<nl>", "static", "int", "snd", "_", "usb", "_", "cm6206", "_", "boot", "_", "quirk", "(", "struct", "usb", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "-", "int", "err", ",", "reg", ";", "<nl>", "+", "int", "err", "=", "0", ",", "reg", ";", "<nl>", "int", "val", "[", "]", "=", "{", "0x2004", ",", "0x3000", ",", "0xf800", ",", "0x143f", ",", "0x0000", ",", "0x3000", "}", ";", "<nl>", "<nl>", "for", "(", "reg", "=", "0", ";", "reg", "<", "ARRAY", "_", "SIZE", "(", "val", ")", ";", "reg", "+", "+", ")", "{", "<nl>"], "docstring_tokens": ["ALSA", "snd", "usb", "Fix", "uninitialized", "variable", "usage"]}
{"code_tokens": ["static", "void", "_", "_", "drop", "_", "largest", "_", "extent", "(", "struct", "inode", "*", "inode", ",", "<nl>", "}", "<nl>", "<nl>", "/", "*", "return", "true", ",", "if", "inode", "page", "is", "changed", "*", "/", "<nl>", "-", "bool", "f2fs", "_", "init", "_", "extent", "_", "tree", "(", "struct", "inode", "*", "inode", ",", "struct", "f2fs", "_", "extent", "*", "i", "_", "ext", ")", "<nl>", "+", "static", "bool", "_", "_", "f2fs", "_", "init", "_", "extent", "_", "tree", "(", "struct", "inode", "*", "inode", ",", "struct", "f2fs", "_", "extent", "*", "i", "_", "ext", ")", "<nl>", "{", "<nl>", "struct", "f2fs", "_", "sb", "_", "info", "*", "sbi", "=", "F2FS", "_", "I", "_", "SB", "(", "inode", ")", ";", "<nl>", "struct", "extent", "_", "tree", "*", "et", ";", "<nl>", "bool", "f2fs", "_", "init", "_", "extent", "_", "tree", "(", "struct", "inode", "*", "inode", ",", "struct", "f2fs", "_", "extent", "*", "i", "_", "ext", ")", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>", "<nl>", "+", "bool", "f2fs", "_", "init", "_", "extent", "_", "tree", "(", "struct", "inode", "*", "inode", ",", "struct", "f2fs", "_", "extent", "*", "i", "_", "ext", ")", "<nl>", "+", "{", "<nl>", "+", "bool", "ret", "=", "_", "_", "f2fs", "_", "init", "_", "extent", "_", "tree", "(", "inode", ",", "i", "_", "ext", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "F2FS", "_", "I", "(", "inode", ")", "-", ">", "extent", "_", "tree", ")", "<nl>", "+", "set", "_", "inode", "_", "flag", "(", "inode", ",", "FI", "_", "NO", "_", "EXTENT", ")", ";", "<nl>", "+", "<nl>", "+", "return", "ret", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "bool", "f2fs", "_", "lookup", "_", "extent", "_", "tree", "(", "struct", "inode", "*", "inode", ",", "pgoff", "_", "t", "pgofs", ",", "<nl>", "struct", "extent", "_", "info", "*", "ei", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["f2fs", "fix", "a", "bug", "caused", "by", "NULL", "extent", "tree"]}
{"code_tokens": ["static", "const", "char", "*", "sky2", "_", "name", "(", "u8", "chipid", ",", "char", "*", "buf", ",", "int", "sz", ")", "<nl>", "\"", "Optima", "\"", ",", "/", "*", "0xbc", "*", "/", "<nl>", "}", ";", "<nl>", "<nl>", "-", "if", "(", "chipid", ">", "=", "CHIP", "_", "ID", "_", "YUKON", "_", "XL", "&", "&", "chipid", "<", "CHIP", "_", "ID", "_", "YUKON", "_", "OPT", ")", "<nl>", "+", "if", "(", "chipid", ">", "=", "CHIP", "_", "ID", "_", "YUKON", "_", "XL", "&", "&", "chipid", "<", "=", "CHIP", "_", "ID", "_", "YUKON", "_", "OPT", ")", "<nl>", "strncpy", "(", "buf", ",", "name", "[", "chipid", "-", "CHIP", "_", "ID", "_", "YUKON", "_", "XL", "]", ",", "sz", ")", ";", "<nl>", "else", "<nl>", "snprintf", "(", "buf", ",", "sz", ",", "\"", "(", "chip", "%", "#", "x", ")", "\"", ",", "chipid", ")", ";", "<nl>"], "docstring_tokens": ["sky2", "print", "Optima", "chip", "name"]}
{"code_tokens": ["struct", "ata", "_", "host", "*", "ata", "_", "host", "_", "alloc", "(", "struct", "device", "*", "dev", ",", "int", "max", "_", "ports", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "if", "(", "!", "devres", "_", "open", "_", "group", "(", "dev", ",", "NULL", ",", "GFP", "_", "KERNEL", ")", ")", "<nl>", "-", "return", "NULL", ";", "<nl>", "+", "goto", "err", "_", "free", ";", "<nl>", "<nl>", "dr", "=", "devres", "_", "alloc", "(", "ata", "_", "devres", "_", "release", ",", "0", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "dr", ")", "<nl>", "struct", "ata", "_", "host", "*", "ata", "_", "host", "_", "alloc", "(", "struct", "device", "*", "dev", ",", "int", "max", "_", "ports", ")", "<nl>", "<nl>", "err", "_", "out", ":", "<nl>", "devres", "_", "release", "_", "group", "(", "dev", ",", "NULL", ")", ";", "<nl>", "+", "err", "_", "free", ":", "<nl>", "+", "kfree", "(", "host", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["libata", "ensure", "host", "is", "free", "d", "on", "error", "exit", "paths"]}
{"code_tokens": ["int", "dn", "_", "fib", "_", "dump", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "netlink", "_", "callback", "*", "cb", ")", "<nl>", "if", "(", "t", "<", "s", "_", "t", ")", "<nl>", "continue", ";", "<nl>", "if", "(", "t", ">", "s", "_", "t", ")", "<nl>", "-", "memset", "(", "&", "cb", "-", ">", "args", "[", "1", "]", ",", "0", ",", "sizeof", "(", "cb", "-", ">", "args", ")", "-", "sizeof", "(", "int", ")", ")", ";", "<nl>", "+", "memset", "(", "&", "cb", "-", ">", "args", "[", "1", "]", ",", "0", ",", "<nl>", "+", "sizeof", "(", "cb", "-", ">", "args", ")", "-", "sizeof", "(", "cb", "-", ">", "args", "[", "0", "]", ")", ")", ";", "<nl>", "tb", "=", "dn", "_", "fib", "_", "get", "_", "table", "(", "t", ",", "0", ")", ";", "<nl>", "if", "(", "tb", "=", "=", "NULL", ")", "<nl>", "continue", ";", "<nl>"], "docstring_tokens": ["DECNET", "Fix", "memset", "overflow", "on", "64bit", "archs", "while", "dumping", "decnet", "routing", "rules"]}
{"code_tokens": ["static", "struct", "ctl", "_", "table", "rds", "_", "sysctl", "_", "rds", "_", "table", "[", "]", "=", "{", "<nl>", "{", "<nl>", ".", "procname", "=", "\"", "max", "_", "unacked", "_", "packets", "\"", ",", "<nl>", ".", "data", "=", "&", "rds", "_", "sysctl", "_", "max", "_", "unacked", "_", "packets", ",", "<nl>", "-", ".", "maxlen", "=", "sizeof", "(", "unsigned", "long", ")", ",", "<nl>", "+", ".", "maxlen", "=", "sizeof", "(", "int", ")", ",", "<nl>", ".", "mode", "=", "0644", ",", "<nl>", ".", "proc", "_", "handler", "=", "proc", "_", "dointvec", ",", "<nl>", "}", ",", "<nl>", "{", "<nl>", ".", "procname", "=", "\"", "max", "_", "unacked", "_", "bytes", "\"", ",", "<nl>", ".", "data", "=", "&", "rds", "_", "sysctl", "_", "max", "_", "unacked", "_", "bytes", ",", "<nl>", "-", ".", "maxlen", "=", "sizeof", "(", "unsigned", "long", ")", ",", "<nl>", "+", ".", "maxlen", "=", "sizeof", "(", "int", ")", ",", "<nl>", ".", "mode", "=", "0644", ",", "<nl>", ".", "proc", "_", "handler", "=", "proc", "_", "dointvec", ",", "<nl>", "}", ",", "<nl>"], "docstring_tokens": ["net", "rds", "use", "correct", "size", "for", "max", "unacked", "packets", "and", "bytes"]}
{"code_tokens": ["static", "s32", "e1000", "_", "phy", "_", "hw", "_", "reset", "_", "ich8lan", "(", "struct", "e1000", "_", "hw", "*", "hw", ")", "<nl>", "u32", "i", ";", "<nl>", "u32", "data", ",", "cnf", "_", "size", ",", "cnf", "_", "base", "_", "addr", ",", "sw", "_", "cfg", "_", "mask", ";", "<nl>", "s32", "ret", "_", "val", ";", "<nl>", "-", "u16", "word", "_", "addr", ",", "reg", "_", "data", ",", "reg", "_", "addr", ",", "phy", "_", "page", "=", "0", ";", "<nl>", "+", "u16", "reg", ",", "word", "_", "addr", ",", "reg", "_", "data", ",", "reg", "_", "addr", ",", "phy", "_", "page", "=", "0", ";", "<nl>", "<nl>", "ret", "_", "val", "=", "e1000e", "_", "phy", "_", "hw", "_", "reset", "_", "generic", "(", "hw", ")", ";", "<nl>", "if", "(", "ret", "_", "val", ")", "<nl>", "static", "s32", "e1000", "_", "phy", "_", "hw", "_", "reset", "_", "ich8lan", "(", "struct", "e1000", "_", "hw", "*", "hw", ")", "<nl>", "return", "ret", "_", "val", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Dummy", "read", "to", "clear", "the", "phy", "wakeup", "bit", "after", "lcd", "reset", "*", "/", "<nl>", "+", "if", "(", "hw", "-", ">", "mac", ".", "type", "=", "=", "e1000", "_", "pchlan", ")", "<nl>", "+", "e1e", "_", "rphy", "(", "hw", ",", "BM", "_", "WUC", ",", "&", "reg", ")", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Initialize", "the", "PHY", "from", "the", "NVM", "on", "ICH", "platforms", ".", "This", "<nl>", "*", "is", "needed", "due", "to", "an", "issue", "where", "the", "NVM", "configuration", "is", "<nl>", "static", "s32", "e1000", "_", "get", "_", "bus", "_", "info", "_", "ich8lan", "(", "struct", "e1000", "_", "hw", "*", "hw", ")", "<nl>", "*", "*", "/", "<nl>", "static", "s32", "e1000", "_", "reset", "_", "hw", "_", "ich8lan", "(", "struct", "e1000", "_", "hw", "*", "hw", ")", "<nl>", "{", "<nl>", "+", "u16", "reg", ";", "<nl>", "u32", "ctrl", ",", "icr", ",", "kab", ";", "<nl>", "s32", "ret", "_", "val", ";", "<nl>", "<nl>", "static", "s32", "e1000", "_", "reset", "_", "hw", "_", "ich8lan", "(", "struct", "e1000", "_", "hw", "*", "hw", ")", "<nl>", "hw", "_", "dbg", "(", "hw", ",", "\"", "Auto", "Read", "Done", "did", "not", "complete", "\\", "n", "\"", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "/", "*", "Dummy", "read", "to", "clear", "the", "phy", "wakeup", "bit", "after", "lcd", "reset", "*", "/", "<nl>", "+", "if", "(", "hw", "-", ">", "mac", ".", "type", "=", "=", "e1000", "_", "pchlan", ")", "<nl>", "+", "e1e", "_", "rphy", "(", "hw", ",", "BM", "_", "WUC", ",", "&", "reg", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "For", "PCH", ",", "this", "write", "will", "make", "sure", "that", "any", "noise", "<nl>"], "docstring_tokens": ["e1000e", "clear", "PHY", "wakeup", "bit", "after", "LCD", "reset", "on", "82577", "82578"]}
{"code_tokens": ["static", "void", "smc911x", "_", "reset", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "do", "{", "<nl>", "udelay", "(", "10", ")", ";", "<nl>", "reg", "=", "SMC", "_", "GET", "_", "PMT", "_", "CTRL", "(", ")", "&", "PMT", "_", "CTRL", "_", "READY", "_", ";", "<nl>", "-", "}", "while", "(", "timeout", "-", "-", "&", "&", "!", "reg", ")", ";", "<nl>", "+", "}", "while", "(", "-", "-", "timeout", "&", "&", "!", "reg", ")", ";", "<nl>", "if", "(", "timeout", "=", "=", "0", ")", "{", "<nl>", "PRINTK", "(", "\"", "%", "s", ":", "smc911x", "_", "reset", "timeout", "waiting", "for", "PM", "restore", "\\", "n", "\"", ",", "dev", "-", ">", "name", ")", ";", "<nl>", "return", ";", "<nl>", "static", "void", "smc911x", "_", "reset", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "resets", "+", "+", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "-", "}", "while", "(", "timeout", "-", "-", "&", "&", "(", "reg", "&", "HW", "_", "CFG", "_", "SRST", "_", ")", ")", ";", "<nl>", "+", "}", "while", "(", "-", "-", "timeout", "&", "&", "(", "reg", "&", "HW", "_", "CFG", "_", "SRST", "_", ")", ")", ";", "<nl>", "}", "<nl>", "if", "(", "timeout", "=", "=", "0", ")", "{", "<nl>", "PRINTK", "(", "\"", "%", "s", ":", "smc911x", "_", "reset", "timeout", "waiting", "for", "reset", "\\", "n", "\"", ",", "dev", "-", ">", "name", ")", ";", "<nl>", "static", "inline", "void", "smc911x", "_", "drop", "_", "pkt", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "do", "{", "<nl>", "udelay", "(", "10", ")", ";", "<nl>", "reg", "=", "SMC", "_", "GET", "_", "RX", "_", "DP", "_", "CTRL", "(", ")", "&", "RX", "_", "DP", "_", "CTRL", "_", "FFWD", "_", "BUSY", "_", ";", "<nl>", "-", "}", "while", "(", "timeout", "-", "-", "&", "&", "reg", ")", ";", "<nl>", "+", "}", "while", "(", "-", "-", "timeout", "&", "&", "reg", ")", ";", "<nl>", "if", "(", "timeout", "=", "=", "0", ")", "{", "<nl>", "PRINTK", "(", "\"", "%", "s", ":", "timeout", "waiting", "for", "RX", "fast", "forward", "\\", "n", "\"", ",", "dev", "-", ">", "name", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["smc911x", "test", "after", "postfix", "decrement", "fails", "in", "smc911x_", "reset", "drop_pkt"]}
{"code_tokens": ["static", "ssize", "_", "t", "set", "_", "vrm", "(", "struct", "device", "*", "dev", ",", "struct", "device", "_", "attribute", "*", "attr", ",", "<nl>", "err", "=", "kstrtoul", "(", "buf", ",", "10", ",", "&", "val", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "return", "err", ";", "<nl>", "+", "<nl>", "+", "if", "(", "val", ">", "255", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "data", "-", ">", "vrm", "=", "val", ";", "<nl>", "return", "count", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["hwmon", "asb100", "Fix", "vrm", "write", "operation"]}
{"code_tokens": ["mwifiex", "_", "update", "_", "curr", "_", "bss", "_", "params", "(", "struct", "mwifiex", "_", "private", "*", "priv", ",", "u8", "*", "bssid", ",", "<nl>", "s32", "rssi", ",", "const", "u8", "*", "ie", "_", "buf", ",", "size", "_", "t", "ie", "_", "len", ",", "<nl>", "u16", "beacon", "_", "period", ",", "u16", "cap", "_", "info", "_", "bitmap", ",", "u8", "band", ")", "<nl>", "{", "<nl>", "-", "struct", "mwifiex", "_", "bssdescriptor", "*", "bss", "_", "desc", "=", "NULL", ";", "<nl>", "+", "struct", "mwifiex", "_", "bssdescriptor", "*", "bss", "_", "desc", ";", "<nl>", "int", "ret", ";", "<nl>", "unsigned", "long", "flags", ";", "<nl>", "u8", "*", "beacon", "_", "ie", ";", "<nl>", "mwifiex", "_", "update", "_", "curr", "_", "bss", "_", "params", "(", "struct", "mwifiex", "_", "private", "*", "priv", ",", "u8", "*", "bssid", ",", "<nl>", "<nl>", "beacon", "_", "ie", "=", "kmemdup", "(", "ie", "_", "buf", ",", "ie", "_", "len", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "beacon", "_", "ie", ")", "{", "<nl>", "+", "kfree", "(", "bss", "_", "desc", ")", ";", "<nl>", "dev", "_", "err", "(", "priv", "-", ">", "adapter", "-", ">", "dev", ",", "\"", "failed", "to", "alloc", "beacon", "_", "ie", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "wireless", "mwifiex", "Fix", "mem", "leak", "in", "mwifiex_update_curr_bss_params"]}
{"code_tokens": ["snd", "_", "ali", "_", "playback", "_", "pointer", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ")", "<nl>", "spin", "_", "unlock", "(", "&", "codec", "-", ">", "reg", "_", "lock", ")", ";", "<nl>", "dev", "_", "dbg", "(", "codec", "-", ">", "card", "-", ">", "dev", ",", "\"", "playback", "pointer", "returned", "cso", "=", "%", "xh", ".", "\\", "n", "\"", ",", "cso", ")", ";", "<nl>", "<nl>", "+", "cso", "%", "=", "runtime", "-", ">", "buffer", "_", "size", ";", "<nl>", "return", "cso", ";", "<nl>", "}", "<nl>", "<nl>", "static", "snd", "_", "pcm", "_", "uframes", "_", "t", "snd", "_", "ali", "_", "pointer", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ")", "<nl>", "cso", "=", "inw", "(", "ALI", "_", "REG", "(", "codec", ",", "ALI", "_", "CSO", "_", "ALPHA", "_", "FMS", "+", "2", ")", ")", ";", "<nl>", "spin", "_", "unlock", "(", "&", "codec", "-", ">", "reg", "_", "lock", ")", ";", "<nl>", "<nl>", "+", "cso", "%", "=", "runtime", "-", ">", "buffer", "_", "size", ";", "<nl>", "return", "cso", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "ali5451", "Fix", "out", "of", "bound", "position", "reporting"]}
{"code_tokens": ["static", "int", "wm97xx", "_", "init", "_", "pen", "_", "irq", "(", "struct", "wm97xx", "*", "wm", ")", "<nl>", "*", "provided", ".", "*", "/", "<nl>", "BUG", "_", "ON", "(", "!", "wm", "-", ">", "mach", "_", "ops", "-", ">", "irq", "_", "enable", ")", ";", "<nl>", "<nl>", "-", "if", "(", "request", "_", "irq", "(", "wm", "-", ">", "pen", "_", "irq", ",", "wm97xx", "_", "pen", "_", "interrupt", ",", "IRQF", "_", "SHARED", ",", "<nl>", "+", "if", "(", "request", "_", "irq", "(", "wm", "-", ">", "pen", "_", "irq", ",", "wm97xx", "_", "pen", "_", "interrupt", ",", "<nl>", "+", "IRQF", "_", "SHARED", "|", "IRQF", "_", "SAMPLE", "_", "RANDOM", ",", "<nl>", "\"", "wm97xx", "-", "pen", "\"", ",", "wm", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "wm", "-", ">", "dev", ",", "<nl>", "\"", "Failed", "to", "register", "pen", "down", "interrupt", ",", "polling", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Input", "wm97xx", "core", "use", "IRQF_SAMPLE_RANDOM"]}
{"code_tokens": ["static", "int", "mwifiex", "_", "pcie", "_", "alloc", "_", "cmdrsp", "_", "buf", "(", "struct", "mwifiex", "_", "adapter", "*", "adapter", ")", "<nl>", "}", "<nl>", "skb", "_", "put", "(", "skb", ",", "MWIFIEX", "_", "UPLD", "_", "SIZE", ")", ";", "<nl>", "if", "(", "mwifiex", "_", "map", "_", "pci", "_", "memory", "(", "adapter", ",", "skb", ",", "MWIFIEX", "_", "UPLD", "_", "SIZE", ",", "<nl>", "-", "PCI", "_", "DMA", "_", "FROMDEVICE", ")", ")", "<nl>", "+", "PCI", "_", "DMA", "_", "FROMDEVICE", ")", ")", "{", "<nl>", "+", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "+", "}", "<nl>", "<nl>", "card", "-", ">", "cmdrsp", "_", "buf", "=", "skb", ";", "<nl>"], "docstring_tokens": ["mwifiex", "pcie", "Fix", "memory", "leak", "in", "mwifiex_pcie_alloc_cmdrsp_buf"]}
{"code_tokens": ["static", "void", "hci", "_", "cc", "_", "read", "_", "local", "_", "name", "(", "struct", "hci", "_", "dev", "*", "hdev", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "if", "(", "rp", "-", ">", "status", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "memcpy", "(", "hdev", "-", ">", "dev", "_", "name", ",", "rp", "-", ">", "name", ",", "HCI", "_", "MAX", "_", "NAME", "_", "LENGTH", ")", ";", "<nl>", "+", "if", "(", "test", "_", "bit", "(", "HCI", "_", "SETUP", ",", "&", "hdev", "-", ">", "dev", "_", "flags", ")", ")", "<nl>", "+", "memcpy", "(", "hdev", "-", ">", "dev", "_", "name", ",", "rp", "-", ">", "name", ",", "HCI", "_", "MAX", "_", "NAME", "_", "LENGTH", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "hci", "_", "cc", "_", "write", "_", "auth", "_", "enable", "(", "struct", "hci", "_", "dev", "*", "hdev", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>"], "docstring_tokens": ["Bluetooth", "Fix", "read_name", "updating", "when", "HCI_SETUP", "is", "not", "set"]}
{"code_tokens": ["pi433", "_", "tx", "_", "thread", "(", "void", "*", "data", ")", "<nl>", "while", "(", "(", "repetitions", ">", "0", ")", "&", "&", "(", "size", ">", "position", ")", ")", "{", "<nl>", "if", "(", "(", "size", "-", "position", ")", ">", "device", "-", ">", "free", "_", "in", "_", "fifo", ")", "{", "<nl>", "/", "*", "msg", "to", "big", "for", "fifo", "-", "take", "a", "part", "*", "/", "<nl>", "-", "int", "temp", "=", "device", "-", ">", "free", "_", "in", "_", "fifo", ";", "<nl>", "+", "int", "write", "_", "size", "=", "device", "-", ">", "free", "_", "in", "_", "fifo", ";", "<nl>", "+", "<nl>", "device", "-", ">", "free", "_", "in", "_", "fifo", "=", "0", ";", "<nl>", "rf69", "_", "write", "_", "fifo", "(", "spi", ",", "<nl>", "&", "device", "-", ">", "buffer", "[", "position", "]", ",", "<nl>", "-", "temp", ")", ";", "<nl>", "-", "position", "+", "=", "temp", ";", "<nl>", "+", "write", "_", "size", ")", ";", "<nl>", "+", "position", "+", "=", "write", "_", "size", ";", "<nl>", "}", "else", "{", "<nl>", "/", "*", "msg", "fits", "into", "fifo", "-", "take", "all", "*", "/", "<nl>", "device", "-", ">", "free", "_", "in", "_", "fifo", "-", "=", "size", ";", "<nl>"], "docstring_tokens": ["staging", "pi433", "cleanup", "local", "variable"]}
{"code_tokens": ["static", "int", "camif", "_", "media", "_", "dev", "_", "init", "(", "struct", "camif", "_", "dev", "*", "camif", ")", "<nl>", "ip", "_", "rev", "=", "=", "S3C6410", "_", "CAMIF", "_", "IP", "_", "REV", "?", "\"", "6410", "\"", ":", "\"", "244X", "\"", ")", ";", "<nl>", "strlcpy", "(", "md", "-", ">", "bus", "_", "info", ",", "\"", "platform", "\"", ",", "sizeof", "(", "md", "-", ">", "bus", "_", "info", ")", ")", ";", "<nl>", "md", "-", ">", "hw", "_", "revision", "=", "ip", "_", "rev", ";", "<nl>", "-", "md", "-", ">", "driver", "_", "version", "=", "KERNEL", "_", "VERSION", "(", "1", ",", "0", ",", "0", ")", ";", "<nl>", "+", "md", "-", ">", "driver", "_", "version", "=", "LINUX", "_", "VERSION", "_", "CODE", ";", "<nl>", "<nl>", "md", "-", ">", "dev", "=", "camif", "-", ">", "dev", ";", "<nl>"], "docstring_tokens": ["media", "s3c", "camif", "use", "LINUX_VERSION_CODE", "for", "driver", "s", "version"]}
{"code_tokens": ["static", "int", "ar9003", "_", "hw", "_", "set", "_", "channel", "(", "struct", "ath", "_", "hw", "*", "ah", ",", "struct", "ath9k", "_", "channel", "*", "chan", ")", "<nl>", "u32", "chan", "_", "frac", ";", "<nl>", "<nl>", "channelSel", "=", "(", "freq", "*", "2", ")", "/", "75", ";", "<nl>", "-", "chan", "_", "frac", "=", "(", "(", "freq", "%", "75", ")", "*", "0x20000", ")", "/", "75", ";", "<nl>", "+", "chan", "_", "frac", "=", "(", "(", "(", "freq", "*", "2", ")", "%", "75", ")", "*", "0x20000", ")", "/", "75", ";", "<nl>", "channelSel", "=", "(", "channelSel", "<", "<", "17", ")", "|", "chan", "_", "frac", ";", "<nl>", "}", "else", "{", "<nl>", "channelSel", "=", "CHANSEL", "_", "5G", "(", "freq", ")", ";", "<nl>"], "docstring_tokens": ["ath9k", "fix", "channel", "frequency", "calculation", "for", "AR9340"]}
{"code_tokens": ["static", "int", "copy", "_", "msghdr", "_", "from", "_", "user", "(", "struct", "msghdr", "*", "kmsg", ",", "<nl>", "{", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "kmsg", ",", "umsg", ",", "sizeof", "(", "struct", "msghdr", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "+", "<nl>", "+", "if", "(", "kmsg", "-", ">", "msg", "_", "namelen", "<", "0", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "if", "(", "kmsg", "-", ">", "msg", "_", "namelen", ">", "sizeof", "(", "struct", "sockaddr", "_", "storage", ")", ")", "<nl>", "kmsg", "-", ">", "msg", "_", "namelen", "=", "sizeof", "(", "struct", "sockaddr", "_", "storage", ")", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["net", "socket", "error", "on", "a", "negative", "msg_namelen"]}
{"code_tokens": ["static", "int", "tpacket", "_", "snd", "(", "struct", "packet", "_", "sock", "*", "po", ",", "struct", "msghdr", "*", "msg", ")", "<nl>", "}", "<nl>", "tp", "_", "len", "=", "tpacket", "_", "fill", "_", "skb", "(", "po", ",", "skb", ",", "ph", ",", "dev", ",", "size", "_", "max", ",", "proto", ",", "<nl>", "addr", ",", "hlen", ")", ";", "<nl>", "-", "if", "(", "tp", "_", "len", ">", "dev", "-", ">", "mtu", "+", "dev", "-", ">", "hard", "_", "header", "_", "len", ")", "{", "<nl>", "+", "if", "(", "likely", "(", "tp", "_", "len", ">", "=", "0", ")", "&", "&", "<nl>", "+", "tp", "_", "len", ">", "dev", "-", ">", "mtu", "+", "dev", "-", ">", "hard", "_", "header", "_", "len", ")", "{", "<nl>", "struct", "ethhdr", "*", "ehdr", ";", "<nl>", "/", "*", "Earlier", "code", "assumed", "this", "would", "be", "a", "VLAN", "pkt", ",", "<nl>", "*", "double", "-", "check", "this", "now", "that", "we", "have", "the", "actual", "<nl>"], "docstring_tokens": ["packet", "tpacket_snd", "fix", "signed", "unsigned", "comparison"]}
{"code_tokens": ["struct", "pccard", "_", "resource", "_", "ops", "{", "<nl>", "/", "*", "Flags", "in", "socket", "state", "*", "/", "<nl>", "#", "define", "SOCKET", "_", "PRESENT", "0x0008", "<nl>", "#", "define", "SOCKET", "_", "INUSE", "0x0010", "<nl>", "+", "#", "define", "SOCKET", "_", "IN", "_", "RESUME", "0x0040", "<nl>", "#", "define", "SOCKET", "_", "SUSPEND", "0x0080", "<nl>", "#", "define", "SOCKET", "_", "WIN", "_", "REQ", "(", "i", ")", "(", "0x0100", "<", "<", "(", "i", ")", ")", "<nl>", "#", "define", "SOCKET", "_", "CARDBUS", "0x8000mmm", "drivers", "/", "pcmcia", "/", "cs", ".", "c", "<nl>", "struct", "pccard", "_", "resource", "_", "ops", "{", "<nl>", "/", "*", "Flags", "in", "socket", "state", "*", "/", "<nl>", "#", "define", "SOCKET", "_", "PRESENT", "0x0008", "<nl>", "#", "define", "SOCKET", "_", "INUSE", "0x0010", "<nl>", "+", "#", "define", "SOCKET", "_", "IN", "_", "RESUME", "0x0040", "<nl>", "#", "define", "SOCKET", "_", "SUSPEND", "0x0080", "<nl>", "#", "define", "SOCKET", "_", "WIN", "_", "REQ", "(", "i", ")", "(", "0x0100", "<", "<", "(", "i", ")", ")", "<nl>", "#", "define", "SOCKET", "_", "CARDBUS", "0x8000", "<nl>", "static", "int", "socket", "_", "insert", "(", "struct", "pcmcia", "_", "socket", "*", "skt", ")", "<nl>", "<nl>", "static", "int", "socket", "_", "suspend", "(", "struct", "pcmcia", "_", "socket", "*", "skt", ")", "<nl>", "{", "<nl>", "-", "if", "(", "skt", "-", ">", "state", "&", "SOCKET", "_", "SUSPEND", ")", "<nl>", "+", "if", "(", "(", "skt", "-", ">", "state", "&", "SOCKET", "_", "SUSPEND", ")", "&", "&", "!", "(", "skt", "-", ">", "state", "&", "SOCKET", "_", "IN", "_", "RESUME", ")", ")", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "skt", "-", ">", "ops", "_", "mutex", ")", ";", "<nl>", "-", "skt", "-", ">", "suspended", "_", "state", "=", "skt", "-", ">", "state", ";", "<nl>", "+", "/", "*", "store", "state", "on", "first", "suspend", ",", "but", "not", "after", "spurious", "wakeups", "*", "/", "<nl>", "+", "if", "(", "!", "(", "skt", "-", ">", "state", "&", "SOCKET", "_", "IN", "_", "RESUME", ")", ")", "<nl>", "+", "skt", "-", ">", "suspended", "_", "state", "=", "skt", "-", ">", "state", ";", "<nl>", "<nl>", "skt", "-", ">", "socket", "=", "dead", "_", "socket", ";", "<nl>", "skt", "-", ">", "ops", "-", ">", "set", "_", "socket", "(", "skt", ",", "&", "skt", "-", ">", "socket", ")", ";", "<nl>", "if", "(", "skt", "-", ">", "ops", "-", ">", "suspend", ")", "<nl>", "skt", "-", ">", "ops", "-", ">", "suspend", "(", "skt", ")", ";", "<nl>", "skt", "-", ">", "state", "|", "=", "SOCKET", "_", "SUSPEND", ";", "<nl>", "+", "skt", "-", ">", "state", "&", "=", "~", "SOCKET", "_", "IN", "_", "RESUME", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "skt", "-", ">", "ops", "_", "mutex", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "static", "int", "socket", "_", "early", "_", "resume", "(", "struct", "pcmcia", "_", "socket", "*", "skt", ")", "<nl>", "skt", "-", ">", "ops", "-", ">", "set", "_", "socket", "(", "skt", ",", "&", "skt", "-", ">", "socket", ")", ";", "<nl>", "if", "(", "skt", "-", ">", "state", "&", "SOCKET", "_", "PRESENT", ")", "<nl>", "skt", "-", ">", "resume", "_", "status", "=", "socket", "_", "setup", "(", "skt", ",", "resume", "_", "delay", ")", ";", "<nl>", "+", "skt", "-", ">", "state", "|", "=", "SOCKET", "_", "IN", "_", "RESUME", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "skt", "-", ">", "ops", "_", "mutex", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "static", "int", "socket", "_", "late", "_", "resume", "(", "struct", "pcmcia", "_", "socket", "*", "skt", ")", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "skt", "-", ">", "ops", "_", "mutex", ")", ";", "<nl>", "-", "skt", "-", ">", "state", "&", "=", "~", "SOCKET", "_", "SUSPEND", ";", "<nl>", "+", "skt", "-", ">", "state", "&", "=", "~", "(", "SOCKET", "_", "SUSPEND", "|", "SOCKET", "_", "IN", "_", "RESUME", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "skt", "-", ">", "ops", "_", "mutex", ")", ";", "<nl>", "<nl>", "if", "(", "!", "(", "skt", "-", ">", "state", "&", "SOCKET", "_", "PRESENT", ")", ")", "{", "<nl>"], "docstring_tokens": ["PCMCIA", "PM", "Avoid", "noirq", "suspend", "aborts", "during", "suspend", "to", "idle"]}
{"code_tokens": ["#", "define", "ioswabb", "(", "a", ",", "x", ")", "(", "x", ")", "<nl>", "#", "define", "_", "_", "mem", "_", "ioswabb", "(", "a", ",", "x", ")", "(", "x", ")", "<nl>", "#", "if", "defined", "(", "CONFIG", "_", "TOSHIBA", "_", "RBTX4939", ")", "&", "&", "\\", "<nl>", "-", "(", "defined", "(", "CONFIG", "_", "SMC91X", ")", "|", "|", "defined", "(", "CONFIG", "_", "SMC91X", "_", "MODULE", ")", ")", "&", "&", "\\", "<nl>", "+", "IS", "_", "ENABLED", "(", "CONFIG", "_", "SMC91X", ")", "&", "&", "\\", "<nl>", "defined", "(", "_", "_", "BIG", "_", "ENDIAN", ")", "<nl>", "#", "define", "NEEDS", "_", "TXX9", "_", "IOSWABW", "<nl>", "extern", "u16", "(", "*", "ioswabw", ")", "(", "volatile", "u16", "*", "a", ",", "u16", "x", ")", ";", "<nl>"], "docstring_tokens": ["MIPS", "TX49XX", "use", "IS_ENABLED"]}
{"code_tokens": ["static", "enum", "io", "_", "status", "ccwreq", "_", "status", "(", "struct", "ccw", "_", "device", "*", "cdev", ",", "struct", "irb", "*", "lcirb", ")", "<nl>", "/", "*", "Ask", "the", "driver", "what", "to", "do", "*", "/", "<nl>", "if", "(", "cdev", "-", ">", "drv", "&", "&", "cdev", "-", ">", "drv", "-", ">", "uc", "_", "handler", ")", "{", "<nl>", "todo", "=", "cdev", "-", ">", "drv", "-", ">", "uc", "_", "handler", "(", "cdev", ",", "lcirb", ")", ";", "<nl>", "+", "CIO", "_", "TRACE", "_", "EVENT", "(", "2", ",", "\"", "uc", "_", "response", "\"", ")", ";", "<nl>", "+", "CIO", "_", "HEX", "_", "EVENT", "(", "2", ",", "&", "todo", ",", "sizeof", "(", "todo", ")", ")", ";", "<nl>", "switch", "(", "todo", ")", "{", "<nl>", "case", "UC", "_", "TODO", "_", "RETRY", ":", "<nl>", "return", "IO", "_", "STATUS", "_", "ERROR", ";", "<nl>"], "docstring_tokens": ["S390", "cio", "Log", "the", "response", "from", "the", "unit", "check", "handler"]}
{"code_tokens": ["int", "arm", "_", "pmu", "_", "device", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ",", "<nl>", "ret", "=", "of", "_", "pmu", "_", "irq", "_", "cfg", "(", "pmu", ")", ";", "<nl>", "if", "(", "!", "ret", ")", "<nl>", "ret", "=", "init", "_", "fn", "(", "pmu", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "+", "}", "else", "if", "(", "probe", "_", "table", ")", "{", "<nl>", "cpumask", "_", "setall", "(", "&", "pmu", "-", ">", "supported", "_", "cpus", ")", ";", "<nl>", "ret", "=", "probe", "_", "current", "_", "pmu", "(", "pmu", ",", "probe", "_", "table", ")", ";", "<nl>", "}", "mmm", "arch", "/", "arm64", "/", "kernel", "/", "perf", "_", "event", ".", "c", "<nl>", "int", "arm", "_", "pmu", "_", "device", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ",", "<nl>", "ret", "=", "of", "_", "pmu", "_", "irq", "_", "cfg", "(", "pmu", ")", ";", "<nl>", "if", "(", "!", "ret", ")", "<nl>", "ret", "=", "init", "_", "fn", "(", "pmu", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "+", "}", "else", "if", "(", "probe", "_", "table", ")", "{", "<nl>", "cpumask", "_", "setall", "(", "&", "pmu", "-", ">", "supported", "_", "cpus", ")", ";", "<nl>", "ret", "=", "probe", "_", "current", "_", "pmu", "(", "pmu", ",", "probe", "_", "table", ")", ";", "<nl>", "}", "<nl>", "#", "include", "<", "asm", "/", "sysreg", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "virt", ".", "h", ">", "<nl>", "<nl>", "+", "#", "include", "<", "linux", "/", "acpi", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "of", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "perf", "/", "arm", "_", "pmu", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "platform", "_", "device", ".", "h", ">", "<nl>", "static", "const", "struct", "of", "_", "device", "_", "id", "armv8", "_", "pmu", "_", "of", "_", "device", "_", "ids", "[", "]", "=", "{", "<nl>", "{", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "+", "static", "const", "struct", "pmu", "_", "probe", "_", "info", "armv8", "_", "pmu", "_", "probe", "_", "table", "[", "]", "=", "{", "<nl>", "+", "PMU", "_", "PROBE", "(", "0", ",", "0", ",", "armv8", "_", "pmuv3", "_", "init", ")", ",", "/", "*", "if", "all", "else", "fails", ".", ".", ".", "*", "/", "<nl>", "+", "{", "/", "*", "sentinel", "value", "*", "/", "}", "<nl>", "+", "}", ";", "<nl>", "+", "<nl>", "static", "int", "armv8", "_", "pmu", "_", "device", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "{", "<nl>", "-", "return", "arm", "_", "pmu", "_", "device", "_", "probe", "(", "pdev", ",", "armv8", "_", "pmu", "_", "of", "_", "device", "_", "ids", ",", "NULL", ")", ";", "<nl>", "+", "if", "(", "acpi", "_", "disabled", ")", "<nl>", "+", "return", "arm", "_", "pmu", "_", "device", "_", "probe", "(", "pdev", ",", "armv8", "_", "pmu", "_", "of", "_", "device", "_", "ids", ",", "<nl>", "+", "NULL", ")", ";", "<nl>", "+", "<nl>", "+", "return", "arm", "_", "pmu", "_", "device", "_", "probe", "(", "pdev", ",", "armv8", "_", "pmu", "_", "of", "_", "device", "_", "ids", ",", "<nl>", "+", "armv8", "_", "pmu", "_", "probe", "_", "table", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "platform", "_", "driver", "armv8", "_", "pmu", "_", "driver", "=", "{", "<nl>"], "docstring_tokens": ["arm64", "pmu", "add", "fallback", "probe", "table"]}
{"code_tokens": ["<nl>", "<nl>", "#", "define", "SPI", "_", "FIFO", "_", "SIZE", "4", "<nl>", "+", "#", "define", "SPI", "_", "MAX", "_", "DIVIDER", "0xff", "/", "*", "Max", ".", "value", "for", "SPCR1", ".", "SER", "*", "/", "<nl>", "+", "#", "define", "SPI", "_", "MIN", "_", "DIVIDER", "1", "/", "*", "Min", ".", "value", "for", "SPCR1", ".", "SER", "*", "/", "<nl>", "<nl>", "#", "define", "TXx9", "_", "SPMCR", "0x00", "<nl>", "#", "define", "TXx9", "_", "SPCR0", "0x04", "<nl>", "static", "void", "txx9spi", "_", "work", "_", "one", "(", "struct", "txx9spi", "*", "c", ",", "struct", "spi", "_", "message", "*", "m", ")", "<nl>", "<nl>", "if", "(", "prev", "_", "speed", "_", "hz", "!", "=", "speed", "_", "hz", "<nl>", "|", "|", "prev", "_", "bits", "_", "per", "_", "word", "!", "=", "bits", "_", "per", "_", "word", ")", "{", "<nl>", "-", "u32", "n", "=", "(", "c", "-", ">", "baseclk", "+", "speed", "_", "hz", "-", "1", ")", "/", "speed", "_", "hz", ";", "<nl>", "-", "if", "(", "n", "<", "1", ")", "<nl>", "-", "n", "=", "1", ";", "<nl>", "-", "else", "if", "(", "n", ">", "0xff", ")", "<nl>", "-", "n", "=", "0xff", ";", "<nl>", "+", "int", "n", "=", "DIV", "_", "ROUND", "_", "UP", "(", "c", "-", ">", "baseclk", ",", "speed", "_", "hz", ")", "-", "1", ";", "<nl>", "+", "n", "=", "clamp", "(", "n", ",", "SPI", "_", "MIN", "_", "DIVIDER", ",", "SPI", "_", "MAX", "_", "DIVIDER", ")", ";", "<nl>", "/", "*", "enter", "config", "mode", "*", "/", "<nl>", "txx9spi", "_", "wr", "(", "c", ",", "mcr", "|", "TXx9", "_", "SPMCR", "_", "CONFIG", "|", "TXx9", "_", "SPMCR", "_", "BCLR", ",", "<nl>", "TXx9", "_", "SPMCR", ")", ";", "<nl>", "static", "int", "_", "_", "init", "txx9spi", "_", "probe", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "goto", "exit", ";", "<nl>", "}", "<nl>", "c", "-", ">", "baseclk", "=", "clk", "_", "get", "_", "rate", "(", "c", "-", ">", "clk", ")", ";", "<nl>", "-", "c", "-", ">", "min", "_", "speed", "_", "hz", "=", "(", "c", "-", ">", "baseclk", "+", "0xff", "-", "1", ")", "/", "0xff", ";", "<nl>", "-", "c", "-", ">", "max", "_", "speed", "_", "hz", "=", "c", "-", ">", "baseclk", ";", "<nl>", "+", "c", "-", ">", "min", "_", "speed", "_", "hz", "=", "DIV", "_", "ROUND", "_", "UP", "(", "c", "-", ">", "baseclk", ",", "SPI", "_", "MAX", "_", "DIVIDER", "+", "1", ")", ";", "<nl>", "+", "c", "-", ">", "max", "_", "speed", "_", "hz", "=", "c", "-", ">", "baseclk", "/", "(", "SPI", "_", "MIN", "_", "DIVIDER", "+", "1", ")", ";", "<nl>", "<nl>", "res", "=", "platform", "_", "get", "_", "resource", "(", "dev", ",", "IORESOURCE", "_", "MEM", ",", "0", ")", ";", "<nl>", "if", "(", "!", "res", ")", "<nl>"], "docstring_tokens": ["SPI", "spi_txx9", "Fix", "bit", "rate", "calculation"]}
{"code_tokens": ["static", "int", "kjournald2", "(", "void", "*", "arg", ")", "<nl>", "goto", "loop", ";", "<nl>", "<nl>", "end", "_", "loop", ":", "<nl>", "-", "write", "_", "unlock", "(", "&", "journal", "-", ">", "j", "_", "state", "_", "lock", ")", ";", "<nl>", "del", "_", "timer", "_", "sync", "(", "&", "journal", "-", ">", "j", "_", "commit", "_", "timer", ")", ";", "<nl>", "journal", "-", ">", "j", "_", "task", "=", "NULL", ";", "<nl>", "wake", "_", "up", "(", "&", "journal", "-", ">", "j", "_", "wait", "_", "done", "_", "commit", ")", ";", "<nl>", "jbd", "_", "debug", "(", "1", ",", "\"", "Journal", "thread", "exiting", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "write", "_", "unlock", "(", "&", "journal", "-", ">", "j", "_", "state", "_", "lock", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["jbd2", "fix", "use", "after", "free", "in", "kjournald2"]}
{"code_tokens": ["static", "ssize", "_", "t", "toolaction", "_", "store", "(", "struct", "device", "*", "dev", ",", "<nl>", "const", "char", "*", "buf", ",", "size", "_", "t", "count", ")", "<nl>", "{", "<nl>", "u8", "tool", "_", "action", ";", "<nl>", "-", "int", "ret", ";", "<nl>", "+", "int", "err", ";", "<nl>", "<nl>", "if", "(", "kstrtou8", "(", "buf", ",", "10", ",", "&", "tool", "_", "action", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "-", "ret", "=", "visorchannel", "_", "write", "<nl>", "+", "err", "=", "visorchannel", "_", "write", "<nl>", "(", "chipset", "_", "dev", "-", ">", "controlvm", "_", "channel", ",", "<nl>", "offsetof", "(", "struct", "spar", "_", "controlvm", "_", "channel", "_", "protocol", ",", "<nl>", "tool", "_", "action", ")", ",", "<nl>", "&", "tool", "_", "action", ",", "sizeof", "(", "u8", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "ret", ")", "<nl>", "-", "return", "ret", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "return", "err", ";", "<nl>", "return", "count", ";", "<nl>", "}", "<nl>", "static", "DEVICE", "_", "ATTR", "_", "RW", "(", "toolaction", ")", ";", "<nl>"], "docstring_tokens": ["staging", "unisys", "visorbus", "convert", "ret", "to", "err", "to", "be", "consistent"]}
{"code_tokens": ["int", "cx231xx", "_", "set", "_", "mode", "(", "struct", "cx231xx", "*", "dev", ",", "enum", "cx231xx", "_", "mode", "set", "_", "mode", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "return", "errCode", "?", "-", "EINVAL", ":", "0", ";", "<nl>", "+", "if", "(", "errCode", "<", "0", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "dev", "-", ">", "dev", ",", "\"", "Failed", "to", "set", "devmode", "to", "%", "s", ":", "error", ":", "%", "i", "\"", ",", "<nl>", "+", "dev", "-", ">", "mode", "=", "=", "CX231XX", "_", "DIGITAL", "_", "MODE", "?", "\"", "digital", "\"", ":", "\"", "analog", "\"", ",", "<nl>", "+", "errCode", ")", ";", "<nl>", "+", "return", "errCode", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "return", "0", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "cx231xx", "_", "set", "_", "mode", ")", ";", "<nl>"], "docstring_tokens": ["media", "cx231xx", "prints", "error", "code", "if", "can", "t", "switch", "TV", "mode"]}
{"code_tokens": ["static", "struct", "snd", "_", "soc", "_", "dai", "_", "link", "da8xx", "_", "evm", "_", "dai", "=", "{", "<nl>", ".", "stream", "_", "name", "=", "\"", "AIC3X", "\"", ",", "<nl>", ".", "cpu", "_", "dai", "_", "name", "=", "\"", "davinci", "-", "mcasp", ".", "0", "\"", ",", "<nl>", ".", "codec", "_", "dai", "_", "name", "=", "\"", "tlv320aic3x", "-", "hifi", "\"", ",", "<nl>", "-", ".", "codec", "_", "name", "=", "\"", "tlv320aic3x", "-", "codec", ".", "0", "-", "001a", "\"", ",", "<nl>", "+", ".", "codec", "_", "name", "=", "\"", "tlv320aic3x", "-", "codec", ".", "1", "-", "0018", "\"", ",", "<nl>", ".", "platform", "_", "name", "=", "\"", "davinci", "-", "pcm", "-", "audio", "\"", ",", "<nl>", ".", "init", "=", "evm", "_", "aic3x", "_", "init", ",", "<nl>", ".", "ops", "=", "&", "evm", "_", "ops", ",", "<nl>"], "docstring_tokens": ["ASoC", "da8xx", "omap", "l1xx", "match", "codec_name", "with", "i2c", "ids"]}
{"code_tokens": ["static", "int", "qset", "_", "add", "_", "urb", "_", "sg", "(", "struct", "whc", "*", "whc", ",", "struct", "whc", "_", "qset", "*", "qset", ",", "struct", "urb", "*", "u", "<nl>", "|", "|", "(", "prev", "_", "end", "&", "(", "WHCI", "_", "PAGE", "_", "SIZE", "-", "1", ")", ")", "<nl>", "|", "|", "(", "dma", "_", "addr", "&", "(", "WHCI", "_", "PAGE", "_", "SIZE", "-", "1", ")", ")", "<nl>", "|", "|", "std", "-", ">", "len", "+", "WHCI", "_", "PAGE", "_", "SIZE", ">", "QTD", "_", "MAX", "_", "XFER", "_", "SIZE", ")", "{", "<nl>", "-", "if", "(", "std", "-", ">", "len", "%", "qset", "-", ">", "max", "_", "packet", "!", "=", "0", ")", "<nl>", "+", "if", "(", "std", "&", "&", "std", "-", ">", "len", "%", "qset", "-", ">", "max", "_", "packet", "!", "=", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "std", "=", "qset", "_", "new", "_", "std", "(", "whc", ",", "qset", ",", "urb", ",", "mem", "_", "flags", ")", ";", "<nl>", "if", "(", "std", "=", "=", "NULL", ")", "{", "<nl>"], "docstring_tokens": ["USB", "host", "Eliminate", "NULL", "dereference"]}
{"code_tokens": ["static", "void", "handle", "_", "keypress", "(", "int", "c", ")", "<nl>", "switch", "(", "c", ")", "{", "<nl>", "case", "'", "d", "'", ":", "<nl>", "prompt", "_", "integer", "(", "&", "delay", "_", "secs", ",", "\"", "Enter", "display", "delay", "\"", ")", ";", "<nl>", "+", "if", "(", "delay", "_", "secs", "<", "1", ")", "<nl>", "+", "delay", "_", "secs", "=", "1", ";", "<nl>", "break", ";", "<nl>", "case", "'", "e", "'", ":", "<nl>", "prompt", "_", "integer", "(", "&", "print", "_", "entries", ",", "\"", "Enter", "display", "entries", "(", "lines", ")", "\"", ")", ";", "<nl>"], "docstring_tokens": ["perf", "top", "Fix", "delay_secs", "0", "division", "by", "zero"]}
{"code_tokens": ["static", "ssize", "_", "t", "f2fs", "_", "file", "_", "write", "_", "iter", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "iov", "_", "iter", "*", "from", ")", "<nl>", "<nl>", "ret", "=", "generic", "_", "write", "_", "checks", "(", "iocb", ",", "from", ")", ";", "<nl>", "if", "(", "ret", ">", "0", ")", "{", "<nl>", "+", "bool", "preallocated", "=", "false", ";", "<nl>", "+", "size", "_", "t", "target", "_", "size", "=", "0", ";", "<nl>", "int", "err", ";", "<nl>", "<nl>", "if", "(", "iov", "_", "iter", "_", "fault", "_", "in", "_", "readable", "(", "from", ",", "iov", "_", "iter", "_", "count", "(", "from", ")", ")", ")", "<nl>", "static", "ssize", "_", "t", "f2fs", "_", "file", "_", "write", "_", "iter", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "iov", "_", "iter", "*", "from", ")", "<nl>", "}", "<nl>", "<nl>", "}", "else", "{", "<nl>", "+", "preallocated", "=", "true", ";", "<nl>", "+", "target", "_", "size", "=", "iocb", "-", ">", "ki", "_", "pos", "+", "iov", "_", "iter", "_", "count", "(", "from", ")", ";", "<nl>", "+", "<nl>", "err", "=", "f2fs", "_", "preallocate", "_", "blocks", "(", "iocb", ",", "from", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "clear", "_", "inode", "_", "flag", "(", "inode", ",", "FI", "_", "NO", "_", "PREALLOC", ")", ";", "<nl>", "static", "ssize", "_", "t", "f2fs", "_", "file", "_", "write", "_", "iter", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "iov", "_", "iter", "*", "from", ")", "<nl>", "blk", "_", "finish", "_", "plug", "(", "&", "plug", ")", ";", "<nl>", "clear", "_", "inode", "_", "flag", "(", "inode", ",", "FI", "_", "NO", "_", "PREALLOC", ")", ";", "<nl>", "<nl>", "+", "/", "*", "if", "we", "couldn", "'", "t", "write", "data", ",", "we", "should", "deallocate", "blocks", ".", "*", "/", "<nl>", "+", "if", "(", "preallocated", "&", "&", "i", "_", "size", "_", "read", "(", "inode", ")", "<", "target", "_", "size", ")", "<nl>", "+", "f2fs", "_", "truncate", "(", "inode", ")", ";", "<nl>", "+", "<nl>", "if", "(", "ret", ">", "0", ")", "<nl>", "f2fs", "_", "update", "_", "iostat", "(", "F2FS", "_", "I", "_", "SB", "(", "inode", ")", ",", "APP", "_", "WRITE", "_", "IO", ",", "ret", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["f2fs", "truncate", "preallocated", "blocks", "in", "error", "case"]}
{"code_tokens": ["static", "bool", "srcu", "_", "readers", "_", "active", "_", "idx", "_", "check", "(", "struct", "srcu", "_", "struct", "*", "sp", ",", "int", "idx", ")", "<nl>", "*", "/", "<nl>", "static", "int", "srcu", "_", "readers", "_", "active", "(", "struct", "srcu", "_", "struct", "*", "sp", ")", "<nl>", "{", "<nl>", "-", "return", "srcu", "_", "readers", "_", "active", "_", "idx", "(", "sp", ",", "0", ")", "+", "srcu", "_", "readers", "_", "active", "_", "idx", "(", "sp", ",", "1", ")", ";", "<nl>", "+", "int", "cpu", ";", "<nl>", "+", "unsigned", "long", "sum", "=", "0", ";", "<nl>", "+", "<nl>", "+", "for", "_", "each", "_", "possible", "_", "cpu", "(", "cpu", ")", "{", "<nl>", "+", "sum", "+", "=", "ACCESS", "_", "ONCE", "(", "per", "_", "cpu", "_", "ptr", "(", "sp", "-", ">", "per", "_", "cpu", "_", "ref", ",", "cpu", ")", "-", ">", "c", "[", "0", "]", ")", ";", "<nl>", "+", "sum", "+", "=", "ACCESS", "_", "ONCE", "(", "per", "_", "cpu", "_", "ptr", "(", "sp", "-", ">", "per", "_", "cpu", "_", "ref", ",", "cpu", ")", "-", ">", "c", "[", "1", "]", ")", ";", "<nl>", "+", "}", "<nl>", "+", "return", "sum", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["rcu", "Improve", "srcu_readers_active_idx", "s", "cache", "locality"]}
{"code_tokens": ["int", "iioutils", "_", "get", "_", "type", "(", "unsigned", "*", "is", "_", "signed", ",", "<nl>", "ret", "=", "-", "errno", ";", "<nl>", "printf", "(", "\"", "failed", "to", "pass", "scan", "type", "description", "\\", "n", "\"", ")", ";", "<nl>", "goto", "error", "_", "close", "_", "sysfsfp", ";", "<nl>", "+", "}", "else", "if", "(", "ret", "!", "=", "5", ")", "{", "<nl>", "+", "ret", "=", "-", "EIO", ";", "<nl>", "+", "printf", "(", "\"", "scan", "type", "description", "didn", "'", "t", "match", "\\", "n", "\"", ")", ";", "<nl>", "+", "goto", "error", "_", "close", "_", "sysfsfp", ";", "<nl>", "}", "<nl>", "*", "be", "=", "(", "endianchar", "=", "=", "'", "b", "'", ")", ";", "<nl>", "*", "bytes", "=", "padint", "/", "8", ";", "<nl>"], "docstring_tokens": ["tools", "iio", "iio_utils", "check", "amount", "of", "matches"]}
{"code_tokens": ["static", "int", "_", "_", "init", "mlxcpld", "_", "led", "_", "init", "(", "void", ")", "<nl>", "struct", "platform", "_", "device", "*", "pdev", ";", "<nl>", "int", "err", ";", "<nl>", "<nl>", "+", "if", "(", "!", "dmi", "_", "match", "(", "DMI", "_", "CHASSIS", "_", "VENDOR", ",", "\"", "Mellanox", "Technologies", "Ltd", ".", "\"", ")", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "<nl>", "pdev", "=", "platform", "_", "device", "_", "register", "_", "simple", "(", "KBUILD", "_", "MODNAME", ",", "-", "1", ",", "NULL", ",", "0", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "pdev", ")", ")", "{", "<nl>", "pr", "_", "err", "(", "\"", "Device", "allocation", "failed", "\\", "n", "\"", ")", ";", "<nl>", "module", "_", "exit", "(", "mlxcpld", "_", "led", "_", "exit", ")", ";", "<nl>", "<nl>", "MODULE", "_", "AUTHOR", "(", "\"", "Vadim", "Pasternak", "<", "vadimp", "@", "mellanox", ".", "com", ">", "\"", ")", ";", "<nl>", "MODULE", "_", "DESCRIPTION", "(", "\"", "Mellanox", "board", "LED", "driver", "\"", ")", ";", "<nl>", "-", "MODULE", "_", "LICENSE", "(", "\"", "GPL", "v2", "\"", ")", ";", "<nl>", "+", "MODULE", "_", "LICENSE", "(", "\"", "Dual", "BSD", "/", "GPL", "\"", ")", ";", "<nl>", "MODULE", "_", "ALIAS", "(", "\"", "platform", ":", "leds", "_", "mlxcpld", "\"", ")", ";", "<nl>"], "docstring_tokens": ["leds", "verify", "vendor", "and", "change", "license", "in", "mlxcpld", "driver"]}
{"code_tokens": ["static", "int", "intel", "_", "set", "_", "power", "(", "struct", "hci", "_", "uart", "*", "hu", ",", "bool", "powered", ")", "<nl>", "struct", "list", "_", "head", "*", "p", ";", "<nl>", "int", "err", "=", "-", "ENODEV", ";", "<nl>", "<nl>", "+", "if", "(", "!", "hu", "-", ">", "tty", "-", ">", "dev", ")", "<nl>", "+", "return", "err", ";", "<nl>", "+", "<nl>", "mutex", "_", "lock", "(", "&", "intel", "_", "device", "_", "list", "_", "lock", ")", ";", "<nl>", "<nl>", "list", "_", "for", "_", "each", "(", "p", ",", "&", "intel", "_", "device", "_", "list", ")", "{", "<nl>", "static", "void", "intel", "_", "busy", "_", "work", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "struct", "intel", "_", "data", "*", "intel", "=", "container", "_", "of", "(", "work", ",", "struct", "intel", "_", "data", ",", "<nl>", "busy", "_", "work", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "intel", "-", ">", "hu", "-", ">", "tty", "-", ">", "dev", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "/", "*", "Link", "is", "busy", ",", "delay", "the", "suspend", "*", "/", "<nl>", "mutex", "_", "lock", "(", "&", "intel", "_", "device", "_", "list", "_", "lock", ")", ";", "<nl>", "list", "_", "for", "_", "each", "(", "p", ",", "&", "intel", "_", "device", "_", "list", ")", "{", "<nl>", "static", "int", "intel", "_", "setup", "(", "struct", "hci", "_", "uart", "*", "hu", ")", "<nl>", "list", "_", "for", "_", "each", "(", "p", ",", "&", "intel", "_", "device", "_", "list", ")", "{", "<nl>", "struct", "intel", "_", "device", "*", "dev", "=", "list", "_", "entry", "(", "p", ",", "struct", "intel", "_", "device", ",", "<nl>", "list", ")", ";", "<nl>", "+", "if", "(", "!", "hu", "-", ">", "tty", "-", ">", "dev", ")", "<nl>", "+", "break", ";", "<nl>", "if", "(", "hu", "-", ">", "tty", "-", ">", "dev", "-", ">", "parent", "=", "=", "dev", "-", ">", "pdev", "-", ">", "dev", ".", "parent", ")", "{", "<nl>", "if", "(", "device", "_", "may", "_", "wakeup", "(", "&", "dev", "-", ">", "pdev", "-", ">", "dev", ")", ")", "{", "<nl>", "set", "_", "bit", "(", "STATE", "_", "LPM", "_", "ENABLED", ",", "&", "intel", "-", ">", "flags", ")", ";", "<nl>", "static", "int", "intel", "_", "enqueue", "(", "struct", "hci", "_", "uart", "*", "hu", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "<nl>", "BT", "_", "DBG", "(", "\"", "hu", "%", "p", "skb", "%", "p", "\"", ",", "hu", ",", "skb", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "hu", "-", ">", "tty", "-", ">", "dev", ")", "<nl>", "+", "goto", "out", "_", "enqueue", ";", "<nl>", "+", "<nl>", "/", "*", "Be", "sure", "our", "controller", "is", "resumed", "and", "potential", "LPM", "transaction", "<nl>", "*", "completed", "before", "enqueuing", "any", "packet", ".", "<nl>", "*", "/", "<nl>", "static", "int", "intel", "_", "enqueue", "(", "struct", "hci", "_", "uart", "*", "hu", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "}", "<nl>", "}", "<nl>", "mutex", "_", "unlock", "(", "&", "intel", "_", "device", "_", "list", "_", "lock", ")", ";", "<nl>", "-", "<nl>", "+", "out", "_", "enqueue", ":", "<nl>", "skb", "_", "queue", "_", "tail", "(", "&", "intel", "-", ">", "txq", ",", "skb", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "hci_intel", "add", "missing", "tty", "device", "sanity", "check"]}
{"code_tokens": ["#", "define", "_", "_", "releases", "(", "x", ")", "_", "_", "attribute", "_", "_", "(", "(", "context", "(", "1", ",", "0", ")", ")", ")", "<nl>", "#", "define", "_", "_", "acquire", "(", "x", ")", "_", "_", "context", "_", "_", "(", "1", ")", "<nl>", "#", "define", "_", "_", "release", "(", "x", ")", "_", "_", "context", "_", "_", "(", "-", "1", ")", "<nl>", "-", "#", "define", "_", "_", "cond", "_", "lock", "(", "x", ")", "(", "(", "x", ")", "?", "(", "{", "_", "_", "context", "_", "_", "(", "1", ")", ";", "1", ";", "}", ")", ":", "0", ")", "<nl>", "+", "#", "define", "_", "_", "cond", "_", "lock", "(", "x", ",", "c", ")", "(", "(", "c", ")", "?", "(", "{", "_", "_", "acquire", "(", "x", ")", ";", "1", ";", "}", ")", ":", "0", ")", "<nl>", "extern", "void", "_", "_", "chk", "_", "user", "_", "ptr", "(", "void", "_", "_", "user", "*", ")", ";", "<nl>", "extern", "void", "_", "_", "chk", "_", "io", "_", "ptr", "(", "void", "_", "_", "iomem", "*", ")", ";", "<nl>", "#", "else", "<nl>", "extern", "void", "_", "_", "chk", "_", "io", "_", "ptr", "(", "void", "_", "_", "iomem", "*", ")", ";", "<nl>", "#", "define", "_", "_", "releases", "(", "x", ")", "<nl>", "#", "define", "_", "_", "acquire", "(", "x", ")", "(", "void", ")", "0", "<nl>", "#", "define", "_", "_", "release", "(", "x", ")", "(", "void", ")", "0", "<nl>", "-", "#", "define", "_", "_", "cond", "_", "lock", "(", "x", ")", "(", "x", ")", "<nl>", "+", "#", "define", "_", "_", "cond", "_", "lock", "(", "x", ",", "c", ")", "(", "c", ")", "<nl>", "#", "endif", "<nl>", "<nl>", "#", "ifdef", "_", "_", "KERNEL", "_", "_", "mmm", "include", "/", "linux", "/", "spinlock", ".", "h", "<nl>", "#", "define", "_", "_", "releases", "(", "x", ")", "_", "_", "attribute", "_", "_", "(", "(", "context", "(", "1", ",", "0", ")", ")", ")", "<nl>", "#", "define", "_", "_", "acquire", "(", "x", ")", "_", "_", "context", "_", "_", "(", "1", ")", "<nl>", "#", "define", "_", "_", "release", "(", "x", ")", "_", "_", "context", "_", "_", "(", "-", "1", ")", "<nl>", "-", "#", "define", "_", "_", "cond", "_", "lock", "(", "x", ")", "(", "(", "x", ")", "?", "(", "{", "_", "_", "context", "_", "_", "(", "1", ")", ";", "1", ";", "}", ")", ":", "0", ")", "<nl>", "+", "#", "define", "_", "_", "cond", "_", "lock", "(", "x", ",", "c", ")", "(", "(", "c", ")", "?", "(", "{", "_", "_", "acquire", "(", "x", ")", ";", "1", ";", "}", ")", ":", "0", ")", "<nl>", "extern", "void", "_", "_", "chk", "_", "user", "_", "ptr", "(", "void", "_", "_", "user", "*", ")", ";", "<nl>", "extern", "void", "_", "_", "chk", "_", "io", "_", "ptr", "(", "void", "_", "_", "iomem", "*", ")", ";", "<nl>", "#", "else", "<nl>", "extern", "void", "_", "_", "chk", "_", "io", "_", "ptr", "(", "void", "_", "_", "iomem", "*", ")", ";", "<nl>", "#", "define", "_", "_", "releases", "(", "x", ")", "<nl>", "#", "define", "_", "_", "acquire", "(", "x", ")", "(", "void", ")", "0", "<nl>", "#", "define", "_", "_", "release", "(", "x", ")", "(", "void", ")", "0", "<nl>", "-", "#", "define", "_", "_", "cond", "_", "lock", "(", "x", ")", "(", "x", ")", "<nl>", "+", "#", "define", "_", "_", "cond", "_", "lock", "(", "x", ",", "c", ")", "(", "c", ")", "<nl>", "#", "endif", "<nl>", "<nl>", "#", "ifdef", "_", "_", "KERNEL", "_", "_", "<nl>", "do", "{", "\\", "<nl>", "*", "regardless", "of", "whether", "CONFIG", "_", "SMP", "or", "CONFIG", "_", "PREEMPT", "are", "set", ".", "The", "various", "<nl>", "*", "methods", "are", "defined", "as", "nops", "in", "the", "case", "they", "are", "not", "required", ".", "<nl>", "*", "/", "<nl>", "-", "#", "define", "spin", "_", "trylock", "(", "lock", ")", "_", "_", "cond", "_", "lock", "(", "_", "spin", "_", "trylock", "(", "lock", ")", ")", "<nl>", "-", "#", "define", "read", "_", "trylock", "(", "lock", ")", "_", "_", "cond", "_", "lock", "(", "_", "read", "_", "trylock", "(", "lock", ")", ")", "<nl>", "-", "#", "define", "write", "_", "trylock", "(", "lock", ")", "_", "_", "cond", "_", "lock", "(", "_", "write", "_", "trylock", "(", "lock", ")", ")", "<nl>", "+", "#", "define", "spin", "_", "trylock", "(", "lock", ")", "_", "_", "cond", "_", "lock", "(", "lock", ",", "_", "spin", "_", "trylock", "(", "lock", ")", ")", "<nl>", "+", "#", "define", "read", "_", "trylock", "(", "lock", ")", "_", "_", "cond", "_", "lock", "(", "lock", ",", "_", "read", "_", "trylock", "(", "lock", ")", ")", "<nl>", "+", "#", "define", "write", "_", "trylock", "(", "lock", ")", "_", "_", "cond", "_", "lock", "(", "lock", ",", "_", "write", "_", "trylock", "(", "lock", ")", ")", "<nl>", "<nl>", "#", "define", "spin", "_", "lock", "(", "lock", ")", "_", "spin", "_", "lock", "(", "lock", ")", "<nl>", "<nl>", "do", "{", "\\", "<nl>", "_", "write", "_", "unlock", "_", "irqrestore", "(", "lock", ",", "flags", ")", "<nl>", "#", "define", "write", "_", "unlock", "_", "bh", "(", "lock", ")", "_", "write", "_", "unlock", "_", "bh", "(", "lock", ")", "<nl>", "<nl>", "-", "#", "define", "spin", "_", "trylock", "_", "bh", "(", "lock", ")", "_", "_", "cond", "_", "lock", "(", "_", "spin", "_", "trylock", "_", "bh", "(", "lock", ")", ")", "<nl>", "+", "#", "define", "spin", "_", "trylock", "_", "bh", "(", "lock", ")", "_", "_", "cond", "_", "lock", "(", "lock", ",", "_", "spin", "_", "trylock", "_", "bh", "(", "lock", ")", ")", "<nl>", "<nl>", "#", "define", "spin", "_", "trylock", "_", "irq", "(", "lock", ")", "\\", "<nl>", "(", "{", "\\", "<nl>", "do", "{", "\\", "<nl>", "*", "/", "<nl>", "extern", "int", "_", "atomic", "_", "dec", "_", "and", "_", "lock", "(", "atomic", "_", "t", "*", "atomic", ",", "spinlock", "_", "t", "*", "lock", ")", ";", "<nl>", "#", "define", "atomic", "_", "dec", "_", "and", "_", "lock", "(", "atomic", ",", "lock", ")", "\\", "<nl>", "-", "_", "_", "cond", "_", "lock", "(", "_", "atomic", "_", "dec", "_", "and", "_", "lock", "(", "atomic", ",", "lock", ")", ")", "<nl>", "+", "_", "_", "cond", "_", "lock", "(", "lock", ",", "_", "atomic", "_", "dec", "_", "and", "_", "lock", "(", "atomic", ",", "lock", ")", ")", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "spin", "_", "can", "_", "lock", "-", "would", "spin", "_", "trylock", "(", ")", "succeed", "?", "<nl>"], "docstring_tokens": ["PATCH", "Pass", "a", "lock", "expression", "to", "__cond_lock", "like", "__acquire", "and", "__release"]}
{"code_tokens": ["static", "int", "check", "_", "leaf", "(", "struct", "fib", "_", "table", "*", "tb", ",", "struct", "trie", "*", "t", ",", "struct", "leaf", "*", "l", ",", "<nl>", "<nl>", "if", "(", "fa", "-", ">", "fa", "_", "tos", "&", "&", "fa", "-", ">", "fa", "_", "tos", "!", "=", "flp", "-", ">", "flowi4", "_", "tos", ")", "<nl>", "continue", ";", "<nl>", "+", "if", "(", "fi", "-", ">", "fib", "_", "dead", ")", "<nl>", "+", "continue", ";", "<nl>", "if", "(", "fa", "-", ">", "fa", "_", "info", "-", ">", "fib", "_", "scope", "<", "flp", "-", ">", "flowi4", "_", "scope", ")", "<nl>", "continue", ";", "<nl>", "fib", "_", "alias", "_", "accessed", "(", "fa", ")", ";", "<nl>"], "docstring_tokens": ["ipv4", "Do", "not", "use", "dead", "fib_info", "entries"]}
{"code_tokens": ["static", "void", "intel", "_", "power", "_", "well", "_", "enable", "(", "struct", "drm", "_", "i915", "_", "private", "*", "dev", "_", "priv", ",", "<nl>", "power", "_", "well", "-", ">", "hw", "_", "enabled", "=", "true", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "void", "intel", "_", "power", "_", "well", "_", "disable", "(", "struct", "drm", "_", "i915", "_", "private", "*", "dev", "_", "priv", ",", "<nl>", "+", "struct", "i915", "_", "power", "_", "well", "*", "power", "_", "well", ")", "<nl>", "+", "{", "<nl>", "+", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "disabling", "%", "s", "\\", "n", "\"", ",", "power", "_", "well", "-", ">", "name", ")", ";", "<nl>", "+", "power", "_", "well", "-", ">", "hw", "_", "enabled", "=", "false", ";", "<nl>", "+", "power", "_", "well", "-", ">", "ops", "-", ">", "disable", "(", "dev", "_", "priv", ",", "power", "_", "well", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "We", "should", "only", "use", "the", "power", "well", "if", "we", "explicitly", "asked", "the", "hardware", "to", "<nl>", "*", "enable", "it", ",", "so", "check", "if", "it", "'", "s", "enabled", "and", "also", "check", "if", "we", "'", "ve", "requested", "it", "to", "<nl>", "void", "intel", "_", "display", "_", "power", "_", "put", "(", "struct", "drm", "_", "i915", "_", "private", "*", "dev", "_", "priv", ",", "<nl>", "for", "_", "each", "_", "power", "_", "well", "_", "rev", "(", "i", ",", "power", "_", "well", ",", "BIT", "(", "domain", ")", ",", "power", "_", "domains", ")", "{", "<nl>", "WARN", "_", "ON", "(", "!", "power", "_", "well", "-", ">", "count", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "-", "-", "power", "_", "well", "-", ">", "count", "&", "&", "i915", ".", "disable", "_", "power", "_", "well", ")", "{", "<nl>", "-", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "disabling", "%", "s", "\\", "n", "\"", ",", "power", "_", "well", "-", ">", "name", ")", ";", "<nl>", "-", "power", "_", "well", "-", ">", "hw", "_", "enabled", "=", "false", ";", "<nl>", "-", "power", "_", "well", "-", ">", "ops", "-", ">", "disable", "(", "dev", "_", "priv", ",", "power", "_", "well", ")", ";", "<nl>", "-", "}", "<nl>", "+", "if", "(", "!", "-", "-", "power", "_", "well", "-", ">", "count", "&", "&", "i915", ".", "disable", "_", "power", "_", "well", ")", "<nl>", "+", "intel", "_", "power", "_", "well", "_", "disable", "(", "dev", "_", "priv", ",", "power", "_", "well", ")", ";", "<nl>", "}", "<nl>", "<nl>", "mutex", "_", "unlock", "(", "&", "power", "_", "domains", "-", ">", "lock", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "Extract", "a", "intel_power_well_disable", "function"]}
{"code_tokens": ["static", "int", "aes", "_", "cipher", "(", "u8", "*", "key", ",", "uint", "hdrlen", ",", "u8", "*", "pframe", ",", "uint", "plen", ")", "<nl>", "num", "_", "blocks", "=", "plen", "/", "16", ";", "<nl>", "<nl>", "/", "*", "Find", "start", "of", "payload", "*", "/", "<nl>", "-", "payload", "_", "index", "=", "(", "hdrlen", "+", "8", ")", ";", "<nl>", "+", "payload", "_", "index", "=", "hdrlen", "+", "8", ";", "<nl>", "<nl>", "/", "*", "Calculate", "MIC", "*", "/", "<nl>", "aes128k128d", "(", "key", ",", "mic", "_", "iv", ",", "aes", "_", "out", ")", ";", "<nl>", "static", "int", "aes", "_", "decipher", "(", "u8", "*", "key", ",", "uint", "hdrlen", ",", "<nl>", "num", "_", "blocks", "=", "(", "plen", "-", "8", ")", "/", "16", ";", "<nl>", "<nl>", "/", "*", "Find", "start", "of", "payload", "*", "/", "<nl>", "-", "payload", "_", "index", "=", "(", "hdrlen", "+", "8", ")", ";", "<nl>", "+", "payload", "_", "index", "=", "hdrlen", "+", "8", ";", "<nl>", "<nl>", "/", "*", "Calculate", "MIC", "*", "/", "<nl>", "aes128k128d", "(", "key", ",", "mic", "_", "iv", ",", "aes", "_", "out", ")", ";", "<nl>"], "docstring_tokens": ["drivers", "staging", "rtl8188eu", "core", "Removed", "unnecessary", "parentheses"]}
{"code_tokens": ["static", "void", "_", "_", "init", "drop", "_", "range", "_", "partial", "(", "int", "i", ",", "u64", "start", ",", "u64", "end", ")", "<nl>", "/", "*", "make", "head", "segment", "*", "/", "<nl>", "early", "_", "res", "[", "i", "]", ".", "end", "=", "common", "_", "start", ";", "<nl>", "if", "(", "old", "_", "end", ">", "common", "_", "end", ")", "{", "<nl>", "+", "char", "name", "[", "15", "]", ";", "<nl>", "+", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Save", "a", "local", "copy", "of", "the", "name", ",", "since", "the", "<nl>", "+", "*", "early", "_", "res", "array", "could", "get", "resized", "inside", "<nl>", "+", "*", "reserve", "_", "early", "_", "without", "_", "check", "(", ")", "-", ">", "<nl>", "+", "*", "_", "_", "check", "_", "and", "_", "double", "_", "early", "_", "res", "(", ")", ",", "which", "would", "<nl>", "+", "*", "make", "the", "current", "name", "pointer", "invalid", ".", "<nl>", "+", "*", "/", "<nl>", "+", "strncpy", "(", "name", ",", "early", "_", "res", "[", "i", "]", ".", "name", ",", "<nl>", "+", "sizeof", "(", "early", "_", "res", "[", "i", "]", ".", "name", ")", "-", "1", ")", ";", "<nl>", "/", "*", "add", "another", "for", "left", "over", "on", "tail", "*", "/", "<nl>", "-", "reserve", "_", "early", "_", "without", "_", "check", "(", "common", "_", "end", ",", "old", "_", "end", ",", "<nl>", "-", "early", "_", "res", "[", "i", "]", ".", "name", ")", ";", "<nl>", "+", "reserve", "_", "early", "_", "without", "_", "check", "(", "common", "_", "end", ",", "old", "_", "end", ",", "name", ")", ";", "<nl>", "}", "<nl>", "return", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["early_res", "Need", "to", "save", "the", "allocation", "name", "in", "drop_range_partial"]}
{"code_tokens": ["static", "int", "bcm7038", "_", "wdt", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "wdt", "-", ">", "clk", "=", "devm", "_", "clk", "_", "get", "(", "dev", ",", "NULL", ")", ";", "<nl>", "/", "*", "If", "unable", "to", "get", "clock", ",", "use", "default", "frequency", "*", "/", "<nl>", "if", "(", "!", "IS", "_", "ERR", "(", "wdt", "-", ">", "clk", ")", ")", "{", "<nl>", "-", "clk", "_", "prepare", "_", "enable", "(", "wdt", "-", ">", "clk", ")", ";", "<nl>", "+", "err", "=", "clk", "_", "prepare", "_", "enable", "(", "wdt", "-", ">", "clk", ")", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "return", "err", ";", "<nl>", "wdt", "-", ">", "rate", "=", "clk", "_", "get", "_", "rate", "(", "wdt", "-", ">", "clk", ")", ";", "<nl>", "/", "*", "Prevent", "divide", "-", "by", "-", "zero", "exception", "*", "/", "<nl>", "if", "(", "!", "wdt", "-", ">", "rate", ")", "<nl>"], "docstring_tokens": ["watchdog", "bcm7038", "Check", "the", "return", "value", "from", "clk_prepare_enable"]}
{"code_tokens": ["void", "brcmf", "_", "fweh", "_", "process", "_", "event", "(", "struct", "brcmf", "_", "pub", "*", "drvr", ",", "<nl>", "if", "(", "code", "!", "=", "BRCMF", "_", "E", "_", "IF", "&", "&", "!", "fweh", "-", ">", "evt", "_", "handler", "[", "code", "]", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "if", "(", "datalen", ">", "BRCMF", "_", "DCMD", "_", "MAXLEN", ")", "<nl>", "+", "if", "(", "datalen", ">", "BRCMF", "_", "DCMD", "_", "MAXLEN", "|", "|", "<nl>", "+", "datalen", "+", "sizeof", "(", "*", "event", "_", "packet", ")", ">", "packet", "_", "len", ")", "<nl>", "return", ";", "<nl>", "<nl>", "if", "(", "in", "_", "interrupt", "(", ")", ")", "<nl>"], "docstring_tokens": ["brcmfmac", "Add", "check", "for", "short", "event", "packets"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "_", "GPL", "(", "tty", "_", "ldisc", "_", "flush", ")", ";", "<nl>", "*", "they", "are", "not", "on", "hot", "paths", "so", "a", "little", "discipline", "won", "'", "t", "do", "<nl>", "*", "any", "harm", ".", "<nl>", "*", "<nl>", "+", "*", "The", "line", "discipline", "-", "related", "tty", "_", "struct", "fields", "are", "reset", "to", "<nl>", "+", "*", "prevent", "the", "ldisc", "driver", "from", "re", "-", "using", "stale", "information", "for", "<nl>", "+", "*", "the", "new", "ldisc", "instance", ".", "<nl>", "+", "*", "<nl>", "*", "Locking", ":", "takes", "termios", "_", "rwsem", "<nl>", "*", "/", "<nl>", "<nl>", "static", "void", "tty", "_", "set", "_", "termios", "_", "ldisc", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "int", "num", ")", "<nl>", "down", "_", "write", "(", "&", "tty", "-", ">", "termios", "_", "rwsem", ")", ";", "<nl>", "tty", "-", ">", "termios", ".", "c", "_", "line", "=", "num", ";", "<nl>", "up", "_", "write", "(", "&", "tty", "-", ">", "termios", "_", "rwsem", ")", ";", "<nl>", "+", "<nl>", "+", "tty", "-", ">", "disc", "_", "data", "=", "NULL", ";", "<nl>", "+", "tty", "-", ">", "receive", "_", "room", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["tty", "Prevent", "ldisc", "drivers", "from", "re", "using", "stale", "tty", "fields"]}
{"code_tokens": ["static", "void", "bond", "_", "info", "_", "show", "_", "slave", "(", "struct", "seq", "_", "file", "*", "seq", ",", "<nl>", "seq", "_", "printf", "(", "seq", ",", "\"", "\\", "nSlave", "Interface", ":", "%", "s", "\\", "n", "\"", ",", "slave", "-", ">", "dev", "-", ">", "name", ")", ";", "<nl>", "seq", "_", "printf", "(", "seq", ",", "\"", "MII", "Status", ":", "%", "s", "\\", "n", "\"", ",", "<nl>", "(", "slave", "-", ">", "link", "=", "=", "BOND", "_", "LINK", "_", "UP", ")", "?", "\"", "up", "\"", ":", "\"", "down", "\"", ")", ";", "<nl>", "+", "seq", "_", "printf", "(", "seq", ",", "\"", "Speed", ":", "%", "d", "Mbps", "\\", "n", "\"", ",", "slave", "-", ">", "speed", ")", ";", "<nl>", "+", "seq", "_", "printf", "(", "seq", ",", "\"", "Duplex", ":", "%", "s", "\\", "n", "\"", ",", "slave", "-", ">", "duplex", "?", "\"", "full", "\"", ":", "\"", "half", "\"", ")", ";", "<nl>", "seq", "_", "printf", "(", "seq", ",", "\"", "Link", "Failure", "Count", ":", "%", "u", "\\", "n", "\"", ",", "<nl>", "slave", "-", ">", "link", "_", "failure", "_", "count", ")", ";", "<nl>"], "docstring_tokens": ["bonding", "add", "Speed", "Duplex", "information", "to", "proc", "net", "bonding", "bond"]}
{"code_tokens": ["void", "dma", "_", "run", "_", "dependencies", "(", "struct", "dma", "_", "async", "_", "tx", "_", "descriptor", "*", "tx", ")", "<nl>", "if", "(", "!", "dep", ")", "<nl>", "return", ";", "<nl>", "<nl>", "+", "/", "*", "we", "'", "ll", "submit", "tx", "-", ">", "next", "now", ",", "so", "clear", "the", "link", "*", "/", "<nl>", "+", "tx", "-", ">", "next", "=", "NULL", ";", "<nl>", "chan", "=", "dep", "-", ">", "chan", ";", "<nl>", "<nl>", "/", "*", "keep", "submitting", "up", "until", "a", "channel", "switch", "is", "detected", "<nl>"], "docstring_tokens": ["dmaengine", "fix", "dependency", "chaining"]}
{"code_tokens": ["static", "void", "*", "_", "_", "iommu", "_", "alloc", "_", "attrs", "(", "struct", "device", "*", "dev", ",", "size", "_", "t", "size", ",", "<nl>", "size", ">", ">", "PAGE", "_", "SHIFT", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "-", "if", "(", "!", "coherent", ")", "<nl>", "-", "_", "_", "dma", "_", "flush", "_", "area", "(", "page", "_", "to", "_", "virt", "(", "page", ")", ",", "iosize", ")", ";", "<nl>", "-", "<nl>", "addr", "=", "dma", "_", "common", "_", "contiguous", "_", "remap", "(", "page", ",", "size", ",", "VM", "_", "USERMAP", ",", "<nl>", "prot", ",", "<nl>", "_", "_", "builtin", "_", "return", "_", "address", "(", "0", ")", ")", ";", "<nl>", "-", "if", "(", "!", "addr", ")", "{", "<nl>", "+", "if", "(", "addr", ")", "{", "<nl>", "+", "memset", "(", "addr", ",", "0", ",", "size", ")", ";", "<nl>", "+", "if", "(", "!", "coherent", ")", "<nl>", "+", "_", "_", "dma", "_", "flush", "_", "area", "(", "page", "_", "to", "_", "virt", "(", "page", ")", ",", "iosize", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "iommu", "_", "dma", "_", "unmap", "_", "page", "(", "dev", ",", "*", "handle", ",", "iosize", ",", "0", ",", "attrs", ")", ";", "<nl>", "dma", "_", "release", "_", "from", "_", "contiguous", "(", "dev", ",", "page", ",", "<nl>", "size", ">", ">", "PAGE", "_", "SHIFT", ")", ";", "<nl>"], "docstring_tokens": ["arm64", "dma", "mapping", "clear", "buffers", "allocated", "with", "FORCE_CONTIGUOUS", "flag"]}
{"code_tokens": ["static", "void", "vhost", "_", "net", "_", "ubuf", "_", "put", "_", "and", "_", "wait", "(", "struct", "vhost", "_", "net", "_", "ubuf", "_", "ref", "*", "ubufs", ")", "<nl>", "{", "<nl>", "kref", "_", "put", "(", "&", "ubufs", "-", ">", "kref", ",", "vhost", "_", "net", "_", "zerocopy", "_", "done", "_", "signal", ")", ";", "<nl>", "wait", "_", "event", "(", "ubufs", "-", ">", "wait", ",", "!", "atomic", "_", "read", "(", "&", "ubufs", "-", ">", "kref", ".", "refcount", ")", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "static", "void", "vhost", "_", "net", "_", "ubuf", "_", "put", "_", "wait", "_", "and", "_", "free", "(", "struct", "vhost", "_", "net", "_", "ubuf", "_", "ref", "*", "ubufs", ")", "<nl>", "+", "{", "<nl>", "+", "vhost", "_", "net", "_", "ubuf", "_", "put", "_", "and", "_", "wait", "(", "ubufs", ")", ";", "<nl>", "kfree", "(", "ubufs", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "long", "vhost", "_", "net", "_", "set", "_", "backend", "(", "struct", "vhost", "_", "net", "*", "n", ",", "unsigned", "index", ",", "int", "fd", ")", "<nl>", "mutex", "_", "unlock", "(", "&", "vq", "-", ">", "mutex", ")", ";", "<nl>", "<nl>", "if", "(", "oldubufs", ")", "{", "<nl>", "-", "vhost", "_", "net", "_", "ubuf", "_", "put", "_", "and", "_", "wait", "(", "oldubufs", ")", ";", "<nl>", "+", "vhost", "_", "net", "_", "ubuf", "_", "put", "_", "wait", "_", "and", "_", "free", "(", "oldubufs", ")", ";", "<nl>", "mutex", "_", "lock", "(", "&", "vq", "-", ">", "mutex", ")", ";", "<nl>", "vhost", "_", "zerocopy", "_", "signal", "_", "used", "(", "n", ",", "vq", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "vq", "-", ">", "mutex", ")", ";", "<nl>", "static", "long", "vhost", "_", "net", "_", "set", "_", "backend", "(", "struct", "vhost", "_", "net", "*", "n", ",", "unsigned", "index", ",", "int", "fd", ")", "<nl>", "rcu", "_", "assign", "_", "pointer", "(", "vq", "-", ">", "private", "_", "data", ",", "oldsock", ")", ";", "<nl>", "vhost", "_", "net", "_", "enable", "_", "vq", "(", "n", ",", "vq", ")", ";", "<nl>", "if", "(", "ubufs", ")", "<nl>", "-", "vhost", "_", "net", "_", "ubuf", "_", "put", "_", "and", "_", "wait", "(", "ubufs", ")", ";", "<nl>", "+", "vhost", "_", "net", "_", "ubuf", "_", "put", "_", "wait", "_", "and", "_", "free", "(", "ubufs", ")", ";", "<nl>", "err", "_", "ubufs", ":", "<nl>", "fput", "(", "sock", "-", ">", "file", ")", ";", "<nl>", "err", "_", "vq", ":", "<nl>"], "docstring_tokens": ["vhost", "net", "fix", "use", "after", "free", "in", "vhost_net_flush"]}
{"code_tokens": ["static", "int", "send", "_", "pin", "_", "code", "_", "neg", "_", "reply", "(", "struct", "sock", "*", "sk", ",", "struct", "hci", "_", "dev", "*", "hdev", ",", "<nl>", "if", "(", "!", "cmd", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "+", "cmd", "-", ">", "cmd", "_", "complete", "=", "addr", "_", "cmd", "_", "complete", ";", "<nl>", "+", "<nl>", "err", "=", "hci", "_", "send", "_", "cmd", "(", "hdev", ",", "HCI", "_", "OP", "_", "PIN", "_", "CODE", "_", "NEG", "_", "REPLY", ",", "<nl>", "sizeof", "(", "cp", "-", ">", "addr", ".", "bdaddr", ")", ",", "&", "cp", "-", ">", "addr", ".", "bdaddr", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>"], "docstring_tokens": ["Bluetooth", "Fix", "NULL", "pointer", "dereference", "in", "mgmt", "context"]}
{"code_tokens": ["static", "int", "alloc", "_", "reserved", "_", "tree", "_", "block", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "ret", "=", "btrfs", "_", "insert", "_", "empty", "_", "item", "(", "trans", ",", "fs", "_", "info", "-", ">", "extent", "_", "root", ",", "path", ",", "<nl>", "ins", ",", "size", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "+", "btrfs", "_", "free", "_", "path", "(", "path", ")", ";", "<nl>", "btrfs", "_", "free", "_", "and", "_", "pin", "_", "reserved", "_", "extent", "(", "root", ",", "ins", "-", ">", "objectid", ",", "<nl>", "root", "-", ">", "nodesize", ")", ";", "<nl>", "-", "btrfs", "_", "free", "_", "path", "(", "path", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Btrfs", "free", "and", "unlock", "our", "path", "before", "btrfs_free_and_pin_reserved_extent"]}
{"code_tokens": ["void", "<nl>", "free", "_", "session", "(", "struct", "kref", "*", "kref", ")", "<nl>", "{", "<nl>", "struct", "nfsd4", "_", "session", "*", "ses", ";", "<nl>", "+", "int", "mem", ";", "<nl>", "<nl>", "ses", "=", "container", "_", "of", "(", "kref", ",", "struct", "nfsd4", "_", "session", ",", "se", "_", "ref", ")", ";", "<nl>", "spin", "_", "lock", "(", "&", "nfsd", "_", "drc", "_", "lock", ")", ";", "<nl>", "-", "nfsd", "_", "drc", "_", "mem", "_", "used", "-", "=", "ses", "-", ">", "se", "_", "fchannel", ".", "maxreqs", "*", "NFSD", "_", "SLOT", "_", "CACHE", "_", "SIZE", ";", "<nl>", "+", "mem", "=", "ses", "-", ">", "se", "_", "fchannel", ".", "maxreqs", "<nl>", "+", "*", "(", "ses", "-", ">", "se", "_", "fchannel", ".", "maxresp", "_", "cached", "-", "NFSD", "_", "MIN", "_", "HDR", "_", "SEQ", "_", "SZ", ")", ";", "<nl>", "+", "nfsd", "_", "drc", "_", "mem", "_", "used", "-", "=", "mem", ";", "<nl>", "spin", "_", "unlock", "(", "&", "nfsd", "_", "drc", "_", "lock", ")", ";", "<nl>", "free", "_", "session", "_", "slots", "(", "ses", ")", ";", "<nl>", "kfree", "(", "ses", ")", ";", "<nl>"], "docstring_tokens": ["nfsd4", "1", "fix", "session", "memory", "use", "calculation"]}
{"code_tokens": ["long", "kernel", "_", "wait4", "(", "pid", "_", "t", "upid", ",", "int", "_", "_", "user", "*", "stat", "_", "addr", ",", "int", "options", ",", "<nl>", "_", "_", "WNOTHREAD", "|", "_", "_", "WCLONE", "|", "_", "_", "WALL", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "/", "*", "-", "INT", "_", "MIN", "is", "not", "defined", "*", "/", "<nl>", "+", "if", "(", "upid", "=", "=", "INT", "_", "MIN", ")", "<nl>", "+", "return", "-", "ESRCH", ";", "<nl>", "+", "<nl>", "if", "(", "upid", "=", "=", "-", "1", ")", "<nl>", "type", "=", "PIDTYPE", "_", "MAX", ";", "<nl>", "else", "if", "(", "upid", "<", "0", ")", "{", "<nl>"], "docstring_tokens": ["kernel", "exit", "c", "avoid", "undefined", "behaviour", "when", "calling", "wait4"]}
{"code_tokens": ["static", "void", "boot", "_", "core", "(", "unsigned", "core", ")", "<nl>", "write", "_", "gcr", "_", "access", "(", "access", ")", ";", "<nl>", "<nl>", "if", "(", "mips", "_", "cpc", "_", "present", "(", ")", ")", "{", "<nl>", "-", "/", "*", "Select", "the", "appropriate", "core", "*", "/", "<nl>", "-", "write", "_", "cpc", "_", "cl", "_", "other", "(", "core", "<", "<", "CPC", "_", "Cx", "_", "OTHER", "_", "CORENUM", "_", "SHF", ")", ";", "<nl>", "-", "<nl>", "/", "*", "Reset", "the", "core", "*", "/", "<nl>", "+", "mips", "_", "cpc", "_", "lock", "_", "other", "(", "core", ")", ";", "<nl>", "write", "_", "cpc", "_", "co", "_", "cmd", "(", "CPC", "_", "Cx", "_", "CMD", "_", "RESET", ")", ";", "<nl>", "+", "mips", "_", "cpc", "_", "unlock", "_", "other", "(", ")", ";", "<nl>", "}", "else", "{", "<nl>", "/", "*", "Take", "the", "core", "out", "of", "reset", "*", "/", "<nl>", "write", "_", "gcr", "_", "co", "_", "reset", "_", "release", "(", "0", ")", ";", "<nl>"], "docstring_tokens": ["MIPS", "smp", "cps", "use", "CPC", "core", "other", "locking"]}
{"code_tokens": ["int", "inet6", "_", "csk", "_", "bind", "_", "conflict", "(", "const", "struct", "sock", "*", "sk", ",", "<nl>", "if", "(", "ipv6", "_", "rcv", "_", "saddr", "_", "equal", "(", "sk", ",", "sk2", ")", ")", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "if", "(", "!", "relax", "&", "&", "reuse", "&", "&", "sk2", "-", ">", "sk", "_", "reuse", "&", "&", "<nl>", "+", "sk2", "-", ">", "sk", "_", "state", "!", "=", "TCP", "_", "LISTEN", "&", "&", "<nl>", "+", "ipv6", "_", "rcv", "_", "saddr", "_", "equal", "(", "sk", ",", "sk2", ")", ")", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["tcp", "ipv6", "bind", "use", "stronger", "condition", "for", "bind_conflict"]}
{"code_tokens": ["static", "ssize", "_", "t", "i40e", "_", "dbg", "_", "command", "_", "write", "(", "struct", "file", "*", "filp", ",", "<nl>", "if", "(", "!", "cmd", "_", "buf", ")", "<nl>", "return", "count", ";", "<nl>", "bytes", "_", "not", "_", "copied", "=", "copy", "_", "from", "_", "user", "(", "cmd", "_", "buf", ",", "buffer", ",", "count", ")", ";", "<nl>", "-", "if", "(", "bytes", "_", "not", "_", "copied", "<", "0", ")", "<nl>", "+", "if", "(", "bytes", "_", "not", "_", "copied", "<", "0", ")", "{", "<nl>", "+", "kfree", "(", "cmd", "_", "buf", ")", ";", "<nl>", "return", "bytes", "_", "not", "_", "copied", ";", "<nl>", "+", "}", "<nl>", "if", "(", "bytes", "_", "not", "_", "copied", ">", "0", ")", "<nl>", "count", "-", "=", "bytes", "_", "not", "_", "copied", ";", "<nl>", "cmd", "_", "buf", "[", "count", "]", "=", "'", "\\", "0", "'", ";", "<nl>"], "docstring_tokens": ["i40e", "Fix", "memory", "leak", "at", "failure", "path", "in", "i40e_dbg_command_write"]}
{"code_tokens": ["#", "define", "_", "_", "NR", "_", "mknodat", "(", "_", "_", "NR", "_", "Linux", "+", "290", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "fchownat", "(", "_", "_", "NR", "_", "Linux", "+", "291", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "futimesat", "(", "_", "_", "NR", "_", "Linux", "+", "292", ")", "<nl>", "-", "#", "define", "_", "_", "NR", "_", "fstatat", "(", "_", "_", "NR", "_", "Linux", "+", "293", ")", "<nl>", "+", "#", "define", "_", "_", "NR", "_", "fstatat64", "(", "_", "_", "NR", "_", "Linux", "+", "293", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "unlinkat", "(", "_", "_", "NR", "_", "Linux", "+", "294", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "renameat", "(", "_", "_", "NR", "_", "Linux", "+", "295", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "linkat", "(", "_", "_", "NR", "_", "Linux", "+", "296", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "mknodat", "(", "_", "_", "NR", "_", "Linux", "+", "249", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "fchownat", "(", "_", "_", "NR", "_", "Linux", "+", "250", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "futimesat", "(", "_", "_", "NR", "_", "Linux", "+", "251", ")", "<nl>", "-", "#", "define", "_", "_", "NR", "_", "fstatat", "(", "_", "_", "NR", "_", "Linux", "+", "252", ")", "<nl>", "+", "#", "define", "_", "_", "NR", "_", "newfstatat", "(", "_", "_", "NR", "_", "Linux", "+", "252", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "unlinkat", "(", "_", "_", "NR", "_", "Linux", "+", "253", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "renameat", "(", "_", "_", "NR", "_", "Linux", "+", "254", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "linkat", "(", "_", "_", "NR", "_", "Linux", "+", "255", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "mknodat", "(", "_", "_", "NR", "_", "Linux", "+", "253", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "fchownat", "(", "_", "_", "NR", "_", "Linux", "+", "254", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "futimesat", "(", "_", "_", "NR", "_", "Linux", "+", "255", ")", "<nl>", "-", "#", "define", "_", "_", "NR", "_", "fstatat", "(", "_", "_", "NR", "_", "Linux", "+", "256", ")", "<nl>", "+", "#", "define", "_", "_", "NR", "_", "newfstatat", "(", "_", "_", "NR", "_", "Linux", "+", "256", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "unlinkat", "(", "_", "_", "NR", "_", "Linux", "+", "257", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "renameat", "(", "_", "_", "NR", "_", "Linux", "+", "258", ")", "<nl>", "#", "define", "_", "_", "NR", "_", "linkat", "(", "_", "_", "NR", "_", "Linux", "+", "259", ")", "<nl>"], "docstring_tokens": ["MIPS", "fstatat", "syscall", "names"]}
{"code_tokens": ["#", "include", "<", "linux", "/", "vmalloc", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "media", "/", "videobuf2", "-", "core", ".", "h", ">", "<nl>", "+", "#", "include", "<", "media", "/", "videobuf2", "-", "vmalloc", ".", "h", ">", "<nl>", "#", "include", "<", "media", "/", "videobuf2", "-", "memops", ".", "h", ">", "<nl>", "<nl>", "struct", "vb2", "_", "vmalloc", "_", "buf", "{", "<nl>"], "docstring_tokens": ["media", "videobuf2", "fix", "sparse", "warning"]}
{"code_tokens": ["struct", "drm", "_", "connector", "*", "omap", "_", "framebuffer", "_", "get", "_", "next", "_", "connector", "(", "<nl>", "struct", "list", "_", "head", "*", "connector", "_", "list", "=", "&", "dev", "-", ">", "mode", "_", "config", ".", "connector", "_", "list", ";", "<nl>", "struct", "drm", "_", "connector", "*", "connector", "=", "from", ";", "<nl>", "<nl>", "-", "if", "(", "!", "from", ")", "{", "<nl>", "+", "if", "(", "!", "from", ")", "<nl>", "return", "list", "_", "first", "_", "entry", "(", "connector", "_", "list", ",", "typeof", "(", "*", "from", ")", ",", "head", ")", ";", "<nl>", "-", "}", "<nl>", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "_", "from", "(", "connector", ",", "connector", "_", "list", ",", "head", ")", "{", "<nl>", "if", "(", "connector", "!", "=", "from", ")", "{", "<nl>", "struct", "drm", "_", "encoder", "*", "encoder", "=", "connector", "-", ">", "encoder", ";", "<nl>", "struct", "drm", "_", "crtc", "*", "crtc", "=", "encoder", "?", "encoder", "-", ">", "crtc", ":", "NULL", ";", "<nl>", "-", "if", "(", "crtc", "&", "&", "crtc", "-", ">", "fb", "=", "=", "fb", ")", "{", "<nl>", "+", "if", "(", "crtc", "&", "&", "crtc", "-", ">", "fb", "=", "=", "fb", ")", "<nl>", "return", "connector", ";", "<nl>", "-", "}", "<nl>", "+", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "struct", "drm", "_", "framebuffer", "*", "omap", "_", "framebuffer", "_", "init", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "return", "fb", ";", "<nl>", "<nl>", "fail", ":", "<nl>", "-", "if", "(", "fb", ")", "{", "<nl>", "+", "if", "(", "fb", ")", "<nl>", "omap", "_", "framebuffer", "_", "destroy", "(", "fb", ")", ";", "<nl>", "-", "}", "<nl>", "+", "<nl>", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "omapdrm", "Fix", "spacing", "coding", "style", "in", "omap_fb", "c"]}
{"code_tokens": ["int", "i915", "_", "gem", "_", "init", "_", "stolen", "(", "struct", "drm", "_", "i915", "_", "private", "*", "dev", "_", "priv", ")", "<nl>", "<nl>", "mutex", "_", "init", "(", "&", "dev", "_", "priv", "-", ">", "mm", ".", "stolen", "_", "lock", ")", ";", "<nl>", "<nl>", "+", "if", "(", "intel", "_", "vgpu", "_", "active", "(", "dev", "_", "priv", ")", ")", "{", "<nl>", "+", "DRM", "_", "INFO", "(", "\"", "iGVT", "-", "g", "active", ",", "disabling", "use", "of", "stolen", "memory", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "#", "ifdef", "CONFIG", "_", "INTEL", "_", "IOMMU", "<nl>", "if", "(", "intel", "_", "iommu", "_", "gfx", "_", "mapped", "&", "&", "INTEL", "_", "GEN", "(", "dev", "_", "priv", ")", "<", "8", ")", "{", "<nl>", "DRM", "_", "INFO", "(", "\"", "DMAR", "active", ",", "disabling", "use", "of", "stolen", "memory", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "gvt", "Disable", "access", "to", "stolen", "memory", "as", "a", "guest"]}
{"code_tokens": ["int", "swap", "_", "type", "_", "of", "(", "dev", "_", "t", "device", ",", "sector", "_", "t", "offset", ",", "struct", "block", "_", "device", "*", "*", "bdev", "_", "p", ")", "<nl>", "<nl>", "if", "(", "!", "bdev", ")", "{", "<nl>", "if", "(", "bdev", "_", "p", ")", "<nl>", "-", "*", "bdev", "_", "p", "=", "bdget", "(", "sis", "-", ">", "bdev", "-", ">", "bd", "_", "dev", ")", ";", "<nl>", "+", "*", "bdev", "_", "p", "=", "bdgrab", "(", "sis", "-", ">", "bdev", ")", ";", "<nl>", "<nl>", "spin", "_", "unlock", "(", "&", "swap", "_", "lock", ")", ";", "<nl>", "return", "i", ";", "<nl>", "int", "swap", "_", "type", "_", "of", "(", "dev", "_", "t", "device", ",", "sector", "_", "t", "offset", ",", "struct", "block", "_", "device", "*", "*", "bdev", "_", "p", ")", "<nl>", "struct", "swap", "_", "extent", ",", "list", ")", ";", "<nl>", "if", "(", "se", "-", ">", "start", "_", "block", "=", "=", "offset", ")", "{", "<nl>", "if", "(", "bdev", "_", "p", ")", "<nl>", "-", "*", "bdev", "_", "p", "=", "bdget", "(", "sis", "-", ">", "bdev", "-", ">", "bd", "_", "dev", ")", ";", "<nl>", "+", "*", "bdev", "_", "p", "=", "bdgrab", "(", "sis", "-", ">", "bdev", ")", ";", "<nl>", "<nl>", "spin", "_", "unlock", "(", "&", "swap", "_", "lock", ")", ";", "<nl>", "bdput", "(", "bdev", ")", ";", "mmm", "include", "/", "linux", "/", "fs", ".", "h", "<nl>", "int", "swap", "_", "type", "_", "of", "(", "dev", "_", "t", "device", ",", "sector", "_", "t", "offset", ",", "struct", "block", "_", "device", "*", "*", "bdev", "_", "p", ")", "<nl>", "<nl>", "if", "(", "!", "bdev", ")", "{", "<nl>", "if", "(", "bdev", "_", "p", ")", "<nl>", "-", "*", "bdev", "_", "p", "=", "bdget", "(", "sis", "-", ">", "bdev", "-", ">", "bd", "_", "dev", ")", ";", "<nl>", "+", "*", "bdev", "_", "p", "=", "bdgrab", "(", "sis", "-", ">", "bdev", ")", ";", "<nl>", "<nl>", "spin", "_", "unlock", "(", "&", "swap", "_", "lock", ")", ";", "<nl>", "return", "i", ";", "<nl>", "int", "swap", "_", "type", "_", "of", "(", "dev", "_", "t", "device", ",", "sector", "_", "t", "offset", ",", "struct", "block", "_", "device", "*", "*", "bdev", "_", "p", ")", "<nl>", "struct", "swap", "_", "extent", ",", "list", ")", ";", "<nl>", "if", "(", "se", "-", ">", "start", "_", "block", "=", "=", "offset", ")", "{", "<nl>", "if", "(", "bdev", "_", "p", ")", "<nl>", "-", "*", "bdev", "_", "p", "=", "bdget", "(", "sis", "-", ">", "bdev", "-", ">", "bd", "_", "dev", ")", ";", "<nl>", "+", "*", "bdev", "_", "p", "=", "bdgrab", "(", "sis", "-", ">", "bdev", ")", ";", "<nl>", "<nl>", "spin", "_", "unlock", "(", "&", "swap", "_", "lock", ")", ";", "<nl>", "bdput", "(", "bdev", ")", ";", "<nl>", "extern", "void", "putname", "(", "const", "char", "*", "name", ")", ";", "<nl>", "extern", "int", "register", "_", "blkdev", "(", "unsigned", "int", ",", "const", "char", "*", ")", ";", "<nl>", "extern", "void", "unregister", "_", "blkdev", "(", "unsigned", "int", ",", "const", "char", "*", ")", ";", "<nl>", "extern", "struct", "block", "_", "device", "*", "bdget", "(", "dev", "_", "t", ")", ";", "<nl>", "+", "extern", "struct", "block", "_", "device", "*", "bdgrab", "(", "struct", "block", "_", "device", "*", "bdev", ")", ";", "<nl>", "extern", "void", "bd", "_", "set", "_", "size", "(", "struct", "block", "_", "device", "*", ",", "loff", "_", "t", "size", ")", ";", "<nl>", "extern", "void", "bd", "_", "forget", "(", "struct", "inode", "*", "inode", ")", ";", "<nl>", "extern", "void", "bdput", "(", "struct", "block", "_", "device", "*", ")", ";", "mmm", "fs", "/", "block", "_", "dev", ".", "c", "<nl>", "int", "swap", "_", "type", "_", "of", "(", "dev", "_", "t", "device", ",", "sector", "_", "t", "offset", ",", "struct", "block", "_", "device", "*", "*", "bdev", "_", "p", ")", "<nl>", "<nl>", "if", "(", "!", "bdev", ")", "{", "<nl>", "if", "(", "bdev", "_", "p", ")", "<nl>", "-", "*", "bdev", "_", "p", "=", "bdget", "(", "sis", "-", ">", "bdev", "-", ">", "bd", "_", "dev", ")", ";", "<nl>", "+", "*", "bdev", "_", "p", "=", "bdgrab", "(", "sis", "-", ">", "bdev", ")", ";", "<nl>", "<nl>", "spin", "_", "unlock", "(", "&", "swap", "_", "lock", ")", ";", "<nl>", "return", "i", ";", "<nl>", "int", "swap", "_", "type", "_", "of", "(", "dev", "_", "t", "device", ",", "sector", "_", "t", "offset", ",", "struct", "block", "_", "device", "*", "*", "bdev", "_", "p", ")", "<nl>", "struct", "swap", "_", "extent", ",", "list", ")", ";", "<nl>", "if", "(", "se", "-", ">", "start", "_", "block", "=", "=", "offset", ")", "{", "<nl>", "if", "(", "bdev", "_", "p", ")", "<nl>", "-", "*", "bdev", "_", "p", "=", "bdget", "(", "sis", "-", ">", "bdev", "-", ">", "bd", "_", "dev", ")", ";", "<nl>", "+", "*", "bdev", "_", "p", "=", "bdgrab", "(", "sis", "-", ">", "bdev", ")", ";", "<nl>", "<nl>", "spin", "_", "unlock", "(", "&", "swap", "_", "lock", ")", ";", "<nl>", "bdput", "(", "bdev", ")", ";", "<nl>", "extern", "void", "putname", "(", "const", "char", "*", "name", ")", ";", "<nl>", "extern", "int", "register", "_", "blkdev", "(", "unsigned", "int", ",", "const", "char", "*", ")", ";", "<nl>", "extern", "void", "unregister", "_", "blkdev", "(", "unsigned", "int", ",", "const", "char", "*", ")", ";", "<nl>", "extern", "struct", "block", "_", "device", "*", "bdget", "(", "dev", "_", "t", ")", ";", "<nl>", "+", "extern", "struct", "block", "_", "device", "*", "bdgrab", "(", "struct", "block", "_", "device", "*", "bdev", ")", ";", "<nl>", "extern", "void", "bd", "_", "set", "_", "size", "(", "struct", "block", "_", "device", "*", ",", "loff", "_", "t", "size", ")", ";", "<nl>", "extern", "void", "bd", "_", "forget", "(", "struct", "inode", "*", "inode", ")", ";", "<nl>", "extern", "void", "bdput", "(", "struct", "block", "_", "device", "*", ")", ";", "<nl>", "struct", "block", "_", "device", "*", "bdget", "(", "dev", "_", "t", "dev", ")", "<nl>", "<nl>", "EXPORT", "_", "SYMBOL", "(", "bdget", ")", ";", "<nl>", "<nl>", "+", "/", "*", "*", "<nl>", "+", "*", "bdgrab", "-", "-", "Grab", "a", "reference", "to", "an", "already", "referenced", "block", "device", "<nl>", "+", "*", "@", "bdev", ":", "Block", "device", "to", "grab", "a", "reference", "to", ".", "<nl>", "+", "*", "/", "<nl>", "+", "struct", "block", "_", "device", "*", "bdgrab", "(", "struct", "block", "_", "device", "*", "bdev", ")", "<nl>", "+", "{", "<nl>", "+", "atomic", "_", "inc", "(", "&", "bdev", "-", ">", "bd", "_", "inode", "-", ">", "i", "_", "count", ")", ";", "<nl>", "+", "return", "bdev", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "long", "nr", "_", "blockdev", "_", "pages", "(", "void", ")", "<nl>", "{", "<nl>", "struct", "block", "_", "device", "*", "bdev", ";", "<nl>"], "docstring_tokens": ["PM", "Hibernate", "Replace", "bdget", "call", "with", "simple", "atomic_inc", "of", "i_count"]}
{"code_tokens": ["void", "ath10k", "_", "htt", "_", "tx", "_", "free", "(", "struct", "ath10k", "_", "htt", "*", "htt", ")", "<nl>", "{", "<nl>", "int", "size", ";", "<nl>", "<nl>", "+", "tasklet", "_", "kill", "(", "&", "htt", "-", ">", "txrx", "_", "compl", "_", "task", ")", ";", "<nl>", "+", "<nl>", "idr", "_", "for", "_", "each", "(", "&", "htt", "-", ">", "pending", "_", "tx", ",", "ath10k", "_", "htt", "_", "tx", "_", "clean", "_", "up", "_", "pending", ",", "htt", "-", ">", "ar", ")", ";", "<nl>", "idr", "_", "destroy", "(", "&", "htt", "-", ">", "pending", "_", "tx", ")", ";", "<nl>"], "docstring_tokens": ["ath10k", "ensure", "txrx", "compl", "task", "is", "stopped", "when", "cleaning", "htt", "tx"]}
{"code_tokens": ["static", "int", "pl08x", "_", "probe", "(", "struct", "amba", "_", "device", "*", "adev", ",", "const", "struct", "amba", "_", "id", "*", "id", ")", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "+", "/", "*", "Ensure", "that", "we", "can", "do", "DMA", "*", "/", "<nl>", "+", "ret", "=", "dma", "_", "set", "_", "mask", "_", "and", "_", "coherent", "(", "&", "adev", "-", ">", "dev", ",", "DMA", "_", "BIT", "_", "MASK", "(", "32", ")", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "goto", "out", "_", "no", "_", "pl08x", ";", "<nl>", "+", "<nl>", "/", "*", "Create", "the", "driver", "state", "holder", "*", "/", "<nl>", "pl08x", "=", "kzalloc", "(", "sizeof", "(", "*", "pl08x", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "pl08x", ")", "{", "<nl>"], "docstring_tokens": ["DMA", "API", "dma", "pl08x", "add", "dma_set_mask_and_coherent", "call"]}
{"code_tokens": ["static", "int", "fdb", "_", "insert", "(", "struct", "net", "_", "bridge", "*", "br", ",", "struct", "net", "_", "bridge", "_", "port", "*", "source", ",", "<nl>", "*", "/", "<nl>", "if", "(", "fdb", "-", ">", "is", "_", "local", ")", "<nl>", "return", "0", ";", "<nl>", "-", "br", "_", "warn", "(", "br", ",", "\"", "adding", "interface", "%", "s", "with", "same", "address", "\"", "<nl>", "-", "\"", "as", "a", "received", "packet", "\\", "n", "\"", ",", "<nl>", "-", "source", "?", "source", "-", ">", "dev", "-", ">", "name", ":", "br", "-", ">", "dev", "-", ">", "name", ")", ";", "<nl>", "+", "br", "_", "warn", "(", "br", ",", "\"", "adding", "interface", "%", "s", "with", "same", "address", "as", "a", "received", "packet", "(", "addr", ":", "%", "pM", ",", "vlan", ":", "%", "u", ")", "\\", "n", "\"", ",", "<nl>", "+", "source", "?", "source", "-", ">", "dev", "-", ">", "name", ":", "br", "-", ">", "dev", "-", ">", "name", ",", "addr", ",", "vid", ")", ";", "<nl>", "fdb", "_", "delete", "(", "br", ",", "fdb", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "br", "_", "fdb", "_", "update", "(", "struct", "net", "_", "bridge", "*", "br", ",", "struct", "net", "_", "bridge", "_", "port", "*", "source", ",", "<nl>", "/", "*", "attempt", "to", "update", "an", "entry", "for", "a", "local", "interface", "*", "/", "<nl>", "if", "(", "unlikely", "(", "fdb", "-", ">", "is", "_", "local", ")", ")", "{", "<nl>", "if", "(", "net", "_", "ratelimit", "(", ")", ")", "<nl>", "-", "br", "_", "warn", "(", "br", ",", "\"", "received", "packet", "on", "%", "s", "with", "\"", "<nl>", "-", "\"", "own", "address", "as", "source", "address", "\\", "n", "\"", ",", "<nl>", "-", "source", "-", ">", "dev", "-", ">", "name", ")", ";", "<nl>", "+", "br", "_", "warn", "(", "br", ",", "\"", "received", "packet", "on", "%", "s", "with", "own", "address", "as", "source", "address", "(", "addr", ":", "%", "pM", ",", "vlan", ":", "%", "u", ")", "\\", "n", "\"", ",", "<nl>", "+", "source", "-", ">", "dev", "-", ">", "name", ",", "addr", ",", "vid", ")", ";", "<nl>", "}", "else", "{", "<nl>", "/", "*", "fastpath", ":", "update", "of", "existing", "entry", "*", "/", "<nl>", "if", "(", "unlikely", "(", "source", "!", "=", "fdb", "-", ">", "dst", ")", ")", "{", "<nl>"], "docstring_tokens": ["bridge", "add", "address", "and", "vlan", "to", "fdb", "warning", "messages"]}
{"code_tokens": ["struct", "sk", "_", "buff", "{", "<nl>", "_", "_", "u32", "reserved", "_", "tailroom", ";", "<nl>", "}", ";", "<nl>", "<nl>", "+", "kmemcheck", "_", "bitfield", "_", "begin", "(", "flags3", ")", ";", "<nl>", "+", "/", "*", "16", "bit", "hole", "*", "/", "<nl>", "+", "kmemcheck", "_", "bitfield", "_", "end", "(", "flags3", ")", ";", "<nl>", "+", "<nl>", "_", "_", "be16", "inner", "_", "protocol", ";", "<nl>", "_", "_", "u16", "inner", "_", "transport", "_", "header", ";", "<nl>", "_", "_", "u16", "inner", "_", "network", "_", "header", ";", "<nl>"], "docstring_tokens": ["net", "Allocate", "a", "new", "16", "bits", "for", "flags", "in", "skbuff"]}
{"code_tokens": ["int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "callchain", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "<nl>", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "sample", ",", "<nl>", "struct", "addr", "_", "location", "*", "al", ",", "int", "left", "_", "alignment", ",", "<nl>", "-", "unsigned", "int", "print", "_", "opts", ",", "unsigned", "int", "stack", "_", "depth", ",", "<nl>", "-", "FILE", "*", "fp", ")", ";", "<nl>", "+", "unsigned", "int", "print", "_", "opts", ",", "bool", "print", "_", "callchain", ",", "<nl>", "+", "unsigned", "int", "stack", "_", "depth", ",", "FILE", "*", "fp", ")", ";", "<nl>", "<nl>", "bool", "perf", "_", "evsel", "_", "_", "fallback", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "int", "err", ",", "<nl>", "char", "*", "msg", ",", "size", "_", "t", "msgsize", ")", ";", "mmm", "tools", "/", "perf", "/", "util", "/", "evsel", ".", "c", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "callchain", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "<nl>", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "sample", ",", "<nl>", "struct", "addr", "_", "location", "*", "al", ",", "int", "left", "_", "alignment", ",", "<nl>", "-", "unsigned", "int", "print", "_", "opts", ",", "unsigned", "int", "stack", "_", "depth", ",", "<nl>", "-", "FILE", "*", "fp", ")", ";", "<nl>", "+", "unsigned", "int", "print", "_", "opts", ",", "bool", "print", "_", "callchain", ",", "<nl>", "+", "unsigned", "int", "stack", "_", "depth", ",", "FILE", "*", "fp", ")", ";", "<nl>", "<nl>", "bool", "perf", "_", "evsel", "_", "_", "fallback", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "int", "err", ",", "<nl>", "char", "*", "msg", ",", "size", "_", "t", "msgsize", ")", ";", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "callchain", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "<nl>", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "sample", ",", "<nl>", "struct", "addr", "_", "location", "*", "al", ",", "int", "left", "_", "alignment", ",", "<nl>", "-", "unsigned", "int", "print", "_", "opts", ",", "unsigned", "int", "stack", "_", "depth", ",", "<nl>", "-", "FILE", "*", "fp", ")", "<nl>", "+", "unsigned", "int", "print", "_", "opts", ",", "bool", "print", "_", "callchain", ",", "<nl>", "+", "unsigned", "int", "stack", "_", "depth", ",", "FILE", "*", "fp", ")", "<nl>", "{", "<nl>", "int", "printed", "=", "0", ";", "<nl>", "int", "print", "_", "ip", "=", "print", "_", "opts", "&", "EVSEL", "_", "_", "PRINT", "_", "IP", ";", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "sample", "<nl>", "int", "print", "_", "srcline", "=", "print", "_", "opts", "&", "EVSEL", "_", "_", "PRINT", "_", "SRCLINE", ";", "<nl>", "int", "print", "_", "unknown", "_", "as", "_", "addr", "=", "print", "_", "opts", "&", "EVSEL", "_", "_", "PRINT", "_", "UNKNOWN", "_", "AS", "_", "ADDR", ";", "<nl>", "<nl>", "-", "if", "(", "symbol", "_", "conf", ".", "use", "_", "callchain", "&", "&", "sample", "-", ">", "callchain", ")", "{", "<nl>", "+", "if", "(", "print", "_", "callchain", "&", "&", "sample", "-", ">", "callchain", ")", "{", "<nl>", "printed", "+", "=", "perf", "_", "evsel", "_", "_", "fprintf", "_", "callchain", "(", "evsel", ",", "sample", ",", "al", ",", "left", "_", "alignment", ",", "<nl>", "print", "_", "opts", ",", "stack", "_", "depth", ",", "fp", ")", ";", "<nl>", "}", "else", "if", "(", "!", "(", "al", "-", ">", "sym", "&", "&", "al", "-", ">", "sym", "-", ">", "ignore", ")", ")", "{", "mmm", "tools", "/", "perf", "/", "builtin", "-", "script", ".", "c", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "callchain", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "<nl>", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "sample", ",", "<nl>", "struct", "addr", "_", "location", "*", "al", ",", "int", "left", "_", "alignment", ",", "<nl>", "-", "unsigned", "int", "print", "_", "opts", ",", "unsigned", "int", "stack", "_", "depth", ",", "<nl>", "-", "FILE", "*", "fp", ")", ";", "<nl>", "+", "unsigned", "int", "print", "_", "opts", ",", "bool", "print", "_", "callchain", ",", "<nl>", "+", "unsigned", "int", "stack", "_", "depth", ",", "FILE", "*", "fp", ")", ";", "<nl>", "<nl>", "bool", "perf", "_", "evsel", "_", "_", "fallback", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "int", "err", ",", "<nl>", "char", "*", "msg", ",", "size", "_", "t", "msgsize", ")", ";", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "callchain", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "<nl>", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "sample", ",", "<nl>", "struct", "addr", "_", "location", "*", "al", ",", "int", "left", "_", "alignment", ",", "<nl>", "-", "unsigned", "int", "print", "_", "opts", ",", "unsigned", "int", "stack", "_", "depth", ",", "<nl>", "-", "FILE", "*", "fp", ")", "<nl>", "+", "unsigned", "int", "print", "_", "opts", ",", "bool", "print", "_", "callchain", ",", "<nl>", "+", "unsigned", "int", "stack", "_", "depth", ",", "FILE", "*", "fp", ")", "<nl>", "{", "<nl>", "int", "printed", "=", "0", ";", "<nl>", "int", "print", "_", "ip", "=", "print", "_", "opts", "&", "EVSEL", "_", "_", "PRINT", "_", "IP", ";", "<nl>", "int", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "struct", "perf", "_", "evsel", "*", "evsel", ",", "struct", "perf", "_", "sample", "*", "sample", "<nl>", "int", "print", "_", "srcline", "=", "print", "_", "opts", "&", "EVSEL", "_", "_", "PRINT", "_", "SRCLINE", ";", "<nl>", "int", "print", "_", "unknown", "_", "as", "_", "addr", "=", "print", "_", "opts", "&", "EVSEL", "_", "_", "PRINT", "_", "UNKNOWN", "_", "AS", "_", "ADDR", ";", "<nl>", "<nl>", "-", "if", "(", "symbol", "_", "conf", ".", "use", "_", "callchain", "&", "&", "sample", "-", ">", "callchain", ")", "{", "<nl>", "+", "if", "(", "print", "_", "callchain", "&", "&", "sample", "-", ">", "callchain", ")", "{", "<nl>", "printed", "+", "=", "perf", "_", "evsel", "_", "_", "fprintf", "_", "callchain", "(", "evsel", ",", "sample", ",", "al", ",", "left", "_", "alignment", ",", "<nl>", "print", "_", "opts", ",", "stack", "_", "depth", ",", "fp", ")", ";", "<nl>", "}", "else", "if", "(", "!", "(", "al", "-", ">", "sym", "&", "&", "al", "-", ">", "sym", "-", ">", "ignore", ")", ")", "{", "<nl>", "static", "void", "print", "_", "sample", "_", "bts", "(", "struct", "perf", "_", "sample", "*", "sample", ",", "<nl>", "}", "<nl>", "}", "<nl>", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "evsel", ",", "sample", ",", "al", ",", "0", ",", "print", "_", "opts", ",", "<nl>", "+", "symbol", "_", "conf", ".", "use", "_", "callchain", ",", "<nl>", "scripting", "_", "max", "_", "stack", ",", "stdout", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "process", "_", "event", "(", "struct", "perf", "_", "script", "*", "script", ",", "<nl>", "<nl>", "perf", "_", "evsel", "_", "_", "fprintf", "_", "sym", "(", "evsel", ",", "sample", ",", "al", ",", "0", ",", "<nl>", "output", "[", "attr", "-", ">", "type", "]", ".", "print", "_", "ip", "_", "opts", ",", "<nl>", "+", "symbol", "_", "conf", ".", "use", "_", "callchain", ",", "<nl>", "scripting", "_", "max", "_", "stack", ",", "stdout", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["perf", "evsel", "Remove", "symbol_conf", "usage"]}
{"code_tokens": ["static", "int", "gfar", "_", "of", "_", "init", "(", "struct", "of", "_", "device", "*", "ofdev", ",", "struct", "net", "_", "device", "*", "*", "pdev", ")", "<nl>", "priv", "-", ">", "rx", "_", "queue", "[", "i", "]", "=", "NULL", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "priv", "-", ">", "num", "_", "tx", "_", "queues", ";", "i", "+", "+", ")", "{", "<nl>", "-", "priv", "-", ">", "tx", "_", "queue", "[", "i", "]", "=", "(", "struct", "gfar", "_", "priv", "_", "tx", "_", "q", "*", ")", "kzalloc", "(", "<nl>", "-", "sizeof", "(", "struct", "gfar", "_", "priv", "_", "tx", "_", "q", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "priv", "-", ">", "tx", "_", "queue", "[", "i", "]", "=", "kzalloc", "(", "sizeof", "(", "struct", "gfar", "_", "priv", "_", "tx", "_", "q", ")", ",", "<nl>", "+", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "priv", "-", ">", "tx", "_", "queue", "[", "i", "]", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "tx", "_", "alloc", "_", "failed", ";", "<nl>", "static", "int", "gfar", "_", "of", "_", "init", "(", "struct", "of", "_", "device", "*", "ofdev", ",", "struct", "net", "_", "device", "*", "*", "pdev", ")", "<nl>", "}", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "priv", "-", ">", "num", "_", "rx", "_", "queues", ";", "i", "+", "+", ")", "{", "<nl>", "-", "priv", "-", ">", "rx", "_", "queue", "[", "i", "]", "=", "(", "struct", "gfar", "_", "priv", "_", "rx", "_", "q", "*", ")", "kzalloc", "(", "<nl>", "-", "sizeof", "(", "struct", "gfar", "_", "priv", "_", "rx", "_", "q", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "priv", "-", ">", "rx", "_", "queue", "[", "i", "]", "=", "kzalloc", "(", "sizeof", "(", "struct", "gfar", "_", "priv", "_", "rx", "_", "q", ")", ",", "<nl>", "+", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "priv", "-", ">", "rx", "_", "queue", "[", "i", "]", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "rx", "_", "alloc", "_", "failed", ";", "<nl>"], "docstring_tokens": ["drivers", "net", "gianfar", "c", "Remove", "unnecessary", "kmalloc", "casts"]}
{"code_tokens": ["void", "*", "dma", "_", "direct", "_", "alloc", "(", "struct", "device", "*", "dev", ",", "size", "_", "t", "size", ",", "dma", "_", "addr", "_", "t", "*", "dma", "_", "handle", ",", "<nl>", "_", "_", "free", "_", "pages", "(", "page", ",", "page", "_", "order", ")", ";", "<nl>", "page", "=", "NULL", ";", "<nl>", "<nl>", "+", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "ZONE", "_", "DMA32", ")", "&", "&", "<nl>", "+", "dev", "-", ">", "coherent", "_", "dma", "_", "mask", "<", "DMA", "_", "BIT", "_", "MASK", "(", "64", ")", "&", "&", "<nl>", "+", "!", "(", "gfp", "&", "(", "GFP", "_", "DMA32", "|", "GFP", "_", "DMA", ")", ")", ")", "{", "<nl>", "+", "gfp", "|", "=", "GFP", "_", "DMA32", ";", "<nl>", "+", "goto", "again", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "ZONE", "_", "DMA", ")", "&", "&", "<nl>", "dev", "-", ">", "coherent", "_", "dma", "_", "mask", "<", "DMA", "_", "BIT", "_", "MASK", "(", "32", ")", "&", "&", "<nl>", "!", "(", "gfp", "&", "GFP", "_", "DMA", ")", ")", "{", "<nl>"], "docstring_tokens": ["dma", "direct", "try", "reallocation", "with", "GFP_DMA32", "if", "possible"]}
{"code_tokens": ["int", "i2c", "_", "attach", "_", "client", "(", "struct", "i2c", "_", "client", "*", "client", ")", "<nl>", "if", "(", "client", "-", ">", "driver", ")", "<nl>", "client", "-", ">", "dev", ".", "driver", "=", "&", "client", "-", ">", "driver", "-", ">", "driver", ";", "<nl>", "<nl>", "-", "if", "(", "client", "-", ">", "driver", "&", "&", "!", "is", "_", "newstyle", "_", "driver", "(", "client", "-", ">", "driver", ")", ")", "<nl>", "+", "if", "(", "client", "-", ">", "driver", "&", "&", "!", "is", "_", "newstyle", "_", "driver", "(", "client", "-", ">", "driver", ")", ")", "{", "<nl>", "client", "-", ">", "dev", ".", "release", "=", "i2c", "_", "client", "_", "release", ";", "<nl>", "-", "else", "<nl>", "+", "client", "-", ">", "dev", ".", "uevent", "_", "suppress", "=", "1", ";", "<nl>", "+", "}", "else", "<nl>", "client", "-", ">", "dev", ".", "release", "=", "i2c", "_", "client", "_", "dev", "_", "release", ";", "<nl>", "<nl>", "snprintf", "(", "&", "client", "-", ">", "dev", ".", "bus", "_", "id", "[", "0", "]", ",", "sizeof", "(", "client", "-", ">", "dev", ".", "bus", "_", "id", ")", ",", "<nl>"], "docstring_tokens": ["i2c", "Legacy", "i2c", "drivers", "shouldn", "t", "issue", "uevents"]}
{"code_tokens": ["void", "mm", "_", "update", "_", "next", "_", "owner", "(", "struct", "mm", "_", "struct", "*", "mm", ")", "<nl>", "/", "*", "<nl>", "*", "Search", "in", "the", "siblings", "<nl>", "*", "/", "<nl>", "-", "list", "_", "for", "_", "each", "_", "entry", "(", "c", ",", "&", "p", "-", ">", "parent", "-", ">", "children", ",", "sibling", ")", "{", "<nl>", "+", "list", "_", "for", "_", "each", "_", "entry", "(", "c", ",", "&", "p", "-", ">", "real", "_", "parent", "-", ">", "children", ",", "sibling", ")", "{", "<nl>", "if", "(", "c", "-", ">", "mm", "=", "=", "mm", ")", "<nl>", "goto", "assign", "_", "new", "_", "owner", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ptrace", "mm_need_new_owner", "use", "real_parent", "to", "search", "in", "the", "siblings"]}
{"code_tokens": ["static", "int", "spc", "_", "emulate", "_", "inquiry", "(", "struct", "se", "_", "cmd", "*", "cmd", ")", "<nl>", "unsigned", "char", "buf", "[", "SE", "_", "INQUIRY", "_", "BUF", "]", ";", "<nl>", "int", "p", ",", "ret", ";", "<nl>", "<nl>", "+", "memset", "(", "buf", ",", "0", ",", "SE", "_", "INQUIRY", "_", "BUF", ")", ";", "<nl>", "+", "<nl>", "if", "(", "dev", "=", "=", "tpg", "-", ">", "tpg", "_", "virt", "_", "lun0", ".", "lun", "_", "se", "_", "dev", ")", "<nl>", "buf", "[", "0", "]", "=", "0x3f", ";", "/", "*", "Not", "connected", "*", "/", "<nl>", "else", "<nl>"], "docstring_tokens": ["target", "Re", "add", "explict", "zeroing", "of", "INQUIRY", "bounce", "buffer", "memory"]}
{"code_tokens": ["static", "void", "_", "_", "dma", "_", "page", "_", "dev", "_", "to", "_", "cpu", "(", "struct", "page", "*", "page", ",", "unsigned", "long", "off", ",", "<nl>", "unsigned", "long", "paddr", "=", "page", "_", "to", "_", "phys", "(", "page", ")", "+", "off", ";", "<nl>", "<nl>", "/", "*", "FIXME", ":", "non", "-", "speculating", ":", "not", "required", "*", "/", "<nl>", "-", "/", "*", "don", "'", "t", "bother", "invalidating", "if", "DMA", "to", "device", "*", "/", "<nl>", "-", "if", "(", "dir", "!", "=", "DMA", "_", "TO", "_", "DEVICE", ")", "<nl>", "+", "/", "*", "in", "any", "case", ",", "don", "'", "t", "bother", "invalidating", "if", "DMA", "to", "device", "*", "/", "<nl>", "+", "if", "(", "dir", "!", "=", "DMA", "_", "TO", "_", "DEVICE", ")", "{", "<nl>", "outer", "_", "inv", "_", "range", "(", "paddr", ",", "paddr", "+", "size", ")", ";", "<nl>", "<nl>", "-", "dma", "_", "cache", "_", "maint", "_", "page", "(", "page", ",", "off", ",", "size", ",", "dir", ",", "dmac", "_", "unmap", "_", "area", ")", ";", "<nl>", "+", "dma", "_", "cache", "_", "maint", "_", "page", "(", "page", ",", "off", ",", "size", ",", "dir", ",", "dmac", "_", "unmap", "_", "area", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Mark", "the", "D", "-", "cache", "clean", "for", "these", "pages", "to", "avoid", "extra", "flushing", ".", "<nl>"], "docstring_tokens": ["ARM", "dma", "mapping", "avoid", "calling", "dma_cache_maint_page", "on", "dev", "cpu"]}
{"code_tokens": ["static", "int", "snd", "_", "pcm", "_", "update", "_", "hw", "_", "ptr", "_", "interrupt", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ")", "<nl>", "new", "_", "hw", "_", "ptr", "=", "hw", "_", "base", "+", "pos", ";", "<nl>", "hw", "_", "ptr", "_", "interrupt", "=", "runtime", "-", ">", "hw", "_", "ptr", "_", "interrupt", "+", "runtime", "-", ">", "period", "_", "size", ";", "<nl>", "delta", "=", "new", "_", "hw", "_", "ptr", "-", "hw", "_", "ptr", "_", "interrupt", ";", "<nl>", "-", "if", "(", "hw", "_", "ptr", "_", "interrupt", "=", "=", "runtime", "-", ">", "boundary", ")", "<nl>", "-", "hw", "_", "ptr", "_", "interrupt", "=", "0", ";", "<nl>", "+", "if", "(", "hw", "_", "ptr", "_", "interrupt", ">", "=", "runtime", "-", ">", "boundary", ")", "{", "<nl>", "+", "hw", "_", "ptr", "_", "interrupt", "%", "=", "runtime", "-", ">", "boundary", ";", "<nl>", "+", "if", "(", "!", "hw", "_", "base", ")", "/", "*", "hw", "_", "base", "was", "already", "lapped", ";", "recalc", "delta", "*", "/", "<nl>", "+", "delta", "=", "new", "_", "hw", "_", "ptr", "-", "hw", "_", "ptr", "_", "interrupt", ";", "<nl>", "+", "}", "<nl>", "if", "(", "delta", "<", "0", ")", "{", "<nl>", "delta", "+", "=", "runtime", "-", ">", "buffer", "_", "size", ";", "<nl>", "if", "(", "delta", "<", "0", ")", "{", "<nl>", "static", "int", "snd", "_", "pcm", "_", "update", "_", "hw", "_", "ptr", "_", "interrupt", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ")", "<nl>", "(", "long", ")", "hw", "_", "ptr", "_", "interrupt", ")", ";", "<nl>", "/", "*", "rebase", "to", "interrupt", "position", "*", "/", "<nl>", "hw", "_", "base", "=", "new", "_", "hw", "_", "ptr", "=", "hw", "_", "ptr", "_", "interrupt", ";", "<nl>", "+", "/", "*", "align", "hw", "_", "base", "to", "buffer", "_", "size", "*", "/", "<nl>", "+", "hw", "_", "base", "-", "=", "hw", "_", "base", "%", "runtime", "-", ">", "buffer", "_", "size", ";", "<nl>", "delta", "=", "0", ";", "<nl>", "}", "else", "{", "<nl>", "hw", "_", "base", "+", "=", "runtime", "-", ">", "buffer", "_", "size", ";", "<nl>"], "docstring_tokens": ["ALSA", "pcm", "Fix", "delta", "calculation", "at", "boundary", "overlap"]}
{"code_tokens": ["brcmf", "_", "cfg80211", "_", "start", "_", "ap", "(", "struct", "wiphy", "*", "wiphy", ",", "struct", "net", "_", "device", "*", "ndev", ",", "<nl>", "(", "u8", "*", ")", "&", "settings", "-", ">", "beacon", ".", "head", "[", "ie", "_", "offset", "]", ",", "<nl>", "settings", "-", ">", "beacon", ".", "head", "_", "len", "-", "ie", "_", "offset", ",", "<nl>", "WLAN", "_", "EID", "_", "SSID", ")", ";", "<nl>", "-", "if", "(", "!", "ssid", "_", "ie", ")", "<nl>", "+", "if", "(", "!", "ssid", "_", "ie", "|", "|", "ssid", "_", "ie", "-", ">", "len", ">", "IEEE80211", "_", "MAX", "_", "SSID", "_", "LEN", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "memcpy", "(", "ssid", "_", "le", ".", "SSID", ",", "ssid", "_", "ie", "-", ">", "data", ",", "ssid", "_", "ie", "-", ">", "len", ")", ";", "<nl>"], "docstring_tokens": ["brcmfmac", "avoid", "potential", "stack", "overflow", "in", "brcmf_cfg80211_start_ap"]}
{"code_tokens": ["static", "void", "do", "_", "pata", "_", "set", "_", "dmamode", "(", "struct", "ata", "_", "port", "*", "ap", ",", "struct", "ata", "_", "device", "*", "adev", ",", "i", "<nl>", "u16", "master", "_", "data", ";", "<nl>", "u8", "speed", "=", "adev", "-", ">", "dma", "_", "mode", ";", "<nl>", "int", "devid", "=", "adev", "-", ">", "devno", "+", "2", "*", "ap", "-", ">", "port", "_", "no", ";", "<nl>", "-", "u8", "udma", "_", "enable", ";", "<nl>", "+", "u8", "udma", "_", "enable", "=", "0", ";", "<nl>", "<nl>", "static", "const", "/", "*", "ISP", "RTC", "*", "/", "<nl>", "u8", "timings", "[", "]", "[", "2", "]", "=", "{", "{", "0", ",", "0", "}", ",", "<nl>"], "docstring_tokens": ["libata", "piix3", "support", "warning", "fix"]}
{"code_tokens": ["static", "void", "md", "_", "clean", "(", "mddev", "_", "t", "*", "mddev", ")", "<nl>", "mddev", "-", ">", "plug", "=", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "void", "md", "_", "stop", "_", "writes", "(", "mddev", "_", "t", "*", "mddev", ")", "<nl>", "+", "static", "void", "_", "_", "md", "_", "stop", "_", "writes", "(", "mddev", "_", "t", "*", "mddev", ")", "<nl>", "{", "<nl>", "if", "(", "mddev", "-", ">", "sync", "_", "thread", ")", "{", "<nl>", "set", "_", "bit", "(", "MD", "_", "RECOVERY", "_", "FROZEN", ",", "&", "mddev", "-", ">", "recovery", ")", ";", "<nl>", "void", "md", "_", "stop", "_", "writes", "(", "mddev", "_", "t", "*", "mddev", ")", "<nl>", "md", "_", "update", "_", "sb", "(", "mddev", ",", "1", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "<nl>", "+", "void", "md", "_", "stop", "_", "writes", "(", "mddev", "_", "t", "*", "mddev", ")", "<nl>", "+", "{", "<nl>", "+", "mddev", "_", "lock", "(", "mddev", ")", ";", "<nl>", "+", "_", "_", "md", "_", "stop", "_", "writes", "(", "mddev", ")", ";", "<nl>", "+", "mddev", "_", "unlock", "(", "mddev", ")", ";", "<nl>", "+", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "md", "_", "stop", "_", "writes", ")", ";", "<nl>", "<nl>", "void", "md", "_", "stop", "(", "mddev", "_", "t", "*", "mddev", ")", "<nl>", "static", "int", "md", "_", "set", "_", "readonly", "(", "mddev", "_", "t", "*", "mddev", ",", "int", "is", "_", "open", ")", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "if", "(", "mddev", "-", ">", "pers", ")", "{", "<nl>", "-", "md", "_", "stop", "_", "writes", "(", "mddev", ")", ";", "<nl>", "+", "_", "_", "md", "_", "stop", "_", "writes", "(", "mddev", ")", ";", "<nl>", "<nl>", "err", "=", "-", "ENXIO", ";", "<nl>", "if", "(", "mddev", "-", ">", "ro", "=", "=", "1", ")", "<nl>", "static", "int", "do", "_", "md", "_", "stop", "(", "mddev", "_", "t", "*", "mddev", ",", "int", "mode", ",", "int", "is", "_", "open", ")", "<nl>", "if", "(", "mddev", "-", ">", "ro", ")", "<nl>", "set", "_", "disk", "_", "ro", "(", "disk", ",", "0", ")", ";", "<nl>", "<nl>", "-", "md", "_", "stop", "_", "writes", "(", "mddev", ")", ";", "<nl>", "+", "_", "_", "md", "_", "stop", "_", "writes", "(", "mddev", ")", ";", "<nl>", "md", "_", "stop", "(", "mddev", ")", ";", "<nl>", "mddev", "-", ">", "queue", "-", ">", "merge", "_", "bvec", "_", "fn", "=", "NULL", ";", "<nl>", "mddev", "-", ">", "queue", "-", ">", "unplug", "_", "fn", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["md", "md_stop_writes", "requires", "mddev_lock"]}
{"code_tokens": ["#", "ifndef", "HPSB", "_", "DEBUG", "_", "TLABELS", "<nl>", "static", "<nl>", "#", "endif", "<nl>", "-", "spinlock", "_", "t", "hpsb", "_", "tlabel", "_", "lock", "=", "SPIN", "_", "LOCK", "_", "UNLOCKED", ";", "<nl>", "+", "DEFINE", "_", "SPINLOCK", "(", "hpsb", "_", "tlabel", "_", "lock", ")", ";", "<nl>", "<nl>", "static", "DECLARE", "_", "WAIT", "_", "QUEUE", "_", "HEAD", "(", "tlabel", "_", "wq", ")", ";", "<nl>"], "docstring_tokens": ["ieee1394", "SPIN_LOCK_UNLOCKED", "cleanup"]}
{"code_tokens": ["static", "int", "gfs2", "_", "lock", "_", "fs", "_", "check", "_", "clean", "(", "struct", "gfs2", "_", "sbd", "*", "sdp", ",", "<nl>", "struct", "gfs2", "_", "holder", "*", "t", "_", "gh", ")", "<nl>", "{", "<nl>", "struct", "gfs2", "_", "inode", "*", "ip", ";", "<nl>", "-", "struct", "gfs2", "_", "holder", "ji", "_", "gh", ";", "<nl>", "struct", "gfs2", "_", "jdesc", "*", "jd", ";", "<nl>", "struct", "lfcc", "*", "lfcc", ";", "<nl>", "LIST", "_", "HEAD", "(", "list", ")", ";", "<nl>", "static", "int", "gfs2", "_", "lock", "_", "fs", "_", "check", "_", "clean", "(", "struct", "gfs2", "_", "sbd", "*", "sdp", ",", "<nl>", "gfs2", "_", "glock", "_", "dq", "_", "uninit", "(", "&", "lfcc", "-", ">", "gh", ")", ";", "<nl>", "kfree", "(", "lfcc", ")", ";", "<nl>", "}", "<nl>", "-", "gfs2", "_", "glock", "_", "dq", "_", "uninit", "(", "&", "ji", "_", "gh", ")", ";", "<nl>", "return", "error", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["GFS2", "Fix", "freeze", "issue"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "bnx2x", "_", "init", "_", "one", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "bp", "=", "netdev", "_", "priv", "(", "dev", ")", ";", "<nl>", "bp", "-", ">", "msglevel", "=", "debug", ";", "<nl>", "<nl>", "+", "pci", "_", "set", "_", "drvdata", "(", "pdev", ",", "dev", ")", ";", "<nl>", "+", "<nl>", "rc", "=", "bnx2x", "_", "init", "_", "dev", "(", "pdev", ",", "dev", ")", ";", "<nl>", "if", "(", "rc", "<", "0", ")", "{", "<nl>", "free", "_", "netdev", "(", "dev", ")", ";", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>", "<nl>", "-", "pci", "_", "set", "_", "drvdata", "(", "pdev", ",", "dev", ")", ";", "<nl>", "-", "<nl>", "rc", "=", "bnx2x", "_", "init", "_", "bp", "(", "bp", ")", ";", "<nl>", "if", "(", "rc", ")", "<nl>", "goto", "init", "_", "one", "_", "exit", ";", "<nl>"], "docstring_tokens": ["bnx2x", "Calling", "pci_set_drvdata", "earlier"]}
{"code_tokens": ["static", "int", "usbat", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "intf", ",", "<nl>", "us", "-", ">", "transport", "_", "name", "=", "\"", "Shuttle", "USBAT", "\"", ";", "<nl>", "us", "-", ">", "transport", "=", "usbat", "_", "flash", "_", "transport", ";", "<nl>", "us", "-", ">", "transport", "_", "reset", "=", "usb", "_", "stor", "_", "CB", "_", "reset", ";", "<nl>", "-", "us", "-", ">", "max", "_", "lun", "=", "1", ";", "<nl>", "+", "us", "-", ">", "max", "_", "lun", "=", "0", ";", "<nl>", "<nl>", "result", "=", "usb", "_", "stor", "_", "probe2", "(", "us", ")", ";", "<nl>", "return", "result", ";", "<nl>"], "docstring_tokens": ["usb", "storage", "shuttle_usbat", "fix", "discs", "being", "detected", "twice"]}
{"code_tokens": ["static", "struct", "ib", "_", "ucontext", "*", "hns", "_", "roce", "_", "alloc", "_", "ucontext", "(", "struct", "ib", "_", "device", "*", "ib", "_", "dev", ",", "<nl>", "{", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "struct", "hns", "_", "roce", "_", "ucontext", "*", "context", ";", "<nl>", "-", "struct", "hns", "_", "roce", "_", "ib", "_", "alloc", "_", "ucontext", "_", "resp", "resp", ";", "<nl>", "+", "struct", "hns", "_", "roce", "_", "ib", "_", "alloc", "_", "ucontext", "_", "resp", "resp", "=", "{", "}", ";", "<nl>", "struct", "hns", "_", "roce", "_", "dev", "*", "hr", "_", "dev", "=", "to", "_", "hr", "_", "dev", "(", "ib", "_", "dev", ")", ";", "<nl>", "<nl>", "resp", ".", "qp", "_", "tab", "_", "size", "=", "hr", "_", "dev", "-", ">", "caps", ".", "num", "_", "qps", ";", "<nl>"], "docstring_tokens": ["RDMA", "hns", "Fix", "init", "resp", "when", "alloc", "ucontext"]}
{"code_tokens": ["int", "sctp", "_", "do", "_", "peeloff", "(", "struct", "sock", "*", "sk", ",", "sctp", "_", "assoc", "_", "t", "id", ",", "struct", "socket", "*", "*", "sockp", ")", "<nl>", "struct", "socket", "*", "sock", ";", "<nl>", "int", "err", "=", "0", ";", "<nl>", "<nl>", "+", "/", "*", "Do", "not", "peel", "off", "from", "one", "netns", "to", "another", "one", ".", "*", "/", "<nl>", "+", "if", "(", "!", "net", "_", "eq", "(", "current", "-", ">", "nsproxy", "-", ">", "net", "_", "ns", ",", "sock", "_", "net", "(", "sk", ")", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "if", "(", "!", "asoc", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["sctp", "do", "not", "peel", "off", "an", "assoc", "from", "one", "netns", "to", "another", "one"]}
{"code_tokens": ["typedef", "struct", "{", "<nl>", "unsigned", "long", "asce", ";", "<nl>", "unsigned", "long", "asce", "_", "limit", ";", "<nl>", "unsigned", "long", "vdso", "_", "base", ";", "<nl>", "-", "/", "*", "The", "mmu", "context", "allocates", "4K", "page", "tables", ".", "*", "/", "<nl>", "+", "/", "*", "<nl>", "+", "*", "The", "following", "bitfields", "need", "a", "down", "_", "write", "on", "the", "mm", "<nl>", "+", "*", "semaphore", "when", "they", "are", "written", "to", ".", "As", "they", "are", "only", "<nl>", "+", "*", "written", "once", ",", "they", "can", "be", "read", "without", "a", "lock", ".", "<nl>", "+", "*", "<nl>", "+", "*", "The", "mmu", "context", "allocates", "4", "K", "page", "tables", ".", "<nl>", "+", "*", "/", "<nl>", "unsigned", "int", "alloc", "_", "pgste", ":", "1", ";", "<nl>", "/", "*", "The", "mmu", "context", "uses", "extended", "page", "tables", ".", "*", "/", "<nl>", "unsigned", "int", "has", "_", "pgste", ":", "1", ";", "mmm", "arch", "/", "s390", "/", "kvm", "/", "kvm", "-", "s390", ".", "c", "<nl>", "typedef", "struct", "{", "<nl>", "unsigned", "long", "asce", ";", "<nl>", "unsigned", "long", "asce", "_", "limit", ";", "<nl>", "unsigned", "long", "vdso", "_", "base", ";", "<nl>", "-", "/", "*", "The", "mmu", "context", "allocates", "4K", "page", "tables", ".", "*", "/", "<nl>", "+", "/", "*", "<nl>", "+", "*", "The", "following", "bitfields", "need", "a", "down", "_", "write", "on", "the", "mm", "<nl>", "+", "*", "semaphore", "when", "they", "are", "written", "to", ".", "As", "they", "are", "only", "<nl>", "+", "*", "written", "once", ",", "they", "can", "be", "read", "without", "a", "lock", ".", "<nl>", "+", "*", "<nl>", "+", "*", "The", "mmu", "context", "allocates", "4", "K", "page", "tables", ".", "<nl>", "+", "*", "/", "<nl>", "unsigned", "int", "alloc", "_", "pgste", ":", "1", ";", "<nl>", "/", "*", "The", "mmu", "context", "uses", "extended", "page", "tables", ".", "*", "/", "<nl>", "unsigned", "int", "has", "_", "pgste", ":", "1", ";", "<nl>", "static", "int", "kvm", "_", "vm", "_", "ioctl", "_", "enable", "_", "cap", "(", "struct", "kvm", "*", "kvm", ",", "struct", "kvm", "_", "enable", "_", "cap", "*", "cap", ")", "<nl>", "r", "=", "-", "EINVAL", ";", "<nl>", "else", "{", "<nl>", "r", "=", "0", ";", "<nl>", "+", "down", "_", "write", "(", "&", "kvm", "-", ">", "mm", "-", ">", "mmap", "_", "sem", ")", ";", "<nl>", "kvm", "-", ">", "mm", "-", ">", "context", ".", "allow", "_", "gmap", "_", "hpage", "_", "1m", "=", "1", ";", "<nl>", "+", "up", "_", "write", "(", "&", "kvm", "-", ">", "mm", "-", ">", "mmap", "_", "sem", ")", ";", "<nl>", "/", "*", "<nl>", "*", "We", "might", "have", "to", "create", "fake", "4", "k", "page", "<nl>", "*", "tables", ".", "To", "avoid", "that", "the", "hardware", "works", "on", "<nl>"], "docstring_tokens": ["KVM", "s390", "Properly", "lock", "mm", "context", "allow_gmap_hpage_1m", "setting"]}
{"code_tokens": ["int", "g", "_", "audio", "_", "setup", "(", "struct", "g", "_", "audio", "*", "g", "_", "audio", ",", "const", "char", "*", "pcm", "_", "name", ",", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "goto", "snd", "_", "fail", ";", "<nl>", "<nl>", "-", "strcpy", "(", "pcm", "-", ">", "name", ",", "pcm", "_", "name", ")", ";", "<nl>", "+", "strlcpy", "(", "pcm", "-", ">", "name", ",", "pcm", "_", "name", ",", "sizeof", "(", "pcm", "-", ">", "name", ")", ")", ";", "<nl>", "pcm", "-", ">", "private", "_", "data", "=", "uac", ";", "<nl>", "uac", "-", ">", "pcm", "=", "pcm", ";", "<nl>", "<nl>", "snd", "_", "pcm", "_", "set", "_", "ops", "(", "pcm", ",", "SNDRV", "_", "PCM", "_", "STREAM", "_", "PLAYBACK", ",", "&", "uac", "_", "pcm", "_", "ops", ")", ";", "<nl>", "snd", "_", "pcm", "_", "set", "_", "ops", "(", "pcm", ",", "SNDRV", "_", "PCM", "_", "STREAM", "_", "CAPTURE", ",", "&", "uac", "_", "pcm", "_", "ops", ")", ";", "<nl>", "<nl>", "-", "strcpy", "(", "card", "-", ">", "driver", ",", "card", "_", "name", ")", ";", "<nl>", "-", "strcpy", "(", "card", "-", ">", "shortname", ",", "card", "_", "name", ")", ";", "<nl>", "+", "strlcpy", "(", "card", "-", ">", "driver", ",", "card", "_", "name", ",", "sizeof", "(", "card", "-", ">", "driver", ")", ")", ";", "<nl>", "+", "strlcpy", "(", "card", "-", ">", "shortname", ",", "card", "_", "name", ",", "sizeof", "(", "card", "-", ">", "shortname", ")", ")", ";", "<nl>", "sprintf", "(", "card", "-", ">", "longname", ",", "\"", "%", "s", "%", "i", "\"", ",", "card", "_", "name", ",", "card", "-", ">", "dev", "-", ">", "id", ")", ";", "<nl>", "<nl>", "snd", "_", "pcm", "_", "lib", "_", "preallocate", "_", "pages", "_", "for", "_", "all", "(", "pcm", ",", "SNDRV", "_", "DMA", "_", "TYPE", "_", "CONTINUOUS", ",", "<nl>"], "docstring_tokens": ["usb", "gadget", "u_audio", "fix", "pcm", "card", "naming", "in", "g_audio_setup"]}
{"code_tokens": ["static", "int", "_", "_", "init", "dw", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "dma", "_", "writel", "(", "dw", ",", "CFG", ",", "DW", "_", "CFG", "_", "DMA", "_", "EN", ")", ";", "<nl>", "<nl>", "printk", "(", "KERN", "_", "INFO", "\"", "%", "s", ":", "DesignWare", "DMA", "Controller", ",", "%", "d", "channels", "\\", "n", "\"", ",", "<nl>", "-", "pdev", "-", ">", "dev", ".", "bus", "_", "id", ",", "dw", "-", ">", "dma", ".", "chancnt", ")", ";", "<nl>", "+", "dev", "_", "name", "(", "&", "pdev", "-", ">", "dev", ")", ",", "dw", "-", ">", "dma", ".", "chancnt", ")", ";", "<nl>", "<nl>", "dma", "_", "async", "_", "device", "_", "register", "(", "&", "dw", "-", ">", "dma", ")", ";", "<nl>"], "docstring_tokens": ["dma", "struct", "device", "replace", "bus_id", "with", "dev_name", "dev_set_name"]}
{"code_tokens": ["int", "sctp", "_", "do", "_", "peeloff", "(", "struct", "sock", "*", "sk", ",", "sctp", "_", "assoc", "_", "t", "id", ",", "struct", "socket", "*", "*", "sockp", ")", "<nl>", "if", "(", "!", "asoc", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "/", "*", "If", "there", "is", "a", "thread", "waiting", "on", "more", "sndbuf", "space", "for", "<nl>", "+", "*", "sending", "on", "this", "asoc", ",", "it", "cannot", "be", "peeled", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "waitqueue", "_", "active", "(", "&", "asoc", "-", ">", "wait", ")", ")", "<nl>", "+", "return", "-", "EBUSY", ";", "<nl>", "+", "<nl>", "/", "*", "An", "association", "cannot", "be", "branched", "off", "from", "an", "already", "peeled", "-", "off", "<nl>", "*", "socket", ",", "nor", "is", "this", "supported", "for", "tcp", "style", "sockets", ".", "<nl>", "*", "/", "<nl>", "static", "int", "sctp", "_", "wait", "_", "for", "_", "sndbuf", "(", "struct", "sctp", "_", "association", "*", "asoc", ",", "long", "*", "timeo", "_", "p", ",", "<nl>", "*", "/", "<nl>", "release", "_", "sock", "(", "sk", ")", ";", "<nl>", "current", "_", "timeo", "=", "schedule", "_", "timeout", "(", "current", "_", "timeo", ")", ";", "<nl>", "-", "if", "(", "sk", "!", "=", "asoc", "-", ">", "base", ".", "sk", ")", "<nl>", "-", "goto", "do", "_", "error", ";", "<nl>", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "<nl>", "*", "timeo", "_", "p", "=", "current", "_", "timeo", ";", "<nl>"], "docstring_tokens": ["sctp", "deny", "peeloff", "operation", "on", "asocs", "with", "threads", "sleeping", "on", "it"]}
{"code_tokens": ["static", "int", "sh", "_", "mdio", "_", "init", "(", "struct", "net", "_", "device", "*", "ndev", ",", "int", "id", ",", "<nl>", "/", "*", "bitbang", "init", "*", "/", "<nl>", "bitbang", "-", ">", "addr", "=", "mdp", "-", ">", "addr", "+", "mdp", "-", ">", "reg", "_", "offset", "[", "PIR", "]", ";", "<nl>", "bitbang", "-", ">", "set", "_", "gate", "=", "pd", "-", ">", "set", "_", "mdio", "_", "gate", ";", "<nl>", "-", "bitbang", "-", ">", "mdi", "_", "msk", "=", "0x08", ";", "<nl>", "-", "bitbang", "-", ">", "mdo", "_", "msk", "=", "0x04", ";", "<nl>", "-", "bitbang", "-", ">", "mmd", "_", "msk", "=", "0x02", ";", "/", "*", "MMD", "*", "/", "<nl>", "-", "bitbang", "-", ">", "mdc", "_", "msk", "=", "0x01", ";", "<nl>", "+", "bitbang", "-", ">", "mdi", "_", "msk", "=", "PIR", "_", "MDI", ";", "<nl>", "+", "bitbang", "-", ">", "mdo", "_", "msk", "=", "PIR", "_", "MDO", ";", "<nl>", "+", "bitbang", "-", ">", "mmd", "_", "msk", "=", "PIR", "_", "MMD", ";", "<nl>", "+", "bitbang", "-", ">", "mdc", "_", "msk", "=", "PIR", "_", "MDC", ";", "<nl>", "bitbang", "-", ">", "ctrl", ".", "ops", "=", "&", "bb", "_", "ops", ";", "<nl>", "<nl>", "/", "*", "MII", "controller", "setting", "*", "/", "<nl>"], "docstring_tokens": ["sh_eth", "use", "PIR_", "bits"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "at91", "_", "pinctrl", "_", "probe", "_", "dt", "(", "struct", "platform", "_", "device", "*", "pdev", ",", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "info", "-", ">", "dev", "=", "&", "pdev", "-", ">", "dev", ";", "<nl>", "-", "info", "-", ">", "ops", "=", "<nl>", "+", "info", "-", ">", "ops", "=", "(", "struct", "at91", "_", "pinctrl", "_", "mux", "_", "ops", "*", ")", "<nl>", "of", "_", "match", "_", "device", "(", "at91", "_", "pinctrl", "_", "of", "_", "match", ",", "&", "pdev", "-", ">", "dev", ")", "-", ">", "data", ";", "<nl>", "at91", "_", "pinctrl", "_", "child", "_", "count", "(", "info", ",", "np", ")", ";", "<nl>", "<nl>", "static", "int", "_", "_", "devinit", "at91", "_", "gpio", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "goto", "err", ";", "<nl>", "}", "<nl>", "<nl>", "-", "at91", "_", "chip", "-", ">", "ops", "=", "<nl>", "+", "at91", "_", "chip", "-", ">", "ops", "=", "(", "struct", "at91", "_", "pinctrl", "_", "mux", "_", "ops", "*", ")", "<nl>", "of", "_", "match", "_", "device", "(", "at91", "_", "gpio", "_", "of", "_", "match", ",", "&", "pdev", "-", ">", "dev", ")", "-", ">", "data", ";", "<nl>", "at91", "_", "chip", "-", ">", "pioc", "_", "virq", "=", "irq", ";", "<nl>", "at91", "_", "chip", "-", ">", "pioc", "_", "idx", "=", "alias", "_", "idx", ";", "<nl>"], "docstring_tokens": ["pinctrl", "at91", "fix", "warnings"]}
{"code_tokens": ["#", "include", "<", "linux", "/", "seq", "_", "file", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "debugfs", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "ctype", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "efi", ".", "h", ">", "<nl>", "#", "include", "<", "acpi", "/", "video", ".", "h", ">", "<nl>", "<nl>", "/", "*", "<nl>", "static", "int", "_", "_", "init", "samsung", "_", "init", "(", "void", ")", "<nl>", "struct", "samsung", "_", "laptop", "*", "samsung", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "if", "(", "efi", "_", "enabled", "(", "EFI", "_", "BOOT", ")", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "<nl>", "quirks", "=", "&", "samsung", "_", "unknown", ";", "<nl>", "if", "(", "!", "force", "&", "&", "!", "dmi", "_", "check", "_", "system", "(", "samsung", "_", "dmi", "_", "table", ")", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>"], "docstring_tokens": ["samsung", "laptop", "Disable", "on", "EFI", "hardware"]}
{"code_tokens": ["static", "void", "recalibrate", "(", "struct", "dp83640", "_", "clock", "*", "clock", ")", "<nl>", "u16", "cal", "_", "gpio", ",", "cfg0", ",", "evnt", ",", "ptp", "_", "trig", ",", "trigger", ",", "val", ";", "<nl>", "<nl>", "trigger", "=", "CAL", "_", "TRIGGER", ";", "<nl>", "-", "cal", "_", "gpio", "=", "gpio", "_", "tab", "[", "CALIBRATE", "_", "GPIO", "]", ";", "<nl>", "+", "cal", "_", "gpio", "=", "1", "+", "ptp", "_", "find", "_", "pin", "(", "clock", "-", ">", "ptp", "_", "clock", ",", "PTP", "_", "PF", "_", "PHYSYNC", ",", "0", ")", ";", "<nl>", "+", "if", "(", "cal", "_", "gpio", "<", "1", ")", "{", "<nl>", "+", "pr", "_", "err", "(", "\"", "PHY", "calibration", "pin", "not", "avaible", "-", "PHY", "is", "not", "calibrated", ".", "\"", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "clock", "-", ">", "extreg", "_", "lock", ")", ";", "<nl>"], "docstring_tokens": ["dp83640", "Get", "calibration", "pin", "with", "ptp_find_pin"]}
{"code_tokens": ["lpfc", "_", "issue", "_", "els", "_", "plogi", "(", "struct", "lpfc", "_", "vport", "*", "vport", ",", "uint32", "_", "t", "did", ",", "uint8", "_", "t", "retry", ")", "<nl>", "if", "(", "sp", "-", ">", "cmn", ".", "fcphHigh", "<", "FC", "_", "PH3", ")", "<nl>", "sp", "-", ">", "cmn", ".", "fcphHigh", "=", "FC", "_", "PH3", ";", "<nl>", "<nl>", "+", "sp", "-", ">", "cmn", ".", "valid", "_", "vendor", "_", "ver", "_", "level", "=", "0", ";", "<nl>", "+", "memset", "(", "sp", "-", ">", "vendorVersion", ",", "0", ",", "sizeof", "(", "sp", "-", ">", "vendorVersion", ")", ")", ";", "<nl>", "+", "<nl>", "lpfc", "_", "debugfs", "_", "disc", "_", "trc", "(", "vport", ",", "LPFC", "_", "DISC", "_", "TRC", "_", "ELS", "_", "CMD", ",", "<nl>", "\"", "Issue", "PLOGI", ":", "did", ":", "x", "%", "x", "\"", ",", "<nl>", "did", ",", "0", ",", "0", ")", ";", "<nl>", "lpfc", "_", "els", "_", "rsp", "_", "acc", "(", "struct", "lpfc", "_", "vport", "*", "vport", ",", "uint32", "_", "t", "flag", ",", "<nl>", "}", "else", "{", "<nl>", "memcpy", "(", "pcmd", ",", "&", "vport", "-", ">", "fc", "_", "sparam", ",", "<nl>", "sizeof", "(", "struct", "serv", "_", "parm", ")", ")", ";", "<nl>", "+", "<nl>", "+", "sp", "-", ">", "cmn", ".", "valid", "_", "vendor", "_", "ver", "_", "level", "=", "0", ";", "<nl>", "+", "memset", "(", "sp", "-", ">", "vendorVersion", ",", "0", ",", "sizeof", "(", "sp", "-", ">", "vendorVersion", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "lpfc", "_", "debugfs", "_", "disc", "_", "trc", "(", "vport", ",", "LPFC", "_", "DISC", "_", "TRC", "_", "ELS", "_", "RSP", ",", "mmm", "drivers", "/", "scsi", "/", "lpfc", "/", "lpfc", "_", "hw", ".", "h", "<nl>", "lpfc", "_", "issue", "_", "els", "_", "plogi", "(", "struct", "lpfc", "_", "vport", "*", "vport", ",", "uint32", "_", "t", "did", ",", "uint8", "_", "t", "retry", ")", "<nl>", "if", "(", "sp", "-", ">", "cmn", ".", "fcphHigh", "<", "FC", "_", "PH3", ")", "<nl>", "sp", "-", ">", "cmn", ".", "fcphHigh", "=", "FC", "_", "PH3", ";", "<nl>", "<nl>", "+", "sp", "-", ">", "cmn", ".", "valid", "_", "vendor", "_", "ver", "_", "level", "=", "0", ";", "<nl>", "+", "memset", "(", "sp", "-", ">", "vendorVersion", ",", "0", ",", "sizeof", "(", "sp", "-", ">", "vendorVersion", ")", ")", ";", "<nl>", "+", "<nl>", "lpfc", "_", "debugfs", "_", "disc", "_", "trc", "(", "vport", ",", "LPFC", "_", "DISC", "_", "TRC", "_", "ELS", "_", "CMD", ",", "<nl>", "\"", "Issue", "PLOGI", ":", "did", ":", "x", "%", "x", "\"", ",", "<nl>", "did", ",", "0", ",", "0", ")", ";", "<nl>", "lpfc", "_", "els", "_", "rsp", "_", "acc", "(", "struct", "lpfc", "_", "vport", "*", "vport", ",", "uint32", "_", "t", "flag", ",", "<nl>", "}", "else", "{", "<nl>", "memcpy", "(", "pcmd", ",", "&", "vport", "-", ">", "fc", "_", "sparam", ",", "<nl>", "sizeof", "(", "struct", "serv", "_", "parm", ")", ")", ";", "<nl>", "+", "<nl>", "+", "sp", "-", ">", "cmn", ".", "valid", "_", "vendor", "_", "ver", "_", "level", "=", "0", ";", "<nl>", "+", "memset", "(", "sp", "-", ">", "vendorVersion", ",", "0", ",", "sizeof", "(", "sp", "-", ">", "vendorVersion", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "lpfc", "_", "debugfs", "_", "disc", "_", "trc", "(", "vport", ",", "LPFC", "_", "DISC", "_", "TRC", "_", "ELS", "_", "RSP", ",", "<nl>", "struct", "csp", "{", "<nl>", "*", "Word", "1", "Bit", "30", "in", "PLOGI", "request", "is", "random", "offset", "<nl>", "*", "/", "<nl>", "#", "define", "virtual", "_", "fabric", "_", "support", "randomOffset", "/", "*", "Word", "1", ",", "bit", "30", "*", "/", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Word", "1", "Bit", "29", "in", "common", "service", "parameter", "is", "overloaded", ".", "<nl>", "+", "*", "Word", "1", "Bit", "29", "in", "FLOGI", "response", "is", "multiple", "NPort", "assignment", "<nl>", "+", "*", "Word", "1", "Bit", "29", "in", "FLOGI", "/", "PLOGI", "request", "is", "Valid", "Vendor", "Version", "Level", "<nl>", "+", "*", "/", "<nl>", "+", "#", "define", "valid", "_", "vendor", "_", "ver", "_", "level", "response", "_", "multiple", "_", "NPort", "/", "*", "Word", "1", ",", "bit", "29", "*", "/", "<nl>", "#", "ifdef", "_", "_", "BIG", "_", "ENDIAN", "_", "BITFIELD", "<nl>", "uint16", "_", "t", "request", "_", "multiple", "_", "Nport", ":", "1", ";", "/", "*", "FC", "Word", "1", ",", "bit", "31", "*", "/", "<nl>", "uint16", "_", "t", "randomOffset", ":", "1", ";", "/", "*", "FC", "Word", "1", ",", "bit", "30", "*", "/", "<nl>"], "docstring_tokens": ["scsi", "lpfc", "Clear", "the", "VendorVersion", "in", "the", "PLOGI", "PLOGI", "ACC", "payload"]}
{"code_tokens": ["static", "int", "nft", "_", "verdict", "_", "init", "(", "const", "struct", "nft", "_", "ctx", "*", "ctx", ",", "struct", "nft", "_", "data", "*", "data", ",", "<nl>", "return", "PTR", "_", "ERR", "(", "chain", ")", ";", "<nl>", "if", "(", "nft", "_", "is", "_", "base", "_", "chain", "(", "chain", ")", ")", "<nl>", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "if", "(", "nft", "_", "chain", "_", "is", "_", "bound", "(", "chain", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "if", "(", "desc", "-", ">", "flags", "&", "NFT", "_", "DATA", "_", "DESC", "_", "SETELEM", "&", "&", "<nl>", "chain", "-", ">", "flags", "&", "NFT", "_", "CHAIN", "_", "BINDING", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["netfilter", "nf_tables", "disallow", "binding", "to", "already", "bound", "chain"]}
{"code_tokens": ["static", "int", "fsl", "_", "diu", "_", "suspend", "(", "struct", "platform", "_", "device", "*", "ofdev", ",", "pm", "_", "message", "_", "t", "state", ")", "<nl>", "static", "int", "fsl", "_", "diu", "_", "resume", "(", "struct", "platform", "_", "device", "*", "ofdev", ")", "<nl>", "{", "<nl>", "struct", "fsl", "_", "diu", "_", "data", "*", "data", ";", "<nl>", "+", "unsigned", "int", "i", ";", "<nl>", "<nl>", "data", "=", "dev", "_", "get", "_", "drvdata", "(", "&", "ofdev", "-", ">", "dev", ")", ";", "<nl>", "-", "enable", "_", "lcdc", "(", "data", "-", ">", "fsl", "_", "diu", "_", "info", ")", ";", "<nl>", "+", "<nl>", "+", "fsl", "_", "diu", "_", "enable", "_", "interrupts", "(", "data", ")", ";", "<nl>", "+", "update", "_", "lcdc", "(", "data", "-", ">", "fsl", "_", "diu", "_", "info", ")", ";", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "NUM", "_", "AOIS", ";", "i", "+", "+", ")", "{", "<nl>", "+", "if", "(", "data", "-", ">", "mfb", "[", "i", "]", ".", "count", ")", "<nl>", "+", "fsl", "_", "diu", "_", "enable", "_", "panel", "(", "&", "data", "-", ">", "fsl", "_", "diu", "_", "info", "[", "i", "]", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["video", "fbdev", "fsl", "Fix", "the", "sleep", "function", "for", "FSL", "DIU", "module"]}
{"code_tokens": ["void", "of", "_", "mdiobus", "_", "link", "_", "phydev", "(", "struct", "mii", "_", "bus", "*", "mdio", ",", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "(", "of", "_", "mdiobus", "_", "link", "_", "phydev", ")", ";", "<nl>", "<nl>", "/", "*", "Helper", "function", "for", "of", "_", "phy", "_", "find", "_", "device", "*", "/", "<nl>", "static", "int", "of", "_", "phy", "_", "match", "(", "struct", "device", "*", "dev", ",", "void", "*", "phy", "_", "np", ")", "<nl>"], "docstring_tokens": ["of", "of_mdio", "export", "symbol", "of_mdiobus_link_phydev"]}
{"code_tokens": ["int", "iwl", "_", "run", "_", "init", "_", "mvm", "_", "ucode", "(", "struct", "iwl", "_", "mvm", "*", "mvm", ",", "bool", "read", "_", "nvm", ")", "<nl>", "ret", "=", "iwl", "_", "nvm", "_", "check", "_", "version", "(", "mvm", "-", ">", "nvm", "_", "data", ",", "mvm", "-", ">", "trans", ")", ";", "<nl>", "WARN", "_", "ON", "(", "ret", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Send", "TX", "valid", "antennas", "before", "triggering", "calibrations", "*", "/", "<nl>", "+", "ret", "=", "iwl", "_", "send", "_", "tx", "_", "ant", "_", "cfg", "(", "mvm", ",", "mvm", "-", ">", "nvm", "_", "data", "-", ">", "valid", "_", "tx", "_", "ant", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "goto", "error", ";", "<nl>", "+", "<nl>", "/", "*", "Override", "the", "calibrations", "from", "TLV", "and", "the", "const", "of", "fw", "*", "/", "<nl>", "iwl", "_", "set", "_", "default", "_", "calib", "_", "trigger", "(", "mvm", ")", ";", "<nl>"], "docstring_tokens": ["iwlwifi", "mvm", "Set", "valid", "TX", "antennas", "value", "before", "calib", "request"]}
{"code_tokens": ["void", "iio", "_", "disable", "_", "all", "_", "buffers", "(", "struct", "iio", "_", "dev", "*", "indio", "_", "dev", ")", "<nl>", "indio", "_", "dev", "-", ">", "currentmode", "=", "INDIO", "_", "DIRECT", "_", "MODE", ";", "<nl>", "if", "(", "indio", "_", "dev", "-", ">", "setup", "_", "ops", "-", ">", "postdisable", ")", "<nl>", "indio", "_", "dev", "-", ">", "setup", "_", "ops", "-", ">", "postdisable", "(", "indio", "_", "dev", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "indio", "_", "dev", "-", ">", "available", "_", "scan", "_", "masks", "=", "=", "NULL", ")", "<nl>", "+", "kfree", "(", "indio", "_", "dev", "-", ">", "active", "_", "scan", "_", "mask", ")", ";", "<nl>", "}", "<nl>", "<nl>", "int", "iio", "_", "update", "_", "buffers", "(", "struct", "iio", "_", "dev", "*", "indio", "_", "dev", ",", "<nl>"], "docstring_tokens": ["iio", "buffer", "Free", "active", "scan", "mask", "in", "iio_disable_all_buffers"]}
{"code_tokens": ["static", "inline", "size", "_", "t", "br", "_", "port", "_", "info", "_", "size", "(", "void", ")", "<nl>", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u16", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "DESIGNATED", "_", "COST", "*", "/", "<nl>", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u16", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "ID", "*", "/", "<nl>", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u16", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "NO", "*", "/", "<nl>", "+", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u8", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "TOPOLOGY", "_", "CHANGE", "_", "ACK", "*", "/", "<nl>", "+", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u8", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "CONFIG", "_", "PENDING", "*", "/", "<nl>", "+", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "br", "_", "port", "_", "fill", "_", "attrs", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "DESIGNATED", "_", "PORT", ",", "p", "-", ">", "designated", "_", "port", ")", "|", "|", "<nl>", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "DESIGNATED", "_", "COST", ",", "p", "-", ">", "designated", "_", "cost", ")", "|", "|", "<nl>", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "ID", ",", "p", "-", ">", "port", "_", "id", ")", "|", "|", "<nl>", "-", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "NO", ",", "p", "-", ">", "port", "_", "no", ")", ")", "<nl>", "+", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "NO", ",", "p", "-", ">", "port", "_", "no", ")", "|", "|", "<nl>", "+", "nla", "_", "put", "_", "u8", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "TOPOLOGY", "_", "CHANGE", "_", "ACK", ",", "<nl>", "+", "p", "-", ">", "topology", "_", "change", "_", "ack", ")", "|", "|", "<nl>", "+", "nla", "_", "put", "_", "u8", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "CONFIG", "_", "PENDING", ",", "p", "-", ">", "config", "_", "pending", ")", ")", "<nl>", "return", "-", "EMSGSIZE", ";", "<nl>", "<nl>", "return", "0", ";", "mmm", "include", "/", "uapi", "/", "linux", "/", "if", "_", "link", ".", "h", "<nl>", "static", "inline", "size", "_", "t", "br", "_", "port", "_", "info", "_", "size", "(", "void", ")", "<nl>", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u16", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "DESIGNATED", "_", "COST", "*", "/", "<nl>", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u16", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "ID", "*", "/", "<nl>", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u16", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "NO", "*", "/", "<nl>", "+", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u8", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "TOPOLOGY", "_", "CHANGE", "_", "ACK", "*", "/", "<nl>", "+", "+", "nla", "_", "total", "_", "size", "(", "sizeof", "(", "u8", ")", ")", "/", "*", "IFLA", "_", "BRPORT", "_", "CONFIG", "_", "PENDING", "*", "/", "<nl>", "+", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "br", "_", "port", "_", "fill", "_", "attrs", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "DESIGNATED", "_", "PORT", ",", "p", "-", ">", "designated", "_", "port", ")", "|", "|", "<nl>", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "DESIGNATED", "_", "COST", ",", "p", "-", ">", "designated", "_", "cost", ")", "|", "|", "<nl>", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "ID", ",", "p", "-", ">", "port", "_", "id", ")", "|", "|", "<nl>", "-", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "NO", ",", "p", "-", ">", "port", "_", "no", ")", ")", "<nl>", "+", "nla", "_", "put", "_", "u16", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "NO", ",", "p", "-", ">", "port", "_", "no", ")", "|", "|", "<nl>", "+", "nla", "_", "put", "_", "u8", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "TOPOLOGY", "_", "CHANGE", "_", "ACK", ",", "<nl>", "+", "p", "-", ">", "topology", "_", "change", "_", "ack", ")", "|", "|", "<nl>", "+", "nla", "_", "put", "_", "u8", "(", "skb", ",", "IFLA", "_", "BRPORT", "_", "CONFIG", "_", "PENDING", ",", "p", "-", ">", "config", "_", "pending", ")", ")", "<nl>", "return", "-", "EMSGSIZE", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "enum", "{", "<nl>", "IFLA", "_", "BRPORT", "_", "DESIGNATED", "_", "COST", ",", "<nl>", "IFLA", "_", "BRPORT", "_", "ID", ",", "<nl>", "IFLA", "_", "BRPORT", "_", "NO", ",", "<nl>", "+", "IFLA", "_", "BRPORT", "_", "TOPOLOGY", "_", "CHANGE", "_", "ACK", ",", "<nl>", "+", "IFLA", "_", "BRPORT", "_", "CONFIG", "_", "PENDING", ",", "<nl>", "_", "_", "IFLA", "_", "BRPORT", "_", "MAX", "<nl>", "}", ";", "<nl>", "#", "define", "IFLA", "_", "BRPORT", "_", "MAX", "(", "_", "_", "IFLA", "_", "BRPORT", "_", "MAX", "-", "1", ")", "<nl>"], "docstring_tokens": ["bridge", "netlink", "export", "port", "s", "topology_change_ack", "and", "config_pending"]}
{"code_tokens": ["static", "int", "bnxt", "_", "get", "_", "nvram", "_", "item", "(", "struct", "net", "_", "device", "*", "dev", ",", "u32", "index", ",", "u32", "offset", ",", "<nl>", "dma", "_", "addr", "_", "t", "dma", "_", "handle", ";", "<nl>", "struct", "hwrm", "_", "nvm", "_", "read", "_", "input", "req", "=", "{", "0", "}", ";", "<nl>", "<nl>", "+", "if", "(", "!", "length", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "buf", "=", "dma", "_", "alloc", "_", "coherent", "(", "&", "bp", "-", ">", "pdev", "-", ">", "dev", ",", "length", ",", "&", "dma", "_", "handle", ",", "<nl>", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "buf", ")", "{", "<nl>"], "docstring_tokens": ["bnxt_en", "Check", "for", "zero", "length", "value", "in", "bnxt_get_nvram_item"]}
{"code_tokens": ["static", "void", "i40iw", "_", "cm", "_", "disconn", "_", "true", "(", "struct", "i40iw", "_", "qp", "*", "iwqp", ")", "<nl>", "/", "*", "Flush", "the", "queues", "*", "/", "<nl>", "i40iw", "_", "flush", "_", "wqes", "(", "iwdev", ",", "iwqp", ")", ";", "<nl>", "<nl>", "-", "if", "(", "qp", "-", ">", "term", "_", "flags", ")", "{", "<nl>", "+", "if", "(", "qp", "-", ">", "term", "_", "flags", "&", "&", "iwqp", "-", ">", "ibqp", ".", "event", "_", "handler", ")", "{", "<nl>", "ibevent", ".", "device", "=", "iwqp", "-", ">", "ibqp", ".", "device", ";", "<nl>", "ibevent", ".", "event", "=", "(", "qp", "-", ">", "eventtype", "=", "=", "TERM", "_", "EVENT", "_", "QP", "_", "FATAL", ")", "?", "<nl>", "IB", "_", "EVENT", "_", "QP", "_", "FATAL", ":", "IB", "_", "EVENT", "_", "QP", "_", "ACCESS", "_", "ERR", ";", "<nl>"], "docstring_tokens": ["i40iw", "Add", "NULL", "check", "for", "ibqp", "event", "handler"]}
{"code_tokens": ["ssize", "_", "t", "tomoyo", "_", "write", "_", "control", "(", "struct", "tomoyo", "_", "io", "_", "buffer", "*", "head", ",", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "if", "(", "mutex", "_", "lock", "_", "interruptible", "(", "&", "head", "-", ">", "io", "_", "sem", ")", ")", "<nl>", "return", "-", "EINTR", ";", "<nl>", "+", "head", "-", ">", "read", "_", "user", "_", "buf", "_", "avail", "=", "0", ";", "<nl>", "idx", "=", "tomoyo", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "/", "*", "Read", "a", "line", "and", "dispatch", "it", "to", "the", "policy", "handler", ".", "*", "/", "<nl>", "while", "(", "avail", "_", "len", ">", "0", ")", "{", "<nl>"], "docstring_tokens": ["TOMOYO", "Fix", "incomplete", "read", "after", "seek"]}
{"code_tokens": ["static", "int", "hgcm", "_", "call", "_", "preprocess", "_", "linaddr", "(", "<nl>", "if", "(", "!", "bounce", "_", "buf", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "+", "*", "bounce", "_", "buf", "_", "ret", "=", "bounce", "_", "buf", ";", "<nl>", "+", "<nl>", "if", "(", "copy", "_", "in", ")", "{", "<nl>", "ret", "=", "copy", "_", "from", "_", "user", "(", "bounce", "_", "buf", ",", "(", "void", "_", "_", "user", "*", ")", "buf", ",", "len", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "static", "int", "hgcm", "_", "call", "_", "preprocess", "_", "linaddr", "(", "<nl>", "memset", "(", "bounce", "_", "buf", ",", "0", ",", "len", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "*", "bounce", "_", "buf", "_", "ret", "=", "bounce", "_", "buf", ";", "<nl>", "hgcm", "_", "call", "_", "add", "_", "pagelist", "_", "size", "(", "bounce", "_", "buf", ",", "len", ",", "extra", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["virt", "vbox", "fix", "memory", "leak", "in", "hgcm_call_preprocess_linaddr"]}
{"code_tokens": ["static", "int", "acpi", "_", "memory", "_", "device", "_", "add", "(", "struct", "acpi", "_", "device", "*", "device", ")", "<nl>", "if", "(", "!", "acpi", "_", "memory", "_", "check", "_", "device", "(", "mem", "_", "device", ")", ")", "{", "<nl>", "/", "*", "call", "add", "_", "memory", "func", "*", "/", "<nl>", "result", "=", "acpi", "_", "memory", "_", "enable", "_", "device", "(", "mem", "_", "device", ")", ";", "<nl>", "-", "if", "(", "result", ")", "<nl>", "+", "if", "(", "result", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "PREFIX", "<nl>", "\"", "Error", "in", "acpi", "_", "memory", "_", "enable", "_", "device", "\\", "n", "\"", ")", ";", "<nl>", "+", "acpi", "_", "memory", "_", "device", "_", "free", "(", "mem", "_", "device", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "return", "result", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ACPI", "memhotplug", "free", "memory", "device", "if", "acpi_memory_enable_device", "failed"]}
{"code_tokens": ["static", "inline", "void", "namespace", "_", "lock", "(", "void", ")", "<nl>", "enum", "umount", "_", "tree", "_", "flags", "{", "<nl>", "UMOUNT", "_", "SYNC", "=", "1", ",", "<nl>", "UMOUNT", "_", "PROPAGATE", "=", "2", ",", "<nl>", "+", "UMOUNT", "_", "CONNECTED", "=", "4", ",", "<nl>", "}", ";", "<nl>", "/", "*", "<nl>", "*", "mount", "_", "lock", "must", "be", "held", "<nl>", "static", "void", "umount", "_", "tree", "(", "struct", "mount", "*", "mnt", ",", "enum", "umount", "_", "tree", "_", "flags", "how", ")", "<nl>", "if", "(", "how", "&", "UMOUNT", "_", "SYNC", ")", "<nl>", "p", "-", ">", "mnt", ".", "mnt", "_", "flags", "|", "=", "MNT", "_", "SYNC", "_", "UMOUNT", ";", "<nl>", "<nl>", "-", "disconnect", "=", "!", "IS", "_", "MNT", "_", "LOCKED", "_", "AND", "_", "LAZY", "(", "p", ")", ";", "<nl>", "+", "disconnect", "=", "!", "(", "(", "(", "how", "&", "UMOUNT", "_", "CONNECTED", ")", "&", "&", "<nl>", "+", "mnt", "_", "has", "_", "parent", "(", "p", ")", "&", "&", "<nl>", "+", "(", "p", "-", ">", "mnt", "_", "parent", "-", ">", "mnt", ".", "mnt", "_", "flags", "&", "MNT", "_", "UMOUNT", ")", ")", "|", "|", "<nl>", "+", "IS", "_", "MNT", "_", "LOCKED", "_", "AND", "_", "LAZY", "(", "p", ")", ")", ";", "<nl>", "<nl>", "pin", "_", "insert", "_", "group", "(", "&", "p", "-", ">", "mnt", "_", "umount", ",", "&", "p", "-", ">", "mnt", "_", "parent", "-", ">", "mnt", ",", "<nl>", "disconnect", "?", "&", "unmounted", ":", "NULL", ")", ";", "<nl>", "void", "_", "_", "detach", "_", "mounts", "(", "struct", "dentry", "*", "dentry", ")", "<nl>", "umount", "_", "mnt", "(", "p", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "-", "else", "umount", "_", "tree", "(", "mnt", ",", "0", ")", ";", "<nl>", "+", "else", "umount", "_", "tree", "(", "mnt", ",", "UMOUNT", "_", "CONNECTED", ")", ";", "<nl>", "}", "<nl>", "unlock", "_", "mount", "_", "hash", "(", ")", ";", "<nl>", "put", "_", "mountpoint", "(", "mp", ")", ";", "<nl>"], "docstring_tokens": ["mnt", "Update", "detach_mounts", "to", "leave", "mounts", "connected"]}
{"code_tokens": ["static", "int", "intel", "_", "modeset", "_", "checks", "(", "struct", "drm", "_", "atomic", "_", "state", "*", "state", ")", "<nl>", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "New", "cdclk", "calculated", "to", "be", "atomic", "%", "u", ",", "actual", "%", "u", "\\", "n", "\"", ",", "<nl>", "intel", "_", "state", "-", ">", "cdclk", ",", "intel", "_", "state", "-", ">", "dev", "_", "cdclk", ")", ";", "<nl>", "-", "}", "else", "<nl>", "+", "}", "else", "{", "<nl>", "to", "_", "intel", "_", "atomic", "_", "state", "(", "state", ")", "-", ">", "cdclk", "=", "dev", "_", "priv", "-", ">", "atomic", "_", "cdclk", "_", "freq", ";", "<nl>", "+", "}", "<nl>", "<nl>", "intel", "_", "modeset", "_", "clear", "_", "plls", "(", "state", ")", ";", "<nl>", "<nl>", "static", "int", "intel", "_", "atomic", "_", "check", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "ret", ";", "<nl>", "-", "}", "else", "<nl>", "-", "intel", "_", "state", "-", ">", "cdclk", "=", "dev", "_", "priv", "-", ">", "cdclk", "_", "freq", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "intel", "_", "state", "-", ">", "cdclk", "=", "dev", "_", "priv", "-", ">", "atomic", "_", "cdclk", "_", "freq", ";", "<nl>", "+", "}", "<nl>", "<nl>", "ret", "=", "drm", "_", "atomic", "_", "helper", "_", "check", "_", "planes", "(", "dev", ",", "state", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>"], "docstring_tokens": ["drm", "i915", "Fix", "cdclk", "vs", "dev_cdclk", "mess", "when", "not", "recomputing", "things"]}
{"code_tokens": ["static", "int", "ocfs2", "_", "initialize", "_", "super", "(", "struct", "super", "_", "block", "*", "sb", ",", "<nl>", "sb", "-", ">", "s", "_", "fs", "_", "info", "=", "osb", ";", "<nl>", "sb", "-", ">", "s", "_", "op", "=", "&", "ocfs2", "_", "sops", ";", "<nl>", "sb", "-", ">", "s", "_", "export", "_", "op", "=", "&", "ocfs2", "_", "export", "_", "ops", ";", "<nl>", "+", "sb", "-", ">", "s", "_", "time", "_", "gran", "=", "1", ";", "<nl>", "sb", "-", ">", "s", "_", "flags", "|", "=", "MS", "_", "NOATIME", ";", "<nl>", "/", "*", "this", "is", "needed", "to", "support", "O", "_", "LARGEFILE", "*", "/", "<nl>", "cbits", "=", "le32", "_", "to", "_", "cpu", "(", "di", "-", ">", "id2", ".", "i", "_", "super", ".", "s", "_", "clustersize", "_", "bits", ")", ";", "<nl>"], "docstring_tokens": ["ocfs2", "set", "non", "default", "s_time_gran", "during", "mount"]}
{"code_tokens": ["static", "void", "set", "_", "display", "_", "channel", "(", "void", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "static", "u8", "get", "_", "sync", "(", "struct", "fb", "_", "info", "*", "info", ")", "<nl>", "+", "static", "u8", "get", "_", "sync", "(", "struct", "fb", "_", "var", "_", "screeninfo", "*", "var", ")", "<nl>", "{", "<nl>", "u8", "polarity", "=", "0", ";", "<nl>", "<nl>", "-", "if", "(", "!", "(", "info", "-", ">", "var", ".", "sync", "&", "FB", "_", "SYNC", "_", "HOR", "_", "HIGH", "_", "ACT", ")", ")", "<nl>", "+", "if", "(", "!", "(", "var", "-", ">", "sync", "&", "FB", "_", "SYNC", "_", "HOR", "_", "HIGH", "_", "ACT", ")", ")", "<nl>", "polarity", "|", "=", "VIA", "_", "HSYNC", "_", "NEGATIVE", ";", "<nl>", "-", "if", "(", "!", "(", "info", "-", ">", "var", ".", "sync", "&", "FB", "_", "SYNC", "_", "VERT", "_", "HIGH", "_", "ACT", ")", ")", "<nl>", "+", "if", "(", "!", "(", "var", "-", ">", "sync", "&", "FB", "_", "SYNC", "_", "VERT", "_", "HIGH", "_", "ACT", ")", ")", "<nl>", "polarity", "|", "=", "VIA", "_", "VSYNC", "_", "NEGATIVE", ";", "<nl>", "return", "polarity", ";", "<nl>", "}", "<nl>", "int", "viafb", "_", "setmode", "(", "int", "video", "_", "bpp", ",", "int", "video", "_", "bpp1", ")", "<nl>", "viafb", "_", "DeviceStatus", "=", "CRT", "_", "Device", ";", "<nl>", "}", "<nl>", "device", "_", "on", "(", ")", ";", "<nl>", "-", "if", "(", "!", "viafb", "_", "dual", "_", "fb", ")", "<nl>", "-", "via", "_", "set", "_", "sync", "_", "polarity", "(", "devices", ",", "get", "_", "sync", "(", "viafbinfo", ")", ")", ";", "<nl>", "+", "if", "(", "!", "viafb", "_", "SAMM", "_", "ON", ")", "<nl>", "+", "via", "_", "set", "_", "sync", "_", "polarity", "(", "devices", ",", "get", "_", "sync", "(", "&", "viafbinfo", "-", ">", "var", ")", ")", ";", "<nl>", "else", "{", "<nl>", "via", "_", "set", "_", "sync", "_", "polarity", "(", "viaparinfo", "-", ">", "shared", "-", ">", "iga1", "_", "devices", ",", "<nl>", "-", "get", "_", "sync", "(", "viafbinfo", ")", ")", ";", "<nl>", "+", "get", "_", "sync", "(", "&", "viafbinfo", "-", ">", "var", ")", ")", ";", "<nl>", "via", "_", "set", "_", "sync", "_", "polarity", "(", "viaparinfo", "-", ">", "shared", "-", ">", "iga2", "_", "devices", ",", "<nl>", "-", "get", "_", "sync", "(", "viafbinfo1", ")", ")", ";", "<nl>", "+", "get", "_", "sync", "(", "&", "var2", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "clock", ".", "set", "_", "engine", "_", "pll", "_", "state", "(", "VIA", "_", "STATE", "_", "ON", ")", ";", "<nl>"], "docstring_tokens": ["viafb", "set", "correct", "polarity", "for", "second", "adapter"]}
{"code_tokens": ["static", "int", "netlink", "_", "sendmsg", "(", "struct", "kiocb", "*", "kiocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "if", "(", "NULL", "=", "=", "siocb", "-", ">", "scm", ")", "<nl>", "siocb", "-", ">", "scm", "=", "&", "scm", ";", "<nl>", "<nl>", "-", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ")", ";", "<nl>", "+", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ",", "true", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "static", "int", "netlink", "_", "sendmsg", "(", "struct", "kiocb", "*", "kiocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "if", "(", "NULL", "=", "=", "siocb", "-", ">", "scm", ")", "<nl>", "siocb", "-", ">", "scm", "=", "&", "scm", ";", "<nl>", "<nl>", "-", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ")", ";", "<nl>", "+", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ",", "true", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "static", "int", "unix", "_", "dgram", "_", "sendmsg", "(", "struct", "kiocb", "*", "kiocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "if", "(", "NULL", "=", "=", "siocb", "-", ">", "scm", ")", "<nl>", "siocb", "-", ">", "scm", "=", "&", "tmp", "_", "scm", ";", "<nl>", "wait", "_", "for", "_", "unix", "_", "gc", "(", ")", ";", "<nl>", "-", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ")", ";", "<nl>", "+", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ",", "false", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "static", "int", "unix", "_", "stream", "_", "sendmsg", "(", "struct", "kiocb", "*", "kiocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "if", "(", "NULL", "=", "=", "siocb", "-", ">", "scm", ")", "<nl>", "siocb", "-", ">", "scm", "=", "&", "tmp", "_", "scm", ";", "<nl>", "wait", "_", "for", "_", "unix", "_", "gc", "(", ")", ";", "<nl>", "-", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ")", ";", "<nl>", "+", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ",", "false", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "static", "int", "netlink", "_", "sendmsg", "(", "struct", "kiocb", "*", "kiocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "if", "(", "NULL", "=", "=", "siocb", "-", ">", "scm", ")", "<nl>", "siocb", "-", ">", "scm", "=", "&", "scm", ";", "<nl>", "<nl>", "-", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ")", ";", "<nl>", "+", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ",", "true", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "static", "int", "unix", "_", "dgram", "_", "sendmsg", "(", "struct", "kiocb", "*", "kiocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "if", "(", "NULL", "=", "=", "siocb", "-", ">", "scm", ")", "<nl>", "siocb", "-", ">", "scm", "=", "&", "tmp", "_", "scm", ";", "<nl>", "wait", "_", "for", "_", "unix", "_", "gc", "(", ")", ";", "<nl>", "-", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ")", ";", "<nl>", "+", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ",", "false", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "static", "int", "unix", "_", "stream", "_", "sendmsg", "(", "struct", "kiocb", "*", "kiocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "if", "(", "NULL", "=", "=", "siocb", "-", ">", "scm", ")", "<nl>", "siocb", "-", ">", "scm", "=", "&", "tmp", "_", "scm", ";", "<nl>", "wait", "_", "for", "_", "unix", "_", "gc", "(", ")", ";", "<nl>", "-", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ")", ";", "<nl>", "+", "err", "=", "scm", "_", "send", "(", "sock", ",", "msg", ",", "siocb", "-", ">", "scm", ",", "false", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "static", "_", "_", "inline", "_", "_", "void", "scm", "_", "destroy", "(", "struct", "scm", "_", "cookie", "*", "scm", ")", "<nl>", "}", "<nl>", "<nl>", "static", "_", "_", "inline", "_", "_", "int", "scm", "_", "send", "(", "struct", "socket", "*", "sock", ",", "struct", "msghdr", "*", "msg", ",", "<nl>", "-", "struct", "scm", "_", "cookie", "*", "scm", ")", "<nl>", "+", "struct", "scm", "_", "cookie", "*", "scm", ",", "bool", "forcecreds", ")", "<nl>", "{", "<nl>", "memset", "(", "scm", ",", "0", ",", "sizeof", "(", "*", "scm", ")", ")", ";", "<nl>", "+", "if", "(", "forcecreds", ")", "<nl>", "+", "scm", "_", "set", "_", "cred", "(", "scm", ",", "task", "_", "tgid", "(", "current", ")", ",", "current", "_", "cred", "(", ")", ")", ";", "<nl>", "unix", "_", "get", "_", "peersec", "_", "dgram", "(", "sock", ",", "scm", ")", ";", "<nl>", "if", "(", "msg", "-", ">", "msg", "_", "controllen", "<", "=", "0", ")", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["af_netlink", "force", "credentials", "passing", "CVE", "2012", "3520"]}
{"code_tokens": ["static", "int", "wake", "_", "idle", "(", "int", "cpu", ",", "task", "_", "t", "*", "p", ")", "<nl>", "<nl>", "for", "_", "each", "_", "domain", "(", "cpu", ",", "sd", ")", "{", "<nl>", "if", "(", "sd", "-", ">", "flags", "&", "SD", "_", "WAKE", "_", "IDLE", ")", "{", "<nl>", "-", "cpus", "_", "and", "(", "tmp", ",", "sd", "-", ">", "span", ",", "cpu", "_", "online", "_", "map", ")", ";", "<nl>", "-", "cpus", "_", "and", "(", "tmp", ",", "tmp", ",", "p", "-", ">", "cpus", "_", "allowed", ")", ";", "<nl>", "+", "cpus", "_", "and", "(", "tmp", ",", "sd", "-", ">", "span", ",", "p", "-", ">", "cpus", "_", "allowed", ")", ";", "<nl>", "for", "_", "each", "_", "cpu", "_", "mask", "(", "i", ",", "tmp", ")", "{", "<nl>", "if", "(", "idle", "_", "cpu", "(", "i", ")", ")", "<nl>", "return", "i", ";", "<nl>", "}", "<nl>", "}", "<nl>", "-", "else", "break", ";", "<nl>", "+", "else", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "return", "cpu", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PATCH", "sched", "cleanup", "wake_idle"]}
{"code_tokens": ["int", "mthca", "_", "alloc", "_", "srq", "(", "struct", "mthca", "_", "dev", "*", "dev", ",", "struct", "mthca", "_", "pd", "*", "pd", ",", "<nl>", "srq", "-", ">", "first", "_", "free", "=", "0", ";", "<nl>", "srq", "-", ">", "last", "_", "free", "=", "srq", "-", ">", "max", "-", "1", ";", "<nl>", "<nl>", "-", "attr", "-", ">", "max", "_", "wr", "=", "srq", "-", ">", "max", ";", "<nl>", "+", "attr", "-", ">", "max", "_", "wr", "=", "(", "mthca", "_", "is", "_", "memfree", "(", "dev", ")", ")", "?", "srq", "-", ">", "max", "-", "1", ":", "srq", "-", ">", "max", ";", "<nl>", "attr", "-", ">", "max", "_", "sge", "=", "srq", "-", ">", "max", "_", "gs", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "int", "mthca", "_", "query", "_", "srq", "(", "struct", "ib", "_", "srq", "*", "ibsrq", ",", "struct", "ib", "_", "srq", "_", "attr", "*", "srq", "_", "attr", ")", "<nl>", "}", "else", "<nl>", "srq", "_", "attr", "-", ">", "srq", "_", "limit", "=", "0", ";", "<nl>", "<nl>", "-", "srq", "_", "attr", "-", ">", "max", "_", "wr", "=", "srq", "-", ">", "max", ";", "<nl>", "+", "srq", "_", "attr", "-", ">", "max", "_", "wr", "=", "(", "mthca", "_", "is", "_", "memfree", "(", "dev", ")", ")", "?", "srq", "-", ">", "max", "-", "1", ":", "srq", "-", ">", "max", ";", "<nl>", "srq", "_", "attr", "-", ">", "max", "_", "sge", "=", "srq", "-", ">", "max", "_", "gs", ";", "<nl>", "<nl>", "out", ":", "<nl>"], "docstring_tokens": ["IB", "mthca", "Correct", "reported", "SRQ", "size", "in", "MemFree", "case"]}
{"code_tokens": ["static", "int", "rfcomm", "_", "sock", "_", "recvmsg", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "<nl>", "if", "(", "test", "_", "and", "_", "clear", "_", "bit", "(", "RFCOMM", "_", "DEFER", "_", "SETUP", ",", "&", "d", "-", ">", "flags", ")", ")", "{", "<nl>", "rfcomm", "_", "dlc", "_", "accept", "(", "d", ")", ";", "<nl>", "+", "msg", "-", ">", "msg", "_", "namelen", "=", "0", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Bluetooth", "RFCOMM", "Fix", "missing", "msg_namelen", "update", "in", "rfcomm_sock_recvmsg"]}
{"code_tokens": ["xfs", "_", "reflink", "_", "end", "_", "cow", "(", "<nl>", "/", "*", "If", "there", "is", "a", "hole", "at", "end", "_", "fsb", "-", "1", "go", "to", "the", "previous", "extent", "*", "/", "<nl>", "if", "(", "!", "xfs", "_", "iext", "_", "lookup", "_", "extent", "(", "ip", ",", "ifp", ",", "end", "_", "fsb", "-", "1", ",", "&", "idx", ",", "&", "got", ")", "|", "|", "<nl>", "got", ".", "br", "_", "startoff", ">", "end", "_", "fsb", ")", "{", "<nl>", "-", "ASSERT", "(", "idx", ">", "0", ")", ";", "<nl>", "+", "/", "*", "<nl>", "+", "*", "In", "case", "of", "racing", ",", "overlapping", "AIO", "writes", "no", "COW", "extents", "<nl>", "+", "*", "might", "be", "left", "by", "the", "time", "I", "/", "O", "completes", "for", "the", "loser", "of", "<nl>", "+", "*", "the", "race", ".", "In", "that", "case", "we", "are", "done", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "idx", "<", "=", "0", ")", "<nl>", "+", "goto", "out", "_", "cancel", ";", "<nl>", "xfs", "_", "iext", "_", "get", "_", "extent", "(", "ifp", ",", "-", "-", "idx", ",", "&", "got", ")", ";", "<nl>", "}", "<nl>", "<nl>", "xfs", "_", "reflink", "_", "end", "_", "cow", "(", "<nl>", "<nl>", "out", "_", "defer", ":", "<nl>", "xfs", "_", "defer", "_", "cancel", "(", "&", "dfops", ")", ";", "<nl>", "+", "out", "_", "cancel", ":", "<nl>", "xfs", "_", "trans", "_", "cancel", "(", "tp", ")", ";", "<nl>", "xfs", "_", "iunlock", "(", "ip", ",", "XFS", "_", "ILOCK", "_", "EXCL", ")", ";", "<nl>", "out", ":", "<nl>"], "docstring_tokens": ["xfs", "handle", "racy", "AIO", "in", "xfs_reflink_end_cow"]}
{"code_tokens": ["static", "int", "_", "_", "init", "unittest", "_", "data", "_", "add", "(", "void", ")", "<nl>", "of", "_", "fdt", "_", "unflatten", "_", "tree", "(", "unittest", "_", "data", ",", "NULL", ",", "&", "unittest", "_", "data", "_", "node", ")", ";", "<nl>", "if", "(", "!", "unittest", "_", "data", "_", "node", ")", "{", "<nl>", "pr", "_", "warn", "(", "\"", "%", "s", ":", "No", "tree", "to", "attach", ";", "not", "running", "tests", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "+", "kfree", "(", "unittest", "_", "data", ")", ";", "<nl>", "return", "-", "ENODATA", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["of", "unittest", "fix", "memory", "leak", "in", "unittest_data_add"]}
{"code_tokens": ["bfin", "_", "debug", "_", "mmrs", "_", "dma", "(", "struct", "dentry", "*", "parent", ",", "unsigned", "long", "base", ",", "int", "num", ",", "char", "mdm", "<nl>", "_", "_", "DMA", "(", "CURR", "_", "DESC", "_", "PTR", ",", "curr", "_", "desc", "_", "ptr", ")", ";", "<nl>", "_", "_", "DMA", "(", "CURR", "_", "ADDR", ",", "curr", "_", "addr", ")", ";", "<nl>", "_", "_", "DMA", "(", "IRQ", "_", "STATUS", ",", "irq", "_", "status", ")", ";", "<nl>", "-", "_", "_", "DMA", "(", "PERIPHERAL", "_", "MAP", ",", "peripheral", "_", "map", ")", ";", "<nl>", "+", "if", "(", "strcmp", "(", "pfx", ",", "\"", "IMDMA", "\"", ")", "!", "=", "0", ")", "<nl>", "+", "_", "_", "DMA", "(", "PERIPHERAL", "_", "MAP", ",", "peripheral", "_", "map", ")", ";", "<nl>", "_", "_", "DMA", "(", "CURR", "_", "X", "_", "COUNT", ",", "curr", "_", "x", "_", "count", ")", ";", "<nl>", "_", "_", "DMA", "(", "CURR", "_", "Y", "_", "COUNT", ",", "curr", "_", "y", "_", "count", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Blackfin", "debug", "mmrs", "disable", "PERIPHERAL_MAP", "for", "IMDMA", "channels"]}
{"code_tokens": ["pnfs", "_", "choose", "_", "layoutget", "_", "stateid", "(", "nfs4", "_", "stateid", "*", "dst", ",", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", ",", "<nl>", "static", "struct", "pnfs", "_", "layout", "_", "segment", "*", "<nl>", "send", "_", "layoutget", "(", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", ",", "<nl>", "struct", "nfs", "_", "open", "_", "context", "*", "ctx", ",", "<nl>", "-", "struct", "pnfs", "_", "layout", "_", "range", "*", "range", ",", "<nl>", "+", "const", "struct", "pnfs", "_", "layout", "_", "range", "*", "range", ",", "<nl>", "gfp", "_", "t", "gfp", "_", "flags", ")", "<nl>", "{", "<nl>", "struct", "inode", "*", "ino", "=", "lo", "-", ">", "plh", "_", "inode", ";", "<nl>", "send", "_", "layoutget", "(", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", ",", "<nl>", "lgp", "-", ">", "args", ".", "minlength", "=", "i", "_", "size", "-", "range", "-", ">", "offset", ";", "<nl>", "}", "<nl>", "lgp", "-", ">", "args", ".", "maxcount", "=", "PNFS", "_", "LAYOUT", "_", "MAXSIZE", ";", "<nl>", "-", "lgp", "-", ">", "args", ".", "range", "=", "*", "range", ";", "<nl>", "+", "pnfs", "_", "copy", "_", "range", "(", "&", "lgp", "-", ">", "args", ".", "range", ",", "range", ")", ";", "<nl>", "lgp", "-", ">", "args", ".", "type", "=", "server", "-", ">", "pnfs", "_", "curr", "_", "ld", "-", ">", "id", ";", "<nl>", "lgp", "-", ">", "args", ".", "inode", "=", "ino", ";", "<nl>", "lgp", "-", ">", "args", ".", "ctx", "=", "get", "_", "nfs", "_", "open", "_", "context", "(", "ctx", ")", ";", "mmm", "fs", "/", "nfs", "/", "pnfs", ".", "h", "<nl>", "pnfs", "_", "choose", "_", "layoutget", "_", "stateid", "(", "nfs4", "_", "stateid", "*", "dst", ",", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", ",", "<nl>", "static", "struct", "pnfs", "_", "layout", "_", "segment", "*", "<nl>", "send", "_", "layoutget", "(", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", ",", "<nl>", "struct", "nfs", "_", "open", "_", "context", "*", "ctx", ",", "<nl>", "-", "struct", "pnfs", "_", "layout", "_", "range", "*", "range", ",", "<nl>", "+", "const", "struct", "pnfs", "_", "layout", "_", "range", "*", "range", ",", "<nl>", "gfp", "_", "t", "gfp", "_", "flags", ")", "<nl>", "{", "<nl>", "struct", "inode", "*", "ino", "=", "lo", "-", ">", "plh", "_", "inode", ";", "<nl>", "send", "_", "layoutget", "(", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", ",", "<nl>", "lgp", "-", ">", "args", ".", "minlength", "=", "i", "_", "size", "-", "range", "-", ">", "offset", ";", "<nl>", "}", "<nl>", "lgp", "-", ">", "args", ".", "maxcount", "=", "PNFS", "_", "LAYOUT", "_", "MAXSIZE", ";", "<nl>", "-", "lgp", "-", ">", "args", ".", "range", "=", "*", "range", ";", "<nl>", "+", "pnfs", "_", "copy", "_", "range", "(", "&", "lgp", "-", ">", "args", ".", "range", ",", "range", ")", ";", "<nl>", "lgp", "-", ">", "args", ".", "type", "=", "server", "-", ">", "pnfs", "_", "curr", "_", "ld", "-", ">", "id", ";", "<nl>", "lgp", "-", ">", "args", ".", "inode", "=", "ino", ";", "<nl>", "lgp", "-", ">", "args", ".", "ctx", "=", "get", "_", "nfs", "_", "open", "_", "context", "(", "ctx", ")", ";", "<nl>", "pnfs", "_", "mark", "_", "layout", "_", "returned", "_", "if", "_", "empty", "(", "struct", "pnfs", "_", "layout", "_", "hdr", "*", "lo", ")", "<nl>", "set", "_", "bit", "(", "NFS", "_", "LAYOUT", "_", "INVALID", "_", "STID", ",", "&", "lo", "-", ">", "plh", "_", "flags", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "inline", "void", "<nl>", "+", "pnfs", "_", "copy", "_", "range", "(", "struct", "pnfs", "_", "layout", "_", "range", "*", "dst", ",", "<nl>", "+", "const", "struct", "pnfs", "_", "layout", "_", "range", "*", "src", ")", "<nl>", "+", "{", "<nl>", "+", "memcpy", "(", "dst", ",", "src", ",", "sizeof", "(", "*", "dst", ")", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "extern", "unsigned", "int", "layoutstats", "_", "timer", ";", "<nl>", "<nl>", "#", "ifdef", "NFS", "_", "DEBUG", "<nl>"], "docstring_tokens": ["NFSv4", "1", "pnfs", "Cleanup", "copying", "of", "pnfs_layout_range", "structures"]}
{"code_tokens": ["static", "enum", "vmpressure", "_", "levels", "vmpressure", "_", "calc", "_", "level", "(", "unsigned", "long", "scanned", ",", "<nl>", "unsigned", "long", "reclaimed", ")", "<nl>", "{", "<nl>", "unsigned", "long", "scale", "=", "scanned", "+", "reclaimed", ";", "<nl>", "-", "unsigned", "long", "pressure", ";", "<nl>", "+", "unsigned", "long", "pressure", "=", "0", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "reclaimed", "can", "be", "greater", "than", "scanned", "in", "cases", "<nl>", "+", "*", "like", "THP", ",", "where", "the", "scanned", "is", "1", "and", "reclaimed", "<nl>", "+", "*", "could", "be", "512", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "reclaimed", ">", "=", "scanned", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "/", "*", "<nl>", "*", "We", "calculate", "the", "ratio", "(", "in", "percents", ")", "of", "how", "many", "pages", "were", "<nl>", "*", "scanned", "vs", ".", "reclaimed", "in", "a", "given", "time", "frame", "(", "window", ")", ".", "Note", "that", "<nl>", "static", "enum", "vmpressure", "_", "levels", "vmpressure", "_", "calc", "_", "level", "(", "unsigned", "long", "scanned", ",", "<nl>", "pressure", "=", "scale", "-", "(", "reclaimed", "*", "scale", "/", "scanned", ")", ";", "<nl>", "pressure", "=", "pressure", "*", "100", "/", "scale", ";", "<nl>", "<nl>", "+", "out", ":", "<nl>", "pr", "_", "debug", "(", "\"", "%", "s", ":", "%", "3lu", "(", "s", ":", "%", "lu", "r", ":", "%", "lu", ")", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "pressure", ",", "<nl>", "scanned", ",", "reclaimed", ")", ";", "<nl>"], "docstring_tokens": ["mm", "vmpressure", "fix", "sending", "wrong", "events", "on", "underflow"]}
{"code_tokens": ["static", "int", "udf", "_", "read", "_", "inode", "(", "struct", "inode", "*", "inode", ",", "bool", "hidden", "_", "inode", ")", "<nl>", "}", "<nl>", "inode", "-", ">", "i", "_", "generation", "=", "iinfo", "-", ">", "i", "_", "unique", ";", "<nl>", "<nl>", "+", "/", "*", "Sanity", "checks", "for", "files", "in", "ICB", "so", "that", "we", "don", "'", "t", "get", "confused", "later", "*", "/", "<nl>", "+", "if", "(", "iinfo", "-", ">", "i", "_", "alloc", "_", "type", "=", "=", "ICBTAG", "_", "FLAG", "_", "AD", "_", "IN", "_", "ICB", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "For", "file", "in", "ICB", "data", "is", "stored", "in", "allocation", "descriptor", "<nl>", "+", "*", "so", "sizes", "should", "match", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "iinfo", "-", ">", "i", "_", "lenAlloc", "!", "=", "inode", "-", ">", "i", "_", "size", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "/", "*", "File", "in", "ICB", "has", "to", "fit", "in", "there", ".", ".", ".", "*", "/", "<nl>", "+", "if", "(", "inode", "-", ">", "i", "_", "size", ">", "inode", "-", ">", "i", "_", "sb", "-", ">", "s", "_", "blocksize", "-", "<nl>", "+", "udf", "_", "file", "_", "entry", "_", "alloc", "_", "offset", "(", "inode", ")", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "switch", "(", "fe", "-", ">", "icbTag", ".", "fileType", ")", "{", "<nl>", "case", "ICBTAG", "_", "FILE", "_", "TYPE", "_", "DIRECTORY", ":", "<nl>", "inode", "-", ">", "i", "_", "op", "=", "&", "udf", "_", "dir", "_", "inode", "_", "operations", ";", "<nl>"], "docstring_tokens": ["udf", "Verify", "i_size", "when", "loading", "inode"]}
{"code_tokens": ["static", "int", "hci", "_", "sock", "_", "getsockopt", "(", "struct", "socket", "*", "sock", ",", "int", "level", ",", "int", "optname", ",", "<nl>", "{", "<nl>", "struct", "hci", "_", "filter", "*", "f", "=", "&", "hci", "_", "pi", "(", "sk", ")", "-", ">", "filter", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "uf", ",", "0", ",", "sizeof", "(", "uf", ")", ")", ";", "<nl>", "uf", ".", "type", "_", "mask", "=", "f", "-", ">", "type", "_", "mask", ";", "<nl>", "uf", ".", "opcode", "=", "f", "-", ">", "opcode", ";", "<nl>", "uf", ".", "event", "_", "mask", "[", "0", "]", "=", "*", "(", "(", "u32", "*", ")", "f", "-", ">", "event", "_", "mask", "+", "0", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "HCI", "Fix", "info", "leak", "in", "getsockopt", "HCI_FILTER"]}
{"code_tokens": ["static", "void", "sd", "_", "pkt", "_", "scan", "(", "struct", "gspca", "_", "dev", "*", "gspca", "_", "dev", ",", "<nl>", "}", "<nl>", "data", "+", "+", ";", "<nl>", "len", "-", "-", ";", "<nl>", "+", "if", "(", "len", "<", "2", ")", "{", "<nl>", "+", "gspca", "_", "dev", "-", ">", "last", "_", "packet", "_", "type", "=", "DISCARD", "_", "PACKET", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "if", "(", "*", "data", "=", "=", "0xff", "&", "&", "data", "[", "1", "]", "=", "=", "0xd8", ")", "{", "<nl>", "/", "*", "fixme", ":", "there", "may", "be", "information", "in", "the", "4", "high", "bits", "*", "/", "<nl>", "+", "if", "(", "len", "<", "7", ")", "{", "<nl>", "+", "gspca", "_", "dev", "-", ">", "last", "_", "packet", "_", "type", "=", "DISCARD", "_", "PACKET", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "if", "(", "(", "data", "[", "6", "]", "&", "0x0f", ")", "!", "=", "sd", "-", ">", "quality", ")", "<nl>", "set", "_", "dqt", "(", "gspca", "_", "dev", ",", "data", "[", "6", "]", "&", "0x0f", ")", ";", "<nl>", "gspca", "_", "frame", "_", "add", "(", "gspca", "_", "dev", ",", "FIRST", "_", "PACKET", ",", "<nl>", "static", "void", "sd", "_", "pkt", "_", "scan", "(", "struct", "gspca", "_", "dev", "*", "gspca", "_", "dev", ",", "<nl>", "gspca", "_", "dev", "-", ">", "last", "_", "packet", "_", "type", "=", "DISCARD", "_", "PACKET", ";", "<nl>", "break", ";", "<nl>", "case", "0xcc", ":", "<nl>", "-", "if", "(", "data", "[", "1", "]", "!", "=", "0xff", "|", "|", "data", "[", "2", "]", "!", "=", "0xd8", ")", "<nl>", "+", "if", "(", "len", ">", "=", "3", "&", "&", "(", "data", "[", "1", "]", "!", "=", "0xff", "|", "|", "data", "[", "2", "]", "!", "=", "0xd8", ")", ")", "<nl>", "gspca", "_", "frame", "_", "add", "(", "gspca", "_", "dev", ",", "INTER", "_", "PACKET", ",", "<nl>", "data", "+", "1", ",", "len", "-", "1", ")", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["media", "gspca_topro", "Add", "a", "couple", "of", "missing", "length", "check", "in", "the", "packet", "parsing", "code"]}
{"code_tokens": ["void", "bt", "_", "accept", "_", "enqueue", "(", "struct", "sock", "*", "parent", ",", "struct", "sock", "*", "sk", ")", "<nl>", "BT", "_", "DBG", "(", "\"", "parent", "%", "p", ",", "sk", "%", "p", "\"", ",", "parent", ",", "sk", ")", ";", "<nl>", "<nl>", "sock", "_", "hold", "(", "sk", ")", ";", "<nl>", "+", "lock", "_", "sock", "(", "sk", ")", ";", "<nl>", "list", "_", "add", "_", "tail", "(", "&", "bt", "_", "sk", "(", "sk", ")", "-", ">", "accept", "_", "q", ",", "&", "bt", "_", "sk", "(", "parent", ")", "-", ">", "accept", "_", "q", ")", ";", "<nl>", "bt", "_", "sk", "(", "sk", ")", "-", ">", "parent", "=", "parent", ";", "<nl>", "+", "release", "_", "sock", "(", "sk", ")", ";", "<nl>", "parent", "-", ">", "sk", "_", "ack", "_", "backlog", "+", "+", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "bt", "_", "accept", "_", "enqueue", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "Handle", "bt_accept_enqueue", "socket", "atomically"]}
{"code_tokens": ["#", "define", "USB", "_", "REQ", "_", "LOOPBACK", "_", "DATA", "_", "READ", "0x16", "<nl>", "#", "define", "USB", "_", "REQ", "_", "SET", "_", "INTERFACE", "_", "DS", "0x17", "<nl>", "<nl>", "+", "/", "*", "specific", "requests", "for", "USB", "Power", "Delivery", "*", "/", "<nl>", "+", "#", "define", "USB", "_", "REQ", "_", "GET", "_", "PARTNER", "_", "PDO", "20", "<nl>", "+", "#", "define", "USB", "_", "REQ", "_", "GET", "_", "BATTERY", "_", "STATUS", "21", "<nl>", "+", "#", "define", "USB", "_", "REQ", "_", "SET", "_", "PDO", "22", "<nl>", "+", "#", "define", "USB", "_", "REQ", "_", "GET", "_", "VDM", "23", "<nl>", "+", "#", "define", "USB", "_", "REQ", "_", "SEND", "_", "VDM", "24", "<nl>", "+", "<nl>", "/", "*", "The", "Link", "Power", "Management", "(", "LPM", ")", "ECN", "defines", "USB", "_", "REQ", "_", "TEST", "_", "AND", "_", "SET", "command", ",", "<nl>", "*", "used", "by", "hubs", "to", "put", "ports", "into", "a", "new", "L1", "suspend", "state", ",", "except", "that", "it", "<nl>", "*", "forgot", "to", "define", "its", "number", ".", ".", ".", "<nl>"], "docstring_tokens": ["USB", "PD", "define", "specific", "requests"]}
{"code_tokens": ["static", "ssize", "_", "t", "wait", "_", "for", "_", "direct", "_", "io", "(", "enum", "ORANGEFS", "_", "io", "_", "type", "type", ",", "struct", "inode", "*", "inod", "<nl>", "*", "/", "<nl>", "if", "(", "ret", "=", "=", "-", "EAGAIN", "&", "&", "op", "_", "state", "_", "purged", "(", "new", "_", "op", ")", ")", "{", "<nl>", "orangefs", "_", "bufmap", "_", "put", "(", "bufmap", ",", "buffer", "_", "index", ")", ";", "<nl>", "+", "buffer", "_", "index", "=", "-", "1", ";", "<nl>", "gossip", "_", "debug", "(", "GOSSIP", "_", "FILE", "_", "DEBUG", ",", "<nl>", "\"", "%", "s", ":", "going", "to", "repopulate", "_", "shared", "_", "memory", ".", "\\", "n", "\"", ",", "<nl>", "_", "_", "func", "_", "_", ")", ";", "<nl>"], "docstring_tokens": ["orangefs", "avoid", "freeing", "a", "slot", "twice", "in", "wait_for_direct_io"]}
{"code_tokens": ["struct", "kvm", "_", "pit", "*", "kvm", "_", "create", "_", "pit", "(", "struct", "kvm", "*", "kvm", ")", "<nl>", "mutex", "_", "lock", "(", "&", "kvm", "-", ">", "lock", ")", ";", "<nl>", "pit", "-", ">", "irq", "_", "source", "_", "id", "=", "kvm", "_", "request", "_", "irq", "_", "source", "_", "id", "(", "kvm", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "kvm", "-", ">", "lock", ")", ";", "<nl>", "-", "if", "(", "pit", "-", ">", "irq", "_", "source", "_", "id", "<", "0", ")", "<nl>", "+", "if", "(", "pit", "-", ">", "irq", "_", "source", "_", "id", "<", "0", ")", "{", "<nl>", "+", "kfree", "(", "pit", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "<nl>", "mutex", "_", "init", "(", "&", "pit", "-", ">", "pit", "_", "state", ".", "lock", ")", ";", "<nl>", "mutex", "_", "lock", "(", "&", "pit", "-", ">", "pit", "_", "state", ".", "lock", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "Fix", "pit", "memory", "leak", "if", "unable", "to", "allocate", "irq", "source", "id"]}
{"code_tokens": ["static", "int", "axff", "_", "init", "(", "struct", "hid", "_", "device", "*", "hid", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "field", "_", "count", "<", "4", ")", "{", "<nl>", "+", "if", "(", "field", "_", "count", "<", "4", "&", "&", "hid", "-", ">", "product", "!", "=", "0xf705", ")", "{", "<nl>", "hid", "_", "err", "(", "hid", ",", "\"", "not", "enough", "fields", "in", "the", "report", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "field", "_", "count", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "static", "void", "ax", "_", "remove", "(", "struct", "hid", "_", "device", "*", "hdev", ")", "<nl>", "<nl>", "static", "const", "struct", "hid", "_", "device", "_", "id", "ax", "_", "devices", "[", "]", "=", "{", "<nl>", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "ACRUX", ",", "0x0802", ")", ",", "}", ",", "<nl>", "+", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "ACRUX", ",", "0xf705", ")", ",", "}", ",", "<nl>", "{", "}", "<nl>", "}", ";", "<nl>", "MODULE", "_", "DEVICE", "_", "TABLE", "(", "hid", ",", "ax", "_", "devices", ")", ";", "mmm", "drivers", "/", "hid", "/", "hid", "-", "core", ".", "c", "<nl>", "static", "int", "axff", "_", "init", "(", "struct", "hid", "_", "device", "*", "hid", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "field", "_", "count", "<", "4", ")", "{", "<nl>", "+", "if", "(", "field", "_", "count", "<", "4", "&", "&", "hid", "-", ">", "product", "!", "=", "0xf705", ")", "{", "<nl>", "hid", "_", "err", "(", "hid", ",", "\"", "not", "enough", "fields", "in", "the", "report", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "field", "_", "count", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "static", "void", "ax", "_", "remove", "(", "struct", "hid", "_", "device", "*", "hdev", ")", "<nl>", "<nl>", "static", "const", "struct", "hid", "_", "device", "_", "id", "ax", "_", "devices", "[", "]", "=", "{", "<nl>", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "ACRUX", ",", "0x0802", ")", ",", "}", ",", "<nl>", "+", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "ACRUX", ",", "0xf705", ")", ",", "}", ",", "<nl>", "{", "}", "<nl>", "}", ";", "<nl>", "MODULE", "_", "DEVICE", "_", "TABLE", "(", "hid", ",", "ax", "_", "devices", ")", ";", "<nl>", "static", "const", "struct", "hid", "_", "device", "_", "id", "hid", "_", "have", "_", "special", "_", "driver", "[", "]", "=", "{", "<nl>", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "A4TECH", ",", "USB", "_", "DEVICE", "_", "ID", "_", "A4TECH", "_", "X5", "_", "005D", ")", "}", ",", "<nl>", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "A4TECH", ",", "USB", "_", "DEVICE", "_", "ID", "_", "A4TECH", "_", "RP", "_", "649", ")", "}", ",", "<nl>", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "ACRUX", ",", "0x0802", ")", "}", ",", "<nl>", "+", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "ACRUX", ",", "0xf705", ")", "}", ",", "<nl>", "{", "HID", "_", "USB", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "APPLE", ",", "USB", "_", "DEVICE", "_", "ID", "_", "APPLE", "_", "MIGHTYMOUSE", ")", "}", ",", "<nl>", "{", "HID", "_", "BLUETOOTH", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "APPLE", ",", "USB", "_", "DEVICE", "_", "ID", "_", "APPLE", "_", "MAGICMOUSE", ")", "}", ",", "<nl>", "{", "HID", "_", "BLUETOOTH", "_", "DEVICE", "(", "USB", "_", "VENDOR", "_", "ID", "_", "APPLE", ",", "USB", "_", "DEVICE", "_", "ID", "_", "APPLE", "_", "MAGICTRACKPAD", ")", "}", ",", "<nl>"], "docstring_tokens": ["HID", "enable", "Mayflash", "USB", "Gamecube", "Adapter"]}
{"code_tokens": ["static", "int", "rtl2832u", "_", "tuner", "_", "attach", "(", "struct", "dvb", "_", "usb", "_", "adapter", "*", "adap", ")", "<nl>", "struct", "i2c", "_", "board", "_", "info", "info", ";", "<nl>", "struct", "i2c", "_", "client", "*", "client", ";", "<nl>", "struct", "v4l2", "_", "subdev", "*", "subdev", "=", "NULL", ";", "<nl>", "+", "struct", "platform", "_", "device", "*", "pdev", ";", "<nl>", "+", "struct", "rtl2832", "_", "sdr", "_", "platform", "_", "data", "pdata", ";", "<nl>", "<nl>", "dev", "_", "dbg", "(", "&", "d", "-", ">", "intf", "-", ">", "dev", ",", "\"", "\\", "n", "\"", ")", ";", "<nl>", "<nl>", "memset", "(", "&", "info", ",", "0", ",", "sizeof", "(", "struct", "i2c", "_", "board", "_", "info", ")", ")", ";", "<nl>", "+", "memset", "(", "&", "pdata", ",", "0", ",", "sizeof", "(", "pdata", ")", ")", ";", "<nl>", "<nl>", "switch", "(", "dev", "-", ">", "tuner", ")", "{", "<nl>", "case", "TUNER", "_", "RTL2832", "_", "FC0012", ":", "<nl>", "static", "int", "rtl2832u", "_", "tuner", "_", "attach", "(", "struct", "dvb", "_", "usb", "_", "adapter", "*", "adap", ")", "<nl>", "<nl>", "/", "*", "register", "SDR", "*", "/", "<nl>", "switch", "(", "dev", "-", ">", "tuner", ")", "{", "<nl>", "-", "struct", "platform", "_", "device", "*", "pdev", ";", "<nl>", "-", "struct", "rtl2832", "_", "sdr", "_", "platform", "_", "data", "pdata", "=", "{", "}", ";", "<nl>", "-", "<nl>", "case", "TUNER", "_", "RTL2832", "_", "FC0012", ":", "<nl>", "case", "TUNER", "_", "RTL2832", "_", "FC0013", ":", "<nl>", "case", "TUNER", "_", "RTL2832", "_", "E4000", ":", "<nl>"], "docstring_tokens": ["media", "rtl28xxu", "properly", "initialize", "pdata"]}
{"code_tokens": ["static", "int", "vfio", "_", "pci", "_", "mmap", "(", "void", "*", "device", "_", "data", ",", "struct", "vm", "_", "area", "_", "struct", "*", "vma", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "vdev", "-", ">", "barmap", "[", "index", "]", "=", "pci", "_", "iomap", "(", "pdev", ",", "index", ",", "0", ")", ";", "<nl>", "+", "if", "(", "!", "vdev", "-", ">", "barmap", "[", "index", "]", ")", "{", "<nl>", "+", "pci", "_", "release", "_", "selected", "_", "regions", "(", "pdev", ",", "1", "<", "<", "index", ")", ";", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "vma", "-", ">", "vm", "_", "private", "_", "data", "=", "vdev", ";", "<nl>"], "docstring_tokens": ["vfio", "pci", "Handle", "error", "from", "pci_iomap"]}
{"code_tokens": ["void", "qla4xxx", "_", "free", "_", "ddb", "_", "index", "(", "struct", "scsi", "_", "qla", "_", "host", "*", "ha", ")", "<nl>", "ret", "=", "qla4xxx", "_", "get", "_", "fwddb", "_", "entry", "(", "ha", ",", "idx", ",", "NULL", ",", "0", ",", "NULL", ",", "<nl>", "&", "next", "_", "idx", ",", "&", "state", ",", "&", "conn", "_", "err", ",", "<nl>", "NULL", ",", "NULL", ")", ";", "<nl>", "-", "if", "(", "ret", "=", "=", "QLA", "_", "ERROR", ")", "<nl>", "+", "if", "(", "ret", "=", "=", "QLA", "_", "ERROR", ")", "{", "<nl>", "+", "next", "_", "idx", "+", "+", ";", "<nl>", "continue", ";", "<nl>", "+", "}", "<nl>", "if", "(", "state", "=", "=", "DDB", "_", "DS", "_", "NO", "_", "CONNECTION", "_", "ACTIVE", "|", "|", "<nl>", "state", "=", "=", "DDB", "_", "DS", "_", "SESSION", "_", "FAILED", ")", "{", "<nl>", "DEBUG2", "(", "ql4", "_", "printk", "(", "KERN", "_", "INFO", ",", "ha", ",", "<nl>"], "docstring_tokens": ["SCSI", "qla4xxx", "a", "small", "loop", "fix"]}
{"code_tokens": ["static", "int", "basic", "_", "dump", "(", "struct", "tcf", "_", "proto", "*", "tp", ",", "unsigned", "long", "fh", ",", "<nl>", "rta", "=", "(", "struct", "rtattr", "*", ")", "b", ";", "<nl>", "RTA", "_", "PUT", "(", "skb", ",", "TCA", "_", "OPTIONS", ",", "0", ",", "NULL", ")", ";", "<nl>", "<nl>", "+", "if", "(", "f", "-", ">", "res", ".", "classid", ")", "<nl>", "+", "RTA", "_", "PUT", "(", "skb", ",", "TCA", "_", "BASIC", "_", "CLASSID", ",", "sizeof", "(", "u32", ")", ",", "&", "f", "-", ">", "res", ".", "classid", ")", ";", "<nl>", "+", "<nl>", "if", "(", "tcf", "_", "exts", "_", "dump", "(", "skb", ",", "&", "f", "-", ">", "exts", ",", "&", "basic", "_", "ext", "_", "map", ")", "<", "0", "|", "|", "<nl>", "tcf", "_", "em", "_", "tree", "_", "dump", "(", "skb", ",", "&", "f", "-", ">", "ematches", ",", "TCA", "_", "BASIC", "_", "EMATCHES", ")", "<", "0", ")", "<nl>", "goto", "rtattr", "_", "failure", ";", "<nl>"], "docstring_tokens": ["PKT_SCHED", "Dump", "classification", "result", "for", "basic", "classifier"]}
{"code_tokens": ["static", "bool", "radeon", "_", "atom", "_", "apply", "_", "quirks", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "if", "(", "(", "supported", "_", "device", "=", "=", "ATOM", "_", "DEVICE", "_", "CRT1", "_", "SUPPORT", ")", "|", "|", "<nl>", "(", "supported", "_", "device", "=", "=", "ATOM", "_", "DEVICE", "_", "DFP2", "_", "SUPPORT", ")", ")", "<nl>", "return", "false", ";", "<nl>", "+", "if", "(", "supported", "_", "device", "=", "=", "ATOM", "_", "DEVICE", "_", "CRT2", "_", "SUPPORT", ")", "<nl>", "+", "*", "line", "_", "mux", "=", "0x90", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "ASUS", "HD", "3600", "XT", "board", "lists", "the", "DVI", "port", "as", "HDMI", "*", "/", "<nl>"], "docstring_tokens": ["drm", "radeon", "kms", "fix", "macbookpro", "connector", "quirk"]}
{"code_tokens": ["static", "inline", "void", "_", "_", "qeth", "_", "fill", "_", "buffer", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "struct", "qdio", "_", "buffer", "*", "buffer", ",", "int", "is", "_", "tso", ",", "int", "*", "next", "_", "element", "_", "to", "_", "fill", ",", "<nl>", "int", "offset", ")", "<nl>", "{", "<nl>", "-", "int", "length", "=", "skb", "-", ">", "len", "-", "offset", ";", "<nl>", "+", "int", "length", "=", "skb", "-", ">", "len", ";", "<nl>", "int", "length", "_", "here", ";", "<nl>", "int", "element", ";", "<nl>", "char", "*", "data", ";", "<nl>", "static", "inline", "void", "_", "_", "qeth", "_", "fill", "_", "buffer", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "if", "(", "offset", ">", "=", "0", ")", "{", "<nl>", "data", "=", "skb", "-", ">", "data", "+", "offset", ";", "<nl>", "+", "length", "-", "=", "offset", ";", "<nl>", "first", "_", "lap", "=", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["qeth", "fix", "offset", "error", "in", "non", "prealloc", "header", "path"]}
{"code_tokens": ["static", "int", "internal", "_", "dev", "_", "recv", "(", "struct", "vport", "*", "vport", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "struct", "net", "_", "device", "*", "netdev", "=", "netdev", "_", "vport", "_", "priv", "(", "vport", ")", "-", ">", "dev", ";", "<nl>", "int", "len", ";", "<nl>", "<nl>", "+", "if", "(", "unlikely", "(", "!", "(", "netdev", "-", ">", "flags", "&", "IFF", "_", "UP", ")", ")", ")", "{", "<nl>", "+", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "len", "=", "skb", "-", ">", "len", ";", "<nl>", "<nl>", "skb", "_", "dst", "_", "drop", "(", "skb", ")", ";", "<nl>"], "docstring_tokens": ["openvswitch", "Drop", "packets", "when", "interdev", "is", "not", "up"]}
{"code_tokens": ["int", "ath10k", "_", "wmi", "_", "beacon", "_", "send", "_", "nowait", "(", "struct", "ath10k", "*", "ar", ",", "<nl>", "{", "<nl>", "struct", "wmi", "_", "bcn", "_", "tx", "_", "cmd", "*", "cmd", ";", "<nl>", "struct", "sk", "_", "buff", "*", "skb", ";", "<nl>", "+", "int", "ret", ";", "<nl>", "<nl>", "skb", "=", "ath10k", "_", "wmi", "_", "alloc", "_", "skb", "(", "sizeof", "(", "*", "cmd", ")", "+", "arg", "-", ">", "bcn", "_", "len", ")", ";", "<nl>", "if", "(", "!", "skb", ")", "<nl>", "int", "ath10k", "_", "wmi", "_", "beacon", "_", "send", "_", "nowait", "(", "struct", "ath10k", "*", "ar", ",", "<nl>", "cmd", "-", ">", "hdr", ".", "bcn", "_", "len", "=", "_", "_", "cpu", "_", "to", "_", "le32", "(", "arg", "-", ">", "bcn", "_", "len", ")", ";", "<nl>", "memcpy", "(", "cmd", "-", ">", "bcn", ",", "arg", "-", ">", "bcn", ",", "arg", "-", ">", "bcn", "_", "len", ")", ";", "<nl>", "<nl>", "-", "return", "ath10k", "_", "wmi", "_", "cmd", "_", "send", "_", "nowait", "(", "ar", ",", "skb", ",", "ar", "-", ">", "wmi", ".", "cmd", "-", ">", "bcn", "_", "tx", "_", "cmdid", ")", ";", "<nl>", "+", "ret", "=", "ath10k", "_", "wmi", "_", "cmd", "_", "send", "_", "nowait", "(", "ar", ",", "skb", ",", "ar", "-", ">", "wmi", ".", "cmd", "-", ">", "bcn", "_", "tx", "_", "cmdid", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "dev", "_", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "+", "<nl>", "+", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "ath10k", "_", "wmi", "_", "pdev", "_", "set", "_", "wmm", "_", "param", "(", "struct", "wmi", "_", "wmm", "_", "params", "*", "params", ",", "<nl>"], "docstring_tokens": ["ath10k", "plug", "memory", "leak", "on", "beacon", "tx"]}
{"code_tokens": ["static", "int", "do", "_", "sched", "_", "rt", "_", "period", "_", "timer", "(", "struct", "rt", "_", "bandwidth", "*", "rt", "_", "b", ",", "int", "overrun", ")", "<nl>", "const", "struct", "cpumask", "*", "span", ";", "<nl>", "<nl>", "span", "=", "sched", "_", "rt", "_", "period", "_", "mask", "(", ")", ";", "<nl>", "+", "#", "ifdef", "CONFIG", "_", "RT", "_", "GROUP", "_", "SCHED", "<nl>", "+", "/", "*", "<nl>", "+", "*", "FIXME", ":", "isolated", "CPUs", "should", "really", "leave", "the", "root", "task", "group", ",", "<nl>", "+", "*", "whether", "they", "are", "isolcpus", "or", "were", "isolated", "via", "cpusets", ",", "lest", "<nl>", "+", "*", "the", "timer", "run", "on", "a", "CPU", "which", "does", "not", "service", "all", "runqueues", ",", "<nl>", "+", "*", "potentially", "leaving", "other", "CPUs", "indefinitely", "throttled", ".", "If", "<nl>", "+", "*", "isolation", "is", "really", "required", ",", "the", "user", "will", "turn", "the", "throttle", "<nl>", "+", "*", "off", "to", "kill", "the", "perturbations", "it", "causes", "anyway", ".", "Meanwhile", ",", "<nl>", "+", "*", "this", "maintains", "functionality", "for", "boot", "and", "/", "or", "troubleshooting", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "rt", "_", "b", "=", "=", "&", "root", "_", "task", "_", "group", ".", "rt", "_", "bandwidth", ")", "<nl>", "+", "span", "=", "cpu", "_", "online", "_", "mask", ";", "<nl>", "+", "#", "endif", "<nl>", "for", "_", "each", "_", "cpu", "(", "i", ",", "span", ")", "{", "<nl>", "int", "enqueue", "=", "0", ";", "<nl>", "struct", "rt", "_", "rq", "*", "rt", "_", "rq", "=", "sched", "_", "rt", "_", "period", "_", "rt", "_", "rq", "(", "rt", "_", "b", ",", "i", ")", ";", "<nl>"], "docstring_tokens": ["sched", "rt", "fix", "isolated", "CPUs", "leaving", "root_task_group", "indefinitely", "throttled"]}
{"code_tokens": ["static", "struct", "urb", "*", "usbtv", "_", "setup", "_", "iso", "_", "transfer", "(", "struct", "usbtv", "*", "usbtv", ")", "<nl>", "ip", "-", ">", "transfer", "_", "flags", "=", "URB", "_", "ISO", "_", "ASAP", ";", "<nl>", "ip", "-", ">", "transfer", "_", "buffer", "=", "kzalloc", "(", "size", "*", "USBTV", "_", "ISOC", "_", "PACKETS", ",", "<nl>", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "ip", "-", ">", "transfer", "_", "buffer", ")", "{", "<nl>", "+", "usb", "_", "free", "_", "urb", "(", "ip", ")", ";", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "ip", "-", ">", "complete", "=", "usbtv", "_", "iso", "_", "cb", ";", "<nl>", "ip", "-", ">", "number", "_", "of", "_", "packets", "=", "USBTV", "_", "ISOC", "_", "PACKETS", ";", "<nl>", "ip", "-", ">", "transfer", "_", "buffer", "_", "length", "=", "size", "*", "USBTV", "_", "ISOC", "_", "PACKETS", ";", "<nl>"], "docstring_tokens": ["media", "usbtv", "correctly", "handling", "failed", "allocation"]}
{"code_tokens": ["static", "int", "udf", "_", "pc", "_", "to", "_", "char", "(", "struct", "super", "_", "block", "*", "sb", ",", "unsigned", "char", "*", "from", ",", "<nl>", "tolen", "-", "-", ";", "<nl>", "while", "(", "elen", "<", "fromlen", ")", "{", "<nl>", "pc", "=", "(", "struct", "pathComponent", "*", ")", "(", "from", "+", "elen", ")", ";", "<nl>", "+", "elen", "+", "=", "sizeof", "(", "struct", "pathComponent", ")", ";", "<nl>", "switch", "(", "pc", "-", ">", "componentType", ")", "{", "<nl>", "case", "1", ":", "<nl>", "/", "*", "<nl>", "*", "Symlink", "points", "to", "some", "place", "which", "should", "be", "agreed", "<nl>", "*", "upon", "between", "originator", "and", "receiver", "of", "the", "media", ".", "Ignore", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "pc", "-", ">", "lengthComponentIdent", ">", "0", ")", "<nl>", "+", "if", "(", "pc", "-", ">", "lengthComponentIdent", ">", "0", ")", "{", "<nl>", "+", "elen", "+", "=", "pc", "-", ">", "lengthComponentIdent", ";", "<nl>", "break", ";", "<nl>", "+", "}", "<nl>", "/", "*", "Fall", "through", "*", "/", "<nl>", "case", "2", ":", "<nl>", "if", "(", "tolen", "=", "=", "0", ")", "<nl>", "static", "int", "udf", "_", "pc", "_", "to", "_", "char", "(", "struct", "super", "_", "block", "*", "sb", ",", "unsigned", "char", "*", "from", ",", "<nl>", "/", "*", "that", "would", "be", ".", "-", "just", "ignore", "*", "/", "<nl>", "break", ";", "<nl>", "case", "5", ":", "<nl>", "+", "elen", "+", "=", "pc", "-", ">", "lengthComponentIdent", ";", "<nl>", "+", "if", "(", "elen", ">", "fromlen", ")", "<nl>", "+", "return", "-", "EIO", ";", "<nl>", "comp", "_", "len", "=", "udf", "_", "get", "_", "filename", "(", "sb", ",", "pc", "-", ">", "componentIdent", ",", "<nl>", "pc", "-", ">", "lengthComponentIdent", ",", "<nl>", "p", ",", "tolen", ")", ";", "<nl>", "static", "int", "udf", "_", "pc", "_", "to", "_", "char", "(", "struct", "super", "_", "block", "*", "sb", ",", "unsigned", "char", "*", "from", ",", "<nl>", "tolen", "-", "-", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "-", "elen", "+", "=", "sizeof", "(", "struct", "pathComponent", ")", "+", "pc", "-", ">", "lengthComponentIdent", ";", "<nl>", "}", "<nl>", "if", "(", "p", ">", "to", "+", "1", ")", "<nl>", "p", "[", "-", "1", "]", "=", "'", "\\", "0", "'", ";", "<nl>"], "docstring_tokens": ["udf", "Check", "component", "length", "before", "reading", "it"]}
{"code_tokens": ["void", "_", "_", "init", "paging", "_", "init", "(", "void", ")", "<nl>", "<nl>", "mem", "_", "map", "=", "NODE", "_", "DATA", "(", "0", ")", "-", ">", "node", "_", "mem", "_", "map", ";", "<nl>", "<nl>", "-", "memset", "(", "zero", "_", "page", ",", "0", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "empty", "_", "zero", "_", "page", "=", "virt", "_", "to", "_", "page", "(", "zero", "_", "page", ")", ";", "<nl>", "flush", "_", "dcache", "_", "page", "(", "empty", "_", "zero", "_", "page", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["arch", "avr32", "Eliminate", "NULL", "test", "and", "memset", "after", "alloc_bootmem"]}
{"code_tokens": ["struct", "ib", "_", "cq", "*", "c4iw", "_", "create", "_", "cq", "(", "struct", "ib", "_", "device", "*", "ibdev", ",", "int", "entries", ",", "<nl>", "if", "(", "!", "mm2", ")", "<nl>", "goto", "err4", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "uresp", ",", "0", ",", "sizeof", "(", "uresp", ")", ")", ";", "<nl>", "uresp", ".", "qid", "_", "mask", "=", "rhp", "-", ">", "rdev", ".", "cqmask", ";", "<nl>", "uresp", ".", "cqid", "=", "chp", "-", ">", "cq", ".", "cqid", ";", "<nl>", "uresp", ".", "size", "=", "chp", "-", ">", "cq", ".", "size", ";", "<nl>"], "docstring_tokens": ["RDMA", "cxgb4", "Fix", "four", "byte", "info", "leak", "in", "c4iw_create_cq"]}
{"code_tokens": ["int", "iwl", "_", "pcie", "_", "rx", "_", "init", "(", "struct", "iwl", "_", "trans", "*", "trans", ")", "<nl>", "else", "<nl>", "list", "_", "add", "(", "&", "rxb", "-", ">", "list", ",", "&", "def", "_", "rxq", "-", ">", "rx", "_", "used", ")", ";", "<nl>", "trans", "_", "pcie", "-", ">", "global", "_", "table", "[", "i", "]", "=", "rxb", ";", "<nl>", "-", "rxb", "-", ">", "vid", "=", "(", "u16", ")", "i", ";", "<nl>", "+", "rxb", "-", ">", "vid", "=", "(", "u16", ")", "(", "i", "+", "1", ")", ";", "<nl>", "}", "<nl>", "<nl>", "iwl", "_", "pcie", "_", "rxq", "_", "alloc", "_", "rbs", "(", "trans", ",", "GFP", "_", "KERNEL", ",", "def", "_", "rxq", ")", ";", "<nl>", "static", "void", "iwl", "_", "pcie", "_", "rx", "_", "handle", "(", "struct", "iwl", "_", "trans", "*", "trans", ",", "int", "queue", ")", "<nl>", "*", "/", "<nl>", "u16", "vid", "=", "le32", "_", "to", "_", "cpu", "(", "rxq", "-", ">", "used", "_", "bd", "[", "i", "]", ")", "&", "0x0FFF", ";", "<nl>", "<nl>", "-", "if", "(", "WARN", "(", "vid", ">", "=", "ARRAY", "_", "SIZE", "(", "trans", "_", "pcie", "-", ">", "global", "_", "table", ")", ",", "<nl>", "-", "\"", "Invalid", "rxb", "index", "from", "HW", "%", "u", "\\", "n", "\"", ",", "(", "u32", ")", "vid", ")", ")", "<nl>", "+", "if", "(", "WARN", "(", "!", "vid", "|", "|", "<nl>", "+", "vid", ">", "ARRAY", "_", "SIZE", "(", "trans", "_", "pcie", "-", ">", "global", "_", "table", ")", ",", "<nl>", "+", "\"", "Invalid", "rxb", "index", "from", "HW", "%", "u", "\\", "n", "\"", ",", "(", "u32", ")", "vid", ")", ")", "{", "<nl>", "+", "iwl", "_", "force", "_", "nmi", "(", "trans", ")", ";", "<nl>", "goto", "out", ";", "<nl>", "-", "rxb", "=", "trans", "_", "pcie", "-", ">", "global", "_", "table", "[", "vid", "]", ";", "<nl>", "+", "}", "<nl>", "+", "rxb", "=", "trans", "_", "pcie", "-", ">", "global", "_", "table", "[", "vid", "-", "1", "]", ";", "<nl>", "}", "else", "{", "<nl>", "rxb", "=", "rxq", "-", ">", "queue", "[", "i", "]", ";", "<nl>", "rxq", "-", ">", "queue", "[", "i", "]", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["iwlwifi", "pcie", "don", "t", "use", "vid", "0"]}
{"code_tokens": ["static", "int", "r600", "_", "cs", "_", "packet", "_", "next", "_", "reloc", "_", "nomm", "(", "struct", "radeon", "_", "cs", "_", "parser", "*", "p", ",", "<nl>", "idx", ",", "relocs", "_", "chunk", "-", ">", "length", "_", "dw", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "-", "*", "cs", "_", "reloc", "=", "&", "p", "-", ">", "relocs", "[", "0", "]", ";", "<nl>", "+", "*", "cs", "_", "reloc", "=", "p", "-", ">", "relocs", ";", "<nl>", "(", "*", "cs", "_", "reloc", ")", "-", ">", "lobj", ".", "gpu", "_", "offset", "=", "(", "u64", ")", "relocs", "_", "chunk", "-", ">", "kdata", "[", "idx", "+", "3", "]", "<", "<", "32", ";", "<nl>", "(", "*", "cs", "_", "reloc", ")", "-", ">", "lobj", ".", "gpu", "_", "offset", "|", "=", "relocs", "_", "chunk", "-", ">", "kdata", "[", "idx", "+", "0", "]", ";", "<nl>", "return", "0", ";", "<nl>", "static", "int", "r600", "_", "cs", "_", "parser", "_", "relocs", "_", "legacy", "(", "struct", "radeon", "_", "cs", "_", "parser", "*", "p", ")", "<nl>", "if", "(", "p", "-", ">", "chunk", "_", "relocs", "_", "idx", "=", "=", "-", "1", ")", "{", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "-", "p", "-", ">", "relocs", "=", "kcalloc", "(", "1", ",", "sizeof", "(", "struct", "radeon", "_", "cs", "_", "reloc", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "p", "-", ">", "relocs", "=", "kzalloc", "(", "sizeof", "(", "struct", "radeon", "_", "cs", "_", "reloc", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "p", "-", ">", "relocs", "=", "=", "NULL", ")", "{", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drivers", "gpu", "Use", "kzalloc", "for", "allocating", "only", "one", "thing"]}
{"code_tokens": ["struct", "ieee80211", "_", "hw", "*", "ieee80211", "_", "alloc", "_", "hw", "(", "size", "_", "t", "priv", "_", "data", "_", "len", ",", "<nl>", "if", "(", "WARN", "_", "ON", "(", "ops", "-", ">", "sta", "_", "state", "&", "&", "(", "ops", "-", ">", "sta", "_", "add", "|", "|", "ops", "-", ">", "sta", "_", "remove", ")", ")", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "+", "/", "*", "check", "all", "or", "no", "channel", "context", "operations", "exist", "*", "/", "<nl>", "+", "i", "=", "!", "!", "ops", "-", ">", "add", "_", "chanctx", "+", "!", "!", "ops", "-", ">", "remove", "_", "chanctx", "+", "<nl>", "+", "!", "!", "ops", "-", ">", "change", "_", "chanctx", "+", "!", "!", "ops", "-", ">", "assign", "_", "vif", "_", "chanctx", "+", "<nl>", "+", "!", "!", "ops", "-", ">", "unassign", "_", "vif", "_", "chanctx", ";", "<nl>", "+", "if", "(", "WARN", "_", "ON", "(", "i", "!", "=", "0", "&", "&", "i", "!", "=", "5", ")", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "/", "*", "Ensure", "32", "-", "byte", "alignment", "of", "our", "private", "data", "and", "hw", "private", "data", ".", "<nl>", "*", "We", "use", "the", "wiphy", "priv", "data", "for", "both", "our", "ieee80211", "_", "local", "and", "for", "<nl>", "*", "the", "driver", "'", "s", "private", "data", "<nl>"], "docstring_tokens": ["mac80211", "check", "channel", "context", "methods"]}
{"code_tokens": ["static", "int", "macvlan", "_", "set", "_", "mac", "_", "address", "(", "struct", "net", "_", "device", "*", "dev", ",", "void", "*", "p", ")", "<nl>", "if", "(", "!", "is", "_", "valid", "_", "ether", "_", "addr", "(", "addr", "-", ">", "sa", "_", "data", ")", ")", "<nl>", "return", "-", "EADDRNOTAVAIL", ";", "<nl>", "<nl>", "+", "/", "*", "If", "the", "addresses", "are", "the", "same", ",", "this", "is", "a", "no", "-", "op", "*", "/", "<nl>", "+", "if", "(", "ether", "_", "addr", "_", "equal", "(", "dev", "-", ">", "dev", "_", "addr", ",", "addr", "-", ">", "sa", "_", "data", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "if", "(", "vlan", "-", ">", "mode", "=", "=", "MACVLAN", "_", "MODE", "_", "PASSTHRU", ")", "{", "<nl>", "dev", "_", "set", "_", "mac", "_", "address", "(", "vlan", "-", ">", "lowerdev", ",", "addr", ")", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["macvlan", "Do", "not", "return", "error", "when", "setting", "the", "same", "mac", "address"]}
{"code_tokens": ["static", "int", "btrfs", "_", "add", "_", "log", "_", "tree", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "*", "/", "<nl>", "new", "_", "root", "-", ">", "ref", "_", "cows", "=", "0", ";", "<nl>", "new", "_", "root", "-", ">", "last", "_", "trans", "=", "trans", "-", ">", "transid", ";", "<nl>", "+", "<nl>", "+", "/", "*", "<nl>", "+", "*", "we", "need", "to", "make", "sure", "the", "root", "block", "for", "this", "new", "tree", "<nl>", "+", "*", "is", "marked", "as", "dirty", "in", "the", "dirty", "_", "log", "_", "pages", "tree", ".", "This", "<nl>", "+", "*", "is", "how", "it", "gets", "flushed", "down", "to", "disk", "at", "tree", "log", "commit", "time", ".", "<nl>", "+", "*", "<nl>", "+", "*", "the", "tree", "logging", "mutex", "keeps", "others", "from", "coming", "in", "and", "changing", "<nl>", "+", "*", "the", "new", "_", "root", "-", ">", "node", ",", "so", "we", "can", "safely", "access", "it", "here", "<nl>", "+", "*", "/", "<nl>", "+", "set", "_", "extent", "_", "dirty", "(", "&", "new", "_", "root", "-", ">", "dirty", "_", "log", "_", "pages", ",", "new", "_", "root", "-", ">", "node", "-", ">", "start", ",", "<nl>", "+", "new", "_", "root", "-", ">", "node", "-", ">", "start", "+", "new", "_", "root", "-", ">", "node", "-", ">", "len", "-", "1", ",", "<nl>", "+", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "<nl>", "fail", ":", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Btrfs", "explicitly", "mark", "the", "tree", "log", "root", "for", "writeback"]}
{"code_tokens": ["static", "int", "acpi", "_", "video", "_", "bus", "_", "put", "_", "one", "_", "device", "(", "struct", "acpi", "_", "video", "_", "device", "*", "device", ")", "<nl>", "status", "=", "acpi", "_", "remove", "_", "notify", "_", "handler", "(", "device", "-", ">", "dev", "-", ">", "handle", ",", "<nl>", "ACPI", "_", "DEVICE", "_", "NOTIFY", ",", "<nl>", "acpi", "_", "video", "_", "device", "_", "notify", ")", ";", "<nl>", "-", "sysfs", "_", "remove", "_", "link", "(", "&", "device", "-", ">", "backlight", "-", ">", "dev", ".", "kobj", ",", "\"", "device", "\"", ")", ";", "<nl>", "-", "backlight", "_", "device", "_", "unregister", "(", "device", "-", ">", "backlight", ")", ";", "<nl>", "+", "if", "(", "device", "-", ">", "backlight", ")", "{", "<nl>", "+", "sysfs", "_", "remove", "_", "link", "(", "&", "device", "-", ">", "backlight", "-", ">", "dev", ".", "kobj", ",", "\"", "device", "\"", ")", ";", "<nl>", "+", "backlight", "_", "device", "_", "unregister", "(", "device", "-", ">", "backlight", ")", ";", "<nl>", "+", "device", "-", ">", "backlight", "=", "NULL", ";", "<nl>", "+", "}", "<nl>", "if", "(", "device", "-", ">", "cdev", ")", "{", "<nl>", "sysfs", "_", "remove", "_", "link", "(", "&", "device", "-", ">", "dev", "-", ">", "dev", ".", "kobj", ",", "<nl>", "\"", "thermal", "_", "cooling", "\"", ")", ";", "<nl>"], "docstring_tokens": ["ACPI", "don", "t", "free", "non", "existent", "backlight", "in", "acpi", "video", "module"]}
{"code_tokens": ["static", "int", "set", "_", "supply", "(", "struct", "regulator", "_", "dev", "*", "rdev", ",", "<nl>", "<nl>", "rdev", "_", "info", "(", "rdev", ",", "\"", "supplied", "by", "%", "s", "\\", "n", "\"", ",", "rdev", "_", "get", "_", "name", "(", "supply", "_", "rdev", ")", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "try", "_", "module", "_", "get", "(", "supply", "_", "rdev", "-", ">", "owner", ")", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "<nl>", "rdev", "-", ">", "supply", "=", "create", "_", "regulator", "(", "supply", "_", "rdev", ",", "&", "rdev", "-", ">", "dev", ",", "\"", "SUPPLY", "\"", ")", ";", "<nl>", "if", "(", "rdev", "-", ">", "supply", "=", "=", "NULL", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["regulator", "core", "Increase", "refcount", "for", "regulator", "supply", "s", "module"]}
{"code_tokens": ["static", "int", "usbvision", "_", "v4l2", "_", "close", "(", "struct", "file", "*", "file", ")", "<nl>", "usbvision", "_", "scratch", "_", "free", "(", "usbvision", ")", ";", "<nl>", "<nl>", "usbvision", "-", ">", "user", "-", "-", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "usbvision", "-", ">", "v4l2", "_", "lock", ")", ";", "<nl>", "<nl>", "if", "(", "usbvision", "-", ">", "remove", "_", "pending", ")", "{", "<nl>", "printk", "(", "KERN", "_", "INFO", "\"", "%", "s", ":", "Final", "disconnect", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "usbvision", "_", "release", "(", "usbvision", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "-", "mutex", "_", "unlock", "(", "&", "usbvision", "-", ">", "v4l2", "_", "lock", ")", ";", "<nl>", "<nl>", "PDEBUG", "(", "DBG", "_", "IO", ",", "\"", "success", "\"", ")", ";", "<nl>", "return", "v4l2", "_", "fh", "_", "release", "(", "file", ")", ";", "<nl>"], "docstring_tokens": ["media", "usbvision", "fix", "locking", "error"]}
{"code_tokens": ["int", "hci", "_", "req", "_", "sync", "(", "struct", "hci", "_", "dev", "*", "hdev", ",", "int", "(", "*", "req", ")", "(", "struct", "hci", "_", "request", "*", "req", ",", "<nl>", "{", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "-", "if", "(", "!", "test", "_", "bit", "(", "HCI", "_", "UP", ",", "&", "hdev", "-", ">", "flags", ")", ")", "<nl>", "-", "return", "-", "ENETDOWN", ";", "<nl>", "-", "<nl>", "/", "*", "Serialize", "all", "requests", "*", "/", "<nl>", "hci", "_", "req", "_", "sync", "_", "lock", "(", "hdev", ")", ";", "<nl>", "-", "ret", "=", "_", "_", "hci", "_", "req", "_", "sync", "(", "hdev", ",", "req", ",", "opt", ",", "timeout", ",", "hci", "_", "status", ")", ";", "<nl>", "+", "/", "*", "check", "the", "state", "after", "obtaing", "the", "lock", "to", "protect", "the", "HCI", "_", "UP", "<nl>", "+", "*", "against", "any", "races", "from", "hci", "_", "dev", "_", "do", "_", "close", "when", "the", "controller", "<nl>", "+", "*", "gets", "removed", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "test", "_", "bit", "(", "HCI", "_", "UP", ",", "&", "hdev", "-", ">", "flags", ")", ")", "<nl>", "+", "ret", "=", "_", "_", "hci", "_", "req", "_", "sync", "(", "hdev", ",", "req", ",", "opt", ",", "timeout", ",", "hci", "_", "status", ")", ";", "<nl>", "+", "else", "<nl>", "+", "ret", "=", "-", "ENETDOWN", ";", "<nl>", "hci", "_", "req", "_", "sync", "_", "unlock", "(", "hdev", ")", ";", "<nl>", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["bluetooth", "eliminate", "the", "potential", "race", "condition", "when", "removing", "the", "HCI", "controller"]}
{"code_tokens": ["static", "int", "video", "_", "open", "(", "struct", "file", "*", "file", ")", "<nl>", "<nl>", "if", "(", "NULL", "=", "=", "dev", ")", "{", "<nl>", "mutex", "_", "unlock", "(", "&", "cx25821", "_", "devlist", "_", "mutex", ")", ";", "<nl>", "+", "kfree", "(", "fh", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drivers", "staging", "cx25821", "cx25821", "video", "c", "introduce", "missing", "kfree"]}
{"code_tokens": ["int", "fb", "_", "find", "_", "mode", "(", "struct", "fb", "_", "var", "_", "screeninfo", "*", "var", ",", "<nl>", "\"", "\"", ",", "(", "margins", ")", "?", "\"", "with", "margins", "\"", ":", "\"", "\"", ",", "(", "interlace", ")", "?", "<nl>", "\"", "interlaced", "\"", ":", "\"", "\"", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "cvt", "_", "mode", ",", "0", ",", "sizeof", "(", "cvt", "_", "mode", ")", ")", ";", "<nl>", "cvt", "_", "mode", ".", "xres", "=", "xres", ";", "<nl>", "cvt", "_", "mode", ".", "yres", "=", "yres", ";", "<nl>", "cvt", "_", "mode", ".", "refresh", "=", "(", "refresh", ")", "?", "refresh", ":", "60", ";", "<nl>"], "docstring_tokens": ["modedb", "fix", "incorrect", "sync", "and", "vmode", "flags", "for", "CVT", "modes"]}
{"code_tokens": ["struct", "extent", "_", "map", "*", "btrfs", "_", "get", "_", "extent", "(", "struct", "inode", "*", "inode", ",", "struct", "page", "*", "page", ",", "<nl>", "goto", "not", "_", "found", ";", "<nl>", "if", "(", "start", "+", "len", "<", "=", "found", "_", "key", ".", "offset", ")", "<nl>", "goto", "not", "_", "found", ";", "<nl>", "+", "if", "(", "start", ">", "found", "_", "key", ".", "offset", ")", "<nl>", "+", "goto", "next", ";", "<nl>", "em", "-", ">", "start", "=", "start", ";", "<nl>", "em", "-", ">", "orig", "_", "start", "=", "start", ";", "<nl>", "em", "-", ">", "len", "=", "found", "_", "key", ".", "offset", "-", "start", ";", "<nl>"], "docstring_tokens": ["Btrfs", "fix", "wrong", "extent", "mapping", "for", "DirectIO"]}
{"code_tokens": ["struct", "super", "_", "block", "{", "<nl>", "*", "/", "<nl>", "struct", "list", "_", "lru", "s", "_", "dentry", "_", "lru", "_", "_", "_", "_", "cacheline", "_", "aligned", "_", "in", "_", "smp", ";", "<nl>", "struct", "list", "_", "lru", "s", "_", "inode", "_", "lru", "_", "_", "_", "_", "cacheline", "_", "aligned", "_", "in", "_", "smp", ";", "<nl>", "+", "struct", "rcu", "_", "head", "rcu", ";", "<nl>", "}", ";", "<nl>", "<nl>", "extern", "struct", "timespec", "current", "_", "fs", "_", "time", "(", "struct", "super", "_", "block", "*", "sb", ")", ";", "mmm", "fs", "/", "super", ".", "c", "<nl>", "struct", "super", "_", "block", "{", "<nl>", "*", "/", "<nl>", "struct", "list", "_", "lru", "s", "_", "dentry", "_", "lru", "_", "_", "_", "_", "cacheline", "_", "aligned", "_", "in", "_", "smp", ";", "<nl>", "struct", "list", "_", "lru", "s", "_", "inode", "_", "lru", "_", "_", "_", "_", "cacheline", "_", "aligned", "_", "in", "_", "smp", ";", "<nl>", "+", "struct", "rcu", "_", "head", "rcu", ";", "<nl>", "}", ";", "<nl>", "<nl>", "extern", "struct", "timespec", "current", "_", "fs", "_", "time", "(", "struct", "super", "_", "block", "*", "sb", ")", ";", "<nl>", "static", "void", "destroy", "_", "super", "(", "struct", "super", "_", "block", "*", "s", ")", "<nl>", "WARN", "_", "ON", "(", "!", "list", "_", "empty", "(", "&", "s", "-", ">", "s", "_", "mounts", ")", ")", ";", "<nl>", "kfree", "(", "s", "-", ">", "s", "_", "subtype", ")", ";", "<nl>", "kfree", "(", "s", "-", ">", "s", "_", "options", ")", ";", "<nl>", "-", "kfree", "(", "s", ")", ";", "<nl>", "+", "kfree", "_", "rcu", "(", "s", ",", "rcu", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["make", "freeing", "super_block", "rcu", "delayed"]}
{"code_tokens": ["static", "struct", "irq", "_", "domain", "_", "ops", "gpio", "_", "rcar", "_", "irq", "_", "domain", "_", "ops", "=", "{", "<nl>", "static", "void", "gpio", "_", "rcar", "_", "parse", "_", "pdata", "(", "struct", "gpio", "_", "rcar", "_", "priv", "*", "p", ")", "<nl>", "{", "<nl>", "struct", "gpio", "_", "rcar", "_", "config", "*", "pdata", "=", "p", "-", ">", "pdev", "-", ">", "dev", ".", "platform", "_", "data", ";", "<nl>", "-", "#", "ifdef", "CONFIG", "_", "OF", "<nl>", "struct", "device", "_", "node", "*", "np", "=", "p", "-", ">", "pdev", "-", ">", "dev", ".", "of", "_", "node", ";", "<nl>", "struct", "of", "_", "phandle", "_", "args", "args", ";", "<nl>", "int", "ret", ";", "<nl>", "-", "#", "endif", "<nl>", "<nl>", "-", "if", "(", "pdata", ")", "<nl>", "+", "if", "(", "pdata", ")", "{", "<nl>", "p", "-", ">", "config", "=", "*", "pdata", ";", "<nl>", "-", "#", "ifdef", "CONFIG", "_", "OF", "<nl>", "-", "else", "if", "(", "np", ")", "{", "<nl>", "+", "}", "else", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "OF", ")", "&", "&", "np", ")", "{", "<nl>", "ret", "=", "of", "_", "parse", "_", "phandle", "_", "with", "_", "args", "(", "np", ",", "\"", "gpio", "-", "ranges", "\"", ",", "<nl>", "\"", "#", "gpio", "-", "range", "-", "cells", "\"", ",", "0", ",", "&", "args", ")", ";", "<nl>", "p", "-", ">", "config", ".", "number", "_", "of", "_", "pins", "=", "ret", "=", "=", "0", "&", "&", "args", ".", "args", "_", "count", "=", "=", "3", "<nl>", "static", "void", "gpio", "_", "rcar", "_", "parse", "_", "pdata", "(", "struct", "gpio", "_", "rcar", "_", "priv", "*", "p", ")", "<nl>", ":", "RCAR", "_", "MAX", "_", "GPIO", "_", "PER", "_", "BANK", ";", "<nl>", "p", "-", ">", "config", ".", "gpio", "_", "base", "=", "-", "1", ";", "<nl>", "}", "<nl>", "-", "#", "endif", "<nl>", "<nl>", "if", "(", "p", "-", ">", "config", ".", "number", "_", "of", "_", "pins", "=", "=", "0", "|", "|", "<nl>", "p", "-", ">", "config", ".", "number", "_", "of", "_", "pins", ">", "RCAR", "_", "MAX", "_", "GPIO", "_", "PER", "_", "BANK", ")", "{", "<nl>"], "docstring_tokens": ["gpio", "rcar", "Remove", "ifdef", "CONFIG_OF", "around", "OF", "specific", "sections"]}
{"code_tokens": ["struct", "cx25821", "_", "fmt", "*", "cx25821", "_", "format", "_", "by", "_", "fourcc", "(", "unsigned", "int", "fourcc", ")", "<nl>", "{", "<nl>", "unsigned", "int", "i", ";", "<nl>", "<nl>", "-", "if", "(", "fourcc", "=", "=", "V4L2", "_", "PIX", "_", "FMT", "_", "Y41P", "|", "|", "fourcc", "=", "=", "V4L2", "_", "PIX", "_", "FMT", "_", "YUV411P", ")", "{", "<nl>", "+", "if", "(", "fourcc", "=", "=", "V4L2", "_", "PIX", "_", "FMT", "_", "Y41P", "|", "|", "fourcc", "=", "=", "V4L2", "_", "PIX", "_", "FMT", "_", "YUV411P", ")", "<nl>", "return", "formats", "+", "1", ";", "<nl>", "-", "}", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "ARRAY", "_", "SIZE", "(", "formats", ")", ";", "i", "+", "+", ")", "<nl>", "if", "(", "formats", "[", "i", "]", ".", "fourcc", "=", "=", "fourcc", ")", "<nl>", "void", "cx25821", "_", "video", "_", "wakeup", "(", "struct", "cx25821", "_", "dev", "*", "dev", ",", "struct", "cx25821", "_", "dmaqueue", "*", "q", ",", "<nl>", "/", "*", "count", "comes", "from", "the", "hw", "and", "it", "is", "16bit", "wide", "-", "-", "<nl>", "*", "this", "trick", "handles", "wrap", "-", "arounds", "correctly", "for", "<nl>", "*", "up", "to", "32767", "buffers", "in", "flight", ".", ".", ".", "*", "/", "<nl>", "-", "if", "(", "(", "s16", ")", "(", "count", "-", "buf", "-", ">", "count", ")", "<", "0", ")", "{", "<nl>", "+", "if", "(", "(", "s16", ")", "(", "count", "-", "buf", "-", ">", "count", ")", "<", "0", ")", "<nl>", "break", ";", "<nl>", "-", "}", "<nl>", "<nl>", "do", "_", "gettimeofday", "(", "&", "buf", "-", ">", "vb", ".", "ts", ")", ";", "<nl>", "buf", "-", ">", "vb", ".", "state", "=", "VIDEOBUF", "_", "DONE", ";", "<nl>"], "docstring_tokens": ["Staging", "cx25821", "Fix", "braces", "around", "statements", "in", "cx25821", "video", "c"]}
{"code_tokens": ["static", "void", "f2fs", "_", "submit", "_", "discard", "_", "endio", "(", "struct", "bio", "*", "bio", ")", "<nl>", "<nl>", "dc", "-", ">", "error", "=", "bio", "-", ">", "bi", "_", "error", ";", "<nl>", "dc", "-", ">", "state", "=", "D", "_", "DONE", ";", "<nl>", "-", "complete", "(", "&", "dc", "-", ">", "wait", ")", ";", "<nl>", "+", "complete", "_", "all", "(", "&", "dc", "-", ">", "wait", ")", ";", "<nl>", "bio", "_", "put", "(", "bio", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["f2fs", "wake", "up", "all", "waiters", "in", "f2fs_submit_discard_endio"]}
{"code_tokens": ["static", "bool", "new", "_", "idmap", "_", "permitted", "(", "const", "struct", "file", "*", "file", ",", "<nl>", "u32", "id", "=", "new", "_", "map", "-", ">", "extent", "[", "0", "]", ".", "lower", "_", "first", ";", "<nl>", "if", "(", "cap", "_", "setid", "=", "=", "CAP", "_", "SETUID", ")", "{", "<nl>", "kuid", "_", "t", "uid", "=", "make", "_", "kuid", "(", "ns", "-", ">", "parent", ",", "id", ")", ";", "<nl>", "-", "if", "(", "uid", "_", "eq", "(", "uid", ",", "current", "_", "fsuid", "(", ")", ")", ")", "<nl>", "+", "if", "(", "uid", "_", "eq", "(", "uid", ",", "file", "-", ">", "f", "_", "cred", "-", ">", "fsuid", ")", ")", "<nl>", "return", "true", ";", "<nl>", "}", "<nl>", "else", "if", "(", "cap", "_", "setid", "=", "=", "CAP", "_", "SETGID", ")", "{", "<nl>", "kgid", "_", "t", "gid", "=", "make", "_", "kgid", "(", "ns", "-", ">", "parent", ",", "id", ")", ";", "<nl>", "-", "if", "(", "gid", "_", "eq", "(", "gid", ",", "current", "_", "fsgid", "(", ")", ")", ")", "<nl>", "+", "if", "(", "gid", "_", "eq", "(", "gid", ",", "file", "-", ">", "f", "_", "cred", "-", ">", "fsgid", ")", ")", "<nl>", "return", "true", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["userns", "Check", "uid_map", "s", "opener", "s", "fsuid", "not", "the", "current", "fsuid"]}
{"code_tokens": ["static", "int", "tcf", "_", "act", "_", "police", "_", "dump", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "tc", "_", "action", "*", "a", ",", "<nl>", "struct", "tcf", "_", "police", "*", "police", "=", "to", "_", "police", "(", "a", ")", ";", "<nl>", "struct", "tc", "_", "police", "opt", "=", "{", "<nl>", ".", "index", "=", "police", "-", ">", "tcf", "_", "index", ",", "<nl>", "-", ".", "action", "=", "police", "-", ">", "tcf", "_", "action", ",", "<nl>", "-", ".", "mtu", "=", "police", "-", ">", "tcfp", "_", "mtu", ",", "<nl>", "-", ".", "burst", "=", "PSCHED", "_", "NS2TICKS", "(", "police", "-", ">", "tcfp", "_", "burst", ")", ",", "<nl>", ".", "refcnt", "=", "refcount", "_", "read", "(", "&", "police", "-", ">", "tcf", "_", "refcnt", ")", "-", "ref", ",", "<nl>", ".", "bindcnt", "=", "atomic", "_", "read", "(", "&", "police", "-", ">", "tcf", "_", "bindcnt", ")", "-", "bind", ",", "<nl>", "}", ";", "<nl>", "struct", "tcf", "_", "t", "t", ";", "<nl>", "<nl>", "+", "spin", "_", "lock", "_", "bh", "(", "&", "police", "-", ">", "tcf", "_", "lock", ")", ";", "<nl>", "+", "opt", ".", "action", "=", "police", "-", ">", "tcf", "_", "action", ";", "<nl>", "+", "opt", ".", "mtu", "=", "police", "-", ">", "tcfp", "_", "mtu", ";", "<nl>", "+", "opt", ".", "burst", "=", "PSCHED", "_", "NS2TICKS", "(", "police", "-", ">", "tcfp", "_", "burst", ")", ";", "<nl>", "if", "(", "police", "-", ">", "rate", "_", "present", ")", "<nl>", "psched", "_", "ratecfg", "_", "getrate", "(", "&", "opt", ".", "rate", ",", "&", "police", "-", ">", "rate", ")", ";", "<nl>", "if", "(", "police", "-", ">", "peak", "_", "present", ")", "<nl>", "static", "int", "tcf", "_", "act", "_", "police", "_", "dump", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "tc", "_", "action", "*", "a", ",", "<nl>", "t", ".", "expires", "=", "jiffies", "_", "to", "_", "clock", "_", "t", "(", "police", "-", ">", "tcf", "_", "tm", ".", "expires", ")", ";", "<nl>", "if", "(", "nla", "_", "put", "_", "64bit", "(", "skb", ",", "TCA", "_", "POLICE", "_", "TM", ",", "sizeof", "(", "t", ")", ",", "&", "t", ",", "TCA", "_", "POLICE", "_", "PAD", ")", ")", "<nl>", "goto", "nla", "_", "put", "_", "failure", ";", "<nl>", "+", "spin", "_", "unlock", "_", "bh", "(", "&", "police", "-", ">", "tcf", "_", "lock", ")", ";", "<nl>", "<nl>", "return", "skb", "-", ">", "len", ";", "<nl>", "<nl>", "nla", "_", "put", "_", "failure", ":", "<nl>", "+", "spin", "_", "unlock", "_", "bh", "(", "&", "police", "-", ">", "tcf", "_", "lock", ")", ";", "<nl>", "nlmsg", "_", "trim", "(", "skb", ",", "b", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "sched", "act_police", "remove", "dependency", "on", "rtnl", "lock"]}
{"code_tokens": ["int", "msp34xxg", "_", "thread", "(", "void", "*", "data", ")", "<nl>", "/", "*", "setup", "the", "chip", "*", "/", "<nl>", "msp34xxg", "_", "reset", "(", "client", ")", ";", "<nl>", "state", "-", ">", "std", "=", "state", "-", ">", "radio", "?", "0x40", ":", "msp", "_", "standard", ";", "<nl>", "-", "if", "(", "state", "-", ">", "std", "!", "=", "1", ")", "<nl>", "-", "goto", "unmute", ";", "<nl>", "/", "*", "start", "autodetect", "*", "/", "<nl>", "msp", "_", "write", "_", "dem", "(", "client", ",", "0x20", ",", "state", "-", ">", "std", ")", ";", "<nl>", "+", "if", "(", "state", "-", ">", "std", "!", "=", "1", ")", "<nl>", "+", "goto", "unmute", ";", "<nl>", "<nl>", "/", "*", "watch", "autodetect", "*", "/", "<nl>", "v4l", "_", "dbg", "(", "1", ",", "msp", "_", "debug", ",", "client", ",", "\"", "started", "autodetect", ",", "waiting", "for", "result", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "4418", "Fix", "broken", "msp3400", "module", "option", "standard"]}
{"code_tokens": ["static", "int", "acpi", "_", "video", "_", "device", "_", "enumerate", "(", "struct", "acpi", "_", "video", "_", "bus", "*", "video", ")", "<nl>", "union", "acpi", "_", "object", "*", "dod", "=", "NULL", ";", "<nl>", "union", "acpi", "_", "object", "*", "obj", ";", "<nl>", "<nl>", "+", "if", "(", "!", "video", "-", ">", "cap", ".", "_", "DOD", ")", "<nl>", "+", "return", "AE", "_", "NOT", "_", "EXIST", ";", "<nl>", "+", "<nl>", "status", "=", "acpi", "_", "evaluate", "_", "object", "(", "video", "-", ">", "device", "-", ">", "handle", ",", "\"", "_", "DOD", "\"", ",", "NULL", ",", "&", "buffer", ")", ";", "<nl>", "if", "(", "!", "ACPI", "_", "SUCCESS", "(", "status", ")", ")", "{", "<nl>", "ACPI", "_", "EXCEPTION", "(", "(", "AE", "_", "INFO", ",", "status", ",", "\"", "Evaluating", "_", "DOD", "\"", ")", ")", ";", "<nl>"], "docstring_tokens": ["ACPI", "video", "skip", "evaluating", "_DOD", "when", "it", "does", "not", "exist"]}
{"code_tokens": ["static", "int", "palmas", "_", "usb", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "status", "=", "devm", "_", "extcon", "_", "dev", "_", "register", "(", "&", "pdev", "-", ">", "dev", ",", "palmas", "_", "usb", "-", ">", "edev", ")", ";", "<nl>", "if", "(", "status", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "failed", "to", "register", "extcon", "device", "\\", "n", "\"", ")", ";", "<nl>", "-", "kfree", "(", "palmas", "_", "usb", "-", ">", "edev", "-", ">", "name", ")", ";", "<nl>", "return", "status", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "palmas", "_", "usb", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "status", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "can", "'", "t", "get", "IRQ", "%", "d", ",", "err", "%", "d", "\\", "n", "\"", ",", "<nl>", "palmas", "_", "usb", "-", ">", "id", "_", "irq", ",", "status", ")", ";", "<nl>", "-", "kfree", "(", "palmas", "_", "usb", "-", ">", "edev", "-", ">", "name", ")", ";", "<nl>", "return", "status", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "int", "palmas", "_", "usb", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "status", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "can", "'", "t", "get", "IRQ", "%", "d", ",", "err", "%", "d", "\\", "n", "\"", ",", "<nl>", "palmas", "_", "usb", "-", ">", "vbus", "_", "irq", ",", "status", ")", ";", "<nl>", "-", "kfree", "(", "palmas", "_", "usb", "-", ">", "edev", "-", ">", "name", ")", ";", "<nl>", "return", "status", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "int", "palmas", "_", "usb", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "int", "palmas", "_", "usb", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "-", "{", "<nl>", "-", "struct", "palmas", "_", "usb", "*", "palmas", "_", "usb", "=", "platform", "_", "get", "_", "drvdata", "(", "pdev", ")", ";", "<nl>", "-", "<nl>", "-", "kfree", "(", "palmas", "_", "usb", "-", ">", "edev", "-", ">", "name", ")", ";", "<nl>", "-", "<nl>", "-", "return", "0", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "#", "ifdef", "CONFIG", "_", "PM", "_", "SLEEP", "<nl>", "static", "int", "palmas", "_", "usb", "_", "suspend", "(", "struct", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "static", "const", "struct", "of", "_", "device", "_", "id", "of", "_", "palmas", "_", "match", "_", "tbl", "[", "]", "=", "{", "<nl>", "<nl>", "static", "struct", "platform", "_", "driver", "palmas", "_", "usb", "_", "driver", "=", "{", "<nl>", ".", "probe", "=", "palmas", "_", "usb", "_", "probe", ",", "<nl>", "-", ".", "remove", "=", "palmas", "_", "usb", "_", "remove", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "palmas", "-", "usb", "\"", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "of", "_", "palmas", "_", "match", "_", "tbl", ",", "<nl>"], "docstring_tokens": ["extcon", "palmas", "Fix", "NULL", "pointer", "error"]}
{"code_tokens": ["static", "int", "set", "_", "connectable", "(", "struct", "sock", "*", "sk", ",", "struct", "hci", "_", "dev", "*", "hdev", ",", "void", "*", "data", ",", "<nl>", "<nl>", "hci", "_", "req", "_", "add", "(", "&", "req", ",", "HCI", "_", "OP", "_", "WRITE", "_", "SCAN", "_", "ENABLE", ",", "1", ",", "&", "scan", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "cp", "-", ">", "val", "&", "&", "test", "_", "bit", "(", "HCI", "_", "FAST", "_", "CONNECTABLE", ",", "&", "hdev", "-", ">", "dev", "_", "flags", ")", ")", "<nl>", "+", "write", "_", "fast", "_", "connectable", "(", "&", "req", ",", "false", ")", ";", "<nl>", "+", "<nl>", "err", "=", "hci", "_", "req", "_", "run", "(", "&", "req", ",", "set", "_", "connectable", "_", "complete", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "mgmt", "_", "pending", "_", "remove", "(", "cmd", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "Disable", "fast", "connectable", "when", "disabling", "connectable"]}
{"code_tokens": ["static", "void", "tm6000", "_", "config", "_", "tuner", "(", "struct", "tm6000", "_", "core", "*", "dev", ")", "<nl>", "<nl>", "ctl", ".", "mts", "=", "1", ";", "<nl>", "ctl", ".", "read", "_", "not", "_", "reliable", "=", "1", ";", "<nl>", "+", "ctl", ".", "msleep", "=", "10", ";", "<nl>", "<nl>", "xc2028", "_", "cfg", ".", "tuner", "=", "TUNER", "_", "XC2028", ";", "<nl>", "xc2028", "_", "cfg", ".", "priv", "=", "&", "ctl", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "12826", "tm6000", "adds", "10ms", "delay", "between", "two", "consecutive", "i2c", "write", "ops"]}
{"code_tokens": ["int", "i915", "_", "gem", "_", "init", "(", "struct", "drm", "_", "device", "*", "dev", ")", "<nl>", "i915", "_", "gem", "_", "init", "_", "global", "_", "gtt", "(", "dev", ")", ";", "<nl>", "<nl>", "ret", "=", "i915", "_", "gem", "_", "context", "_", "init", "(", "dev", ")", ";", "<nl>", "-", "if", "(", "ret", ")", "<nl>", "+", "if", "(", "ret", ")", "{", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "struct", "_", "mutex", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "+", "}", "<nl>", "<nl>", "ret", "=", "i915", "_", "gem", "_", "init", "_", "hw", "(", "dev", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "struct", "_", "mutex", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "release", "mutex", "in", "i915_gem_init", "s", "error", "path"]}
{"code_tokens": ["static", "int", "ftrtc010", "_", "rtc", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "!", "rtc", "-", ">", "rtc", "_", "base", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "+", "rtc", "-", ">", "rtc", "_", "dev", "=", "devm", "_", "rtc", "_", "allocate", "_", "device", "(", "dev", ")", ";", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "rtc", "-", ">", "rtc", "_", "dev", ")", ")", "<nl>", "+", "return", "PTR", "_", "ERR", "(", "rtc", "-", ">", "rtc", "_", "dev", ")", ";", "<nl>", "+", "<nl>", "+", "rtc", "-", ">", "rtc", "_", "dev", "-", ">", "ops", "=", "&", "ftrtc010", "_", "rtc", "_", "ops", ";", "<nl>", "+", "<nl>", "ret", "=", "devm", "_", "request", "_", "irq", "(", "dev", ",", "rtc", "-", ">", "rtc", "_", "irq", ",", "ftrtc010", "_", "rtc", "_", "interrupt", ",", "<nl>", "IRQF", "_", "SHARED", ",", "pdev", "-", ">", "name", ",", "dev", ")", ";", "<nl>", "if", "(", "unlikely", "(", "ret", ")", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "-", "rtc", "-", ">", "rtc", "_", "dev", "=", "rtc", "_", "device", "_", "register", "(", "pdev", "-", ">", "name", ",", "dev", ",", "<nl>", "-", "&", "ftrtc010", "_", "rtc", "_", "ops", ",", "THIS", "_", "MODULE", ")", ";", "<nl>", "-", "return", "PTR", "_", "ERR", "_", "OR", "_", "ZERO", "(", "rtc", "-", ">", "rtc", "_", "dev", ")", ";", "<nl>", "+", "return", "rtc", "_", "register", "_", "device", "(", "rtc", "-", ">", "rtc", "_", "dev", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "ftrtc010", "_", "rtc", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "static", "int", "ftrtc010", "_", "rtc", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "clk", "_", "disable", "_", "unprepare", "(", "rtc", "-", ">", "extclk", ")", ";", "<nl>", "if", "(", "!", "IS", "_", "ERR", "(", "rtc", "-", ">", "pclk", ")", ")", "<nl>", "clk", "_", "disable", "_", "unprepare", "(", "rtc", "-", ">", "pclk", ")", ";", "<nl>", "-", "rtc", "_", "device", "_", "unregister", "(", "rtc", "-", ">", "rtc", "_", "dev", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["rtc", "ftrtc010", "switch", "to", "devm_rtc_allocate_device"]}
{"code_tokens": ["static", "int", "snd", "_", "byt", "_", "rt5651", "_", "mc", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "/", "*", "fixup", "codec", "name", "based", "on", "HID", "*", "/", "<nl>", "i2c", "_", "name", "=", "acpi", "_", "dev", "_", "get", "_", "first", "_", "match", "_", "name", "(", "mach", "-", ">", "id", ",", "NULL", ",", "-", "1", ")", ";", "<nl>", "-", "if", "(", "i2c", "_", "name", ")", "{", "<nl>", "-", "snprintf", "(", "byt", "_", "rt5651", "_", "codec", "_", "name", ",", "sizeof", "(", "byt", "_", "rt5651", "_", "codec", "_", "name", ")", ",", "<nl>", "-", "\"", "%", "s", "%", "s", "\"", ",", "\"", "i2c", "-", "\"", ",", "i2c", "_", "name", ")", ";", "<nl>", "-", "<nl>", "-", "byt", "_", "rt5651", "_", "dais", "[", "dai", "_", "index", "]", ".", "codec", "_", "name", "=", "byt", "_", "rt5651", "_", "codec", "_", "name", ";", "<nl>", "+", "if", "(", "!", "i2c", "_", "name", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Error", "cannot", "find", "'", "%", "s", "'", "dev", "\\", "n", "\"", ",", "mach", "-", ">", "id", ")", ";", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "}", "<nl>", "+", "snprintf", "(", "byt", "_", "rt5651", "_", "codec", "_", "name", ",", "sizeof", "(", "byt", "_", "rt5651", "_", "codec", "_", "name", ")", ",", "<nl>", "+", "\"", "%", "s", "%", "s", "\"", ",", "\"", "i2c", "-", "\"", ",", "i2c", "_", "name", ")", ";", "<nl>", "+", "byt", "_", "rt5651", "_", "dais", "[", "dai", "_", "index", "]", ".", "codec", "_", "name", "=", "byt", "_", "rt5651", "_", "codec", "_", "name", ";", "<nl>", "<nl>", "/", "*", "check", "quirks", "before", "creating", "card", "*", "/", "<nl>", "dmi", "_", "check", "_", "system", "(", "byt", "_", "rt5651", "_", "quirk", "_", "table", ")", ";", "<nl>"], "docstring_tokens": ["ASoC", "Intel", "bytcr_rt5651", "Not", "being", "able", "to", "find", "the", "codec", "ACPI", "dev", "is", "an", "error"]}
{"code_tokens": ["int", "wpa", "_", "ioctl", "(", "PSDevice", "pDevice", ",", "struct", "iw", "_", "point", "*", "p", ")", "<nl>", "default", ":", "<nl>", "DBG", "_", "PRT", "(", "MSG", "_", "LEVEL", "_", "DEBUG", ",", "KERN", "_", "INFO", "\"", "wpa", "_", "ioctl", ":", "unknown", "cmd", "=", "%", "d", "\\", "n", "\"", ",", "<nl>", "param", "-", ">", "cmd", ")", ";", "<nl>", "+", "kfree", "(", "param", ")", ";", "<nl>", "return", "-", "EOPNOTSUPP", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "vt6656", "wpactl", "c", "Fix", "mem", "leak", "in", "wpa_ioctl"]}
{"code_tokens": ["static", "acpi", "_", "status", "setup", "_", "res", "(", "struct", "acpi", "_", "resource", "*", "acpi", "_", "res", ",", "void", "*", "data", ")", "<nl>", "struct", "resource", "*", "res", "=", "data", ";", "<nl>", "struct", "resource", "_", "win", "win", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "We", "might", "assign", "this", "to", "'", "res", "'", "later", ",", "make", "sure", "all", "pointers", "are", "<nl>", "+", "*", "cleared", "before", "the", "resource", "is", "added", "to", "the", "global", "list", "<nl>", "+", "*", "/", "<nl>", "+", "memset", "(", "&", "win", ",", "0", ",", "sizeof", "(", "win", ")", ")", ";", "<nl>", "+", "<nl>", "res", "-", ">", "flags", "=", "0", ";", "<nl>", "if", "(", "acpi", "_", "dev", "_", "filter", "_", "resource", "_", "type", "(", "acpi", "_", "res", ",", "IORESOURCE", "_", "MEM", ")", ")", "<nl>", "return", "AE", "_", "OK", ";", "<nl>"], "docstring_tokens": ["ACPI", "ioapic", "Clear", "on", "stack", "resource", "before", "using", "it"]}
{"code_tokens": ["static", "int", "iwl", "_", "mvm", "_", "free", "_", "inactive", "_", "queue", "(", "struct", "iwl", "_", "mvm", "*", "mvm", ",", "int", "queue", ",", "<nl>", "spin", "_", "unlock", "_", "bh", "(", "&", "mvm", "-", ">", "queue", "_", "info", "_", "lock", ")", ";", "<nl>", "<nl>", "mvmsta", "=", "iwl", "_", "mvm", "_", "sta", "_", "from", "_", "staid", "_", "protected", "(", "mvm", ",", "sta", "_", "id", ")", ";", "<nl>", "+", "if", "(", "WARN", "_", "ON", "(", "!", "mvmsta", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "disable", "_", "agg", "_", "tids", "=", "iwl", "_", "mvm", "_", "remove", "_", "sta", "_", "queue", "_", "marking", "(", "mvm", ",", "queue", ")", ";", "<nl>", "/", "*", "Disable", "the", "queue", "*", "/", "<nl>"], "docstring_tokens": ["iwlwifi", "mvm", "check", "if", "returned", "value", "is", "NULL"]}
{"code_tokens": ["static", "int", "sctp", "_", "process", "_", "param", "(", "struct", "sctp", "_", "association", "*", "asoc", ",", "<nl>", "addr", "_", "param", "=", "param", ".", "v", "+", "sizeof", "(", "sctp", "_", "addip", "_", "param", "_", "t", ")", ";", "<nl>", "<nl>", "af", "=", "sctp", "_", "get", "_", "af", "_", "specific", "(", "param", "_", "type2af", "(", "param", ".", "p", "-", ">", "type", ")", ")", ";", "<nl>", "+", "if", "(", "af", "=", "=", "NULL", ")", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "af", "-", ">", "from", "_", "addr", "_", "param", "(", "&", "addr", ",", "addr", "_", "param", ",", "<nl>", "htons", "(", "asoc", "-", ">", "peer", ".", "port", ")", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["net", "sctp", "fix", "NULL", "pointer", "dereference", "in", "af", "from_addr_param", "on", "malformed", "packet"]}
{"code_tokens": ["static", "void", "malidp", "_", "de", "_", "set", "_", "plane", "_", "pitches", "(", "struct", "malidp", "_", "plane", "*", "mp", ",", "<nl>", "static", "void", "malidp", "_", "de", "_", "plane", "_", "update", "(", "struct", "drm", "_", "plane", "*", "plane", ",", "<nl>", "struct", "drm", "_", "plane", "_", "state", "*", "old", "_", "state", ")", "<nl>", "{", "<nl>", "-", "struct", "drm", "_", "gem", "_", "cma", "_", "object", "*", "obj", ";", "<nl>", "struct", "malidp", "_", "plane", "*", "mp", ";", "<nl>", "const", "struct", "malidp", "_", "hw", "_", "regmap", "*", "map", ";", "<nl>", "struct", "malidp", "_", "plane", "_", "state", "*", "ms", "=", "to", "_", "malidp", "_", "plane", "_", "state", "(", "plane", "-", ">", "state", ")", ";", "<nl>", "-", "u16", "ptr", ";", "<nl>", "u32", "src", "_", "w", ",", "src", "_", "h", ",", "dest", "_", "w", ",", "dest", "_", "h", ",", "val", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "static", "void", "malidp", "_", "de", "_", "plane", "_", "update", "(", "struct", "drm", "_", "plane", "*", "plane", ",", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "ms", "-", ">", "n", "_", "planes", ";", "i", "+", "+", ")", "{", "<nl>", "/", "*", "calculate", "the", "offset", "for", "the", "layer", "'", "s", "plane", "registers", "*", "/", "<nl>", "-", "ptr", "=", "mp", "-", ">", "layer", "-", ">", "ptr", "+", "(", "i", "<", "<", "4", ")", ";", "<nl>", "+", "u16", "ptr", "=", "mp", "-", ">", "layer", "-", ">", "ptr", "+", "(", "i", "<", "<", "4", ")", ";", "<nl>", "+", "dma", "_", "addr", "_", "t", "fb", "_", "addr", "=", "drm", "_", "fb", "_", "cma", "_", "get", "_", "gem", "_", "addr", "(", "plane", "-", ">", "state", "-", ">", "fb", ",", "<nl>", "+", "plane", "-", ">", "state", ",", "i", ")", ";", "<nl>", "<nl>", "-", "obj", "=", "drm", "_", "fb", "_", "cma", "_", "get", "_", "gem", "_", "obj", "(", "plane", "-", ">", "state", "-", ">", "fb", ",", "i", ")", ";", "<nl>", "-", "obj", "-", ">", "paddr", "+", "=", "plane", "-", ">", "state", "-", ">", "fb", "-", ">", "offsets", "[", "i", "]", ";", "<nl>", "-", "malidp", "_", "hw", "_", "write", "(", "mp", "-", ">", "hwdev", ",", "lower", "_", "32", "_", "bits", "(", "obj", "-", ">", "paddr", ")", ",", "ptr", ")", ";", "<nl>", "-", "malidp", "_", "hw", "_", "write", "(", "mp", "-", ">", "hwdev", ",", "upper", "_", "32", "_", "bits", "(", "obj", "-", ">", "paddr", ")", ",", "ptr", "+", "4", ")", ";", "<nl>", "+", "malidp", "_", "hw", "_", "write", "(", "mp", "-", ">", "hwdev", ",", "lower", "_", "32", "_", "bits", "(", "fb", "_", "addr", ")", ",", "ptr", ")", ";", "<nl>", "+", "malidp", "_", "hw", "_", "write", "(", "mp", "-", ">", "hwdev", ",", "upper", "_", "32", "_", "bits", "(", "fb", "_", "addr", ")", ",", "ptr", "+", "4", ")", ";", "<nl>", "}", "<nl>", "malidp", "_", "de", "_", "set", "_", "plane", "_", "pitches", "(", "mp", ",", "ms", "-", ">", "n", "_", "planes", ",", "<nl>", "plane", "-", ">", "state", "-", ">", "fb", "-", ">", "pitches", ")", ";", "<nl>"], "docstring_tokens": ["drm", "arm", "mali", "dp", "Use", "CMA", "helper", "for", "plane", "buffer", "address", "calculation"]}
{"code_tokens": ["static", "int", "tvaudio", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "const", "struct", "i2c", "_", "device", "_", "id", "*", "<nl>", "}", "<nl>", "<nl>", "chip", "-", ">", "thread", "=", "NULL", ";", "<nl>", "+", "init", "_", "timer", "(", "&", "chip", "-", ">", "wt", ")", ";", "<nl>", "if", "(", "desc", "-", ">", "flags", "&", "CHIP", "_", "NEED", "_", "CHECKMODE", ")", "{", "<nl>", "if", "(", "!", "desc", "-", ">", "getmode", "|", "|", "!", "desc", "-", ">", "setmode", ")", "{", "<nl>", "/", "*", "This", "shouldn", "'", "t", "be", "happen", ".", "Warn", "user", ",", "but", "keep", "working", "<nl>", "static", "int", "tvaudio", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "const", "struct", "i2c", "_", "device", "_", "id", "*", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "/", "*", "start", "async", "thread", "*", "/", "<nl>", "-", "init", "_", "timer", "(", "&", "chip", "-", ">", "wt", ")", ";", "<nl>", "chip", "-", ">", "wt", ".", "function", "=", "chip", "_", "thread", "_", "wake", ";", "<nl>", "chip", "-", ">", "wt", ".", "data", "=", "(", "unsigned", "long", ")", "chip", ";", "<nl>", "chip", "-", ">", "thread", "=", "kthread", "_", "run", "(", "chip", "_", "thread", ",", "chip", ",", "client", "-", ">", "name", ")", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "11277", "tvaudio", "always", "call", "init_timer", "to", "prevent", "rmmod", "crash"]}
{"code_tokens": ["static", "int", "sun4i", "_", "tv", "_", "comp", "_", "get", "_", "modes", "(", "struct", "drm", "_", "connector", "*", "connector", ")", "<nl>", "int", "i", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "ARRAY", "_", "SIZE", "(", "tv", "_", "modes", ")", ";", "i", "+", "+", ")", "{", "<nl>", "-", "struct", "drm", "_", "display", "_", "mode", "*", "mode", "=", "drm", "_", "mode", "_", "create", "(", "connector", "-", ">", "dev", ")", ";", "<nl>", "+", "struct", "drm", "_", "display", "_", "mode", "*", "mode", ";", "<nl>", "const", "struct", "tv", "_", "mode", "*", "tv", "_", "mode", "=", "&", "tv", "_", "modes", "[", "i", "]", ";", "<nl>", "<nl>", "+", "mode", "=", "drm", "_", "mode", "_", "create", "(", "connector", "-", ">", "dev", ")", ";", "<nl>", "+", "if", "(", "!", "mode", ")", "{", "<nl>", "+", "DRM", "_", "ERROR", "(", "\"", "Failed", "to", "create", "a", "new", "display", "mode", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "strcpy", "(", "mode", "-", ">", "name", ",", "tv", "_", "mode", "-", ">", "name", ")", ";", "<nl>", "<nl>", "sun4i", "_", "tv", "_", "mode", "_", "to", "_", "drm", "_", "mode", "(", "tv", "_", "mode", ",", "mode", ")", ";", "<nl>"], "docstring_tokens": ["drm", "sun4i", "tv", "Check", "mode", "pointer"]}
{"code_tokens": ["static", "const", "struct", "soc", "_", "device", "_", "attribute", "gen3", "_", "soc", "_", "whitelist", "[", "]", "=", "{", "<nl>", "/", "*", "generic", "ones", "*", "/", "<nl>", "{", ".", "soc", "_", "id", "=", "\"", "r8a7795", "\"", "}", ",", "<nl>", "{", ".", "soc", "_", "id", "=", "\"", "r8a7796", "\"", "}", ",", "<nl>", "+", "{", ".", "soc", "_", "id", "=", "\"", "r8a77980", "\"", "}", ",", "<nl>", "{", ".", "soc", "_", "id", "=", "\"", "r8a77995", "\"", "}", ",", "<nl>", "{", "/", "*", "sentinel", "*", "/", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["mmc", "renesas_sdhi_internal_dmac", "add", "R8A77980", "to", "whitelist"]}
{"code_tokens": ["static", "netdev", "_", "tx", "_", "t", "ip6erspan", "_", "tunnel", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "truncate", "=", "true", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "skb", "_", "cow", "_", "head", "(", "skb", ",", "dev", "-", ">", "needed", "_", "headroom", ")", ")", "<nl>", "+", "goto", "tx", "_", "err", ";", "<nl>", "+", "<nl>", "t", "-", ">", "parms", ".", "o", "_", "flags", "&", "=", "~", "TUNNEL", "_", "KEY", ";", "<nl>", "IPCB", "(", "skb", ")", "-", ">", "flags", "=", "0", ";", "<nl>"], "docstring_tokens": ["ip6erspan", "make", "sure", "enough", "headroom", "at", "xmit"]}
{"code_tokens": ["int", "videobuf", "_", "dqbuf", "(", "struct", "videobuf", "_", "queue", "*", "q", ",", "<nl>", "goto", "done", ";", "<nl>", "}", "<nl>", "buf", "=", "list", "_", "entry", "(", "q", "-", ">", "stream", ".", "next", ",", "struct", "videobuf", "_", "buffer", ",", "stream", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "q", "-", ">", "vb", "_", "lock", ")", ";", "<nl>", "retval", "=", "videobuf", "_", "waiton", "(", "buf", ",", "nonblocking", ",", "1", ")", ";", "<nl>", "+", "mutex", "_", "lock", "(", "&", "q", "-", ">", "vb", "_", "lock", ")", ";", "<nl>", "if", "(", "retval", "<", "0", ")", "{", "<nl>", "dprintk", "(", "1", ",", "\"", "dqbuf", ":", "waiton", "returned", "%", "d", "\\", "n", "\"", ",", "retval", ")", ";", "<nl>", "goto", "done", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "7281", "v4l", "Deadlock", "in", "videobuf", "core", "for", "DQBUF", "waiting", "on", "QBUF"]}
{"code_tokens": ["static", "struct", "afs", "_", "volume", "*", "afs", "_", "alloc", "_", "volume", "(", "struct", "afs", "_", "mount", "_", "params", "*", "params", ",", "<nl>", "error", "_", "2", ":", "<nl>", "afs", "_", "put", "_", "serverlist", "(", "params", "-", ">", "net", ",", "slist", ")", ";", "<nl>", "error", "_", "1", ":", "<nl>", "+", "afs", "_", "put", "_", "cell", "(", "params", "-", ">", "net", ",", "volume", "-", ">", "cell", ")", ";", "<nl>", "kfree", "(", "volume", ")", ";", "<nl>", "error", "_", "0", ":", "<nl>", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>"], "docstring_tokens": ["afs", "Add", "missing", "afs_put_cell"]}
{"code_tokens": ["static", "void", "ni6527", "_", "reset", "(", "struct", "comedi", "_", "device", "*", "dev", ")", "<nl>", "/", "*", "disable", "deglitch", "filters", "on", "all", "channels", "*", "/", "<nl>", "ni6527", "_", "set", "_", "filter", "_", "enable", "(", "dev", ",", "0", ")", ";", "<nl>", "<nl>", "+", "/", "*", "disable", "edge", "detection", "*", "/", "<nl>", "+", "ni6527", "_", "set", "_", "edge", "_", "detection", "(", "dev", ",", "0xffffffff", ",", "0", ",", "0", ")", ";", "<nl>", "+", "<nl>", "writeb", "(", "NI6527", "_", "CLR", "_", "IRQS", "|", "NI6527", "_", "CLR", "_", "RESET", "_", "FILT", ",", "<nl>", "mmio", "+", "NI6527", "_", "CLR", "_", "REG", ")", ";", "<nl>", "writeb", "(", "NI6527", "_", "CTRL", "_", "DISABLE", "_", "IRQS", ",", "mmio", "+", "NI6527", "_", "CTRL", "_", "REG", ")", ";", "<nl>"], "docstring_tokens": ["staging", "comedi", "ni_6527", "reset", "edge", "detection", "registers"]}
{"code_tokens": ["long", "kvm", "_", "vm", "_", "ioctl", "_", "create", "_", "spapr", "_", "tce", "(", "struct", "kvm", "*", "kvm", ",", "<nl>", "int", "ret", "=", "-", "ENOMEM", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "if", "(", "!", "args", "-", ">", "size", ")", "<nl>", "+", "if", "(", "!", "args", "-", ">", "size", "|", "|", "args", "-", ">", "page", "_", "shift", "<", "12", "|", "|", "args", "-", ">", "page", "_", "shift", ">", "34", "|", "|", "<nl>", "+", "(", "args", "-", ">", "offset", "+", "args", "-", ">", "size", ">", "(", "ULLONG", "_", "MAX", ">", ">", "args", "-", ">", "page", "_", "shift", ")", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "size", "=", "_", "ALIGN", "_", "UP", "(", "args", "-", ">", "size", ",", "PAGE", "_", "SIZE", ">", ">", "3", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "PPC", "Book3S", "Check", "KVM_CREATE_SPAPR_TCE_64", "parameters"]}
{"code_tokens": ["int", "btrfs", "_", "rm", "_", "device", "(", "struct", "btrfs", "_", "fs", "_", "info", "*", "fs", "_", "info", ",", "const", "char", "*", "device", "_", "path", ",", "<nl>", "<nl>", "if", "(", "IS", "_", "ERR", "(", "device", ")", ")", "{", "<nl>", "if", "(", "PTR", "_", "ERR", "(", "device", ")", "=", "=", "-", "ENOENT", "&", "&", "<nl>", "-", "strcmp", "(", "device", "_", "path", ",", "\"", "missing", "\"", ")", "=", "=", "0", ")", "<nl>", "+", "device", "_", "path", "&", "&", "strcmp", "(", "device", "_", "path", ",", "\"", "missing", "\"", ")", "=", "=", "0", ")", "<nl>", "ret", "=", "BTRFS", "_", "ERROR", "_", "DEV", "_", "MISSING", "_", "NOT", "_", "FOUND", ";", "<nl>", "else", "<nl>", "ret", "=", "PTR", "_", "ERR", "(", "device", ")", ";", "<nl>"], "docstring_tokens": ["btrfs", "fix", "NULL", "pointer", "dereference", "when", "deleting", "device", "by", "invalid", "id"]}
{"code_tokens": ["static", "inline", "bool", "phy", "_", "is", "_", "internal", "(", "struct", "phy", "_", "device", "*", "phydev", ")", "<nl>", "return", "phydev", "-", ">", "is", "_", "internal", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "*", "<nl>", "+", "*", "phy", "_", "interface", "_", "is", "_", "rgmii", "-", "Convenience", "function", "for", "testing", "if", "a", "PHY", "interface", "<nl>", "+", "*", "is", "RGMII", "(", "all", "variants", ")", "<nl>", "+", "*", "@", "phydev", ":", "the", "phy", "_", "device", "struct", "<nl>", "+", "*", "/", "<nl>", "+", "static", "inline", "bool", "phy", "_", "interface", "_", "is", "_", "rgmii", "(", "struct", "phy", "_", "device", "*", "phydev", ")", "<nl>", "+", "{", "<nl>", "+", "return", "phydev", "-", ">", "interface", ">", "=", "PHY", "_", "INTERFACE", "_", "MODE", "_", "RGMII", "&", "&", "<nl>", "+", "phydev", "-", ">", "interface", "<", "=", "PHY", "_", "INTERFACE", "_", "MODE", "_", "RGMII", "_", "TXID", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "*", "<nl>", "*", "phy", "_", "write", "_", "mmd", "-", "Convenience", "function", "for", "writing", "a", "register", "<nl>", "*", "on", "an", "MMD", "on", "a", "given", "PHY", ".", "<nl>"], "docstring_tokens": ["net", "phy", "Add", "phy_interface_is_rgmii", "helper"]}
{"code_tokens": ["static", "inline", "int", "_", "_", "must", "_", "check", "wlcore", "_", "write", "_", "reg", "(", "struct", "wl1271", "*", "wl", ",", "int", "reg", ",", "<nl>", "<nl>", "static", "inline", "void", "wl1271", "_", "power", "_", "off", "(", "struct", "wl1271", "*", "wl", ")", "<nl>", "{", "<nl>", "-", "int", "ret", ";", "<nl>", "+", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "if", "(", "!", "test", "_", "bit", "(", "WL1271", "_", "FLAG", "_", "GPIO", "_", "POWER", ",", "&", "wl", "-", ">", "flags", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "ret", "=", "wl", "-", ">", "if", "_", "ops", "-", ">", "power", "(", "wl", "-", ">", "dev", ",", "false", ")", ";", "<nl>", "+", "if", "(", "wl", "-", ">", "if", "_", "ops", "-", ">", "power", ")", "<nl>", "+", "ret", "=", "wl", "-", ">", "if", "_", "ops", "-", ">", "power", "(", "wl", "-", ">", "dev", ",", "false", ")", ";", "<nl>", "if", "(", "!", "ret", ")", "<nl>", "clear", "_", "bit", "(", "WL1271", "_", "FLAG", "_", "GPIO", "_", "POWER", ",", "&", "wl", "-", ">", "flags", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "inline", "int", "wl1271", "_", "power", "_", "on", "(", "struct", "wl1271", "*", "wl", ")", "<nl>", "{", "<nl>", "-", "int", "ret", "=", "wl", "-", ">", "if", "_", "ops", "-", ">", "power", "(", "wl", "-", ">", "dev", ",", "true", ")", ";", "<nl>", "+", "int", "ret", "=", "0", ";", "<nl>", "+", "<nl>", "+", "if", "(", "wl", "-", ">", "if", "_", "ops", "-", ">", "power", ")", "<nl>", "+", "ret", "=", "wl", "-", ">", "if", "_", "ops", "-", ">", "power", "(", "wl", "-", ">", "dev", ",", "true", ")", ";", "<nl>", "if", "(", "ret", "=", "=", "0", ")", "<nl>", "set", "_", "bit", "(", "WL1271", "_", "FLAG", "_", "GPIO", "_", "POWER", ",", "&", "wl", "-", ">", "flags", ")", ";", "<nl>"], "docstring_tokens": ["wlcore", "wl12xx", "spi", "fix", "NULL", "pointer", "dereference", "Oops"]}
{"code_tokens": ["void", "_", "_", "init", "pnv", "_", "pci", "_", "init", "_", "ioda1", "_", "phb", "(", "struct", "device", "_", "node", "*", "np", ")", "<nl>", "/", "*", "Allocate", "aux", "data", "&", "arrays", "*", "/", "<nl>", "size", "=", "_", "ALIGN", "_", "UP", "(", "phb", "-", ">", "ioda", ".", "total", "_", "pe", "/", "8", ",", "sizeof", "(", "unsigned", "long", ")", ")", ";", "<nl>", "m32map", "_", "off", "=", "size", ";", "<nl>", "-", "size", "+", "=", "phb", "-", ">", "ioda", ".", "total", "_", "pe", ";", "<nl>", "+", "size", "+", "=", "phb", "-", ">", "ioda", ".", "total", "_", "pe", "*", "sizeof", "(", "phb", "-", ">", "ioda", ".", "m32", "_", "segmap", "[", "0", "]", ")", ";", "<nl>", "iomap", "_", "off", "=", "size", ";", "<nl>", "-", "size", "+", "=", "phb", "-", ">", "ioda", ".", "total", "_", "pe", ";", "<nl>", "+", "size", "+", "=", "phb", "-", ">", "ioda", ".", "total", "_", "pe", "*", "sizeof", "(", "phb", "-", ">", "ioda", ".", "io", "_", "segmap", "[", "0", "]", ")", ";", "<nl>", "pemap", "_", "off", "=", "size", ";", "<nl>", "size", "+", "=", "phb", "-", ">", "ioda", ".", "total", "_", "pe", "*", "sizeof", "(", "struct", "pnv", "_", "ioda", "_", "pe", ")", ";", "<nl>", "aux", "=", "alloc", "_", "bootmem", "(", "size", ")", ";", "<nl>"], "docstring_tokens": ["powerpc", "powernv", "Fix", "overrunning", "segment", "tracing", "array"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "(", "ieee802154", "_", "free", "_", "hw", ")", ";", "<nl>", "int", "ieee802154", "_", "register", "_", "hw", "(", "struct", "ieee802154", "_", "hw", "*", "hw", ")", "<nl>", "{", "<nl>", "struct", "ieee802154", "_", "local", "*", "local", "=", "hw", "_", "to", "_", "local", "(", "hw", ")", ";", "<nl>", "+", "struct", "net", "_", "device", "*", "dev", ";", "<nl>", "int", "rc", "=", "-", "ENOSYS", ";", "<nl>", "<nl>", "local", "-", ">", "workqueue", "=", "<nl>", "int", "ieee802154", "_", "register", "_", "hw", "(", "struct", "ieee802154", "_", "hw", "*", "hw", ")", "<nl>", "if", "(", "rc", "<", "0", ")", "<nl>", "goto", "out", "_", "wq", ";", "<nl>", "<nl>", "+", "rtnl", "_", "lock", "(", ")", ";", "<nl>", "+", "<nl>", "+", "dev", "=", "ieee802154", "_", "if", "_", "add", "(", "local", ",", "\"", "wpan", "%", "d", "\"", ",", "NULL", ",", "IEEE802154", "_", "DEV", "_", "WPAN", ")", ";", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "dev", ")", ")", "{", "<nl>", "+", "rtnl", "_", "unlock", "(", ")", ";", "<nl>", "+", "rc", "=", "PTR", "_", "ERR", "(", "dev", ")", ";", "<nl>", "+", "goto", "out", "_", "wq", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "rtnl", "_", "unlock", "(", ")", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "<nl>", "out", "_", "wq", ":", "<nl>"], "docstring_tokens": ["mac802154", "add", "default", "interface", "registration"]}
{"code_tokens": ["static", "void", "init", "_", "once", "(", "void", "*", "foo", ")", "<nl>", "<nl>", "static", "struct", "inode", "*", "befs", "_", "iget", "(", "struct", "super", "_", "block", "*", "sb", ",", "unsigned", "long", "ino", ")", "<nl>", "{", "<nl>", "-", "struct", "buffer", "_", "head", "*", "bh", "=", "NULL", ";", "<nl>", "+", "struct", "buffer", "_", "head", "*", "bh", ";", "<nl>", "befs", "_", "inode", "*", "raw", "_", "inode", "=", "NULL", ";", "<nl>", "struct", "befs", "_", "sb", "_", "info", "*", "befs", "_", "sb", "=", "BEFS", "_", "SB", "(", "sb", ")", ";", "<nl>", "struct", "befs", "_", "inode", "_", "info", "*", "befs", "_", "ino", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["fs", "befs", "linuxvfs", "c", "befs_iget", "remove", "unneeded", "initialization", "to", "NULL"]}
{"code_tokens": ["static", "void", "mlxsw", "_", "pci", "_", "eq", "_", "tasklet", "(", "unsigned", "long", "data", ")", "<nl>", "{", "<nl>", "struct", "mlxsw", "_", "pci", "_", "queue", "*", "q", "=", "(", "struct", "mlxsw", "_", "pci", "_", "queue", "*", ")", "data", ";", "<nl>", "struct", "mlxsw", "_", "pci", "*", "mlxsw", "_", "pci", "=", "q", "-", ">", "pci", ";", "<nl>", "-", "unsigned", "long", "active", "_", "cqns", "[", "BITS", "_", "TO", "_", "LONGS", "(", "MLXSW", "_", "PCI", "_", "CQS", "_", "COUNT", ")", "]", ";", "<nl>", "+", "u8", "cq", "_", "count", "=", "mlxsw", "_", "pci", "_", "cq", "_", "count", "(", "mlxsw", "_", "pci", ")", ";", "<nl>", "+", "unsigned", "long", "active", "_", "cqns", "[", "BITS", "_", "TO", "_", "LONGS", "(", "MLXSW", "_", "PCI", "_", "CQS", "_", "MAX", ")", "]", ";", "<nl>", "char", "*", "eqe", ";", "<nl>", "u8", "cqn", ";", "<nl>", "bool", "cq", "_", "handle", "=", "false", ";", "<nl>", "static", "void", "mlxsw", "_", "pci", "_", "eq", "_", "tasklet", "(", "unsigned", "long", "data", ")", "<nl>", "<nl>", "if", "(", "!", "cq", "_", "handle", ")", "<nl>", "return", ";", "<nl>", "-", "for", "_", "each", "_", "set", "_", "bit", "(", "cqn", ",", "active", "_", "cqns", ",", "MLXSW", "_", "PCI", "_", "CQS", "_", "COUNT", ")", "{", "<nl>", "+", "for", "_", "each", "_", "set", "_", "bit", "(", "cqn", ",", "active", "_", "cqns", ",", "cq", "_", "count", ")", "{", "<nl>", "q", "=", "mlxsw", "_", "pci", "_", "cq", "_", "get", "(", "mlxsw", "_", "pci", ",", "cqn", ")", ";", "<nl>", "mlxsw", "_", "pci", "_", "queue", "_", "tasklet", "_", "schedule", "(", "q", ")", ";", "<nl>", "}", "<nl>", "static", "int", "mlxsw", "_", "pci", "_", "aqs", "_", "init", "(", "struct", "mlxsw", "_", "pci", "*", "mlxsw", "_", "pci", ",", "char", "*", "mbox", ")", "<nl>", "<nl>", "if", "(", "(", "num", "_", "sdqs", "!", "=", "MLXSW", "_", "PCI", "_", "SDQS", "_", "COUNT", ")", "|", "|", "<nl>", "(", "num", "_", "rdqs", "!", "=", "MLXSW", "_", "PCI", "_", "RDQS", "_", "COUNT", ")", "|", "|", "<nl>", "-", "(", "num", "_", "cqs", "!", "=", "MLXSW", "_", "PCI", "_", "CQS", "_", "COUNT", ")", "|", "|", "<nl>", "-", "(", "num", "_", "eqs", "!", "=", "MLXSW", "_", "PCI", "_", "EQS", "_", "COUNT", ")", ")", "{", "<nl>", "+", "num", "_", "cqs", ">", "MLXSW", "_", "PCI", "_", "CQS", "_", "MAX", "|", "|", "num", "_", "eqs", "!", "=", "MLXSW", "_", "PCI", "_", "EQS", "_", "COUNT", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Unsupported", "number", "of", "queues", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "mmm", "drivers", "/", "net", "/", "ethernet", "/", "mellanox", "/", "mlxsw", "/", "pci", ".", "h", "<nl>", "static", "void", "mlxsw", "_", "pci", "_", "eq", "_", "tasklet", "(", "unsigned", "long", "data", ")", "<nl>", "{", "<nl>", "struct", "mlxsw", "_", "pci", "_", "queue", "*", "q", "=", "(", "struct", "mlxsw", "_", "pci", "_", "queue", "*", ")", "data", ";", "<nl>", "struct", "mlxsw", "_", "pci", "*", "mlxsw", "_", "pci", "=", "q", "-", ">", "pci", ";", "<nl>", "-", "unsigned", "long", "active", "_", "cqns", "[", "BITS", "_", "TO", "_", "LONGS", "(", "MLXSW", "_", "PCI", "_", "CQS", "_", "COUNT", ")", "]", ";", "<nl>", "+", "u8", "cq", "_", "count", "=", "mlxsw", "_", "pci", "_", "cq", "_", "count", "(", "mlxsw", "_", "pci", ")", ";", "<nl>", "+", "unsigned", "long", "active", "_", "cqns", "[", "BITS", "_", "TO", "_", "LONGS", "(", "MLXSW", "_", "PCI", "_", "CQS", "_", "MAX", ")", "]", ";", "<nl>", "char", "*", "eqe", ";", "<nl>", "u8", "cqn", ";", "<nl>", "bool", "cq", "_", "handle", "=", "false", ";", "<nl>", "static", "void", "mlxsw", "_", "pci", "_", "eq", "_", "tasklet", "(", "unsigned", "long", "data", ")", "<nl>", "<nl>", "if", "(", "!", "cq", "_", "handle", ")", "<nl>", "return", ";", "<nl>", "-", "for", "_", "each", "_", "set", "_", "bit", "(", "cqn", ",", "active", "_", "cqns", ",", "MLXSW", "_", "PCI", "_", "CQS", "_", "COUNT", ")", "{", "<nl>", "+", "for", "_", "each", "_", "set", "_", "bit", "(", "cqn", ",", "active", "_", "cqns", ",", "cq", "_", "count", ")", "{", "<nl>", "q", "=", "mlxsw", "_", "pci", "_", "cq", "_", "get", "(", "mlxsw", "_", "pci", ",", "cqn", ")", ";", "<nl>", "mlxsw", "_", "pci", "_", "queue", "_", "tasklet", "_", "schedule", "(", "q", ")", ";", "<nl>", "}", "<nl>", "static", "int", "mlxsw", "_", "pci", "_", "aqs", "_", "init", "(", "struct", "mlxsw", "_", "pci", "*", "mlxsw", "_", "pci", ",", "char", "*", "mbox", ")", "<nl>", "<nl>", "if", "(", "(", "num", "_", "sdqs", "!", "=", "MLXSW", "_", "PCI", "_", "SDQS", "_", "COUNT", ")", "|", "|", "<nl>", "(", "num", "_", "rdqs", "!", "=", "MLXSW", "_", "PCI", "_", "RDQS", "_", "COUNT", ")", "|", "|", "<nl>", "-", "(", "num", "_", "cqs", "!", "=", "MLXSW", "_", "PCI", "_", "CQS", "_", "COUNT", ")", "|", "|", "<nl>", "-", "(", "num", "_", "eqs", "!", "=", "MLXSW", "_", "PCI", "_", "EQS", "_", "COUNT", ")", ")", "{", "<nl>", "+", "num", "_", "cqs", ">", "MLXSW", "_", "PCI", "_", "CQS", "_", "MAX", "|", "|", "num", "_", "eqs", "!", "=", "MLXSW", "_", "PCI", "_", "EQS", "_", "COUNT", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "Unsupported", "number", "of", "queues", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "#", "define", "MLXSW", "_", "PCI", "_", "RDQS", "_", "COUNT", "24", "<nl>", "#", "define", "MLXSW", "_", "PCI", "_", "SDQS", "_", "COUNT", "24", "<nl>", "-", "#", "define", "MLXSW", "_", "PCI", "_", "CQS", "_", "COUNT", "(", "MLXSW", "_", "PCI", "_", "RDQS", "_", "COUNT", "+", "MLXSW", "_", "PCI", "_", "SDQS", "_", "COUNT", ")", "<nl>", "+", "#", "define", "MLXSW", "_", "PCI", "_", "CQS", "_", "MAX", "96", "<nl>", "#", "define", "MLXSW", "_", "PCI", "_", "EQS", "_", "COUNT", "2", "<nl>", "#", "define", "MLXSW", "_", "PCI", "_", "EQ", "_", "ASYNC", "_", "NUM", "0", "<nl>", "#", "define", "MLXSW", "_", "PCI", "_", "EQ", "_", "COMP", "_", "NUM", "1", "<nl>"], "docstring_tokens": ["mlxsw", "pci", "Use", "MLXSW_PCI_CQS_MAX", "instead", "of", "MLXSW_PCI_CQS_COUNT"]}
{"code_tokens": ["static", "int", "_", "_", "proc", "_", "dobitmasks", "(", "void", "*", "data", ",", "int", "write", ",", "<nl>", "}", "else", "{", "<nl>", "rc", "=", "cfs", "_", "trace", "_", "copyin", "_", "string", "(", "tmpstr", ",", "tmpstrlen", ",", "buffer", ",", "nob", ")", ";", "<nl>", "if", "(", "rc", "<", "0", ")", "{", "<nl>", "-", "cfs", "_", "trace", "_", "free", "_", "string", "_", "buffer", "(", "tmpstr", ",", "tmpstrlen", ")", ";", "<nl>", "+", "kfree", "(", "tmpstr", ")", ";", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "_", "_", "proc", "_", "dobitmasks", "(", "void", "*", "data", ",", "int", "write", ",", "<nl>", "*", "mask", "|", "=", "D", "_", "EMERG", ";", "<nl>", "}", "<nl>", "<nl>", "-", "cfs", "_", "trace", "_", "free", "_", "string", "_", "buffer", "(", "tmpstr", ",", "tmpstrlen", ")", ";", "<nl>", "+", "kfree", "(", "tmpstr", ")", ";", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Staging", "lustre", "module", "Replace", "function", "calls"]}
{"code_tokens": ["static", "void", "rndis", "_", "wlan", "_", "media", "_", "specific", "_", "indication", "(", "struct", "usbnet", "*", "usbdev", ",", "<nl>", "struct", "rndis", "_", "indicate", "*", "msg", ",", "int", "buflen", ")", "<nl>", "{", "<nl>", "struct", "ndis", "_", "80211", "_", "status", "_", "indication", "*", "indication", ";", "<nl>", "-", "int", "len", ",", "offset", ";", "<nl>", "+", "unsigned", "int", "len", ",", "offset", ";", "<nl>", "<nl>", "offset", "=", "offsetof", "(", "struct", "rndis", "_", "indicate", ",", "status", ")", "+", "<nl>", "le32", "_", "to", "_", "cpu", "(", "msg", "-", ">", "offset", ")", ";", "<nl>", "static", "void", "rndis", "_", "wlan", "_", "media", "_", "specific", "_", "indication", "(", "struct", "usbnet", "*", "usbdev", ",", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "offset", "+", "len", ">", "buflen", ")", "{", "<nl>", "+", "if", "(", "len", ">", "buflen", "|", "|", "offset", ">", "buflen", "|", "|", "offset", "+", "len", ">", "buflen", ")", "{", "<nl>", "netdev", "_", "info", "(", "usbdev", "-", ">", "net", ",", "\"", "media", "specific", "indication", ",", "too", "large", "to", "fit", "to", "buffer", "(", "%", "i", ">", "%", "i", ")", "\\", "n", "\"", ",", "<nl>", "offset", "+", "len", ",", "buflen", ")", ";", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["rndis_wlan", "prevent", "integer", "overflow", "in", "indication"]}
{"code_tokens": ["static", "void", "snd", "_", "timer", "_", "user", "_", "tinterrupt", "(", "struct", "snd", "_", "timer", "_", "instance", "*", "timeri", ",", "<nl>", "}", "<nl>", "if", "(", "(", "tu", "-", ">", "filter", "&", "(", "1", "<", "<", "SNDRV", "_", "TIMER", "_", "EVENT", "_", "RESOLUTION", ")", ")", "&", "&", "<nl>", "tu", "-", ">", "last", "_", "resolution", "!", "=", "resolution", ")", "{", "<nl>", "+", "memset", "(", "&", "r1", ",", "0", ",", "sizeof", "(", "r1", ")", ")", ";", "<nl>", "r1", ".", "event", "=", "SNDRV", "_", "TIMER", "_", "EVENT", "_", "RESOLUTION", ";", "<nl>", "r1", ".", "tstamp", "=", "tstamp", ";", "<nl>", "r1", ".", "val", "=", "resolution", ";", "<nl>"], "docstring_tokens": ["ALSA", "timer", "Fix", "leak", "in", "events", "via", "snd_timer_user_tinterrupt"]}
{"code_tokens": ["static", "int", "cdrom", "_", "ioctl", "_", "select", "_", "disc", "(", "struct", "cdrom", "_", "device", "_", "info", "*", "cdi", ",", "<nl>", "return", "-", "ENOSYS", ";", "<nl>", "<nl>", "if", "(", "arg", "!", "=", "CDSL", "_", "CURRENT", "&", "&", "arg", "!", "=", "CDSL", "_", "NONE", ")", "{", "<nl>", "-", "if", "(", "(", "int", ")", "arg", ">", "=", "cdi", "-", ">", "capacity", ")", "<nl>", "+", "if", "(", "arg", ">", "=", "cdi", "-", ">", "capacity", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["cdrom", "fix", "improper", "type", "cast", "which", "can", "leat", "to", "information", "leak"]}
{"code_tokens": ["vmxnet3", "_", "set", "_", "ringparam", "(", "struct", "net", "_", "device", "*", "netdev", ",", "<nl>", "VMXNET3", "_", "RX", "_", "RING", "_", "MAX", "_", "SIZE", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "/", "*", "if", "adapter", "not", "yet", "initialized", ",", "do", "nothing", "*", "/", "<nl>", "+", "if", "(", "adapter", "-", ">", "rx", "_", "buf", "_", "per", "_", "pkt", "=", "=", "0", ")", "{", "<nl>", "+", "netdev", "_", "err", "(", "netdev", ",", "\"", "adapter", "not", "completely", "initialized", ",", "\"", "<nl>", "+", "\"", "ring", "size", "cannot", "be", "changed", "yet", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "round", "it", "up", "to", "a", "multiple", "of", "VMXNET3", "_", "RING", "_", "SIZE", "_", "ALIGN", "*", "/", "<nl>", "new", "_", "tx", "_", "ring", "_", "size", "=", "(", "param", "-", ">", "tx", "_", "pending", "+", "VMXNET3", "_", "RING", "_", "SIZE", "_", "MASK", ")", "&", "mmm", "drivers", "/", "net", "/", "vmxnet3", "/", "vmxnet3", "_", "int", ".", "h", "<nl>", "vmxnet3", "_", "set", "_", "ringparam", "(", "struct", "net", "_", "device", "*", "netdev", ",", "<nl>", "VMXNET3", "_", "RX", "_", "RING", "_", "MAX", "_", "SIZE", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "/", "*", "if", "adapter", "not", "yet", "initialized", ",", "do", "nothing", "*", "/", "<nl>", "+", "if", "(", "adapter", "-", ">", "rx", "_", "buf", "_", "per", "_", "pkt", "=", "=", "0", ")", "{", "<nl>", "+", "netdev", "_", "err", "(", "netdev", ",", "\"", "adapter", "not", "completely", "initialized", ",", "\"", "<nl>", "+", "\"", "ring", "size", "cannot", "be", "changed", "yet", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "round", "it", "up", "to", "a", "multiple", "of", "VMXNET3", "_", "RING", "_", "SIZE", "_", "ALIGN", "*", "/", "<nl>", "new", "_", "tx", "_", "ring", "_", "size", "=", "(", "param", "-", ">", "tx", "_", "pending", "+", "VMXNET3", "_", "RING", "_", "SIZE", "_", "MASK", ")", "&", "<nl>", "/", "*", "<nl>", "*", "Version", "numbers", "<nl>", "*", "/", "<nl>", "-", "#", "define", "VMXNET3", "_", "DRIVER", "_", "VERSION", "_", "STRING", "\"", "1", ".", "1", ".", "29", ".", "0", "-", "k", "\"", "<nl>", "+", "#", "define", "VMXNET3", "_", "DRIVER", "_", "VERSION", "_", "STRING", "\"", "1", ".", "1", ".", "30", ".", "0", "-", "k", "\"", "<nl>", "<nl>", "/", "*", "a", "32", "-", "bit", "int", ",", "each", "byte", "encode", "a", "verion", "number", "in", "VMXNET3", "_", "DRIVER", "_", "VERSION", "*", "/", "<nl>", "-", "#", "define", "VMXNET3", "_", "DRIVER", "_", "VERSION", "_", "NUM", "0x01011D00", "<nl>", "+", "#", "define", "VMXNET3", "_", "DRIVER", "_", "VERSION", "_", "NUM", "0x01011E00", "<nl>", "<nl>", "#", "if", "defined", "(", "CONFIG", "_", "PCI", "_", "MSI", ")", "<nl>", "/", "*", "RSS", "only", "makes", "sense", "if", "MSI", "-", "X", "is", "supported", ".", "*", "/", "mmm", "drivers", "/", "net", "/", "vmxnet3", "/", "vmxnet3", "_", "drv", ".", "c", "<nl>", "vmxnet3", "_", "set", "_", "ringparam", "(", "struct", "net", "_", "device", "*", "netdev", ",", "<nl>", "VMXNET3", "_", "RX", "_", "RING", "_", "MAX", "_", "SIZE", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "/", "*", "if", "adapter", "not", "yet", "initialized", ",", "do", "nothing", "*", "/", "<nl>", "+", "if", "(", "adapter", "-", ">", "rx", "_", "buf", "_", "per", "_", "pkt", "=", "=", "0", ")", "{", "<nl>", "+", "netdev", "_", "err", "(", "netdev", ",", "\"", "adapter", "not", "completely", "initialized", ",", "\"", "<nl>", "+", "\"", "ring", "size", "cannot", "be", "changed", "yet", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "round", "it", "up", "to", "a", "multiple", "of", "VMXNET3", "_", "RING", "_", "SIZE", "_", "ALIGN", "*", "/", "<nl>", "new", "_", "tx", "_", "ring", "_", "size", "=", "(", "param", "-", ">", "tx", "_", "pending", "+", "VMXNET3", "_", "RING", "_", "SIZE", "_", "MASK", ")", "&", "<nl>", "/", "*", "<nl>", "*", "Version", "numbers", "<nl>", "*", "/", "<nl>", "-", "#", "define", "VMXNET3", "_", "DRIVER", "_", "VERSION", "_", "STRING", "\"", "1", ".", "1", ".", "29", ".", "0", "-", "k", "\"", "<nl>", "+", "#", "define", "VMXNET3", "_", "DRIVER", "_", "VERSION", "_", "STRING", "\"", "1", ".", "1", ".", "30", ".", "0", "-", "k", "\"", "<nl>", "<nl>", "/", "*", "a", "32", "-", "bit", "int", ",", "each", "byte", "encode", "a", "verion", "number", "in", "VMXNET3", "_", "DRIVER", "_", "VERSION", "*", "/", "<nl>", "-", "#", "define", "VMXNET3", "_", "DRIVER", "_", "VERSION", "_", "NUM", "0x01011D00", "<nl>", "+", "#", "define", "VMXNET3", "_", "DRIVER", "_", "VERSION", "_", "NUM", "0x01011E00", "<nl>", "<nl>", "#", "if", "defined", "(", "CONFIG", "_", "PCI", "_", "MSI", ")", "<nl>", "/", "*", "RSS", "only", "makes", "sense", "if", "MSI", "-", "X", "is", "supported", ".", "*", "/", "<nl>", "vmxnet3", "_", "probe", "_", "device", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "<nl>", "adapter", "-", ">", "num", "_", "rx", "_", "queues", "=", "num", "_", "rx", "_", "queues", ";", "<nl>", "adapter", "-", ">", "num", "_", "tx", "_", "queues", "=", "num", "_", "tx", "_", "queues", ";", "<nl>", "+", "adapter", "-", ">", "rx", "_", "buf", "_", "per", "_", "pkt", "=", "1", ";", "<nl>", "<nl>", "size", "=", "sizeof", "(", "struct", "Vmxnet3", "_", "TxQueueDesc", ")", "*", "adapter", "-", ">", "num", "_", "tx", "_", "queues", ";", "<nl>", "size", "+", "=", "sizeof", "(", "struct", "Vmxnet3", "_", "RxQueueDesc", ")", "*", "adapter", "-", ">", "num", "_", "rx", "_", "queues", ";", "<nl>"], "docstring_tokens": ["vmxnet3", "prevent", "div", "by", "zero", "panic", "when", "ring", "resizing", "uninitialized", "dev"]}
{"code_tokens": ["int", "handle", "_", "mm", "_", "fault", "(", "struct", "mm", "_", "struct", "*", "mm", ",", "struct", "vm", "_", "area", "_", "struct", "*", "vma", ",", "<nl>", "if", "(", "pmd", "_", "trans", "_", "huge", "(", "orig", "_", "pmd", ")", ")", "{", "<nl>", "unsigned", "int", "dirty", "=", "flags", "&", "FAULT", "_", "FLAG", "_", "WRITE", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "If", "the", "pmd", "is", "splitting", ",", "return", "and", "retry", "the", "<nl>", "+", "*", "the", "fault", ".", "Alternative", ":", "wait", "until", "the", "split", "<nl>", "+", "*", "is", "done", ",", "and", "goto", "retry", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "pmd", "_", "trans", "_", "splitting", "(", "orig", "_", "pmd", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "if", "(", "pmd", "_", "numa", "(", "orig", "_", "pmd", ")", ")", "<nl>", "return", "do", "_", "huge", "_", "pmd", "_", "numa", "_", "page", "(", "mm", ",", "vma", ",", "address", ",", "<nl>", "orig", "_", "pmd", ",", "pmd", ")", ";", "<nl>"], "docstring_tokens": ["mm", "reinstante", "dropped", "pmd_trans_splitting", "check"]}
{"code_tokens": ["static", "int", "netvsc", "_", "init", "_", "buf", "(", "struct", "hv", "_", "device", "*", "device", ")", "<nl>", "net", "_", "device", "-", ">", "map", "_", "words", "=", "DIV", "_", "ROUND", "_", "UP", "(", "net", "_", "device", "-", ">", "send", "_", "section", "_", "cnt", ",", "<nl>", "BITS", "_", "PER", "_", "LONG", ")", ";", "<nl>", "<nl>", "-", "net", "_", "device", "-", ">", "send", "_", "section", "_", "map", "=", "<nl>", "-", "kzalloc", "(", "net", "_", "device", "-", ">", "map", "_", "words", "*", "sizeof", "(", "ulong", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "net", "_", "device", "-", ">", "send", "_", "section", "_", "map", "=", "kcalloc", "(", "net", "_", "device", "-", ">", "map", "_", "words", ",", "<nl>", "+", "sizeof", "(", "ulong", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "net", "_", "device", "-", ">", "send", "_", "section", "_", "map", "=", "=", "NULL", ")", "{", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>", "goto", "cleanup", ";", "<nl>"], "docstring_tokens": ["hv_netvsc", "use", "kcalloc"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "(", "sock", "_", "kmalloc", ")", ";", "<nl>", "*", "/", "<nl>", "void", "sock", "_", "kfree", "_", "s", "(", "struct", "sock", "*", "sk", ",", "void", "*", "mem", ",", "int", "size", ")", "<nl>", "{", "<nl>", "+", "if", "(", "WARN", "_", "ON", "_", "ONCE", "(", "!", "mem", ")", ")", "<nl>", "+", "return", ";", "<nl>", "kfree", "(", "mem", ")", ";", "<nl>", "atomic", "_", "sub", "(", "size", ",", "&", "sk", "-", ">", "sk", "_", "omem", "_", "alloc", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "Trap", "attempts", "to", "call", "sock_kfree_s", "with", "a", "NULL", "pointer"]}
{"code_tokens": ["static", "struct", "dentry", "*", "proc", "_", "mount", "(", "struct", "file", "_", "system", "_", "type", "*", "fs", "_", "type", ",", "<nl>", "if", "(", "IS", "_", "ERR", "(", "sb", ")", ")", "<nl>", "return", "ERR", "_", "CAST", "(", "sb", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "procfs", "isn", "'", "t", "actually", "a", "stacking", "filesystem", ";", "however", ",", "there", "is", "<nl>", "+", "*", "too", "much", "magic", "going", "on", "inside", "it", "to", "permit", "stacking", "things", "on", "<nl>", "+", "*", "top", "of", "it", "<nl>", "+", "*", "/", "<nl>", "+", "sb", "-", ">", "s", "_", "stack", "_", "depth", "=", "FILESYSTEM", "_", "MAX", "_", "STACK", "_", "DEPTH", ";", "<nl>", "+", "<nl>", "if", "(", "!", "proc", "_", "parse", "_", "options", "(", "options", ",", "ns", ")", ")", "{", "<nl>", "deactivate", "_", "locked", "_", "super", "(", "sb", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>"], "docstring_tokens": ["proc", "prevent", "stacking", "filesystems", "on", "top"]}
{"code_tokens": ["static", "void", "i40e", "_", "service", "_", "task", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "service", "_", "task", ")", ";", "<nl>", "unsigned", "long", "start", "_", "time", "=", "jiffies", ";", "<nl>", "<nl>", "+", "/", "*", "don", "'", "t", "bother", "with", "service", "tasks", "if", "a", "reset", "is", "in", "progress", "*", "/", "<nl>", "+", "if", "(", "test", "_", "bit", "(", "_", "_", "I40E", "_", "RESET", "_", "RECOVERY", "_", "PENDING", ",", "&", "pf", "-", ">", "state", ")", ")", "{", "<nl>", "+", "i40e", "_", "service", "_", "event", "_", "complete", "(", "pf", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "i40e", "_", "reset", "_", "subtask", "(", "pf", ")", ";", "<nl>", "i40e", "_", "handle", "_", "mdd", "_", "event", "(", "pf", ")", ";", "<nl>", "i40e", "_", "vc", "_", "process", "_", "vflr", "_", "event", "(", "pf", ")", ";", "<nl>"], "docstring_tokens": ["i40e", "keep", "service", "tasks", "out", "of", "reset", "process"]}
{"code_tokens": ["static", "int", "_", "_", "init", "sa1110", "_", "clk", "_", "init", "(", "void", ")", "<nl>", "struct", "sdram", "_", "params", "*", "sdram", ";", "<nl>", "const", "char", "*", "name", "=", "sdram", "_", "name", ";", "<nl>", "<nl>", "+", "if", "(", "!", "cpu", "_", "is", "_", "sa1110", "(", ")", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "<nl>", "if", "(", "!", "name", "[", "0", "]", ")", "{", "<nl>", "if", "(", "machine", "_", "is", "_", "assabet", "(", ")", ")", "<nl>", "name", "=", "\"", "TC59SM716", "-", "CL3", "\"", ";", "<nl>"], "docstring_tokens": ["ARM", "6076", "1", "SA1100", "add", "processor", "check", "to", "sa1110", "cpufreq", "driver"]}
{"code_tokens": ["*", "<nl>", "*", "Interface", "to", "generic", "NAND", "code", "for", "M", "-", "Systems", "DiskOnChip", "devices", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "diskonchip", ".", "c", ",", "v", "1", ".", "50", "2005", "/", "03", "/", "29", "20", ":", "57", ":", "45", "dbrown", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "diskonchip", ".", "c", ",", "v", "1", ".", "51", "2005", "/", "04", "/", "06", "18", ":", "10", ":", "20", "dbrown", "Exp", "$", "<nl>", "*", "/", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "kernel", ".", "h", ">", "<nl>", "static", "struct", "nand", "_", "oobinfo", "doc200x", "_", "oobinfo", "=", "{", "<nl>", ".", "useecc", "=", "MTD", "_", "NANDECC", "_", "AUTOPLACE", ",", "<nl>", ".", "eccbytes", "=", "6", ",", "<nl>", ".", "eccpos", "=", "{", "0", ",", "1", ",", "2", ",", "3", ",", "4", ",", "5", "}", ",", "<nl>", "-", ".", "oobfree", "=", "{", "{", "8", ",", "8", "}", "}", "<nl>", "+", ".", "oobfree", "=", "{", "{", "6", ",", "10", "}", "}", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "Find", "the", "(", "I", ")", "NFTL", "Media", "Header", ",", "and", "optionally", "also", "the", "mirror", "media", "header", ".", "<nl>"], "docstring_tokens": ["MTD", "DiskOnChip", "Fix", "free", "OOB", "array", "info"]}
{"code_tokens": ["ath10k", "_", "wmi", "_", "10", "_", "4", "_", "gen", "_", "update", "_", "fw", "_", "tdls", "_", "state", "(", "struct", "ath10k", "*", "ar", ",", "u32", "vdev", "_", "id", ",", "<nl>", "if", "(", "!", "skb", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "ENOMEM", ")", ";", "<nl>", "<nl>", "-", "if", "(", "test", "_", "bit", "(", "WMI", "_", "SERVICE", "_", "TDLS", "_", "EXPLICIT", "_", "MODE", "_", "ONLY", ",", "ar", "-", ">", "wmi", ".", "svc", "_", "map", ")", ")", "<nl>", "+", "if", "(", "test", "_", "bit", "(", "WMI", "_", "SERVICE", "_", "TDLS", "_", "EXPLICIT", "_", "MODE", "_", "ONLY", ",", "ar", "-", ">", "wmi", ".", "svc", "_", "map", ")", "&", "&", "<nl>", "+", "state", "=", "=", "WMI", "_", "TDLS", "_", "ENABLE", "_", "ACTIVE", ")", "<nl>", "state", "=", "WMI", "_", "TDLS", "_", "ENABLE", "_", "PASSIVE", ";", "<nl>", "<nl>", "if", "(", "test", "_", "bit", "(", "WMI", "_", "SERVICE", "_", "TDLS", "_", "UAPSD", "_", "BUFFER", "_", "STA", ",", "ar", "-", ">", "wmi", ".", "svc", "_", "map", ")", ")", "<nl>"], "docstring_tokens": ["ath10k", "fix", "sending", "wmi", "cmd", "during", "the", "tdls", "teardown"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "max17042", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "reg", "|", "=", "CONFIG", "_", "ALRT", "_", "BIT", "_", "ENBL", ";", "<nl>", "max17042", "_", "write", "_", "reg", "(", "client", ",", "MAX17042", "_", "CONFIG", ",", "reg", ")", ";", "<nl>", "max17042", "_", "set", "_", "soc", "_", "threshold", "(", "chip", ",", "1", ")", ";", "<nl>", "-", "}", "else", "<nl>", "+", "}", "else", "{", "<nl>", "+", "client", "-", ">", "irq", "=", "0", ";", "<nl>", "dev", "_", "err", "(", "&", "client", "-", ">", "dev", ",", "\"", "%", "s", "(", ")", ":", "cannot", "get", "IRQ", "\\", "n", "\"", ",", "<nl>", "_", "_", "func", "_", "_", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "reg", "=", "max17042", "_", "read", "_", "reg", "(", "chip", "-", ">", "client", ",", "MAX17042", "_", "STATUS", ")", ";", "<nl>"], "docstring_tokens": ["max17042_battery", "Handle", "irq", "request", "failure", "case"]}
{"code_tokens": ["int", "add", "_", "mtd", "_", "partitions", "(", "struct", "mtd", "_", "info", "*", "master", ",", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "nbparts", ";", "i", "+", "+", ")", "{", "<nl>", "slave", "=", "allocate", "_", "partition", "(", "master", ",", "parts", "+", "i", ",", "i", ",", "cur", "_", "offset", ")", ";", "<nl>", "-", "if", "(", "IS", "_", "ERR", "(", "slave", ")", ")", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "slave", ")", ")", "{", "<nl>", "+", "del", "_", "mtd", "_", "partitions", "(", "master", ")", ";", "<nl>", "return", "PTR", "_", "ERR", "(", "slave", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "mtd", "_", "partitions", "_", "mutex", ")", ";", "<nl>", "list", "_", "add", "(", "&", "slave", "-", ">", "list", ",", "&", "mtd", "_", "partitions", ")", ";", "<nl>"], "docstring_tokens": ["mtd", "mtdpart", "fix", "add_mtd_partitions", "error", "path"]}
{"code_tokens": ["void", "spu", "_", "deactivate", "(", "struct", "spu", "_", "context", "*", "ctx", ")", "<nl>", "*", "/", "<nl>", "void", "spu", "_", "yield", "(", "struct", "spu", "_", "context", "*", "ctx", ")", "<nl>", "{", "<nl>", "-", "mutex", "_", "lock", "(", "&", "ctx", "-", ">", "state", "_", "mutex", ")", ";", "<nl>", "-", "_", "_", "spu", "_", "deactivate", "(", "ctx", ",", "0", ",", "MAX", "_", "PRIO", ")", ";", "<nl>", "-", "mutex", "_", "unlock", "(", "&", "ctx", "-", ">", "state", "_", "mutex", ")", ";", "<nl>", "+", "if", "(", "!", "(", "ctx", "-", ">", "flags", "&", "SPU", "_", "CREATE", "_", "NOSCHED", ")", ")", "{", "<nl>", "+", "mutex", "_", "lock", "(", "&", "ctx", "-", ">", "state", "_", "mutex", ")", ";", "<nl>", "+", "_", "_", "spu", "_", "deactivate", "(", "ctx", ",", "0", ",", "MAX", "_", "PRIO", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "ctx", "-", ">", "state", "_", "mutex", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "void", "spu", "_", "sched", "_", "tick", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>"], "docstring_tokens": ["POWERPC", "spufs", "Don", "t", "yield", "nosched", "context"]}
{"code_tokens": ["int", "vmw", "_", "du", "_", "crtc", "_", "cursor", "_", "set", "(", "struct", "drm", "_", "crtc", "*", "crtc", ",", "struct", "drm", "_", "file", "*", "file", "_", "priv", ",", "<nl>", "if", "(", "!", "ret", ")", "{", "<nl>", "if", "(", "!", "surface", "-", ">", "snooper", ".", "image", ")", "{", "<nl>", "DRM", "_", "ERROR", "(", "\"", "surface", "not", "suitable", "for", "cursor", "\\", "n", "\"", ")", ";", "<nl>", "+", "vmw", "_", "surface", "_", "unreference", "(", "&", "surface", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["vmwgfx", "Unreference", "surface", "on", "cursor", "error", "path"]}
{"code_tokens": ["static", "void", "adjust", "_", "proxy", "_", "tun", "_", "qkey", "(", "struct", "mlx4", "_", "dev", "*", "dev", ",", "struct", "mlx4", "_", "vhcr", "*", "vhcr", ",", "<nl>", "context", "-", ">", "qkey", "=", "cpu", "_", "to", "_", "be32", "(", "qkey", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "adjust", "_", "qp", "_", "sched", "_", "queue", "(", "struct", "mlx4", "_", "dev", "*", "dev", ",", "int", "slave", ",", "<nl>", "+", "struct", "mlx4", "_", "qp", "_", "context", "*", "qpc", ",", "<nl>", "+", "struct", "mlx4", "_", "cmd", "_", "mailbox", "*", "inbox", ")", ";", "<nl>", "+", "<nl>", "int", "mlx4", "_", "RST2INIT", "_", "QP", "_", "wrapper", "(", "struct", "mlx4", "_", "dev", "*", "dev", ",", "int", "slave", ",", "<nl>", "struct", "mlx4", "_", "vhcr", "*", "vhcr", ",", "<nl>", "struct", "mlx4", "_", "cmd", "_", "mailbox", "*", "inbox", ",", "<nl>", "int", "mlx4", "_", "RST2INIT", "_", "QP", "_", "wrapper", "(", "struct", "mlx4", "_", "dev", "*", "dev", ",", "int", "slave", ",", "<nl>", "struct", "res", "_", "srq", "*", "srq", ";", "<nl>", "int", "local", "_", "qpn", "=", "be32", "_", "to", "_", "cpu", "(", "qpc", "-", ">", "local", "_", "qpn", ")", "&", "0xffffff", ";", "<nl>", "<nl>", "+", "err", "=", "adjust", "_", "qp", "_", "sched", "_", "queue", "(", "dev", ",", "slave", ",", "qpc", ",", "inbox", ")", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "return", "err", ";", "<nl>", "+", "<nl>", "err", "=", "qp", "_", "res", "_", "start", "_", "move", "_", "to", "(", "dev", ",", "slave", ",", "qpn", ",", "RES", "_", "QP", "_", "HW", ",", "&", "qp", ",", "0", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "return", "err", ";", "<nl>"], "docstring_tokens": ["net", "mlx4_core", "Adjust", "the", "schedule", "queue", "port", "in", "reset", "to", "init", "too"]}
{"code_tokens": ["static", "const", "struct", "usb", "_", "device", "_", "id", "usb", "_", "quirk", "_", "list", "[", "]", "=", "{", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x0b05", ",", "0x17e0", ")", ",", ".", "driver", "_", "info", "=", "<nl>", "USB", "_", "QUIRK", "_", "IGNORE", "_", "REMOTE", "_", "WAKEUP", "}", ",", "<nl>", "<nl>", "+", "/", "*", "Protocol", "and", "OTG", "Electrical", "Test", "Device", "*", "/", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "0x1a0a", ",", "0x0200", ")", ",", ".", "driver", "_", "info", "=", "<nl>", "+", "USB", "_", "QUIRK", "_", "LINEAR", "_", "UFRAME", "_", "INTR", "_", "BINTERVAL", "}", ",", "<nl>", "+", "<nl>", "{", "}", "/", "*", "terminating", "entry", "must", "be", "last", "*", "/", "<nl>", "}", ";", "<nl>", "static", "const", "struct", "usb", "_", "device", "_", "id", "usb", "_", "quirk", "_", "list", "[", "]", "=", "{", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x0b05", ",", "0x17e0", ")", ",", ".", "driver", "_", "info", "=", "<nl>", "USB", "_", "QUIRK", "_", "IGNORE", "_", "REMOTE", "_", "WAKEUP", "}", ",", "<nl>", "<nl>", "+", "/", "*", "Protocol", "and", "OTG", "Electrical", "Test", "Device", "*", "/", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "0x1a0a", ",", "0x0200", ")", ",", ".", "driver", "_", "info", "=", "<nl>", "+", "USB", "_", "QUIRK", "_", "LINEAR", "_", "UFRAME", "_", "INTR", "_", "BINTERVAL", "}", ",", "<nl>", "+", "<nl>", "{", "}", "/", "*", "terminating", "entry", "must", "be", "last", "*", "/", "<nl>", "}", ";", "<nl>", "<nl>", "static", "int", "is", "_", "targeted", "(", "struct", "usb", "_", "device", "*", "dev", ")", "<nl>", "le16", "_", "to", "_", "cpu", "(", "dev", "-", ">", "descriptor", ".", "idProduct", ")", "=", "=", "0xbadd", ")", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "/", "*", "OTG", "PET", "device", "is", "always", "targeted", "(", "see", "OTG", "2", ".", "0", "ECN", "6", ".", "4", ".", "2", ")", "*", "/", "<nl>", "+", "if", "(", "(", "le16", "_", "to", "_", "cpu", "(", "dev", "-", ">", "descriptor", ".", "idVendor", ")", "=", "=", "0x1a0a", "&", "&", "<nl>", "+", "le16", "_", "to", "_", "cpu", "(", "dev", "-", ">", "descriptor", ".", "idProduct", ")", "=", "=", "0x0200", ")", ")", "<nl>", "+", "return", "1", ";", "<nl>", "+", "<nl>", "/", "*", "NOTE", ":", "can", "'", "t", "use", "usb", "_", "match", "_", "id", "(", ")", "since", "interface", "caches", "<nl>", "*", "aren", "'", "t", "set", "up", "yet", ".", "this", "is", "cut", "/", "paste", "from", "that", "code", ".", "<nl>", "*", "/", "<nl>"], "docstring_tokens": ["USB", "Add", "OTG", "PET", "device", "to", "TPL"]}
{"code_tokens": ["static", "int", "nf", "_", "tables", "_", "delflowtable", "(", "struct", "net", "*", "net", ",", "struct", "sock", "*", "nlsk", ",", "<nl>", "struct", "nft", "_", "table", "*", "table", ";", "<nl>", "struct", "nft", "_", "ctx", "ctx", ";", "<nl>", "<nl>", "+", "if", "(", "!", "nla", "[", "NFTA", "_", "FLOWTABLE", "_", "TABLE", "]", "|", "|", "<nl>", "+", "(", "!", "nla", "[", "NFTA", "_", "FLOWTABLE", "_", "NAME", "]", "&", "&", "<nl>", "+", "!", "nla", "[", "NFTA", "_", "FLOWTABLE", "_", "HANDLE", "]", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "table", "=", "nf", "_", "tables", "_", "table", "_", "lookup", "(", "net", ",", "nla", "[", "NFTA", "_", "FLOWTABLE", "_", "TABLE", "]", ",", "<nl>", "family", ",", "genmask", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "table", ")", ")", "<nl>"], "docstring_tokens": ["netfilter", "nf_tables", "missing", "attribute", "validation", "in", "nf_tables_delflowtable"]}
{"code_tokens": ["int", "snd", "_", "soc", "_", "jack", "_", "add", "_", "gpios", "(", "struct", "snd", "_", "soc", "_", "jack", "*", "jack", ",", "int", "count", ",", "<nl>", "goto", "undo", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "gpios", "[", "i", "]", ".", "gpiod", "_", "dev", ")", "{", "<nl>", "-", "/", "*", "GPIO", "descriptor", "*", "/", "<nl>", "+", "if", "(", "gpios", "[", "i", "]", ".", "desc", ")", "{", "<nl>", "+", "/", "*", "Already", "have", "a", "GPIO", "descriptor", ".", "*", "/", "<nl>", "+", "goto", "got", "_", "gpio", ";", "<nl>", "+", "}", "else", "if", "(", "gpios", "[", "i", "]", ".", "gpiod", "_", "dev", ")", "{", "<nl>", "+", "/", "*", "Get", "a", "GPIO", "descriptor", "*", "/", "<nl>", "gpios", "[", "i", "]", ".", "desc", "=", "gpiod", "_", "get", "_", "index", "(", "gpios", "[", "i", "]", ".", "gpiod", "_", "dev", ",", "<nl>", "gpios", "[", "i", "]", ".", "name", ",", "<nl>", "gpios", "[", "i", "]", ".", "idx", ",", "GPIOD", "_", "IN", ")", ";", "<nl>", "int", "snd", "_", "soc", "_", "jack", "_", "add", "_", "gpios", "(", "struct", "snd", "_", "soc", "_", "jack", "*", "jack", ",", "int", "count", ",", "<nl>", "<nl>", "gpios", "[", "i", "]", ".", "desc", "=", "gpio", "_", "to", "_", "desc", "(", "gpios", "[", "i", "]", ".", "gpio", ")", ";", "<nl>", "}", "<nl>", "-", "<nl>", "+", "got", "_", "gpio", ":", "<nl>", "INIT", "_", "DELAYED", "_", "WORK", "(", "&", "gpios", "[", "i", "]", ".", "work", ",", "gpio", "_", "work", ")", ";", "<nl>", "gpios", "[", "i", "]", ".", "jack", "=", "jack", ";", "<nl>"], "docstring_tokens": ["ASoC", "jack", "add_gpiods", "accepts", "filled", "descriptors"]}
{"code_tokens": ["static", "struct", "xt", "_", "match", "xt", "_", "time", "_", "mt", "_", "reg", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", "<nl>", "static", "int", "_", "_", "init", "time", "_", "mt", "_", "init", "(", "void", ")", "<nl>", "{", "<nl>", "+", "int", "minutes", "=", "sys", "_", "tz", ".", "tz", "_", "minuteswest", ";", "<nl>", "+", "<nl>", "+", "if", "(", "minutes", "<", "0", ")", "/", "*", "east", "of", "Greenwich", "*", "/", "<nl>", "+", "printk", "(", "KERN", "_", "INFO", "KBUILD", "_", "MODNAME", "<nl>", "+", "\"", ":", "kernel", "timezone", "is", "+", "%", "02d", "%", "02d", "\\", "n", "\"", ",", "<nl>", "+", "-", "minutes", "/", "60", ",", "-", "minutes", "%", "60", ")", ";", "<nl>", "+", "else", "/", "*", "west", "of", "Greenwich", "*", "/", "<nl>", "+", "printk", "(", "KERN", "_", "INFO", "KBUILD", "_", "MODNAME", "<nl>", "+", "\"", ":", "kernel", "timezone", "is", "-", "%", "02d", "%", "02d", "\\", "n", "\"", ",", "<nl>", "+", "minutes", "/", "60", ",", "minutes", "%", "60", ")", ";", "<nl>", "+", "<nl>", "return", "xt", "_", "register", "_", "match", "(", "&", "xt", "_", "time", "_", "mt", "_", "reg", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["netfilter", "08", "09", "xt_time", "print", "timezone", "for", "user", "information"]}
{"code_tokens": ["static", "int", "coda", "_", "alloc", "_", "framebuffers", "(", "struct", "coda", "_", "ctx", "*", "ctx", ",", "<nl>", "dev", "-", ">", "devtype", "-", ">", "product", "!", "=", "CODA", "_", "DX6", ")", "<nl>", "size", "+", "=", "ysize", "/", "4", ";", "<nl>", "name", "=", "kasprintf", "(", "GFP", "_", "KERNEL", ",", "\"", "fb", "%", "d", "\"", ",", "i", ")", ";", "<nl>", "+", "if", "(", "!", "name", ")", "{", "<nl>", "+", "coda", "_", "free", "_", "framebuffers", "(", "ctx", ")", ";", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "}", "<nl>", "ret", "=", "coda", "_", "alloc", "_", "context", "_", "buf", "(", "ctx", ",", "&", "ctx", "-", ">", "internal", "_", "frames", "[", "i", "]", ",", "<nl>", "size", ",", "name", ")", ";", "<nl>", "kfree", "(", "name", ")", ";", "<nl>"], "docstring_tokens": ["media", "coda", "Handle", "return", "value", "of", "kasprintf"]}
{"code_tokens": ["int", "ieee80211", "_", "if", "_", "add", "(", "struct", "ieee80211", "_", "local", "*", "local", ",", "const", "char", "*", "name", ",", "<nl>", "<nl>", "ret", "=", "dev", "_", "alloc", "_", "name", "(", "ndev", ",", "ndev", "-", ">", "name", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "-", "free", "_", "netdev", "(", "ndev", ")", ";", "<nl>", "+", "ieee80211", "_", "if", "_", "free", "(", "ndev", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "int", "ieee80211", "_", "if", "_", "add", "(", "struct", "ieee80211", "_", "local", "*", "local", ",", "const", "char", "*", "name", ",", "<nl>", "<nl>", "ret", "=", "register", "_", "netdevice", "(", "ndev", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "-", "free", "_", "netdev", "(", "ndev", ")", ";", "<nl>", "+", "ieee80211", "_", "if", "_", "free", "(", "ndev", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["mac80211", "fix", "statistics", "leak", "if", "dev_alloc_name", "fails"]}
{"code_tokens": ["int", "swiotlb", "_", "_", "read", "_", "mostly", ";", "<nl>", "EXPORT", "_", "SYMBOL", "(", "swiotlb", ")", ";", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "swiotlb", "_", "dma", "_", "mapping", "_", "error", ",", "<nl>", ".", "alloc", "_", "coherent", "=", "swiotlb", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "free", "_", "coherent", "=", "swiotlb", "_", "free", "_", "coherent", ",", "mmm", "arch", "/", "x86", "_", "64", "/", "kernel", "/", "pci", "-", "calgary", ".", "c", "<nl>", "int", "swiotlb", "_", "_", "read", "_", "mostly", ";", "<nl>", "EXPORT", "_", "SYMBOL", "(", "swiotlb", ")", ";", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "swiotlb", "_", "dma", "_", "mapping", "_", "error", ",", "<nl>", ".", "alloc", "_", "coherent", "=", "swiotlb", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "free", "_", "coherent", "=", "swiotlb", "_", "free", "_", "coherent", ",", "<nl>", "void", "*", "calgary", "_", "alloc", "_", "coherent", "(", "struct", "device", "*", "dev", ",", "size", "_", "t", "size", ",", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "alloc", "_", "coherent", "=", "calgary", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "map", "_", "single", "=", "calgary", "_", "map", "_", "single", ",", "<nl>", ".", "unmap", "_", "single", "=", "calgary", "_", "unmap", "_", "single", ",", "mmm", "arch", "/", "x86", "_", "64", "/", "kernel", "/", "pci", "-", "gart", ".", "c", "<nl>", "int", "swiotlb", "_", "_", "read", "_", "mostly", ";", "<nl>", "EXPORT", "_", "SYMBOL", "(", "swiotlb", ")", ";", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "swiotlb", "_", "dma", "_", "mapping", "_", "error", ",", "<nl>", ".", "alloc", "_", "coherent", "=", "swiotlb", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "free", "_", "coherent", "=", "swiotlb", "_", "free", "_", "coherent", ",", "<nl>", "void", "*", "calgary", "_", "alloc", "_", "coherent", "(", "struct", "device", "*", "dev", ",", "size", "_", "t", "size", ",", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "alloc", "_", "coherent", "=", "calgary", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "map", "_", "single", "=", "calgary", "_", "map", "_", "single", ",", "<nl>", ".", "unmap", "_", "single", "=", "calgary", "_", "unmap", "_", "single", ",", "<nl>", "static", "_", "_", "init", "int", "init", "_", "k8", "_", "gatt", "(", "struct", "agp", "_", "kern", "_", "info", "*", "info", ")", "<nl>", "<nl>", "extern", "int", "agp", "_", "amd64", "_", "init", "(", "void", ")", ";", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "gart", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "gart", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "NULL", ",", "<nl>", ".", "map", "_", "single", "=", "gart", "_", "map", "_", "single", ",", "<nl>", ".", "map", "_", "simple", "=", "gart", "_", "map", "_", "simple", ",", "mmm", "arch", "/", "x86", "_", "64", "/", "kernel", "/", "pci", "-", "nommu", ".", "c", "<nl>", "int", "swiotlb", "_", "_", "read", "_", "mostly", ";", "<nl>", "EXPORT", "_", "SYMBOL", "(", "swiotlb", ")", ";", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "swiotlb", "_", "dma", "_", "mapping", "_", "error", ",", "<nl>", ".", "alloc", "_", "coherent", "=", "swiotlb", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "free", "_", "coherent", "=", "swiotlb", "_", "free", "_", "coherent", ",", "<nl>", "void", "*", "calgary", "_", "alloc", "_", "coherent", "(", "struct", "device", "*", "dev", ",", "size", "_", "t", "size", ",", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "alloc", "_", "coherent", "=", "calgary", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "map", "_", "single", "=", "calgary", "_", "map", "_", "single", ",", "<nl>", ".", "unmap", "_", "single", "=", "calgary", "_", "unmap", "_", "single", ",", "<nl>", "static", "_", "_", "init", "int", "init", "_", "k8", "_", "gatt", "(", "struct", "agp", "_", "kern", "_", "info", "*", "info", ")", "<nl>", "<nl>", "extern", "int", "agp", "_", "amd64", "_", "init", "(", "void", ")", ";", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "gart", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "gart", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "NULL", ",", "<nl>", ".", "map", "_", "single", "=", "gart", "_", "map", "_", "single", ",", "<nl>", ".", "map", "_", "simple", "=", "gart", "_", "map", "_", "simple", ",", "<nl>", "void", "nommu", "_", "unmap", "_", "sg", "(", "struct", "device", "*", "dev", ",", "struct", "scatterlist", "*", "sg", ",", "<nl>", "{", "<nl>", "}", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "nommu", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "nommu", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "map", "_", "single", "=", "nommu", "_", "map", "_", "single", ",", "<nl>", ".", "unmap", "_", "single", "=", "nommu", "_", "unmap", "_", "single", ",", "<nl>", ".", "map", "_", "sg", "=", "nommu", "_", "map", "_", "sg", ",", "mmm", "arch", "/", "x86", "_", "64", "/", "mm", "/", "init", ".", "c", "<nl>", "int", "swiotlb", "_", "_", "read", "_", "mostly", ";", "<nl>", "EXPORT", "_", "SYMBOL", "(", "swiotlb", ")", ";", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "swiotlb", "_", "dma", "_", "mapping", "_", "error", ",", "<nl>", ".", "alloc", "_", "coherent", "=", "swiotlb", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "free", "_", "coherent", "=", "swiotlb", "_", "free", "_", "coherent", ",", "<nl>", "void", "*", "calgary", "_", "alloc", "_", "coherent", "(", "struct", "device", "*", "dev", ",", "size", "_", "t", "size", ",", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "alloc", "_", "coherent", "=", "calgary", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "map", "_", "single", "=", "calgary", "_", "map", "_", "single", ",", "<nl>", ".", "unmap", "_", "single", "=", "calgary", "_", "unmap", "_", "single", ",", "<nl>", "static", "_", "_", "init", "int", "init", "_", "k8", "_", "gatt", "(", "struct", "agp", "_", "kern", "_", "info", "*", "info", ")", "<nl>", "<nl>", "extern", "int", "agp", "_", "amd64", "_", "init", "(", "void", ")", ";", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "gart", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "gart", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "NULL", ",", "<nl>", ".", "map", "_", "single", "=", "gart", "_", "map", "_", "single", ",", "<nl>", ".", "map", "_", "simple", "=", "gart", "_", "map", "_", "simple", ",", "<nl>", "void", "nommu", "_", "unmap", "_", "sg", "(", "struct", "device", "*", "dev", ",", "struct", "scatterlist", "*", "sg", ",", "<nl>", "{", "<nl>", "}", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "nommu", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "nommu", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "map", "_", "single", "=", "nommu", "_", "map", "_", "single", ",", "<nl>", ".", "unmap", "_", "single", "=", "nommu", "_", "unmap", "_", "single", ",", "<nl>", ".", "map", "_", "sg", "=", "nommu", "_", "map", "_", "sg", ",", "<nl>", "#", "define", "Dprintk", "(", "x", ".", ".", ".", ")", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "*", "dma", "_", "ops", ";", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "*", "dma", "_", "ops", ";", "<nl>", "EXPORT", "_", "SYMBOL", "(", "dma", "_", "ops", ")", ";", "<nl>", "<nl>", "static", "unsigned", "long", "dma", "_", "reserve", "_", "_", "initdata", ";", "mmm", "include", "/", "asm", "-", "x86", "_", "64", "/", "dma", "-", "mapping", ".", "h", "<nl>", "int", "swiotlb", "_", "_", "read", "_", "mostly", ";", "<nl>", "EXPORT", "_", "SYMBOL", "(", "swiotlb", ")", ";", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "swiotlb", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "swiotlb", "_", "dma", "_", "mapping", "_", "error", ",", "<nl>", ".", "alloc", "_", "coherent", "=", "swiotlb", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "free", "_", "coherent", "=", "swiotlb", "_", "free", "_", "coherent", ",", "<nl>", "void", "*", "calgary", "_", "alloc", "_", "coherent", "(", "struct", "device", "*", "dev", ",", "size", "_", "t", "size", ",", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "calgary", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "alloc", "_", "coherent", "=", "calgary", "_", "alloc", "_", "coherent", ",", "<nl>", ".", "map", "_", "single", "=", "calgary", "_", "map", "_", "single", ",", "<nl>", ".", "unmap", "_", "single", "=", "calgary", "_", "unmap", "_", "single", ",", "<nl>", "static", "_", "_", "init", "int", "init", "_", "k8", "_", "gatt", "(", "struct", "agp", "_", "kern", "_", "info", "*", "info", ")", "<nl>", "<nl>", "extern", "int", "agp", "_", "amd64", "_", "init", "(", "void", ")", ";", "<nl>", "<nl>", "-", "static", "struct", "dma", "_", "mapping", "_", "ops", "gart", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "dma", "_", "mapping", "_", "ops", "gart", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "mapping", "_", "error", "=", "NULL", ",", "<nl>", ".", "map", "_", "single", "=", "gart", "_", "map", "_", "single", ",", "<nl>", ".", "map", "_", "simple", "=", "gart", "_", "map", "_", "simple", ",", "<nl>", "void", "nommu", "_", "unmap", "_", "sg", "(", "struct", "device", "*", "dev", ",", "struct", "scatterlist", "*", "sg", ",", "<nl>", "{", "<nl>", "}", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "nommu", "_", "dma", "_", "ops", "=", "{", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "nommu", "_", "dma", "_", "ops", "=", "{", "<nl>", ".", "map", "_", "single", "=", "nommu", "_", "map", "_", "single", ",", "<nl>", ".", "unmap", "_", "single", "=", "nommu", "_", "unmap", "_", "single", ",", "<nl>", ".", "map", "_", "sg", "=", "nommu", "_", "map", "_", "sg", ",", "<nl>", "#", "define", "Dprintk", "(", "x", ".", ".", ".", ")", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "struct", "dma", "_", "mapping", "_", "ops", "*", "dma", "_", "ops", ";", "<nl>", "+", "const", "struct", "dma", "_", "mapping", "_", "ops", "*", "dma", "_", "ops", ";", "<nl>", "EXPORT", "_", "SYMBOL", "(", "dma", "_", "ops", ")", ";", "<nl>", "<nl>", "static", "unsigned", "long", "dma", "_", "reserve", "_", "_", "initdata", ";", "<nl>", "struct", "dma", "_", "mapping", "_", "ops", "{", "<nl>", "}", ";", "<nl>", "<nl>", "extern", "dma", "_", "addr", "_", "t", "bad", "_", "dma", "_", "address", ";", "<nl>", "-", "extern", "struct", "dma", "_", "mapping", "_", "ops", "*", "dma", "_", "ops", ";", "<nl>", "+", "extern", "const", "struct", "dma", "_", "mapping", "_", "ops", "*", "dma", "_", "ops", ";", "<nl>", "extern", "int", "iommu", "_", "merge", ";", "<nl>", "<nl>", "static", "inline", "int", "dma", "_", "mapping", "_", "error", "(", "dma", "_", "addr", "_", "t", "dma", "_", "addr", ")", "<nl>"], "docstring_tokens": ["PATCH", "x86", "64", "dma_ops", "as", "const"]}
{"code_tokens": ["int", "cx23885", "_", "dvb", "_", "unregister", "(", "struct", "cx23885", "_", "tsport", "*", "port", ")", "<nl>", "*", "implement", "MFE", "support", ".", "<nl>", "*", "/", "<nl>", "fe0", "=", "videobuf", "_", "dvb", "_", "get", "_", "frontend", "(", "&", "port", "-", ">", "frontends", ",", "1", ")", ";", "<nl>", "-", "if", "(", "fe0", "-", ">", "dvb", ".", "frontend", ")", "<nl>", "+", "if", "(", "fe0", "&", "&", "fe0", "-", ">", "dvb", ".", "frontend", ")", "<nl>", "videobuf", "_", "dvb", "_", "unregister", "_", "bus", "(", "&", "port", "-", ">", "frontends", ")", ";", "<nl>", "<nl>", "switch", "(", "port", "-", ">", "dev", "-", ">", "board", ")", "{", "<nl>"], "docstring_tokens": ["media", "Don", "t", "OOPS", "if", "videobuf_dvb_get_frontend", "return", "NULL"]}
{"code_tokens": ["static", "void", "fbcon", "_", "deinit", "(", "struct", "vc", "_", "data", "*", "vc", ")", "<nl>", "finished", ":", "<nl>", "<nl>", "fbcon", "_", "free", "_", "font", "(", "p", ",", "free", "_", "font", ")", ";", "<nl>", "+", "if", "(", "free", "_", "font", ")", "<nl>", "+", "vc", "-", ">", "vc", "_", "font", ".", "data", "=", "NULL", ";", "<nl>", "<nl>", "if", "(", "!", "con", "_", "is", "_", "bound", "(", "&", "fb", "_", "con", ")", ")", "<nl>", "fbcon", "_", "exit", "(", ")", ";", "<nl>"], "docstring_tokens": ["fbcon", "when", "font", "is", "freed", "clear", "also", "vc_font", "data"]}
{"code_tokens": ["static", "void", "set", "_", "avi", "_", "info", "_", "frame", "(", "<nl>", "info", "_", "packet", "-", ">", "hb2", "=", "<nl>", "info", "_", "frame", ".", "avi", "_", "info", "_", "packet", ".", "info", "_", "packet", "_", "hdmi", ".", "packet", "_", "raw", "_", "data", ".", "hb2", ";", "<nl>", "<nl>", "-", "for", "(", "byte", "_", "index", "=", "0", ";", "byte", "_", "index", "<", "sizeof", "(", "info", "_", "packet", "-", ">", "sb", ")", ";", "byte", "_", "index", "+", "+", ")", "<nl>", "+", "for", "(", "byte", "_", "index", "=", "0", ";", "byte", "_", "index", "<", "sizeof", "(", "info", "_", "frame", ".", "avi", "_", "info", "_", "packet", ".", "<nl>", "+", "info", "_", "packet", "_", "hdmi", ".", "packet", "_", "raw", "_", "data", ".", "sb", ")", ";", "byte", "_", "index", "+", "+", ")", "<nl>", "info", "_", "packet", "-", ">", "sb", "[", "byte", "_", "index", "]", "=", "info", "_", "frame", ".", "avi", "_", "info", "_", "packet", ".", "<nl>", "-", "info", "_", "packet", "_", "hdmi", ".", "packet", "_", "raw", "_", "data", ".", "sb", "[", "byte", "_", "index", "]", ";", "<nl>", "+", "info", "_", "packet", "_", "hdmi", ".", "packet", "_", "raw", "_", "data", ".", "sb", "[", "byte", "_", "index", "]", ";", "<nl>", "<nl>", "info", "_", "packet", "-", ">", "valid", "=", "true", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "amd", "display", "Fix", "wrong", "index", "bug", "in", "set_avi_info_frame"]}
{"code_tokens": ["static", "struct", "task", "_", "struct", "*", "copy", "_", "process", "(", "unsigned", "long", "clone", "_", "flags", ",", "<nl>", "if", "(", "(", "clone", "_", "flags", "&", "(", "CLONE", "_", "NEWNS", "|", "CLONE", "_", "FS", ")", ")", "=", "=", "(", "CLONE", "_", "NEWNS", "|", "CLONE", "_", "FS", ")", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "<nl>", "+", "if", "(", "(", "clone", "_", "flags", "&", "(", "CLONE", "_", "NEWUSER", "|", "CLONE", "_", "FS", ")", ")", "=", "=", "(", "CLONE", "_", "NEWUSER", "|", "CLONE", "_", "FS", ")", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Thread", "groups", "must", "share", "signals", "as", "well", ",", "and", "detached", "threads", "<nl>", "*", "can", "only", "be", "started", "up", "within", "the", "thread", "group", ".", "<nl>", "SYSCALL", "_", "DEFINE1", "(", "unshare", ",", "unsigned", "long", ",", "unshare", "_", "flags", ")", "<nl>", "*", "If", "unsharing", "a", "user", "namespace", "must", "also", "unshare", "the", "thread", ".", "<nl>", "*", "/", "<nl>", "if", "(", "unshare", "_", "flags", "&", "CLONE", "_", "NEWUSER", ")", "<nl>", "-", "unshare", "_", "flags", "|", "=", "CLONE", "_", "THREAD", ";", "<nl>", "+", "unshare", "_", "flags", "|", "=", "CLONE", "_", "THREAD", "|", "CLONE", "_", "FS", ";", "<nl>", "/", "*", "<nl>", "*", "If", "unsharing", "a", "pid", "namespace", "must", "also", "unshare", "the", "thread", ".", "<nl>", "*", "/", "mmm", "kernel", "/", "user", "_", "namespace", ".", "c", "<nl>", "static", "struct", "task", "_", "struct", "*", "copy", "_", "process", "(", "unsigned", "long", "clone", "_", "flags", ",", "<nl>", "if", "(", "(", "clone", "_", "flags", "&", "(", "CLONE", "_", "NEWNS", "|", "CLONE", "_", "FS", ")", ")", "=", "=", "(", "CLONE", "_", "NEWNS", "|", "CLONE", "_", "FS", ")", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "<nl>", "+", "if", "(", "(", "clone", "_", "flags", "&", "(", "CLONE", "_", "NEWUSER", "|", "CLONE", "_", "FS", ")", ")", "=", "=", "(", "CLONE", "_", "NEWUSER", "|", "CLONE", "_", "FS", ")", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Thread", "groups", "must", "share", "signals", "as", "well", ",", "and", "detached", "threads", "<nl>", "*", "can", "only", "be", "started", "up", "within", "the", "thread", "group", ".", "<nl>", "SYSCALL", "_", "DEFINE1", "(", "unshare", ",", "unsigned", "long", ",", "unshare", "_", "flags", ")", "<nl>", "*", "If", "unsharing", "a", "user", "namespace", "must", "also", "unshare", "the", "thread", ".", "<nl>", "*", "/", "<nl>", "if", "(", "unshare", "_", "flags", "&", "CLONE", "_", "NEWUSER", ")", "<nl>", "-", "unshare", "_", "flags", "|", "=", "CLONE", "_", "THREAD", ";", "<nl>", "+", "unshare", "_", "flags", "|", "=", "CLONE", "_", "THREAD", "|", "CLONE", "_", "FS", ";", "<nl>", "/", "*", "<nl>", "*", "If", "unsharing", "a", "pid", "namespace", "must", "also", "unshare", "the", "thread", ".", "<nl>", "*", "/", "<nl>", "#", "include", "<", "linux", "/", "uaccess", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "ctype", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "projid", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "fs", "_", "struct", ".", "h", ">", "<nl>", "<nl>", "static", "struct", "kmem", "_", "cache", "*", "user", "_", "ns", "_", "cachep", "_", "_", "read", "_", "mostly", ";", "<nl>", "<nl>", "static", "int", "userns", "_", "install", "(", "struct", "nsproxy", "*", "nsproxy", ",", "void", "*", "ns", ")", "<nl>", "if", "(", "atomic", "_", "read", "(", "&", "current", "-", ">", "mm", "-", ">", "mm", "_", "users", ")", ">", "1", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "if", "(", "current", "-", ">", "fs", "-", ">", "users", "!", "=", "1", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "if", "(", "!", "ns", "_", "capable", "(", "user", "_", "ns", ",", "CAP", "_", "SYS", "_", "ADMIN", ")", ")", "<nl>", "return", "-", "EPERM", ";", "<nl>"], "docstring_tokens": ["userns", "Don", "t", "allow", "CLONE_NEWUSER", "CLONE_FS"]}
{"code_tokens": ["static", "int", "intel", "_", "backlight", "_", "device", "_", "update", "_", "status", "(", "struct", "backlight", "_", "device", "*", "bd", ")", "<nl>", "*", "/", "<nl>", "if", "(", "panel", "-", ">", "backlight", ".", "enabled", ")", "{", "<nl>", "if", "(", "panel", "-", ">", "backlight", "_", "power", ")", "{", "<nl>", "-", "bool", "enable", "=", "bd", "-", ">", "props", ".", "power", "=", "=", "FB", "_", "BLANK", "_", "UNBLANK", ";", "<nl>", "+", "bool", "enable", "=", "bd", "-", ">", "props", ".", "power", "=", "=", "FB", "_", "BLANK", "_", "UNBLANK", "&", "&", "<nl>", "+", "bd", "-", ">", "props", ".", "brightness", "!", "=", "0", ";", "<nl>", "panel", "-", ">", "backlight", "_", "power", "(", "connector", ",", "enable", ")", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["drm", "i915", "switch", "off", "backlight", "for", "backlight", "class", "0", "brightness"]}
{"code_tokens": ["static", "void", "macvlan", "_", "process", "_", "broadcast", "(", "struct", "work", "_", "struct", "*", "w", ")", "<nl>", "static", "void", "macvlan", "_", "broadcast", "_", "enqueue", "(", "struct", "macvlan", "_", "port", "*", "port", ",", "<nl>", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "{", "<nl>", "+", "struct", "sk", "_", "buff", "*", "nskb", ";", "<nl>", "int", "err", "=", "-", "ENOMEM", ";", "<nl>", "<nl>", "-", "skb", "=", "skb", "_", "clone", "(", "skb", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "-", "if", "(", "!", "skb", ")", "<nl>", "+", "nskb", "=", "skb", "_", "clone", "(", "skb", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "if", "(", "!", "nskb", ")", "<nl>", "goto", "err", ";", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "port", "-", ">", "bc", "_", "queue", ".", "lock", ")", ";", "<nl>", "if", "(", "skb", "_", "queue", "_", "len", "(", "&", "port", "-", ">", "bc", "_", "queue", ")", "<", "skb", "-", ">", "dev", "-", ">", "tx", "_", "queue", "_", "len", ")", "{", "<nl>", "-", "_", "_", "skb", "_", "queue", "_", "tail", "(", "&", "port", "-", ">", "bc", "_", "queue", ",", "skb", ")", ";", "<nl>", "+", "_", "_", "skb", "_", "queue", "_", "tail", "(", "&", "port", "-", ">", "bc", "_", "queue", ",", "nskb", ")", ";", "<nl>", "err", "=", "0", ";", "<nl>", "}", "<nl>", "spin", "_", "unlock", "(", "&", "port", "-", ">", "bc", "_", "queue", ".", "lock", ")", ";", "<nl>", "<nl>", "if", "(", "err", ")", "<nl>", "-", "goto", "err", ";", "<nl>", "+", "goto", "free", "_", "nskb", ";", "<nl>", "<nl>", "schedule", "_", "work", "(", "&", "port", "-", ">", "bc", "_", "work", ")", ";", "<nl>", "return", ";", "<nl>", "<nl>", "+", "free", "_", "nskb", ":", "<nl>", "+", "kfree", "_", "skb", "(", "nskb", ")", ";", "<nl>", "err", ":", "<nl>", "atomic", "_", "long", "_", "inc", "(", "&", "skb", "-", ">", "dev", "-", ">", "rx", "_", "dropped", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["macvlan", "Fix", "leak", "and", "NULL", "dereference", "on", "error", "path"]}
{"code_tokens": ["static", "_", "_", "cold", "void", "io", "_", "flush", "_", "timeouts", "(", "struct", "io", "_", "ring", "_", "ctx", "*", "ctx", ")", "<nl>", "_", "_", "must", "_", "hold", "(", "&", "ctx", "-", ">", "completion", "_", "lock", ")", "<nl>", "{", "<nl>", "u32", "seq", "=", "ctx", "-", ">", "cached", "_", "cq", "_", "tail", "-", "atomic", "_", "read", "(", "&", "ctx", "-", ">", "cq", "_", "timeouts", ")", ";", "<nl>", "+", "struct", "io", "_", "kiocb", "*", "req", ",", "*", "tmp", ";", "<nl>", "<nl>", "spin", "_", "lock", "_", "irq", "(", "&", "ctx", "-", ">", "timeout", "_", "lock", ")", ";", "<nl>", "-", "while", "(", "!", "list", "_", "empty", "(", "&", "ctx", "-", ">", "timeout", "_", "list", ")", ")", "{", "<nl>", "+", "list", "_", "for", "_", "each", "_", "entry", "_", "safe", "(", "req", ",", "tmp", ",", "&", "ctx", "-", ">", "timeout", "_", "list", ",", "timeout", ".", "list", ")", "{", "<nl>", "u32", "events", "_", "needed", ",", "events", "_", "got", ";", "<nl>", "-", "struct", "io", "_", "kiocb", "*", "req", "=", "list", "_", "first", "_", "entry", "(", "&", "ctx", "-", ">", "timeout", "_", "list", ",", "<nl>", "-", "struct", "io", "_", "kiocb", ",", "timeout", ".", "list", ")", ";", "<nl>", "<nl>", "if", "(", "io", "_", "is", "_", "timeout", "_", "noseq", "(", "req", ")", ")", "<nl>", "break", ";", "<nl>", "static", "_", "_", "cold", "void", "io", "_", "flush", "_", "timeouts", "(", "struct", "io", "_", "ring", "_", "ctx", "*", "ctx", ")", "<nl>", "if", "(", "events", "_", "got", "<", "events", "_", "needed", ")", "<nl>", "break", ";", "<nl>", "<nl>", "-", "list", "_", "del", "_", "init", "(", "&", "req", "-", ">", "timeout", ".", "list", ")", ";", "<nl>", "io", "_", "kill", "_", "timeout", "(", "req", ",", "0", ")", ";", "<nl>", "}", "<nl>", "ctx", "-", ">", "cq", "_", "last", "_", "tm", "_", "flush", "=", "seq", ";", "<nl>", "static", "int", "io", "_", "timeout", "_", "prep", "(", "struct", "io", "_", "kiocb", "*", "req", ",", "const", "struct", "io", "_", "uring", "_", "sqe", "*", "sqe", ",", "<nl>", "if", "(", "data", "-", ">", "ts", ".", "tv", "_", "sec", "<", "0", "|", "|", "data", "-", ">", "ts", ".", "tv", "_", "nsec", "<", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "req", "-", ">", "timeout", ".", "list", ")", ";", "<nl>", "data", "-", ">", "mode", "=", "io", "_", "translate", "_", "timeout", "_", "mode", "(", "flags", ")", ";", "<nl>", "hrtimer", "_", "init", "(", "&", "data", "-", ">", "timer", ",", "io", "_", "timeout", "_", "get", "_", "clock", "(", "data", ")", ",", "data", "-", ">", "mode", ")", ";", "<nl>"], "docstring_tokens": ["io_uring", "fix", "race", "between", "timeout", "flush", "and", "removal"]}
{"code_tokens": ["static", "ssize", "_", "t", "sock", "_", "sendpage", "(", "struct", "file", "*", "file", ",", "struct", "page", "*", "page", ",", "<nl>", "if", "(", "more", ")", "<nl>", "flags", "|", "=", "MSG", "_", "MORE", ";", "<nl>", "<nl>", "-", "return", "sock", "-", ">", "ops", "-", ">", "sendpage", "(", "sock", ",", "page", ",", "offset", ",", "size", ",", "flags", ")", ";", "<nl>", "+", "return", "kernel", "_", "sendpage", "(", "sock", ",", "page", ",", "offset", ",", "size", ",", "flags", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "ssize", "_", "t", "sock", "_", "splice", "_", "read", "(", "struct", "file", "*", "file", ",", "loff", "_", "t", "*", "ppos", ",", "<nl>"], "docstring_tokens": ["Make", "sock_sendpage", "use", "kernel_sendpage"]}
{"code_tokens": ["static", "inline", "void", "ttwu", "_", "post", "_", "activation", "(", "struct", "task", "_", "struct", "*", "p", ",", "struct", "rq", "*", "rq", ",", "<nl>", "if", "(", "p", "-", ">", "sched", "_", "class", "-", ">", "task", "_", "woken", ")", "<nl>", "p", "-", ">", "sched", "_", "class", "-", ">", "task", "_", "woken", "(", "rq", ",", "p", ")", ";", "<nl>", "<nl>", "-", "if", "(", "unlikely", "(", "rq", "-", ">", "idle", "_", "stamp", ")", ")", "{", "<nl>", "+", "if", "(", "rq", "-", ">", "idle", "_", "stamp", ")", "{", "<nl>", "u64", "delta", "=", "rq", "-", ">", "clock", "-", "rq", "-", ">", "idle", "_", "stamp", ";", "<nl>", "u64", "max", "=", "2", "*", "sysctl", "_", "sched", "_", "migration", "_", "cost", ";", "<nl>"], "docstring_tokens": ["sched", "Remove", "unlikely", "from", "ttwu_post_activation"]}
{"code_tokens": ["static", "long", "media", "_", "device", "_", "enum", "_", "entities", "(", "struct", "media", "_", "device", "*", "mdev", ",", "<nl>", "struct", "media", "_", "entity", "*", "ent", ";", "<nl>", "struct", "media", "_", "entity", "_", "desc", "u", "_", "ent", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "u", "_", "ent", ",", "0", ",", "sizeof", "(", "u", "_", "ent", ")", ")", ";", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "u", "_", "ent", ".", "id", ",", "&", "uent", "-", ">", "id", ",", "sizeof", "(", "u", "_", "ent", ".", "id", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>"], "docstring_tokens": ["media", "media", "device", "fix", "infoleak", "in", "ioctl", "media_enum_entities"]}
{"code_tokens": ["struct", "cgw", "_", "job", "{", "<nl>", "struct", "rcu", "_", "head", "rcu", ";", "<nl>", "u32", "handled", "_", "frames", ";", "<nl>", "u32", "dropped", "_", "frames", ";", "<nl>", "+", "u32", "deleted", "_", "frames", ";", "<nl>", "struct", "cf", "_", "mod", "mod", ";", "<nl>", "union", "{", "<nl>", "/", "*", "CAN", "frame", "data", "source", "*", "/", "<nl>", "static", "void", "can", "_", "can", "_", "gw", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "void", "*", "data", ")", "<nl>", "<nl>", "BUG", "_", "ON", "(", "skb", "-", ">", "ip", "_", "summed", "!", "=", "CHECKSUM", "_", "UNNECESSARY", ")", ";", "<nl>", "<nl>", "-", "if", "(", "cgw", "_", "hops", "(", "skb", ")", ">", "=", "max", "_", "hops", ")", "<nl>", "+", "if", "(", "cgw", "_", "hops", "(", "skb", ")", ">", "=", "max", "_", "hops", ")", "{", "<nl>", "+", "/", "*", "indicate", "deleted", "frames", "due", "to", "misconfiguration", "*", "/", "<nl>", "+", "gwj", "-", ">", "deleted", "_", "frames", "+", "+", ";", "<nl>", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "!", "(", "gwj", "-", ">", "dst", ".", "dev", "-", ">", "flags", "&", "IFF", "_", "UP", ")", ")", "{", "<nl>", "gwj", "-", ">", "dropped", "_", "frames", "+", "+", ";", "<nl>", "static", "int", "cgw", "_", "put", "_", "job", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "cgw", "_", "job", "*", "gwj", ",", "int", "type", ",", "<nl>", "goto", "cancel", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "gwj", "-", ">", "deleted", "_", "frames", ")", "{", "<nl>", "+", "if", "(", "nla", "_", "put", "_", "u32", "(", "skb", ",", "CGW", "_", "DELETED", ",", "gwj", "-", ">", "deleted", "_", "frames", ")", "<", "0", ")", "<nl>", "+", "goto", "cancel", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "check", "non", "default", "settings", "of", "attributes", "*", "/", "<nl>", "<nl>", "if", "(", "gwj", "-", ">", "mod", ".", "modtype", ".", "and", ")", "{", "<nl>", "static", "int", "cgw", "_", "create", "_", "job", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "nlmsghdr", "*", "nlh", ",", "<nl>", "<nl>", "gwj", "-", ">", "handled", "_", "frames", "=", "0", ";", "<nl>", "gwj", "-", ">", "dropped", "_", "frames", "=", "0", ";", "<nl>", "+", "gwj", "-", ">", "deleted", "_", "frames", "=", "0", ";", "<nl>", "gwj", "-", ">", "flags", "=", "r", "-", ">", "flags", ";", "<nl>", "gwj", "-", ">", "gwtype", "=", "r", "-", ">", "gwtype", ";", "<nl>", "struct", "cgw", "_", "job", "{", "<nl>", "struct", "rcu", "_", "head", "rcu", ";", "<nl>", "u32", "handled", "_", "frames", ";", "<nl>", "u32", "dropped", "_", "frames", ";", "<nl>", "+", "u32", "deleted", "_", "frames", ";", "<nl>", "struct", "cf", "_", "mod", "mod", ";", "<nl>", "union", "{", "<nl>", "/", "*", "CAN", "frame", "data", "source", "*", "/", "<nl>", "static", "void", "can", "_", "can", "_", "gw", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "void", "*", "data", ")", "<nl>", "<nl>", "BUG", "_", "ON", "(", "skb", "-", ">", "ip", "_", "summed", "!", "=", "CHECKSUM", "_", "UNNECESSARY", ")", ";", "<nl>", "<nl>", "-", "if", "(", "cgw", "_", "hops", "(", "skb", ")", ">", "=", "max", "_", "hops", ")", "<nl>", "+", "if", "(", "cgw", "_", "hops", "(", "skb", ")", ">", "=", "max", "_", "hops", ")", "{", "<nl>", "+", "/", "*", "indicate", "deleted", "frames", "due", "to", "misconfiguration", "*", "/", "<nl>", "+", "gwj", "-", ">", "deleted", "_", "frames", "+", "+", ";", "<nl>", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "!", "(", "gwj", "-", ">", "dst", ".", "dev", "-", ">", "flags", "&", "IFF", "_", "UP", ")", ")", "{", "<nl>", "gwj", "-", ">", "dropped", "_", "frames", "+", "+", ";", "<nl>", "static", "int", "cgw", "_", "put", "_", "job", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "cgw", "_", "job", "*", "gwj", ",", "int", "type", ",", "<nl>", "goto", "cancel", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "gwj", "-", ">", "deleted", "_", "frames", ")", "{", "<nl>", "+", "if", "(", "nla", "_", "put", "_", "u32", "(", "skb", ",", "CGW", "_", "DELETED", ",", "gwj", "-", ">", "deleted", "_", "frames", ")", "<", "0", ")", "<nl>", "+", "goto", "cancel", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "check", "non", "default", "settings", "of", "attributes", "*", "/", "<nl>", "<nl>", "if", "(", "gwj", "-", ">", "mod", ".", "modtype", ".", "and", ")", "{", "<nl>", "static", "int", "cgw", "_", "create", "_", "job", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "nlmsghdr", "*", "nlh", ",", "<nl>", "<nl>", "gwj", "-", ">", "handled", "_", "frames", "=", "0", ";", "<nl>", "gwj", "-", ">", "dropped", "_", "frames", "=", "0", ";", "<nl>", "+", "gwj", "-", ">", "deleted", "_", "frames", "=", "0", ";", "<nl>", "gwj", "-", ">", "flags", "=", "r", "-", ">", "flags", ";", "<nl>", "gwj", "-", ">", "gwtype", "=", "r", "-", ">", "gwtype", ";", "<nl>", "<nl>", "enum", "{", "<nl>", "CGW", "_", "SRC", "_", "IF", ",", "/", "*", "ifindex", "of", "source", "network", "interface", "*", "/", "<nl>", "CGW", "_", "DST", "_", "IF", ",", "/", "*", "ifindex", "of", "destination", "network", "interface", "*", "/", "<nl>", "CGW", "_", "FILTER", ",", "/", "*", "specify", "struct", "can", "_", "filter", "on", "source", "CAN", "device", "*", "/", "<nl>", "+", "CGW", "_", "DELETED", ",", "/", "*", "number", "of", "deleted", "CAN", "frames", "(", "see", "max", "_", "hops", "param", ")", "*", "/", "<nl>", "_", "_", "CGW", "_", "MAX", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["can", "gw", "indicate", "and", "count", "deleted", "frames", "due", "to", "misconfiguration"]}
{"code_tokens": ["static", "int", "_", "_", "init", "ssb", "_", "modinit", "(", "void", ")", "<nl>", "ssb", "_", "buses", "_", "lock", "(", ")", ";", "<nl>", "err", "=", "ssb", "_", "attach", "_", "queued", "_", "buses", "(", ")", ";", "<nl>", "ssb", "_", "buses", "_", "unlock", "(", ")", ";", "<nl>", "-", "if", "(", "err", ")", "<nl>", "+", "if", "(", "err", ")", "{", "<nl>", "bus", "_", "unregister", "(", "&", "ssb", "_", "bustype", ")", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "<nl>", "err", "=", "b43", "_", "pci", "_", "ssb", "_", "bridge", "_", "init", "(", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "static", "int", "_", "_", "init", "ssb", "_", "modinit", "(", "void", ")", "<nl>", "/", "*", "don", "'", "t", "fail", "SSB", "init", "because", "of", "this", "*", "/", "<nl>", "err", "=", "0", ";", "<nl>", "}", "<nl>", "-", "<nl>", "+", "out", ":", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "/", "*", "ssb", "must", "be", "initialized", "after", "PCI", "but", "before", "the", "ssb", "drivers", ".", "<nl>"], "docstring_tokens": ["ssb", "Fail", "ssb", "modinit", "if", "attach", "of", "the", "buses", "failed"]}
{"code_tokens": ["static", "inline", "void", "_", "_", "fsnotify", "_", "update", "_", "dcache", "_", "flags", "(", "struct", "dentry", "*", "dentry", ")", "<nl>", "assert", "_", "spin", "_", "locked", "(", "&", "dentry", "-", ">", "d", "_", "lock", ")", ";", "<nl>", "<nl>", "parent", "=", "dentry", "-", ">", "d", "_", "parent", ";", "<nl>", "-", "if", "(", "fsnotify", "_", "inode", "_", "watches", "_", "children", "(", "parent", "-", ">", "d", "_", "inode", ")", ")", "<nl>", "+", "if", "(", "parent", "-", ">", "d", "_", "inode", "&", "&", "fsnotify", "_", "inode", "_", "watches", "_", "children", "(", "parent", "-", ">", "d", "_", "inode", ")", ")", "<nl>", "dentry", "-", ">", "d", "_", "flags", "|", "=", "DCACHE", "_", "FSNOTIFY", "_", "PARENT", "_", "WATCHED", ";", "<nl>", "else", "<nl>", "dentry", "-", ">", "d", "_", "flags", "&", "=", "~", "DCACHE", "_", "FSNOTIFY", "_", "PARENT", "_", "WATCHED", ";", "<nl>"], "docstring_tokens": ["fs", "allow", "d_instantiate", "to", "be", "called", "with", "negative", "parent", "dentry"]}
{"code_tokens": ["void", "local", "_", "flush", "_", "tlb", "_", "all", "(", "void", ")", "<nl>", "<nl>", "entry", "=", "read", "_", "c0", "_", "wired", "(", ")", ";", "<nl>", "<nl>", "-", "/", "*", "Blast", "'", "em", "all", "away", ".", "*", "/", "<nl>", "-", "if", "(", "cpu", "_", "has", "_", "tlbinv", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Blast", "'", "em", "all", "away", ".", "<nl>", "+", "*", "If", "there", "are", "any", "wired", "entries", ",", "fall", "back", "to", "iterating", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "cpu", "_", "has", "_", "tlbinv", "&", "&", "!", "entry", ")", "{", "<nl>", "if", "(", "current", "_", "cpu", "_", "data", ".", "tlbsizevtlb", ")", "{", "<nl>", "write", "_", "c0", "_", "index", "(", "0", ")", ";", "<nl>", "mtc0", "_", "tlbw", "_", "hazard", "(", ")", ";", "<nl>"], "docstring_tokens": ["MIPS", "tlb", "r4k", "If", "there", "are", "wired", "entries", "don", "t", "use", "TLBINVF"]}
{"code_tokens": ["static", "int", "pcc", "_", "get", "_", "offset", "(", "int", "cpu", ")", "<nl>", "pr", "=", "per", "_", "cpu", "(", "processors", ",", "cpu", ")", ";", "<nl>", "pcc", "_", "cpu", "_", "data", "=", "per", "_", "cpu", "_", "ptr", "(", "pcc", "_", "cpu", "_", "info", ",", "cpu", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "pr", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "<nl>", "status", "=", "acpi", "_", "evaluate", "_", "object", "(", "pr", "-", ">", "handle", ",", "\"", "PCCP", "\"", ",", "NULL", ",", "&", "buffer", ")", ";", "<nl>", "if", "(", "ACPI", "_", "FAILURE", "(", "status", ")", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>"], "docstring_tokens": ["drivers", "cpufreq", "pcc", "cpufreq", "c", "avoid", "NULL", "pointer", "dereference"]}
{"code_tokens": ["int", "mei", "_", "amthif", "_", "host", "_", "init", "(", "struct", "mei", "_", "device", "*", "dev", ",", "struct", "mei", "_", "me", "_", "client", "*", "me", "_", "cl", ")", "<nl>", "struct", "mei", "_", "cl", "*", "cl", "=", "&", "dev", "-", ">", "iamthif", "_", "cl", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "-", "if", "(", "mei", "_", "cl", "_", "is", "_", "connected", "(", "cl", ")", ")", "<nl>", "-", "return", "0", ";", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "device", "_", "lock", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "mei", "_", "cl", "_", "is", "_", "connected", "(", "cl", ")", ")", "{", "<nl>", "+", "ret", "=", "0", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "<nl>", "dev", "-", ">", "iamthif", "_", "state", "=", "MEI", "_", "IAMTHIF", "_", "IDLE", ";", "<nl>", "<nl>", "int", "mei", "_", "amthif", "_", "host", "_", "init", "(", "struct", "mei", "_", "device", "*", "dev", ",", "struct", "mei", "_", "me", "_", "client", "*", "me", "_", "cl", ")", "<nl>", "ret", "=", "mei", "_", "cl", "_", "link", "(", "cl", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", "-", ">", "dev", ",", "\"", "amthif", ":", "failed", "cl", "_", "link", "%", "d", "\\", "n", "\"", ",", "ret", ")", ";", "<nl>", "-", "return", "ret", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "ret", "=", "mei", "_", "cl", "_", "connect", "(", "cl", ",", "me", "_", "cl", ",", "NULL", ")", ";", "<nl>", "<nl>", "+", "out", ":", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "device", "_", "lock", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "int", "mei", "_", "amthif", "_", "host", "_", "init", "(", "struct", "mei", "_", "device", "*", "dev", ",", "struct", "mei", "_", "me", "_", "client", "*", "me", "_", "cl", ")", "<nl>", "struct", "mei", "_", "cl", "*", "cl", "=", "&", "dev", "-", ">", "iamthif", "_", "cl", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "-", "if", "(", "mei", "_", "cl", "_", "is", "_", "connected", "(", "cl", ")", ")", "<nl>", "-", "return", "0", ";", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "device", "_", "lock", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "mei", "_", "cl", "_", "is", "_", "connected", "(", "cl", ")", ")", "{", "<nl>", "+", "ret", "=", "0", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "<nl>", "dev", "-", ">", "iamthif", "_", "state", "=", "MEI", "_", "IAMTHIF", "_", "IDLE", ";", "<nl>", "<nl>", "int", "mei", "_", "amthif", "_", "host", "_", "init", "(", "struct", "mei", "_", "device", "*", "dev", ",", "struct", "mei", "_", "me", "_", "client", "*", "me", "_", "cl", ")", "<nl>", "ret", "=", "mei", "_", "cl", "_", "link", "(", "cl", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", "-", ">", "dev", ",", "\"", "amthif", ":", "failed", "cl", "_", "link", "%", "d", "\\", "n", "\"", ",", "ret", ")", ";", "<nl>", "-", "return", "ret", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "ret", "=", "mei", "_", "cl", "_", "connect", "(", "cl", ",", "me", "_", "cl", ",", "NULL", ")", ";", "<nl>", "<nl>", "+", "out", ":", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "device", "_", "lock", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "void", "mei", "_", "cl", "_", "bus", "_", "rescan", "_", "work", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "container", "_", "of", "(", "work", ",", "struct", "mei", "_", "device", ",", "bus", "_", "rescan", "_", "work", ")", ";", "<nl>", "struct", "mei", "_", "me", "_", "client", "*", "me", "_", "cl", ";", "<nl>", "<nl>", "-", "mutex", "_", "lock", "(", "&", "bus", "-", ">", "device", "_", "lock", ")", ";", "<nl>", "me", "_", "cl", "=", "mei", "_", "me", "_", "cl", "_", "by", "_", "uuid", "(", "bus", ",", "&", "mei", "_", "amthif", "_", "guid", ")", ";", "<nl>", "if", "(", "me", "_", "cl", ")", "<nl>", "mei", "_", "amthif", "_", "host", "_", "init", "(", "bus", ",", "me", "_", "cl", ")", ";", "<nl>", "mei", "_", "me", "_", "cl", "_", "put", "(", "me", "_", "cl", ")", ";", "<nl>", "-", "mutex", "_", "unlock", "(", "&", "bus", "-", ">", "device", "_", "lock", ")", ";", "<nl>", "<nl>", "mei", "_", "cl", "_", "bus", "_", "rescan", "(", "bus", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mei", "amthif", "fix", "deadlock", "in", "initialization", "during", "a", "reset"]}
{"code_tokens": ["_", "_", "be32", "fib", "_", "compute", "_", "spec", "_", "dst", "(", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "if", "(", "!", "ipv4", "_", "is", "_", "zeronet", "(", "ip", "_", "hdr", "(", "skb", ")", "-", ">", "saddr", ")", ")", "{", "<nl>", "struct", "flowi4", "fl4", "=", "{", "<nl>", ".", "flowi4", "_", "iif", "=", "LOOPBACK", "_", "IFINDEX", ",", "<nl>", "+", ".", "flowi4", "_", "oif", "=", "l3mdev", "_", "master", "_", "ifindex", "_", "rcu", "(", "dev", ")", ",", "<nl>", ".", "daddr", "=", "ip", "_", "hdr", "(", "skb", ")", "-", ">", "saddr", ",", "<nl>", ".", "flowi4", "_", "tos", "=", "RT", "_", "TOS", "(", "ip", "_", "hdr", "(", "skb", ")", "-", ">", "tos", ")", ",", "<nl>", ".", "flowi4", "_", "scope", "=", "scope", ",", "<nl>"], "docstring_tokens": ["net", "ipv4", "Set", "oif", "in", "fib_compute_spec_dst"]}
{"code_tokens": ["void", "input", "_", "unregister", "_", "device", "(", "struct", "input", "_", "dev", "*", "dev", ")", "<nl>", "sysfs", "_", "remove", "_", "group", "(", "&", "dev", "-", ">", "cdev", ".", "kobj", ",", "&", "input", "_", "dev", "_", "caps", "_", "attr", "_", "group", ")", ";", "<nl>", "sysfs", "_", "remove", "_", "group", "(", "&", "dev", "-", ">", "cdev", ".", "kobj", ",", "&", "input", "_", "dev", "_", "id", "_", "attr", "_", "group", ")", ";", "<nl>", "sysfs", "_", "remove", "_", "group", "(", "&", "dev", "-", ">", "cdev", ".", "kobj", ",", "&", "input", "_", "dev", "_", "attr", "_", "group", ")", ";", "<nl>", "-", "class", "_", "device", "_", "unregister", "(", "&", "dev", "-", ">", "cdev", ")", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "mutex", ")", ";", "<nl>", "dev", "-", ">", "name", "=", "dev", "-", ">", "phys", "=", "dev", "-", ">", "uniq", "=", "NULL", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "mutex", ")", ";", "<nl>", "<nl>", "+", "class", "_", "device", "_", "unregister", "(", "&", "dev", "-", ">", "cdev", ")", ";", "<nl>", "+", "<nl>", "input", "_", "wakeup", "_", "procfs", "_", "readers", "(", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "input", "_", "unregister", "_", "device", ")", ";", "<nl>"], "docstring_tokens": ["Input", "fix", "resetting", "name", "phys", "and", "uniq", "when", "unregistering", "device"]}
{"code_tokens": ["static", "inline", "int", "uinput", "_", "request", "_", "reserve", "_", "slot", "(", "struct", "uinput", "_", "device", "*", "udev", ",", "struct", "<nl>", "<nl>", "static", "void", "uinput", "_", "request", "_", "done", "(", "struct", "uinput", "_", "device", "*", "udev", ",", "struct", "uinput", "_", "request", "*", "request", ")", "<nl>", "{", "<nl>", "-", "complete", "(", "&", "request", "-", ">", "done", ")", ";", "<nl>", "-", "<nl>", "/", "*", "Mark", "slot", "as", "available", "*", "/", "<nl>", "udev", "-", ">", "requests", "[", "request", "-", ">", "id", "]", "=", "NULL", ";", "<nl>", "wake", "_", "up", "_", "interruptible", "(", "&", "udev", "-", ">", "requests", "_", "waitq", ")", ";", "<nl>", "+", "<nl>", "+", "complete", "(", "&", "request", "-", ">", "done", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "uinput", "_", "request", "_", "submit", "(", "struct", "input", "_", "dev", "*", "dev", ",", "struct", "uinput", "_", "request", "*", "request", ")", "<nl>"], "docstring_tokens": ["PATCH", "uniput", "fix", "crash", "on", "SMP"]}
{"code_tokens": ["static", "inline", "void", "activate", "_", "mm", "(", "struct", "mm", "_", "struct", "*", "old", ",", "struct", "mm", "_", "struct", "*", "new", ")", "<nl>", "*", "possible", ".", "<nl>", "*", "/", "<nl>", "if", "(", "old", "!", "=", "new", "&", "&", "(", "current", "-", ">", "flags", "&", "PF", "_", "BORROWED", "_", "MM", ")", ")", "<nl>", "-", "force", "_", "flush", "_", "all", "(", ")", ";", "<nl>", "+", "CHOOSE", "_", "MODE", "(", "force", "_", "flush", "_", "all", "(", ")", ",", "<nl>", "+", "switch", "_", "mm", "_", "skas", "(", "&", "new", "-", ">", "context", ".", "skas", ".", "id", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "inline", "void", "switch", "_", "mm", "(", "struct", "mm", "_", "struct", "*", "prev", ",", "struct", "mm", "_", "struct", "*", "next", ",", "<nl>"], "docstring_tokens": ["PATCH", "uml", "switch_mm", "fix"]}
{"code_tokens": ["static", "struct", "platform", "_", "device", "*", "platform", "_", "devices", "[", "]", "_", "_", "initdata", "=", "{", "<nl>", "&", "leds", "_", "gpio", ",", "<nl>", "}", ";", "<nl>", "<nl>", "+", "static", "struct", "imxmmc", "_", "platform", "_", "data", "sdhc", "_", "pdata", "=", "{", "<nl>", "+", ".", "dat3", "_", "card", "_", "detect", "=", "1", ",", "<nl>", "+", "}", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "system", "init", "for", "baseboard", "usage", ".", "Will", "be", "called", "by", "cpuimx27", "init", ".", "<nl>", "*", "<nl>", "void", "_", "_", "init", "eukrea", "_", "mbimx27", "_", "baseboard", "_", "init", "(", "void", ")", "<nl>", "#", "endif", "<nl>", "<nl>", "mxc", "_", "register", "_", "device", "(", "&", "mxc", "_", "fb", "_", "device", ",", "&", "eukrea", "_", "mbimx27", "_", "fb", "_", "data", ")", ";", "<nl>", "-", "mxc", "_", "register", "_", "device", "(", "&", "mxc", "_", "sdhc", "_", "device0", ",", "NULL", ")", ";", "<nl>", "+", "mxc", "_", "register", "_", "device", "(", "&", "mxc", "_", "sdhc", "_", "device0", ",", "&", "sdhc", "_", "pdata", ")", ";", "<nl>", "<nl>", "#", "if", "defined", "(", "CONFIG", "_", "TOUCHSCREEN", "_", "ADS7846", ")", "\\", "<nl>", "|", "|", "defined", "(", "CONFIG", "_", "TOUCHSCREEN", "_", "ADS7846", "_", "MODULE", ")", "<nl>"], "docstring_tokens": ["eukrea_mbimx27", "use", "card", "detect", "through", "DAT3", "for", "SDHC1"]}
{"code_tokens": ["unsigned", "ata", "_", "exec", "_", "internal", "_", "sg", "(", "struct", "ata", "_", "device", "*", "dev", ",", "<nl>", "qc", "-", ">", "tf", "=", "*", "tf", ";", "<nl>", "if", "(", "cdb", ")", "<nl>", "memcpy", "(", "qc", "-", ">", "cdb", ",", "cdb", ",", "ATAPI", "_", "CDB", "_", "LEN", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "some", "SATA", "bridges", "need", "us", "to", "indicate", "data", "xfer", "direction", "*", "/", "<nl>", "+", "if", "(", "tf", "-", ">", "protocol", "=", "=", "ATAPI", "_", "PROT", "_", "DMA", "&", "&", "(", "dev", "-", ">", "flags", "&", "ATA", "_", "DFLAG", "_", "DMADIR", ")", "&", "&", "<nl>", "+", "dma", "_", "dir", "=", "=", "DMA", "_", "FROM", "_", "DEVICE", ")", "<nl>", "+", "qc", "-", ">", "tf", ".", "feature", "|", "=", "ATAPI", "_", "DMADIR", ";", "<nl>", "+", "<nl>", "qc", "-", ">", "flags", "|", "=", "ATA", "_", "QCFLAG", "_", "RESULT", "_", "TF", ";", "<nl>", "qc", "-", ">", "dma", "_", "dir", "=", "dma", "_", "dir", ";", "<nl>", "if", "(", "dma", "_", "dir", "!", "=", "DMA", "_", "NONE", ")", "{", "<nl>"], "docstring_tokens": ["libata", "make", "ata_exec_internal_sg", "honor", "DMADIR"]}
{"code_tokens": ["static", "int", "nl80211", "_", "set", "_", "rekey", "_", "data", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "genl", "_", "info", "*", "info", ")", "<nl>", "if", "(", "err", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "+", "if", "(", "!", "tb", "[", "NL80211", "_", "REKEY", "_", "DATA", "_", "REPLAY", "_", "CTR", "]", "|", "|", "!", "tb", "[", "NL80211", "_", "REKEY", "_", "DATA", "_", "KEK", "]", "|", "|", "<nl>", "+", "!", "tb", "[", "NL80211", "_", "REKEY", "_", "DATA", "_", "KCK", "]", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "if", "(", "nla", "_", "len", "(", "tb", "[", "NL80211", "_", "REKEY", "_", "DATA", "_", "REPLAY", "_", "CTR", "]", ")", "!", "=", "NL80211", "_", "REPLAY", "_", "CTR", "_", "LEN", ")", "<nl>", "return", "-", "ERANGE", ";", "<nl>", "if", "(", "nla", "_", "len", "(", "tb", "[", "NL80211", "_", "REKEY", "_", "DATA", "_", "KEK", "]", ")", "!", "=", "NL80211", "_", "KEK", "_", "LEN", ")", "<nl>"], "docstring_tokens": ["nl80211", "check", "for", "the", "required", "netlink", "attributes", "presence"]}
{"code_tokens": ["static", "int", "lmp91000", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "indio", "_", "dev", "-", ">", "channels", "=", "lmp91000", "_", "channels", ";", "<nl>", "indio", "_", "dev", "-", ">", "num", "_", "channels", "=", "ARRAY", "_", "SIZE", "(", "lmp91000", "_", "channels", ")", ";", "<nl>", "indio", "_", "dev", "-", ">", "name", "=", "LMP91000", "_", "DRV", "_", "NAME", ";", "<nl>", "+", "indio", "_", "dev", "-", ">", "dev", ".", "parent", "=", "&", "client", "-", ">", "dev", ";", "<nl>", "indio", "_", "dev", "-", ">", "modes", "=", "INDIO", "_", "DIRECT", "_", "MODE", ";", "<nl>", "i2c", "_", "set", "_", "clientdata", "(", "client", ",", "indio", "_", "dev", ")", ";", "<nl>"], "docstring_tokens": ["iio", "lmp91000", "Set", "parent", "device"]}
{"code_tokens": ["sg", "_", "unlink", "_", "reserve", "(", "Sg", "_", "fd", "*", "sfp", ",", "Sg", "_", "request", "*", "srp", ")", "<nl>", "req", "_", "schp", "-", ">", "page", "_", "order", "=", "0", ";", "<nl>", "req", "_", "schp", "-", ">", "sglist", "_", "len", "=", "0", ";", "<nl>", "srp", "-", ">", "res", "_", "used", "=", "0", ";", "<nl>", "+", "/", "*", "Called", "without", "mutex", "lock", "to", "avoid", "deadlock", "*", "/", "<nl>", "+", "sfp", "-", ">", "res", "_", "in", "_", "use", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "Sg", "_", "request", "*", "<nl>"], "docstring_tokens": ["scsi", "sg", "reset", "res_in_use", "after", "unlinking", "reserved", "array"]}
{"code_tokens": ["static", "int", "corsair", "_", "input", "_", "mapping", "(", "struct", "hid", "_", "device", "*", "dev", ",", "<nl>", "{", "<nl>", "int", "gkey", ";", "<nl>", "<nl>", "+", "if", "(", "(", "usage", "-", ">", "hid", "&", "HID", "_", "USAGE", "_", "PAGE", ")", "!", "=", "HID", "_", "UP", "_", "KEYBOARD", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "gkey", "=", "corsair", "_", "usage", "_", "to", "_", "gkey", "(", "usage", "-", ">", "hid", "&", "HID", "_", "USAGE", ")", ";", "<nl>", "if", "(", "gkey", "!", "=", "0", ")", "{", "<nl>", "hid", "_", "map", "_", "usage", "_", "clear", "(", "input", ",", "usage", ",", "bit", ",", "max", ",", "EV", "_", "KEY", ",", "<nl>"], "docstring_tokens": ["HID", "corsair", "fix", "mapping", "of", "non", "keyboard", "usages"]}
{"code_tokens": ["static", "int", "ina2xx", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "data", "-", ">", "config", "=", "&", "ina2xx", "_", "config", "[", "data", "-", ">", "kind", "]", ";", "<nl>", "data", "-", ">", "client", "=", "client", ";", "<nl>", "<nl>", "-", "if", "(", "data", "-", ">", "rshunt", "<", "=", "0", ")", "<nl>", "+", "if", "(", "data", "-", ">", "rshunt", "<", "=", "0", "|", "|", "<nl>", "+", "data", "-", ">", "rshunt", ">", "data", "-", ">", "config", "-", ">", "calibration", "_", "factor", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "ret", "=", "ina2xx", "_", "init", "(", "data", ")", ";", "<nl>"], "docstring_tokens": ["hwmon", "ina2xx", "don", "t", "accept", "shunt", "values", "greater", "than", "the", "calibration", "factor"]}
{"code_tokens": ["static", "int", "cxgb4vf", "_", "open", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "if", "(", "err", ")", "<nl>", "return", "err", ";", "<nl>", "set", "_", "bit", "(", "pi", "-", ">", "port", "_", "id", ",", "&", "adapter", "-", ">", "open", "_", "device", "_", "map", ")", ";", "<nl>", "-", "link", "_", "start", "(", "dev", ")", ";", "<nl>", "+", "err", "=", "link", "_", "start", "(", "dev", ")", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "return", "err", ";", "<nl>", "netif", "_", "tx", "_", "start", "_", "all", "_", "queues", "(", "dev", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["cxgb4vf", "Fail", "open", "if", "link_start", "fails"]}
{"code_tokens": ["int", "snd", "_", "timer", "_", "open", "(", "struct", "snd", "_", "timer", "_", "instance", "*", "*", "ti", ",", "<nl>", "goto", "unlock", ";", "<nl>", "}", "<nl>", "if", "(", "!", "list", "_", "empty", "(", "&", "timer", "-", ">", "open", "_", "list", "_", "head", ")", ")", "{", "<nl>", "-", "timeri", "=", "list", "_", "entry", "(", "timer", "-", ">", "open", "_", "list", "_", "head", ".", "next", ",", "<nl>", "+", "struct", "snd", "_", "timer", "_", "instance", "*", "t", "=", "<nl>", "+", "list", "_", "entry", "(", "timer", "-", ">", "open", "_", "list", "_", "head", ".", "next", ",", "<nl>", "struct", "snd", "_", "timer", "_", "instance", ",", "open", "_", "list", ")", ";", "<nl>", "-", "if", "(", "timeri", "-", ">", "flags", "&", "SNDRV", "_", "TIMER", "_", "IFLG", "_", "EXCLUSIVE", ")", "{", "<nl>", "+", "if", "(", "t", "-", ">", "flags", "&", "SNDRV", "_", "TIMER", "_", "IFLG", "_", "EXCLUSIVE", ")", "{", "<nl>", "err", "=", "-", "EBUSY", ";", "<nl>", "-", "timeri", "=", "NULL", ";", "<nl>", "goto", "unlock", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "timer", "Fix", "incorrectly", "assigned", "timer", "instance"]}
{"code_tokens": ["static", "struct", "ieee80211", "_", "txb", "*", "ieee80211", "_", "alloc", "_", "txb", "(", "int", "nr", "_", "frags", ",", "int", "txb", "_", "size", ",", "<nl>", "<nl>", "memset", "(", "txb", ",", "0", ",", "sizeof", "(", "struct", "ieee80211", "_", "txb", ")", ")", ";", "<nl>", "txb", "-", ">", "nr", "_", "frags", "=", "nr", "_", "frags", ";", "<nl>", "-", "txb", "-", ">", "frag", "_", "size", "=", "txb", "_", "size", ";", "<nl>", "+", "txb", "-", ">", "frag", "_", "size", "=", "_", "_", "cpu", "_", "to", "_", "le16", "(", "txb", "_", "size", ")", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "nr", "_", "frags", ";", "i", "+", "+", ")", "{", "<nl>", "txb", "-", ">", "fragments", "[", "i", "]", "=", "dev", "_", "alloc", "_", "skb", "(", "txb", "_", "size", ")", ";", "<nl>", "int", "ieee80211", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "goto", "failed", ";", "<nl>", "}", "<nl>", "txb", "-", ">", "encrypted", "=", "encrypt", ";", "<nl>", "-", "txb", "-", ">", "payload", "_", "size", "=", "bytes", ";", "<nl>", "+", "txb", "-", ">", "payload", "_", "size", "=", "_", "_", "cpu", "_", "to", "_", "le16", "(", "bytes", ")", ";", "<nl>", "<nl>", "/", "/", "if", "(", "ieee", "-", ">", "current", "_", "network", ".", "QoS", "_", "Enable", ")", "<nl>", "if", "(", "qos", "_", "actived", ")", "<nl>", "int", "ieee80211", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "}", "<nl>", "<nl>", "txb", "-", ">", "encrypted", "=", "0", ";", "<nl>", "-", "txb", "-", ">", "payload", "_", "size", "=", "skb", "-", ">", "len", ";", "<nl>", "+", "txb", "-", ">", "payload", "_", "size", "=", "_", "_", "cpu", "_", "to", "_", "le16", "(", "skb", "-", ">", "len", ")", ";", "<nl>", "memcpy", "(", "skb", "_", "put", "(", "txb", "-", ">", "fragments", "[", "0", "]", ",", "skb", "-", ">", "len", ")", ",", "skb", "-", ">", "data", ",", "skb", "-", ">", "len", ")", ";", "<nl>", "}", "<nl>", "<nl>", "int", "ieee80211", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "}", "else", "{", "<nl>", "if", "(", "(", "*", "ieee", "-", ">", "hard", "_", "start", "_", "xmit", ")", "(", "txb", ",", "dev", ")", "=", "=", "0", ")", "{", "<nl>", "stats", "-", ">", "tx", "_", "packets", "+", "+", ";", "<nl>", "-", "stats", "-", ">", "tx", "_", "bytes", "+", "=", "txb", "-", ">", "payload", "_", "size", ";", "<nl>", "+", "stats", "-", ">", "tx", "_", "bytes", "+", "=", "_", "_", "le16", "_", "to", "_", "cpu", "(", "txb", "-", ">", "payload", "_", "size", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "ieee80211", "_", "txb", "_", "free", "(", "txb", ")", ";", "<nl>"], "docstring_tokens": ["staging", "rtl8192u", "add", "endianness", "conversions"]}
{"code_tokens": ["int", "cgroup", "_", "scan", "_", "tasks", "(", "struct", "cgroup", "_", "scanner", "*", "scan", ")", "<nl>", "*", "/", "<nl>", "static", "int", "pid", "_", "array", "_", "load", "(", "pid", "_", "t", "*", "pidarray", ",", "int", "npids", ",", "struct", "cgroup", "*", "cgrp", ")", "<nl>", "{", "<nl>", "-", "int", "n", "=", "0", ";", "<nl>", "+", "int", "n", "=", "0", ",", "pid", ";", "<nl>", "struct", "cgroup", "_", "iter", "it", ";", "<nl>", "struct", "task", "_", "struct", "*", "tsk", ";", "<nl>", "cgroup", "_", "iter", "_", "start", "(", "cgrp", ",", "&", "it", ")", ";", "<nl>", "while", "(", "(", "tsk", "=", "cgroup", "_", "iter", "_", "next", "(", "cgrp", ",", "&", "it", ")", ")", ")", "{", "<nl>", "if", "(", "unlikely", "(", "n", "=", "=", "npids", ")", ")", "<nl>", "break", ";", "<nl>", "-", "pidarray", "[", "n", "+", "+", "]", "=", "task", "_", "pid", "_", "vnr", "(", "tsk", ")", ";", "<nl>", "+", "pid", "=", "task", "_", "pid", "_", "vnr", "(", "tsk", ")", ";", "<nl>", "+", "if", "(", "pid", ">", "0", ")", "<nl>", "+", "pidarray", "[", "n", "+", "+", "]", "=", "pid", ";", "<nl>", "}", "<nl>", "cgroup", "_", "iter", "_", "end", "(", "cgrp", ",", "&", "it", ")", ";", "<nl>", "return", "n", ";", "<nl>"], "docstring_tokens": ["cgroups", "skip", "processes", "from", "other", "namespaces", "when", "listing", "a", "cgroup"]}
{"code_tokens": ["static", "int", "modify", "_", "prefix", "_", "route", "(", "struct", "inet6", "_", "ifaddr", "*", "ifp", ",", "<nl>", "unsigned", "long", "expires", ",", "u32", "flags", ")", "<nl>", "{", "<nl>", "struct", "fib6", "_", "info", "*", "f6i", ";", "<nl>", "+", "u32", "prio", ";", "<nl>", "<nl>", "f6i", "=", "addrconf", "_", "get", "_", "prefix", "_", "route", "(", "&", "ifp", "-", ">", "addr", ",", "<nl>", "ifp", "-", ">", "prefix", "_", "len", ",", "<nl>", "static", "int", "modify", "_", "prefix", "_", "route", "(", "struct", "inet6", "_", "ifaddr", "*", "ifp", ",", "<nl>", "if", "(", "!", "f6i", ")", "<nl>", "return", "-", "ENOENT", ";", "<nl>", "<nl>", "-", "if", "(", "f6i", "-", ">", "fib6", "_", "metric", "!", "=", "ifp", "-", ">", "rt", "_", "priority", ")", "{", "<nl>", "+", "prio", "=", "ifp", "-", ">", "rt", "_", "priority", "?", ":", "IP6", "_", "RT", "_", "PRIO", "_", "ADDRCONF", ";", "<nl>", "+", "if", "(", "f6i", "-", ">", "fib6", "_", "metric", "!", "=", "prio", ")", "{", "<nl>", "+", "/", "*", "delete", "old", "one", "*", "/", "<nl>", "+", "ip6", "_", "del", "_", "rt", "(", "dev", "_", "net", "(", "ifp", "-", ">", "idev", "-", ">", "dev", ")", ",", "f6i", ")", ";", "<nl>", "+", "<nl>", "/", "*", "add", "new", "one", "*", "/", "<nl>", "addrconf", "_", "prefix", "_", "route", "(", "&", "ifp", "-", ">", "addr", ",", "ifp", "-", ">", "prefix", "_", "len", ",", "<nl>", "ifp", "-", ">", "rt", "_", "priority", ",", "ifp", "-", ">", "idev", "-", ">", "dev", ",", "<nl>", "expires", ",", "flags", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "/", "*", "delete", "old", "one", "*", "/", "<nl>", "-", "ip6", "_", "del", "_", "rt", "(", "dev", "_", "net", "(", "ifp", "-", ">", "idev", "-", ">", "dev", ")", ",", "f6i", ")", ";", "<nl>", "}", "else", "{", "<nl>", "if", "(", "!", "expires", ")", "<nl>", "fib6", "_", "clean", "_", "expires", "(", "f6i", ")", ";", "<nl>"], "docstring_tokens": ["net", "ipv6", "Fix", "updates", "to", "prefix", "route"]}
{"code_tokens": ["static", "int", "acm", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "intf", ",", "<nl>", "i", "=", "device", "_", "create", "_", "file", "(", "&", "intf", "-", ">", "dev", ",", "&", "dev", "_", "attr", "_", "wCountryCodes", ")", ";", "<nl>", "if", "(", "i", "<", "0", ")", "{", "<nl>", "kfree", "(", "acm", "-", ">", "country", "_", "codes", ")", ";", "<nl>", "+", "acm", "-", ">", "country", "_", "codes", "=", "NULL", ";", "<nl>", "+", "acm", "-", ">", "country", "_", "code", "_", "size", "=", "0", ";", "<nl>", "goto", "skip", "_", "countries", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "acm", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "intf", ",", "<nl>", "if", "(", "i", "<", "0", ")", "{", "<nl>", "device", "_", "remove", "_", "file", "(", "&", "intf", "-", ">", "dev", ",", "&", "dev", "_", "attr", "_", "wCountryCodes", ")", ";", "<nl>", "kfree", "(", "acm", "-", ">", "country", "_", "codes", ")", ";", "<nl>", "+", "acm", "-", ">", "country", "_", "codes", "=", "NULL", ";", "<nl>", "+", "acm", "-", ">", "country", "_", "code", "_", "size", "=", "0", ";", "<nl>", "goto", "skip", "_", "countries", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["drivers", "usb", "class", "cdc", "acm", "c", "clear", "dangling", "pointer"]}
{"code_tokens": ["struct", "task", "_", "struct", "{", "<nl>", "int", "exit", "_", "state", ";", "<nl>", "int", "exit", "_", "code", ",", "exit", "_", "signal", ";", "<nl>", "int", "pdeath", "_", "signal", ";", "/", "*", "The", "signal", "sent", "when", "the", "parent", "dies", "*", "/", "<nl>", "-", "unsigned", "int", "jobctl", ";", "/", "*", "JOBCTL", "_", "*", ",", "siglock", "protected", "*", "/", "<nl>", "+", "unsigned", "long", "jobctl", ";", "/", "*", "JOBCTL", "_", "*", ",", "siglock", "protected", "*", "/", "<nl>", "<nl>", "/", "*", "Used", "for", "emulating", "ABI", "behavior", "of", "previous", "Linux", "versions", "*", "/", "<nl>", "unsigned", "int", "personality", ";", "<nl>"], "docstring_tokens": ["signals", "ptrace", "sched", "Fix", "a", "misaligned", "load", "inside", "ptrace_attach"]}
{"code_tokens": ["struct", "snd", "_", "usb", "_", "endpoint", "*", "snd", "_", "usb", "_", "add", "_", "endpoint", "(", "struct", "snd", "_", "usb", "_", "audio", "*", "chip", ",", "<nl>", "struct", "snd", "_", "usb", "_", "endpoint", "*", "ep", ";", "<nl>", "int", "is", "_", "playback", "=", "direction", "=", "=", "SNDRV", "_", "PCM", "_", "STREAM", "_", "PLAYBACK", ";", "<nl>", "<nl>", "+", "if", "(", "WARN", "_", "ON", "(", "!", "alts", ")", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "mutex", "_", "lock", "(", "&", "chip", "-", ">", "mutex", ")", ";", "<nl>", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "ep", ",", "&", "chip", "-", ">", "ep", "_", "list", ",", "list", ")", "{", "<nl>"], "docstring_tokens": ["ALSA", "usb", "audio", "WARN_ON", "when", "alts", "is", "passed", "as", "NULL"]}
{"code_tokens": ["static", "irqreturn", "_", "t", "mmci", "_", "irq", "(", "int", "irq", ",", "void", "*", "dev", "_", "id", ")", "<nl>", "<nl>", "dev", "_", "dbg", "(", "mmc", "_", "dev", "(", "host", "-", ">", "mmc", ")", ",", "\"", "irq0", "(", "data", "+", "cmd", ")", "%", "08x", "\\", "n", "\"", ",", "status", ")", ";", "<nl>", "<nl>", "+", "cmd", "=", "host", "-", ">", "cmd", ";", "<nl>", "+", "if", "(", "status", "&", "(", "MCI", "_", "CMDCRCFAIL", "|", "MCI", "_", "CMDTIMEOUT", "|", "MCI", "_", "CMDSENT", "|", "<nl>", "+", "MCI", "_", "CMDRESPEND", ")", "&", "&", "cmd", ")", "<nl>", "+", "mmci", "_", "cmd", "_", "irq", "(", "host", ",", "cmd", ",", "status", ")", ";", "<nl>", "+", "<nl>", "data", "=", "host", "-", ">", "data", ";", "<nl>", "if", "(", "status", "&", "(", "MCI", "_", "DATACRCFAIL", "|", "MCI", "_", "DATATIMEOUT", "|", "MCI", "_", "STARTBITERR", "|", "<nl>", "MCI", "_", "TXUNDERRUN", "|", "MCI", "_", "RXOVERRUN", "|", "MCI", "_", "DATAEND", "|", "<nl>", "MCI", "_", "DATABLOCKEND", ")", "&", "&", "data", ")", "<nl>", "mmci", "_", "data", "_", "irq", "(", "host", ",", "data", ",", "status", ")", ";", "<nl>", "<nl>", "-", "cmd", "=", "host", "-", ">", "cmd", ";", "<nl>", "-", "if", "(", "status", "&", "(", "MCI", "_", "CMDCRCFAIL", "|", "MCI", "_", "CMDTIMEOUT", "|", "MCI", "_", "CMDSENT", "|", "MCI", "_", "CMDRESPEND", ")", "&", "&", "cmd", ")", "<nl>", "-", "mmci", "_", "cmd", "_", "irq", "(", "host", ",", "cmd", ",", "status", ")", ";", "<nl>", "-", "<nl>", "ret", "=", "1", ";", "<nl>", "}", "while", "(", "status", ")", ";", "<nl>"], "docstring_tokens": ["mmc", "mmci", "Handle", "CMD", "irq", "before", "DATA", "irq"]}
{"code_tokens": ["static", "void", "add", "_", "atomic", "_", "switch", "_", "msr", "(", "struct", "vcpu", "_", "vmx", "*", "vmx", ",", "unsigned", "msr", ",", "<nl>", "if", "(", "m", "-", ">", "guest", "[", "i", "]", ".", "index", "=", "=", "msr", ")", "<nl>", "break", ";", "<nl>", "<nl>", "-", "if", "(", "i", "=", "=", "m", "-", ">", "nr", ")", "{", "<nl>", "+", "if", "(", "i", "=", "=", "NR", "_", "AUTOLOAD", "_", "MSRS", ")", "{", "<nl>", "+", "printk", "_", "once", "(", "KERN", "_", "WARNING", "\"", "Not", "enough", "mst", "switch", "entries", ".", "\"", "<nl>", "+", "\"", "Can", "'", "t", "add", "msr", "%", "x", "\\", "n", "\"", ",", "msr", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "else", "if", "(", "i", "=", "=", "m", "-", ">", "nr", ")", "{", "<nl>", "+", "+", "m", "-", ">", "nr", ";", "<nl>", "vmcs", "_", "write32", "(", "VM", "_", "ENTRY", "_", "MSR", "_", "LOAD", "_", "COUNT", ",", "m", "-", ">", "nr", ")", ";", "<nl>", "vmcs", "_", "write32", "(", "VM", "_", "EXIT", "_", "MSR", "_", "LOAD", "_", "COUNT", ",", "m", "-", ">", "nr", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "VMX", "Check", "for", "automatic", "switch", "msr", "table", "overflow"]}
{"code_tokens": ["subsystem", "_", "filter", "_", "write", "(", "struct", "file", "*", "filp", ",", "const", "char", "_", "_", "user", "*", "ubuf", ",", "size", "_", "t", "cnt", ",", "<nl>", "<nl>", "err", "=", "filter", "_", "add", "_", "subsystem", "_", "pred", "(", "system", ",", "pred", ")", ";", "<nl>", "if", "(", "err", "<", "0", ")", "{", "<nl>", "-", "filter", "_", "free", "_", "subsystem", "_", "preds", "(", "system", ")", ";", "<nl>", "filter", "_", "free", "_", "pred", "(", "pred", ")", ";", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tracing", "filters", "don", "t", "remove", "old", "filters", "when", "failed", "to", "write", "subsys", "filter"]}
{"code_tokens": ["static", "int", "tx", "_", "init", "(", "struct", "atm", "_", "dev", "*", "dev", ")", "<nl>", "buf", "_", "desc", "_", "ptr", "+", "+", ";", "<nl>", "tx", "_", "pkt", "_", "start", "+", "=", "iadev", "-", ">", "tx", "_", "buf", "_", "sz", ";", "<nl>", "}", "<nl>", "-", "iadev", "-", ">", "tx", "_", "buf", "=", "kmalloc", "(", "iadev", "-", ">", "num", "_", "tx", "_", "desc", "*", "sizeof", "(", "struct", "cpcs", "_", "trailer", "_", "desc", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "iadev", "-", ">", "tx", "_", "buf", "=", "kmalloc", "_", "array", "(", "iadev", "-", ">", "num", "_", "tx", "_", "desc", ",", "<nl>", "+", "sizeof", "(", "*", "iadev", "-", ">", "tx", "_", "buf", ")", ",", "<nl>", "+", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "iadev", "-", ">", "tx", "_", "buf", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "DEV", "_", "LABEL", "\"", "couldn", "'", "t", "get", "mem", "\\", "n", "\"", ")", ";", "<nl>", "goto", "err", "_", "free", "_", "dle", ";", "<nl>", "static", "int", "tx", "_", "init", "(", "struct", "atm", "_", "dev", "*", "dev", ")", "<nl>", "sizeof", "(", "*", "cpcs", ")", ",", "<nl>", "DMA", "_", "TO", "_", "DEVICE", ")", ";", "<nl>", "}", "<nl>", "-", "iadev", "-", ">", "desc", "_", "tbl", "=", "kmalloc", "(", "iadev", "-", ">", "num", "_", "tx", "_", "desc", "*", "<nl>", "-", "sizeof", "(", "struct", "desc", "_", "tbl", "_", "t", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "iadev", "-", ">", "desc", "_", "tbl", "=", "kmalloc", "_", "array", "(", "iadev", "-", ">", "num", "_", "tx", "_", "desc", ",", "<nl>", "+", "sizeof", "(", "*", "iadev", "-", ">", "desc", "_", "tbl", ")", ",", "<nl>", "+", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "iadev", "-", ">", "desc", "_", "tbl", ")", "{", "<nl>", "printk", "(", "KERN", "_", "ERR", "DEV", "_", "LABEL", "\"", "couldn", "'", "t", "get", "mem", "\\", "n", "\"", ")", ";", "<nl>", "goto", "err", "_", "free", "_", "all", "_", "tx", "_", "bufs", ";", "<nl>", "static", "int", "tx", "_", "init", "(", "struct", "atm", "_", "dev", "*", "dev", ")", "<nl>", "memset", "(", "(", "caddr", "_", "t", ")", "(", "iadev", "-", ">", "seg", "_", "ram", "+", "i", ")", ",", "0", ",", "iadev", "-", ">", "num", "_", "vc", "*", "4", ")", ";", "<nl>", "vc", "=", "(", "struct", "main", "_", "vc", "*", ")", "iadev", "-", ">", "MAIN", "_", "VC", "_", "TABLE", "_", "ADDR", ";", "<nl>", "evc", "=", "(", "struct", "ext", "_", "vc", "*", ")", "iadev", "-", ">", "EXT", "_", "VC", "_", "TABLE", "_", "ADDR", ";", "<nl>", "-", "iadev", "-", ">", "testTable", "=", "kmalloc", "(", "sizeof", "(", "long", ")", "*", "iadev", "-", ">", "num", "_", "vc", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "iadev", "-", ">", "testTable", "=", "kmalloc", "_", "array", "(", "iadev", "-", ">", "num", "_", "vc", ",", "<nl>", "+", "sizeof", "(", "*", "iadev", "-", ">", "testTable", ")", ",", "<nl>", "+", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "iadev", "-", ">", "testTable", ")", "{", "<nl>", "printk", "(", "\"", "Get", "freepage", "failed", "\\", "n", "\"", ")", ";", "<nl>", "goto", "err", "_", "free", "_", "desc", "_", "tbl", ";", "<nl>"], "docstring_tokens": ["ATM", "iphase", "Use", "kmalloc_array", "in", "tx_init"]}
{"code_tokens": ["static", "void", "vcpu", "_", "pause", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "wait", "_", "event", "_", "interruptible", "(", "*", "wq", ",", "!", "vcpu", "-", ">", "arch", ".", "pause", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "kvm", "_", "vcpu", "_", "initialized", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "+", "{", "<nl>", "+", "return", "vcpu", "-", ">", "arch", ".", "target", ">", "=", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "*", "<nl>", "*", "kvm", "_", "arch", "_", "vcpu", "_", "ioctl", "_", "run", "-", "the", "main", "VCPU", "run", "function", "to", "execute", "guest", "code", "<nl>", "*", "@", "vcpu", ":", "The", "VCPU", "pointer", "<nl>", "int", "kvm", "_", "arch", "_", "vcpu", "_", "ioctl", "_", "run", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "struct", "kvm", "_", "run", "*", "run", ")", "<nl>", "int", "ret", ";", "<nl>", "sigset", "_", "t", "sigsaved", ";", "<nl>", "<nl>", "-", "/", "*", "Make", "sure", "they", "initialize", "the", "vcpu", "with", "KVM", "_", "ARM", "_", "VCPU", "_", "INIT", "*", "/", "<nl>", "-", "if", "(", "unlikely", "(", "vcpu", "-", ">", "arch", ".", "target", "<", "0", ")", ")", "<nl>", "+", "if", "(", "unlikely", "(", "!", "kvm", "_", "vcpu", "_", "initialized", "(", "vcpu", ")", ")", ")", "<nl>", "return", "-", "ENOEXEC", ";", "<nl>", "<nl>", "ret", "=", "kvm", "_", "vcpu", "_", "first", "_", "run", "_", "init", "(", "vcpu", ")", ";", "<nl>", "long", "kvm", "_", "arch", "_", "vcpu", "_", "ioctl", "(", "struct", "file", "*", "filp", ",", "<nl>", "case", "KVM", "_", "SET", "_", "ONE", "_", "REG", ":", "<nl>", "case", "KVM", "_", "GET", "_", "ONE", "_", "REG", ":", "{", "<nl>", "struct", "kvm", "_", "one", "_", "reg", "reg", ";", "<nl>", "+", "<nl>", "+", "if", "(", "unlikely", "(", "!", "kvm", "_", "vcpu", "_", "initialized", "(", "vcpu", ")", ")", ")", "<nl>", "+", "return", "-", "ENOEXEC", ";", "<nl>", "+", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "reg", ",", "argp", ",", "sizeof", "(", "reg", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "if", "(", "ioctl", "=", "=", "KVM", "_", "SET", "_", "ONE", "_", "REG", ")", "<nl>", "long", "kvm", "_", "arch", "_", "vcpu", "_", "ioctl", "(", "struct", "file", "*", "filp", ",", "<nl>", "struct", "kvm", "_", "reg", "_", "list", "reg", "_", "list", ";", "<nl>", "unsigned", "n", ";", "<nl>", "<nl>", "+", "if", "(", "unlikely", "(", "!", "kvm", "_", "vcpu", "_", "initialized", "(", "vcpu", ")", ")", ")", "<nl>", "+", "return", "-", "ENOEXEC", ";", "<nl>", "+", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "reg", "_", "list", ",", "user", "_", "list", ",", "sizeof", "(", "reg", "_", "list", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "n", "=", "reg", "_", "list", ".", "n", ";", "<nl>"], "docstring_tokens": ["ARM", "KVM", "prevent", "NULL", "pointer", "dereferences", "with", "KVM", "VCPU", "ioctl"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "ks8851", "_", "probe", "(", "struct", "spi", "_", "device", "*", "spi", ")", "<nl>", "<nl>", "<nl>", "err", "_", "netdev", ":", "<nl>", "-", "free", "_", "irq", "(", "ndev", "-", ">", "irq", ",", "ndev", ")", ";", "<nl>", "+", "free", "_", "irq", "(", "ndev", "-", ">", "irq", ",", "ks", ")", ";", "<nl>", "<nl>", "err", "_", "id", ":", "<nl>", "err", "_", "irq", ":", "<nl>"], "docstring_tokens": ["ks8851", "Fix", "request_irq", "free_irq", "mismatch"]}
{"code_tokens": ["static", "bool", "gen8", "_", "ppgtt", "_", "clear", "_", "pt", "(", "struct", "i915", "_", "address", "_", "space", "*", "vm", ",", "<nl>", "GEM", "_", "BUG", "_", "ON", "(", "pte", "_", "end", ">", "GEN8", "_", "PTES", ")", ";", "<nl>", "<nl>", "bitmap", "_", "clear", "(", "pt", "-", ">", "used", "_", "ptes", ",", "pte", ",", "num", "_", "entries", ")", ";", "<nl>", "-", "<nl>", "-", "if", "(", "bitmap", "_", "empty", "(", "pt", "-", ">", "used", "_", "ptes", ",", "GEN8", "_", "PTES", ")", ")", "<nl>", "-", "return", "true", ";", "<nl>", "+", "if", "(", "USES", "_", "FULL", "_", "PPGTT", "(", "vm", "-", ">", "i915", ")", ")", "{", "<nl>", "+", "if", "(", "bitmap", "_", "empty", "(", "pt", "-", ">", "used", "_", "ptes", ",", "GEN8", "_", "PTES", ")", ")", "<nl>", "+", "return", "true", ";", "<nl>", "+", "}", "<nl>", "<nl>", "pt", "_", "vaddr", "=", "kmap", "_", "px", "(", "pt", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "A", "hotfix", "for", "making", "aliasing", "PPGTT", "work", "for", "GVT", "g"]}
{"code_tokens": ["static", "int", "init", "_", "section", "_", "ref", "_", "ok", "(", "const", "char", "*", "name", ")", "<nl>", "if", "(", "strncmp", "(", "*", "s", ",", "name", ",", "strlen", "(", "*", "s", ")", ")", "=", "=", "0", ")", "<nl>", "return", "1", ";", "<nl>", "for", "(", "s", "=", "namelist3", ";", "*", "s", ";", "s", "+", "+", ")", "<nl>", "-", "if", "(", "strstr", "(", "*", "s", ",", "name", ")", "!", "=", "NULL", ")", "<nl>", "+", "if", "(", "strstr", "(", "name", ",", "*", "s", ")", "!", "=", "NULL", ")", "<nl>", "return", "1", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "static", "int", "exit", "_", "section", "_", "ref", "_", "ok", "(", "const", "char", "*", "name", ")", "<nl>", "if", "(", "strncmp", "(", "*", "s", ",", "name", ",", "strlen", "(", "*", "s", ")", ")", "=", "=", "0", ")", "<nl>", "return", "1", ";", "<nl>", "for", "(", "s", "=", "namelist3", ";", "*", "s", ";", "s", "+", "+", ")", "<nl>", "-", "if", "(", "strstr", "(", "*", "s", ",", "name", ")", "!", "=", "NULL", ")", "<nl>", "+", "if", "(", "strstr", "(", "name", ",", "*", "s", ")", "!", "=", "NULL", ")", "<nl>", "return", "1", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["kbuild", "fix", "section", "mismatch", "check", "for", "unwind", "on", "IA64"]}
{"code_tokens": ["static", "u16", "bcm", "_", "sysport", "_", "select", "_", "queue", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "port", "=", "BRCM", "_", "TAG", "_", "GET", "_", "PORT", "(", "queue", ")", ";", "<nl>", "tx", "_", "ring", "=", "priv", "-", ">", "ring", "_", "map", "[", "q", "+", "port", "*", "priv", "-", ">", "per", "_", "port", "_", "num", "_", "tx", "_", "queues", "]", ";", "<nl>", "<nl>", "+", "if", "(", "unlikely", "(", "!", "tx", "_", "ring", ")", ")", "<nl>", "+", "return", "fallback", "(", "dev", ",", "skb", ")", ";", "<nl>", "+", "<nl>", "return", "tx", "_", "ring", "-", ">", "index", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "systemport", "Guard", "against", "unmapped", "TX", "ring"]}
{"code_tokens": ["static", "int", "nfsd", "_", "startup", "(", "unsigned", "short", "port", ",", "int", "nrservs", ")", "<nl>", "ret", "=", "nfs4", "_", "state", "_", "start", "(", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "goto", "out", "_", "lockd", ";", "<nl>", "-", "nfsd", "_", "reset", "_", "versions", "(", ")", ";", "<nl>", "nfsd", "_", "up", "=", "true", ";", "<nl>", "return", "0", ";", "<nl>", "out", "_", "lockd", ":", "<nl>", "int", "nfsd", "_", "create", "_", "serv", "(", "void", ")", "<nl>", "nfsd", "_", "max", "_", "blksize", ">", "=", "8", "*", "1024", "*", "2", ")", "<nl>", "nfsd", "_", "max", "_", "blksize", "/", "=", "2", ";", "<nl>", "}", "<nl>", "+", "nfsd", "_", "reset", "_", "versions", "(", ")", ";", "<nl>", "<nl>", "nfsd", "_", "serv", "=", "svc", "_", "create", "_", "pooled", "(", "&", "nfsd", "_", "program", ",", "nfsd", "_", "max", "_", "blksize", ",", "<nl>", "nfsd", "_", "last", "_", "thread", ",", "nfsd", ",", "THIS", "_", "MODULE", ")", ";", "<nl>"], "docstring_tokens": ["nfsd", "initialize", "nfsd", "versions", "before", "creating", "svc"]}
{"code_tokens": ["int", "_", "_", "dax", "_", "zero", "_", "page", "_", "range", "(", "struct", "block", "_", "device", "*", "bdev", ",", "<nl>", "void", "*", "kaddr", ";", "<nl>", "pfn", "_", "t", "pfn", ";", "<nl>", "<nl>", "-", "rc", "=", "bdev", "_", "dax", "_", "pgoff", "(", "bdev", ",", "sector", ",", "size", ",", "&", "pgoff", ")", ";", "<nl>", "+", "rc", "=", "bdev", "_", "dax", "_", "pgoff", "(", "bdev", ",", "sector", ",", "PAGE", "_", "SIZE", ",", "&", "pgoff", ")", ";", "<nl>", "if", "(", "rc", ")", "<nl>", "return", "rc", ";", "<nl>", "<nl>", "id", "=", "dax", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "-", "rc", "=", "dax", "_", "direct", "_", "access", "(", "dax", "_", "dev", ",", "pgoff", ",", "PHYS", "_", "PFN", "(", "size", ")", ",", "&", "kaddr", ",", "<nl>", "+", "rc", "=", "dax", "_", "direct", "_", "access", "(", "dax", "_", "dev", ",", "pgoff", ",", "1", ",", "&", "kaddr", ",", "<nl>", "&", "pfn", ")", ";", "<nl>", "if", "(", "rc", "<", "0", ")", "{", "<nl>", "dax", "_", "read", "_", "unlock", "(", "id", ")", ";", "<nl>"], "docstring_tokens": ["filesystem", "dax", "fix", "broken", "__dax_zero_page_range", "conversion"]}
{"code_tokens": ["int", "vcc", "_", "getsockopt", "(", "struct", "socket", "*", "sock", ",", "int", "level", ",", "int", "optname", ",", "<nl>", "<nl>", "if", "(", "!", "vcc", "-", ">", "dev", "|", "|", "!", "test", "_", "bit", "(", "ATM", "_", "VF", "_", "ADDR", ",", "&", "vcc", "-", ">", "flags", ")", ")", "<nl>", "return", "-", "ENOTCONN", ";", "<nl>", "+", "memset", "(", "&", "pvc", ",", "0", ",", "sizeof", "(", "pvc", ")", ")", ";", "<nl>", "pvc", ".", "sap", "_", "family", "=", "AF", "_", "ATMPVC", ";", "<nl>", "pvc", ".", "sap", "_", "addr", ".", "itf", "=", "vcc", "-", ">", "dev", "-", ">", "number", ";", "<nl>", "pvc", ".", "sap", "_", "addr", ".", "vpi", "=", "vcc", "-", ">", "vpi", ";", "<nl>"], "docstring_tokens": ["atm", "fix", "info", "leak", "in", "getsockopt", "SO_ATMPVC"]}
{"code_tokens": ["static", "struct", "btrfs", "_", "trans", "_", "handle", "*", "start", "_", "transaction", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "<nl>", "*", "/", "<nl>", "if", "(", "type", "!", "=", "TRANS", "_", "JOIN", "_", "NOLOCK", "&", "&", "<nl>", "!", "_", "_", "sb", "_", "start", "_", "write", "(", "root", "-", ">", "fs", "_", "info", "-", ">", "sb", ",", "SB", "_", "FREEZE", "_", "FS", ",", "false", ")", ")", "{", "<nl>", "-", "if", "(", "type", "=", "=", "TRANS", "_", "JOIN", "_", "FREEZE", ")", "<nl>", "+", "if", "(", "type", "=", "=", "TRANS", "_", "JOIN", "_", "FREEZE", ")", "{", "<nl>", "+", "kmem", "_", "cache", "_", "free", "(", "btrfs", "_", "trans", "_", "handle", "_", "cachep", ",", "h", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EPERM", ")", ";", "<nl>", "+", "}", "<nl>", "sb", "_", "start", "_", "intwrite", "(", "root", "-", ">", "fs", "_", "info", "-", ">", "sb", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Btrfs", "fix", "memory", "leak", "in", "start_transaction"]}
{"code_tokens": ["int", "batadv", "_", "bla", "_", "tx", "(", "struct", "batadv", "_", "priv", "*", "bat", "_", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "if", "(", "!", "atomic", "_", "read", "(", "&", "bat", "_", "priv", "-", ">", "bridge", "_", "loop", "_", "avoidance", ")", ")", "<nl>", "goto", "allow", ";", "<nl>", "<nl>", "-", "/", "*", "in", "VLAN", "case", ",", "the", "mac", "header", "might", "not", "be", "set", ".", "*", "/", "<nl>", "-", "skb", "_", "reset", "_", "mac", "_", "header", "(", "skb", ")", ";", "<nl>", "-", "<nl>", "if", "(", "batadv", "_", "bla", "_", "process", "_", "claim", "(", "bat", "_", "priv", ",", "primary", "_", "if", ",", "skb", ")", ")", "<nl>", "goto", "handled", ";", "<nl>"], "docstring_tokens": ["batman", "adv", "remove", "obsolete", "skb_reset_mac_header", "in", "batadv_bla_tx"]}
{"code_tokens": ["static", "int", "cpufreq", "_", "governor", "_", "dbs", "(", "struct", "cpufreq", "_", "policy", "*", "policy", ",", "<nl>", "if", "(", "latency", "=", "=", "0", ")", "<nl>", "latency", "=", "1", ";", "<nl>", "<nl>", "-", "def", "_", "sampling", "_", "rate", "=", "latency", "*", "<nl>", "+", "def", "_", "sampling", "_", "rate", "=", "10", "*", "latency", "*", "<nl>", "DEF", "_", "SAMPLING", "_", "RATE", "_", "LATENCY", "_", "MULTIPLIER", ";", "<nl>", "<nl>", "if", "(", "def", "_", "sampling", "_", "rate", "<", "MIN", "_", "STAT", "_", "SAMPLING", "_", "RATE", ")", "<nl>"], "docstring_tokens": ["PATCH", "cpufreq_conservative", "alter", "default", "responsiveness"]}
{"code_tokens": ["static", "void", "assert", "_", "can", "_", "enable", "_", "dc9", "(", "struct", "drm", "_", "i915", "_", "private", "*", "dev", "_", "priv", ")", "<nl>", "\"", "DC9", "already", "programmed", "to", "be", "enabled", ".", "\\", "n", "\"", ")", ";", "<nl>", "WARN", "_", "ONCE", "(", "I915", "_", "READ", "(", "DC", "_", "STATE", "_", "EN", ")", "&", "DC", "_", "STATE", "_", "EN", "_", "UPTO", "_", "DC5", ",", "<nl>", "\"", "DC5", "still", "not", "disabled", "to", "enable", "DC9", ".", "\\", "n", "\"", ")", ";", "<nl>", "-", "WARN", "_", "ONCE", "(", "I915", "_", "READ", "(", "HSW", "_", "PWR", "_", "WELL", "_", "DRIVER", ")", ",", "\"", "Power", "well", "on", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "WARN", "_", "ONCE", "(", "I915", "_", "READ", "(", "HSW", "_", "PWR", "_", "WELL", "_", "DRIVER", ")", "&", "<nl>", "+", "SKL", "_", "POWER", "_", "WELL", "_", "REQ", "(", "SKL", "_", "DISP", "_", "PW", "_", "2", ")", ",", "<nl>", "+", "\"", "Power", "well", "2", "on", ".", "\\", "n", "\"", ")", ";", "<nl>", "WARN", "_", "ONCE", "(", "intel", "_", "irqs", "_", "enabled", "(", "dev", "_", "priv", ")", ",", "<nl>", "\"", "Interrupts", "not", "disabled", "yet", ".", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "bxt", "glk", "Fix", "assert", "on", "conditions", "for", "DC9", "enabling"]}
{"code_tokens": ["static", "int", "ntb", "_", "netdev", "_", "open", "(", "struct", "net", "_", "device", "*", "ndev", ")", "<nl>", "<nl>", "rc", "=", "ntb", "_", "transport", "_", "rx", "_", "enqueue", "(", "dev", "-", ">", "qp", ",", "skb", ",", "skb", "-", ">", "data", ",", "<nl>", "ndev", "-", ">", "mtu", "+", "ETH", "_", "HLEN", ")", ";", "<nl>", "-", "if", "(", "rc", "=", "=", "-", "EINVAL", ")", "<nl>", "+", "if", "(", "rc", "=", "=", "-", "EINVAL", ")", "{", "<nl>", "+", "dev", "_", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "goto", "err", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "netif", "_", "carrier", "_", "off", "(", "ndev", ")", ";", "<nl>"], "docstring_tokens": ["ntb_netdev", "Fix", "skb", "free", "issue", "in", "open"]}
{"code_tokens": ["static", "int", "skl", "_", "tplg", "_", "tlv", "_", "control", "_", "get", "(", "struct", "snd", "_", "kcontrol", "*", "kcontrol", ",", "<nl>", "if", "(", "bc", "-", ">", "params", ")", "{", "<nl>", "if", "(", "copy", "_", "to", "_", "user", "(", "data", ",", "&", "bc", "-", ">", "param", "_", "id", ",", "sizeof", "(", "u32", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "-", "if", "(", "copy", "_", "to", "_", "user", "(", "data", "+", "sizeof", "(", "u32", ")", ",", "&", "size", ",", "sizeof", "(", "u32", ")", ")", ")", "<nl>", "+", "if", "(", "copy", "_", "to", "_", "user", "(", "data", "+", "1", ",", "&", "size", ",", "sizeof", "(", "u32", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "-", "if", "(", "copy", "_", "to", "_", "user", "(", "data", "+", "2", "*", "sizeof", "(", "u32", ")", ",", "bc", "-", ">", "params", ",", "size", ")", ")", "<nl>", "+", "if", "(", "copy", "_", "to", "_", "user", "(", "data", "+", "2", ",", "bc", "-", ">", "params", ",", "size", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "Intel", "Skylake", "pointer", "math", "issue"]}
{"code_tokens": ["static", "int", "sd", "_", "zbc", "_", "check", "_", "capacity", "(", "struct", "scsi", "_", "disk", "*", "sdkp", ",", "unsigned", "char", "*", "buf", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "#", "define", "SD", "_", "ZBC", "_", "BUF", "_", "SIZE", "131072", "<nl>", "+", "#", "define", "SD", "_", "ZBC", "_", "BUF", "_", "SIZE", "131072U", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "sd", "_", "zbc", "_", "check", "_", "zone", "_", "size", "-", "Check", "the", "device", "zone", "sizes", "<nl>", "static", "int", "sd", "_", "zbc", "_", "check", "_", "zone", "_", "size", "(", "struct", "scsi", "_", "disk", "*", "sdkp", ")", "<nl>", "/", "*", "Parse", "REPORT", "ZONES", "header", "*", "/", "<nl>", "list", "_", "length", "=", "get", "_", "unaligned", "_", "be32", "(", "&", "buf", "[", "0", "]", ")", "+", "64", ";", "<nl>", "rec", "=", "buf", "+", "64", ";", "<nl>", "-", "if", "(", "list", "_", "length", "<", "SD", "_", "ZBC", "_", "BUF", "_", "SIZE", ")", "<nl>", "-", "buf", "_", "len", "=", "list", "_", "length", ";", "<nl>", "-", "else", "<nl>", "-", "buf", "_", "len", "=", "SD", "_", "ZBC", "_", "BUF", "_", "SIZE", ";", "<nl>", "+", "buf", "_", "len", "=", "min", "(", "list", "_", "length", ",", "SD", "_", "ZBC", "_", "BUF", "_", "SIZE", ")", ";", "<nl>", "<nl>", "/", "*", "Parse", "zone", "descriptors", "*", "/", "<nl>", "while", "(", "rec", "<", "buf", "+", "buf", "_", "len", ")", "{", "<nl>", "static", "int", "sd", "_", "zbc", "_", "setup", "(", "struct", "scsi", "_", "disk", "*", "sdkp", ")", "<nl>", "/", "*", "chunk", "_", "sectors", "indicates", "the", "zone", "size", "*", "/", "<nl>", "blk", "_", "queue", "_", "chunk", "_", "sectors", "(", "sdkp", "-", ">", "disk", "-", ">", "queue", ",", "<nl>", "logical", "_", "to", "_", "sectors", "(", "sdkp", "-", ">", "device", ",", "sdkp", "-", ">", "zone", "_", "blocks", ")", ")", ";", "<nl>", "-", "sdkp", "-", ">", "nr", "_", "zones", "=", "sdkp", "-", ">", "capacity", ">", ">", "sdkp", "-", ">", "zone", "_", "shift", ";", "<nl>", "-", "if", "(", "sdkp", "-", ">", "capacity", "&", "(", "sdkp", "-", ">", "zone", "_", "blocks", "-", "1", ")", ")", "<nl>", "-", "sdkp", "-", ">", "nr", "_", "zones", "+", "+", ";", "<nl>", "+", "sdkp", "-", ">", "nr", "_", "zones", "=", "<nl>", "+", "round", "_", "up", "(", "sdkp", "-", ">", "capacity", ",", "sdkp", "-", ">", "zone", "_", "blocks", ")", ">", ">", "sdkp", "-", ">", "zone", "_", "shift", ";", "<nl>", "<nl>", "if", "(", "!", "sdkp", "-", ">", "zones", "_", "wlock", ")", "{", "<nl>", "sdkp", "-", ">", "zones", "_", "wlock", "=", "kcalloc", "(", "BITS", "_", "TO", "_", "LONGS", "(", "sdkp", "-", ">", "nr", "_", "zones", ")", ",", "<nl>"], "docstring_tokens": ["scsi", "sd_zbc", "Use", "well", "defined", "macros"]}
{"code_tokens": ["static", "inline", "bool", "rxrpc", "_", "set", "_", "call", "_", "completion", "(", "struct", "rxrpc", "_", "call", "*", "call", ",", "<nl>", "u32", "abort", "_", "code", ",", "<nl>", "int", "error", ")", "<nl>", "{", "<nl>", "-", "int", "ret", ";", "<nl>", "+", "bool", "ret", ";", "<nl>", "<nl>", "write", "_", "lock", "_", "bh", "(", "&", "call", "-", ">", "state", "_", "lock", ")", ";", "<nl>", "ret", "=", "_", "_", "rxrpc", "_", "set", "_", "call", "_", "completion", "(", "call", ",", "compl", ",", "abort", "_", "code", ",", "error", ")", ";", "<nl>", "static", "inline", "bool", "rxrpc", "_", "set", "_", "call", "_", "completion", "(", "struct", "rxrpc", "_", "call", "*", "call", ",", "<nl>", "/", "*", "<nl>", "*", "Record", "that", "a", "call", "successfully", "completed", ".", "<nl>", "*", "/", "<nl>", "-", "static", "inline", "void", "_", "_", "rxrpc", "_", "call", "_", "completed", "(", "struct", "rxrpc", "_", "call", "*", "call", ")", "<nl>", "+", "static", "inline", "bool", "_", "_", "rxrpc", "_", "call", "_", "completed", "(", "struct", "rxrpc", "_", "call", "*", "call", ")", "<nl>", "{", "<nl>", "-", "_", "_", "rxrpc", "_", "set", "_", "call", "_", "completion", "(", "call", ",", "RXRPC", "_", "CALL", "_", "SUCCEEDED", ",", "0", ",", "0", ")", ";", "<nl>", "+", "return", "_", "_", "rxrpc", "_", "set", "_", "call", "_", "completion", "(", "call", ",", "RXRPC", "_", "CALL", "_", "SUCCEEDED", ",", "0", ",", "0", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "inline", "void", "rxrpc", "_", "call", "_", "completed", "(", "struct", "rxrpc", "_", "call", "*", "call", ")", "<nl>", "+", "static", "inline", "bool", "rxrpc", "_", "call", "_", "completed", "(", "struct", "rxrpc", "_", "call", "*", "call", ")", "<nl>", "{", "<nl>", "+", "bool", "ret", ";", "<nl>", "+", "<nl>", "write", "_", "lock", "_", "bh", "(", "&", "call", "-", ">", "state", "_", "lock", ")", ";", "<nl>", "-", "_", "_", "rxrpc", "_", "call", "_", "completed", "(", "call", ")", ";", "<nl>", "+", "ret", "=", "_", "_", "rxrpc", "_", "call", "_", "completed", "(", "call", ")", ";", "<nl>", "write", "_", "unlock", "_", "bh", "(", "&", "call", "-", ">", "state", "_", "lock", ")", ";", "<nl>", "+", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["rxrpc", "Fix", "returns", "of", "call", "completion", "helpers"]}
{"code_tokens": ["rcu", "_", "torture", "_", "init", "(", "void", ")", "<nl>", "if", "(", "firsterr", ")", "<nl>", "goto", "unwind", ";", "<nl>", "}", "<nl>", "-", "if", "(", "test", "_", "no", "_", "idle", "_", "hz", ")", "{", "<nl>", "+", "if", "(", "test", "_", "no", "_", "idle", "_", "hz", "&", "&", "shuffle", "_", "interval", ">", "0", ")", "{", "<nl>", "firsterr", "=", "torture", "_", "shuffle", "_", "init", "(", "shuffle", "_", "interval", "*", "HZ", ")", ";", "<nl>", "if", "(", "firsterr", ")", "<nl>", "goto", "unwind", ";", "<nl>"], "docstring_tokens": ["rcutorture", "Bounds", "check", "rcutorture", "shuffle_interval"]}
{"code_tokens": ["int", "netvsc", "_", "send", "(", "struct", "hv", "_", "device", "*", "device", ",", "<nl>", "if", "(", "!", "net", "_", "device", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "+", "/", "*", "We", "may", "race", "with", "netvsc", "_", "connect", "_", "vsp", "(", ")", "/", "netvsc", "_", "init", "_", "buf", "(", ")", "and", "get", "<nl>", "+", "*", "here", "before", "the", "negotiation", "with", "the", "host", "is", "finished", "and", "<nl>", "+", "*", "send", "_", "section", "_", "map", "may", "not", "be", "allocated", "yet", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "net", "_", "device", "-", ">", "send", "_", "section", "_", "map", ")", "<nl>", "+", "return", "-", "EAGAIN", ";", "<nl>", "+", "<nl>", "out", "_", "channel", "=", "net", "_", "device", "-", ">", "chn", "_", "table", "[", "q", "_", "idx", "]", ";", "<nl>", "<nl>", "packet", "-", ">", "send", "_", "buf", "_", "index", "=", "NETVSC", "_", "INVALID", "_", "INDEX", ";", "<nl>"], "docstring_tokens": ["hv_netvsc", "fix", "a", "race", "between", "netvsc_send", "and", "netvsc_init_buf"]}
{"code_tokens": ["static", "long", "ir", "_", "lirc", "_", "ioctl", "(", "struct", "file", "*", "filep", ",", "unsigned", "int", "cmd", ",", "<nl>", "return", "0", ";", "<nl>", "<nl>", "case", "LIRC", "_", "GET", "_", "REC", "_", "RESOLUTION", ":", "<nl>", "+", "if", "(", "!", "dev", "-", ">", "rx", "_", "resolution", ")", "<nl>", "+", "return", "-", "ENOTTY", ";", "<nl>", "+", "<nl>", "val", "=", "dev", "-", ">", "rx", "_", "resolution", ";", "<nl>", "break", ";", "<nl>", "<nl>", "static", "int", "ir", "_", "lirc", "_", "register", "(", "struct", "rc", "_", "dev", "*", "dev", ")", "<nl>", "if", "(", "rc", ")", "<nl>", "goto", "rbuf", "_", "init", "_", "failed", ";", "<nl>", "<nl>", "-", "if", "(", "dev", "-", ">", "driver", "_", "type", "!", "=", "RC", "_", "DRIVER", "_", "IR", "_", "RAW", "_", "TX", ")", "<nl>", "+", "if", "(", "dev", "-", ">", "driver", "_", "type", "!", "=", "RC", "_", "DRIVER", "_", "IR", "_", "RAW", "_", "TX", ")", "{", "<nl>", "features", "|", "=", "LIRC", "_", "CAN", "_", "REC", "_", "MODE2", ";", "<nl>", "+", "if", "(", "dev", "-", ">", "rx", "_", "resolution", ")", "<nl>", "+", "features", "|", "=", "LIRC", "_", "CAN", "_", "GET", "_", "REC", "_", "RESOLUTION", ";", "<nl>", "+", "}", "<nl>", "if", "(", "dev", "-", ">", "tx", "_", "ir", ")", "{", "<nl>", "features", "|", "=", "LIRC", "_", "CAN", "_", "SEND", "_", "PULSE", ";", "<nl>", "if", "(", "dev", "-", ">", "s", "_", "tx", "_", "mask", ")", "<nl>"], "docstring_tokens": ["media", "lirc", "advertise", "LIRC_CAN_GET_REC_RESOLUTION", "and", "improve"]}
{"code_tokens": ["mlxsw", "_", "sp", "_", "port", "_", "add", "_", "cls", "_", "matchall", "_", "mirror", "(", "struct", "mlxsw", "_", "sp", "_", "port", "*", "mlxsw", "_", "sp", "_", "port", ",", "<nl>", "<nl>", "if", "(", "!", "mlxsw", "_", "sp", "_", "port", "_", "dev", "_", "check", "(", "to", "_", "dev", ")", ")", "{", "<nl>", "netdev", "_", "err", "(", "mlxsw", "_", "sp", "_", "port", "-", ">", "dev", ",", "\"", "Cannot", "mirror", "to", "a", "non", "-", "spectrum", "port", "\"", ")", ";", "<nl>", "-", "return", "-", "ENOTSUPP", ";", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "}", "<nl>", "to", "_", "port", "=", "netdev", "_", "priv", "(", "to", "_", "dev", ")", ";", "<nl>", "<nl>", "static", "int", "mlxsw", "_", "sp", "_", "port", "_", "add", "_", "cls", "_", "matchall", "(", "struct", "mlxsw", "_", "sp", "_", "port", "*", "mlxsw", "_", "sp", "_", "port", ",", "<nl>", "<nl>", "if", "(", "!", "tc", "_", "single", "_", "action", "(", "cls", "-", ">", "exts", ")", ")", "{", "<nl>", "netdev", "_", "err", "(", "mlxsw", "_", "sp", "_", "port", "-", ">", "dev", ",", "\"", "only", "singular", "actions", "are", "supported", "\\", "n", "\"", ")", ";", "<nl>", "-", "return", "-", "ENOTSUPP", ";", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "}", "<nl>", "<nl>", "mall", "_", "tc", "_", "entry", "=", "kzalloc", "(", "sizeof", "(", "*", "mall", "_", "tc", "_", "entry", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "static", "int", "mlxsw", "_", "sp", "_", "setup", "_", "tc", "(", "struct", "net", "_", "device", "*", "dev", ",", "u32", "handle", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "return", "-", "ENOTSUPP", ";", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "}", "<nl>", "<nl>", "static", "const", "struct", "net", "_", "device", "_", "ops", "mlxsw", "_", "sp", "_", "port", "_", "netdev", "_", "ops", "=", "{", "<nl>", "mlxsw", "_", "sp", "_", "get", "_", "hw", "_", "stats", "_", "by", "_", "group", "(", "struct", "mlxsw", "_", "sp", "_", "port", "_", "hw", "_", "stats", "*", "*", "p", "_", "hw", "_", "stats", ",", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "WARN", "_", "ON", "(", "1", ")", ";", "<nl>", "-", "return", "-", "ENOTSUPP", ";", "<nl>", "+", "return", "-", "EOPNOTSUPP", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mlxsw", "spectrum", "Change", "ENOTSUPP", "to", "EOPNOTSUPP"]}
{"code_tokens": ["void", "i40e", "_", "vsi", "_", "reset", "_", "stats", "(", "struct", "i40e", "_", "vsi", "*", "vsi", ")", "<nl>", "*", "*", "/", "<nl>", "void", "i40e", "_", "pf", "_", "reset", "_", "stats", "(", "struct", "i40e", "_", "pf", "*", "pf", ")", "<nl>", "{", "<nl>", "+", "int", "i", ";", "<nl>", "+", "<nl>", "memset", "(", "&", "pf", "-", ">", "stats", ",", "0", ",", "sizeof", "(", "pf", "-", ">", "stats", ")", ")", ";", "<nl>", "memset", "(", "&", "pf", "-", ">", "stats", "_", "offsets", ",", "0", ",", "sizeof", "(", "pf", "-", ">", "stats", "_", "offsets", ")", ")", ";", "<nl>", "pf", "-", ">", "stat", "_", "offsets", "_", "loaded", "=", "false", ";", "<nl>", "+", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "I40E", "_", "MAX", "_", "VEB", ";", "i", "+", "+", ")", "{", "<nl>", "+", "if", "(", "pf", "-", ">", "veb", "[", "i", "]", ")", "{", "<nl>", "+", "memset", "(", "&", "pf", "-", ">", "veb", "[", "i", "]", "-", ">", "stats", ",", "0", ",", "<nl>", "+", "sizeof", "(", "pf", "-", ">", "veb", "[", "i", "]", "-", ">", "stats", ")", ")", ";", "<nl>", "+", "memset", "(", "&", "pf", "-", ">", "veb", "[", "i", "]", "-", ">", "stats", "_", "offsets", ",", "0", ",", "<nl>", "+", "sizeof", "(", "pf", "-", ">", "veb", "[", "i", "]", "-", ">", "stats", "_", "offsets", ")", ")", ";", "<nl>", "+", "pf", "-", ">", "veb", "[", "i", "]", "-", ">", "stat", "_", "offsets", "_", "loaded", "=", "false", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["i40e", "clear", "VEB", "stats", "when", "pf", "stats", "are", "cleared"]}
{"code_tokens": ["struct", "shrink", "_", "control", "{", "<nl>", "struct", "shrinker", "{", "<nl>", "int", "(", "*", "shrink", ")", "(", "struct", "shrinker", "*", ",", "struct", "shrink", "_", "control", "*", "sc", ")", ";", "<nl>", "int", "seeks", ";", "/", "*", "seeks", "to", "recreate", "an", "obj", "*", "/", "<nl>", "+", "long", "batch", ";", "/", "*", "reclaim", "batch", "size", ",", "0", "=", "default", "*", "/", "<nl>", "<nl>", "/", "*", "These", "are", "for", "internal", "use", "*", "/", "<nl>", "struct", "list", "_", "head", "list", ";", "mmm", "mm", "/", "vmscan", ".", "c", "<nl>", "struct", "shrink", "_", "control", "{", "<nl>", "struct", "shrinker", "{", "<nl>", "int", "(", "*", "shrink", ")", "(", "struct", "shrinker", "*", ",", "struct", "shrink", "_", "control", "*", "sc", ")", ";", "<nl>", "int", "seeks", ";", "/", "*", "seeks", "to", "recreate", "an", "obj", "*", "/", "<nl>", "+", "long", "batch", ";", "/", "*", "reclaim", "batch", "size", ",", "0", "=", "default", "*", "/", "<nl>", "<nl>", "/", "*", "These", "are", "for", "internal", "use", "*", "/", "<nl>", "struct", "list", "_", "head", "list", ";", "<nl>", "unsigned", "long", "shrink", "_", "slab", "(", "struct", "shrink", "_", "control", "*", "shrink", ",", "<nl>", "int", "shrink", "_", "ret", "=", "0", ";", "<nl>", "long", "nr", ";", "<nl>", "long", "new", "_", "nr", ";", "<nl>", "+", "long", "batch", "_", "size", "=", "shrinker", "-", ">", "batch", "?", "shrinker", "-", ">", "batch", "<nl>", "+", ":", "SHRINK", "_", "BATCH", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "copy", "the", "current", "shrinker", "scan", "count", "into", "a", "local", "variable", "<nl>", "unsigned", "long", "shrink", "_", "slab", "(", "struct", "shrink", "_", "control", "*", "shrink", ",", "<nl>", "nr", "_", "pages", "_", "scanned", ",", "lru", "_", "pages", ",", "<nl>", "max", "_", "pass", ",", "delta", ",", "total", "_", "scan", ")", ";", "<nl>", "<nl>", "-", "while", "(", "total", "_", "scan", ">", "=", "SHRINK", "_", "BATCH", ")", "{", "<nl>", "-", "long", "this", "_", "scan", "=", "SHRINK", "_", "BATCH", ";", "<nl>", "+", "while", "(", "total", "_", "scan", ">", "=", "batch", "_", "size", ")", "{", "<nl>", "int", "nr", "_", "before", ";", "<nl>", "<nl>", "nr", "_", "before", "=", "do", "_", "shrinker", "_", "shrink", "(", "shrinker", ",", "shrink", ",", "0", ")", ";", "<nl>", "shrink", "_", "ret", "=", "do", "_", "shrinker", "_", "shrink", "(", "shrinker", ",", "shrink", ",", "<nl>", "-", "this", "_", "scan", ")", ";", "<nl>", "+", "batch", "_", "size", ")", ";", "<nl>", "if", "(", "shrink", "_", "ret", "=", "=", "-", "1", ")", "<nl>", "break", ";", "<nl>", "if", "(", "shrink", "_", "ret", "<", "nr", "_", "before", ")", "<nl>", "ret", "+", "=", "nr", "_", "before", "-", "shrink", "_", "ret", ";", "<nl>", "-", "count", "_", "vm", "_", "events", "(", "SLABS", "_", "SCANNED", ",", "this", "_", "scan", ")", ";", "<nl>", "-", "total", "_", "scan", "-", "=", "this", "_", "scan", ";", "<nl>", "+", "count", "_", "vm", "_", "events", "(", "SLABS", "_", "SCANNED", ",", "batch", "_", "size", ")", ";", "<nl>", "+", "total", "_", "scan", "-", "=", "batch", "_", "size", ";", "<nl>", "<nl>", "cond", "_", "resched", "(", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["vmscan", "add", "customisable", "shrinker", "batch", "size"]}
{"code_tokens": ["static", "int", "read", "_", "events", "(", "struct", "kioctx", "*", "ctx", ",", "<nl>", "break", ";", "<nl>", "if", "(", "min", "_", "nr", "<", "=", "i", ")", "<nl>", "break", ";", "<nl>", "-", "ret", "=", "0", ";", "<nl>", "+", "if", "(", "unlikely", "(", "ctx", "-", ">", "dead", ")", ")", "{", "<nl>", "+", "ret", "=", "-", "EINVAL", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "if", "(", "to", ".", "timed", "_", "out", ")", "/", "*", "Only", "check", "after", "read", "evt", "*", "/", "<nl>", "break", ";", "<nl>", "/", "*", "Try", "to", "only", "show", "up", "in", "io", "wait", "if", "there", "are", "ops", "<nl>", "static", "void", "io", "_", "destroy", "(", "struct", "kioctx", "*", "ioctx", ")", "<nl>", "<nl>", "aio", "_", "cancel", "_", "all", "(", "ioctx", ")", ";", "<nl>", "wait", "_", "for", "_", "all", "_", "aios", "(", "ioctx", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Wake", "up", "any", "waiters", ".", "The", "setting", "of", "ctx", "-", ">", "dead", "must", "be", "seen", "<nl>", "+", "*", "by", "other", "CPUs", "at", "this", "point", ".", "Right", "now", ",", "we", "rely", "on", "the", "<nl>", "+", "*", "locking", "done", "by", "the", "above", "calls", "to", "ensure", "this", "consistency", ".", "<nl>", "+", "*", "/", "<nl>", "+", "wake", "_", "up", "(", "&", "ioctx", "-", ">", "wait", ")", ";", "<nl>", "put", "_", "ioctx", "(", "ioctx", ")", ";", "/", "*", "once", "for", "the", "lookup", "*", "/", "<nl>", "}", "<nl>"], "docstring_tokens": ["aio", "io_getevents", "should", "return", "if", "io_destroy", "is", "invoked"]}
{"code_tokens": ["static", "inline", "int", "ip", "_", "ufo", "_", "append", "_", "data", "(", "struct", "sock", "*", "sk", ",", "<nl>", "/", "*", "initialize", "protocol", "header", "pointer", "*", "/", "<nl>", "skb", "-", ">", "transport", "_", "header", "=", "skb", "-", ">", "network", "_", "header", "+", "fragheaderlen", ";", "<nl>", "<nl>", "-", "skb", "-", ">", "ip", "_", "summed", "=", "CHECKSUM", "_", "PARTIAL", ";", "<nl>", "skb", "-", ">", "csum", "=", "0", ";", "<nl>", "<nl>", "-", "/", "*", "specify", "the", "length", "of", "each", "IP", "datagram", "fragment", "*", "/", "<nl>", "-", "skb", "_", "shinfo", "(", "skb", ")", "-", ">", "gso", "_", "size", "=", "maxfraglen", "-", "fragheaderlen", ";", "<nl>", "-", "skb", "_", "shinfo", "(", "skb", ")", "-", ">", "gso", "_", "type", "=", "SKB", "_", "GSO", "_", "UDP", ";", "<nl>", "+", "<nl>", "_", "_", "skb", "_", "queue", "_", "tail", "(", "queue", ",", "skb", ")", ";", "<nl>", "+", "}", "else", "if", "(", "skb", "_", "is", "_", "gso", "(", "skb", ")", ")", "{", "<nl>", "+", "goto", "append", ";", "<nl>", "}", "<nl>", "<nl>", "+", "skb", "-", ">", "ip", "_", "summed", "=", "CHECKSUM", "_", "PARTIAL", ";", "<nl>", "+", "/", "*", "specify", "the", "length", "of", "each", "IP", "datagram", "fragment", "*", "/", "<nl>", "+", "skb", "_", "shinfo", "(", "skb", ")", "-", ">", "gso", "_", "size", "=", "maxfraglen", "-", "fragheaderlen", ";", "<nl>", "+", "skb", "_", "shinfo", "(", "skb", ")", "-", ">", "gso", "_", "type", "=", "SKB", "_", "GSO", "_", "UDP", ";", "<nl>", "+", "<nl>", "+", "append", ":", "<nl>", "return", "skb", "_", "append", "_", "datato", "_", "frags", "(", "sk", ",", "skb", ",", "getfrag", ",", "from", ",", "<nl>", "(", "length", "-", "transhdrlen", ")", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ip_output", "do", "skb", "ufo", "init", "for", "peeked", "non", "ufo", "skb", "as", "well"]}
{"code_tokens": ["struct", "rpmsg", "_", "channel", "_", "info", "{", "<nl>", "*", "rpmsg", "_", "device", "-", "device", "that", "belong", "to", "the", "rpmsg", "bus", "<nl>", "*", "@", "dev", ":", "the", "device", "struct", "<nl>", "*", "@", "id", ":", "device", "id", "(", "used", "to", "match", "between", "rpmsg", "drivers", "and", "devices", ")", "<nl>", "+", "*", "@", "driver", "_", "override", ":", "driver", "name", "to", "force", "a", "match", "<nl>", "*", "@", "src", ":", "local", "address", "<nl>", "*", "@", "dst", ":", "destination", "address", "<nl>", "*", "@", "ept", ":", "the", "rpmsg", "endpoint", "of", "this", "channel", "<nl>", "struct", "rpmsg", "_", "channel", "_", "info", "{", "<nl>", "struct", "rpmsg", "_", "device", "{", "<nl>", "struct", "device", "dev", ";", "<nl>", "struct", "rpmsg", "_", "device", "_", "id", "id", ";", "<nl>", "+", "char", "*", "driver", "_", "override", ";", "<nl>", "u32", "src", ";", "<nl>", "u32", "dst", ";", "<nl>", "struct", "rpmsg", "_", "endpoint", "*", "ept", ";", "mmm", "drivers", "/", "rpmsg", "/", "rpmsg", "_", "core", ".", "c", "<nl>", "struct", "rpmsg", "_", "channel", "_", "info", "{", "<nl>", "*", "rpmsg", "_", "device", "-", "device", "that", "belong", "to", "the", "rpmsg", "bus", "<nl>", "*", "@", "dev", ":", "the", "device", "struct", "<nl>", "*", "@", "id", ":", "device", "id", "(", "used", "to", "match", "between", "rpmsg", "drivers", "and", "devices", ")", "<nl>", "+", "*", "@", "driver", "_", "override", ":", "driver", "name", "to", "force", "a", "match", "<nl>", "*", "@", "src", ":", "local", "address", "<nl>", "*", "@", "dst", ":", "destination", "address", "<nl>", "*", "@", "ept", ":", "the", "rpmsg", "endpoint", "of", "this", "channel", "<nl>", "struct", "rpmsg", "_", "channel", "_", "info", "{", "<nl>", "struct", "rpmsg", "_", "device", "{", "<nl>", "struct", "device", "dev", ";", "<nl>", "struct", "rpmsg", "_", "device", "_", "id", "id", ";", "<nl>", "+", "char", "*", "driver", "_", "override", ";", "<nl>", "u32", "src", ";", "<nl>", "u32", "dst", ";", "<nl>", "struct", "rpmsg", "_", "endpoint", "*", "ept", ";", "<nl>", "static", "int", "rpmsg", "_", "dev", "_", "match", "(", "struct", "device", "*", "dev", ",", "struct", "device", "_", "driver", "*", "drv", ")", "<nl>", "const", "struct", "rpmsg", "_", "device", "_", "id", "*", "ids", "=", "rpdrv", "-", ">", "id", "_", "table", ";", "<nl>", "unsigned", "int", "i", ";", "<nl>", "<nl>", "+", "if", "(", "rpdev", "-", ">", "driver", "_", "override", ")", "<nl>", "+", "return", "!", "strcmp", "(", "rpdev", "-", ">", "driver", "_", "override", ",", "drv", "-", ">", "name", ")", ";", "<nl>", "+", "<nl>", "if", "(", "ids", ")", "<nl>", "for", "(", "i", "=", "0", ";", "ids", "[", "i", "]", ".", "name", "[", "0", "]", ";", "i", "+", "+", ")", "<nl>", "if", "(", "rpmsg", "_", "id", "_", "match", "(", "rpdev", ",", "&", "ids", "[", "i", "]", ")", ")", "<nl>"], "docstring_tokens": ["rpmsg", "Introduce", "a", "driver", "override", "mechanism"]}
{"code_tokens": ["xfs", "_", "error", "_", "get", "_", "cfg", "(", "<nl>", "{", "<nl>", "struct", "xfs", "_", "error", "_", "cfg", "*", "cfg", ";", "<nl>", "<nl>", "+", "if", "(", "error", "<", "0", ")", "<nl>", "+", "error", "=", "-", "error", ";", "<nl>", "+", "<nl>", "switch", "(", "error", ")", "{", "<nl>", "case", "EIO", ":", "<nl>", "cfg", "=", "&", "mp", "-", ">", "m", "_", "error", "_", "cfg", "[", "error", "_", "class", "]", "[", "XFS", "_", "ERR", "_", "EIO", "]", ";", "<nl>"], "docstring_tokens": ["xfs", "fix", "xfs_error_get_cfg", "for", "negative", "errnos"]}
{"code_tokens": ["static", "int", "beagle", "_", "twl", "_", "gpio", "_", "setup", "(", "struct", "device", "*", "dev", ",", "<nl>", "<nl>", "/", "*", "TWL4030", "_", "GPIO", "_", "MAX", "+", "0", "=", "=", "ledA", ",", "EHCI", "nEN", "_", "USB", "_", "PWR", "(", "out", ",", "active", "low", ")", "*", "/", "<nl>", "gpio", "_", "request", "(", "gpio", "+", "TWL4030", "_", "GPIO", "_", "MAX", ",", "\"", "nEN", "_", "USB", "_", "PWR", "\"", ")", ";", "<nl>", "-", "gpio", "_", "direction", "_", "output", "(", "gpio", "+", "TWL4030", "_", "GPIO", "_", "MAX", ",", "1", ")", ";", "<nl>", "+", "gpio", "_", "direction", "_", "output", "(", "gpio", "+", "TWL4030", "_", "GPIO", "_", "MAX", ",", "0", ")", ";", "<nl>", "<nl>", "/", "*", "TWL4030", "_", "GPIO", "_", "MAX", "+", "1", "=", "=", "ledB", ",", "PMU", "_", "STAT", "(", "out", ",", "active", "low", "LED", ")", "*", "/", "<nl>", "gpio", "_", "leds", "[", "2", "]", ".", "gpio", "=", "gpio", "+", "TWL4030", "_", "GPIO", "_", "MAX", "+", "1", ";", "<nl>"], "docstring_tokens": ["omap3", "beagle", "Fix", "USB", "host", "port", "power", "control"]}
{"code_tokens": ["void", "tipc", "_", "disc", "_", "rcv", "(", "struct", "net", "*", "net", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "u16", "caps", "=", "msg", "_", "node", "_", "capabilities", "(", "hdr", ")", ";", "<nl>", "bool", "respond", "=", "false", ";", "<nl>", "bool", "dupl", "_", "addr", "=", "false", ";", "<nl>", "+", "int", "err", ";", "<nl>", "<nl>", "-", "bearer", "-", ">", "media", "-", ">", "msg2addr", "(", "bearer", ",", "&", "maddr", ",", "msg", "_", "media", "_", "addr", "(", "hdr", ")", ")", ";", "<nl>", "+", "err", "=", "bearer", "-", ">", "media", "-", ">", "msg2addr", "(", "bearer", ",", "&", "maddr", ",", "msg", "_", "media", "_", "addr", "(", "hdr", ")", ")", ";", "<nl>", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "return", ";", "<nl>", "<nl>", "/", "*", "Ensure", "message", "from", "node", "is", "valid", "and", "communication", "is", "permitted", "*", "/", "<nl>", "if", "(", "net", "_", "id", "!", "=", "tn", "-", ">", "net", "_", "id", ")", "<nl>"], "docstring_tokens": ["tipc", "honor", "msg2addr", "return", "value"]}
{"code_tokens": ["static", "void", "_", "_", "init", "sun6i", "_", "rtc", "_", "clk", "_", "init", "(", "struct", "device", "_", "node", "*", "node", ")", "<nl>", "<nl>", "clk", "_", "data", "=", "kzalloc", "(", "sizeof", "(", "*", "clk", "_", "data", ")", "+", "(", "sizeof", "(", "*", "clk", "_", "data", "-", ">", "hws", ")", "*", "2", ")", ",", "<nl>", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "!", "clk", "_", "data", ")", "<nl>", "+", "if", "(", "!", "clk", "_", "data", ")", "{", "<nl>", "+", "kfree", "(", "rtc", ")", ";", "<nl>", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "rtc", "-", ">", "lock", ")", ";", "<nl>"], "docstring_tokens": ["rtc", "sun6i", "ensure", "rtc", "is", "kfree", "d", "on", "error"]}
{"code_tokens": ["static", "inline", "int", "logfs", "_", "get", "_", "sb", "_", "bdev", "(", "struct", "logfs", "_", "super", "*", "s", ",", "<nl>", "<nl>", "/", "*", "dev", "_", "mtd", ".", "c", "*", "/", "<nl>", "#", "ifdef", "CONFIG", "_", "MTD", "<nl>", "-", "int", "logfs", "_", "get", "_", "sb", "_", "mtd", "(", "struct", "logfs", "_", "super", "*", "s", ",", "int", "mtdnr", ")", "<nl>", "+", "int", "logfs", "_", "get", "_", "sb", "_", "mtd", "(", "struct", "logfs", "_", "super", "*", "s", ",", "int", "mtdnr", ")", ";", "<nl>", "#", "else", "<nl>", "static", "inline", "int", "logfs", "_", "get", "_", "sb", "_", "mtd", "(", "struct", "logfs", "_", "super", "*", "s", ",", "int", "mtdnr", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["fs", "logfs", "Fix", "up", "MTD", "y", "build"]}
{"code_tokens": ["static", "int", "ds", "_", "recv", "_", "status", "_", "nodump", "(", "struct", "ds", "_", "device", "*", "dev", ",", "struct", "ds", "_", "status", "*", "st", ",", "<nl>", "{", "<nl>", "int", "count", ",", "err", ";", "<nl>", "<nl>", "-", "memset", "(", "st", ",", "0", ",", "sizeof", "(", "st", ")", ")", ";", "<nl>", "+", "memset", "(", "st", ",", "0", ",", "sizeof", "(", "*", "st", ")", ")", ";", "<nl>", "<nl>", "count", "=", "0", ";", "<nl>", "err", "=", "usb", "_", "bulk", "_", "msg", "(", "dev", "-", ">", "udev", ",", "usb", "_", "rcvbulkpipe", "(", "dev", "-", ">", "udev", ",", "dev", "-", ">", "ep", "[", "EP", "_", "STATUS", "]", ")", ",", "buf", ",", "size", ",", "&", "count", ",", "100", ")", ";", "<nl>"], "docstring_tokens": ["W1", "fix", "memset", "size", "error"]}
{"code_tokens": ["static", "int", "do", "_", "loopback", "(", "struct", "path", "*", "path", ",", "const", "char", "*", "old", "_", "name", ",", "<nl>", "<nl>", "if", "(", "IS", "_", "ERR", "(", "mnt", ")", ")", "{", "<nl>", "err", "=", "PTR", "_", "ERR", "(", "mnt", ")", ";", "<nl>", "-", "goto", "out", ";", "<nl>", "+", "goto", "out2", ";", "<nl>", "}", "<nl>", "<nl>", "err", "=", "graft", "_", "tree", "(", "mnt", ",", "path", ")", ";", "<nl>"], "docstring_tokens": ["mnt", "release", "locks", "on", "error", "path", "in", "do_loopback"]}
{"code_tokens": ["int", "cfg80211", "_", "validate", "_", "key", "_", "settings", "(", "struct", "cfg80211", "_", "registered", "_", "device", "*", "rdev", ",", "<nl>", "struct", "key", "_", "params", "*", "params", ",", "int", "key", "_", "idx", ",", "<nl>", "bool", "pairwise", ",", "const", "u8", "*", "mac", "_", "addr", ")", "<nl>", "{", "<nl>", "-", "if", "(", "key", "_", "idx", ">", "5", ")", "<nl>", "+", "if", "(", "key", "_", "idx", "<", "0", "|", "|", "key", "_", "idx", ">", "5", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "if", "(", "!", "pairwise", "&", "&", "mac", "_", "addr", "&", "&", "!", "(", "rdev", "-", ">", "wiphy", ".", "flags", "&", "WIPHY", "_", "FLAG", "_", "IBSS", "_", "RSN", ")", ")", "<nl>", "int", "cfg80211", "_", "validate", "_", "key", "_", "settings", "(", "struct", "cfg80211", "_", "registered", "_", "device", "*", "rdev", ",", "<nl>", "/", "*", "Disallow", "BIP", "(", "group", "-", "only", ")", "cipher", "as", "pairwise", "cipher", "*", "/", "<nl>", "if", "(", "pairwise", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "+", "if", "(", "key", "_", "idx", "<", "4", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "break", ";", "<nl>", "+", "case", "WLAN", "_", "CIPHER", "_", "SUITE", "_", "WEP40", ":", "<nl>", "+", "case", "WLAN", "_", "CIPHER", "_", "SUITE", "_", "WEP104", ":", "<nl>", "+", "if", "(", "key", "_", "idx", ">", "3", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "default", ":", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["cfg80211", "validate", "key", "index", "better"]}
{"code_tokens": ["migration", "_", "call", "(", "struct", "notifier", "_", "block", "*", "nfb", ",", "unsigned", "long", "action", ",", "void", "*", "hcpu", ")", "<nl>", "migrate", "_", "tasks", "(", "rq", ")", ";", "<nl>", "BUG", "_", "ON", "(", "rq", "-", ">", "nr", "_", "running", "!", "=", "1", ")", ";", "/", "*", "the", "migration", "thread", "*", "/", "<nl>", "raw", "_", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "rq", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "-", "break", ";", "<nl>", "-", "<nl>", "-", "case", "CPU", "_", "DEAD", ":", "<nl>", "calc", "_", "load", "_", "migrate", "(", "rq", ")", ";", "<nl>", "break", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["sched", "migration", "Move", "calc_load_migrate", "into", "CPU_DYING"]}
{"code_tokens": ["static", "int", "_", "_", "init", "intel", "_", "idle", "_", "init", "(", "void", ")", "<nl>", "if", "(", "retval", ")", "<nl>", "return", "retval", ";", "<nl>", "<nl>", "+", "intel", "_", "idle", "_", "cpuidle", "_", "devices", "=", "alloc", "_", "percpu", "(", "struct", "cpuidle", "_", "device", ")", ";", "<nl>", "+", "if", "(", "intel", "_", "idle", "_", "cpuidle", "_", "devices", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "intel", "_", "idle", "_", "cpuidle", "_", "driver", "_", "init", "(", ")", ";", "<nl>", "retval", "=", "cpuidle", "_", "register", "_", "driver", "(", "&", "intel", "_", "idle", "_", "driver", ")", ";", "<nl>", "if", "(", "retval", ")", "{", "<nl>", "struct", "cpuidle", "_", "driver", "*", "drv", "=", "cpuidle", "_", "get", "_", "driver", "(", ")", ";", "<nl>", "printk", "(", "KERN", "_", "DEBUG", "PREFIX", "\"", "intel", "_", "idle", "yielding", "to", "%", "s", "\"", ",", "<nl>", "drv", "?", "drv", "-", ">", "name", ":", "\"", "none", "\"", ")", ";", "<nl>", "+", "free", "_", "percpu", "(", "intel", "_", "idle", "_", "cpuidle", "_", "devices", ")", ";", "<nl>", "return", "retval", ";", "<nl>", "}", "<nl>", "<nl>", "-", "intel", "_", "idle", "_", "cpuidle", "_", "devices", "=", "alloc", "_", "percpu", "(", "struct", "cpuidle", "_", "device", ")", ";", "<nl>", "-", "if", "(", "intel", "_", "idle", "_", "cpuidle", "_", "devices", "=", "=", "NULL", ")", "<nl>", "-", "return", "-", "ENOMEM", ";", "<nl>", "-", "<nl>", "cpu", "_", "notifier", "_", "register", "_", "begin", "(", ")", ";", "<nl>", "<nl>", "for", "_", "each", "_", "online", "_", "cpu", "(", "i", ")", "{", "<nl>"], "docstring_tokens": ["intel_idle", "Fix", "dangling", "registration", "on", "error", "path"]}
{"code_tokens": ["static", "int", "dso", "_", "_", "load", "_", "sym", "(", "struct", "dso", "*", "self", ",", "int", "fd", ",", "const", "char", "*", "name", ",", "<nl>", "<nl>", "nr", "_", "syms", "=", "shdr", ".", "sh", "_", "size", "/", "shdr", ".", "sh", "_", "entsize", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "sym", ",", "0", ",", "sizeof", "(", "sym", ")", ")", ";", "<nl>", "+", "<nl>", "elf", "_", "symtab", "_", "_", "for", "_", "each", "_", "symbol", "(", "syms", ",", "nr", "_", "syms", ",", "index", ",", "sym", ")", "{", "<nl>", "struct", "symbol", "*", "f", ";", "<nl>", "uint64", "_", "t", "obj", "_", "start", ";", "<nl>"], "docstring_tokens": ["perf_counter", "tools", "Initialize", "a", "stack", "variable", "before", "use"]}
{"code_tokens": ["int", "_", "_", "nvme", "_", "submit", "_", "user", "_", "cmd", "(", "struct", "request", "_", "queue", "*", "q", ",", "struct", "nvme", "_", "command", "*", "cmd", ",", "<nl>", "goto", "out", "_", "unmap", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "meta", "_", "buffer", ")", "{", "<nl>", "+", "if", "(", "meta", "_", "buffer", "&", "&", "meta", "_", "len", ")", "{", "<nl>", "struct", "bio", "_", "integrity", "_", "payload", "*", "bip", ";", "<nl>", "<nl>", "meta", "=", "kmalloc", "(", "meta", "_", "len", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>"], "docstring_tokens": ["NVMe", "Fix", "0", "length", "integrity", "payload"]}
{"code_tokens": ["struct", "btrfs", "_", "block", "_", "group", "_", "cache", "*", "btrfs", "_", "find", "_", "block", "_", "group", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "<nl>", "if", "(", "search", "_", "start", ")", "{", "<nl>", "struct", "btrfs", "_", "block", "_", "group", "_", "cache", "*", "shint", ";", "<nl>", "shint", "=", "btrfs", "_", "lookup", "_", "block", "_", "group", "(", "info", ",", "search", "_", "start", ")", ";", "<nl>", "-", "if", "(", "shint", "-", ">", "data", "=", "=", "data", ")", "{", "<nl>", "+", "if", "(", "shint", "&", "&", "shint", "-", ">", "data", "=", "=", "data", ")", "{", "<nl>", "used", "=", "btrfs", "_", "block", "_", "group", "_", "used", "(", "&", "shint", "-", ">", "item", ")", ";", "<nl>", "if", "(", "used", "+", "shint", "-", ">", "pinned", "<", "<nl>", "div", "_", "factor", "(", "shint", "-", ">", "key", ".", "offset", ",", "factor", ")", ")", "{", "<nl>", "struct", "buffer", "_", "head", "*", "btrfs", "_", "alloc", "_", "free", "_", "block", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "struct", "buffer", "_", "head", "*", "buf", ";", "<nl>", "<nl>", "ret", "=", "btrfs", "_", "alloc", "_", "extent", "(", "trans", ",", "root", ",", "root", "-", ">", "root", "_", "key", ".", "objectid", ",", "<nl>", "-", "1", ",", "empty", "_", "size", ",", "hint", ",", "<nl>", "-", "(", "unsigned", "long", ")", "-", "1", ",", "&", "ins", ",", "0", ")", ";", "<nl>", "+", "1", ",", "empty", "_", "size", ",", "hint", ",", "(", "u64", ")", "-", "1", ",", "&", "ins", ",", "0", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "BUG", "_", "ON", "(", "ret", ">", "0", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>"], "docstring_tokens": ["Btrfs", "Fix", "oopsen", "in", "extent_tree", "c", "during", "enospc"]}
{"code_tokens": ["static", "int", "check", "_", "stack", "_", "boundary", "(", "struct", "bpf", "_", "verifier", "_", "env", "*", "env", ",", "int", "regno", ",", "<nl>", "tnum", "_", "strn", "(", "tn", "_", "buf", ",", "sizeof", "(", "tn", "_", "buf", ")", ",", "regs", "[", "regno", "]", ".", "var", "_", "off", ")", ";", "<nl>", "verbose", "(", "env", ",", "\"", "invalid", "variable", "stack", "read", "R", "%", "d", "var", "_", "off", "=", "%", "s", "\\", "n", "\"", ",", "<nl>", "regno", ",", "tn", "_", "buf", ")", ";", "<nl>", "+", "return", "-", "EACCES", ";", "<nl>", "}", "<nl>", "off", "=", "regs", "[", "regno", "]", ".", "off", "+", "regs", "[", "regno", "]", ".", "var", "_", "off", ".", "value", ";", "<nl>", "if", "(", "off", ">", "=", "0", "|", "|", "off", "<", "-", "MAX", "_", "BPF", "_", "STACK", "|", "|", "off", "+", "access", "_", "size", ">", "0", "|", "|", "<nl>"], "docstring_tokens": ["bpf", "fix", "missing", "error", "return", "in", "check_stack_boundary"]}
{"code_tokens": ["static", "ssize", "_", "t", "error", "_", "store", "(", "struct", "device", "*", "dev", ",", "struct", "device", "_", "attribute", "*", "attr", ",", "<nl>", "const", "char", "*", "buf", ",", "size", "_", "t", "count", ")", "<nl>", "{", "<nl>", "u32", "error", ";", "<nl>", "-", "int", "ret", ";", "<nl>", "+", "int", "err", ";", "<nl>", "<nl>", "if", "(", "kstrtou32", "(", "buf", ",", "10", ",", "&", "error", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "-", "ret", "=", "visorchannel", "_", "write", "<nl>", "+", "err", "=", "visorchannel", "_", "write", "<nl>", "(", "chipset", "_", "dev", "-", ">", "controlvm", "_", "channel", ",", "<nl>", "offsetof", "(", "struct", "spar", "_", "controlvm", "_", "channel", "_", "protocol", ",", "<nl>", "installation", "_", "error", ")", ",", "<nl>", "&", "error", ",", "sizeof", "(", "u32", ")", ")", ";", "<nl>", "-", "if", "(", "ret", ")", "<nl>", "-", "return", "ret", ";", "<nl>", "+", "if", "(", "err", ")", "<nl>", "+", "return", "err", ";", "<nl>", "return", "count", ";", "<nl>", "}", "<nl>", "static", "DEVICE", "_", "ATTR", "_", "RW", "(", "error", ")", ";", "<nl>"], "docstring_tokens": ["staging", "unisys", "visorbus", "error_store", "convert", "ret", "to", "err"]}
{"code_tokens": ["void", "arch", "_", "update", "_", "cpu", "_", "topology", "(", "void", ")", ";", "<nl>", ".", "busy", "_", "idx", "=", "3", ",", "\\", "<nl>", ".", "idle", "_", "idx", "=", "3", ",", "\\", "<nl>", ".", "flags", "=", "SD", "_", "LOAD", "_", "BALANCE", "\\", "<nl>", "-", "|", "SD", "_", "SERIALIZE", ",", "\\", "<nl>", "+", "|", "SD", "_", "BALANCE", "_", "NEWIDLE", "\\", "<nl>", "+", "|", "SD", "_", "WAKE", "_", "AFFINE", "\\", "<nl>", "+", "|", "SD", "_", "SERIALIZE", ",", "\\", "<nl>", ".", "last", "_", "balance", "=", "jiffies", ",", "\\", "<nl>", ".", "balance", "_", "interval", "=", "64", ",", "\\", "<nl>", "}", "<nl>"], "docstring_tokens": ["sched", "re", "tune", "NUMA", "topologies"]}
{"code_tokens": ["static", "gpt", "_", "entry", "*", "alloc", "_", "read", "_", "gpt", "_", "entries", "(", "struct", "parsed", "_", "partitions", "*", "state", ",", "<nl>", "le32", "_", "to", "_", "cpu", "(", "gpt", "-", ">", "sizeof", "_", "partition", "_", "entry", ")", ";", "<nl>", "if", "(", "!", "count", ")", "<nl>", "return", "NULL", ";", "<nl>", "-", "pte", "=", "kzalloc", "(", "count", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "pte", "=", "kmalloc", "(", "count", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "pte", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "static", "gpt", "_", "header", "*", "alloc", "_", "read", "_", "gpt", "_", "header", "(", "struct", "parsed", "_", "partitions", "*", "state", ",", "<nl>", "gpt", "_", "header", "*", "gpt", ";", "<nl>", "unsigned", "ssz", "=", "bdev", "_", "logical", "_", "block", "_", "size", "(", "state", "-", ">", "bdev", ")", ";", "<nl>", "<nl>", "-", "gpt", "=", "kzalloc", "(", "ssz", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "gpt", "=", "kmalloc", "(", "ssz", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "gpt", ")", "<nl>", "return", "NULL", ";", "<nl>"], "docstring_tokens": ["partitions", "efi", "c", "replace", "useless", "kzalloc", "s", "by", "kmalloc", "s"]}
{"code_tokens": ["smb", "_", "send", "_", "kvec", "(", "struct", "TCP", "_", "Server", "_", "Info", "*", "server", ",", "struct", "kvec", "*", "iov", ",", "size", "_", "t", "n", "_", "vec", ",", "<nl>", "<nl>", "*", "sent", "=", "0", ";", "<nl>", "<nl>", "-", "if", "(", "ssocket", "=", "=", "NULL", ")", "<nl>", "-", "return", "-", "ENOTSOCK", ";", "/", "*", "BB", "eventually", "add", "reconnect", "code", "here", "*", "/", "<nl>", "-", "<nl>", "smb", "_", "msg", ".", "msg", "_", "name", "=", "(", "struct", "sockaddr", "*", ")", "&", "server", "-", ">", "dstaddr", ";", "<nl>", "smb", "_", "msg", ".", "msg", "_", "namelen", "=", "sizeof", "(", "struct", "sockaddr", ")", ";", "<nl>", "smb", "_", "msg", ".", "msg", "_", "control", "=", "NULL", ";", "<nl>", "smb", "_", "send", "_", "rqst", "(", "struct", "TCP", "_", "Server", "_", "Info", "*", "server", ",", "struct", "smb", "_", "rqst", "*", "rqst", ")", "<nl>", "struct", "socket", "*", "ssocket", "=", "server", "-", ">", "ssocket", ";", "<nl>", "int", "val", "=", "1", ";", "<nl>", "<nl>", "+", "if", "(", "ssocket", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "ENOTSOCK", ";", "<nl>", "+", "<nl>", "cFYI", "(", "1", ",", "\"", "Sending", "smb", ":", "smb", "_", "len", "=", "%", "u", "\"", ",", "smb", "_", "buf", "_", "length", ")", ";", "<nl>", "dump", "_", "smb", "(", "iov", "[", "0", "]", ".", "iov", "_", "base", ",", "iov", "[", "0", "]", ".", "iov", "_", "len", ")", ";", "<nl>"], "docstring_tokens": ["cifs", "move", "check", "for", "NULL", "socket", "into", "smb_send_rqst"]}
{"code_tokens": ["static", "void", "stm32", "_", "exti", "_", "free", "(", "struct", "irq", "_", "domain", "*", "d", ",", "unsigned", "int", "virq", ",", "<nl>", "irq", "_", "domain", "_", "reset", "_", "irq", "_", "data", "(", "data", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "struct", "irq", "_", "domain", "_", "ops", "irq", "_", "exti", "_", "domain", "_", "ops", "=", "{", "<nl>", "+", "static", "const", "struct", "irq", "_", "domain", "_", "ops", "irq", "_", "exti", "_", "domain", "_", "ops", "=", "{", "<nl>", ".", "map", "=", "irq", "_", "map", "_", "generic", "_", "chip", ",", "<nl>", ".", "alloc", "=", "stm32", "_", "exti", "_", "alloc", ",", "<nl>", ".", "free", "=", "stm32", "_", "exti", "_", "free", ",", "<nl>", "_", "_", "init", "stm32", "_", "exti", "_", "init", "(", "const", "struct", "stm32", "_", "exti", "_", "bank", "*", "*", "stm32", "_", "exti", "_", "banks", ",", "<nl>", "handle", "_", "edge", "_", "irq", ",", "clr", ",", "0", ",", "0", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "pr", "_", "err", "(", "\"", "%", "pOF", ":", "Could", "not", "allocate", "generic", "interrupt", "chip", ".", "\\", "n", "\"", ",", "<nl>", "-", "node", ")", ";", "<nl>", "+", "node", ")", ";", "<nl>", "goto", "out", "_", "free", "_", "domain", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["irqchip", "stm32", "Checkpatch", "fix"]}
{"code_tokens": ["lpfc", "_", "nvme", "_", "info", "_", "show", "(", "struct", "device", "*", "dev", ",", "struct", "device", "_", "attribute", "*", "attr", ",", "<nl>", "wwn", "_", "to", "_", "u64", "(", "vport", "-", ">", "fc", "_", "nodename", ".", "u", ".", "wwn", ")", ",", "<nl>", "phba", "-", ">", "targetport", "-", ">", "port", "_", "id", ")", ";", "<nl>", "<nl>", "-", "len", "+", "=", "snprintf", "(", "buf", "+", "len", ",", "PAGE", "_", "SIZE", ",", "<nl>", "+", "len", "+", "=", "snprintf", "(", "buf", "+", "len", ",", "PAGE", "_", "SIZE", "-", "len", ",", "<nl>", "\"", "\\", "nNVME", "Target", ":", "Statistics", "\\", "n", "\"", ")", ";", "<nl>", "tgtp", "=", "(", "struct", "lpfc", "_", "nvmet", "_", "tgtport", "*", ")", "phba", "-", ">", "targetport", "-", ">", "private", ";", "<nl>", "len", "+", "=", "snprintf", "(", "buf", "+", "len", ",", "PAGE", "_", "SIZE", "-", "len", ",", "<nl>", "lpfc", "_", "nvme", "_", "info", "_", "show", "(", "struct", "device", "*", "dev", ",", "struct", "device", "_", "attribute", "*", "attr", ",", "<nl>", "}", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "shost", "-", ">", "host", "_", "lock", ")", ";", "<nl>", "<nl>", "-", "len", "+", "=", "snprintf", "(", "buf", "+", "len", ",", "PAGE", "_", "SIZE", ",", "\"", "\\", "nNVME", "Statistics", "\\", "n", "\"", ")", ";", "<nl>", "+", "len", "+", "=", "snprintf", "(", "buf", "+", "len", ",", "PAGE", "_", "SIZE", "-", "len", ",", "\"", "\\", "nNVME", "Statistics", "\\", "n", "\"", ")", ";", "<nl>", "len", "+", "=", "snprintf", "(", "buf", "+", "len", ",", "PAGE", "_", "SIZE", "-", "len", ",", "<nl>", "\"", "LS", ":", "Xmt", "%", "016llx", "Cmpl", "%", "016llx", "\\", "n", "\"", ",", "<nl>", "phba", "-", ">", "fc4NvmeLsRequests", ",", "<nl>"], "docstring_tokens": ["scsi", "lpfc", "fix", "potential", "buffer", "overflow"]}
{"code_tokens": ["static", "int", "nf", "_", "tables", "_", "getset", "(", "struct", "net", "*", "net", ",", "struct", "sock", "*", "nlsk", ",", "<nl>", "/", "*", "Only", "accept", "unspec", "with", "dump", "*", "/", "<nl>", "if", "(", "nfmsg", "-", ">", "nfgen", "_", "family", "=", "=", "NFPROTO", "_", "UNSPEC", ")", "<nl>", "return", "-", "EAFNOSUPPORT", ";", "<nl>", "+", "if", "(", "!", "nla", "[", "NFTA", "_", "SET", "_", "TABLE", "]", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "set", "=", "nf", "_", "tables", "_", "set", "_", "lookup", "(", "ctx", ".", "table", ",", "nla", "[", "NFTA", "_", "SET", "_", "NAME", "]", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "set", ")", ")", "<nl>"], "docstring_tokens": ["netfilter", "nf_tables", "validate", "NFTA_SET_TABLE", "parameter"]}
{"code_tokens": ["int", "snd", "_", "hda", "_", "multi", "_", "out", "_", "analog", "_", "open", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "<nl>", "if", "(", "mout", "-", ">", "spdif", "_", "maxbps", "<", "hinfo", "-", ">", "maxbps", ")", "<nl>", "hinfo", "-", ">", "maxbps", "=", "mout", "-", ">", "spdif", "_", "maxbps", ";", "<nl>", "}", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "codec", "-", ">", "spdif", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "-", "mutex", "_", "unlock", "(", "&", "codec", "-", ">", "spdif", "_", "mutex", ")", ";", "<nl>", "return", "snd", "_", "pcm", "_", "hw", "_", "constraint", "_", "step", "(", "substream", "-", ">", "runtime", ",", "0", ",", "<nl>", "SNDRV", "_", "PCM", "_", "HW", "_", "PARAM", "_", "CHANNELS", ",", "2", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "hda", "codec", "Fix", "unbalanced", "mutex"]}
{"code_tokens": ["static", "int", "max8973", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "}", "<nl>", "<nl>", "if", "(", "pdata", ")", "{", "<nl>", "-", "max", "-", ">", "dvs", "_", "gpio", "=", "pdata", "-", ">", "dvs", "_", "gpio", ";", "<nl>", "+", "max", "-", ">", "dvs", "_", "gpio", "=", "(", "pdata", "-", ">", "dvs", "_", "gpio", ")", "?", "pdata", "-", ">", "dvs", "_", "gpio", ":", "-", "EINVAL", ";", "<nl>", "max", "-", ">", "enable", "_", "external", "_", "control", "=", "pdata", "-", ">", "enable", "_", "ext", "_", "control", ";", "<nl>", "max", "-", ">", "curr", "_", "gpio", "_", "val", "=", "pdata", "-", ">", "dvs", "_", "def", "_", "state", ";", "<nl>", "max", "-", ">", "curr", "_", "vout", "_", "reg", "=", "MAX8973", "_", "VOUT", "+", "pdata", "-", ">", "dvs", "_", "def", "_", "state", ";", "<nl>"], "docstring_tokens": ["regulator", "max8973", "make", "default", "unset", "dvs", "gpio", "as", "invalid", "gpio"]}
{"code_tokens": ["static", "int", "inquiry", "_", "evpd", "_", "b0", "(", "unsigned", "char", "*", "arr", ")", "<nl>", "return", "sizeof", "(", "vpdb0", "_", "data", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "inquiry", "_", "evpd", "_", "b1", "(", "unsigned", "char", "*", "arr", ")", "<nl>", "+", "{", "<nl>", "+", "memset", "(", "arr", ",", "0", ",", "0x3c", ")", ";", "<nl>", "+", "arr", "[", "0", "]", "=", "0", ";", "<nl>", "+", "arr", "[", "1", "]", "=", "1", ";", "<nl>", "+", "<nl>", "+", "return", "0x3c", ";", "<nl>", "+", "}", "<nl>", "<nl>", "#", "define", "SDEBUG", "_", "LONG", "_", "INQ", "_", "SZ", "96", "<nl>", "#", "define", "SDEBUG", "_", "MAX", "_", "INQ", "_", "ARR", "_", "SZ", "584", "<nl>", "static", "int", "resp", "_", "inquiry", "(", "struct", "scsi", "_", "cmnd", "*", "scp", ",", "int", "target", ",", "<nl>", "arr", "[", "n", "+", "+", "]", "=", "0x88", ";", "/", "*", "SCSI", "ports", "*", "/", "<nl>", "arr", "[", "n", "+", "+", "]", "=", "0x89", ";", "/", "*", "ATA", "information", "*", "/", "<nl>", "arr", "[", "n", "+", "+", "]", "=", "0xb0", ";", "/", "*", "Block", "limits", "(", "SBC", ")", "*", "/", "<nl>", "+", "arr", "[", "n", "+", "+", "]", "=", "0xb1", ";", "/", "*", "Block", "characteristics", "(", "SBC", ")", "*", "/", "<nl>", "arr", "[", "3", "]", "=", "n", "-", "4", ";", "/", "*", "number", "of", "supported", "VPD", "pages", "*", "/", "<nl>", "}", "else", "if", "(", "0x80", "=", "=", "cmd", "[", "2", "]", ")", "{", "/", "*", "unit", "serial", "number", "*", "/", "<nl>", "arr", "[", "1", "]", "=", "cmd", "[", "2", "]", ";", "/", "*", "sanity", "*", "/", "<nl>", "static", "int", "resp", "_", "inquiry", "(", "struct", "scsi", "_", "cmnd", "*", "scp", ",", "int", "target", ",", "<nl>", "}", "else", "if", "(", "0xb0", "=", "=", "cmd", "[", "2", "]", ")", "{", "/", "*", "Block", "limits", "(", "SBC", ")", "*", "/", "<nl>", "arr", "[", "1", "]", "=", "cmd", "[", "2", "]", ";", "/", "*", "sanity", "*", "/", "<nl>", "arr", "[", "3", "]", "=", "inquiry", "_", "evpd", "_", "b0", "(", "&", "arr", "[", "4", "]", ")", ";", "<nl>", "+", "}", "else", "if", "(", "0xb1", "=", "=", "cmd", "[", "2", "]", ")", "{", "/", "*", "Block", "characteristics", "(", "SBC", ")", "*", "/", "<nl>", "+", "arr", "[", "1", "]", "=", "cmd", "[", "2", "]", ";", "/", "*", "sanity", "*", "/", "<nl>", "+", "arr", "[", "3", "]", "=", "inquiry", "_", "evpd", "_", "b1", "(", "&", "arr", "[", "4", "]", ")", ";", "<nl>", "}", "else", "{", "<nl>", "/", "*", "Illegal", "request", ",", "invalid", "field", "in", "cdb", "*", "/", "<nl>", "mk", "_", "sense", "_", "buffer", "(", "devip", ",", "ILLEGAL", "_", "REQUEST", ",", "<nl>"], "docstring_tokens": ["SCSI", "scsi_debug", "add", "support", "for", "rotation", "speed"]}
{"code_tokens": ["int", "get", "_", "pll", "_", "limits", "(", "struct", "drm", "_", "device", "*", "dev", ",", "uint32", "_", "t", "limit", "_", "match", ",", "struct", "pll", "_", "lims", "<nl>", "break", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "(", "dev", "_", "priv", "-", ">", "card", "_", "type", ">", "=", "NV", "_", "50", ")", "&", "&", "(", "pllindex", "=", "=", "0", ")", ")", "{", "<nl>", "+", "NV", "_", "ERROR", "(", "dev", ",", "\"", "Register", "0x", "%", "08x", "not", "found", "in", "PLL", "\"", "<nl>", "+", "\"", "limits", "table", "\"", ",", "pll", "_", "lim", "-", ">", "reg", ")", ";", "<nl>", "+", "return", "-", "ENOENT", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "pll", "_", "rec", "=", "&", "bios", "-", ">", "data", "[", "plloffs", "+", "recordlen", "*", "pllindex", "]", ";", "<nl>", "<nl>", "BIOSLOG", "(", "bios", ",", "\"", "Loading", "PLL", "limits", "for", "reg", "0x", "%", "08x", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["drm", "nouveau", "don", "t", "use", "the", "default", "pll", "limits", "in", "table", "v2", "1", "on", "nv50", "cards"]}
{"code_tokens": ["static", "ssize", "_", "t", "ib", "_", "uverbs", "_", "write", "(", "struct", "file", "*", "filp", ",", "const", "char", "_", "_", "user", "*", "buf", ",", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "file", "-", ">", "ucontext", "&", "&", "<nl>", "+", "command", "!", "=", "IB", "_", "USER", "_", "VERBS", "_", "CMD", "_", "GET", "_", "CONTEXT", ")", "{", "<nl>", "+", "ret", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "flags", "=", "(", "hdr", ".", "command", "&", "<nl>", "IB", "_", "USER", "_", "VERBS", "_", "CMD", "_", "FLAGS", "_", "MASK", ")", ">", ">", "IB", "_", "USER", "_", "VERBS", "_", "CMD", "_", "FLAGS", "_", "SHIFT", ";", "<nl>", "<nl>", "static", "ssize", "_", "t", "ib", "_", "uverbs", "_", "write", "(", "struct", "file", "*", "filp", ",", "const", "char", "_", "_", "user", "*", "buf", ",", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "!", "file", "-", ">", "ucontext", "&", "&", "<nl>", "-", "command", "!", "=", "IB", "_", "USER", "_", "VERBS", "_", "CMD", "_", "GET", "_", "CONTEXT", ")", "{", "<nl>", "-", "ret", "=", "-", "EINVAL", ";", "<nl>", "-", "goto", "out", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "if", "(", "hdr", ".", "in", "_", "words", "*", "4", "!", "=", "count", ")", "{", "<nl>", "ret", "=", "-", "EINVAL", ";", "<nl>", "goto", "out", ";", "<nl>"], "docstring_tokens": ["IB", "core", "Modify", "conditional", "on", "ucontext", "existence"]}
{"code_tokens": ["int", "ubifs", "_", "lpt", "_", "scan", "_", "nolock", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "int", "start", "_", "lnum", ",", "int", "end", "_", "lnum", ",", "<nl>", "<nl>", "if", "(", "path", "[", "h", "]", ".", "in", "_", "tree", ")", "<nl>", "continue", ";", "<nl>", "-", "nnode", "=", "kmalloc", "(", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "nnode", "=", "kmemdup", "(", "&", "path", "[", "h", "]", ".", "nnode", ",", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "nnode", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "nnode", ",", "&", "path", "[", "h", "]", ".", "nnode", ",", "sz", ")", ";", "<nl>", "parent", "=", "nnode", "-", ">", "parent", ";", "<nl>", "parent", "-", ">", "nbranch", "[", "nnode", "-", ">", "iip", "]", ".", "nnode", "=", "nnode", ";", "<nl>", "path", "[", "h", "]", ".", "ptr", ".", "nnode", "=", "nnode", ";", "<nl>", "int", "ubifs", "_", "lpt", "_", "scan", "_", "nolock", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "int", "start", "_", "lnum", ",", "int", "end", "_", "lnum", ",", "<nl>", "const", "size", "_", "t", "sz", "=", "sizeof", "(", "struct", "ubifs", "_", "pnode", ")", ";", "<nl>", "struct", "ubifs", "_", "nnode", "*", "parent", ";", "<nl>", "<nl>", "-", "pnode", "=", "kmalloc", "(", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "pnode", "=", "kmemdup", "(", "&", "path", "[", "h", "]", ".", "pnode", ",", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "pnode", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "pnode", ",", "&", "path", "[", "h", "]", ".", "pnode", ",", "sz", ")", ";", "<nl>", "parent", "=", "pnode", "-", ">", "parent", ";", "<nl>", "parent", "-", ">", "nbranch", "[", "pnode", "-", ">", "iip", "]", ".", "pnode", "=", "pnode", ";", "<nl>", "path", "[", "h", "]", ".", "ptr", ".", "pnode", "=", "pnode", ";", "mmm", "fs", "/", "ubifs", "/", "xattr", ".", "c", "<nl>", "int", "ubifs", "_", "lpt", "_", "scan", "_", "nolock", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "int", "start", "_", "lnum", ",", "int", "end", "_", "lnum", ",", "<nl>", "<nl>", "if", "(", "path", "[", "h", "]", ".", "in", "_", "tree", ")", "<nl>", "continue", ";", "<nl>", "-", "nnode", "=", "kmalloc", "(", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "nnode", "=", "kmemdup", "(", "&", "path", "[", "h", "]", ".", "nnode", ",", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "nnode", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "nnode", ",", "&", "path", "[", "h", "]", ".", "nnode", ",", "sz", ")", ";", "<nl>", "parent", "=", "nnode", "-", ">", "parent", ";", "<nl>", "parent", "-", ">", "nbranch", "[", "nnode", "-", ">", "iip", "]", ".", "nnode", "=", "nnode", ";", "<nl>", "path", "[", "h", "]", ".", "ptr", ".", "nnode", "=", "nnode", ";", "<nl>", "int", "ubifs", "_", "lpt", "_", "scan", "_", "nolock", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "int", "start", "_", "lnum", ",", "int", "end", "_", "lnum", ",", "<nl>", "const", "size", "_", "t", "sz", "=", "sizeof", "(", "struct", "ubifs", "_", "pnode", ")", ";", "<nl>", "struct", "ubifs", "_", "nnode", "*", "parent", ";", "<nl>", "<nl>", "-", "pnode", "=", "kmalloc", "(", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "pnode", "=", "kmemdup", "(", "&", "path", "[", "h", "]", ".", "pnode", ",", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "pnode", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "pnode", ",", "&", "path", "[", "h", "]", ".", "pnode", ",", "sz", ")", ";", "<nl>", "parent", "=", "pnode", "-", ">", "parent", ";", "<nl>", "parent", "-", ">", "nbranch", "[", "pnode", "-", ">", "iip", "]", ".", "pnode", "=", "pnode", ";", "<nl>", "path", "[", "h", "]", ".", "ptr", ".", "pnode", "=", "pnode", ";", "<nl>", "static", "int", "create", "_", "xattr", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "struct", "inode", "*", "host", ",", "<nl>", "ui", "=", "ubifs", "_", "inode", "(", "inode", ")", ";", "<nl>", "ui", "-", ">", "xattr", "=", "1", ";", "<nl>", "ui", "-", ">", "flags", "|", "=", "UBIFS", "_", "XATTR", "_", "FL", ";", "<nl>", "-", "ui", "-", ">", "data", "=", "kmalloc", "(", "size", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "ui", "-", ">", "data", "=", "kmemdup", "(", "value", ",", "size", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "ui", "-", ">", "data", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", "_", "free", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "ui", "-", ">", "data", ",", "value", ",", "size", ")", ";", "<nl>", "inode", "-", ">", "i", "_", "size", "=", "ui", "-", ">", "ui", "_", "size", "=", "size", ";", "<nl>", "ui", "-", ">", "data", "_", "len", "=", "size", ";", "<nl>", "<nl>", "static", "int", "change", "_", "xattr", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "struct", "inode", "*", "host", ",", "<nl>", "return", "err", ";", "<nl>", "<nl>", "kfree", "(", "ui", "-", ">", "data", ")", ";", "<nl>", "-", "ui", "-", ">", "data", "=", "kmalloc", "(", "size", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "ui", "-", ">", "data", "=", "kmemdup", "(", "value", ",", "size", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "ui", "-", ">", "data", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", "_", "free", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "ui", "-", ">", "data", ",", "value", ",", "size", ")", ";", "<nl>", "inode", "-", ">", "i", "_", "size", "=", "ui", "-", ">", "ui", "_", "size", "=", "size", ";", "<nl>", "ui", "-", ">", "data", "_", "len", "=", "size", ";", "<nl>", "int", "ubifs", "_", "lpt", "_", "scan", "_", "nolock", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "int", "start", "_", "lnum", ",", "int", "end", "_", "lnum", ",", "<nl>", "<nl>", "if", "(", "path", "[", "h", "]", ".", "in", "_", "tree", ")", "<nl>", "continue", ";", "<nl>", "-", "nnode", "=", "kmalloc", "(", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "nnode", "=", "kmemdup", "(", "&", "path", "[", "h", "]", ".", "nnode", ",", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "nnode", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "nnode", ",", "&", "path", "[", "h", "]", ".", "nnode", ",", "sz", ")", ";", "<nl>", "parent", "=", "nnode", "-", ">", "parent", ";", "<nl>", "parent", "-", ">", "nbranch", "[", "nnode", "-", ">", "iip", "]", ".", "nnode", "=", "nnode", ";", "<nl>", "path", "[", "h", "]", ".", "ptr", ".", "nnode", "=", "nnode", ";", "<nl>", "int", "ubifs", "_", "lpt", "_", "scan", "_", "nolock", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "int", "start", "_", "lnum", ",", "int", "end", "_", "lnum", ",", "<nl>", "const", "size", "_", "t", "sz", "=", "sizeof", "(", "struct", "ubifs", "_", "pnode", ")", ";", "<nl>", "struct", "ubifs", "_", "nnode", "*", "parent", ";", "<nl>", "<nl>", "-", "pnode", "=", "kmalloc", "(", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "pnode", "=", "kmemdup", "(", "&", "path", "[", "h", "]", ".", "pnode", ",", "sz", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "pnode", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "pnode", ",", "&", "path", "[", "h", "]", ".", "pnode", ",", "sz", ")", ";", "<nl>", "parent", "=", "pnode", "-", ">", "parent", ";", "<nl>", "parent", "-", ">", "nbranch", "[", "pnode", "-", ">", "iip", "]", ".", "pnode", "=", "pnode", ";", "<nl>", "path", "[", "h", "]", ".", "ptr", ".", "pnode", "=", "pnode", ";", "<nl>", "static", "int", "create", "_", "xattr", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "struct", "inode", "*", "host", ",", "<nl>", "ui", "=", "ubifs", "_", "inode", "(", "inode", ")", ";", "<nl>", "ui", "-", ">", "xattr", "=", "1", ";", "<nl>", "ui", "-", ">", "flags", "|", "=", "UBIFS", "_", "XATTR", "_", "FL", ";", "<nl>", "-", "ui", "-", ">", "data", "=", "kmalloc", "(", "size", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "ui", "-", ">", "data", "=", "kmemdup", "(", "value", ",", "size", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "ui", "-", ">", "data", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", "_", "free", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "ui", "-", ">", "data", ",", "value", ",", "size", ")", ";", "<nl>", "inode", "-", ">", "i", "_", "size", "=", "ui", "-", ">", "ui", "_", "size", "=", "size", ";", "<nl>", "ui", "-", ">", "data", "_", "len", "=", "size", ";", "<nl>", "<nl>", "static", "int", "change", "_", "xattr", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "struct", "inode", "*", "host", ",", "<nl>", "return", "err", ";", "<nl>", "<nl>", "kfree", "(", "ui", "-", ">", "data", ")", ";", "<nl>", "-", "ui", "-", ">", "data", "=", "kmalloc", "(", "size", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "ui", "-", ">", "data", "=", "kmemdup", "(", "value", ",", "size", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "ui", "-", ">", "data", ")", "{", "<nl>", "err", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", "_", "free", ";", "<nl>", "}", "<nl>", "-", "memcpy", "(", "ui", "-", ">", "data", ",", "value", ",", "size", ")", ";", "<nl>", "inode", "-", ">", "i", "_", "size", "=", "ui", "-", ">", "ui", "_", "size", "=", "size", ";", "<nl>", "ui", "-", ">", "data", "_", "len", "=", "size", ";", "<nl>", "<nl>", "static", "int", "lnc", "_", "add", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "struct", "ubifs", "_", "zbranch", "*", "zbr", ",", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "<nl>", "-", "lnc", "_", "node", "=", "kmalloc", "(", "zbr", "-", ">", "len", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "+", "lnc", "_", "node", "=", "kmemdup", "(", "node", ",", "zbr", "-", ">", "len", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "lnc", "_", "node", ")", "<nl>", "/", "*", "We", "don", "'", "t", "have", "to", "have", "the", "cache", ",", "so", "no", "error", "*", "/", "<nl>", "return", "0", ";", "<nl>", "<nl>", "-", "memcpy", "(", "lnc", "_", "node", ",", "node", ",", "zbr", "-", ">", "len", ")", ";", "<nl>", "zbr", "-", ">", "leaf", "=", "lnc", "_", "node", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["UBIFS", "Use", "kmemdup", "rather", "than", "duplicating", "its", "implementation"]}
{"code_tokens": ["int", "tusb6010", "_", "platform", "_", "retime", "(", "unsigned", "is", "_", "refclk", ")", "<nl>", "unsigned", "sysclk", "_", "ps", ";", "<nl>", "int", "status", ";", "<nl>", "<nl>", "-", "if", "(", "!", "refclk", "_", "psec", "|", "|", "sysclk", "_", "ps", "=", "=", "0", ")", "<nl>", "+", "if", "(", "!", "refclk", "_", "psec", "|", "|", "fclk", "_", "ps", "=", "=", "0", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "sysclk", "_", "ps", "=", "is", "_", "refclk", "?", "refclk", "_", "psec", ":", "TUSB6010", "_", "OSCCLK", "_", "60", ";", "<nl>"], "docstring_tokens": ["ARM", "OMAP2", "Fix", "tusb6010", "init", "error", "and", "compilation", "warning"]}
{"code_tokens": ["isdn", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ",", "uint", "cmd", ",", "ulong", "arg", ")", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "iocts", ",", "argp", ",", "<nl>", "sizeof", "(", "isdn", "_", "ioctl", "_", "struct", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "+", "iocts", ".", "drvid", "[", "sizeof", "(", "iocts", ".", "drvid", ")", "-", "1", "]", "=", "0", ";", "<nl>", "if", "(", "strlen", "(", "iocts", ".", "drvid", ")", ")", "{", "<nl>", "if", "(", "(", "p", "=", "strchr", "(", "iocts", ".", "drvid", ",", "'", ",", "'", ")", ")", ")", "<nl>", "*", "p", "=", "0", ";", "<nl>", "isdn", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ",", "uint", "cmd", ",", "ulong", "arg", ")", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "iocts", ",", "argp", ",", "<nl>", "sizeof", "(", "isdn", "_", "ioctl", "_", "struct", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "+", "iocts", ".", "drvid", "[", "sizeof", "(", "iocts", ".", "drvid", ")", "-", "1", "]", "=", "0", ";", "<nl>", "if", "(", "strlen", "(", "iocts", ".", "drvid", ")", ")", "{", "<nl>", "drvidx", "=", "-", "1", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "ISDN", "_", "MAX", "_", "DRIVERS", ";", "i", "+", "+", ")", "<nl>", "isdn", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ",", "uint", "cmd", ",", "ulong", "arg", ")", "<nl>", "}", "else", "{", "<nl>", "p", "=", "(", "char", "_", "_", "user", "*", ")", "iocts", ".", "arg", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "10", ";", "i", "+", "+", ")", "{", "<nl>", "-", "sprintf", "(", "bname", ",", "\"", "%", "s", "%", "s", "\"", ",", "<nl>", "+", "snprintf", "(", "bname", ",", "sizeof", "(", "bname", ")", ",", "\"", "%", "s", "%", "s", "\"", ",", "<nl>", "strlen", "(", "dev", "-", ">", "drv", "[", "drvidx", "]", "-", ">", "msn2eaz", "[", "i", "]", ")", "?", "<nl>", "dev", "-", ">", "drv", "[", "drvidx", "]", "-", ">", "msn2eaz", "[", "i", "]", ":", "\"", "_", "\"", ",", "<nl>", "(", "i", "<", "9", ")", "?", "\"", ",", "\"", ":", "\"", "\\", "0", "\"", ")", ";", "<nl>", "isdn", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ",", "uint", "cmd", ",", "ulong", "arg", ")", "<nl>", "char", "*", "p", ";", "<nl>", "if", "(", "copy", "_", "from", "_", "user", "(", "&", "iocts", ",", "argp", ",", "sizeof", "(", "isdn", "_", "ioctl", "_", "struct", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "+", "iocts", ".", "drvid", "[", "sizeof", "(", "iocts", ".", "drvid", ")", "-", "1", "]", "=", "0", ";", "<nl>", "if", "(", "strlen", "(", "iocts", ".", "drvid", ")", ")", "{", "<nl>", "if", "(", "(", "p", "=", "strchr", "(", "iocts", ".", "drvid", ",", "'", ",", "'", ")", ")", ")", "<nl>", "*", "p", "=", "0", ";", "<nl>"], "docstring_tokens": ["I4L", "fix", "isdn_ioctl", "memory", "overrun", "vulnerability"]}
{"code_tokens": ["static", "int", "dissolve", "_", "free", "_", "huge", "_", "page", "(", "struct", "page", "*", "page", ")", "<nl>", "int", "dissolve", "_", "free", "_", "huge", "_", "pages", "(", "unsigned", "long", "start", "_", "pfn", ",", "unsigned", "long", "end", "_", "pfn", ")", "<nl>", "{", "<nl>", "unsigned", "long", "pfn", ";", "<nl>", "+", "struct", "page", "*", "page", ";", "<nl>", "int", "rc", "=", "0", ";", "<nl>", "<nl>", "if", "(", "!", "hugepages", "_", "supported", "(", ")", ")", "<nl>", "return", "rc", ";", "<nl>", "<nl>", "-", "for", "(", "pfn", "=", "start", "_", "pfn", ";", "pfn", "<", "end", "_", "pfn", ";", "pfn", "+", "=", "1", "<", "<", "minimum", "_", "order", ")", "<nl>", "-", "if", "(", "rc", "=", "dissolve", "_", "free", "_", "huge", "_", "page", "(", "pfn", "_", "to", "_", "page", "(", "pfn", ")", ")", ")", "<nl>", "-", "break", ";", "<nl>", "+", "for", "(", "pfn", "=", "start", "_", "pfn", ";", "pfn", "<", "end", "_", "pfn", ";", "pfn", "+", "=", "1", "<", "<", "minimum", "_", "order", ")", "{", "<nl>", "+", "page", "=", "pfn", "_", "to", "_", "page", "(", "pfn", ")", ";", "<nl>", "+", "if", "(", "PageHuge", "(", "page", ")", "&", "&", "!", "page", "_", "count", "(", "page", ")", ")", "{", "<nl>", "+", "rc", "=", "dissolve", "_", "free", "_", "huge", "_", "page", "(", "page", ")", ";", "<nl>", "+", "if", "(", "rc", ")", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mm", "hugetlb", "improve", "locking", "in", "dissolve_free_huge_pages"]}
{"code_tokens": ["static", "int", "amdgpu", "_", "cs", "_", "wait", "_", "any", "_", "fence", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "<nl>", "wait", "-", ">", "out", ".", "status", "=", "(", "r", ">", "0", ")", ";", "<nl>", "wait", "-", ">", "out", ".", "first", "_", "signaled", "=", "first", ";", "<nl>", "<nl>", "-", "if", "(", "array", "[", "first", "]", ")", "<nl>", "+", "if", "(", "first", "<", "fence", "_", "count", "&", "&", "array", "[", "first", "]", ")", "<nl>", "r", "=", "array", "[", "first", "]", "-", ">", "error", ";", "<nl>", "else", "<nl>", "r", "=", "0", ";", "<nl>"], "docstring_tokens": ["drm", "amd", "amdgpu", "fix", "over", "bound", "accessing", "in", "amdgpu_cs_wait_any_fence"]}
{"code_tokens": ["static", "int", "_", "_", "do", "_", "request", "(", "struct", "ceph", "_", "mds", "_", "client", "*", "mdsc", ",", "<nl>", "int", "mds", "=", "-", "1", ";", "<nl>", "int", "err", "=", "-", "EAGAIN", ";", "<nl>", "<nl>", "-", "if", "(", "req", "-", ">", "r", "_", "err", "|", "|", "req", "-", ">", "r", "_", "got", "_", "result", ")", "<nl>", "+", "if", "(", "req", "-", ">", "r", "_", "err", "|", "|", "req", "-", ">", "r", "_", "got", "_", "result", ")", "{", "<nl>", "+", "if", "(", "req", "-", ">", "r", "_", "aborted", ")", "<nl>", "+", "_", "_", "unregister", "_", "request", "(", "mdsc", ",", "req", ")", ";", "<nl>", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "req", "-", ">", "r", "_", "timeout", "&", "&", "<nl>", "time", "_", "after", "_", "eq", "(", "jiffies", ",", "req", "-", ">", "r", "_", "started", "+", "req", "-", ">", "r", "_", "timeout", ")", ")", "{", "<nl>"], "docstring_tokens": ["ceph", "cleanup", "aborted", "requests", "when", "re", "sending", "requests"]}
{"code_tokens": ["static", "int", "_", "_", "btrfs", "_", "map", "_", "block", "(", "struct", "btrfs", "_", "fs", "_", "info", "*", "fs", "_", "info", ",", "int", "rw", ",", "<nl>", "}", "<nl>", "bbio", "=", "kzalloc", "(", "btrfs", "_", "bio", "_", "size", "(", "num", "_", "alloc", "_", "stripes", ")", ",", "GFP", "_", "NOFS", ")", ";", "<nl>", "if", "(", "!", "bbio", ")", "{", "<nl>", "+", "kfree", "(", "raid", "_", "map", ")", ";", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "leak", "in", "__btrfs_map_block", "error", "path"]}
{"code_tokens": ["static", "int", "soc", "_", "camera", "_", "s", "_", "selection", "(", "struct", "file", "*", "file", ",", "void", "*", "fh", ",", "<nl>", "<nl>", "/", "*", "In", "all", "these", "cases", "cropping", "emulation", "will", "not", "help", "*", "/", "<nl>", "if", "(", "s", "-", ">", "type", "!", "=", "V4L2", "_", "BUF", "_", "TYPE", "_", "VIDEO", "_", "CAPTURE", "|", "|", "<nl>", "-", "(", "s", "-", ">", "target", "!", "=", "V4L2", "_", "SEL", "_", "TGT", "_", "COMPOSE", "_", "ACTIVE", "&", "&", "<nl>", "-", "s", "-", ">", "target", "!", "=", "V4L2", "_", "SEL", "_", "TGT", "_", "CROP", "_", "ACTIVE", ")", ")", "<nl>", "+", "(", "s", "-", ">", "target", "!", "=", "V4L2", "_", "SEL", "_", "TGT", "_", "COMPOSE", "&", "&", "<nl>", "+", "s", "-", ">", "target", "!", "=", "V4L2", "_", "SEL", "_", "TGT", "_", "CROP", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "-", "if", "(", "s", "-", ">", "target", "=", "=", "V4L2", "_", "SEL", "_", "TGT", "_", "COMPOSE", "_", "ACTIVE", ")", "{", "<nl>", "+", "if", "(", "s", "-", ">", "target", "=", "=", "V4L2", "_", "SEL", "_", "TGT", "_", "COMPOSE", ")", "{", "<nl>", "/", "*", "No", "output", "size", "change", "during", "a", "running", "capture", "!", "*", "/", "<nl>", "if", "(", "is", "_", "streaming", "(", "ici", ",", "icd", ")", "&", "&", "<nl>", "(", "icd", "-", ">", "user", "_", "width", "!", "=", "s", "-", ">", "r", ".", "width", "|", "|", "<nl>", "static", "int", "soc", "_", "camera", "_", "s", "_", "selection", "(", "struct", "file", "*", "file", ",", "void", "*", "fh", ",", "<nl>", "<nl>", "ret", "=", "ici", "-", ">", "ops", "-", ">", "set", "_", "selection", "(", "icd", ",", "s", ")", ";", "<nl>", "if", "(", "!", "ret", "&", "&", "<nl>", "-", "s", "-", ">", "target", "=", "=", "V4L2", "_", "SEL", "_", "TGT", "_", "COMPOSE", "_", "ACTIVE", ")", "{", "<nl>", "+", "s", "-", ">", "target", "=", "=", "V4L2", "_", "SEL", "_", "TGT", "_", "COMPOSE", ")", "{", "<nl>", "icd", "-", ">", "user", "_", "width", "=", "s", "-", ">", "r", ".", "width", ";", "<nl>", "icd", "-", ">", "user", "_", "height", "=", "s", "-", ">", "r", ".", "height", ";", "<nl>", "if", "(", "!", "icd", "-", ">", "streamer", ")", "<nl>"], "docstring_tokens": ["media", "soc", "camera", "Use", "new", "selection", "target", "definitions"]}
{"code_tokens": ["static", "struct", "dentry", "*", "cgroup", "_", "mount", "(", "struct", "file", "_", "system", "_", "type", "*", "fs", "_", "type", ",", "<nl>", "mutex", "_", "lock", "(", "&", "cgroup", "_", "mutex", ")", ";", "<nl>", "mutex", "_", "lock", "(", "&", "cgroup", "_", "root", "_", "mutex", ")", ";", "<nl>", "<nl>", "-", "root", "_", "cgrp", "-", ">", "id", "=", "idr", "_", "alloc", "(", "&", "root", "-", ">", "cgroup", "_", "idr", ",", "root", "_", "cgrp", ",", "<nl>", "-", "0", ",", "1", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "root", "_", "cgrp", "-", ">", "id", "<", "0", ")", "<nl>", "+", "ret", "=", "idr", "_", "alloc", "(", "&", "root", "-", ">", "cgroup", "_", "idr", ",", "root", "_", "cgrp", ",", "0", ",", "1", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "ret", "<", "0", ")", "<nl>", "goto", "unlock", "_", "drop", ";", "<nl>", "+", "root", "_", "cgrp", "-", ">", "id", "=", "ret", ";", "<nl>", "<nl>", "/", "*", "Check", "for", "name", "clashes", "with", "existing", "mounts", "*", "/", "<nl>", "ret", "=", "-", "EBUSY", ";", "<nl>"], "docstring_tokens": ["cgroup", "fix", "error", "return", "value", "in", "cgroup_mount"]}
{"code_tokens": ["static", "void", "valleyview", "_", "disable", "_", "rps", "(", "struct", "drm", "_", "device", "*", "dev", ")", "<nl>", "<nl>", "int", "intel", "_", "enable", "_", "rc6", "(", "const", "struct", "drm", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "+", "/", "*", "No", "RC6", "before", "Ironlake", "*", "/", "<nl>", "+", "if", "(", "INTEL", "_", "INFO", "(", "dev", ")", "-", ">", "gen", "<", "5", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "/", "*", "Respect", "the", "kernel", "parameter", "if", "it", "is", "set", "*", "/", "<nl>", "if", "(", "i915", "_", "enable", "_", "rc6", ">", "=", "0", ")", "<nl>", "return", "i915", "_", "enable", "_", "rc6", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "Don", "t", "try", "to", "calculate", "RC6", "residency", "on", "GEN4", "and", "before"]}
{"code_tokens": ["static", "int", "atmel", "_", "ssc", "_", "set", "_", "dai", "_", "clkdiv", "(", "struct", "snd", "_", "soc", "_", "dai", "*", "cpu", "_", "dai", ",", "<nl>", "*", "transmit", "and", "receive", ",", "so", "if", "a", "value", "has", "already", "<nl>", "*", "been", "set", ",", "it", "must", "match", "this", "value", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "ssc", "_", "p", "-", ">", "cmr", "_", "div", "=", "=", "0", ")", "<nl>", "+", "if", "(", "ssc", "_", "p", "-", ">", "dir", "_", "mask", "!", "=", "<nl>", "+", "(", "SSC", "_", "DIR", "_", "MASK", "_", "PLAYBACK", "|", "SSC", "_", "DIR", "_", "MASK", "_", "CAPTURE", ")", ")", "<nl>", "+", "ssc", "_", "p", "-", ">", "cmr", "_", "div", "=", "div", ";", "<nl>", "+", "else", "if", "(", "ssc", "_", "p", "-", ">", "cmr", "_", "div", "=", "=", "0", ")", "<nl>", "ssc", "_", "p", "-", ">", "cmr", "_", "div", "=", "div", ";", "<nl>", "else", "<nl>", "if", "(", "div", "!", "=", "ssc", "_", "p", "-", ">", "cmr", "_", "div", ")", "<nl>"], "docstring_tokens": ["ASoC", "atmel_ssc_dai", "Match", "the", "CMR", "divider", "only", "in", "full", "duplex"]}
{"code_tokens": ["int", "rds", "_", "tcp", "_", "conn", "_", "connect", "(", "struct", "rds", "_", "connection", "*", "conn", ")", "<nl>", "rds", "_", "tcp", "_", "set", "_", "callbacks", "(", "sock", ",", "conn", ")", ";", "<nl>", "ret", "=", "sock", "-", ">", "ops", "-", ">", "connect", "(", "sock", ",", "(", "struct", "sockaddr", "*", ")", "&", "dest", ",", "sizeof", "(", "dest", ")", ",", "<nl>", "O", "_", "NONBLOCK", ")", ";", "<nl>", "-", "sock", "=", "NULL", ";", "<nl>", "<nl>", "rdsdebug", "(", "\"", "connect", "to", "address", "%", "pI4", "returned", "%", "d", "\\", "n", "\"", ",", "&", "conn", "-", ">", "c", "_", "faddr", ",", "ret", ")", ";", "<nl>", "if", "(", "ret", "=", "=", "-", "EINPROGRESS", ")", "<nl>", "ret", "=", "0", ";", "<nl>", "+", "if", "(", "ret", "=", "=", "0", ")", "<nl>", "+", "sock", "=", "NULL", ";", "<nl>", "+", "else", "<nl>", "+", "rds", "_", "tcp", "_", "restore", "_", "callbacks", "(", "sock", ",", "conn", "-", ">", "c", "_", "transport", "_", "data", ")", ";", "<nl>", "<nl>", "out", ":", "<nl>", "if", "(", "sock", ")", "<nl>"], "docstring_tokens": ["net", "rds", "do", "proper", "house", "keeping", "if", "connection", "fails", "in", "rds_tcp_conn_connect"]}
{"code_tokens": ["typedef", "int", "_", "_", "bitwise", "suspend", "_", "disk", "_", "method", "_", "t", ";", "<nl>", "<nl>", "struct", "pm", "_", "ops", "{", "<nl>", "suspend", "_", "disk", "_", "method", "_", "t", "pm", "_", "disk", "_", "mode", ";", "<nl>", "+", "int", "(", "*", "valid", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "prepare", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "enter", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "finish", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "mmm", "drivers", "/", "acpi", "/", "sleep", "/", "main", ".", "c", "<nl>", "typedef", "int", "_", "_", "bitwise", "suspend", "_", "disk", "_", "method", "_", "t", ";", "<nl>", "<nl>", "struct", "pm", "_", "ops", "{", "<nl>", "suspend", "_", "disk", "_", "method", "_", "t", "pm", "_", "disk", "_", "mode", ";", "<nl>", "+", "int", "(", "*", "valid", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "prepare", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "enter", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "finish", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "acpi", "_", "suspend", "(", "u32", "acpi", "_", "state", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "acpi", "_", "pm", "_", "state", "_", "valid", "(", "suspend", "_", "state", "_", "t", "pm", "_", "state", ")", "<nl>", "+", "{", "<nl>", "+", "u32", "acpi", "_", "state", "=", "acpi", "_", "suspend", "_", "states", "[", "pm", "_", "state", "]", ";", "<nl>", "+", "<nl>", "+", "return", "sleep", "_", "states", "[", "acpi", "_", "state", "]", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "struct", "pm", "_", "ops", "acpi", "_", "pm", "_", "ops", "=", "{", "<nl>", "+", ".", "valid", "=", "acpi", "_", "pm", "_", "state", "_", "valid", ",", "<nl>", ".", "prepare", "=", "acpi", "_", "pm", "_", "prepare", ",", "<nl>", ".", "enter", "=", "acpi", "_", "pm", "_", "enter", ",", "<nl>", ".", "finish", "=", "acpi", "_", "pm", "_", "finish", ",", "mmm", "kernel", "/", "power", "/", "main", ".", "c", "<nl>", "typedef", "int", "_", "_", "bitwise", "suspend", "_", "disk", "_", "method", "_", "t", ";", "<nl>", "<nl>", "struct", "pm", "_", "ops", "{", "<nl>", "suspend", "_", "disk", "_", "method", "_", "t", "pm", "_", "disk", "_", "mode", ";", "<nl>", "+", "int", "(", "*", "valid", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "prepare", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "enter", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "(", "*", "finish", ")", "(", "suspend", "_", "state", "_", "t", "state", ")", ";", "<nl>", "int", "acpi", "_", "suspend", "(", "u32", "acpi", "_", "state", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "acpi", "_", "pm", "_", "state", "_", "valid", "(", "suspend", "_", "state", "_", "t", "pm", "_", "state", ")", "<nl>", "+", "{", "<nl>", "+", "u32", "acpi", "_", "state", "=", "acpi", "_", "suspend", "_", "states", "[", "pm", "_", "state", "]", ";", "<nl>", "+", "<nl>", "+", "return", "sleep", "_", "states", "[", "acpi", "_", "state", "]", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "struct", "pm", "_", "ops", "acpi", "_", "pm", "_", "ops", "=", "{", "<nl>", "+", ".", "valid", "=", "acpi", "_", "pm", "_", "state", "_", "valid", ",", "<nl>", ".", "prepare", "=", "acpi", "_", "pm", "_", "prepare", ",", "<nl>", ".", "enter", "=", "acpi", "_", "pm", "_", "enter", ",", "<nl>", ".", "finish", "=", "acpi", "_", "pm", "_", "finish", ",", "<nl>", "static", "int", "enter", "_", "state", "(", "suspend", "_", "state", "_", "t", "state", ")", "<nl>", "{", "<nl>", "int", "error", ";", "<nl>", "<nl>", "+", "if", "(", "pm", "_", "ops", "-", ">", "valid", "&", "&", "!", "pm", "_", "ops", "-", ">", "valid", "(", "state", ")", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "if", "(", "down", "_", "trylock", "(", "&", "pm", "_", "sem", ")", ")", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "<nl>", "static", "ssize", "_", "t", "state", "_", "show", "(", "struct", "subsystem", "*", "subsys", ",", "char", "*", "buf", ")", "<nl>", "char", "*", "s", "=", "buf", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "PM", "_", "SUSPEND", "_", "MAX", ";", "i", "+", "+", ")", "{", "<nl>", "-", "if", "(", "pm", "_", "states", "[", "i", "]", ")", "<nl>", "+", "if", "(", "pm", "_", "states", "[", "i", "]", "&", "&", "pm", "_", "ops", "&", "&", "(", "!", "pm", "_", "ops", "-", ">", "valid", "<nl>", "+", "|", "|", "(", "pm", "_", "ops", "-", ">", "valid", "&", "&", "pm", "_", "ops", "-", ">", "valid", "(", "i", ")", ")", ")", ")", "<nl>", "s", "+", "=", "sprintf", "(", "s", ",", "\"", "%", "s", "\"", ",", "pm", "_", "states", "[", "i", "]", ")", ";", "<nl>", "}", "<nl>", "s", "+", "=", "sprintf", "(", "s", ",", "\"", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["PATCH", "introduce", "valid", "callback", "for", "pm_ops"]}
{"code_tokens": ["static", "const", "char", "*", "alc", "_", "get", "_", "line", "_", "out", "_", "pfx", "(", "const", "struct", "auto", "_", "pin", "_", "cfg", "*", "cfg", ",", "<nl>", "<nl>", "switch", "(", "cfg", "-", ">", "line", "_", "out", "_", "type", ")", "{", "<nl>", "case", "AUTO", "_", "PIN", "_", "SPEAKER", "_", "OUT", ":", "<nl>", "-", "return", "\"", "Speaker", "\"", ";", "<nl>", "+", "if", "(", "cfg", "-", ">", "line", "_", "outs", "=", "=", "1", ")", "<nl>", "+", "return", "\"", "Speaker", "\"", ";", "<nl>", "+", "break", ";", "<nl>", "case", "AUTO", "_", "PIN", "_", "HP", "_", "OUT", ":", "<nl>", "return", "\"", "Headphone", "\"", ";", "<nl>", "default", ":", "<nl>"], "docstring_tokens": ["ALSA", "HDA", "Fix", "volume", "control", "naming", "for", "surround", "speakers", "on", "Realtek", "auto", "parser"]}
{"code_tokens": ["static", "u32", "netvsc", "_", "copy", "_", "to", "_", "send", "_", "buf", "(", "struct", "netvsc", "_", "device", "*", "net", "_", "device", ",", "<nl>", "packet", "-", ">", "page", "_", "buf", "_", "cnt", ";", "<nl>", "<nl>", "/", "*", "Add", "padding", "*", "/", "<nl>", "-", "if", "(", "skb", "&", "&", "skb", "-", ">", "xmit", "_", "more", "&", "&", "remain", "&", "&", "<nl>", "-", "!", "packet", "-", ">", "cp", "_", "partial", ")", "{", "<nl>", "+", "if", "(", "skb", "-", ">", "xmit", "_", "more", "&", "&", "remain", "&", "&", "!", "packet", "-", ">", "cp", "_", "partial", ")", "{", "<nl>", "padding", "=", "net", "_", "device", "-", ">", "pkt", "_", "align", "-", "remain", ";", "<nl>", "rndis", "_", "msg", "-", ">", "msg", "_", "len", "+", "=", "padding", ";", "<nl>", "packet", "-", ">", "total", "_", "data", "_", "buflen", "+", "=", "padding", ";", "<nl>", "int", "netvsc", "_", "send", "(", "struct", "hv", "_", "device", "*", "device", ",", "<nl>", "if", "(", "msdp", "-", ">", "pkt", ")", "<nl>", "msd", "_", "len", "=", "msdp", "-", ">", "pkt", "-", ">", "total", "_", "data", "_", "buflen", ";", "<nl>", "<nl>", "-", "try", "_", "batch", "=", "(", "skb", "!", "=", "NULL", ")", "&", "&", "msd", "_", "len", ">", "0", "&", "&", "msdp", "-", ">", "count", "<", "<nl>", "-", "net", "_", "device", "-", ">", "max", "_", "pkt", ";", "<nl>", "-", "<nl>", "+", "try", "_", "batch", "=", "msd", "_", "len", ">", "0", "&", "&", "msdp", "-", ">", "count", "<", "net", "_", "device", "-", ">", "max", "_", "pkt", ";", "<nl>", "if", "(", "try", "_", "batch", "&", "&", "msd", "_", "len", "+", "pktlen", "+", "net", "_", "device", "-", ">", "pkt", "_", "align", "<", "<nl>", "net", "_", "device", "-", ">", "send", "_", "section", "_", "size", ")", "{", "<nl>", "section", "_", "index", "=", "msdp", "-", ">", "pkt", "-", ">", "send", "_", "buf", "_", "index", ";", "<nl>", "int", "netvsc", "_", "send", "(", "struct", "hv", "_", "device", "*", "device", ",", "<nl>", "section", "_", "index", "=", "msdp", "-", ">", "pkt", "-", ">", "send", "_", "buf", "_", "index", ";", "<nl>", "packet", "-", ">", "cp", "_", "partial", "=", "true", ";", "<nl>", "<nl>", "-", "}", "else", "if", "(", "(", "skb", "!", "=", "NULL", ")", "&", "&", "pktlen", "+", "net", "_", "device", "-", ">", "pkt", "_", "align", "<", "<nl>", "+", "}", "else", "if", "(", "pktlen", "+", "net", "_", "device", "-", ">", "pkt", "_", "align", "<", "<nl>", "net", "_", "device", "-", ">", "send", "_", "section", "_", "size", ")", "{", "<nl>", "section", "_", "index", "=", "netvsc", "_", "get", "_", "next", "_", "send", "_", "section", "(", "net", "_", "device", ")", ";", "<nl>", "if", "(", "section", "_", "index", "!", "=", "NETVSC", "_", "INVALID", "_", "INDEX", ")", "{", "<nl>"], "docstring_tokens": ["netvsc", "eliminate", "unnecessary", "skb", "NULL", "checks"]}
{"code_tokens": ["static", "void", "_", "_", "exit", "ams", "_", "delta", "_", "serio", "_", "exit", "(", "void", ")", "<nl>", "free", "_", "irq", "(", "OMAP", "_", "GPIO", "_", "IRQ", "(", "AMS", "_", "DELTA", "_", "GPIO", "_", "PIN", "_", "KEYBRD", "_", "CLK", ")", ",", "0", ")", ";", "<nl>", "gpio", "_", "free", "(", "AMS", "_", "DELTA", "_", "GPIO", "_", "PIN", "_", "KEYBRD", "_", "CLK", ")", ";", "<nl>", "gpio", "_", "free", "(", "AMS", "_", "DELTA", "_", "GPIO", "_", "PIN", "_", "KEYBRD", "_", "DATA", ")", ";", "<nl>", "-", "kfree", "(", "ams", "_", "delta", "_", "serio", ")", ";", "<nl>", "}", "<nl>", "module", "_", "exit", "(", "ams", "_", "delta", "_", "serio", "_", "exit", ")", ";", "<nl>"], "docstring_tokens": ["Input", "ams_delta_serio", "fix", "wrong", "kfree", "in", "ams_delta_serio_exit"]}
{"code_tokens": ["enum", "HashCipherDoPadding", "{", "<nl>", "<nl>", "typedef", "struct", "SepHashPrivateContext", "{", "<nl>", "/", "*", "The", "current", "length", "is", "placed", "at", "the", "end", "of", "the", "context", "buffer", "because", "the", "hash", "<nl>", "-", "context", "is", "used", "for", "all", "HMAC", "operations", "as", "well", ".", "HMAC", "context", "includes", "a", "64", "bytes", "<nl>", "-", "K0", "field", ".", "The", "size", "of", "struct", "drv", "_", "ctx", "_", "hash", "reserved", "field", "is", "88", "/", "184", "bytes", "depend", "if", "t", "<nl>", "-", "he", "SHA512", "is", "supported", "(", "in", "this", "case", "teh", "context", "size", "is", "256", "bytes", ")", ".", "<nl>", "-", "The", "size", "of", "struct", "drv", "_", "ctx", "_", "hash", "reseved", "field", "is", "20", "or", "52", "depend", "if", "the", "SHA512", "is", "supported", ".", "<nl>", "-", "This", "means", "that", "this", "structure", "size", "(", "without", "the", "reserved", "field", "can", "be", "up", "to", "20", "bytes", ",", "<nl>", "-", "in", "case", "sha512", "is", "not", "suppported", "it", "is", "20", "bytes", "(", "SEP", "_", "HASH", "_", "LENGTH", "_", "WORDS", "define", "to", "2", ")", "and", "in", "the", "other", "<nl>", "-", "case", "it", "is", "28", "(", "SEP", "_", "HASH", "_", "LENGTH", "_", "WORDS", "define", "to", "4", ")", "*", "/", "<nl>", "+", "*", "context", "is", "used", "for", "all", "HMAC", "operations", "as", "well", ".", "HMAC", "context", "includes", "a", "64", "bytes", "<nl>", "+", "*", "K0", "field", ".", "The", "size", "of", "struct", "drv", "_", "ctx", "_", "hash", "reserved", "field", "is", "88", "/", "184", "bytes", "depend", "if", "t", "<nl>", "+", "*", "he", "SHA512", "is", "supported", "(", "in", "this", "case", "teh", "context", "size", "is", "256", "bytes", ")", ".", "<nl>", "+", "*", "The", "size", "of", "struct", "drv", "_", "ctx", "_", "hash", "reseved", "field", "is", "20", "or", "52", "depend", "if", "the", "SHA512", "is", "supported", ".", "<nl>", "+", "*", "This", "means", "that", "this", "structure", "size", "(", "without", "the", "reserved", "field", "can", "be", "up", "to", "20", "bytes", ",", "<nl>", "+", "*", "in", "case", "sha512", "is", "not", "suppported", "it", "is", "20", "bytes", "(", "SEP", "_", "HASH", "_", "LENGTH", "_", "WORDS", "define", "to", "2", ")", "and", "in", "the", "other", "<nl>", "+", "*", "case", "it", "is", "28", "(", "SEP", "_", "HASH", "_", "LENGTH", "_", "WORDS", "define", "to", "4", ")", "<nl>", "+", "*", "/", "<nl>", "u32", "reserved", "[", "(", "sizeof", "(", "struct", "drv", "_", "ctx", "_", "hash", ")", "/", "sizeof", "(", "u32", ")", ")", "-", "SEP", "_", "HASH", "_", "LENGTH", "_", "WORDS", "-", "3", "]", ";", "<nl>", "u32", "CurrentDigestedLength", "[", "SEP", "_", "HASH", "_", "LENGTH", "_", "WORDS", "]", ";", "<nl>", "u32", "KeyType", ";", "<nl>"], "docstring_tokens": ["Drivers", "ccree", "hash_defs", "h", "align", "block", "comments"]}
{"code_tokens": ["int", "esp6", "_", "output", "_", "head", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "esp", "_", "info", "<nl>", "struct", "page", "*", "page", ";", "<nl>", "struct", "sk", "_", "buff", "*", "trailer", ";", "<nl>", "int", "tailen", "=", "esp", "-", ">", "tailen", ";", "<nl>", "+", "unsigned", "int", "allocsz", ";", "<nl>", "<nl>", "if", "(", "x", "-", ">", "encap", ")", "{", "<nl>", "int", "err", "=", "esp6", "_", "output", "_", "encap", "(", "x", ",", "skb", ",", "esp", ")", ";", "<nl>", "int", "esp6", "_", "output", "_", "head", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "esp", "_", "info", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "<nl>", "+", "allocsz", "=", "ALIGN", "(", "skb", "-", ">", "data", "_", "len", "+", "tailen", ",", "L1", "_", "CACHE", "_", "BYTES", ")", ";", "<nl>", "+", "if", "(", "allocsz", ">", "ESP", "_", "SKB", "_", "FRAG", "_", "MAXSIZE", ")", "<nl>", "+", "goto", "cow", ";", "<nl>", "+", "<nl>", "if", "(", "!", "skb", "_", "cloned", "(", "skb", ")", ")", "{", "<nl>", "if", "(", "tailen", "<", "=", "skb", "_", "tailroom", "(", "skb", ")", ")", "{", "<nl>", "nfrags", "=", "1", ";", "mmm", "include", "/", "net", "/", "esp", ".", "h", "<nl>", "int", "esp6", "_", "output", "_", "head", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "esp", "_", "info", "<nl>", "struct", "page", "*", "page", ";", "<nl>", "struct", "sk", "_", "buff", "*", "trailer", ";", "<nl>", "int", "tailen", "=", "esp", "-", ">", "tailen", ";", "<nl>", "+", "unsigned", "int", "allocsz", ";", "<nl>", "<nl>", "if", "(", "x", "-", ">", "encap", ")", "{", "<nl>", "int", "err", "=", "esp6", "_", "output", "_", "encap", "(", "x", ",", "skb", ",", "esp", ")", ";", "<nl>", "int", "esp6", "_", "output", "_", "head", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "esp", "_", "info", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "<nl>", "+", "allocsz", "=", "ALIGN", "(", "skb", "-", ">", "data", "_", "len", "+", "tailen", ",", "L1", "_", "CACHE", "_", "BYTES", ")", ";", "<nl>", "+", "if", "(", "allocsz", ">", "ESP", "_", "SKB", "_", "FRAG", "_", "MAXSIZE", ")", "<nl>", "+", "goto", "cow", ";", "<nl>", "+", "<nl>", "if", "(", "!", "skb", "_", "cloned", "(", "skb", ")", ")", "{", "<nl>", "if", "(", "tailen", "<", "=", "skb", "_", "tailroom", "(", "skb", ")", ")", "{", "<nl>", "nfrags", "=", "1", ";", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "skbuff", ".", "h", ">", "<nl>", "<nl>", "+", "#", "define", "ESP", "_", "SKB", "_", "FRAG", "_", "MAXSIZE", "(", "PAGE", "_", "SIZE", "<", "<", "SKB", "_", "FRAG", "_", "PAGE", "_", "ORDER", ")", "<nl>", "+", "<nl>", "struct", "ip", "_", "esp", "_", "hdr", ";", "<nl>", "<nl>", "static", "inline", "struct", "ip", "_", "esp", "_", "hdr", "*", "ip", "_", "esp", "_", "hdr", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ")", "mmm", "net", "/", "ipv4", "/", "esp4", ".", "c", "<nl>", "int", "esp6", "_", "output", "_", "head", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "esp", "_", "info", "<nl>", "struct", "page", "*", "page", ";", "<nl>", "struct", "sk", "_", "buff", "*", "trailer", ";", "<nl>", "int", "tailen", "=", "esp", "-", ">", "tailen", ";", "<nl>", "+", "unsigned", "int", "allocsz", ";", "<nl>", "<nl>", "if", "(", "x", "-", ">", "encap", ")", "{", "<nl>", "int", "err", "=", "esp6", "_", "output", "_", "encap", "(", "x", ",", "skb", ",", "esp", ")", ";", "<nl>", "int", "esp6", "_", "output", "_", "head", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "esp", "_", "info", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "<nl>", "+", "allocsz", "=", "ALIGN", "(", "skb", "-", ">", "data", "_", "len", "+", "tailen", ",", "L1", "_", "CACHE", "_", "BYTES", ")", ";", "<nl>", "+", "if", "(", "allocsz", ">", "ESP", "_", "SKB", "_", "FRAG", "_", "MAXSIZE", ")", "<nl>", "+", "goto", "cow", ";", "<nl>", "+", "<nl>", "if", "(", "!", "skb", "_", "cloned", "(", "skb", ")", ")", "{", "<nl>", "if", "(", "tailen", "<", "=", "skb", "_", "tailroom", "(", "skb", ")", ")", "{", "<nl>", "nfrags", "=", "1", ";", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "skbuff", ".", "h", ">", "<nl>", "<nl>", "+", "#", "define", "ESP", "_", "SKB", "_", "FRAG", "_", "MAXSIZE", "(", "PAGE", "_", "SIZE", "<", "<", "SKB", "_", "FRAG", "_", "PAGE", "_", "ORDER", ")", "<nl>", "+", "<nl>", "struct", "ip", "_", "esp", "_", "hdr", ";", "<nl>", "<nl>", "static", "inline", "struct", "ip", "_", "esp", "_", "hdr", "*", "ip", "_", "esp", "_", "hdr", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "int", "esp", "_", "output", "_", "head", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "esp", "_", "info", "*", "<nl>", "struct", "page", "*", "page", ";", "<nl>", "struct", "sk", "_", "buff", "*", "trailer", ";", "<nl>", "int", "tailen", "=", "esp", "-", ">", "tailen", ";", "<nl>", "+", "unsigned", "int", "allocsz", ";", "<nl>", "<nl>", "/", "*", "this", "is", "non", "-", "NULL", "only", "with", "TCP", "/", "UDP", "Encapsulation", "*", "/", "<nl>", "if", "(", "x", "-", ">", "encap", ")", "{", "<nl>", "int", "esp", "_", "output", "_", "head", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "esp", "_", "info", "*", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "<nl>", "+", "allocsz", "=", "ALIGN", "(", "skb", "-", ">", "data", "_", "len", "+", "tailen", ",", "L1", "_", "CACHE", "_", "BYTES", ")", ";", "<nl>", "+", "if", "(", "allocsz", ">", "ESP", "_", "SKB", "_", "FRAG", "_", "MAXSIZE", ")", "<nl>", "+", "goto", "cow", ";", "<nl>", "+", "<nl>", "if", "(", "!", "skb", "_", "cloned", "(", "skb", ")", ")", "{", "<nl>", "if", "(", "tailen", "<", "=", "skb", "_", "tailroom", "(", "skb", ")", ")", "{", "<nl>", "nfrags", "=", "1", ";", "<nl>"], "docstring_tokens": ["esp", "Fix", "possible", "buffer", "overflow", "in", "ESP", "transformation"]}
{"code_tokens": ["tc", "_", "dump", "_", "action", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "netlink", "_", "callback", "*", "cb", ")", "<nl>", "nla", "_", "nest", "_", "end", "(", "skb", ",", "nest", ")", ";", "<nl>", "ret", "=", "skb", "-", ">", "len", ";", "<nl>", "}", "else", "<nl>", "-", "nla", "_", "nest", "_", "cancel", "(", "skb", ",", "nest", ")", ";", "<nl>", "+", "nlmsg", "_", "trim", "(", "skb", ",", "b", ")", ";", "<nl>", "<nl>", "nlh", "-", ">", "nlmsg", "_", "len", "=", "skb", "_", "tail", "_", "pointer", "(", "skb", ")", "-", "b", ";", "<nl>", "if", "(", "NETLINK", "_", "CB", "(", "cb", "-", ">", "skb", ")", ".", "portid", "&", "&", "ret", ")", "<nl>"], "docstring_tokens": ["net", "sched", "actions", "bug", "fix", "dumping", "actions", "directly", "didnt", "produce", "NLMSG_DONE"]}
{"code_tokens": ["static", "int", "do", "_", "vmbus", "_", "entry", "(", "const", "char", "*", "filename", ",", "struct", "hv", "_", "vmbus", "_", "device", "_", "id", "*", "id", ",", "<nl>", "char", "*", "alias", ")", "<nl>", "{", "<nl>", "int", "i", ";", "<nl>", "-", "char", "guid", "_", "name", "[", "(", "(", "sizeof", "(", "struct", "hv", "_", "vmbus", "_", "device", "_", "id", ")", "+", "1", ")", ")", "*", "2", "]", ";", "<nl>", "+", "char", "guid", "_", "name", "[", "(", "(", "sizeof", "(", "id", "-", ">", "guid", ")", "+", "1", ")", ")", "*", "2", "]", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "(", "sizeof", "(", "struct", "hv", "_", "vmbus", "_", "device", "_", "id", ")", "*", "2", ")", ";", "i", "+", "=", "2", ")", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "(", "sizeof", "(", "id", "-", ">", "guid", ")", "*", "2", ")", ";", "i", "+", "=", "2", ")", "<nl>", "sprintf", "(", "&", "guid", "_", "name", "[", "i", "]", ",", "\"", "%", "02x", "\"", ",", "id", "-", ">", "guid", "[", "i", "/", "2", "]", ")", ";", "<nl>", "<nl>", "strcpy", "(", "alias", ",", "\"", "vmbus", ":", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Staging", "hv", "file2alias", "fix", "up", "alias", "creation", "logic", "for", "hv_vmbus_device_id"]}
{"code_tokens": ["static", "int", "pn", "_", "send", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "struct", "phonethdr", "*", "ph", ";", "<nl>", "int", "err", ";", "<nl>", "<nl>", "-", "if", "(", "skb", "-", ">", "len", "+", "2", ">", "0xffff", ")", "{", "<nl>", "-", "/", "*", "Phonet", "length", "field", "would", "overflow", "*", "/", "<nl>", "+", "if", "(", "skb", "-", ">", "len", "+", "2", ">", "0xffff", "/", "*", "Phonet", "length", "field", "limit", "*", "/", "|", "|", "<nl>", "+", "skb", "-", ">", "len", "+", "sizeof", "(", "struct", "phonethdr", ")", ">", "dev", "-", ">", "mtu", ")", "{", "<nl>", "err", "=", "-", "EMSGSIZE", ";", "<nl>", "goto", "drop", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Phonet", "refuse", "to", "send", "bigger", "than", "MTU", "packets"]}
{"code_tokens": ["sctp", "_", "disposition", "_", "t", "sctp", "_", "sf", "_", "do", "_", "5", "_", "1D", "_", "ce", "(", "struct", "net", "*", "net", ",", "<nl>", "struct", "sctp", "_", "chunk", "auth", ";", "<nl>", "sctp", "_", "ierror", "_", "t", "ret", ";", "<nl>", "<nl>", "+", "/", "*", "Make", "sure", "that", "we", "and", "the", "peer", "are", "AUTH", "capable", "*", "/", "<nl>", "+", "if", "(", "!", "net", "-", ">", "sctp", ".", "auth", "_", "enable", "|", "|", "!", "new", "_", "asoc", "-", ">", "peer", ".", "auth", "_", "capable", ")", "{", "<nl>", "+", "kfree", "_", "skb", "(", "chunk", "-", ">", "auth", "_", "chunk", ")", ";", "<nl>", "+", "sctp", "_", "association", "_", "free", "(", "new", "_", "asoc", ")", ";", "<nl>", "+", "return", "sctp", "_", "sf", "_", "pdiscard", "(", "net", ",", "ep", ",", "asoc", ",", "type", ",", "arg", ",", "commands", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "set", "-", "up", "our", "fake", "chunk", "so", "that", "we", "can", "process", "it", "*", "/", "<nl>", "auth", ".", "skb", "=", "chunk", "-", ">", "auth", "_", "chunk", ";", "<nl>", "auth", ".", "asoc", "=", "chunk", "-", ">", "asoc", ";", "<nl>"], "docstring_tokens": ["net", "sctp", "fix", "sctp_sf_do_5_1D_ce", "to", "verify", "if", "we", "peer", "is", "AUTH", "capable"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "tps", "_", "65023", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "<nl>", "tps", "-", ">", "desc", "[", "i", "]", ".", "name", "=", "info", "-", ">", "name", ";", "<nl>", "tps", "-", ">", "desc", "[", "i", "]", ".", "id", "=", "i", ";", "<nl>", "-", "tps", "-", ">", "desc", "[", "i", "]", ".", "n", "_", "voltages", "=", "info", "-", ">", "table", "_", "len", ";", "<nl>", "+", "if", "(", "info", "-", ">", "fixed", ")", "<nl>", "+", "tps", "-", ">", "desc", "[", "i", "]", ".", "n", "_", "voltages", "=", "1", ";", "<nl>", "+", "else", "<nl>", "+", "tps", "-", ">", "desc", "[", "i", "]", ".", "n", "_", "voltages", "=", "info", "-", ">", "table", "_", "len", ";", "<nl>", "tps", "-", ">", "desc", "[", "i", "]", ".", "ops", "=", "(", "i", ">", "TPS65023", "_", "DCDC", "_", "3", "?", "<nl>", "&", "tps65023", "_", "ldo", "_", "ops", ":", "&", "tps65023", "_", "dcdc", "_", "ops", ")", ";", "<nl>", "tps", "-", ">", "desc", "[", "i", "]", ".", "type", "=", "REGULATOR", "_", "VOLTAGE", ";", "<nl>"], "docstring_tokens": ["regulator", "tps65023", "Set", "n_voltages", "to", "1", "for", "fixed", "voltage"]}
{"code_tokens": ["qlafx00", "_", "soc", "_", "cpu", "_", "reset", "(", "scsi", "_", "qla", "_", "host", "_", "t", "*", "vha", ")", "<nl>", "/", "*", "Kick", "in", "Core0", "to", "start", "boot", "process", "*", "/", "<nl>", "QLAFX00", "_", "SET", "_", "HBA", "_", "SOC", "_", "REG", "(", "ha", ",", "SOC", "_", "SW", "_", "RST", "_", "CONTROL", "_", "REG", "_", "CORE0", ",", "(", "0xF00", ")", ")", ";", "<nl>", "<nl>", "+", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "ha", "-", ">", "hardware", "_", "lock", ",", "flags", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Wait", "10secs", "for", "soft", "-", "reset", "to", "complete", ".", "*", "/", "<nl>", "for", "(", "cnt", "=", "10", ";", "cnt", ";", "cnt", "-", "-", ")", "{", "<nl>", "msleep", "(", "1000", ")", ";", "<nl>", "barrier", "(", ")", ";", "<nl>", "}", "<nl>", "-", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "ha", "-", ">", "hardware", "_", "lock", ",", "flags", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["qla2xxx", "Wait", "for", "reset", "completion", "without", "lock", "for", "ISPFX00"]}
{"code_tokens": ["static", "int", "tcphy", "_", "get", "_", "mode", "(", "struct", "rockchip", "_", "typec", "_", "phy", "*", "tcphy", ")", "<nl>", "u8", "mode", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "if", "(", "!", "edev", ")", "<nl>", "+", "return", "MODE", "_", "DFP", "_", "USB", ";", "<nl>", "+", "<nl>", "ufp", "=", "extcon", "_", "get", "_", "state", "(", "edev", ",", "EXTCON", "_", "USB", ")", ";", "<nl>", "dp", "=", "extcon", "_", "get", "_", "state", "(", "edev", ",", "EXTCON", "_", "DISP", "_", "DP", ")", ";", "<nl>", "<nl>", "static", "int", "rockchip", "_", "typec", "_", "phy", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "tcphy", "-", ">", "extcon", "=", "extcon", "_", "get", "_", "edev", "_", "by", "_", "phandle", "(", "dev", ",", "0", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "tcphy", "-", ">", "extcon", ")", ")", "{", "<nl>", "-", "if", "(", "PTR", "_", "ERR", "(", "tcphy", "-", ">", "extcon", ")", "!", "=", "-", "EPROBE", "_", "DEFER", ")", "<nl>", "-", "dev", "_", "err", "(", "dev", ",", "\"", "Invalid", "or", "missing", "extcon", "\\", "n", "\"", ")", ";", "<nl>", "-", "return", "PTR", "_", "ERR", "(", "tcphy", "-", ">", "extcon", ")", ";", "<nl>", "+", "if", "(", "PTR", "_", "ERR", "(", "tcphy", "-", ">", "extcon", ")", "=", "=", "-", "ENODEV", ")", "{", "<nl>", "+", "tcphy", "-", ">", "extcon", "=", "NULL", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "if", "(", "PTR", "_", "ERR", "(", "tcphy", "-", ">", "extcon", ")", "!", "=", "-", "EPROBE", "_", "DEFER", ")", "<nl>", "+", "dev", "_", "err", "(", "dev", ",", "\"", "Invalid", "or", "missing", "extcon", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "PTR", "_", "ERR", "(", "tcphy", "-", ">", "extcon", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "pm", "_", "runtime", "_", "enable", "(", "dev", ")", ";", "<nl>"], "docstring_tokens": ["phy", "rockchip", "typec", "fall", "back", "to", "working", "in", "host", "mode", "if", "extcon", "is", "missing"]}
{"code_tokens": ["static", "int", "ttm", "_", "mem", "_", "init", "_", "dma32", "_", "zone", "(", "struct", "ttm", "_", "mem", "_", "global", "*", "glob", ",", "<nl>", "*", "No", "special", "dma32", "zone", "needed", ".", "<nl>", "*", "/", "<nl>", "<nl>", "-", "if", "(", "mem", "<", "=", "(", "(", "uint64", "_", "t", ")", "1ULL", "<", "<", "32", ")", ")", "<nl>", "+", "if", "(", "mem", "<", "=", "(", "(", "uint64", "_", "t", ")", "1ULL", "<", "<", "32", ")", ")", "{", "<nl>", "+", "kfree", "(", "zone", ")", ";", "<nl>", "return", "0", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Limit", "max", "dma32", "memory", "to", "4", "GB", "for", "now", "<nl>"], "docstring_tokens": ["drm", "ttm", "fix", "memory", "leak", "noticed", "by", "kmemleak"]}
{"code_tokens": ["static", "void", "dload", "_", "symbols", "(", "struct", "dload", "_", "state", "*", "dlthis", ")", "<nl>", "struct", "local", "_", "symbol", "*", "sp", ";", "<nl>", "struct", "dynload", "_", "symbol", "*", "symp", ";", "<nl>", "struct", "dynload", "_", "symbol", "*", "newsym", ";", "<nl>", "+", "struct", "doff", "_", "syment", "_", "t", "*", "my", "_", "sym", "_", "buf", ";", "<nl>", "<nl>", "sym", "_", "count", "=", "dlthis", "-", ">", "dfile", "_", "hdr", ".", "df", "_", "no", "_", "syms", ";", "<nl>", "if", "(", "sym", "_", "count", "=", "=", "0", ")", "<nl>", "static", "void", "dload", "_", "symbols", "(", "struct", "dload", "_", "state", "*", "dlthis", ")", "<nl>", "become", "defined", "from", "the", "global", "symbol", "table", "*", "/", "<nl>", "checks", "=", "dlthis", "-", ">", "verify", ".", "dv", "_", "sym", "_", "tab", "_", "checksum", ";", "<nl>", "symbols", "_", "left", "=", "sym", "_", "count", ";", "<nl>", "+", "<nl>", "+", "my", "_", "sym", "_", "buf", "=", "kzalloc", "(", "sizeof", "(", "*", "my", "_", "sym", "_", "buf", ")", "*", "MY", "_", "SYM", "_", "BUF", "_", "SIZ", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "my", "_", "sym", "_", "buf", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "do", "{", "/", "*", "read", "all", "symbols", "*", "/", "<nl>", "char", "*", "sname", ";", "<nl>", "u32", "val", ";", "<nl>", "s32", "delta", ";", "<nl>", "struct", "doff", "_", "syment", "_", "t", "*", "input", "_", "sym", ";", "<nl>", "unsigned", "syms", "_", "in", "_", "buf", ";", "<nl>", "-", "struct", "doff", "_", "syment", "_", "t", "my", "_", "sym", "_", "buf", "[", "MY", "_", "SYM", "_", "BUF", "_", "SIZ", "]", ";", "<nl>", "+", "<nl>", "input", "_", "sym", "=", "my", "_", "sym", "_", "buf", ";", "<nl>", "syms", "_", "in", "_", "buf", "=", "symbols", "_", "left", ">", "MY", "_", "SYM", "_", "BUF", "_", "SIZ", "?", "<nl>", "MY", "_", "SYM", "_", "BUF", "_", "SIZ", ":", "symbols", "_", "left", ";", "<nl>", "static", "void", "dload", "_", "symbols", "(", "struct", "dload", "_", "state", "*", "dlthis", ")", "<nl>", "if", "(", "dlthis", "-", ">", "strm", "-", ">", "read", "_", "buffer", "(", "dlthis", "-", ">", "strm", ",", "input", "_", "sym", ",", "siz", ")", "!", "=", "<nl>", "siz", ")", "{", "<nl>", "DL", "_", "ERROR", "(", "readstrm", ",", "sym", "_", "errid", ")", ";", "<nl>", "-", "return", ";", "<nl>", "+", "goto", "free", "_", "sym", "_", "buf", ";", "<nl>", "}", "<nl>", "if", "(", "dlthis", "-", ">", "reorder", "_", "map", ")", "<nl>", "dload", "_", "reorder", "(", "input", "_", "sym", ",", "siz", ",", "dlthis", "-", ">", "reorder", "_", "map", ")", ";", "<nl>", "static", "void", "dload", "_", "symbols", "(", "struct", "dload", "_", "state", "*", "dlthis", ")", "<nl>", "DL", "_", "ERROR", "(", "\"", "Absolute", "symbol", "%", "s", "is", "\"", "<nl>", "\"", "defined", "multiple", "times", "with", "\"", "<nl>", "\"", "different", "values", "\"", ",", "sname", ")", ";", "<nl>", "-", "return", ";", "<nl>", "+", "goto", "free", "_", "sym", "_", "buf", ";", "<nl>", "}", "<nl>", "}", "<nl>", "loop", "_", "itr", ":", "<nl>", "static", "void", "dload", "_", "symbols", "(", "struct", "dload", "_", "state", "*", "dlthis", ")", "<nl>", "if", "(", "~", "checks", ")", "<nl>", "dload", "_", "error", "(", "dlthis", ",", "\"", "Checksum", "of", "symbols", "failed", "\"", ")", ";", "<nl>", "<nl>", "+", "free", "_", "sym", "_", "buf", ":", "<nl>", "+", "kfree", "(", "my", "_", "sym", "_", "buf", ")", ";", "<nl>", "+", "return", ";", "<nl>", "}", "/", "*", "dload", "_", "symbols", "*", "/", "<nl>", "<nl>", "/", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "<nl>"], "docstring_tokens": ["staging", "tidspbridge", "dynamically", "allocate", "my_sym_buf", "in", "dload_symbols"]}
{"code_tokens": ["static", "void", "sl", "_", "tx", "_", "timeout", "(", "struct", "net", "_", "device", "*", "dev", ",", "unsigned", "int", "txqueue", ")", "<nl>", "spin", "_", "lock", "(", "&", "sl", "-", ">", "lock", ")", ";", "<nl>", "<nl>", "if", "(", "netif", "_", "queue", "_", "stopped", "(", "dev", ")", ")", "{", "<nl>", "-", "if", "(", "!", "netif", "_", "running", "(", "dev", ")", ")", "<nl>", "+", "if", "(", "!", "netif", "_", "running", "(", "dev", ")", "|", "|", "!", "sl", "-", ">", "tty", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "/", "*", "May", "be", "we", "must", "check", "transmitter", "timeout", "here", "?", "<nl>"], "docstring_tokens": ["drivers", "net", "slip", "fix", "NPD", "bug", "in", "sl_tx_timeout"]}
{"code_tokens": ["static", "struct", "protection", "_", "domain", "*", "get", "_", "domain", "(", "struct", "device", "*", "dev", ")", "<nl>", "domain", "=", "to", "_", "pdomain", "(", "io", "_", "domain", ")", ";", "<nl>", "attach", "_", "device", "(", "dev", ",", "domain", ")", ";", "<nl>", "}", "<nl>", "+", "if", "(", "domain", "=", "=", "NULL", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "-", "EBUSY", ")", ";", "<nl>", "+", "<nl>", "if", "(", "!", "dma", "_", "ops", "_", "domain", "(", "domain", ")", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EBUSY", ")", ";", "<nl>"], "docstring_tokens": ["iommu", "amd", "Check", "if", "domain", "is", "NULL", "in", "get_domain", "and", "return", "EBUSY"]}
{"code_tokens": ["static", "int", "qdio", "_", "siga", "_", "output", "(", "struct", "qdio", "_", "q", "*", "q", ",", "unsigned", "int", "*", "busy", "_", "bit", ",", "<nl>", "int", "retries", "=", "0", ",", "cc", ";", "<nl>", "unsigned", "long", "laob", "=", "0", ";", "<nl>", "<nl>", "+", "WARN", "_", "ON", "_", "ONCE", "(", "aob", "&", "&", "(", "(", "queue", "_", "type", "(", "q", ")", "!", "=", "QDIO", "_", "IQDIO", "_", "QFMT", ")", "|", "|", "<nl>", "+", "!", "q", "-", ">", "u", ".", "out", ".", "use", "_", "cq", ")", ")", ";", "<nl>", "if", "(", "q", "-", ">", "u", ".", "out", ".", "use", "_", "cq", "&", "&", "aob", "!", "=", "0", ")", "{", "<nl>", "fc", "=", "QDIO", "_", "SIGA", "_", "WRITEQ", ";", "<nl>", "laob", "=", "aob", ";", "<nl>", "static", "int", "qdio", "_", "siga", "_", "output", "(", "struct", "qdio", "_", "q", "*", "q", ",", "unsigned", "int", "*", "busy", "_", "bit", ",", "<nl>", "fc", "|", "=", "QDIO", "_", "SIGA", "_", "QEBSM", "_", "FLAG", ";", "<nl>", "}", "<nl>", "again", ":", "<nl>", "-", "WARN", "_", "ON", "_", "ONCE", "(", "(", "aob", "&", "&", "queue", "_", "type", "(", "q", ")", "!", "=", "QDIO", "_", "IQDIO", "_", "QFMT", ")", "|", "|", "<nl>", "-", "(", "aob", "&", "&", "fc", "!", "=", "QDIO", "_", "SIGA", "_", "WRITEQ", ")", ")", ";", "<nl>", "cc", "=", "do", "_", "siga", "_", "output", "(", "schid", ",", "q", "-", ">", "mask", ",", "busy", "_", "bit", ",", "fc", ",", "laob", ")", ";", "<nl>", "<nl>", "/", "*", "hipersocket", "busy", "condition", "*", "/", "<nl>"], "docstring_tokens": ["s390", "qdio", "fix", "WARN_ON_ONCE", "condition"]}
{"code_tokens": ["int", "vfio", "_", "pci", "_", "set", "_", "irqs", "_", "ioctl", "(", "struct", "vfio", "_", "pci", "_", "device", "*", "vdev", ",", "uint32", "_", "t", "flags", ",", "<nl>", "func", "=", "vfio", "_", "pci", "_", "set", "_", "err", "_", "trigger", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "break", ";", "<nl>", "case", "VFIO", "_", "PCI", "_", "REQ", "_", "IRQ", "_", "INDEX", ":", "<nl>", "switch", "(", "flags", "&", "VFIO", "_", "IRQ", "_", "SET", "_", "ACTION", "_", "TYPE", "_", "MASK", ")", "{", "<nl>", "case", "VFIO", "_", "IRQ", "_", "SET", "_", "ACTION", "_", "TRIGGER", ":", "<nl>", "func", "=", "vfio", "_", "pci", "_", "set", "_", "req", "_", "trigger", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "!", "func", ")", "<nl>"], "docstring_tokens": ["vfio", "pci", "Add", "missing", "break", "to", "enable", "VFIO_PCI_ERR_IRQ_INDEX"]}
{"code_tokens": ["static", "void", "vc4", "_", "dsi", "_", "latch", "_", "ulps", "(", "struct", "vc4", "_", "dsi", "*", "dsi", ",", "bool", "latch", ")", "<nl>", "/", "*", "Enters", "or", "exits", "Ultra", "Low", "Power", "State", ".", "*", "/", "<nl>", "static", "void", "vc4", "_", "dsi", "_", "ulps", "(", "struct", "vc4", "_", "dsi", "*", "dsi", ",", "bool", "ulps", ")", "<nl>", "{", "<nl>", "-", "bool", "continuous", "=", "dsi", "-", ">", "mode", "_", "flags", "&", "MIPI", "_", "DSI", "_", "CLOCK", "_", "NON", "_", "CONTINUOUS", ";", "<nl>", "-", "u32", "phyc", "_", "ulps", "=", "(", "(", "continuous", "?", "DSI", "_", "PORT", "_", "BIT", "(", "PHYC", "_", "CLANE", "_", "ULPS", ")", ":", "0", ")", "|", "<nl>", "+", "bool", "non", "_", "continuous", "=", "dsi", "-", ">", "mode", "_", "flags", "&", "MIPI", "_", "DSI", "_", "CLOCK", "_", "NON", "_", "CONTINUOUS", ";", "<nl>", "+", "u32", "phyc", "_", "ulps", "=", "(", "(", "non", "_", "continuous", "?", "DSI", "_", "PORT", "_", "BIT", "(", "PHYC", "_", "CLANE", "_", "ULPS", ")", ":", "0", ")", "|", "<nl>", "DSI", "_", "PHYC", "_", "DLANE0", "_", "ULPS", "|", "<nl>", "(", "dsi", "-", ">", "lanes", ">", "1", "?", "DSI", "_", "PHYC", "_", "DLANE1", "_", "ULPS", ":", "0", ")", "|", "<nl>", "(", "dsi", "-", ">", "lanes", ">", "2", "?", "DSI", "_", "PHYC", "_", "DLANE2", "_", "ULPS", ":", "0", ")", "|", "<nl>", "(", "dsi", "-", ">", "lanes", ">", "3", "?", "DSI", "_", "PHYC", "_", "DLANE3", "_", "ULPS", ":", "0", ")", ")", ";", "<nl>", "-", "u32", "stat", "_", "ulps", "=", "(", "(", "continuous", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "CLOCK", "_", "ULPS", ":", "0", ")", "|", "<nl>", "+", "u32", "stat", "_", "ulps", "=", "(", "(", "non", "_", "continuous", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "CLOCK", "_", "ULPS", ":", "0", ")", "|", "<nl>", "DSI1", "_", "STAT", "_", "PHY", "_", "D0", "_", "ULPS", "|", "<nl>", "(", "dsi", "-", ">", "lanes", ">", "1", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "D1", "_", "ULPS", ":", "0", ")", "|", "<nl>", "(", "dsi", "-", ">", "lanes", ">", "2", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "D2", "_", "ULPS", ":", "0", ")", "|", "<nl>", "(", "dsi", "-", ">", "lanes", ">", "3", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "D3", "_", "ULPS", ":", "0", ")", ")", ";", "<nl>", "-", "u32", "stat", "_", "stop", "=", "(", "(", "continuous", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "CLOCK", "_", "STOP", ":", "0", ")", "|", "<nl>", "+", "u32", "stat", "_", "stop", "=", "(", "(", "non", "_", "continuous", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "CLOCK", "_", "STOP", ":", "0", ")", "|", "<nl>", "DSI1", "_", "STAT", "_", "PHY", "_", "D0", "_", "STOP", "|", "<nl>", "(", "dsi", "-", ">", "lanes", ">", "1", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "D1", "_", "STOP", ":", "0", ")", "|", "<nl>", "(", "dsi", "-", ">", "lanes", ">", "2", "?", "DSI1", "_", "STAT", "_", "PHY", "_", "D2", "_", "STOP", ":", "0", ")", "|", "<nl>"], "docstring_tokens": ["drm", "vc4", "Fix", "misleading", "name", "of", "the", "continuous", "flag"]}
{"code_tokens": ["static", "int", "nodemgr", "_", "host", "_", "thread", "(", "void", "*", "data", ")", "<nl>", "g", "=", "get", "_", "hpsb", "_", "generation", "(", "host", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "4", ";", "i", "+", "+", ")", "{", "<nl>", "msleep", "_", "interruptible", "(", "63", ")", ";", "<nl>", "+", "try", "_", "to", "_", "freeze", "(", ")", ";", "<nl>", "if", "(", "kthread", "_", "should", "_", "stop", "(", ")", ")", "<nl>", "goto", "exit", ";", "<nl>", "<nl>", "static", "int", "nodemgr", "_", "host", "_", "thread", "(", "void", "*", "data", ")", "<nl>", "/", "*", "Sleep", "3", "seconds", "*", "/", "<nl>", "for", "(", "i", "=", "3000", "/", "200", ";", "i", ";", "i", "-", "-", ")", "{", "<nl>", "msleep", "_", "interruptible", "(", "200", ")", ";", "<nl>", "+", "try", "_", "to", "_", "freeze", "(", ")", ";", "<nl>", "if", "(", "kthread", "_", "should", "_", "stop", "(", ")", ")", "<nl>", "goto", "exit", ";", "<nl>"], "docstring_tokens": ["ieee1394", "node", "manager", "causes", "up", "to", "3", "25s", "delay", "in", "freezing", "tasks"]}
{"code_tokens": ["static", "void", "rocker", "_", "switchdev", "_", "event", "_", "work", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "switch", "(", "switchdev", "_", "work", "-", ">", "event", ")", "{", "<nl>", "case", "SWITCHDEV", "_", "FDB", "_", "ADD", "_", "TO", "_", "DEVICE", ":", "<nl>", "fdb", "_", "info", "=", "&", "switchdev", "_", "work", "-", ">", "fdb", "_", "info", ";", "<nl>", "+", "if", "(", "!", "fdb", "_", "info", "-", ">", "added", "_", "by", "_", "user", ")", "<nl>", "+", "break", ";", "<nl>", "err", "=", "rocker", "_", "world", "_", "port", "_", "fdb", "_", "add", "(", "rocker", "_", "port", ",", "fdb", "_", "info", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "netdev", "_", "dbg", "(", "rocker", "_", "port", "-", ">", "dev", ",", "\"", "fdb", "add", "failed", "err", "=", "%", "d", "\\", "n", "\"", ",", "err", ")", ";", "<nl>", "static", "void", "rocker", "_", "switchdev", "_", "event", "_", "work", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "break", ";", "<nl>", "case", "SWITCHDEV", "_", "FDB", "_", "DEL", "_", "TO", "_", "DEVICE", ":", "<nl>", "fdb", "_", "info", "=", "&", "switchdev", "_", "work", "-", ">", "fdb", "_", "info", ";", "<nl>", "+", "if", "(", "!", "fdb", "_", "info", "-", ">", "added", "_", "by", "_", "user", ")", "<nl>", "+", "break", ";", "<nl>", "err", "=", "rocker", "_", "world", "_", "port", "_", "fdb", "_", "del", "(", "rocker", "_", "port", ",", "fdb", "_", "info", ")", ";", "<nl>", "if", "(", "err", ")", "<nl>", "netdev", "_", "dbg", "(", "rocker", "_", "port", "-", ">", "dev", ",", "\"", "fdb", "add", "failed", "err", "=", "%", "d", "\\", "n", "\"", ",", "err", ")", ";", "<nl>", "static", "int", "rocker", "_", "switchdev", "_", "event", "(", "struct", "notifier", "_", "block", "*", "unused", ",", "<nl>", "switch", "(", "event", ")", "{", "<nl>", "case", "SWITCHDEV", "_", "FDB", "_", "ADD", "_", "TO", "_", "DEVICE", ":", "/", "*", "fall", "through", "*", "/", "<nl>", "case", "SWITCHDEV", "_", "FDB", "_", "DEL", "_", "TO", "_", "DEVICE", ":", "<nl>", "-", "if", "(", "!", "fdb", "_", "info", "-", ">", "added", "_", "by", "_", "user", ")", "<nl>", "-", "break", ";", "<nl>", "memcpy", "(", "&", "switchdev", "_", "work", "-", ">", "fdb", "_", "info", ",", "ptr", ",", "<nl>", "sizeof", "(", "switchdev", "_", "work", "-", ">", "fdb", "_", "info", ")", ")", ";", "<nl>", "switchdev", "_", "work", "-", ">", "fdb", "_", "info", ".", "addr", "=", "kzalloc", "(", "ETH", "_", "ALEN", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>"], "docstring_tokens": ["rocker", "Postpone", "filtering", "of", "added_by_user", "FDB"]}
{"code_tokens": ["static", "int", "encrypt", "(", "struct", "blkcipher", "_", "desc", "*", "desc", ",", "<nl>", "<nl>", "salsa20", "_", "ivsetup", "(", "ctx", ",", "walk", ".", "iv", ")", ";", "<nl>", "<nl>", "-", "if", "(", "likely", "(", "walk", ".", "nbytes", "=", "=", "nbytes", ")", ")", "<nl>", "-", "{", "<nl>", "-", "salsa20", "_", "encrypt", "_", "bytes", "(", "ctx", ",", "walk", ".", "src", ".", "virt", ".", "addr", ",", "<nl>", "-", "walk", ".", "dst", ".", "virt", ".", "addr", ",", "nbytes", ")", ";", "<nl>", "-", "return", "blkcipher", "_", "walk", "_", "done", "(", "desc", ",", "&", "walk", ",", "0", ")", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "while", "(", "walk", ".", "nbytes", ">", "=", "64", ")", "{", "<nl>", "salsa20", "_", "encrypt", "_", "bytes", "(", "ctx", ",", "walk", ".", "src", ".", "virt", ".", "addr", ",", "<nl>", "walk", ".", "dst", ".", "virt", ".", "addr", ",", "mmm", "crypto", "/", "salsa20", "_", "generic", ".", "c", "<nl>", "static", "int", "encrypt", "(", "struct", "blkcipher", "_", "desc", "*", "desc", ",", "<nl>", "<nl>", "salsa20", "_", "ivsetup", "(", "ctx", ",", "walk", ".", "iv", ")", ";", "<nl>", "<nl>", "-", "if", "(", "likely", "(", "walk", ".", "nbytes", "=", "=", "nbytes", ")", ")", "<nl>", "-", "{", "<nl>", "-", "salsa20", "_", "encrypt", "_", "bytes", "(", "ctx", ",", "walk", ".", "src", ".", "virt", ".", "addr", ",", "<nl>", "-", "walk", ".", "dst", ".", "virt", ".", "addr", ",", "nbytes", ")", ";", "<nl>", "-", "return", "blkcipher", "_", "walk", "_", "done", "(", "desc", ",", "&", "walk", ",", "0", ")", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "while", "(", "walk", ".", "nbytes", ">", "=", "64", ")", "{", "<nl>", "salsa20", "_", "encrypt", "_", "bytes", "(", "ctx", ",", "walk", ".", "src", ".", "virt", ".", "addr", ",", "<nl>", "walk", ".", "dst", ".", "virt", ".", "addr", ",", "<nl>", "static", "int", "encrypt", "(", "struct", "blkcipher", "_", "desc", "*", "desc", ",", "<nl>", "<nl>", "salsa20", "_", "ivsetup", "(", "ctx", ",", "walk", ".", "iv", ")", ";", "<nl>", "<nl>", "-", "if", "(", "likely", "(", "walk", ".", "nbytes", "=", "=", "nbytes", ")", ")", "<nl>", "-", "{", "<nl>", "-", "salsa20", "_", "encrypt", "_", "bytes", "(", "ctx", ",", "walk", ".", "dst", ".", "virt", ".", "addr", ",", "<nl>", "-", "walk", ".", "src", ".", "virt", ".", "addr", ",", "nbytes", ")", ";", "<nl>", "-", "return", "blkcipher", "_", "walk", "_", "done", "(", "desc", ",", "&", "walk", ",", "0", ")", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "while", "(", "walk", ".", "nbytes", ">", "=", "64", ")", "{", "<nl>", "salsa20", "_", "encrypt", "_", "bytes", "(", "ctx", ",", "walk", ".", "dst", ".", "virt", ".", "addr", ",", "<nl>", "walk", ".", "src", ".", "virt", ".", "addr", ",", "<nl>"], "docstring_tokens": ["crypto", "salsa20", "fix", "blkcipher_walk", "API", "usage"]}
{"code_tokens": ["ecryptfs", "_", "process", "_", "key", "_", "cipher", "(", "struct", "crypto", "_", "blkcipher", "*", "*", "key", "_", "tfm", ",", "<nl>", "char", "*", "cipher", "_", "name", ",", "size", "_", "t", "*", "key", "_", "size", ")", "<nl>", "{", "<nl>", "char", "dummy", "_", "key", "[", "ECRYPTFS", "_", "MAX", "_", "KEY", "_", "BYTES", "]", ";", "<nl>", "-", "char", "*", "full", "_", "alg", "_", "name", ";", "<nl>", "+", "char", "*", "full", "_", "alg", "_", "name", "=", "NULL", ";", "<nl>", "int", "rc", ";", "<nl>", "<nl>", "*", "key", "_", "tfm", "=", "NULL", ";", "<nl>", "ecryptfs", "_", "process", "_", "key", "_", "cipher", "(", "struct", "crypto", "_", "blkcipher", "*", "*", "key", "_", "tfm", ",", "<nl>", "if", "(", "rc", ")", "<nl>", "goto", "out", ";", "<nl>", "*", "key", "_", "tfm", "=", "crypto", "_", "alloc", "_", "blkcipher", "(", "full", "_", "alg", "_", "name", ",", "0", ",", "CRYPTO", "_", "ALG", "_", "ASYNC", ")", ";", "<nl>", "-", "kfree", "(", "full", "_", "alg", "_", "name", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "*", "key", "_", "tfm", ")", ")", "{", "<nl>", "rc", "=", "PTR", "_", "ERR", "(", "*", "key", "_", "tfm", ")", ";", "<nl>", "printk", "(", "KERN", "_", "ERR", "\"", "Unable", "to", "allocate", "crypto", "cipher", "with", "name", "\"", "<nl>", "ecryptfs", "_", "process", "_", "key", "_", "cipher", "(", "struct", "crypto", "_", "blkcipher", "*", "*", "key", "_", "tfm", ",", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "out", ":", "<nl>", "+", "kfree", "(", "full", "_", "alg", "_", "name", ")", ";", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ecryptfs", "use", "after", "free"]}
{"code_tokens": ["static", "int", "i2c", "_", "pxa", "_", "xfer", "(", "struct", "i2c", "_", "adapter", "*", "adap", ",", "struct", "i2c", "_", "msg", "msgs", "[", "]", ",", "int", "num", "<nl>", "struct", "pxa", "_", "i2c", "*", "i2c", "=", "adap", "-", ">", "algo", "_", "data", ";", "<nl>", "int", "ret", ",", "i", ";", "<nl>", "<nl>", "+", "/", "*", "If", "the", "I2C", "controller", "is", "disabled", "we", "need", "to", "reset", "it", "(", "probably", "due", "<nl>", "+", "to", "a", "suspend", "/", "resume", "destroying", "state", ")", ".", "We", "do", "this", "here", "as", "we", "can", "then", "<nl>", "+", "avoid", "worrying", "about", "resuming", "the", "controller", "before", "its", "users", ".", "*", "/", "<nl>", "+", "if", "(", "!", "(", "ICR", "&", "ICR", "_", "IUE", ")", ")", "<nl>", "+", "i2c", "_", "pxa", "_", "reset", "(", "i2c", ")", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "adap", "-", ">", "retries", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "<nl>", "ret", "=", "i2c", "_", "pxa", "_", "do", "_", "xfer", "(", "i2c", ",", "msgs", ",", "num", ")", ";", "<nl>", "if", "(", "ret", "!", "=", "I2C", "_", "RETRY", ")", "<nl>", "static", "struct", "pxa", "_", "i2c", "i2c", "_", "pxa", "=", "{", "<nl>", "static", "int", "i2c", "_", "pxa", "_", "probe", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "struct", "pxa", "_", "i2c", "*", "i2c", "=", "&", "i2c", "_", "pxa", ";", "<nl>", "+", "#", "ifdef", "CONFIG", "_", "I2C", "_", "PXA", "_", "SLAVE", "<nl>", "struct", "i2c", "_", "pxa", "_", "platform", "_", "data", "*", "plat", "=", "dev", "-", ">", "dev", ".", "platform", "_", "data", ";", "<nl>", "+", "#", "endif", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "PXA27x", "<nl>", "static", "void", "i2c", "_", "adap", "_", "pxa", "_", "exit", "(", "void", ")", "<nl>", "return", "platform", "_", "driver", "_", "unregister", "(", "&", "i2c", "_", "pxa", "_", "driver", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "MODULE", "_", "LICENSE", "(", "\"", "GPL", "\"", ")", ";", "<nl>", "+", "<nl>", "module", "_", "init", "(", "i2c", "_", "adap", "_", "pxa", "_", "init", ")", ";", "<nl>", "module", "_", "exit", "(", "i2c", "_", "adap", "_", "pxa", "_", "exit", ")", ";", "<nl>"], "docstring_tokens": ["ARM", "3237", "1", "PXA", "I2C", "driver", "updates"]}
{"code_tokens": ["static", "noinline", "int", "btrfs", "_", "ioctl", "_", "resize", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "<nl>", "}", "<nl>", "ret", "=", "btrfs", "_", "grow", "_", "device", "(", "trans", ",", "device", ",", "new", "_", "size", ")", ";", "<nl>", "btrfs", "_", "commit", "_", "transaction", "(", "trans", ",", "root", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "+", "}", "else", "if", "(", "new", "_", "size", "<", "old", "_", "size", ")", "{", "<nl>", "ret", "=", "btrfs", "_", "shrink", "_", "device", "(", "device", ",", "new", "_", "size", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Btrfs", "Don", "t", "error", "on", "resizing", "FS", "to", "same", "size"]}
{"code_tokens": ["static", "void", "kvm", "_", "do", "_", "inject", "_", "irq", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "clear", "_", "bit", "(", "bit", "_", "index", ",", "&", "vcpu", "-", ">", "arch", ".", "irq", "_", "pending", "[", "word", "_", "index", "]", ")", ";", "<nl>", "if", "(", "!", "vcpu", "-", ">", "arch", ".", "irq", "_", "pending", "[", "word", "_", "index", "]", ")", "<nl>", "clear", "_", "bit", "(", "word", "_", "index", ",", "&", "vcpu", "-", ">", "arch", ".", "irq", "_", "summary", ")", ";", "<nl>", "-", "vmx", "_", "inject", "_", "irq", "(", "vcpu", ",", "irq", ")", ";", "<nl>", "+", "kvm", "_", "queue", "_", "interrupt", "(", "vcpu", ",", "irq", ")", ";", "<nl>", "}", "<nl>", "<nl>", "<nl>", "static", "void", "do", "_", "interrupt", "_", "requests", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "<nl>", "(", "vmcs", "_", "read32", "(", "GUEST", "_", "INTERRUPTIBILITY", "_", "INFO", ")", "&", "3", ")", "=", "=", "0", ")", ";", "<nl>", "<nl>", "if", "(", "vcpu", "-", ">", "arch", ".", "interrupt", "_", "window", "_", "open", "&", "&", "<nl>", "-", "vcpu", "-", ">", "arch", ".", "irq", "_", "summary", "&", "&", "<nl>", "-", "!", "(", "vmcs", "_", "read32", "(", "VM", "_", "ENTRY", "_", "INTR", "_", "INFO", "_", "FIELD", ")", "&", "INTR", "_", "INFO", "_", "VALID", "_", "MASK", ")", ")", "<nl>", "-", "/", "*", "<nl>", "-", "*", "If", "interrupts", "enabled", ",", "and", "not", "blocked", "by", "sti", "or", "mov", "ss", ".", "Good", ".", "<nl>", "-", "*", "/", "<nl>", "+", "vcpu", "-", ">", "arch", ".", "irq", "_", "summary", "&", "&", "!", "vcpu", "-", ">", "arch", ".", "interrupt", ".", "pending", ")", "<nl>", "kvm", "_", "do", "_", "inject", "_", "irq", "(", "vcpu", ")", ";", "<nl>", "<nl>", "+", "if", "(", "vcpu", "-", ">", "arch", ".", "interrupt", "_", "window", "_", "open", "&", "&", "vcpu", "-", ">", "arch", ".", "interrupt", ".", "pending", ")", "<nl>", "+", "vmx", "_", "inject", "_", "irq", "(", "vcpu", ",", "vcpu", "-", ">", "arch", ".", "interrupt", ".", "nr", ")", ";", "<nl>", "+", "<nl>", "cpu", "_", "based", "_", "vm", "_", "exec", "_", "control", "=", "vmcs", "_", "read32", "(", "CPU", "_", "BASED", "_", "VM", "_", "EXEC", "_", "CONTROL", ")", ";", "<nl>", "if", "(", "!", "vcpu", "-", ">", "arch", ".", "interrupt", "_", "window", "_", "open", "&", "&", "<nl>", "(", "vcpu", "-", ">", "arch", ".", "irq", "_", "summary", "|", "|", "kvm", "_", "run", "-", ">", "request", "_", "interrupt", "_", "window", ")", ")", "<nl>"], "docstring_tokens": ["KVM", "VMX", "Use", "interrupt", "queue", "for", "irqchip_in_kernel"]}
{"code_tokens": ["int", "schedule", "_", "nes", "_", "timer", "(", "struct", "nes", "_", "cm", "_", "node", "*", "cm", "_", "node", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "u32", "was", "_", "timer", "_", "set", ";", "<nl>", "<nl>", "+", "if", "(", "!", "cm", "_", "node", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "new", "_", "send", "=", "kzalloc", "(", "sizeof", "(", "*", "new", "_", "send", ")", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "if", "(", "!", "new", "_", "send", ")", "<nl>", "return", "-", "1", ";", "<nl>", "-", "if", "(", "!", "cm", "_", "node", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "/", "*", "new", "_", "send", "-", ">", "timetosend", "=", "currenttime", "*", "/", "<nl>", "new", "_", "send", "-", ">", "retrycount", "=", "NES", "_", "DEFAULT", "_", "RETRYS", ";", "<nl>"], "docstring_tokens": ["RDMA", "nes", "Fix", "a", "memory", "leak", "in", "schedule_nes_timer"]}
{"code_tokens": ["static", "void", "acpi", "_", "processor", "_", "power", "_", "verify", "_", "c3", "(", "struct", "acpi", "_", "processor", "*", "pr", ",", "<nl>", "}", "<nl>", "<nl>", "if", "(", "pr", "-", ">", "flags", ".", "bm", "_", "check", ")", "{", "<nl>", "-", "/", "*", "bus", "mastering", "control", "is", "necessary", "*", "/", "<nl>", "if", "(", "!", "pr", "-", ">", "flags", ".", "bm", "_", "control", ")", "{", "<nl>", "-", "/", "*", "In", "this", "case", "we", "enter", "C3", "without", "bus", "mastering", "*", "/", "<nl>", "-", "ACPI", "_", "DEBUG", "_", "PRINT", "(", "(", "ACPI", "_", "DB", "_", "INFO", ",", "<nl>", "-", "\"", "C3", "support", "without", "bus", "mastering", "control", "\\", "n", "\"", ")", ")", ";", "<nl>", "+", "if", "(", "pr", "-", ">", "flags", ".", "has", "_", "cst", "!", "=", "1", ")", "{", "<nl>", "+", "/", "*", "bus", "mastering", "control", "is", "necessary", "*", "/", "<nl>", "+", "ACPI", "_", "DEBUG", "_", "PRINT", "(", "(", "ACPI", "_", "DB", "_", "INFO", ",", "<nl>", "+", "\"", "C3", "support", "requires", "BM", "control", "\\", "n", "\"", ")", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "/", "*", "Here", "we", "enter", "C3", "without", "bus", "mastering", "*", "/", "<nl>", "+", "ACPI", "_", "DEBUG", "_", "PRINT", "(", "(", "ACPI", "_", "DB", "_", "INFO", ",", "<nl>", "+", "\"", "C3", "support", "without", "BM", "control", "\\", "n", "\"", ")", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["ACPI", "fix", "Time", "Problems", "with", "2", "6", "23", "rc1", "gf695baf2"]}
{"code_tokens": ["int", "nvdimm", "_", "namespace", "_", "attach", "_", "btt", "(", "struct", "nd", "_", "namespace", "_", "common", "*", "ndns", ")", "<nl>", "}", "<nl>", "<nl>", "btt", "_", "sb", "=", "devm", "_", "kzalloc", "(", "&", "nd", "_", "btt", "-", ">", "dev", ",", "sizeof", "(", "*", "btt", "_", "sb", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "btt", "_", "sb", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "If", "this", "returns", "<", "0", ",", "that", "is", "ok", "as", "it", "just", "means", "there", "wasn", "'", "t", "<nl>"], "docstring_tokens": ["libnvdimm", "btt", "check", "memory", "allocation", "failure"]}
{"code_tokens": ["int", "_", "_", "init", "acpi", "_", "debugfs", "_", "init", "(", "void", ")", "<nl>", "if", "(", "!", "acpi", "_", "dir", ")", "<nl>", "goto", "err", ";", "<nl>", "<nl>", "-", "cm", "_", "dentry", "=", "debugfs", "_", "create", "_", "file", "(", "\"", "custom", "_", "method", "\"", ",", "S", "_", "IWUGO", ",", "<nl>", "+", "cm", "_", "dentry", "=", "debugfs", "_", "create", "_", "file", "(", "\"", "custom", "_", "method", "\"", ",", "S", "_", "IWUSR", ",", "<nl>", "acpi", "_", "dir", ",", "NULL", ",", "&", "cm", "_", "fops", ")", ";", "<nl>", "if", "(", "!", "cm", "_", "dentry", ")", "<nl>", "goto", "err", ";", "<nl>"], "docstring_tokens": ["ACPI", "debugfs", "custom_method", "open", "to", "non", "root"]}
{"code_tokens": ["static", "unsigned", "long", "nidump", "=", "16", ";", "<nl>", "static", "unsigned", "long", "ncsum", "=", "4096", ";", "<nl>", "static", "int", "termch", ";", "<nl>", "static", "char", "tmpstr", "[", "128", "]", ";", "<nl>", "+", "static", "int", "tracing", "_", "enabled", ";", "<nl>", "<nl>", "static", "long", "bus", "_", "error", "_", "jmp", "[", "JMP", "_", "BUF", "_", "LEN", "]", ";", "<nl>", "static", "int", "catch", "_", "memory", "_", "errors", ";", "<nl>", "static", "int", "xmon", "_", "core", "(", "struct", "pt", "_", "regs", "*", "regs", ",", "int", "fromipi", ")", "<nl>", "local", "_", "irq", "_", "save", "(", "flags", ")", ";", "<nl>", "hard", "_", "irq", "_", "disable", "(", ")", ";", "<nl>", "<nl>", "+", "tracing", "_", "enabled", "=", "tracing", "_", "is", "_", "on", "(", ")", ";", "<nl>", "+", "tracing", "_", "off", "(", ")", ";", "<nl>", "+", "<nl>", "bp", "=", "in", "_", "breakpoint", "_", "table", "(", "regs", "-", ">", "nip", ",", "&", "offset", ")", ";", "<nl>", "if", "(", "bp", "!", "=", "NULL", ")", "{", "<nl>", "regs", "-", ">", "nip", "=", "bp", "-", ">", "address", "+", "offset", ";", "<nl>", "cmds", "(", "struct", "pt", "_", "regs", "*", "excp", ")", "<nl>", "break", ";", "<nl>", "case", "'", "x", "'", ":", "<nl>", "case", "'", "X", "'", ":", "<nl>", "+", "if", "(", "tracing", "_", "enabled", ")", "<nl>", "+", "tracing", "_", "on", "(", ")", ";", "<nl>", "return", "cmd", ";", "<nl>", "case", "EOF", ":", "<nl>", "printf", "(", "\"", "<", "no", "input", ".", ".", ".", ">", "\\", "n", "\"", ")", ";", "<nl>", "static", "void", "dump", "_", "tracing", "(", "void", ")", "<nl>", "ftrace", "_", "dump", "(", "DUMP", "_", "ORIG", ")", ";", "<nl>", "else", "<nl>", "ftrace", "_", "dump", "(", "DUMP", "_", "ALL", ")", ";", "<nl>", "-", "<nl>", "-", "tracing", "_", "on", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "PPC64", "<nl>"], "docstring_tokens": ["powerpc", "xmon", "Disable", "tracing", "when", "entering", "xmon"]}
{"code_tokens": ["static", "long", "_", "_", "write", "_", "once", "initfree", "=", "1", ";", "<nl>", "static", "int", "_", "_", "init", "set", "_", "initfree", "(", "char", "*", "str", ")", "<nl>", "{", "<nl>", "long", "val", ";", "<nl>", "-", "if", "(", "strict", "_", "strtol", "(", "str", ",", "0", ",", "&", "val", ")", ")", "{", "<nl>", "+", "if", "(", "strict", "_", "strtol", "(", "str", ",", "0", ",", "&", "val", ")", "=", "=", "0", ")", "{", "<nl>", "initfree", "=", "val", ";", "<nl>", "pr", "_", "info", "(", "\"", "initfree", ":", "%", "s", "free", "init", "pages", "\\", "n", "\"", ",", "<nl>", "initfree", "?", "\"", "will", "\"", ":", "\"", "won", "'", "t", "\"", ")", ";", "<nl>"], "docstring_tokens": ["arch", "tile", "fix", "reversed", "test", "of", "strict_strtol", "return", "value"]}
{"code_tokens": ["static", "u32", "xen", "_", "apic", "_", "read", "(", "u32", "reg", ")", "<nl>", "<nl>", "ret", "=", "HYPERVISOR", "_", "platform", "_", "op", "(", "&", "op", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "-", "return", "0", ";", "<nl>", "+", "op", ".", "u", ".", "pcpu", "_", "info", ".", "apic", "_", "id", "=", "BAD", "_", "APICID", ";", "<nl>", "<nl>", "return", "op", ".", "u", ".", "pcpu", "_", "info", ".", "apic", "_", "id", "<", "<", "24", ";", "<nl>", "}", "<nl>", "static", "void", "xen", "_", "silent", "_", "inquire", "(", "int", "apicid", ")", "<nl>", "{", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "xen", "_", "cpu", "_", "present", "_", "to", "_", "apicid", "(", "int", "cpu", ")", "<nl>", "+", "{", "<nl>", "+", "if", "(", "cpu", "_", "present", "(", "cpu", ")", ")", "<nl>", "+", "return", "xen", "_", "get", "_", "apic", "_", "id", "(", "xen", "_", "apic", "_", "read", "(", "APIC", "_", "ID", ")", ")", ";", "<nl>", "+", "else", "<nl>", "+", "return", "BAD", "_", "APICID", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "struct", "apic", "xen", "_", "pv", "_", "apic", "=", "{", "<nl>", ".", "name", "=", "\"", "Xen", "PV", "\"", ",", "<nl>", ".", "probe", "=", "xen", "_", "apic", "_", "probe", "_", "pv", ",", "<nl>", "static", "struct", "apic", "xen", "_", "pv", "_", "apic", "=", "{", "<nl>", "<nl>", ".", "ioapic", "_", "phys", "_", "id", "_", "map", "=", "default", "_", "ioapic", "_", "phys", "_", "id", "_", "map", ",", "/", "*", "Used", "on", "32", "-", "bit", "*", "/", "<nl>", ".", "setup", "_", "apic", "_", "routing", "=", "NULL", ",", "<nl>", "-", ".", "cpu", "_", "present", "_", "to", "_", "apicid", "=", "default", "_", "cpu", "_", "present", "_", "to", "_", "apicid", ",", "<nl>", "+", ".", "cpu", "_", "present", "_", "to", "_", "apicid", "=", "xen", "_", "cpu", "_", "present", "_", "to", "_", "apicid", ",", "<nl>", ".", "apicid", "_", "to", "_", "cpu", "_", "present", "=", "physid", "_", "set", "_", "mask", "_", "of", "_", "physid", ",", "/", "*", "Used", "on", "32", "-", "bit", "*", "/", "<nl>", ".", "check", "_", "phys", "_", "apicid", "_", "present", "=", "default", "_", "check", "_", "phys", "_", "apicid", "_", "present", ",", "/", "*", "smp", "_", "sanity", "_", "check", "needs", "it", "*", "/", "<nl>", ".", "phys", "_", "pkg", "_", "id", "=", "xen", "_", "phys", "_", "pkg", "_", "id", ",", "/", "*", "detect", "_", "ht", "*", "/", "<nl>"], "docstring_tokens": ["xen", "apic", "Provide", "Xen", "specific", "version", "of", "cpu_present_to_apicid", "APIC", "op"]}
{"code_tokens": ["static", "bool", "tcp", "_", "write", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "unsigned", "int", "mss", "_", "now", ",", "int", "nonagle", ",", "<nl>", "<nl>", "/", "*", "Send", "one", "loss", "probe", "per", "tail", "loss", "episode", ".", "*", "/", "<nl>", "if", "(", "push", "_", "one", "!", "=", "2", ")", "<nl>", "-", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "sk", ")", ";", "<nl>", "+", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "sk", ",", "false", ")", ";", "<nl>", "is", "_", "cwnd", "_", "limited", "|", "=", "(", "tcp", "_", "packets", "_", "in", "_", "flight", "(", "tp", ")", ">", "=", "tp", "-", ">", "snd", "_", "cwnd", ")", ";", "<nl>", "tcp", "_", "cwnd", "_", "validate", "(", "sk", ",", "is", "_", "cwnd", "_", "limited", ")", ";", "<nl>", "return", "false", ";", "<nl>", "static", "bool", "tcp", "_", "write", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "unsigned", "int", "mss", "_", "now", ",", "int", "nonagle", ",", "<nl>", "return", "!", "tp", "-", ">", "packets", "_", "out", "&", "&", "!", "tcp", "_", "write", "_", "queue", "_", "empty", "(", "sk", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", "<nl>", "+", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ",", "bool", "advancing", "_", "rto", ")", "<nl>", "{", "<nl>", "struct", "inet", "_", "connection", "_", "sock", "*", "icsk", "=", "inet", "_", "csk", "(", "sk", ")", ";", "<nl>", "struct", "tcp", "_", "sock", "*", "tp", "=", "tcp", "_", "sk", "(", "sk", ")", ";", "<nl>", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", "<nl>", "}", "<nl>", "<nl>", "/", "*", "If", "the", "RTO", "formula", "yields", "an", "earlier", "time", ",", "then", "use", "that", "time", ".", "*", "/", "<nl>", "-", "rto", "_", "delta", "_", "us", "=", "tcp", "_", "rto", "_", "delta", "_", "us", "(", "sk", ")", ";", "/", "*", "How", "far", "in", "future", "is", "RTO", "?", "*", "/", "<nl>", "+", "rto", "_", "delta", "_", "us", "=", "advancing", "_", "rto", "?", "<nl>", "+", "jiffies", "_", "to", "_", "usecs", "(", "inet", "_", "csk", "(", "sk", ")", "-", ">", "icsk", "_", "rto", ")", ":", "<nl>", "+", "tcp", "_", "rto", "_", "delta", "_", "us", "(", "sk", ")", ";", "/", "*", "How", "far", "in", "future", "is", "RTO", "?", "*", "/", "<nl>", "if", "(", "rto", "_", "delta", "_", "us", ">", "0", ")", "<nl>", "timeout", "=", "min", "_", "t", "(", "u32", ",", "timeout", ",", "usecs", "_", "to", "_", "jiffies", "(", "rto", "_", "delta", "_", "us", ")", ")", ";", "<nl>", "static", "bool", "tcp", "_", "write", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "unsigned", "int", "mss", "_", "now", ",", "int", "nonagle", ",", "<nl>", "<nl>", "/", "*", "Send", "one", "loss", "probe", "per", "tail", "loss", "episode", ".", "*", "/", "<nl>", "if", "(", "push", "_", "one", "!", "=", "2", ")", "<nl>", "-", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "sk", ")", ";", "<nl>", "+", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "sk", ",", "false", ")", ";", "<nl>", "is", "_", "cwnd", "_", "limited", "|", "=", "(", "tcp", "_", "packets", "_", "in", "_", "flight", "(", "tp", ")", ">", "=", "tp", "-", ">", "snd", "_", "cwnd", ")", ";", "<nl>", "tcp", "_", "cwnd", "_", "validate", "(", "sk", ",", "is", "_", "cwnd", "_", "limited", ")", ";", "<nl>", "return", "false", ";", "<nl>", "static", "bool", "tcp", "_", "write", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "unsigned", "int", "mss", "_", "now", ",", "int", "nonagle", ",", "<nl>", "return", "!", "tp", "-", ">", "packets", "_", "out", "&", "&", "!", "tcp", "_", "write", "_", "queue", "_", "empty", "(", "sk", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", "<nl>", "+", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ",", "bool", "advancing", "_", "rto", ")", "<nl>", "{", "<nl>", "struct", "inet", "_", "connection", "_", "sock", "*", "icsk", "=", "inet", "_", "csk", "(", "sk", ")", ";", "<nl>", "struct", "tcp", "_", "sock", "*", "tp", "=", "tcp", "_", "sk", "(", "sk", ")", ";", "<nl>", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", "<nl>", "}", "<nl>", "<nl>", "/", "*", "If", "the", "RTO", "formula", "yields", "an", "earlier", "time", ",", "then", "use", "that", "time", ".", "*", "/", "<nl>", "-", "rto", "_", "delta", "_", "us", "=", "tcp", "_", "rto", "_", "delta", "_", "us", "(", "sk", ")", ";", "/", "*", "How", "far", "in", "future", "is", "RTO", "?", "*", "/", "<nl>", "+", "rto", "_", "delta", "_", "us", "=", "advancing", "_", "rto", "?", "<nl>", "+", "jiffies", "_", "to", "_", "usecs", "(", "inet", "_", "csk", "(", "sk", ")", "-", ">", "icsk", "_", "rto", ")", ":", "<nl>", "+", "tcp", "_", "rto", "_", "delta", "_", "us", "(", "sk", ")", ";", "/", "*", "How", "far", "in", "future", "is", "RTO", "?", "*", "/", "<nl>", "if", "(", "rto", "_", "delta", "_", "us", ">", "0", ")", "<nl>", "timeout", "=", "min", "_", "t", "(", "u32", ",", "timeout", ",", "usecs", "_", "to", "_", "jiffies", "(", "rto", "_", "delta", "_", "us", ")", ")", ";", "<nl>", "<nl>", "void", "tcp", "_", "push", "_", "one", "(", "struct", "sock", "*", ",", "unsigned", "int", "mss", "_", "now", ")", ";", "<nl>", "void", "tcp", "_", "send", "_", "ack", "(", "struct", "sock", "*", "sk", ")", ";", "<nl>", "void", "tcp", "_", "send", "_", "delayed", "_", "ack", "(", "struct", "sock", "*", "sk", ")", ";", "<nl>", "void", "tcp", "_", "send", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", ";", "<nl>", "-", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", ";", "<nl>", "+", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ",", "bool", "advancing", "_", "rto", ")", ";", "<nl>", "void", "tcp", "_", "skb", "_", "collapse", "_", "tstamp", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "const", "struct", "sk", "_", "buff", "*", "next", "_", "skb", ")", ";", "<nl>", "static", "bool", "tcp", "_", "write", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "unsigned", "int", "mss", "_", "now", ",", "int", "nonagle", ",", "<nl>", "<nl>", "/", "*", "Send", "one", "loss", "probe", "per", "tail", "loss", "episode", ".", "*", "/", "<nl>", "if", "(", "push", "_", "one", "!", "=", "2", ")", "<nl>", "-", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "sk", ")", ";", "<nl>", "+", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "sk", ",", "false", ")", ";", "<nl>", "is", "_", "cwnd", "_", "limited", "|", "=", "(", "tcp", "_", "packets", "_", "in", "_", "flight", "(", "tp", ")", ">", "=", "tp", "-", ">", "snd", "_", "cwnd", ")", ";", "<nl>", "tcp", "_", "cwnd", "_", "validate", "(", "sk", ",", "is", "_", "cwnd", "_", "limited", ")", ";", "<nl>", "return", "false", ";", "<nl>", "static", "bool", "tcp", "_", "write", "_", "xmit", "(", "struct", "sock", "*", "sk", ",", "unsigned", "int", "mss", "_", "now", ",", "int", "nonagle", ",", "<nl>", "return", "!", "tp", "-", ">", "packets", "_", "out", "&", "&", "!", "tcp", "_", "write", "_", "queue", "_", "empty", "(", "sk", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", "<nl>", "+", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ",", "bool", "advancing", "_", "rto", ")", "<nl>", "{", "<nl>", "struct", "inet", "_", "connection", "_", "sock", "*", "icsk", "=", "inet", "_", "csk", "(", "sk", ")", ";", "<nl>", "struct", "tcp", "_", "sock", "*", "tp", "=", "tcp", "_", "sk", "(", "sk", ")", ";", "<nl>", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", "<nl>", "}", "<nl>", "<nl>", "/", "*", "If", "the", "RTO", "formula", "yields", "an", "earlier", "time", ",", "then", "use", "that", "time", ".", "*", "/", "<nl>", "-", "rto", "_", "delta", "_", "us", "=", "tcp", "_", "rto", "_", "delta", "_", "us", "(", "sk", ")", ";", "/", "*", "How", "far", "in", "future", "is", "RTO", "?", "*", "/", "<nl>", "+", "rto", "_", "delta", "_", "us", "=", "advancing", "_", "rto", "?", "<nl>", "+", "jiffies", "_", "to", "_", "usecs", "(", "inet", "_", "csk", "(", "sk", ")", "-", ">", "icsk", "_", "rto", ")", ":", "<nl>", "+", "tcp", "_", "rto", "_", "delta", "_", "us", "(", "sk", ")", ";", "/", "*", "How", "far", "in", "future", "is", "RTO", "?", "*", "/", "<nl>", "if", "(", "rto", "_", "delta", "_", "us", ">", "0", ")", "<nl>", "timeout", "=", "min", "_", "t", "(", "u32", ",", "timeout", ",", "usecs", "_", "to", "_", "jiffies", "(", "rto", "_", "delta", "_", "us", ")", ")", ";", "<nl>", "<nl>", "void", "tcp", "_", "push", "_", "one", "(", "struct", "sock", "*", ",", "unsigned", "int", "mss", "_", "now", ")", ";", "<nl>", "void", "tcp", "_", "send", "_", "ack", "(", "struct", "sock", "*", "sk", ")", ";", "<nl>", "void", "tcp", "_", "send", "_", "delayed", "_", "ack", "(", "struct", "sock", "*", "sk", ")", ";", "<nl>", "void", "tcp", "_", "send", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", ";", "<nl>", "-", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ")", ";", "<nl>", "+", "bool", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "struct", "sock", "*", "sk", ",", "bool", "advancing", "_", "rto", ")", ";", "<nl>", "void", "tcp", "_", "skb", "_", "collapse", "_", "tstamp", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "const", "struct", "sk", "_", "buff", "*", "next", "_", "skb", ")", ";", "<nl>", "<nl>", "void", "tcp", "_", "rearm", "_", "rto", "(", "struct", "sock", "*", "sk", ")", "<nl>", "/", "*", "Try", "to", "schedule", "a", "loss", "probe", ";", "if", "that", "doesn", "'", "t", "work", ",", "then", "schedule", "an", "RTO", ".", "*", "/", "<nl>", "static", "void", "tcp", "_", "set", "_", "xmit", "_", "timer", "(", "struct", "sock", "*", "sk", ")", "<nl>", "{", "<nl>", "-", "if", "(", "!", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "sk", ")", ")", "<nl>", "+", "if", "(", "!", "tcp", "_", "schedule", "_", "loss", "_", "probe", "(", "sk", ",", "true", ")", ")", "<nl>", "tcp", "_", "rearm", "_", "rto", "(", "sk", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tcp", "when", "scheduling", "TLP", "time", "of", "RTO", "should", "account", "for", "current", "ACK"]}
{"code_tokens": ["static", "int", "do", "_", "siocgstamp", "(", "struct", "net", "*", "net", ",", "struct", "socket", "*", "sock", ",", "<nl>", "err", "=", "sock", "_", "do", "_", "ioctl", "(", "net", ",", "sock", ",", "cmd", ",", "(", "unsigned", "long", ")", "&", "ktv", ")", ";", "<nl>", "set", "_", "fs", "(", "old", "_", "fs", ")", ";", "<nl>", "if", "(", "!", "err", ")", "<nl>", "-", "err", "=", "compat", "_", "put", "_", "timeval", "(", "up", ",", "&", "ktv", ")", ";", "<nl>", "+", "err", "=", "compat", "_", "put", "_", "timeval", "(", "&", "ktv", ",", "up", ")", ";", "<nl>", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "static", "int", "do", "_", "siocgstampns", "(", "struct", "net", "*", "net", ",", "struct", "socket", "*", "sock", ",", "<nl>", "err", "=", "sock", "_", "do", "_", "ioctl", "(", "net", ",", "sock", ",", "cmd", ",", "(", "unsigned", "long", ")", "&", "kts", ")", ";", "<nl>", "set", "_", "fs", "(", "old", "_", "fs", ")", ";", "<nl>", "if", "(", "!", "err", ")", "<nl>", "-", "err", "=", "compat", "_", "put", "_", "timespec", "(", "up", ",", "&", "kts", ")", ";", "<nl>", "+", "err", "=", "compat", "_", "put", "_", "timespec", "(", "&", "kts", ",", "up", ")", ";", "<nl>", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "order", "of", "arguments", "to", "compat_put_time", "spec", "val"]}
{"code_tokens": ["int", "ssb", "_", "bus", "_", "scan", "(", "struct", "ssb", "_", "bus", "*", "bus", ",", "<nl>", "bus", "-", ">", "pcicore", ".", "dev", "=", "dev", ";", "<nl>", "#", "endif", "/", "*", "CONFIG", "_", "SSB", "_", "DRIVER", "_", "PCICORE", "*", "/", "<nl>", "break", ";", "<nl>", "+", "case", "SSB", "_", "DEV", "_", "ETHERNET", ":", "<nl>", "+", "if", "(", "bus", "-", ">", "bustype", "=", "=", "SSB", "_", "BUSTYPE", "_", "PCI", ")", "{", "<nl>", "+", "if", "(", "bus", "-", ">", "host", "_", "pci", "-", ">", "vendor", "=", "=", "PCI", "_", "VENDOR", "_", "ID", "_", "BROADCOM", "&", "&", "<nl>", "+", "(", "bus", "-", ">", "host", "_", "pci", "-", ">", "device", "&", "0xFF00", ")", "=", "=", "0x4300", ")", "{", "<nl>", "+", "/", "*", "This", "is", "a", "dangling", "ethernet", "core", "on", "a", "<nl>", "+", "*", "wireless", "device", ".", "Ignore", "it", ".", "*", "/", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "+", "break", ";", "<nl>", "default", ":", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ssb", "Ignore", "dangling", "ethernet", "cores", "on", "wireless", "devices"]}
{"code_tokens": ["static", "void", "copy", "_", "instruction", "(", "struct", "kprobe", "*", "p", ")", "<nl>", "ftrace", "_", "generate", "_", "nop", "_", "insn", "(", "(", "struct", "ftrace", "_", "insn", "*", ")", "p", "-", ">", "ainsn", ".", "insn", ")", ";", "<nl>", "p", "-", ">", "ainsn", ".", "is", "_", "ftrace", "_", "insn", "=", "1", ";", "<nl>", "}", "else", "<nl>", "-", "memcpy", "(", "p", "-", ">", "ainsn", ".", "insn", ",", "p", "-", ">", "addr", ",", "insn", "_", "length", "(", "p", "-", ">", "opcode", ">", ">", "8", ")", ")", ";", "<nl>", "+", "memcpy", "(", "p", "-", ">", "ainsn", ".", "insn", ",", "p", "-", ">", "addr", ",", "insn", "_", "length", "(", "*", "p", "-", ">", "addr", ">", ">", "8", ")", ")", ";", "<nl>", "p", "-", ">", "opcode", "=", "p", "-", ">", "ainsn", ".", "insn", "[", "0", "]", ";", "<nl>", "if", "(", "!", "probe", "_", "is", "_", "insn", "_", "relative", "_", "long", "(", "p", "-", ">", "ainsn", ".", "insn", ")", ")", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["s390", "kprobes", "fix", "instruction", "copy", "for", "out", "of", "line", "execution"]}
{"code_tokens": ["static", "_", "_", "init", "void", "parse", "_", "cmdline", "_", "early", "(", "char", "*", "*", "cmdline", "_", "p", ")", "<nl>", "if", "(", "!", "memcmp", "(", "from", ",", "\"", "noapic", "\"", ",", "6", ")", ")", "<nl>", "skip", "_", "ioapic", "_", "setup", "=", "1", ";", "<nl>", "<nl>", "-", "if", "(", "!", "memcmp", "(", "from", ",", "\"", "apic", "\"", ",", "4", ")", ")", "{", "<nl>", "+", "/", "*", "Make", "sure", "to", "not", "confuse", "with", "apic", "=", "*", "/", "<nl>", "+", "if", "(", "!", "memcmp", "(", "from", ",", "\"", "apic", "\"", ",", "4", ")", "&", "&", "<nl>", "+", "(", "from", "[", "4", "]", "=", "=", "'", "'", "|", "|", "from", "[", "4", "]", "=", "=", "0", ")", ")", "{", "<nl>", "skip", "_", "ioapic", "_", "setup", "=", "0", ";", "<nl>", "ioapic", "_", "force", "=", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PATCH", "x86_64", "Don", "t", "confuse", "apic", "command", "line", "option", "with", "apic"]}
{"code_tokens": ["intel", "_", "ioapic", "_", "set", "_", "affinity", "(", "struct", "irq", "_", "data", "*", "data", ",", "const", "struct", "cpumask", "*", "mask", ",", "<nl>", "<nl>", "err", "=", "apic", "-", ">", "cpu", "_", "mask", "_", "to", "_", "apicid", "_", "and", "(", "cfg", "-", ">", "domain", ",", "mask", ",", "&", "dest", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "-", "if", "(", "assign", "_", "irq", "_", "vector", "(", "irq", ",", "cfg", ",", "data", "-", ">", "affinity", ")", ")", ";", "<nl>", "+", "if", "(", "assign", "_", "irq", "_", "vector", "(", "irq", ",", "cfg", ",", "data", "-", ">", "affinity", ")", ")", "<nl>", "pr", "_", "err", "(", "\"", "Failed", "to", "recover", "vector", "for", "irq", "%", "d", "\\", "n", "\"", ",", "irq", ")", ";", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["x86", "apic", "irq_remap", "Silence", "a", "bogus", "pr_err"]}
{"code_tokens": ["i915", "_", "gem", "_", "execbuffer2", "(", "struct", "drm", "_", "device", "*", "dev", ",", "void", "*", "data", ",", "<nl>", "struct", "drm", "_", "i915", "_", "gem", "_", "exec", "_", "object2", "*", "exec2", "_", "list", "=", "NULL", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "-", "if", "(", "args", "-", ">", "buffer", "_", "count", "<", "1", ")", "{", "<nl>", "+", "if", "(", "args", "-", ">", "buffer", "_", "count", "<", "1", "|", "|", "<nl>", "+", "args", "-", ">", "buffer", "_", "count", ">", "UINT", "_", "MAX", "/", "sizeof", "(", "*", "exec2", "_", "list", ")", ")", "{", "<nl>", "DRM", "_", "DEBUG", "(", "\"", "execbuf2", "with", "%", "d", "buffers", "\\", "n", "\"", ",", "args", "-", ">", "buffer", "_", "count", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "fix", "integer", "overflow", "in", "i915_gem_execbuffer2"]}
{"code_tokens": ["static", "int", "qt1010", "_", "get", "_", "bandwidth", "(", "struct", "dvb", "_", "frontend", "*", "fe", ",", "u32", "*", "bandwidth", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "qt1010", "_", "get", "_", "if", "_", "frequency", "(", "struct", "dvb", "_", "frontend", "*", "fe", ",", "u32", "*", "frequency", ")", "<nl>", "+", "{", "<nl>", "+", "*", "frequency", "=", "36125000", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "const", "struct", "dvb", "_", "tuner", "_", "ops", "qt1010", "_", "tuner", "_", "ops", "=", "{", "<nl>", ".", "info", "=", "{", "<nl>", ".", "name", "=", "\"", "Quantek", "QT1010", "\"", ",", "<nl>", "static", "const", "struct", "dvb", "_", "tuner", "_", "ops", "qt1010", "_", "tuner", "_", "ops", "=", "{", "<nl>", "<nl>", ".", "set", "_", "params", "=", "qt1010", "_", "set", "_", "params", ",", "<nl>", ".", "get", "_", "frequency", "=", "qt1010", "_", "get", "_", "frequency", ",", "<nl>", "-", ".", "get", "_", "bandwidth", "=", "qt1010", "_", "get", "_", "bandwidth", "<nl>", "+", ".", "get", "_", "bandwidth", "=", "qt1010", "_", "get", "_", "bandwidth", ",", "<nl>", "+", ".", "get", "_", "if", "_", "frequency", "=", "qt1010", "_", "get", "_", "if", "_", "frequency", ",", "<nl>", "}", ";", "<nl>", "<nl>", "struct", "dvb", "_", "frontend", "*", "qt1010", "_", "attach", "(", "struct", "dvb", "_", "frontend", "*", "fe", ",", "<nl>"], "docstring_tokens": ["media", "qt1010", "implement", "get_if_frequency"]}
{"code_tokens": ["u64", "snd", "_", "usb", "_", "interface", "_", "dsd", "_", "format", "_", "quirks", "(", "struct", "snd", "_", "usb", "_", "audio", "*", "chip", ",", "<nl>", "}", "<nl>", "}", "<nl>", "break", ";", "<nl>", "+", "case", "USB", "_", "ID", "(", "0x16d0", ",", "0x0a23", ")", ":", "<nl>", "+", "if", "(", "fp", "-", ">", "altsetting", "=", "=", "2", ")", "<nl>", "+", "return", "SNDRV", "_", "PCM", "_", "FMTBIT", "_", "DSD", "_", "U32", "_", "BE", ";", "<nl>", "+", "break", ";", "<nl>", "<nl>", "default", ":", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["ALSA", "usb", "audio", "add", "DSD", "support", "for", "new", "Amanero", "PID"]}
{"code_tokens": ["static", "int", "vivid", "_", "fb", "_", "ioctl", "(", "struct", "fb", "_", "info", "*", "info", ",", "unsigned", "cmd", ",", "unsigned", "long", "arg", ")", "<nl>", "case", "FBIOGET", "_", "VBLANK", ":", "{", "<nl>", "struct", "fb", "_", "vblank", "vblank", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "vblank", ",", "0", ",", "sizeof", "(", "vblank", ")", ")", ";", "<nl>", "vblank", ".", "flags", "=", "FB", "_", "VBLANK", "_", "HAVE", "_", "COUNT", "|", "FB", "_", "VBLANK", "_", "HAVE", "_", "VCOUNT", "|", "<nl>", "FB", "_", "VBLANK", "_", "HAVE", "_", "VSYNC", ";", "<nl>", "vblank", ".", "count", "=", "0", ";", "<nl>"], "docstring_tokens": ["media", "media", "vivid", "osd", "fix", "info", "leak", "in", "ioctl"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "snd", "_", "miro", "_", "probe", "(", "struct", "snd", "_", "card", "*", "card", ")", "<nl>", "<nl>", "error", "=", "snd", "_", "card", "_", "miro", "_", "aci", "_", "detect", "(", "card", ",", "miro", ")", ";", "<nl>", "if", "(", "error", "<", "0", ")", "{", "<nl>", "-", "snd", "_", "card", "_", "free", "(", "card", ")", ";", "<nl>", "snd", "_", "printk", "(", "KERN", "_", "ERR", "\"", "unable", "to", "detect", "aci", "chip", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "sound", "isa", "opti9xx", "miro", "c", "eliminate", "possible", "double", "free"]}
{"code_tokens": ["static", "int", "tpacket", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "struct", "timespec", "ts", ";", "<nl>", "_", "_", "u32", "ts", "_", "status", ";", "<nl>", "bool", "is", "_", "drop", "_", "n", "_", "account", "=", "false", ";", "<nl>", "+", "bool", "do", "_", "vnet", "=", "false", ";", "<nl>", "<nl>", "/", "*", "struct", "tpacket", "{", "2", ",", "3", "}", "_", "hdr", "is", "aligned", "to", "a", "multiple", "of", "TPACKET", "_", "ALIGNMENT", ".", "<nl>", "*", "We", "may", "add", "members", "to", "them", "until", "current", "aligned", "size", "without", "forcing", "<nl>", "static", "int", "tpacket", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "netoff", "=", "TPACKET", "_", "ALIGN", "(", "po", "-", ">", "tp", "_", "hdrlen", "+", "<nl>", "(", "maclen", "<", "16", "?", "16", ":", "maclen", ")", ")", "+", "<nl>", "po", "-", ">", "tp", "_", "reserve", ";", "<nl>", "-", "if", "(", "po", "-", ">", "has", "_", "vnet", "_", "hdr", ")", "<nl>", "+", "if", "(", "po", "-", ">", "has", "_", "vnet", "_", "hdr", ")", "{", "<nl>", "netoff", "+", "=", "sizeof", "(", "struct", "virtio", "_", "net", "_", "hdr", ")", ";", "<nl>", "+", "do", "_", "vnet", "=", "true", ";", "<nl>", "+", "}", "<nl>", "macoff", "=", "netoff", "-", "maclen", ";", "<nl>", "}", "<nl>", "if", "(", "po", "-", ">", "tp", "_", "version", "<", "=", "TPACKET", "_", "V2", ")", "{", "<nl>", "static", "int", "tpacket", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "skb", "_", "set", "_", "owner", "_", "r", "(", "copy", "_", "skb", ",", "sk", ")", ";", "<nl>", "}", "<nl>", "snaplen", "=", "po", "-", ">", "rx", "_", "ring", ".", "frame", "_", "size", "-", "macoff", ";", "<nl>", "-", "if", "(", "(", "int", ")", "snaplen", "<", "0", ")", "<nl>", "+", "if", "(", "(", "int", ")", "snaplen", "<", "0", ")", "{", "<nl>", "snaplen", "=", "0", ";", "<nl>", "+", "do", "_", "vnet", "=", "false", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "else", "if", "(", "unlikely", "(", "macoff", "+", "snaplen", ">", "<nl>", "GET", "_", "PBDQC", "_", "FROM", "_", "RB", "(", "&", "po", "-", ">", "rx", "_", "ring", ")", "-", ">", "max", "_", "frame", "_", "len", ")", ")", "{", "<nl>", "static", "int", "tpacket", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "if", "(", "unlikely", "(", "(", "int", ")", "snaplen", "<", "0", ")", ")", "{", "<nl>", "snaplen", "=", "0", ";", "<nl>", "macoff", "=", "GET", "_", "PBDQC", "_", "FROM", "_", "RB", "(", "&", "po", "-", ">", "rx", "_", "ring", ")", "-", ">", "max", "_", "frame", "_", "len", ";", "<nl>", "+", "do", "_", "vnet", "=", "false", ";", "<nl>", "}", "<nl>", "}", "<nl>", "spin", "_", "lock", "(", "&", "sk", "-", ">", "sk", "_", "receive", "_", "queue", ".", "lock", ")", ";", "<nl>", "static", "int", "tpacket", "_", "rcv", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "}", "<nl>", "spin", "_", "unlock", "(", "&", "sk", "-", ">", "sk", "_", "receive", "_", "queue", ".", "lock", ")", ";", "<nl>", "<nl>", "-", "if", "(", "po", "-", ">", "has", "_", "vnet", "_", "hdr", ")", "{", "<nl>", "+", "if", "(", "do", "_", "vnet", ")", "{", "<nl>", "if", "(", "virtio", "_", "net", "_", "hdr", "_", "from", "_", "skb", "(", "skb", ",", "h", ".", "raw", "+", "macoff", "-", "<nl>", "sizeof", "(", "struct", "virtio", "_", "net", "_", "hdr", ")", ",", "<nl>", "vio", "_", "le", "(", ")", ",", "true", ")", ")", "{", "<nl>"], "docstring_tokens": ["packet", "Don", "t", "write", "vnet", "header", "beyond", "end", "of", "buffer"]}
{"code_tokens": ["static", "int", "eb", "_", "relocate", "_", "vma", "(", "struct", "i915", "_", "execbuffer", "*", "eb", ",", "struct", "i915", "_", "vma", "*", "vma", ")", "<nl>", "*", "to", "read", ".", "However", ",", "if", "the", "array", "is", "not", "writable", "the", "user", "loses", "<nl>", "*", "the", "updated", "relocation", "values", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "unlikely", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "READ", ",", "urelocs", ",", "remain", "*", "sizeof", "(", "urelocs", ")", ")", ")", ")", "<nl>", "+", "if", "(", "unlikely", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "READ", ",", "urelocs", ",", "remain", "*", "sizeof", "(", "*", "urelocs", ")", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "<nl>", "do", "{", "<nl>"], "docstring_tokens": ["drm", "i915", "Fix", "user", "ptr", "check", "size", "in", "eb_relocate_vma"]}
{"code_tokens": ["int", "ext4", "_", "insert", "_", "range", "(", "struct", "inode", "*", "inode", ",", "loff", "_", "t", "offset", ",", "loff", "_", "t", "len", ")", "<nl>", "up", "_", "write", "(", "&", "EXT4", "_", "I", "(", "inode", ")", "-", ">", "i", "_", "data", "_", "sem", ")", ";", "<nl>", "goto", "out", "_", "stop", ";", "<nl>", "}", "<nl>", "+", "}", "else", "{", "<nl>", "+", "ext4", "_", "ext", "_", "drop", "_", "refs", "(", "path", ")", ";", "<nl>", "+", "kfree", "(", "path", ")", ";", "<nl>", "}", "<nl>", "<nl>", "ret", "=", "ext4", "_", "es", "_", "remove", "_", "extent", "(", "inode", ",", "offset", "_", "lblk", ",", "<nl>"], "docstring_tokens": ["ext4", "fix", "memory", "leak", "in", "ext4_insert_range"]}
{"code_tokens": ["static", "long", "aio", "_", "read", "_", "events", "_", "ring", "(", "struct", "kioctx", "*", "ctx", ",", "<nl>", "if", "(", "head", "=", "=", "tail", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "+", "head", "%", "=", "ctx", "-", ">", "nr", "_", "events", ";", "<nl>", "+", "tail", "%", "=", "ctx", "-", ">", "nr", "_", "events", ";", "<nl>", "+", "<nl>", "while", "(", "ret", "<", "nr", ")", "{", "<nl>", "long", "avail", ";", "<nl>", "struct", "io", "_", "event", "*", "ev", ";", "<nl>"], "docstring_tokens": ["aio", "fix", "kernel", "memory", "disclosure", "in", "io_getevents", "introduced", "in", "v3", "10"]}
{"code_tokens": ["static", "cpuidle", "_", "enter", "_", "t", "cpuidle", "_", "enter", "_", "ops", ";", "<nl>", "/", "*", "*", "<nl>", "*", "cpuidle", "_", "play", "_", "dead", "-", "cpu", "off", "-", "lining", "<nl>", "*", "<nl>", "-", "*", "Only", "returns", "in", "case", "of", "an", "error", "<nl>", "+", "*", "Returns", "in", "case", "of", "an", "error", "or", "no", "driver", "<nl>", "*", "/", "<nl>", "int", "cpuidle", "_", "play", "_", "dead", "(", "void", ")", "<nl>", "{", "<nl>", "int", "cpuidle", "_", "play", "_", "dead", "(", "void", ")", "<nl>", "int", "i", ",", "dead", "_", "state", "=", "-", "1", ";", "<nl>", "int", "power", "_", "usage", "=", "-", "1", ";", "<nl>", "<nl>", "+", "if", "(", "!", "drv", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "<nl>", "/", "*", "Find", "lowest", "-", "power", "state", "that", "supports", "long", "-", "term", "idle", "*", "/", "<nl>", "for", "(", "i", "=", "CPUIDLE", "_", "DRIVER", "_", "STATE", "_", "START", ";", "i", "<", "drv", "-", ">", "state", "_", "count", ";", "i", "+", "+", ")", "{", "<nl>", "struct", "cpuidle", "_", "state", "*", "s", "=", "&", "drv", "-", ">", "states", "[", "i", "]", ";", "<nl>"], "docstring_tokens": ["cpuidle", "Fix", "panic", "in", "CPU", "off", "lining", "with", "no", "idle", "driver"]}
{"code_tokens": ["static", "int", "ipxitf", "_", "ioctl", "(", "unsigned", "int", "cmd", ",", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "sipx", "-", ">", "sipx", "_", "network", "=", "ipxif", "-", ">", "if", "_", "netnum", ";", "<nl>", "memcpy", "(", "sipx", "-", ">", "sipx", "_", "node", ",", "ipxif", "-", ">", "if", "_", "node", ",", "<nl>", "sizeof", "(", "sipx", "-", ">", "sipx", "_", "node", ")", ")", ";", "<nl>", "-", "rc", "=", "-", "EFAULT", ";", "<nl>", "+", "rc", "=", "0", ";", "<nl>", "if", "(", "copy", "_", "to", "_", "user", "(", "arg", ",", "&", "ifr", ",", "sizeof", "(", "ifr", ")", ")", ")", "<nl>", "-", "break", ";", "<nl>", "+", "rc", "=", "-", "EFAULT", ";", "<nl>", "ipxitf", "_", "put", "(", "ipxif", ")", ";", "<nl>", "-", "rc", "=", "0", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "case", "SIOCAIPXITFCRT", ":", "<nl>"], "docstring_tokens": ["ipx", "call", "ipxitf_put", "in", "ioctl", "error", "path"]}
{"code_tokens": ["static", "int", "_", "_", "devinit", "bq20z75", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "<nl>", "INIT", "_", "DELAYED", "_", "WORK", "(", "&", "bq20z75", "_", "device", "-", ">", "work", ",", "bq20z75", "_", "delayed", "_", "work", ")", ";", "<nl>", "<nl>", "+", "bq20z75", "_", "device", "-", ">", "enable", "_", "detection", "=", "true", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "<nl>", "exit", "_", "psupply", ":", "<nl>"], "docstring_tokens": ["bq20z75", "Enable", "detection", "after", "registering"]}
{"code_tokens": ["static", "int", "skge", "_", "xmit", "_", "frame", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "}", "<nl>", "<nl>", "if", "(", "unlikely", "(", "skge", "-", ">", "tx", "_", "avail", "<", "skb", "_", "shinfo", "(", "skb", ")", "-", ">", "nr", "_", "frags", "+", "1", ")", ")", "{", "<nl>", "-", "netif", "_", "stop", "_", "queue", "(", "dev", ")", ";", "<nl>", "-", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "skge", "-", ">", "tx", "_", "lock", ",", "flags", ")", ";", "<nl>", "+", "if", "(", "!", "netif", "_", "stopped", "(", "dev", ")", ")", "{", "<nl>", "+", "netif", "_", "stop", "_", "queue", "(", "dev", ")", ";", "<nl>", "<nl>", "-", "printk", "(", "KERN", "_", "WARNING", "PFX", "\"", "%", "s", ":", "ring", "full", "when", "queue", "awake", "!", "\\", "n", "\"", ",", "<nl>", "-", "dev", "-", ">", "name", ")", ";", "<nl>", "+", "printk", "(", "KERN", "_", "WARNING", "PFX", "\"", "%", "s", ":", "ring", "full", "when", "queue", "awake", "!", "\\", "n", "\"", ",", "<nl>", "+", "dev", "-", ">", "name", ")", ";", "<nl>", "+", "}", "<nl>", "+", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "skge", "-", ">", "tx", "_", "lock", ",", "flags", ")", ";", "<nl>", "return", "NETDEV", "_", "TX", "_", "BUSY", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PATCH", "skge", "get", "rid", "of", "warning", "on", "race"]}
{"code_tokens": ["void", "_", "_", "init", "efi", "_", "enter", "_", "virtual", "_", "mode", "(", "void", ")", "<nl>", "new", "_", "memmap", "=", "krealloc", "(", "new", "_", "memmap", ",", "<nl>", "(", "count", "+", "1", ")", "*", "memmap", ".", "desc", "_", "size", ",", "<nl>", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "new", "_", "memmap", ")", "<nl>", "+", "goto", "err", "_", "out", ";", "<nl>", "+", "<nl>", "memcpy", "(", "new", "_", "memmap", "+", "(", "count", "*", "memmap", ".", "desc", "_", "size", ")", ",", "md", ",", "<nl>", "memmap", ".", "desc", "_", "size", ")", ";", "<nl>", "count", "+", "+", ";", "<nl>", "void", "_", "_", "init", "efi", "_", "enter", "_", "virtual", "_", "mode", "(", "void", ")", "<nl>", "EFI", "_", "VARIABLE", "_", "BOOTSERVICE", "_", "ACCESS", "|", "<nl>", "EFI", "_", "VARIABLE", "_", "RUNTIME", "_", "ACCESS", ",", "<nl>", "0", ",", "NULL", ")", ";", "<nl>", "+", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "+", "err", "_", "out", ":", "<nl>", "+", "pr", "_", "err", "(", "\"", "Error", "reallocating", "memory", ",", "EFI", "runtime", "non", "-", "functional", "!", "\\", "n", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["x86", "efi", "Check", "krealloc", "return", "value"]}
{"code_tokens": ["static", "inline", "int", "pmd", "_", "none", "_", "or", "_", "trans", "_", "huge", "_", "or", "_", "clear", "_", "bad", "(", "pmd", "_", "t", "*", "pmd", ")", "<nl>", "#", "ifdef", "CONFIG", "_", "TRANSPARENT", "_", "HUGEPAGE", "<nl>", "barrier", "(", ")", ";", "<nl>", "#", "endif", "<nl>", "-", "if", "(", "pmd", "_", "none", "(", "pmdval", ")", ")", "<nl>", "+", "if", "(", "pmd", "_", "none", "(", "pmdval", ")", "|", "|", "pmd", "_", "trans", "_", "huge", "(", "pmdval", ")", ")", "<nl>", "return", "1", ";", "<nl>", "if", "(", "unlikely", "(", "pmd", "_", "bad", "(", "pmdval", ")", ")", ")", "{", "<nl>", "-", "if", "(", "!", "pmd", "_", "trans", "_", "huge", "(", "pmdval", ")", ")", "<nl>", "-", "pmd", "_", "clear", "_", "bad", "(", "pmd", ")", ";", "<nl>", "+", "pmd", "_", "clear", "_", "bad", "(", "pmd", ")", ";", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["mm", "Fix", "NULL", "pointer", "dereference", "in", "madvise", "MADV_WILLNEED", "support"]}
{"code_tokens": ["static", "int", "build", "_", "expire", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "xfrm", "_", "state", "*", "x", ",", "int", "hard", ")", "<nl>", "static", "int", "xfrm", "_", "exp", "_", "state", "_", "notify", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "km", "_", "event", "*", "c", ")", "<nl>", "{", "<nl>", "struct", "sk", "_", "buff", "*", "skb", ";", "<nl>", "+", "int", "len", "=", "NLMSG", "_", "LENGTH", "(", "sizeof", "(", "struct", "xfrm", "_", "user", "_", "expire", ")", ")", ";", "<nl>", "<nl>", "-", "/", "*", "fix", "to", "do", "alloc", "using", "NLM", "macros", "*", "/", "<nl>", "-", "skb", "=", "alloc", "_", "skb", "(", "sizeof", "(", "struct", "xfrm", "_", "user", "_", "expire", ")", "+", "16", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "+", "skb", "=", "alloc", "_", "skb", "(", "len", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "if", "(", "skb", "=", "=", "NULL", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["IPSEC", "Use", "NLMSG_LENGTH", "in", "xfrm_exp_state_notify"]}
{"code_tokens": ["static", "int", "_", "_", "bond", "_", "release", "_", "one", "(", "struct", "net", "_", "device", "*", "bond", "_", "dev", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "release", "the", "slave", "from", "its", "bond", "*", "/", "<nl>", "-", "bond", "-", ">", "slave", "_", "cnt", "-", "-", ";", "<nl>", "-", "<nl>", "bond", "_", "sysfs", "_", "slave", "_", "del", "(", "slave", ")", ";", "<nl>", "<nl>", "bond", "_", "upper", "_", "dev", "_", "unlink", "(", "bond", "_", "dev", ",", "slave", "_", "dev", ")", ";", "<nl>", "static", "int", "_", "_", "bond", "_", "release", "_", "one", "(", "struct", "net", "_", "device", "*", "bond", "_", "dev", ",", "<nl>", "<nl>", "unblock", "_", "netpoll", "_", "tx", "(", ")", ";", "<nl>", "synchronize", "_", "rcu", "(", ")", ";", "<nl>", "+", "bond", "-", ">", "slave", "_", "cnt", "-", "-", ";", "<nl>", "<nl>", "if", "(", "!", "bond", "_", "has", "_", "slaves", "(", "bond", ")", ")", "{", "<nl>", "call", "_", "netdevice", "_", "notifiers", "(", "NETDEV", "_", "CHANGEADDR", ",", "bond", "-", ">", "dev", ")", ";", "<nl>"], "docstring_tokens": ["bonding", "fix", "a", "div", "error", "caused", "by", "the", "slave", "release", "path"]}
{"code_tokens": ["static", "int", "pit", "_", "ioport", "_", "read", "(", "struct", "kvm", "_", "io", "_", "device", "*", "this", ",", "<nl>", "return", "-", "EOPNOTSUPP", ";", "<nl>", "<nl>", "addr", "&", "=", "KVM", "_", "PIT", "_", "CHANNEL", "_", "MASK", ";", "<nl>", "+", "if", "(", "addr", "=", "=", "3", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "s", "=", "&", "pit", "_", "state", "-", ">", "channels", "[", "addr", "]", ";", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "pit", "_", "state", "-", ">", "lock", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "PIT", "control", "word", "is", "write", "only"]}
{"code_tokens": ["enum", "atom", "_", "smu11", "_", "syspll", "_", "id", "{", "<nl>", "SMU11", "_", "SYSPLL3", "_", "1", "_", "ID", "=", "6", ",", "<nl>", "}", ";", "<nl>", "<nl>", "-", "<nl>", "enum", "atom", "_", "smu11", "_", "syspll0", "_", "clock", "_", "id", "{", "<nl>", "-", "SMU11", "_", "SYSPLL0", "_", "SOCCLK", "_", "ID", "=", "0", ",", "/", "/", "SOCCLK", "<nl>", "-", "SMU11", "_", "SYSPLL0", "_", "MP0CLK", "_", "ID", "=", "1", ",", "/", "/", "MP0CLK", "<nl>", "-", "SMU11", "_", "SYSPLL0", "_", "DCLK", "_", "ID", "=", "2", ",", "/", "/", "DCLK", "<nl>", "-", "SMU11", "_", "SYSPLL0", "_", "VCLK", "_", "ID", "=", "3", ",", "/", "/", "VCLK", "<nl>", "-", "SMU11", "_", "SYSPLL0", "_", "ECLK", "_", "ID", "=", "4", ",", "/", "/", "ECLK", "<nl>", "+", "SMU11", "_", "SYSPLL0", "_", "ECLK", "_", "ID", "=", "0", ",", "/", "/", "ECLK", "<nl>", "+", "SMU11", "_", "SYSPLL0", "_", "SOCCLK", "_", "ID", "=", "1", ",", "/", "/", "SOCCLK", "<nl>", "+", "SMU11", "_", "SYSPLL0", "_", "MP0CLK", "_", "ID", "=", "2", ",", "/", "/", "MP0CLK", "<nl>", "+", "SMU11", "_", "SYSPLL0", "_", "DCLK", "_", "ID", "=", "3", ",", "/", "/", "DCLK", "<nl>", "+", "SMU11", "_", "SYSPLL0", "_", "VCLK", "_", "ID", "=", "4", ",", "/", "/", "VCLK", "<nl>", "SMU11", "_", "SYSPLL0", "_", "DCEFCLK", "_", "ID", "=", "5", ",", "/", "/", "DCEFCLK", "<nl>", "}", ";", "<nl>", "<nl>", "-", "<nl>", "enum", "atom", "_", "smu11", "_", "syspll1", "_", "0", "_", "clock", "_", "id", "{", "<nl>", "SMU11", "_", "SYSPLL1", "_", "0", "_", "UCLKA", "_", "ID", "=", "0", ",", "/", "/", "UCLK", "_", "a", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["drm", "amdgpu", "correct", "SMU11", "SYSPLL0", "clock", "id", "values"]}
{"code_tokens": ["static", "int", "kbtab", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "intf", ",", "const", "struct", "usb", "_", "device", "_", "id", "*", "i", "<nl>", "return", "0", ";", "<nl>", "<nl>", "fail3", ":", "usb", "_", "free", "_", "urb", "(", "kbtab", "-", ">", "irq", ")", ";", "<nl>", "-", "fail2", ":", "usb", "_", "buffer", "_", "free", "(", "dev", ",", "10", ",", "kbtab", "-", ">", "data", ",", "kbtab", "-", ">", "data", "_", "dma", ")", ";", "<nl>", "+", "fail2", ":", "usb", "_", "buffer", "_", "free", "(", "dev", ",", "8", ",", "kbtab", "-", ">", "data", ",", "kbtab", "-", ">", "data", "_", "dma", ")", ";", "<nl>", "fail1", ":", "input", "_", "free", "_", "device", "(", "input", "_", "dev", ")", ";", "<nl>", "kfree", "(", "kbtab", ")", ";", "<nl>", "return", "error", ";", "<nl>", "static", "void", "kbtab", "_", "disconnect", "(", "struct", "usb", "_", "interface", "*", "intf", ")", "<nl>", "usb", "_", "kill", "_", "urb", "(", "kbtab", "-", ">", "irq", ")", ";", "<nl>", "input", "_", "unregister", "_", "device", "(", "kbtab", "-", ">", "dev", ")", ";", "<nl>", "usb", "_", "free", "_", "urb", "(", "kbtab", "-", ">", "irq", ")", ";", "<nl>", "-", "usb", "_", "buffer", "_", "free", "(", "interface", "_", "to", "_", "usbdev", "(", "intf", ")", ",", "10", ",", "kbtab", "-", ">", "data", ",", "kbtab", "-", ">", "data", "_", "dma", ")", ";", "<nl>", "+", "usb", "_", "buffer", "_", "free", "(", "interface", "_", "to", "_", "usbdev", "(", "intf", ")", ",", "8", ",", "kbtab", "-", ">", "data", ",", "kbtab", "-", ">", "data", "_", "dma", ")", ";", "<nl>", "kfree", "(", "kbtab", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Input", "kbtab", "fix", "incorrect", "size", "parameter", "in", "usb_buffer_free"]}
{"code_tokens": ["void", "snd", "_", "timer", "_", "interrupt", "(", "struct", "snd", "_", "timer", "*", "timer", ",", "unsigned", "long", "ticks", "_", "left", ")", "<nl>", "}", "else", "{", "<nl>", "ti", "-", ">", "flags", "&", "=", "~", "SNDRV", "_", "TIMER", "_", "IFLG", "_", "RUNNING", ";", "<nl>", "if", "(", "-", "-", "timer", "-", ">", "running", ")", "<nl>", "-", "list", "_", "del", "(", "&", "ti", "-", ">", "active", "_", "list", ")", ";", "<nl>", "+", "list", "_", "del", "_", "init", "(", "&", "ti", "-", ">", "active", "_", "list", ")", ";", "<nl>", "}", "<nl>", "if", "(", "(", "timer", "-", ">", "hw", ".", "flags", "&", "SNDRV", "_", "TIMER", "_", "HW", "_", "TASKLET", ")", "|", "|", "<nl>", "(", "ti", "-", ">", "flags", "&", "SNDRV", "_", "TIMER", "_", "IFLG", "_", "FAST", ")", ")", "<nl>"], "docstring_tokens": ["ALSA", "timer", "Fix", "double", "unlink", "of", "active_list"]}
{"code_tokens": ["BOOL", "ROUTEbRelay", "(", "PSDevice", "pDevice", ",", "PBYTE", "pbySkbData", ",", "UINT", "uDataLen", ",", "UINT", "uNodeI", "<nl>", "}", "<nl>", "<nl>", "if", "(", "pDevice", "-", ">", "bEnableHostWEP", ")", "{", "<nl>", "-", "if", "(", "uNodeIndex", ">", "=", "0", ")", "{", "<nl>", "+", "if", "(", "uNodeIndex", "<", "MAX", "_", "NODE", "_", "NUM", "+", "1", ")", "{", "<nl>", "pTransmitKey", "=", "&", "STempKey", ";", "<nl>", "pTransmitKey", "-", ">", "byCipherSuite", "=", "pMgmt", "-", ">", "sNodeDBTable", "[", "uNodeIndex", "]", ".", "byCipherSuite", ";", "<nl>", "pTransmitKey", "-", ">", "dwKeyIndex", "=", "pMgmt", "-", ">", "sNodeDBTable", "[", "uNodeIndex", "]", ".", "dwKeyIndex", ";", "mmm", "drivers", "/", "staging", "/", "vt6656", "/", "rxtx", ".", "c", "<nl>", "BOOL", "ROUTEbRelay", "(", "PSDevice", "pDevice", ",", "PBYTE", "pbySkbData", ",", "UINT", "uDataLen", ",", "UINT", "uNodeI", "<nl>", "}", "<nl>", "<nl>", "if", "(", "pDevice", "-", ">", "bEnableHostWEP", ")", "{", "<nl>", "-", "if", "(", "uNodeIndex", ">", "=", "0", ")", "{", "<nl>", "+", "if", "(", "uNodeIndex", "<", "MAX", "_", "NODE", "_", "NUM", "+", "1", ")", "{", "<nl>", "pTransmitKey", "=", "&", "STempKey", ";", "<nl>", "pTransmitKey", "-", ">", "byCipherSuite", "=", "pMgmt", "-", ">", "sNodeDBTable", "[", "uNodeIndex", "]", ".", "byCipherSuite", ";", "<nl>", "pTransmitKey", "-", ">", "dwKeyIndex", "=", "pMgmt", "-", ">", "sNodeDBTable", "[", "uNodeIndex", "]", ".", "dwKeyIndex", ";", "<nl>", "bRelayPacketSend", "(", "<nl>", "}", "<nl>", "<nl>", "if", "(", "pDevice", "-", ">", "bEnableHostWEP", ")", "{", "<nl>", "-", "if", "(", "uNodeIndex", ">", "=", "0", ")", "{", "<nl>", "+", "if", "(", "uNodeIndex", "<", "MAX", "_", "NODE", "_", "NUM", "+", "1", ")", "{", "<nl>", "pTransmitKey", "=", "&", "STempKey", ";", "<nl>", "pTransmitKey", "-", ">", "byCipherSuite", "=", "pMgmt", "-", ">", "sNodeDBTable", "[", "uNodeIndex", "]", ".", "byCipherSuite", ";", "<nl>", "pTransmitKey", "-", ">", "dwKeyIndex", "=", "pMgmt", "-", ">", "sNodeDBTable", "[", "uNodeIndex", "]", ".", "dwKeyIndex", ";", "<nl>"], "docstring_tokens": ["Staging", "vt6655", "Correct", "unsigned", "bound", "issue"]}
{"code_tokens": ["static", "int", "alc662", "_", "parse", "_", "auto", "_", "config", "(", "struct", "hda", "_", "codec", "*", "codec", ")", "<nl>", "if", "(", "codec", "-", ">", "vendor", "_", "id", "=", "=", "0x10ec0663", ")", "<nl>", "spec", "-", ">", "init", "_", "verbs", "[", "spec", "-", ">", "num", "_", "init", "_", "verbs", "+", "+", "]", "=", "<nl>", "alc663", "_", "auto", "_", "init", "_", "verbs", ";", "<nl>", "+", "<nl>", "+", "err", "=", "alc", "_", "auto", "_", "add", "_", "mic", "_", "boost", "(", "codec", ")", ";", "<nl>", "+", "if", "(", "err", "<", "0", ")", "<nl>", "+", "return", "err", ";", "<nl>", "+", "<nl>", "spec", "-", ">", "mixers", "[", "spec", "-", ">", "num", "_", "mixers", "]", "=", "alc662", "_", "capture", "_", "mixer", ";", "<nl>", "spec", "-", ">", "num", "_", "mixers", "+", "+", ";", "<nl>", "return", "1", ";", "<nl>"], "docstring_tokens": ["ALSA", "hda", "Add", "mic", "boost", "controls", "to", "ALC662", "663", "auto", "configuration"]}
{"code_tokens": ["static", "int", "synpatics", "_", "rmi4", "_", "touchpad", "_", "report", "(", "struct", "synaptics", "_", "rmi4", "_", "data", "*", "pdata", ",", "<nl>", "*", "10", "=", "finger", "present", "but", "data", "may", "not", "be", "accurate", ",", "<nl>", "*", "11", "=", "reserved", "for", "product", "use", ".", "<nl>", "*", "/", "<nl>", "-", "finger", "_", "registers", "=", "(", "fingers", "_", "supported", "+", "3", ")", "/", "4", ";", "<nl>", "+", "finger", "_", "registers", "=", "(", "fingers", "_", "supported", "+", "3", ")", "/", "4", ";", "<nl>", "data", "_", "base", "_", "addr", "=", "rfi", "-", ">", "fn", "_", "desc", ".", "data", "_", "base", "_", "addr", ";", "<nl>", "retval", "=", "synaptics", "_", "rmi4", "_", "i2c", "_", "block", "_", "read", "(", "pdata", ",", "data", "_", "base", "_", "addr", ",", "values", ",", "<nl>", "finger", "_", "registers", ")", ";", "<nl>", "static", "int", "synpatics", "_", "rmi4", "_", "touchpad", "_", "report", "(", "struct", "synaptics", "_", "rmi4", "_", "data", "*", "pdata", ",", "<nl>", "data", "_", "reg", "_", "blk", "_", "size", "=", "rfi", "-", ">", "size", "_", "of", "_", "data", "_", "register", "_", "block", ";", "<nl>", "for", "(", "finger", "=", "0", ";", "finger", "<", "fingers", "_", "supported", ";", "finger", "+", "+", ")", "{", "<nl>", "/", "*", "determine", "which", "data", "byte", "the", "finger", "status", "is", "in", "*", "/", "<nl>", "-", "reg", "=", "finger", "/", "4", ";", "<nl>", "+", "reg", "=", "finger", "/", "4", ";", "<nl>", "/", "*", "bit", "shift", "to", "get", "finger", "'", "s", "status", "*", "/", "<nl>", "finger", "_", "shift", "=", "(", "finger", "%", "4", ")", "*", "2", ";", "<nl>", "finger", "_", "status", "=", "(", "values", "[", "reg", "]", ">", ">", "finger", "_", "shift", ")", "&", "3", ";", "<nl>", "static", "int", "synpatics", "_", "rmi4", "_", "touchpad", "_", "detect", "(", "struct", "synaptics", "_", "rmi4", "_", "data", "*", "pdata", ",", "<nl>", "}", "<nl>", "pdata", "-", ">", "fingers", "_", "supported", "=", "rfi", "-", ">", "num", "_", "of", "_", "data", "_", "points", ";", "<nl>", "/", "*", "Need", "to", "get", "interrupt", "info", "for", "handling", "interrupts", "*", "/", "<nl>", "-", "rfi", "-", ">", "index", "_", "to", "_", "intr", "_", "reg", "=", "(", "interruptcount", "+", "7", ")", "/", "8", ";", "<nl>", "+", "rfi", "-", ">", "index", "_", "to", "_", "intr", "_", "reg", "=", "(", "interruptcount", "+", "7", ")", "/", "8", ";", "<nl>", "if", "(", "rfi", "-", ">", "index", "_", "to", "_", "intr", "_", "reg", "!", "=", "0", ")", "<nl>", "rfi", "-", ">", "index", "_", "to", "_", "intr", "_", "reg", "-", "=", "1", ";", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["Staging", "ste_rmi4", "Add", "space", "around"]}
{"code_tokens": ["static", "struct", "sysfs", "_", "dirent", "*", "sysfs", "_", "new", "_", "dirent", "(", "struct", "sysfs", "_", "dirent", "*", "parent", "_", "sd", ",", "<nl>", "<nl>", "memset", "(", "sd", ",", "0", ",", "sizeof", "(", "*", "sd", ")", ")", ";", "<nl>", "atomic", "_", "set", "(", "&", "sd", "-", ">", "s", "_", "count", ",", "1", ")", ";", "<nl>", "-", "atomic", "_", "set", "(", "&", "sd", "-", ">", "s", "_", "event", ",", "0", ")", ";", "<nl>", "+", "atomic", "_", "set", "(", "&", "sd", "-", ">", "s", "_", "event", ",", "1", ")", ";", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "sd", "-", ">", "s", "_", "children", ")", ";", "<nl>", "list", "_", "add", "(", "&", "sd", "-", ">", "s", "_", "sibling", ",", "&", "parent", "_", "sd", "-", ">", "s", "_", "children", ")", ";", "<nl>", "sd", "-", ">", "s", "_", "element", "=", "element", ";", "<nl>"], "docstring_tokens": ["sysfs", "Make", "poll", "behaviour", "consistent"]}
{"code_tokens": ["static", "struct", "shash", "_", "alg", "alg", "=", "{", "<nl>", ".", "export", "=", "md5", "_", "export", ",", "<nl>", ".", "import", "=", "md5", "_", "import", ",", "<nl>", ".", "descsize", "=", "sizeof", "(", "struct", "md5", "_", "state", ")", ",", "<nl>", "+", ".", "statesize", "=", "sizeof", "(", "struct", "md5", "_", "state", ")", ",", "<nl>", ".", "base", "=", "{", "<nl>", ".", "cra", "_", "name", "=", "\"", "md5", "\"", ",", "<nl>", ".", "cra", "_", "flags", "=", "CRYPTO", "_", "ALG", "_", "TYPE", "_", "SHASH", ",", "<nl>"], "docstring_tokens": ["crypto", "md5", "Set", "statesize"]}
{"code_tokens": ["int", "iwl", "_", "enqueue", "_", "hcmd", "(", "struct", "iwl", "_", "priv", "*", "priv", ",", "struct", "iwl", "_", "host", "_", "cmd", "*", "cmd", ")", "<nl>", "return", "-", "EIO", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "(", "priv", "-", ">", "ucode", "_", "owner", "=", "=", "IWL", "_", "OWNERSHIP", "_", "TM", ")", "&", "&", "<nl>", "+", "!", "(", "cmd", "-", ">", "flags", "&", "CMD", "_", "ON", "_", "DEMAND", ")", ")", "{", "<nl>", "+", "IWL", "_", "DEBUG", "_", "HC", "(", "priv", ",", "\"", "tm", "own", "the", "uCode", ",", "no", "regular", "hcmd", "send", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EIO", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "copy", "_", "size", "=", "sizeof", "(", "out", "_", "cmd", "-", ">", "hdr", ")", ";", "<nl>", "cmd", "_", "size", "=", "sizeof", "(", "out", "_", "cmd", "-", ">", "hdr", ")", ";", "<nl>"], "docstring_tokens": ["iwlagn", "block", "regular", "host", "commands", "if", "driver", "don", "t", "own", "uCode"]}
{"code_tokens": ["static", "int", "_", "_", "key", "_", "instantiate", "_", "and", "_", "link", "(", "struct", "key", "*", "key", ",", "<nl>", "<nl>", "/", "*", "and", "link", "it", "into", "the", "destination", "keyring", "*", "/", "<nl>", "if", "(", "keyring", ")", "{", "<nl>", "-", "set", "_", "bit", "(", "KEY", "_", "FLAG", "_", "KEEP", ",", "&", "key", "-", ">", "flags", ")", ";", "<nl>", "+", "if", "(", "test", "_", "bit", "(", "KEY", "_", "FLAG", "_", "KEEP", ",", "&", "keyring", "-", ">", "flags", ")", ")", "<nl>", "+", "set", "_", "bit", "(", "KEY", "_", "FLAG", "_", "KEEP", ",", "&", "key", "-", ">", "flags", ")", ";", "<nl>", "<nl>", "_", "_", "key", "_", "link", "(", "key", ",", "_", "edit", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["KEYS", "Only", "apply", "KEY_FLAG_KEEP", "to", "a", "key", "if", "a", "parent", "keyring", "has", "it", "set"]}
{"code_tokens": ["static", "int", "scan", "_", "check", "_", "cb", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "buf", "=", "_", "_", "vmalloc", "(", "c", "-", ">", "leb", "_", "size", ",", "GFP", "_", "NOFS", ",", "PAGE", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "!", "buf", ")", "<nl>", "-", "return", "-", "ENOMEM", ";", "<nl>", "-", "<nl>", "/", "*", "<nl>", "*", "After", "an", "unclean", "unmount", ",", "empty", "and", "freeable", "LEBs", "<nl>", "*", "may", "contain", "garbage", "-", "do", "not", "scan", "them", ".", "<nl>", "static", "int", "scan", "_", "check", "_", "cb", "(", "struct", "ubifs", "_", "info", "*", "c", ",", "<nl>", "return", "LPT", "_", "SCAN", "_", "CONTINUE", ";", "<nl>", "}", "<nl>", "<nl>", "+", "buf", "=", "_", "_", "vmalloc", "(", "c", "-", ">", "leb", "_", "size", ",", "GFP", "_", "NOFS", ",", "PAGE", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "buf", ")", "<nl>", "+", "return", "-", "ENOMEM", ";", "<nl>", "+", "<nl>", "sleb", "=", "ubifs", "_", "scan", "(", "c", ",", "lnum", ",", "0", ",", "buf", ",", "0", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "sleb", ")", ")", "{", "<nl>", "ret", "=", "PTR", "_", "ERR", "(", "sleb", ")", ";", "<nl>"], "docstring_tokens": ["ubifs", "Fix", "memory", "leak", "in", "lprobs", "self", "check"]}
{"code_tokens": ["static", "struct", "s3c", "_", "camif", "_", "drvdata", "s3c6410", "_", "camif", "_", "drvdata", "=", "{", "<nl>", ".", "bus", "_", "clk", "_", "freq", "=", "133000000UL", ",", "<nl>", "}", ";", "<nl>", "<nl>", "-", "static", "struct", "platform", "_", "device", "_", "id", "s3c", "_", "camif", "_", "driver", "_", "ids", "[", "]", "=", "{", "<nl>", "+", "static", "const", "struct", "platform", "_", "device", "_", "id", "s3c", "_", "camif", "_", "driver", "_", "ids", "[", "]", "=", "{", "<nl>", "{", "<nl>", ".", "name", "=", "\"", "s3c2440", "-", "camif", "\"", ",", "<nl>", ".", "driver", "_", "data", "=", "(", "unsigned", "long", ")", "&", "s3c244x", "_", "camif", "_", "drvdata", ",", "<nl>"], "docstring_tokens": ["media", "media", "platform", "s3c", "camif", "Constify", "platform_device_id"]}
{"code_tokens": ["int", "shpchp", "_", "debug", ";", "<nl>", "int", "shpchp", "_", "poll", "_", "mode", ";", "<nl>", "int", "shpchp", "_", "poll", "_", "time", ";", "<nl>", "+", "int", "shpchp", "_", "slot", "_", "with", "_", "bus", ";", "<nl>", "struct", "workqueue", "_", "struct", "*", "shpchp", "_", "wq", ";", "<nl>", "<nl>", "#", "define", "DRIVER", "_", "VERSION", "\"", "0", ".", "4", "\"", "<nl>", "MODULE", "_", "LICENSE", "(", "\"", "GPL", "\"", ")", ";", "<nl>", "module", "_", "param", "(", "shpchp", "_", "debug", ",", "bool", ",", "0644", ")", ";", "<nl>", "module", "_", "param", "(", "shpchp", "_", "poll", "_", "mode", ",", "bool", ",", "0644", ")", ";", "<nl>", "module", "_", "param", "(", "shpchp", "_", "poll", "_", "time", ",", "int", ",", "0644", ")", ";", "<nl>", "+", "module", "_", "param", "(", "shpchp", "_", "slot", "_", "with", "_", "bus", ",", "bool", ",", "0644", ")", ";", "<nl>", "MODULE", "_", "PARM", "_", "DESC", "(", "shpchp", "_", "debug", ",", "\"", "Debugging", "mode", "enabled", "or", "not", "\"", ")", ";", "<nl>", "MODULE", "_", "PARM", "_", "DESC", "(", "shpchp", "_", "poll", "_", "mode", ",", "\"", "Using", "polling", "mechanism", "for", "hot", "-", "plug", "events", "or", "not", "\"", ")", ";", "<nl>", "MODULE", "_", "PARM", "_", "DESC", "(", "shpchp", "_", "poll", "_", "time", ",", "\"", "Polling", "mechanism", "frequency", ",", "in", "seconds", "\"", ")", ";", "<nl>", "+", "MODULE", "_", "PARM", "_", "DESC", "(", "shpchp", "_", "slot", "_", "with", "_", "bus", ",", "\"", "Use", "bus", "number", "in", "the", "slot", "name", "\"", ")", ";", "<nl>", "<nl>", "#", "define", "SHPC", "_", "MODULE", "_", "NAME", "\"", "shpchp", "\"", "<nl>", "<nl>", "static", "void", "release", "_", "slot", "(", "struct", "hotplug", "_", "slot", "*", "hotplug", "_", "slot", ")", "<nl>", "<nl>", "static", "void", "make", "_", "slot", "_", "name", "(", "struct", "slot", "*", "slot", ")", "<nl>", "{", "<nl>", "-", "snprintf", "(", "slot", "-", ">", "hotplug", "_", "slot", "-", ">", "name", ",", "SLOT", "_", "NAME", "_", "SIZE", ",", "\"", "%", "04d", "_", "%", "04d", "\"", ",", "<nl>", "-", "slot", "-", ">", "bus", ",", "slot", "-", ">", "number", ")", ";", "<nl>", "+", "if", "(", "shpchp", "_", "slot", "_", "with", "_", "bus", ")", "<nl>", "+", "snprintf", "(", "slot", "-", ">", "hotplug", "_", "slot", "-", ">", "name", ",", "SLOT", "_", "NAME", "_", "SIZE", ",", "\"", "%", "04d", "_", "%", "04d", "\"", ",", "<nl>", "+", "slot", "-", ">", "bus", ",", "slot", "-", ">", "number", ")", ";", "<nl>", "+", "else", "<nl>", "+", "snprintf", "(", "slot", "-", ">", "hotplug", "_", "slot", "-", ">", "name", ",", "SLOT", "_", "NAME", "_", "SIZE", ",", "\"", "%", "d", "\"", ",", "<nl>", "+", "slot", "-", ">", "number", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "init", "_", "slots", "(", "struct", "controller", "*", "ctrl", ")", "<nl>"], "docstring_tokens": ["shpchp", "fix", "slot", "name"]}
{"code_tokens": ["static", "int", "route4", "_", "change", "(", "struct", "net", "*", "net", ",", "struct", "sk", "_", "buff", "*", "in", "_", "skb", ",", "<nl>", "fp", "=", "&", "b", "-", ">", "ht", "[", "h", "]", ";", "<nl>", "for", "(", "pfp", "=", "rtnl", "_", "dereference", "(", "*", "fp", ")", ";", "pfp", ";", "<nl>", "fp", "=", "&", "pfp", "-", ">", "next", ",", "pfp", "=", "rtnl", "_", "dereference", "(", "*", "fp", ")", ")", "{", "<nl>", "-", "if", "(", "pfp", "=", "=", "f", ")", "{", "<nl>", "-", "*", "fp", "=", "f", "-", ">", "next", ";", "<nl>", "+", "if", "(", "pfp", "=", "=", "fold", ")", "{", "<nl>", "+", "rcu", "_", "assign", "_", "pointer", "(", "*", "fp", ",", "fold", "-", ">", "next", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["net_sched", "cls_route", "remove", "the", "right", "filter", "from", "hashtable"]}
{"code_tokens": ["static", "void", "s5pcsis", "_", "log", "_", "counters", "(", "struct", "csis", "_", "state", "*", "state", ",", "bool", "non", "_", "errors", ")", "<nl>", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "state", "-", ">", "slock", ",", "flags", ")", ";", "<nl>", "<nl>", "-", "for", "(", "i", "-", "-", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "<nl>", "-", "if", "(", "state", "-", ">", "events", "[", "i", "]", ".", "counter", ">", "=", "0", ")", "<nl>", "+", "for", "(", "i", "-", "-", ";", "i", ">", "=", "0", ";", "i", "-", "-", ")", "{", "<nl>", "+", "if", "(", "state", "-", ">", "events", "[", "i", "]", ".", "counter", ">", "0", "|", "|", "debug", ")", "<nl>", "v4l2", "_", "info", "(", "&", "state", "-", ">", "sd", ",", "\"", "%", "s", "events", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "state", "-", ">", "events", "[", "i", "]", ".", "name", ",", "<nl>", "state", "-", ">", "events", "[", "i", "]", ".", "counter", ")", ";", "<nl>", "-", "<nl>", "+", "}", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "state", "-", ">", "slock", ",", "flags", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["media", "s5p", "csis", "Correct", "the", "event", "counters", "logging"]}
{"code_tokens": ["static", "int", "ax25", "_", "recvmsg", "(", "struct", "kiocb", "*", "iocb", ",", "struct", "socket", "*", "sock", ",", "<nl>", "ax25", "_", "address", "src", ";", "<nl>", "const", "unsigned", "char", "*", "mac", "=", "skb", "_", "mac", "_", "header", "(", "skb", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "sax", ",", "0", ",", "sizeof", "(", "struct", "full", "_", "sockaddr", "_", "ax25", ")", ")", ";", "<nl>", "ax25", "_", "addr", "_", "parse", "(", "mac", "+", "1", ",", "skb", "-", ">", "data", "-", "mac", "-", "1", ",", "&", "src", ",", "NULL", ",", "<nl>", "&", "digi", ",", "NULL", ",", "NULL", ")", ";", "<nl>", "sax", "-", ">", "sax25", "_", "family", "=", "AF", "_", "AX25", ";", "<nl>"], "docstring_tokens": ["ax25", "fix", "info", "leak", "via", "msg_name", "in", "ax25_recvmsg"]}
{"code_tokens": ["static", "const", "struct", "clock", "_", "event", "_", "device", "xen", "_", "vcpuop", "_", "clockevent", "=", "{", "<nl>", "<nl>", "static", "const", "struct", "clock", "_", "event", "_", "device", "*", "xen", "_", "clockevent", "=", "<nl>", "&", "xen", "_", "timerop", "_", "clockevent", ";", "<nl>", "-", "static", "DEFINE", "_", "PER", "_", "CPU", "(", "struct", "clock", "_", "event", "_", "device", ",", "xen", "_", "clock", "_", "events", ")", ";", "<nl>", "+", "static", "DEFINE", "_", "PER", "_", "CPU", "(", "struct", "clock", "_", "event", "_", "device", ",", "xen", "_", "clock", "_", "events", ")", "=", "{", ".", "irq", "=", "-", "1", "}", ";", "<nl>", "<nl>", "static", "irqreturn", "_", "t", "xen", "_", "timer", "_", "interrupt", "(", "int", "irq", ",", "void", "*", "dev", "_", "id", ")", "<nl>", "{", "<nl>", "void", "xen", "_", "setup", "_", "timer", "(", "int", "cpu", ")", "<nl>", "struct", "clock", "_", "event", "_", "device", "*", "evt", ";", "<nl>", "int", "irq", ";", "<nl>", "<nl>", "+", "evt", "=", "&", "per", "_", "cpu", "(", "xen", "_", "clock", "_", "events", ",", "cpu", ")", ";", "<nl>", "+", "WARN", "(", "evt", "-", ">", "irq", ">", "=", "0", ",", "\"", "IRQ", "%", "d", "for", "CPU", "%", "d", "is", "already", "allocated", "\\", "n", "\"", ",", "evt", "-", ">", "irq", ",", "cpu", ")", ";", "<nl>", "+", "<nl>", "printk", "(", "KERN", "_", "INFO", "\"", "installing", "Xen", "timer", "for", "CPU", "%", "d", "\\", "n", "\"", ",", "cpu", ")", ";", "<nl>", "<nl>", "name", "=", "kasprintf", "(", "GFP", "_", "KERNEL", ",", "\"", "timer", "%", "d", "\"", ",", "cpu", ")", ";", "<nl>", "void", "xen", "_", "setup", "_", "timer", "(", "int", "cpu", ")", "<nl>", "IRQF", "_", "FORCE", "_", "RESUME", ",", "<nl>", "name", ",", "NULL", ")", ";", "<nl>", "<nl>", "-", "evt", "=", "&", "per", "_", "cpu", "(", "xen", "_", "clock", "_", "events", ",", "cpu", ")", ";", "<nl>", "memcpy", "(", "evt", ",", "xen", "_", "clockevent", ",", "sizeof", "(", "*", "evt", ")", ")", ";", "<nl>", "<nl>", "evt", "-", ">", "cpumask", "=", "cpumask", "_", "of", "(", "cpu", ")", ";", "<nl>", "void", "xen", "_", "teardown", "_", "timer", "(", "int", "cpu", ")", "<nl>", "BUG", "_", "ON", "(", "cpu", "=", "=", "0", ")", ";", "<nl>", "evt", "=", "&", "per", "_", "cpu", "(", "xen", "_", "clock", "_", "events", ",", "cpu", ")", ";", "<nl>", "unbind", "_", "from", "_", "irqhandler", "(", "evt", "-", ">", "irq", ",", "NULL", ")", ";", "<nl>", "+", "evt", "-", ">", "irq", "=", "-", "1", ";", "<nl>", "}", "<nl>", "<nl>", "void", "xen", "_", "setup", "_", "cpu", "_", "clockevents", "(", "void", ")", "<nl>"], "docstring_tokens": ["xen", "time", "Add", "default", "value", "of", "1", "for", "IRQ", "and", "check", "for", "that"]}
{"code_tokens": ["void", "sst", "_", "dsp", "_", "dma", "_", "put", "_", "channel", "(", "struct", "sst", "_", "dsp", "*", "dsp", ")", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "sst", "_", "dsp", "_", "dma", "_", "put", "_", "channel", ")", ";", "<nl>", "<nl>", "-", "int", "sst", "_", "dma", "_", "new", "(", "struct", "sst", "_", "dsp", "*", "sst", ")", "<nl>", "+", "static", "int", "sst", "_", "dma", "_", "new", "(", "struct", "sst", "_", "dsp", "*", "sst", ")", "<nl>", "{", "<nl>", "struct", "sst", "_", "pdata", "*", "sst", "_", "pdata", "=", "sst", "-", ">", "pdata", ";", "<nl>", "struct", "sst", "_", "dma", "*", "dma", ";", "<nl>", "int", "sst", "_", "dma", "_", "new", "(", "struct", "sst", "_", "dsp", "*", "sst", ")", "<nl>", "devm", "_", "kfree", "(", "sst", "-", ">", "dev", ",", "dma", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "-", "EXPORT", "_", "SYMBOL", "(", "sst", "_", "dma", "_", "new", ")", ";", "<nl>", "<nl>", "-", "void", "sst", "_", "dma", "_", "free", "(", "struct", "sst", "_", "dma", "*", "dma", ")", "<nl>", "+", "static", "void", "sst", "_", "dma", "_", "free", "(", "struct", "sst", "_", "dma", "*", "dma", ")", "<nl>", "{", "<nl>", "<nl>", "if", "(", "dma", "=", "=", "NULL", ")", "<nl>", "void", "sst", "_", "dma", "_", "free", "(", "struct", "sst", "_", "dma", "*", "dma", ")", "<nl>", "dw", "_", "remove", "(", "dma", "-", ">", "chip", ")", ";", "<nl>", "<nl>", "}", "<nl>", "-", "EXPORT", "_", "SYMBOL", "(", "sst", "_", "dma", "_", "free", ")", ";", "<nl>", "<nl>", "/", "*", "create", "new", "generic", "firmware", "object", "*", "/", "<nl>", "struct", "sst", "_", "fw", "*", "sst", "_", "fw", "_", "new", "(", "struct", "sst", "_", "dsp", "*", "dsp", ",", "<nl>"], "docstring_tokens": ["ASoC", "Intel", "common", "make", "sst_dma", "functions", "static"]}
{"code_tokens": ["void", "btrfs", "_", "destroy", "_", "workqueue", "(", "struct", "btrfs", "_", "workqueue", "*", "wq", ")", "<nl>", "if", "(", "wq", "-", ">", "high", ")", "<nl>", "_", "_", "btrfs", "_", "destroy", "_", "workqueue", "(", "wq", "-", ">", "high", ")", ";", "<nl>", "_", "_", "btrfs", "_", "destroy", "_", "workqueue", "(", "wq", "-", ">", "normal", ")", ";", "<nl>", "+", "kfree", "(", "wq", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "btrfs", "_", "workqueue", "_", "set", "_", "max", "(", "struct", "btrfs", "_", "workqueue", "*", "wq", ",", "int", "max", ")", "<nl>"], "docstring_tokens": ["Btrfs", "add", "missing", "kfree", "in", "btrfs_destroy_workqueue"]}
{"code_tokens": ["static", "int", "annotate", "_", "browser", "_", "_", "run", "(", "struct", "annotate", "_", "browser", "*", "self", ",", "int", "evidx", ",", "<nl>", "nd", "=", "self", "-", ">", "curr", "_", "hot", ";", "<nl>", "break", ";", "<nl>", "case", "'", "H", "'", ":", "<nl>", "+", "case", "'", "h", "'", ":", "<nl>", "nd", "=", "self", "-", ">", "curr", "_", "hot", ";", "<nl>", "break", ";", "<nl>", "case", "'", "S", "'", ":", "<nl>", "+", "case", "'", "s", "'", ":", "<nl>", "if", "(", "annotate", "_", "browser", "_", "_", "toggle", "_", "source", "(", "self", ")", ")", "<nl>", "ui", "_", "helpline", "_", "_", "puts", "(", "help", ")", ";", "<nl>", "continue", ";", "<nl>"], "docstring_tokens": ["perf", "annotate", "Handle", "lower", "case", "key", "code", "in", "annotate_browser__run"]}
{"code_tokens": ["static", "int", "loop", "_", "set", "_", "fd", "(", "struct", "loop", "_", "device", "*", "lo", ",", "fmode", "_", "t", "mode", ",", "<nl>", "<nl>", "bio", "_", "list", "_", "init", "(", "&", "lo", "-", ">", "lo", "_", "bio", "_", "list", ")", ";", "<nl>", "<nl>", "-", "/", "*", "<nl>", "-", "*", "set", "queue", "make", "_", "request", "_", "fn", ",", "and", "add", "limits", "based", "on", "lower", "level", "<nl>", "-", "*", "device", "<nl>", "-", "*", "/", "<nl>", "-", "blk", "_", "queue", "_", "make", "_", "request", "(", "lo", "-", ">", "lo", "_", "queue", ",", "loop", "_", "make", "_", "request", ")", ";", "<nl>", "-", "lo", "-", ">", "lo", "_", "queue", "-", ">", "queuedata", "=", "lo", ";", "<nl>", "-", "<nl>", "if", "(", "!", "(", "lo", "_", "flags", "&", "LO", "_", "FLAGS", "_", "READ", "_", "ONLY", ")", "&", "&", "file", "-", ">", "f", "_", "op", "-", ">", "fsync", ")", "<nl>", "blk", "_", "queue", "_", "flush", "(", "lo", "-", ">", "lo", "_", "queue", ",", "REQ", "_", "FLUSH", ")", ";", "<nl>", "<nl>", "static", "int", "loop", "_", "add", "(", "struct", "loop", "_", "device", "*", "*", "l", ",", "int", "i", ")", "<nl>", "if", "(", "!", "lo", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "+", "lo", "-", ">", "lo", "_", "state", "=", "Lo", "_", "unbound", ";", "<nl>", "+", "<nl>", "/", "*", "allocate", "id", ",", "if", "@", "id", ">", "=", "0", ",", "we", "'", "re", "requesting", "that", "specific", "id", "*", "/", "<nl>", "if", "(", "i", ">", "=", "0", ")", "{", "<nl>", "err", "=", "idr", "_", "alloc", "(", "&", "loop", "_", "index", "_", "idr", ",", "lo", ",", "i", ",", "i", "+", "1", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "static", "int", "loop", "_", "add", "(", "struct", "loop", "_", "device", "*", "*", "l", ",", "int", "i", ")", "<nl>", "if", "(", "!", "lo", "-", ">", "lo", "_", "queue", ")", "<nl>", "goto", "out", "_", "free", "_", "idr", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "set", "queue", "make", "_", "request", "_", "fn", "<nl>", "+", "*", "/", "<nl>", "+", "blk", "_", "queue", "_", "make", "_", "request", "(", "lo", "-", ">", "lo", "_", "queue", ",", "loop", "_", "make", "_", "request", ")", ";", "<nl>", "+", "lo", "-", ">", "lo", "_", "queue", "-", ">", "queuedata", "=", "lo", ";", "<nl>", "+", "<nl>", "disk", "=", "lo", "-", ">", "lo", "_", "disk", "=", "alloc", "_", "disk", "(", "1", "<", "<", "part", "_", "shift", ")", ";", "<nl>", "if", "(", "!", "disk", ")", "<nl>", "goto", "out", "_", "free", "_", "queue", ";", "<nl>"], "docstring_tokens": ["loop", "fix", "crash", "when", "using", "unassigned", "loop", "device"]}
{"code_tokens": ["static", "inline", "bool", "nested", "_", "cpu", "_", "has", "_", "posted", "_", "intr", "(", "struct", "vmcs12", "*", "vmcs12", ")", "<nl>", "return", "vmcs12", "-", ">", "pin", "_", "based", "_", "vm", "_", "exec", "_", "control", "&", "PIN", "_", "BASED", "_", "POSTED", "_", "INTR", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "inline", "bool", "is", "_", "exception", "(", "u32", "intr", "_", "info", ")", "<nl>", "+", "static", "inline", "bool", "is", "_", "nmi", "(", "u32", "intr", "_", "info", ")", "<nl>", "{", "<nl>", "return", "(", "intr", "_", "info", "&", "(", "INTR", "_", "INFO", "_", "INTR", "_", "TYPE", "_", "MASK", "|", "INTR", "_", "INFO", "_", "VALID", "_", "MASK", ")", ")", "<nl>", "-", "=", "=", "(", "INTR", "_", "TYPE", "_", "HARD", "_", "EXCEPTION", "|", "INTR", "_", "INFO", "_", "VALID", "_", "MASK", ")", ";", "<nl>", "+", "=", "=", "(", "INTR", "_", "TYPE", "_", "NMI", "_", "INTR", "|", "INTR", "_", "INFO", "_", "VALID", "_", "MASK", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "nested", "_", "vmx", "_", "vmexit", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "u32", "exit", "_", "reason", ",", "<nl>", "static", "int", "handle", "_", "exception", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "if", "(", "is", "_", "machine", "_", "check", "(", "intr", "_", "info", ")", ")", "<nl>", "return", "handle", "_", "machine", "_", "check", "(", "vcpu", ")", ";", "<nl>", "<nl>", "-", "if", "(", "(", "intr", "_", "info", "&", "INTR", "_", "INFO", "_", "INTR", "_", "TYPE", "_", "MASK", ")", "=", "=", "INTR", "_", "TYPE", "_", "NMI", "_", "INTR", ")", "<nl>", "+", "if", "(", "is", "_", "nmi", "(", "intr", "_", "info", ")", ")", "<nl>", "return", "1", ";", "/", "*", "already", "handled", "by", "vmx", "_", "vcpu", "_", "run", "(", ")", "*", "/", "<nl>", "<nl>", "if", "(", "is", "_", "no", "_", "device", "(", "intr", "_", "info", ")", ")", "{", "<nl>", "static", "bool", "nested", "_", "vmx", "_", "exit", "_", "handled", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "<nl>", "switch", "(", "exit", "_", "reason", ")", "{", "<nl>", "case", "EXIT", "_", "REASON", "_", "EXCEPTION", "_", "NMI", ":", "<nl>", "-", "if", "(", "!", "is", "_", "exception", "(", "intr", "_", "info", ")", ")", "<nl>", "+", "if", "(", "is", "_", "nmi", "(", "intr", "_", "info", ")", ")", "<nl>", "return", "false", ";", "<nl>", "else", "if", "(", "is", "_", "page", "_", "fault", "(", "intr", "_", "info", ")", ")", "<nl>", "return", "enable", "_", "ept", ";", "<nl>", "static", "void", "vmx", "_", "complete", "_", "atomic", "_", "exit", "(", "struct", "vcpu", "_", "vmx", "*", "vmx", ")", "<nl>", "kvm", "_", "machine", "_", "check", "(", ")", ";", "<nl>", "<nl>", "/", "*", "We", "need", "to", "handle", "NMIs", "before", "interrupts", "are", "enabled", "*", "/", "<nl>", "-", "if", "(", "(", "exit", "_", "intr", "_", "info", "&", "INTR", "_", "INFO", "_", "INTR", "_", "TYPE", "_", "MASK", ")", "=", "=", "INTR", "_", "TYPE", "_", "NMI", "_", "INTR", "&", "&", "<nl>", "-", "(", "exit", "_", "intr", "_", "info", "&", "INTR", "_", "INFO", "_", "VALID", "_", "MASK", ")", ")", "{", "<nl>", "+", "if", "(", "is", "_", "nmi", "(", "exit", "_", "intr", "_", "info", ")", ")", "{", "<nl>", "kvm", "_", "before", "_", "handle", "_", "nmi", "(", "&", "vmx", "-", ">", "vcpu", ")", ";", "<nl>", "asm", "(", "\"", "int", "$", "2", "\"", ")", ";", "<nl>", "kvm", "_", "after", "_", "handle", "_", "nmi", "(", "&", "vmx", "-", ">", "vcpu", ")", ";", "<nl>"], "docstring_tokens": ["kvm", "nVMX", "Allow", "L1", "to", "intercept", "software", "exceptions", "BP", "and", "OF"]}
{"code_tokens": ["static", "int", "raw", "_", "cmd", "_", "copyin", "(", "int", "cmd", ",", "void", "_", "_", "user", "*", "param", ",", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "*", "rcmd", "=", "ptr", ";", "<nl>", "ret", "=", "copy", "_", "from", "_", "user", "(", "ptr", ",", "param", ",", "sizeof", "(", "*", "ptr", ")", ")", ";", "<nl>", "-", "if", "(", "ret", ")", "<nl>", "-", "return", "-", "EFAULT", ";", "<nl>", "ptr", "-", ">", "next", "=", "NULL", ";", "<nl>", "ptr", "-", ">", "buffer", "_", "length", "=", "0", ";", "<nl>", "+", "ptr", "-", ">", "kernel", "_", "data", "=", "NULL", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "return", "-", "EFAULT", ";", "<nl>", "param", "+", "=", "sizeof", "(", "struct", "floppy", "_", "raw", "_", "cmd", ")", ";", "<nl>", "if", "(", "ptr", "-", ">", "cmd", "_", "count", ">", "33", ")", "<nl>", "/", "*", "the", "command", "may", "now", "also", "take", "up", "the", "space", "<nl>", "static", "int", "raw", "_", "cmd", "_", "copyin", "(", "int", "cmd", ",", "void", "_", "_", "user", "*", "param", ",", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "16", ";", "i", "+", "+", ")", "<nl>", "ptr", "-", ">", "reply", "[", "i", "]", "=", "0", ";", "<nl>", "ptr", "-", ">", "resultcode", "=", "0", ";", "<nl>", "-", "ptr", "-", ">", "kernel", "_", "data", "=", "NULL", ";", "<nl>", "<nl>", "if", "(", "ptr", "-", ">", "flags", "&", "(", "FD", "_", "RAW", "_", "READ", "|", "FD", "_", "RAW", "_", "WRITE", ")", ")", "{", "<nl>", "if", "(", "ptr", "-", ">", "length", "<", "=", "0", ")", "<nl>"], "docstring_tokens": ["floppy", "ignore", "kernel", "only", "members", "in", "FDRAWCMD", "ioctl", "input"]}
{"code_tokens": ["cld", "_", "pipe", "_", "downcall", "(", "struct", "file", "*", "filp", ",", "const", "char", "_", "_", "user", "*", "src", ",", "size", "_", "t", "mlen", ")", "<nl>", "struct", "cld", "_", "upcall", "*", "tmp", ",", "*", "cup", ";", "<nl>", "struct", "cld", "_", "msg", "_", "_", "user", "*", "cmsg", "=", "(", "struct", "cld", "_", "msg", "_", "_", "user", "*", ")", "src", ";", "<nl>", "uint32", "_", "t", "xid", ";", "<nl>", "-", "struct", "nfsd", "_", "net", "*", "nn", "=", "net", "_", "generic", "(", "filp", "-", ">", "f", "_", "dentry", "-", ">", "d", "_", "sb", "-", ">", "s", "_", "fs", "_", "info", ",", "<nl>", "+", "struct", "nfsd", "_", "net", "*", "nn", "=", "net", "_", "generic", "(", "file", "_", "inode", "(", "filp", ")", "-", ">", "i", "_", "sb", "-", ">", "s", "_", "fs", "_", "info", ",", "<nl>", "nfsd", "_", "net", "_", "id", ")", ";", "<nl>", "struct", "cld", "_", "net", "*", "cn", "=", "nn", "-", ">", "cld", "_", "net", ";", "<nl>"], "docstring_tokens": ["nfsd", "get", "rid", "of", "f_dentry"]}
{"code_tokens": ["static", "int", "hpsa", "_", "eh", "_", "device", "_", "reset", "_", "handler", "(", "struct", "scsi", "_", "cmnd", "*", "scsicmd", ")", "<nl>", "return", "FAILED", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "dev", "-", ">", "devtype", "=", "=", "TYPE", "_", "ENCLOSURE", ")", "<nl>", "+", "return", "SUCCESS", ";", "<nl>", "+", "<nl>", "/", "*", "if", "controller", "locked", "up", ",", "we", "can", "guarantee", "command", "won", "'", "t", "complete", "*", "/", "<nl>", "if", "(", "lockup", "_", "detected", "(", "h", ")", ")", "{", "<nl>", "snprintf", "(", "msg", ",", "sizeof", "(", "msg", ")", ",", "<nl>"], "docstring_tokens": ["scsi", "hpsa", "do", "not", "reset", "enclosures"]}
{"code_tokens": ["static", "void", "alc889", "_", "fixup", "_", "dac", "_", "route", "(", "struct", "hda", "_", "codec", "*", "codec", ",", "<nl>", "const", "struct", "alc", "_", "fixup", "*", "fix", ",", "int", "action", ")", "<nl>", "{", "<nl>", "if", "(", "action", "=", "=", "ALC", "_", "FIXUP", "_", "ACT", "_", "PRE", "_", "PROBE", ")", "{", "<nl>", "+", "/", "*", "fake", "the", "connections", "during", "parsing", "the", "tree", "*", "/", "<nl>", "hda", "_", "nid", "_", "t", "conn1", "[", "2", "]", "=", "{", "0x0c", ",", "0x0d", "}", ";", "<nl>", "hda", "_", "nid", "_", "t", "conn2", "[", "2", "]", "=", "{", "0x0e", ",", "0x0f", "}", ";", "<nl>", "snd", "_", "hda", "_", "override", "_", "conn", "_", "list", "(", "codec", ",", "0x14", ",", "2", ",", "conn1", ")", ";", "<nl>", "snd", "_", "hda", "_", "override", "_", "conn", "_", "list", "(", "codec", ",", "0x15", ",", "2", ",", "conn1", ")", ";", "<nl>", "snd", "_", "hda", "_", "override", "_", "conn", "_", "list", "(", "codec", ",", "0x18", ",", "2", ",", "conn2", ")", ";", "<nl>", "snd", "_", "hda", "_", "override", "_", "conn", "_", "list", "(", "codec", ",", "0x1a", ",", "2", ",", "conn2", ")", ";", "<nl>", "+", "}", "else", "if", "(", "action", "=", "=", "ALC", "_", "FIXUP", "_", "ACT", "_", "PROBE", ")", "{", "<nl>", "+", "/", "*", "restore", "the", "connections", "*", "/", "<nl>", "+", "hda", "_", "nid", "_", "t", "conn", "[", "5", "]", "=", "{", "0x0c", ",", "0x0d", ",", "0x0e", ",", "0x0f", ",", "0x26", "}", ";", "<nl>", "+", "snd", "_", "hda", "_", "override", "_", "conn", "_", "list", "(", "codec", ",", "0x14", ",", "5", ",", "conn", ")", ";", "<nl>", "+", "snd", "_", "hda", "_", "override", "_", "conn", "_", "list", "(", "codec", ",", "0x15", ",", "5", ",", "conn", ")", ";", "<nl>", "+", "snd", "_", "hda", "_", "override", "_", "conn", "_", "list", "(", "codec", ",", "0x18", ",", "5", ",", "conn", ")", ";", "<nl>", "+", "snd", "_", "hda", "_", "override", "_", "conn", "_", "list", "(", "codec", ",", "0x1a", ",", "5", ",", "conn", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "hda", "realtek", "Fix", "surround", "output", "regression", "on", "Acer", "Aspire", "5935"]}
{"code_tokens": ["void", "do", "_", "exit", "(", "long", "code", ")", "<nl>", "<nl>", "module", "_", "put", "(", "task", "_", "thread", "_", "info", "(", "tsk", ")", "-", ">", "exec", "_", "domain", "-", ">", "module", ")", ";", "<nl>", "<nl>", "-", "proc", "_", "exit", "_", "connector", "(", "tsk", ")", ";", "<nl>", "/", "*", "<nl>", "*", "FIXME", ":", "do", "that", "only", "when", "needed", ",", "using", "sched", "_", "exit", "tracepoint", "<nl>", "*", "/", "<nl>", "flush", "_", "ptrace", "_", "hw", "_", "breakpoint", "(", "tsk", ")", ";", "<nl>", "<nl>", "exit", "_", "notify", "(", "tsk", ",", "group", "_", "dead", ")", ";", "<nl>", "+", "proc", "_", "exit", "_", "connector", "(", "tsk", ")", ";", "<nl>", "#", "ifdef", "CONFIG", "_", "NUMA", "<nl>", "task", "_", "lock", "(", "tsk", ")", ";", "<nl>", "mpol", "_", "put", "(", "tsk", "-", ">", "mempolicy", ")", ";", "<nl>"], "docstring_tokens": ["kernel", "exit", "c", "call", "proc_exit_connector", "after", "exit_state", "is", "set"]}
{"code_tokens": ["static", "struct", "comedi", "_", "driver", "das16", "_", "driver", "=", "{", "<nl>", "module", "_", "comedi", "_", "driver", "(", "das16", "_", "driver", ")", ";", "<nl>", "<nl>", "MODULE", "_", "AUTHOR", "(", "\"", "Comedi", "http", ":", "/", "/", "www", ".", "comedi", ".", "org", "\"", ")", ";", "<nl>", "-", "MODULE", "_", "DESCRIPTION", "(", "\"", "Comedi", "low", "-", "level", "driver", "\"", ")", ";", "<nl>", "+", "MODULE", "_", "DESCRIPTION", "(", "\"", "Comedi", "driver", "for", "DAS16", "compatible", "boards", "\"", ")", ";", "<nl>", "MODULE", "_", "LICENSE", "(", "\"", "GPL", "\"", ")", ";", "<nl>"], "docstring_tokens": ["staging", "comedi", "das16", "change", "MODULE_DESCRIPTION"]}
{"code_tokens": ["int", "hfsplus", "_", "find", "_", "cat", "(", "struct", "super", "_", "block", "*", "sb", ",", "u32", "cnid", ",", "<nl>", "return", "-", "EIO", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "be16", "_", "to", "_", "cpu", "(", "tmp", ".", "thread", ".", "nodeName", ".", "length", ")", ">", "255", ")", "{", "<nl>", "+", "printk", "(", "KERN", "_", "ERR", "\"", "hfs", ":", "catalog", "name", "length", "corrupted", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EIO", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "hfsplus", "_", "cat", "_", "build", "_", "key", "_", "uni", "(", "fd", "-", ">", "search", "_", "key", ",", "be32", "_", "to", "_", "cpu", "(", "tmp", ".", "thread", ".", "parentID", ")", ",", "<nl>", "&", "tmp", ".", "thread", ".", "nodeName", ")", ";", "<nl>", "return", "hfs", "_", "brec", "_", "find", "(", "fd", ")", ";", "<nl>"], "docstring_tokens": ["hfsplus", "fix", "Buffer", "overflow", "with", "a", "corrupted", "image"]}
{"code_tokens": ["static", "int", "dim2", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "-", "dev", "-", ">", "disable", "_", "platform", "=", "pdata", "?", "pdata", "-", ">", "disable", ":", "0", ";", "<nl>", "+", "dev", "-", ">", "disable", "_", "platform", "=", "pdata", "?", "pdata", "-", ">", "disable", ":", "NULL", ";", "<nl>", "<nl>", "dev", "_", "info", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "sync", ":", "num", "of", "frames", "per", "sub", "-", "buffer", ":", "%", "u", "\\", "n", "\"", ",", "fcnt", ")", ";", "<nl>", "hal", "_", "ret", "=", "dim", "_", "startup", "(", "dev", "-", ">", "io", "_", "base", ",", "dev", "-", ">", "clk", "_", "speed", ",", "fcnt", ")", ";", "<nl>"], "docstring_tokens": ["staging", "most", "fix", "sparse", "warning", "Using", "plain", "integer", "as", "NULL", "pointer"]}
{"code_tokens": ["int", "mwifiex", "_", "ret", "_", "802", "_", "11", "_", "scan", "(", "struct", "mwifiex", "_", "private", "*", "priv", ",", "<nl>", "<nl>", "pmatch", "=", "adapter", "-", ">", "nd", "_", "info", "-", ">", "matches", "[", "idx", "]", ";", "<nl>", "<nl>", "-", "if", "(", "!", "pmatch", ")", "{", "<nl>", "+", "if", "(", "pmatch", ")", "{", "<nl>", "memset", "(", "pmatch", ",", "0", ",", "sizeof", "(", "*", "pmatch", ")", ")", ";", "<nl>", "if", "(", "chan", "_", "band", "_", "tlv", ")", "{", "<nl>", "pmatch", "-", ">", "n", "_", "channels", "=", "1", ";", "<nl>"], "docstring_tokens": ["mwifiex", "fix", "a", "reversed", "condition"]}
{"code_tokens": ["static", "void", "sixpack", "_", "close", "(", "struct", "tty", "_", "struct", "*", "tty", ")", "<nl>", "*", "/", "<nl>", "netif", "_", "stop", "_", "queue", "(", "sp", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "+", "unregister", "_", "netdev", "(", "sp", "-", ">", "dev", ")", ";", "<nl>", "+", "<nl>", "del", "_", "timer", "_", "sync", "(", "&", "sp", "-", ">", "tx", "_", "t", ")", ";", "<nl>", "del", "_", "timer", "_", "sync", "(", "&", "sp", "-", ">", "resync", "_", "t", ")", ";", "<nl>", "<nl>", "-", "unregister", "_", "netdev", "(", "sp", "-", ">", "dev", ")", ";", "<nl>", "-", "<nl>", "/", "*", "Free", "all", "6pack", "frame", "buffers", "after", "unreg", ".", "*", "/", "<nl>", "kfree", "(", "sp", "-", ">", "rbuff", ")", ";", "<nl>", "kfree", "(", "sp", "-", ">", "xbuff", ")", ";", "<nl>"], "docstring_tokens": ["drivers", "hamradio", "6pack", "fix", "UAF", "bug", "caused", "by", "mod_timer"]}
{"code_tokens": ["static", "int", "s3c64xx", "_", "setrate", "_", "clksrc", "(", "struct", "clk", "*", "clk", ",", "unsigned", "long", "rate", ")", "<nl>", "<nl>", "rate", "=", "clk", "_", "round", "_", "rate", "(", "clk", ",", "rate", ")", ";", "<nl>", "div", "=", "clk", "_", "get", "_", "rate", "(", "clk", "-", ">", "parent", ")", "/", "rate", ";", "<nl>", "+", "if", "(", "div", ">", "16", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "val", "=", "_", "_", "raw", "_", "readl", "(", "reg", ")", ";", "<nl>", "-", "val", "&", "=", "~", "sclk", "-", ">", "mask", ";", "<nl>", "-", "val", "|", "=", "(", "rate", "-", "1", ")", "<", "<", "sclk", "-", ">", "shift", ";", "<nl>", "+", "val", "&", "=", "~", "(", "0xf", "<", "<", "sclk", "-", ">", "shift", ")", ";", "<nl>", "+", "val", "|", "=", "(", "div", "-", "1", ")", "<", "<", "sclk", "-", ">", "shift", ";", "<nl>", "_", "_", "raw", "_", "writel", "(", "val", ",", "reg", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["ARM", "S3C64XX", "Fix", "s3c64xx_setrate_clksrc"]}
{"code_tokens": ["lpfc", "_", "cleanup", "(", "struct", "lpfc", "_", "vport", "*", "vport", ")", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "take", "care", "of", "nodes", "in", "unused", "state", "before", "the", "state", "<nl>", "+", "*", "machine", "taking", "action", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "ndlp", "-", ">", "nlp", "_", "state", "=", "=", "NLP", "_", "STE", "_", "UNUSED", "_", "NODE", ")", "{", "<nl>", "+", "lpfc", "_", "nlp", "_", "put", "(", "ndlp", ")", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "ndlp", "-", ">", "nlp", "_", "type", "&", "NLP", "_", "FABRIC", ")", "<nl>", "lpfc", "_", "disc", "_", "state", "_", "machine", "(", "vport", ",", "ndlp", ",", "NULL", ",", "<nl>", "NLP", "_", "EVT", "_", "DEVICE", "_", "RECOVERY", ")", ";", "<nl>", "<nl>", "lpfc", "_", "disc", "_", "state", "_", "machine", "(", "vport", ",", "ndlp", ",", "NULL", ",", "<nl>", "NLP", "_", "EVT", "_", "DEVICE", "_", "RM", ")", ";", "<nl>", "-", "<nl>", "}", "<nl>", "<nl>", "/", "*", "At", "this", "point", ",", "ALL", "ndlp", "'", "s", "should", "be", "gonemmm", "drivers", "/", "scsi", "/", "lpfc", "/", "lpfc", "_", "hbadisc", ".", "c", "<nl>", "lpfc", "_", "cleanup", "(", "struct", "lpfc", "_", "vport", "*", "vport", ")", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "take", "care", "of", "nodes", "in", "unused", "state", "before", "the", "state", "<nl>", "+", "*", "machine", "taking", "action", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "ndlp", "-", ">", "nlp", "_", "state", "=", "=", "NLP", "_", "STE", "_", "UNUSED", "_", "NODE", ")", "{", "<nl>", "+", "lpfc", "_", "nlp", "_", "put", "(", "ndlp", ")", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "ndlp", "-", ">", "nlp", "_", "type", "&", "NLP", "_", "FABRIC", ")", "<nl>", "lpfc", "_", "disc", "_", "state", "_", "machine", "(", "vport", ",", "ndlp", ",", "NULL", ",", "<nl>", "NLP", "_", "EVT", "_", "DEVICE", "_", "RECOVERY", ")", ";", "<nl>", "<nl>", "lpfc", "_", "disc", "_", "state", "_", "machine", "(", "vport", ",", "ndlp", ",", "NULL", ",", "<nl>", "NLP", "_", "EVT", "_", "DEVICE", "_", "RM", ")", ";", "<nl>", "-", "<nl>", "}", "<nl>", "<nl>", "/", "*", "At", "this", "point", ",", "ALL", "ndlp", "'", "s", "should", "be", "gone", "<nl>", "lpfc", "_", "filter", "_", "by", "_", "rpi", "(", "struct", "lpfc", "_", "nodelist", "*", "ndlp", ",", "void", "*", "param", ")", "<nl>", "{", "<nl>", "uint16", "_", "t", "*", "rpi", "=", "param", ";", "<nl>", "<nl>", "+", "/", "*", "check", "for", "active", "node", "*", "/", "<nl>", "+", "if", "(", "!", "NLP", "_", "CHK", "_", "NODE", "_", "ACT", "(", "ndlp", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "return", "ndlp", "-", ">", "nlp", "_", "rpi", "=", "=", "*", "rpi", ";", "<nl>", "}", "<nl>", "lpfc", "_", "cleanup", "(", "struct", "lpfc", "_", "vport", "*", "vport", ")", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "take", "care", "of", "nodes", "in", "unused", "state", "before", "the", "state", "<nl>", "+", "*", "machine", "taking", "action", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "ndlp", "-", ">", "nlp", "_", "state", "=", "=", "NLP", "_", "STE", "_", "UNUSED", "_", "NODE", ")", "{", "<nl>", "+", "lpfc", "_", "nlp", "_", "put", "(", "ndlp", ")", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "ndlp", "-", ">", "nlp", "_", "type", "&", "NLP", "_", "FABRIC", ")", "<nl>", "lpfc", "_", "disc", "_", "state", "_", "machine", "(", "vport", ",", "ndlp", ",", "NULL", ",", "<nl>", "NLP", "_", "EVT", "_", "DEVICE", "_", "RECOVERY", ")", ";", "<nl>", "<nl>", "lpfc", "_", "disc", "_", "state", "_", "machine", "(", "vport", ",", "ndlp", ",", "NULL", ",", "<nl>", "NLP", "_", "EVT", "_", "DEVICE", "_", "RM", ")", ";", "<nl>", "-", "<nl>", "}", "<nl>", "<nl>", "/", "*", "At", "this", "point", ",", "ALL", "ndlp", "'", "s", "should", "be", "gone", "<nl>", "lpfc", "_", "filter", "_", "by", "_", "rpi", "(", "struct", "lpfc", "_", "nodelist", "*", "ndlp", ",", "void", "*", "param", ")", "<nl>", "{", "<nl>", "uint16", "_", "t", "*", "rpi", "=", "param", ";", "<nl>", "<nl>", "+", "/", "*", "check", "for", "active", "node", "*", "/", "<nl>", "+", "if", "(", "!", "NLP", "_", "CHK", "_", "NODE", "_", "ACT", "(", "ndlp", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "return", "ndlp", "-", ">", "nlp", "_", "rpi", "=", "=", "*", "rpi", ";", "<nl>", "}", "<nl>", "<nl>", "lpfc", "_", "plogi", "_", "confirm", "_", "nport", "(", "struct", "lpfc", "_", "hba", "*", "phba", ",", "uint32", "_", "t", "*", "prsp", ",", "<nl>", "memcpy", "(", "&", "ndlp", "-", ">", "active", "_", "rrqs", ".", "xri", "_", "bitmap", ",", "<nl>", "&", "rrq", ".", "xri", "_", "bitmap", ",", "<nl>", "sizeof", "(", "ndlp", "-", ">", "active", "_", "rrqs", ".", "xri", "_", "bitmap", ")", ")", ";", "<nl>", "-", "lpfc", "_", "nlp", "_", "set", "_", "state", "(", "vport", ",", "ndlp", ",", "NLP", "_", "STE", "_", "NPR", "_", "NODE", ")", ";", "<nl>", "/", "*", "Since", "we", "are", "swapping", "the", "ndlp", "passed", "in", "with", "the", "new", "one", "<nl>", "*", "and", "the", "did", "has", "already", "been", "swapped", ",", "copy", "over", "the", "<nl>", "*", "state", "and", "names", ".", "<nl>", "lpfc", "_", "plogi", "_", "confirm", "_", "nport", "(", "struct", "lpfc", "_", "hba", "*", "phba", ",", "uint32", "_", "t", "*", "prsp", ",", "<nl>", "memcpy", "(", "&", "new", "_", "ndlp", "-", ">", "nlp", "_", "nodename", ",", "&", "ndlp", "-", ">", "nlp", "_", "nodename", ",", "<nl>", "sizeof", "(", "struct", "lpfc", "_", "name", ")", ")", ";", "<nl>", "new", "_", "ndlp", "-", ">", "nlp", "_", "state", "=", "ndlp", "-", ">", "nlp", "_", "state", ";", "<nl>", "+", "lpfc", "_", "nlp", "_", "set", "_", "state", "(", "vport", ",", "ndlp", ",", "NLP", "_", "STE", "_", "NPR", "_", "NODE", ")", ";", "<nl>", "/", "*", "Fix", "up", "the", "rport", "accordingly", "*", "/", "<nl>", "rport", "=", "ndlp", "-", ">", "rport", ";", "<nl>", "if", "(", "rport", ")", "{", "<nl>"], "docstring_tokens": ["SCSI", "lpfc", "8", "3", "29", "FC", "Discovery", "state", "machine", "fixes"]}
{"code_tokens": ["static", "void", "_", "_", "ip", "_", "rt", "_", "update", "_", "pmtu", "(", "struct", "rtable", "*", "rt", ",", "struct", "flowi4", "*", "fl4", ",", "u32", "mtu", ")", "<nl>", "if", "(", "mtu", "<", "ip", "_", "rt", "_", "min", "_", "pmtu", ")", "<nl>", "mtu", "=", "ip", "_", "rt", "_", "min", "_", "pmtu", ";", "<nl>", "<nl>", "+", "if", "(", "rt", "-", ">", "rt", "_", "pmtu", "=", "=", "mtu", "&", "&", "<nl>", "+", "time", "_", "before", "(", "jiffies", ",", "dst", "-", ">", "expires", "-", "ip", "_", "rt", "_", "mtu", "_", "expires", "/", "2", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "if", "(", "fib", "_", "lookup", "(", "dev", "_", "net", "(", "dst", "-", ">", "dev", ")", ",", "fl4", ",", "&", "res", ")", "=", "=", "0", ")", "{", "<nl>", "struct", "fib", "_", "nh", "*", "nh", "=", "&", "FIB", "_", "RES", "_", "NH", "(", "res", ")", ";", "<nl>"], "docstring_tokens": ["ipv4", "rate", "limit", "updating", "of", "next", "hop", "exceptions", "with", "same", "pmtu"]}
{"code_tokens": ["#", "define", "SUN4I", "_", "BACKEND", "_", "LAYFB", "_", "L32ADD", "_", "REG", "(", "l", ")", "(", "0x850", "+", "(", "0x4", "*", "(", "l", ")", ")", ")", "<nl>", "<nl>", "#", "define", "SUN4I", "_", "BACKEND", "_", "LAYFB", "_", "H4ADD", "_", "REG", "0x860", "<nl>", "-", "#", "define", "SUN4I", "_", "BACKEND", "_", "LAYFB", "_", "H4ADD", "_", "MSK", "(", "l", ")", "GENMASK", "(", "3", "+", "(", "(", "l", ")", "*", "8", ")", ",", "0", ")", "<nl>", "-", "#", "define", "SUN4I", "_", "BACKEND", "_", "LAYFB", "_", "H4ADD", "(", "l", ",", "val", ")", "(", "(", "val", ")", "<", "<", "(", "(", "l", ")", "*", "8", ")", ")", "<nl>", "+", "#", "define", "SUN4I", "_", "BACKEND", "_", "LAYFB", "_", "H4ADD", "_", "MSK", "(", "l", ")", "GENMASK", "(", "3", "+", "(", "(", "l", ")", "*", "8", ")", ",", "(", "l", ")", "*", "8", ")", "<nl>", "+", "#", "define", "SUN4I", "_", "BACKEND", "_", "LAYFB", "_", "H4ADD", "(", "l", ",", "val", ")", "(", "(", "val", ")", "<", "<", "(", "(", "l", ")", "*", "8", ")", ")", "<nl>", "<nl>", "#", "define", "SUN4I", "_", "BACKEND", "_", "REGBUFFCTL", "_", "REG", "0x870", "<nl>", "#", "define", "SUN4I", "_", "BACKEND", "_", "REGBUFFCTL", "_", "AUTOLOAD", "_", "DIS", "BIT", "(", "1", ")", "<nl>"], "docstring_tokens": ["drm", "sun4i", "Fix", "the", "high", "buffer", "address", "mask"]}
{"code_tokens": ["static", "noinline", "int", "compress", "_", "file", "_", "range", "(", "struct", "inode", "*", "inode", ",", "<nl>", "nr", "_", "pages", "=", "(", "end", ">", ">", "PAGE", "_", "CACHE", "_", "SHIFT", ")", "-", "(", "start", ">", ">", "PAGE", "_", "CACHE", "_", "SHIFT", ")", "+", "1", ";", "<nl>", "nr", "_", "pages", "=", "min", "(", "nr", "_", "pages", ",", "(", "128", "*", "1024UL", ")", "/", "PAGE", "_", "CACHE", "_", "SIZE", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "we", "don", "'", "t", "want", "to", "send", "crud", "past", "the", "end", "of", "i", "_", "size", "through", "<nl>", "+", "*", "compression", ",", "that", "'", "s", "just", "a", "waste", "of", "CPU", "time", ".", "So", ",", "if", "the", "<nl>", "+", "*", "end", "of", "the", "file", "is", "before", "the", "start", "of", "our", "current", "<nl>", "+", "*", "requested", "range", "of", "bytes", ",", "we", "bail", "out", "to", "the", "uncompressed", "<nl>", "+", "*", "cleanup", "code", "that", "can", "deal", "with", "all", "of", "this", ".", "<nl>", "+", "*", "<nl>", "+", "*", "It", "isn", "'", "t", "really", "the", "fastest", "way", "to", "fix", "things", ",", "but", "this", "is", "a", "<nl>", "+", "*", "very", "uncommon", "corner", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "actual", "_", "end", "<", "=", "start", ")", "<nl>", "+", "goto", "cleanup", "_", "and", "_", "bail", "_", "uncompressed", ";", "<nl>", "+", "<nl>", "total", "_", "compressed", "=", "actual", "_", "end", "-", "start", ";", "<nl>", "<nl>", "/", "*", "we", "want", "to", "make", "sure", "that", "amount", "of", "ram", "required", "to", "uncompress", "<nl>", "static", "noinline", "int", "compress", "_", "file", "_", "range", "(", "struct", "inode", "*", "inode", ",", "<nl>", "goto", "again", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "+", "cleanup", "_", "and", "_", "bail", "_", "uncompressed", ":", "<nl>", "/", "*", "<nl>", "*", "No", "compression", ",", "but", "we", "still", "need", "to", "write", "the", "pages", "in", "<nl>", "*", "the", "file", "we", "'", "ve", "been", "given", "so", "far", ".", "redirty", "the", "locked", "<nl>"], "docstring_tokens": ["Btrfs", "Don", "t", "try", "to", "compress", "pages", "past", "i_size"]}
{"code_tokens": ["static", "int", "usbhid", "_", "parse", "(", "struct", "hid", "_", "device", "*", "hid", ")", "<nl>", "unsigned", "int", "rsize", "=", "0", ";", "<nl>", "char", "*", "rdesc", ";", "<nl>", "int", "ret", ",", "n", ";", "<nl>", "+", "int", "num", "_", "descriptors", ";", "<nl>", "+", "size", "_", "t", "offset", "=", "offsetof", "(", "struct", "hid", "_", "descriptor", ",", "desc", ")", ";", "<nl>", "<nl>", "quirks", "=", "usbhid", "_", "lookup", "_", "quirk", "(", "le16", "_", "to", "_", "cpu", "(", "dev", "-", ">", "descriptor", ".", "idVendor", ")", ",", "<nl>", "le16", "_", "to", "_", "cpu", "(", "dev", "-", ">", "descriptor", ".", "idProduct", ")", ")", ";", "<nl>", "static", "int", "usbhid", "_", "parse", "(", "struct", "hid", "_", "device", "*", "hid", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "hdesc", "-", ">", "bLength", "<", "sizeof", "(", "struct", "hid", "_", "descriptor", ")", ")", "{", "<nl>", "+", "dbg", "_", "hid", "(", "\"", "hid", "descriptor", "is", "too", "short", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "hid", "-", ">", "version", "=", "le16", "_", "to", "_", "cpu", "(", "hdesc", "-", ">", "bcdHID", ")", ";", "<nl>", "hid", "-", ">", "country", "=", "hdesc", "-", ">", "bCountryCode", ";", "<nl>", "<nl>", "-", "for", "(", "n", "=", "0", ";", "n", "<", "hdesc", "-", ">", "bNumDescriptors", ";", "n", "+", "+", ")", "<nl>", "+", "num", "_", "descriptors", "=", "min", "_", "t", "(", "int", ",", "hdesc", "-", ">", "bNumDescriptors", ",", "<nl>", "+", "(", "hdesc", "-", ">", "bLength", "-", "offset", ")", "/", "sizeof", "(", "struct", "hid", "_", "class", "_", "descriptor", ")", ")", ";", "<nl>", "+", "<nl>", "+", "for", "(", "n", "=", "0", ";", "n", "<", "num", "_", "descriptors", ";", "n", "+", "+", ")", "<nl>", "if", "(", "hdesc", "-", ">", "desc", "[", "n", "]", ".", "bDescriptorType", "=", "=", "HID", "_", "DT", "_", "REPORT", ")", "<nl>", "rsize", "=", "le16", "_", "to", "_", "cpu", "(", "hdesc", "-", ">", "desc", "[", "n", "]", ".", "wDescriptorLength", ")", ";", "<nl>"], "docstring_tokens": ["HID", "usbhid", "fix", "out", "of", "bounds", "bug"]}
{"code_tokens": ["static", "int", "iwl", "_", "trans", "_", "pcie", "_", "start", "_", "hw", "(", "struct", "iwl", "_", "trans", "*", "trans", ")", "<nl>", "err", "=", "iwl", "_", "prepare", "_", "card", "_", "hw", "(", "trans", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "IWL", "_", "ERR", "(", "trans", ",", "\"", "Error", "while", "preparing", "HW", ":", "%", "d", "\"", ",", "err", ")", ";", "<nl>", "-", "goto", "error", ";", "<nl>", "+", "goto", "err", "_", "free", "_", "irq", ";", "<nl>", "}", "<nl>", "<nl>", "iwl", "_", "apm", "_", "init", "(", "trans", ")", ";", "<nl>", "static", "int", "iwl", "_", "trans", "_", "pcie", "_", "start", "_", "hw", "(", "struct", "iwl", "_", "trans", "*", "trans", ")", "<nl>", "<nl>", "return", "err", ";", "<nl>", "<nl>", "+", "err", "_", "free", "_", "irq", ":", "<nl>", "+", "free", "_", "irq", "(", "trans", "-", ">", "irq", ",", "trans", ")", ";", "<nl>", "error", ":", "<nl>", "iwl", "_", "free", "_", "isr", "_", "ict", "(", "trans", ")", ";", "<nl>", "tasklet", "_", "kill", "(", "&", "trans", "_", "pcie", "-", ">", "irq", "_", "tasklet", ")", ";", "<nl>"], "docstring_tokens": ["iwlwifi", "release", "IRQ", "in", "error", "path"]}
{"code_tokens": ["static", "noinline", "void", "key", "_", "gc", "_", "unused", "_", "keys", "(", "struct", "list", "_", "head", "*", "keys", ")", "<nl>", "kdebug", "(", "\"", "-", "%", "u", "\"", ",", "key", "-", ">", "serial", ")", ";", "<nl>", "key", "_", "check", "(", "key", ")", ";", "<nl>", "<nl>", "-", "/", "*", "Throw", "away", "the", "key", "data", "*", "/", "<nl>", "-", "if", "(", "key", "-", ">", "type", "-", ">", "destroy", ")", "<nl>", "+", "/", "*", "Throw", "away", "the", "key", "data", "if", "the", "key", "is", "instantiated", "*", "/", "<nl>", "+", "if", "(", "test", "_", "bit", "(", "KEY", "_", "FLAG", "_", "INSTANTIATED", ",", "&", "key", "-", ">", "flags", ")", "&", "&", "<nl>", "+", "!", "test", "_", "bit", "(", "KEY", "_", "FLAG", "_", "NEGATIVE", ",", "&", "key", "-", ">", "flags", ")", "&", "&", "<nl>", "+", "key", "-", ">", "type", "-", ">", "destroy", ")", "<nl>", "key", "-", ">", "type", "-", ">", "destroy", "(", "key", ")", ";", "<nl>", "<nl>", "security", "_", "key", "_", "free", "(", "key", ")", ";", "<nl>"], "docstring_tokens": ["KEYS", "Fix", "crash", "when", "attempt", "to", "garbage", "collect", "an", "uninstantiated", "keyring"]}
{"code_tokens": ["static", "int", "omap3", "_", "noncore", "_", "dpll", "_", "program", "(", "struct", "clk", "*", "clk", ",", "u16", "m", ",", "u8", "n", ",", "u16", "freqsel", ")", "<nl>", "/", "*", "3430", "ES2", "TRM", ":", "4", ".", "7", ".", "6", ".", "9", "DPLL", "Programming", "Sequence", "*", "/", "<nl>", "_", "omap3", "_", "noncore", "_", "dpll", "_", "bypass", "(", "clk", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Set", "jitter", "correction", "*", "/", "<nl>", "+", "v", "=", "_", "_", "raw", "_", "readl", "(", "dd", "-", ">", "control", "_", "reg", ")", ";", "<nl>", "+", "v", "&", "=", "~", "dd", "-", ">", "freqsel", "_", "mask", ";", "<nl>", "+", "v", "|", "=", "freqsel", "<", "<", "_", "_", "ffs", "(", "dd", "-", ">", "freqsel", "_", "mask", ")", ";", "<nl>", "+", "_", "_", "raw", "_", "writel", "(", "v", ",", "dd", "-", ">", "control", "_", "reg", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Set", "DPLL", "multiplier", ",", "divider", "*", "/", "<nl>", "v", "=", "_", "_", "raw", "_", "readl", "(", "dd", "-", ">", "mult", "_", "div1", "_", "reg", ")", ";", "<nl>", "v", "&", "=", "~", "(", "dd", "-", ">", "mult", "_", "mask", "|", "dd", "-", ">", "div1", "_", "mask", ")", ";", "<nl>", "-", "<nl>", "-", "/", "*", "Set", "mult", "(", "M", ")", ",", "div1", "(", "N", ")", ",", "freqsel", "*", "/", "<nl>", "v", "|", "=", "m", "<", "<", "_", "_", "ffs", "(", "dd", "-", ">", "mult", "_", "mask", ")", ";", "<nl>", "-", "v", "|", "=", "n", "<", "<", "_", "_", "ffs", "(", "dd", "-", ">", "div1", "_", "mask", ")", ";", "<nl>", "-", "v", "|", "=", "freqsel", "<", "<", "_", "_", "ffs", "(", "dd", "-", ">", "freqsel", "_", "mask", ")", ";", "<nl>", "-", "<nl>", "+", "v", "|", "=", "(", "n", "-", "1", ")", "<", "<", "_", "_", "ffs", "(", "dd", "-", ">", "div1", "_", "mask", ")", ";", "<nl>", "_", "_", "raw", "_", "writel", "(", "v", ",", "dd", "-", ">", "mult", "_", "div1", "_", "reg", ")", ";", "<nl>", "<nl>", "/", "*", "We", "let", "the", "clock", "framework", "set", "the", "other", "output", "dividers", "later", "*", "/", "<nl>"], "docstring_tokens": ["ARM", "OMAP3", "clock", "fix", "DPLL", "jitter", "correction", "and", "rate", "programming"]}
{"code_tokens": ["#", "include", "<", "linux", "/", "clockchips", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "interrupt", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "io", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "mtd", "/", "physmap", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "mach", "/", "hardware", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "platform", ".", "h", ">", "<nl>", "#", "include", "<", "mach", "/", "lm", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "asm", "/", "mach", "/", "arch", ".", "h", ">", "<nl>", "-", "#", "include", "<", "asm", "/", "mach", "/", "flash", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "mach", "/", "irq", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "mach", "/", "map", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "mach", "/", "time", ".", "h", ">", "<nl>", "device", "_", "initcall", "(", "irq", "_", "init", "_", "sysfs", ")", ";", "<nl>", "#", "define", "EBI", "_", "CSR1", "(", "VA", "_", "EBI", "_", "BASE", "+", "INTEGRATOR", "_", "EBI", "_", "CSR1", "_", "OFFSET", ")", "<nl>", "#", "define", "EBI", "_", "LOCK", "(", "VA", "_", "EBI", "_", "BASE", "+", "INTEGRATOR", "_", "EBI", "_", "LOCK", "_", "OFFSET", ")", "<nl>", "<nl>", "-", "static", "int", "ap", "_", "flash", "_", "init", "(", "void", ")", "<nl>", "+", "static", "int", "ap", "_", "flash", "_", "init", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "u32", "tmp", ";", "<nl>", "<nl>", "static", "int", "ap", "_", "flash", "_", "init", "(", "void", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "ap", "_", "flash", "_", "exit", "(", "void", ")", "<nl>", "+", "static", "void", "ap", "_", "flash", "_", "exit", "(", "struct", "platform", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "u32", "tmp", ";", "<nl>", "<nl>", "static", "void", "ap", "_", "flash", "_", "exit", "(", "void", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "ap", "_", "flash", "_", "set", "_", "vpp", "(", "int", "on", ")", "<nl>", "+", "static", "void", "ap", "_", "flash", "_", "set", "_", "vpp", "(", "struct", "map", "_", "info", "*", "map", ",", "int", "on", ")", "<nl>", "{", "<nl>", "void", "_", "_", "iomem", "*", "reg", "=", "on", "?", "SC", "_", "CTRLS", ":", "SC", "_", "CTRLC", ";", "<nl>", "<nl>", "writel", "(", "INTEGRATOR", "_", "SC", "_", "CTRL", "_", "nFLVPPEN", ",", "reg", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "struct", "flash", "_", "platform", "_", "data", "ap", "_", "flash", "_", "data", "=", "{", "<nl>", "-", ".", "map", "_", "name", "=", "\"", "cfi", "_", "probe", "\"", ",", "<nl>", "+", "static", "struct", "physmap", "_", "flash", "_", "data", "ap", "_", "flash", "_", "data", "=", "{", "<nl>", ".", "width", "=", "4", ",", "<nl>", ".", "init", "=", "ap", "_", "flash", "_", "init", ",", "<nl>", ".", "exit", "=", "ap", "_", "flash", "_", "exit", ",", "<nl>", "static", "struct", "resource", "cfi", "_", "flash", "_", "resource", "=", "{", "<nl>", "}", ";", "<nl>", "<nl>", "static", "struct", "platform", "_", "device", "cfi", "_", "flash", "_", "device", "=", "{", "<nl>", "-", ".", "name", "=", "\"", "armflash", "\"", ",", "<nl>", "+", ".", "name", "=", "\"", "physmap", "-", "flash", "\"", ",", "<nl>", ".", "id", "=", "0", ",", "<nl>", ".", "dev", "=", "{", "<nl>", ".", "platform", "_", "data", "=", "&", "ap", "_", "flash", "_", "data", ",", "<nl>"], "docstring_tokens": ["ARM", "6908", "1", "Integrator", "AP", "Use", "physmap", "driver", "instead", "of", "integrator", "flash"]}
{"code_tokens": ["static", "void", "*", "etm", "_", "setup", "_", "aux", "(", "int", "event", "_", "cpu", ",", "void", "*", "*", "pages", ",", "<nl>", "if", "(", "!", "sink", "_", "ops", "(", "sink", ")", "-", ">", "alloc", "_", "buffer", ")", "<nl>", "goto", "err", ";", "<nl>", "<nl>", "+", "cpu", "=", "cpumask", "_", "first", "(", "mask", ")", ";", "<nl>", "/", "*", "Get", "the", "AUX", "specific", "data", "from", "the", "sink", "buffer", "*", "/", "<nl>", "event", "_", "data", "-", ">", "snk", "_", "config", "=", "<nl>", "sink", "_", "ops", "(", "sink", ")", "-", ">", "alloc", "_", "buffer", "(", "sink", ",", "cpu", ",", "pages", ",", "<nl>"], "docstring_tokens": ["coresight", "fix", "kernel", "panic", "caused", "by", "invalid", "CPU"]}
{"code_tokens": ["_", "_", "init", "pgd", "_", "t", "*", "xen", "_", "setup", "_", "kernel", "_", "pagetable", "(", "pgd", "_", "t", "*", "pgd", ",", "<nl>", "return", "pgd", ";", "<nl>", "}", "<nl>", "#", "else", "/", "*", "!", "CONFIG", "_", "X86", "_", "64", "*", "/", "<nl>", "-", "static", "pmd", "_", "t", "level2", "_", "kernel", "_", "pgt", "[", "PTRS", "_", "PER", "_", "PMD", "]", "_", "_", "page", "_", "aligned", "_", "bss", ";", "<nl>", "+", "static", "RESERVE", "_", "BRK", "_", "ARRAY", "(", "pmd", "_", "t", ",", "level2", "_", "kernel", "_", "pgt", ",", "PTRS", "_", "PER", "_", "PMD", ")", ";", "<nl>", "<nl>", "_", "_", "init", "pgd", "_", "t", "*", "xen", "_", "setup", "_", "kernel", "_", "pagetable", "(", "pgd", "_", "t", "*", "pgd", ",", "<nl>", "unsigned", "long", "max", "_", "pfn", ")", "<nl>", "{", "<nl>", "pmd", "_", "t", "*", "kernel", "_", "pmd", ";", "<nl>", "<nl>", "+", "level2", "_", "kernel", "_", "pgt", "=", "extend", "_", "brk", "(", "sizeof", "(", "pmd", "_", "t", "*", ")", "*", "PTRS", "_", "PER", "_", "PMD", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "+", "<nl>", "max", "_", "pfn", "_", "mapped", "=", "PFN", "_", "DOWN", "(", "_", "_", "pa", "(", "xen", "_", "start", "_", "info", "-", ">", "pt", "_", "base", ")", "+", "<nl>", "xen", "_", "start", "_", "info", "-", ">", "nr", "_", "pt", "_", "frames", "*", "PAGE", "_", "SIZE", "+", "<nl>", "512", "*", "1024", ")", ";", "<nl>"], "docstring_tokens": ["xen", "use", "early_brk", "for", "level2_kernel_pgt"]}
{"code_tokens": ["<nl>", "/", "*", "FIXME", ":", "Need", "to", "be", "populated", "with", "the", "other", "chip", "ID", "'", "s", "*", "/", "<nl>", "enum", "em28xx", "_", "chip", "_", "id", "{", "<nl>", "+", "CHIP", "_", "ID", "_", "EM2820", "=", "18", ",", "<nl>", "+", "CHIP", "_", "ID", "_", "EM2840", "=", "20", ",", "<nl>", "CHIP", "_", "ID", "_", "EM2860", "=", "34", ",", "<nl>", "CHIP", "_", "ID", "_", "EM2883", "=", "36", ",", "<nl>", "CHIP", "_", "ID", "_", "EM2874", "=", "65", ",", "mmm", "drivers", "/", "media", "/", "video", "/", "em28xx", "/", "em28xx", "-", "cards", ".", "c", "<nl>", "<nl>", "/", "*", "FIXME", ":", "Need", "to", "be", "populated", "with", "the", "other", "chip", "ID", "'", "s", "*", "/", "<nl>", "enum", "em28xx", "_", "chip", "_", "id", "{", "<nl>", "+", "CHIP", "_", "ID", "_", "EM2820", "=", "18", ",", "<nl>", "+", "CHIP", "_", "ID", "_", "EM2840", "=", "20", ",", "<nl>", "CHIP", "_", "ID", "_", "EM2860", "=", "34", ",", "<nl>", "CHIP", "_", "ID", "_", "EM2883", "=", "36", ",", "<nl>", "CHIP", "_", "ID", "_", "EM2874", "=", "65", ",", "<nl>", "void", "em28xx", "_", "pre", "_", "card", "_", "setup", "(", "struct", "em28xx", "*", "dev", ")", "<nl>", "if", "(", "rc", ">", "0", ")", "{", "<nl>", "dev", "-", ">", "chip", "_", "id", "=", "rc", ";", "<nl>", "switch", "(", "rc", ")", "{", "<nl>", "+", "case", "CHIP", "_", "ID", "_", "EM2820", ":", "<nl>", "+", "em28xx", "_", "info", "(", "\"", "chip", "ID", "is", "em2820", "\\", "n", "\"", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "case", "CHIP", "_", "ID", "_", "EM2840", ":", "<nl>", "+", "em28xx", "_", "info", "(", "\"", "chip", "ID", "is", "em2840", "\\", "n", "\"", ")", ";", "<nl>", "+", "break", ";", "<nl>", "case", "CHIP", "_", "ID", "_", "EM2860", ":", "<nl>", "em28xx", "_", "info", "(", "\"", "chip", "ID", "is", "em2860", "\\", "n", "\"", ")", ";", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "9641", "Add", "chip", "ID", "s", "for", "em2820", "and", "em2840"]}
{"code_tokens": ["static", "void", "_", "_", "br", "_", "multicast", "_", "send", "_", "query", "(", "struct", "net", "_", "bridge", "*", "br", ",", "<nl>", "return", ";", "<nl>", "<nl>", "if", "(", "port", ")", "{", "<nl>", "-", "_", "_", "skb", "_", "push", "(", "skb", ",", "sizeof", "(", "struct", "ethhdr", ")", ")", ";", "<nl>", "skb", "-", ">", "dev", "=", "port", "-", ">", "dev", ";", "<nl>", "NF", "_", "HOOK", "(", "NFPROTO", "_", "BRIDGE", ",", "NF", "_", "BR", "_", "LOCAL", "_", "OUT", ",", "skb", ",", "NULL", ",", "skb", "-", ">", "dev", ",", "<nl>", "-", "dev", "_", "queue", "_", "xmit", ")", ";", "<nl>", "+", "br", "_", "dev", "_", "queue", "_", "push", "_", "xmit", ")", ";", "<nl>", "}", "else", "{", "<nl>", "br", "_", "multicast", "_", "select", "_", "own", "_", "querier", "(", "br", ",", "ip", ",", "skb", ")", ";", "<nl>", "netif", "_", "rx", "(", "skb", ")", ";", "<nl>"], "docstring_tokens": ["bridge", "fix", "netfilter", "NF_BR_LOCAL_OUT", "for", "own", "locally", "generated", "queries"]}
{"code_tokens": ["int", "zft", "_", "vmalloc", "_", "once", "(", "void", "*", "new", ",", "size", "_", "t", "size", ")", "<nl>", "peak", "_", "memory", "=", "used", "_", "memory", ";", "<nl>", "}", "<nl>", "TRACE", "_", "ABORT", "(", "0", ",", "ft", "_", "t", "_", "noise", ",", "<nl>", "-", "\"", "allocated", "buffer", "@", "%", "p", ",", "%", "d", "bytes", "\"", ",", "*", "(", "void", "*", "*", ")", "new", ",", "size", ")", ";", "<nl>", "+", "\"", "allocated", "buffer", "@", "%", "p", ",", "%", "zd", "bytes", "\"", ",", "*", "(", "void", "*", "*", ")", "new", ",", "size", ")", ";", "<nl>", "}", "<nl>", "int", "zft", "_", "vmalloc", "_", "always", "(", "void", "*", "new", ",", "size", "_", "t", "size", ")", "<nl>", "{", "<nl>", "void", "zft", "_", "vfree", "(", "void", "*", "old", ",", "size", "_", "t", "size", ")", "<nl>", "if", "(", "*", "(", "void", "*", "*", ")", "old", ")", "{", "<nl>", "vfree", "(", "*", "(", "void", "*", "*", ")", "old", ")", ";", "<nl>", "used", "_", "memory", "-", "=", "size", ";", "<nl>", "-", "TRACE", "(", "ft", "_", "t", "_", "noise", ",", "\"", "released", "buffer", "@", "%", "p", ",", "%", "d", "bytes", "\"", ",", "<nl>", "+", "TRACE", "(", "ft", "_", "t", "_", "noise", ",", "\"", "released", "buffer", "@", "%", "p", ",", "%", "zd", "bytes", "\"", ",", "<nl>", "*", "(", "void", "*", "*", ")", "old", ",", "size", ")", ";", "<nl>", "*", "(", "void", "*", "*", ")", "old", "=", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PATCH", "ftape", "fix", "printk", "format", "warnings"]}
{"code_tokens": ["static", "void", "pcd", "_", "init", "_", "units", "(", "void", ")", "<nl>", "disk", "-", ">", "queue", "=", "blk", "_", "mq", "_", "init", "_", "sq", "_", "queue", "(", "&", "cd", "-", ">", "tag", "_", "set", ",", "&", "pcd", "_", "mq", "_", "ops", ",", "<nl>", "1", ",", "BLK", "_", "MQ", "_", "F", "_", "SHOULD", "_", "MERGE", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "disk", "-", ">", "queue", ")", ")", "{", "<nl>", "+", "put", "_", "disk", "(", "disk", ")", ";", "<nl>", "disk", "-", ">", "queue", "=", "NULL", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "static", "int", "pcd", "_", "detect", "(", "void", ")", "<nl>", "<nl>", "printk", "(", "\"", "%", "s", ":", "No", "CD", "-", "ROM", "drive", "found", "\\", "n", "\"", ",", "name", ")", ";", "<nl>", "for", "(", "unit", "=", "0", ",", "cd", "=", "pcd", ";", "unit", "<", "PCD", "_", "UNITS", ";", "unit", "+", "+", ",", "cd", "+", "+", ")", "{", "<nl>", "+", "if", "(", "!", "cd", "-", ">", "disk", ")", "<nl>", "+", "continue", ";", "<nl>", "blk", "_", "cleanup", "_", "queue", "(", "cd", "-", ">", "disk", "-", ">", "queue", ")", ";", "<nl>", "cd", "-", ">", "disk", "-", ">", "queue", "=", "NULL", ";", "<nl>", "blk", "_", "mq", "_", "free", "_", "tag", "_", "set", "(", "&", "cd", "-", ">", "tag", "_", "set", ")", ";", "<nl>", "static", "int", "_", "_", "init", "pcd", "_", "init", "(", "void", ")", "<nl>", "pcd", "_", "probe", "_", "capabilities", "(", ")", ";", "<nl>", "<nl>", "if", "(", "register", "_", "blkdev", "(", "major", ",", "name", ")", ")", "{", "<nl>", "-", "for", "(", "unit", "=", "0", ",", "cd", "=", "pcd", ";", "unit", "<", "PCD", "_", "UNITS", ";", "unit", "+", "+", ",", "cd", "+", "+", ")", "<nl>", "+", "for", "(", "unit", "=", "0", ",", "cd", "=", "pcd", ";", "unit", "<", "PCD", "_", "UNITS", ";", "unit", "+", "+", ",", "cd", "+", "+", ")", "{", "<nl>", "+", "if", "(", "!", "cd", "-", ">", "disk", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "+", "blk", "_", "cleanup", "_", "queue", "(", "cd", "-", ">", "disk", "-", ">", "queue", ")", ";", "<nl>", "+", "blk", "_", "mq", "_", "free", "_", "tag", "_", "set", "(", "&", "cd", "-", ">", "tag", "_", "set", ")", ";", "<nl>", "put", "_", "disk", "(", "cd", "-", ">", "disk", ")", ";", "<nl>", "+", "}", "<nl>", "return", "-", "EBUSY", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "_", "_", "exit", "pcd", "_", "exit", "(", "void", ")", "<nl>", "int", "unit", ";", "<nl>", "<nl>", "for", "(", "unit", "=", "0", ",", "cd", "=", "pcd", ";", "unit", "<", "PCD", "_", "UNITS", ";", "unit", "+", "+", ",", "cd", "+", "+", ")", "{", "<nl>", "+", "if", "(", "!", "cd", "-", ">", "disk", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "if", "(", "cd", "-", ">", "present", ")", "{", "<nl>", "del", "_", "gendisk", "(", "cd", "-", ">", "disk", ")", ";", "<nl>", "pi", "_", "release", "(", "cd", "-", ">", "pi", ")", ";", "<nl>"], "docstring_tokens": ["paride", "pcd", "Fix", "potential", "NULL", "pointer", "dereference", "and", "mem", "leak"]}
{"code_tokens": ["static", "int", "perf", "_", "sched", "_", "_", "read", "_", "events", "(", "struct", "perf", "_", "sched", "*", "sched", ")", "<nl>", "struct", "perf", "_", "data", "_", "file", "file", "=", "{", "<nl>", ".", "path", "=", "input", "_", "name", ",", "<nl>", ".", "mode", "=", "PERF", "_", "DATA", "_", "MODE", "_", "READ", ",", "<nl>", "+", ".", "force", "=", "sched", "-", ">", "force", ",", "<nl>", "}", ";", "<nl>", "int", "rc", "=", "-", "1", ";", "<nl>"], "docstring_tokens": ["perf", "sched", "replay", "Support", "using", "f", "to", "override", "perf", "data", "file", "ownership"]}
{"code_tokens": ["int", "_", "_", "init", "acpi", "_", "table", "_", "init", "(", "void", ")", "<nl>", "<nl>", "static", "int", "_", "_", "init", "acpi", "_", "parse", "_", "apic", "_", "instance", "(", "char", "*", "str", ")", "<nl>", "{", "<nl>", "+", "if", "(", "!", "str", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "acpi", "_", "apic", "_", "instance", "=", "simple", "_", "strtoul", "(", "str", ",", "NULL", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["acpi", "add", "checking", "for", "NULL", "early", "param"]}
{"code_tokens": ["static", "int", "wis", "_", "saa7115", "_", "probe", "(", "struct", "i2c", "_", "client", "*", "client", ",", "<nl>", "dec", "-", ">", "hue", "=", "0", ";", "<nl>", "i2c", "_", "set", "_", "clientdata", "(", "client", ",", "dec", ")", ";", "<nl>", "<nl>", "-", "printk", "(", "KERN", "_", "DEBUG", "<nl>", "+", "dev", "_", "dbg", "(", "&", "client", "-", ">", "dev", ",", "<nl>", "\"", "wis", "-", "saa7115", ":", "initializing", "SAA7115", "at", "address", "%", "d", "on", "%", "s", "\\", "n", "\"", ",", "<nl>", "client", "-", ">", "addr", ",", "adapter", "-", ">", "name", ")", ";", "<nl>", "<nl>", "if", "(", "write", "_", "regs", "(", "client", ",", "initial", "_", "registers", ")", "<", "0", ")", "{", "<nl>", "-", "printk", "(", "KERN", "_", "ERR", "<nl>", "+", "dev", "_", "err", "(", "&", "client", "-", ">", "dev", ",", "<nl>", "\"", "wis", "-", "saa7115", ":", "error", "initializing", "SAA7115", "\\", "n", "\"", ")", ";", "<nl>", "kfree", "(", "dec", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "<nl>"], "docstring_tokens": ["media", "staging", "media", "Use", "dev_", "or", "pr_", "printks", "in", "go7007", "wis", "saa7115", "c"]}
{"code_tokens": ["static", "void", "option", "_", "instat", "_", "callback", "(", "struct", "urb", "*", "urb", ")", "<nl>", "dev", "_", "dbg", "(", "dev", ",", "\"", "%", "s", ":", "type", "%", "x", "req", "%", "x", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "<nl>", "req", "_", "pkt", "-", ">", "bRequestType", ",", "req", "_", "pkt", "-", ">", "bRequest", ")", ";", "<nl>", "}", "<nl>", "+", "}", "else", "if", "(", "status", "=", "=", "-", "ENOENT", "|", "|", "status", "=", "=", "-", "ESHUTDOWN", ")", "{", "<nl>", "+", "dev", "_", "dbg", "(", "dev", ",", "\"", "%", "s", ":", "urb", "stopped", ":", "%", "d", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "status", ")", ";", "<nl>", "}", "else", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "%", "s", ":", "error", "%", "d", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "status", ")", ";", "<nl>"], "docstring_tokens": ["USB", "option", "reduce", "interrupt", "urb", "logging", "verbosity"]}
{"code_tokens": ["void", "bacct", "_", "add", "_", "tsk", "(", "struct", "taskstats", "*", "stats", ",", "struct", "task", "_", "struct", "*", "tsk", ")", "<nl>", "*", "/", "<nl>", "void", "xacct", "_", "add", "_", "tsk", "(", "struct", "taskstats", "*", "stats", ",", "struct", "task", "_", "struct", "*", "p", ")", "<nl>", "{", "<nl>", "+", "struct", "mm", "_", "struct", "*", "mm", ";", "<nl>", "+", "<nl>", "/", "*", "convert", "pages", "-", "jiffies", "to", "Mbyte", "-", "usec", "*", "/", "<nl>", "stats", "-", ">", "coremem", "=", "jiffies", "_", "to", "_", "usecs", "(", "p", "-", ">", "acct", "_", "rss", "_", "mem1", ")", "*", "PAGE", "_", "SIZE", "/", "MB", ";", "<nl>", "stats", "-", ">", "virtmem", "=", "jiffies", "_", "to", "_", "usecs", "(", "p", "-", ">", "acct", "_", "vm", "_", "mem1", ")", "*", "PAGE", "_", "SIZE", "/", "MB", ";", "<nl>", "-", "if", "(", "p", "-", ">", "mm", ")", "{", "<nl>", "+", "mm", "=", "get", "_", "task", "_", "mm", "(", "p", ")", ";", "<nl>", "+", "if", "(", "mm", ")", "{", "<nl>", "/", "*", "adjust", "to", "KB", "unit", "*", "/", "<nl>", "-", "stats", "-", ">", "hiwater", "_", "rss", "=", "p", "-", ">", "mm", "-", ">", "hiwater", "_", "rss", "*", "PAGE", "_", "SIZE", "/", "KB", ";", "<nl>", "-", "stats", "-", ">", "hiwater", "_", "vm", "=", "p", "-", ">", "mm", "-", ">", "hiwater", "_", "vm", "*", "PAGE", "_", "SIZE", "/", "KB", ";", "<nl>", "+", "stats", "-", ">", "hiwater", "_", "rss", "=", "mm", "-", ">", "hiwater", "_", "rss", "*", "PAGE", "_", "SIZE", "/", "KB", ";", "<nl>", "+", "stats", "-", ">", "hiwater", "_", "vm", "=", "mm", "-", ">", "hiwater", "_", "vm", "*", "PAGE", "_", "SIZE", "/", "KB", ";", "<nl>", "+", "mmput", "(", "mm", ")", ";", "<nl>", "}", "<nl>", "stats", "-", ">", "read", "_", "char", "=", "p", "-", ">", "rchar", ";", "<nl>", "stats", "-", ">", "write", "_", "char", "=", "p", "-", ">", "wchar", ";", "<nl>"], "docstring_tokens": ["PATCH", "xacct_add_tsk", "fix", "pure", "theoretical", "mm", "use", "after", "free"]}
{"code_tokens": ["static", "void", "ep", "_", "free", "(", "struct", "eventpoll", "*", "ep", ")", "<nl>", "}", "<nl>", "<nl>", "mutex", "_", "unlock", "(", "&", "epmutex", ")", ";", "<nl>", "-", "<nl>", "mutex", "_", "destroy", "(", "&", "ep", "-", ">", "mtx", ")", ";", "<nl>", "+", "kfree", "(", "ep", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "ep", "_", "eventpoll", "_", "release", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "{", "<nl>", "struct", "eventpoll", "*", "ep", "=", "file", "-", ">", "private", "_", "data", ";", "<nl>", "<nl>", "-", "if", "(", "ep", ")", "{", "<nl>", "+", "if", "(", "ep", ")", "<nl>", "ep", "_", "free", "(", "ep", ")", ";", "<nl>", "-", "kfree", "(", "ep", ")", ";", "<nl>", "-", "}", "<nl>", "<nl>", "DNPRINTK", "(", "3", ",", "(", "KERN", "_", "INFO", "\"", "[", "%", "p", "]", "eventpoll", ":", "close", "(", ")", "ep", "=", "%", "p", "\\", "n", "\"", ",", "current", ",", "ep", ")", ")", ";", "<nl>", "return", "0", ";", "<nl>", "asmlinkage", "long", "sys", "_", "epoll", "_", "create", "(", "int", "size", ")", "<nl>", "<nl>", "error", "_", "free", ":", "<nl>", "ep", "_", "free", "(", "ep", ")", ";", "<nl>", "-", "kfree", "(", "ep", ")", ";", "<nl>", "error", "_", "return", ":", "<nl>", "DNPRINTK", "(", "3", ",", "(", "KERN", "_", "INFO", "\"", "[", "%", "p", "]", "eventpoll", ":", "sys", "_", "epoll", "_", "create", "(", "%", "d", ")", "=", "%", "d", "\\", "n", "\"", ",", "<nl>", "current", ",", "size", ",", "error", ")", ")", ";", "<nl>"], "docstring_tokens": ["epoll", "move", "kfree", "inside", "ep_free"]}
{"code_tokens": ["static", "int", "ion", "_", "carveout", "_", "heap", "_", "allocate", "(", "struct", "ion", "_", "heap", "*", "heap", ",", "<nl>", "unsigned", "long", "size", ",", "unsigned", "long", "align", ",", "<nl>", "unsigned", "long", "flags", ")", "<nl>", "{", "<nl>", "+", "if", "(", "align", ">", "PAGE", "_", "SIZE", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "buffer", "-", ">", "priv", "_", "phys", "=", "ion", "_", "carveout", "_", "allocate", "(", "heap", ",", "size", ",", "align", ")", ";", "<nl>", "return", "buffer", "-", ">", "priv", "_", "phys", "=", "=", "ION", "_", "CARVEOUT", "_", "ALLOCATE", "_", "FAIL", "?", "-", "ENOMEM", ":", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ion", "add", "alignment", "check", "to", "carveout", "heap"]}
{"code_tokens": ["static", "ssize", "_", "t", "ffs", "_", "epfile", "_", "io", "(", "struct", "file", "*", "file", ",", "<nl>", "char", "_", "_", "user", "*", "buf", ",", "size", "_", "t", "len", ",", "int", "read", ")", "<nl>", "{", "<nl>", "struct", "ffs", "_", "epfile", "*", "epfile", "=", "file", "-", ">", "private", "_", "data", ";", "<nl>", "-", "struct", "usb", "_", "gadget", "*", "gadget", "=", "epfile", "-", ">", "ffs", "-", ">", "gadget", ";", "<nl>", "struct", "ffs", "_", "ep", "*", "ep", ";", "<nl>", "char", "*", "data", "=", "NULL", ";", "<nl>", "ssize", "_", "t", "ret", ",", "data", "_", "len", ";", "<nl>", "static", "ssize", "_", "t", "ffs", "_", "epfile", "_", "io", "(", "struct", "file", "*", "file", ",", "<nl>", "<nl>", "/", "*", "Allocate", "&", "copy", "*", "/", "<nl>", "if", "(", "!", "halt", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "if", "we", "_", "do", "_", "wait", "above", ",", "the", "epfile", "-", ">", "ffs", "-", ">", "gadget", "might", "be", "NULL", "<nl>", "+", "*", "before", "the", "waiting", "completes", ",", "so", "do", "not", "assign", "to", "'", "gadget", "'", "earlier", "<nl>", "+", "*", "/", "<nl>", "+", "struct", "usb", "_", "gadget", "*", "gadget", "=", "epfile", "-", ">", "ffs", "-", ">", "gadget", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Controller", "may", "require", "buffer", "size", "to", "be", "aligned", "to", "<nl>", "*", "maxpacketsize", "of", "an", "out", "endpoint", ".", "<nl>"], "docstring_tokens": ["usb", "gadget", "fix", "NULL", "pointer", "dereference"]}
{"code_tokens": ["static", "int", "read", "_", "or", "_", "initialize", "_", "metadata", "(", "struct", "dentry", "*", "dentry", ")", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "ecryptfs", "_", "mmap", "(", "struct", "file", "*", "file", ",", "struct", "vm", "_", "area", "_", "struct", "*", "vma", ")", "<nl>", "+", "{", "<nl>", "+", "struct", "file", "*", "lower", "_", "file", "=", "ecryptfs", "_", "file", "_", "to", "_", "lower", "(", "file", ")", ";", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Don", "'", "t", "allow", "mmap", "on", "top", "of", "file", "systems", "that", "don", "'", "t", "support", "it", "<nl>", "+", "*", "natively", ".", "If", "FILESYSTEM", "_", "MAX", "_", "STACK", "_", "DEPTH", ">", "2", "or", "ecryptfs", "<nl>", "+", "*", "allows", "recursive", "mounting", ",", "this", "will", "need", "to", "be", "extended", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "lower", "_", "file", "-", ">", "f", "_", "op", "-", ">", "mmap", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "return", "generic", "_", "file", "_", "mmap", "(", "file", ",", "vma", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "*", "<nl>", "*", "ecryptfs", "_", "open", "<nl>", "*", "@", "inode", ":", "inode", "specifying", "file", "to", "open", "<nl>", "const", "struct", "file", "_", "operations", "ecryptfs", "_", "main", "_", "fops", "=", "{", "<nl>", "#", "ifdef", "CONFIG", "_", "COMPAT", "<nl>", ".", "compat", "_", "ioctl", "=", "ecryptfs", "_", "compat", "_", "ioctl", ",", "<nl>", "#", "endif", "<nl>", "-", ".", "mmap", "=", "generic", "_", "file", "_", "mmap", ",", "<nl>", "+", ".", "mmap", "=", "ecryptfs", "_", "mmap", ",", "<nl>", ".", "open", "=", "ecryptfs", "_", "open", ",", "<nl>", ".", "flush", "=", "ecryptfs", "_", "flush", ",", "<nl>", ".", "release", "=", "ecryptfs", "_", "release", ",", "<nl>"], "docstring_tokens": ["ecryptfs", "don", "t", "allow", "mmap", "when", "the", "lower", "fs", "doesn", "t", "support", "it"]}
{"code_tokens": ["noinline", "struct", "pt", "_", "regs", "*", "_", "_", "cpuinit", "_", "_", "attribute", "_", "_", "(", "(", "weak", ")", ")", "idle", "_", "regs", "(", "struct", "pt", "_", "re", "<nl>", "return", "regs", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "inline", "void", "init", "_", "idle", "_", "pids", "(", "struct", "pid", "_", "link", "*", "links", ")", "<nl>", "+", "{", "<nl>", "+", "enum", "pid", "_", "type", "type", ";", "<nl>", "+", "<nl>", "+", "for", "(", "type", "=", "PIDTYPE", "_", "PID", ";", "type", "<", "PIDTYPE", "_", "MAX", ";", "+", "+", "type", ")", "{", "<nl>", "+", "INIT", "_", "HLIST", "_", "NODE", "(", "&", "links", "[", "type", "]", ".", "node", ")", ";", "/", "*", "not", "really", "needed", "*", "/", "<nl>", "+", "links", "[", "type", "]", ".", "pid", "=", "&", "init", "_", "struct", "_", "pid", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "struct", "task", "_", "struct", "*", "_", "_", "cpuinit", "fork", "_", "idle", "(", "int", "cpu", ")", "<nl>", "{", "<nl>", "struct", "task", "_", "struct", "*", "task", ";", "<nl>", "struct", "task", "_", "struct", "*", "_", "_", "cpuinit", "fork", "_", "idle", "(", "int", "cpu", ")", "<nl>", "<nl>", "task", "=", "copy", "_", "process", "(", "CLONE", "_", "VM", ",", "0", ",", "idle", "_", "regs", "(", "&", "regs", ")", ",", "0", ",", "NULL", ",", "<nl>", "&", "init", "_", "struct", "_", "pid", ",", "0", ")", ";", "<nl>", "-", "if", "(", "!", "IS", "_", "ERR", "(", "task", ")", ")", "<nl>", "+", "if", "(", "!", "IS", "_", "ERR", "(", "task", ")", ")", "{", "<nl>", "+", "init", "_", "idle", "_", "pids", "(", "task", "-", ">", "pids", ")", ";", "<nl>", "init", "_", "idle", "(", "task", ",", "cpu", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "return", "task", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["pids", "fix", "fork_idle", "to", "setup", "pids", "correctly"]}
{"code_tokens": ["static", "int", "_", "_", "br", "_", "mdb", "_", "add", "(", "struct", "net", "*", "net", ",", "struct", "net", "_", "bridge", "*", "br", ",", "<nl>", "if", "(", "!", "p", "|", "|", "p", "-", ">", "br", "!", "=", "br", "|", "|", "p", "-", ">", "state", "=", "=", "BR", "_", "STATE", "_", "DISABLED", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "ip", ",", "0", ",", "sizeof", "(", "ip", ")", ")", ";", "<nl>", "ip", ".", "proto", "=", "entry", "-", ">", "addr", ".", "proto", ";", "<nl>", "if", "(", "ip", ".", "proto", "=", "=", "htons", "(", "ETH", "_", "P", "_", "IP", ")", ")", "<nl>", "ip", ".", "u", ".", "ip4", "=", "entry", "-", ">", "addr", ".", "u", ".", "ip4", ";", "<nl>", "static", "int", "_", "_", "br", "_", "mdb", "_", "del", "(", "struct", "net", "_", "bridge", "*", "br", ",", "struct", "br", "_", "mdb", "_", "entry", "*", "entry", ")", "<nl>", "if", "(", "!", "netif", "_", "running", "(", "br", "-", ">", "dev", ")", "|", "|", "br", "-", ">", "multicast", "_", "disabled", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "ip", ",", "0", ",", "sizeof", "(", "ip", ")", ")", ";", "<nl>", "ip", ".", "proto", "=", "entry", "-", ">", "addr", ".", "proto", ";", "<nl>", "if", "(", "ip", ".", "proto", "=", "=", "htons", "(", "ETH", "_", "P", "_", "IP", ")", ")", "{", "<nl>", "if", "(", "timer", "_", "pending", "(", "&", "br", "-", ">", "ip4", "_", "other", "_", "query", ".", "timer", ")", ")", "<nl>"], "docstring_tokens": ["bridge", "mdb", "zero", "out", "the", "local", "br_ip", "variable", "before", "use"]}
{"code_tokens": ["static", "enum", "print", "_", "line", "_", "t", "trace", "_", "stack", "_", "print", "(", "struct", "trace", "_", "iterator", "*", "iter", ",", "<nl>", "<nl>", "trace", "_", "assign", "_", "type", "(", "field", ",", "iter", "-", ">", "ent", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "trace", "_", "seq", "_", "puts", "(", "s", ",", "\"", "\\", "n", "\"", ")", ")", "<nl>", "+", "goto", "partial", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "FTRACE", "_", "STACK", "_", "ENTRIES", ";", "i", "+", "+", ")", "{", "<nl>", "-", "if", "(", "!", "field", "-", ">", "caller", "[", "i", "]", ")", "<nl>", "+", "if", "(", "!", "field", "-", ">", "caller", "[", "i", "]", "|", "|", "(", "field", "-", ">", "caller", "[", "i", "]", "=", "=", "ULONG", "_", "MAX", ")", ")", "<nl>", "break", ";", "<nl>", "-", "if", "(", "i", ")", "{", "<nl>", "-", "if", "(", "!", "trace", "_", "seq", "_", "puts", "(", "s", ",", "\"", "<", "=", "\"", ")", ")", "<nl>", "-", "goto", "partial", ";", "<nl>", "+", "if", "(", "!", "trace", "_", "seq", "_", "puts", "(", "s", ",", "\"", "=", ">", "\"", ")", ")", "<nl>", "+", "goto", "partial", ";", "<nl>", "<nl>", "-", "if", "(", "!", "seq", "_", "print", "_", "ip", "_", "sym", "(", "s", ",", "field", "-", ">", "caller", "[", "i", "]", ",", "flags", ")", ")", "<nl>", "-", "goto", "partial", ";", "<nl>", "-", "}", "<nl>", "+", "if", "(", "!", "seq", "_", "print", "_", "ip", "_", "sym", "(", "s", ",", "field", "-", ">", "caller", "[", "i", "]", ",", "flags", ")", ")", "<nl>", "+", "goto", "partial", ";", "<nl>", "if", "(", "!", "trace", "_", "seq", "_", "puts", "(", "s", ",", "\"", "\\", "n", "\"", ")", ")", "<nl>", "goto", "partial", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tracing", "events", "fix", "output", "format", "of", "kernel", "stack"]}
{"code_tokens": ["static", "int", "iterate", "_", "dir", "_", "item", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "struct", "btrfs", "_", "path", "*", "path", ",", "<nl>", "buf", "=", "tmp", ";", "<nl>", "}", "<nl>", "if", "(", "!", "buf", ")", "{", "<nl>", "-", "buf", "=", "vmalloc", "(", "buf", "_", "len", ")", ";", "<nl>", "+", "buf", "=", "kvmalloc", "(", "buf", "_", "len", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "buf", ")", "{", "<nl>", "ret", "=", "-", "ENOMEM", ";", "<nl>", "goto", "out", ";", "<nl>"], "docstring_tokens": ["btrfs", "send", "use", "kvmalloc", "in", "iterate_dir_item"]}
{"code_tokens": ["static", "void", "BITSFUNC", "(", "go", ")", "(", "void", "*", "raw", "_", "addr", ",", "size", "_", "t", "raw", "_", "len", ",", "<nl>", "<nl>", "/", "*", "Validate", "mapping", "addresses", ".", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "sizeof", "(", "special", "_", "pages", ")", "/", "sizeof", "(", "special", "_", "pages", "[", "0", "]", ")", ";", "i", "+", "+", ")", "{", "<nl>", "-", "if", "(", "!", "syms", "[", "i", "]", ")", "<nl>", "+", "INT", "_", "BITS", "symval", "=", "syms", "[", "special", "_", "pages", "[", "i", "]", "]", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "symval", ")", "<nl>", "continue", ";", "/", "*", "The", "mapping", "isn", "'", "t", "used", ";", "ignore", "it", ".", "*", "/", "<nl>", "<nl>", "-", "if", "(", "syms", "[", "i", "]", "%", "4096", ")", "<nl>", "+", "if", "(", "symval", "%", "4096", ")", "<nl>", "fail", "(", "\"", "%", "s", "must", "be", "a", "multiple", "of", "4096", "\\", "n", "\"", ",", "<nl>", "required", "_", "syms", "[", "i", "]", ".", "name", ")", ";", "<nl>", "-", "if", "(", "syms", "[", "sym", "_", "vvar", "_", "start", "]", ">", "syms", "[", "i", "]", "+", "4096", ")", "<nl>", "-", "fail", "(", "\"", "%", "s", "underruns", "begin", "_", "vvar", "\\", "n", "\"", ",", "<nl>", "+", "if", "(", "symval", "+", "4096", "<", "syms", "[", "sym", "_", "vvar", "_", "start", "]", ")", "<nl>", "+", "fail", "(", "\"", "%", "s", "underruns", "vvar", "_", "start", "\\", "n", "\"", ",", "<nl>", "required", "_", "syms", "[", "i", "]", ".", "name", ")", ";", "<nl>", "-", "if", "(", "syms", "[", "i", "]", "+", "4096", ">", "0", ")", "<nl>", "+", "if", "(", "symval", "+", "4096", ">", "0", ")", "<nl>", "fail", "(", "\"", "%", "s", "is", "on", "the", "wrong", "side", "of", "the", "vdso", "text", "\\", "n", "\"", ",", "<nl>", "required", "_", "syms", "[", "i", "]", ".", "name", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["x86", "vdso", "Fix", "vdso2c", "s", "special_pages", "error", "checking"]}
{"code_tokens": ["static", "int", "perf", "_", "copy", "_", "attr", "(", "struct", "perf", "_", "event", "_", "attr", "_", "_", "user", "*", "uattr", ",", "<nl>", "if", "(", "ret", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "<nl>", "+", "attr", "-", ">", "size", "=", "size", ";", "<nl>", "+", "<nl>", "if", "(", "attr", "-", ">", "_", "_", "reserved", "_", "1", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["perf", "core", "Fix", "potential", "double", "fetch", "bug"]}
{"code_tokens": ["static", "int", "spi", "_", "imx", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "goto", "out", "_", "clk", "_", "put", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "master", "-", ">", "cs", "_", "gpios", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "No", "CS", "GPIOs", "available", "\\", "n", "\"", ")", ";", "<nl>", "+", "goto", "out", "_", "clk", "_", "put", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "master", "-", ">", "num", "_", "chipselect", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "!", "gpio", "_", "is", "_", "valid", "(", "master", "-", ">", "cs", "_", "gpios", "[", "i", "]", ")", ")", "<nl>", "continue", ";", "<nl>"], "docstring_tokens": ["spi", "imx", "Gracefully", "handle", "NULL", "master", "cs_gpios"]}
{"code_tokens": ["static", "ssize", "_", "t", "target", "_", "core", "_", "alua", "_", "tg", "_", "pt", "_", "gp", "_", "store", "_", "attr", "_", "alua", "_", "access", "_", "state", "(", "<nl>", "\"", "tg", "_", "pt", "_", "gp", "ID", ":", "%", "hu", "\\", "n", "\"", ",", "tg", "_", "pt", "_", "gp", "-", ">", "tg", "_", "pt", "_", "gp", "_", "valid", "_", "id", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "+", "if", "(", "!", "(", "dev", "-", ">", "dev", "_", "flags", "&", "DF", "_", "CONFIGURED", ")", ")", "{", "<nl>", "+", "pr", "_", "err", "(", "\"", "Unable", "to", "set", "alua", "_", "access", "_", "state", "while", "device", "is", "\"", "<nl>", "+", "\"", "not", "configured", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "}", "<nl>", "<nl>", "ret", "=", "kstrtoul", "(", "page", ",", "0", ",", "&", "tmp", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>"], "docstring_tokens": ["target", "Fix", "alua_access_state", "attribute", "OOPs", "for", "un", "configured", "devices"]}
{"code_tokens": ["static", "struct", "file", "*", "path", "_", "openat", "(", "int", "dfd", ",", "struct", "filename", "*", "pathname", ",", "<nl>", "<nl>", "if", "(", "unlikely", "(", "file", "-", ">", "f", "_", "flags", "&", "_", "_", "O", "_", "TMPFILE", ")", ")", "{", "<nl>", "error", "=", "do", "_", "tmpfile", "(", "dfd", ",", "pathname", ",", "nd", ",", "flags", ",", "op", ",", "file", ",", "&", "opened", ")", ";", "<nl>", "-", "goto", "out", ";", "<nl>", "+", "goto", "out2", ";", "<nl>", "}", "<nl>", "<nl>", "error", "=", "path", "_", "init", "(", "dfd", ",", "pathname", ",", "flags", ",", "nd", ")", ";", "<nl>", "static", "struct", "file", "*", "path", "_", "openat", "(", "int", "dfd", ",", "struct", "filename", "*", "pathname", ",", "<nl>", "}", "<nl>", "out", ":", "<nl>", "path", "_", "cleanup", "(", "nd", ")", ";", "<nl>", "+", "out2", ":", "<nl>", "if", "(", "!", "(", "opened", "&", "FILE", "_", "OPENED", ")", ")", "{", "<nl>", "BUG", "_", "ON", "(", "!", "error", ")", ";", "<nl>", "put", "_", "filp", "(", "file", ")", ";", "<nl>"], "docstring_tokens": ["path_openat", "fix", "double", "fput"]}
{"code_tokens": ["static", "int", "do", "_", "chtls", "_", "setsockopt", "(", "struct", "sock", "*", "sk", ",", "int", "optname", ",", "<nl>", "<nl>", "switch", "(", "tmp", "_", "crypto", "_", "info", ".", "cipher", "_", "type", ")", "{", "<nl>", "case", "TLS", "_", "CIPHER", "_", "AES", "_", "GCM", "_", "128", ":", "{", "<nl>", "-", "rc", "=", "copy", "_", "from", "_", "user", "(", "crypto", "_", "info", ",", "optval", ",", "<nl>", "-", "sizeof", "(", "struct", "<nl>", "-", "tls12", "_", "crypto", "_", "info", "_", "aes", "_", "gcm", "_", "128", ")", ")", ";", "<nl>", "+", "/", "*", "Obtain", "version", "and", "type", "from", "previous", "copy", "*", "/", "<nl>", "+", "crypto", "_", "info", "[", "0", "]", "=", "tmp", "_", "crypto", "_", "info", ";", "<nl>", "+", "/", "*", "Now", "copy", "the", "following", "data", "*", "/", "<nl>", "+", "rc", "=", "copy", "_", "from", "_", "user", "(", "(", "char", "*", ")", "crypto", "_", "info", "+", "sizeof", "(", "*", "crypto", "_", "info", ")", ",", "<nl>", "+", "optval", "+", "sizeof", "(", "*", "crypto", "_", "info", ")", ",", "<nl>", "+", "sizeof", "(", "struct", "tls12", "_", "crypto", "_", "info", "_", "aes", "_", "gcm", "_", "128", ")", "<nl>", "+", "-", "sizeof", "(", "*", "crypto", "_", "info", ")", ")", ";", "<nl>", "<nl>", "if", "(", "rc", ")", "{", "<nl>", "rc", "=", "-", "EFAULT", ";", "<nl>"], "docstring_tokens": ["crypto", "chtls", "fix", "a", "missing", "check", "bug"]}
{"code_tokens": ["static", "int", "pcnet32", "_", "phys", "_", "id", "(", "struct", "net", "_", "device", "*", "dev", ",", "u32", "data", ")", "<nl>", "if", "(", "(", "!", "data", ")", "|", "|", "(", "data", ">", "(", "u32", ")", "(", "MAX", "_", "SCHEDULE", "_", "TIMEOUT", "/", "HZ", ")", ")", ")", "<nl>", "data", "=", "(", "u32", ")", "(", "MAX", "_", "SCHEDULE", "_", "TIMEOUT", "/", "HZ", ")", ";", "<nl>", "<nl>", "-", "schedule", "_", "timeout", "(", "data", "*", "HZ", ")", ";", "<nl>", "+", "msleep", "_", "interruptible", "(", "data", "*", "1000", ")", ";", "<nl>", "del", "_", "timer", "_", "sync", "(", "&", "lp", "-", ">", "blink", "_", "timer", ")", ";", "<nl>", "<nl>", "/", "*", "Restore", "the", "original", "value", "of", "the", "bcrs", "*", "/", "<nl>"], "docstring_tokens": ["PATCH", "net", "pcnet32", "replace", "schedule_timeout", "with", "msleep_interruptible"]}
{"code_tokens": ["int", "kvm", "_", "arch", "_", "vcpu", "_", "init", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "}", "<nl>", "vcpu", "-", ">", "arch", ".", "mcg", "_", "cap", "=", "KVM", "_", "MAX", "_", "MCE", "_", "BANKS", ";", "<nl>", "<nl>", "-", "if", "(", "!", "zalloc", "_", "cpumask", "_", "var", "(", "&", "vcpu", "-", ">", "arch", ".", "wbinvd", "_", "dirty", "_", "mask", ",", "GFP", "_", "KERNEL", ")", ")", "<nl>", "+", "if", "(", "!", "zalloc", "_", "cpumask", "_", "var", "(", "&", "vcpu", "-", ">", "arch", ".", "wbinvd", "_", "dirty", "_", "mask", ",", "GFP", "_", "KERNEL", ")", ")", "{", "<nl>", "+", "r", "=", "-", "ENOMEM", ";", "<nl>", "goto", "fail", "_", "free", "_", "mce", "_", "banks", ";", "<nl>", "+", "}", "<nl>", "<nl>", "r", "=", "fx", "_", "init", "(", "vcpu", ")", ";", "<nl>", "if", "(", "r", ")", "<nl>"], "docstring_tokens": ["KVM", "x86", "fix", "error", "return", "code", "in", "kvm_arch_vcpu_init"]}
{"code_tokens": ["static", "bool", "ff", "_", "layout", "_", "mirror", "_", "valid", "(", "struct", "pnfs", "_", "layout", "_", "segment", "*", "lseg", ",", "<nl>", "}", "else", "<nl>", "goto", "outerr", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "mirror", "-", ">", "mirror", "_", "ds", ")", ")", "<nl>", "+", "goto", "outerr", ";", "<nl>", "+", "<nl>", "if", "(", "mirror", "-", ">", "mirror", "_", "ds", "-", ">", "ds", "=", "=", "NULL", ")", "{", "<nl>", "struct", "nfs4", "_", "deviceid", "_", "node", "*", "devid", ";", "<nl>", "devid", "=", "&", "mirror", "-", ">", "mirror", "_", "ds", "-", ">", "id", "_", "node", ";", "<nl>"], "docstring_tokens": ["nfs", "flexfiles", "fix", "kernel", "OOPS", "if", "MDS", "returns", "unsupported", "DS", "type"]}
{"code_tokens": ["static", "int", "scmi", "_", "hwmon", "_", "probe", "(", "struct", "scmi", "_", "device", "*", "sdev", ")", "<nl>", "scmi", "_", "chip", "_", "info", ".", "info", "=", "ptr", "_", "scmi", "_", "ci", ";", "<nl>", "chip", "_", "info", "=", "&", "scmi", "_", "chip", "_", "info", ";", "<nl>", "<nl>", "-", "for", "(", "type", "=", "0", ";", "type", "<", "hwmon", "_", "max", "&", "&", "nr", "_", "count", "[", "type", "]", ";", "type", "+", "+", ")", "{", "<nl>", "+", "for", "(", "type", "=", "0", ";", "type", "<", "hwmon", "_", "max", ";", "type", "+", "+", ")", "{", "<nl>", "+", "if", "(", "!", "nr", "_", "count", "[", "type", "]", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "scmi", "_", "hwmon", "_", "add", "_", "chan", "_", "info", "(", "scmi", "_", "hwmon", "_", "chan", ",", "dev", ",", "nr", "_", "count", "[", "type", "]", ",", "<nl>", "type", ",", "hwmon", "_", "attributes", "[", "type", "]", ")", ";", "<nl>", "*", "ptr", "_", "scmi", "_", "ci", "+", "+", "=", "scmi", "_", "hwmon", "_", "chan", "+", "+", ";", "<nl>"], "docstring_tokens": ["hwmon", "scmi", "handle", "absence", "of", "few", "types", "of", "sensors"]}
{"code_tokens": ["int", "gp8psk", "_", "usb", "_", "in", "_", "op", "(", "struct", "dvb", "_", "usb", "_", "device", "*", "d", ",", "u8", "req", ",", "u16", "value", ",", "u16", "index", ",", "u8", "<nl>", "struct", "gp8psk", "_", "state", "*", "st", "=", "d", "-", ">", "priv", ";", "<nl>", "int", "ret", "=", "0", ",", "try", "=", "0", ";", "<nl>", "<nl>", "+", "if", "(", "blen", ">", "sizeof", "(", "st", "-", ">", "data", ")", ")", "<nl>", "+", "return", "-", "EIO", ";", "<nl>", "+", "<nl>", "if", "(", "(", "ret", "=", "mutex", "_", "lock", "_", "interruptible", "(", "&", "d", "-", ">", "usb", "_", "mutex", ")", ")", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "int", "gp8psk", "_", "usb", "_", "out", "_", "op", "(", "struct", "dvb", "_", "usb", "_", "device", "*", "d", ",", "u8", "req", ",", "u16", "value", ",", "<nl>", "deb", "_", "xfer", "(", "\"", "out", ":", "req", ".", "%", "x", ",", "val", ":", "%", "x", ",", "ind", ":", "%", "x", ",", "buffer", ":", "\"", ",", "req", ",", "value", ",", "index", ")", ";", "<nl>", "debug", "_", "dump", "(", "b", ",", "blen", ",", "deb", "_", "xfer", ")", ";", "<nl>", "<nl>", "+", "if", "(", "blen", ">", "sizeof", "(", "st", "-", ">", "data", ")", ")", "<nl>", "+", "return", "-", "EIO", ";", "<nl>", "+", "<nl>", "if", "(", "(", "ret", "=", "mutex", "_", "lock", "_", "interruptible", "(", "&", "d", "-", ">", "usb", "_", "mutex", ")", ")", ")", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "static", "int", "gp8psk", "_", "load", "_", "bcm4500fw", "(", "struct", "dvb", "_", "usb", "_", "device", "*", "d", ")", "<nl>", "err", "(", "\"", "failed", "to", "load", "bcm4500", "firmware", ".", "\"", ")", ";", "<nl>", "goto", "out", "_", "free", ";", "<nl>", "}", "<nl>", "+", "if", "(", "buflen", ">", "64", ")", "{", "<nl>", "+", "err", "(", "\"", "firmare", "chunk", "size", "bigger", "than", "64", "bytes", ".", "\"", ")", ";", "<nl>", "+", "goto", "out", "_", "free", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "memcpy", "(", "buf", ",", "ptr", ",", "buflen", ")", ";", "<nl>", "if", "(", "dvb", "_", "usb", "_", "generic", "_", "write", "(", "d", ",", "buf", ",", "buflen", ")", ")", "{", "<nl>", "err", "(", "\"", "failed", "to", "load", "bcm4500", "firmware", ".", "\"", ")", ";", "<nl>"], "docstring_tokens": ["media", "gp8psk", "don", "t", "go", "past", "the", "buffer", "size"]}
{"code_tokens": ["static", "int", "check", "_", "vmentry", "_", "postreqs", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "struct", "vmcs12", "*", "vmcs12", ",", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "(", "vmcs12", "-", ">", "vm", "_", "entry", "_", "controls", "&", "VM", "_", "ENTRY", "_", "LOAD", "_", "BNDCFGS", ")", "&", "&", "<nl>", "+", "(", "is", "_", "noncanonical", "_", "address", "(", "vmcs12", "-", ">", "guest", "_", "bndcfgs", "&", "PAGE", "_", "MASK", ",", "vcpu", ")", "|", "|", "<nl>", "+", "(", "vmcs12", "-", ">", "guest", "_", "bndcfgs", "&", "MSR", "_", "IA32", "_", "BNDCFGS", "_", "RSVD", ")", ")", ")", "<nl>", "+", "return", "1", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["KVM", "nVMX", "Validate", "the", "IA32_BNDCFGS", "on", "nested", "VM", "entry"]}
{"code_tokens": ["static", "void", "setup", "_", "mailboxes", "(", "int", "base", "_", "io", ",", "struct", "Scsi", "_", "Host", "*", "shpnt", ")", ";", "<nl>", "static", "int", "aha1542", "_", "restart", "(", "struct", "Scsi", "_", "Host", "*", "shost", ")", ";", "<nl>", "static", "void", "aha1542", "_", "intr", "_", "handle", "(", "struct", "Scsi", "_", "Host", "*", "shost", ")", ";", "<nl>", "<nl>", "-", "#", "define", "aha1542", "_", "intr", "_", "reset", "(", "base", ")", "outb", "(", "IRST", ",", "CONTROL", "(", "base", ")", ")", "<nl>", "+", "static", "inline", "void", "aha1542", "_", "intr", "_", "reset", "(", "u16", "base", ")", "<nl>", "+", "{", "<nl>", "+", "outb", "(", "IRST", ",", "CONTROL", "(", "base", ")", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "#", "define", "WAIT", "(", "port", ",", "mask", ",", "allof", ",", "noneof", ")", "\\", "<nl>", "{", "register", "int", "WAITbits", ";", "\\", "<nl>"], "docstring_tokens": ["aha1542", "Convert", "aha1542_intr_reset", "to", "function"]}
{"code_tokens": ["xfs", "_", "inumbers", "(", "<nl>", "return", "error", ";", "<nl>", "<nl>", "bcount", "=", "MIN", "(", "left", ",", "(", "int", ")", "(", "PAGE", "_", "SIZE", "/", "sizeof", "(", "*", "buffer", ")", ")", ")", ";", "<nl>", "-", "buffer", "=", "kmem", "_", "alloc", "(", "bcount", "*", "sizeof", "(", "*", "buffer", ")", ",", "KM", "_", "SLEEP", ")", ";", "<nl>", "+", "buffer", "=", "kmem", "_", "zalloc", "(", "bcount", "*", "sizeof", "(", "*", "buffer", ")", ",", "KM", "_", "SLEEP", ")", ";", "<nl>", "do", "{", "<nl>", "struct", "xfs", "_", "inobt", "_", "rec", "_", "incore", "r", ";", "<nl>", "int", "stat", ";", "<nl>"], "docstring_tokens": ["xfs", "fix", "kernel", "memory", "exposure", "problems"]}
{"code_tokens": ["static", "void", "intel", "_", "pt", "_", "insn", "_", "decoder", "(", "struct", "insn", "*", "insn", ",", "<nl>", "enum", "intel", "_", "pt", "_", "insn", "_", "branch", "branch", "=", "INTEL", "_", "PT", "_", "BR", "_", "NO", "_", "BRANCH", ";", "<nl>", "int", "ext", ";", "<nl>", "<nl>", "+", "intel", "_", "pt", "_", "insn", "-", ">", "rel", "=", "0", ";", "<nl>", "+", "<nl>", "if", "(", "insn", "_", "is", "_", "avx", "(", "insn", ")", ")", "{", "<nl>", "intel", "_", "pt", "_", "insn", "-", ">", "op", "=", "INTEL", "_", "PT", "_", "OP", "_", "OTHER", ";", "<nl>", "intel", "_", "pt", "_", "insn", "-", ">", "branch", "=", "INTEL", "_", "PT", "_", "BR", "_", "NO", "_", "BRANCH", ";", "<nl>"], "docstring_tokens": ["perf", "intel", "PT", "BTS", "Add", "missing", "initialization"]}
{"code_tokens": ["int", "bdi", "_", "register", "(", "struct", "backing", "_", "dev", "_", "info", "*", "bdi", ",", "struct", "device", "*", "parent", ",", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "struct", "device", "*", "dev", ";", "<nl>", "<nl>", "+", "if", "(", "WARN", "_", "ON", "(", "bdi", "-", ">", "dev", ")", ")", "<nl>", "+", "goto", "exit", ";", "<nl>", "+", "<nl>", "va", "_", "start", "(", "args", ",", "fmt", ")", ";", "<nl>", "dev", "=", "device", "_", "create", "_", "vargs", "(", "bdi", "_", "class", ",", "parent", ",", "MKDEV", "(", "0", ",", "0", ")", ",", "bdi", ",", "fmt", ",", "args", ")", ";", "<nl>", "va", "_", "end", "(", "args", ")", ";", "<nl>"], "docstring_tokens": ["bdi", "register", "sysfs", "bdi", "device", "only", "once", "per", "queue"]}
{"code_tokens": ["#", "include", "\"", "internal", ".", "h", "\"", "<nl>", "#", "include", "<", "keys", "/", "user", "-", "type", ".", "h", ">", "<nl>", "<nl>", "+", "static", "int", "request", "_", "key", "_", "auth", "_", "preparse", "(", "struct", "key", "_", "preparsed", "_", "payload", "*", ")", ";", "<nl>", "+", "static", "void", "request", "_", "key", "_", "auth", "_", "free", "_", "preparse", "(", "struct", "key", "_", "preparsed", "_", "payload", "*", ")", ";", "<nl>", "static", "int", "request", "_", "key", "_", "auth", "_", "instantiate", "(", "struct", "key", "*", ",", "<nl>", "struct", "key", "_", "preparsed", "_", "payload", "*", ")", ";", "<nl>", "static", "void", "request", "_", "key", "_", "auth", "_", "describe", "(", "const", "struct", "key", "*", ",", "struct", "seq", "_", "file", "*", ")", ";", "<nl>", "static", "long", "request", "_", "key", "_", "auth", "_", "read", "(", "const", "struct", "key", "*", ",", "char", "_", "_", "user", "*", ",", "size", "_", "t", ")", ";", "<nl>", "struct", "key", "_", "type", "key", "_", "type", "_", "request", "_", "key", "_", "auth", "=", "{", "<nl>", ".", "name", "=", "\"", ".", "request", "_", "key", "_", "auth", "\"", ",", "<nl>", ".", "def", "_", "datalen", "=", "sizeof", "(", "struct", "request", "_", "key", "_", "auth", ")", ",", "<nl>", "+", ".", "preparse", "=", "request", "_", "key", "_", "auth", "_", "preparse", ",", "<nl>", "+", ".", "free", "_", "preparse", "=", "request", "_", "key", "_", "auth", "_", "free", "_", "preparse", ",", "<nl>", ".", "instantiate", "=", "request", "_", "key", "_", "auth", "_", "instantiate", ",", "<nl>", ".", "describe", "=", "request", "_", "key", "_", "auth", "_", "describe", ",", "<nl>", ".", "revoke", "=", "request", "_", "key", "_", "auth", "_", "revoke", ",", "<nl>", "struct", "key", "_", "type", "key", "_", "type", "_", "request", "_", "key", "_", "auth", "=", "{", "<nl>", ".", "read", "=", "request", "_", "key", "_", "auth", "_", "read", ",", "<nl>", "}", ";", "<nl>", "<nl>", "+", "int", "request", "_", "key", "_", "auth", "_", "preparse", "(", "struct", "key", "_", "preparsed", "_", "payload", "*", "prep", ")", "<nl>", "+", "{", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "void", "request", "_", "key", "_", "auth", "_", "free", "_", "preparse", "(", "struct", "key", "_", "preparsed", "_", "payload", "*", "prep", ")", "<nl>", "+", "{", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Instantiate", "a", "request", "-", "key", "authorisation", "key", ".", "<nl>", "*", "/", "<nl>"], "docstring_tokens": ["KEYS", "request_key_auth", "Provide", "key", "preparsing"]}
{"code_tokens": ["int", "intel", "_", "atomic", "_", "check", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "state", "-", ">", "allow", "_", "modeset", "=", "false", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "ncrtcs", ";", "i", "+", "+", ")", "{", "<nl>", "struct", "intel", "_", "crtc", "*", "crtc", "=", "to", "_", "intel", "_", "crtc", "(", "state", "-", ">", "crtcs", "[", "i", "]", ")", ";", "<nl>", "+", "if", "(", "crtc", ")", "<nl>", "+", "memset", "(", "&", "crtc", "-", ">", "atomic", ",", "0", ",", "sizeof", "(", "crtc", "-", ">", "atomic", ")", ")", ";", "<nl>", "if", "(", "crtc", "&", "&", "crtc", "-", ">", "pipe", "!", "=", "nuclear", "_", "pipe", ")", "<nl>", "not", "_", "nuclear", "=", "true", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "Clear", "crtc", "atomic", "flags", "at", "beginning", "of", "transaction"]}
{"code_tokens": ["static", "irqreturn", "_", "t", "cyy", "_", "interrupt", "(", "int", "irq", ",", "void", "*", "dev", "_", "id", ")", "<nl>", "card", "_", "base", "_", "addr", "=", "cinfo", "-", ">", "base", "_", "addr", ";", "<nl>", "index", "=", "cinfo", "-", ">", "bus", "_", "index", ";", "<nl>", "<nl>", "+", "/", "*", "card", "was", "not", "initialized", "yet", "(", "e", ".", "g", ".", "DEBUG", "_", "SHIRQ", ")", "*", "/", "<nl>", "+", "if", "(", "unlikely", "(", "card", "_", "base", "_", "addr", "=", "=", "NULL", ")", ")", "<nl>", "+", "return", "IRQ", "_", "HANDLED", ";", "<nl>", "+", "<nl>", "/", "*", "This", "loop", "checks", "all", "chips", "in", "the", "card", ".", "Make", "a", "note", "whenever", "<nl>", "_", "any", "_", "chip", "had", "some", "work", "to", "do", ",", "as", "this", "is", "considered", "an", "<nl>", "indication", "that", "there", "will", "be", "more", "to", "do", ".", "Only", "when", "no", "chip", "<nl>"], "docstring_tokens": ["Char", "cyclades", "allow", "DEBUG_SHIRQ"]}
{"code_tokens": ["static", "int", "ilk", "_", "compute", "_", "pipe", "_", "wm", "(", "struct", "intel", "_", "crtc", "*", "intel", "_", "crtc", ",", "<nl>", "return", "PTR", "_", "ERR", "(", "cstate", ")", ";", "<nl>", "<nl>", "pipe", "_", "wm", "=", "&", "cstate", "-", ">", "wm", ".", "optimal", ".", "ilk", ";", "<nl>", "+", "memset", "(", "pipe", "_", "wm", ",", "0", ",", "sizeof", "(", "*", "pipe", "_", "wm", ")", ")", ";", "<nl>", "<nl>", "for", "_", "each", "_", "intel", "_", "plane", "_", "on", "_", "crtc", "(", "dev", ",", "intel", "_", "crtc", ",", "intel", "_", "plane", ")", "{", "<nl>", "ps", "=", "drm", "_", "atomic", "_", "get", "_", "plane", "_", "state", "(", "state", ",", "<nl>"], "docstring_tokens": ["drm", "i915", "Start", "WM", "computation", "from", "scratch", "on", "ILK", "BDW"]}
{"code_tokens": ["extern", "struct", "group", "_", "info", "init", "_", "groups", ";", "<nl>", "#", "define", "INIT", "_", "STRUCT", "_", "PID", "{", "\\", "<nl>", ".", "count", "=", "ATOMIC", "_", "INIT", "(", "1", ")", ",", "\\", "<nl>", ".", "tasks", "=", "{", "\\", "<nl>", "-", "{", ".", "first", "=", "&", "init", "_", "task", ".", "pids", "[", "PIDTYPE", "_", "PID", "]", ".", "node", "}", ",", "\\", "<nl>", "-", "{", ".", "first", "=", "&", "init", "_", "task", ".", "pids", "[", "PIDTYPE", "_", "PGID", "]", ".", "node", "}", ",", "\\", "<nl>", "-", "{", ".", "first", "=", "&", "init", "_", "task", ".", "pids", "[", "PIDTYPE", "_", "SID", "]", ".", "node", "}", ",", "\\", "<nl>", "+", "{", ".", "first", "=", "NULL", "}", ",", "\\", "<nl>", "+", "{", ".", "first", "=", "NULL", "}", ",", "\\", "<nl>", "+", "{", ".", "first", "=", "NULL", "}", ",", "\\", "<nl>", "}", ",", "\\", "<nl>", ".", "level", "=", "0", ",", "\\", "<nl>", ".", "numbers", "=", "{", "{", "\\", "<nl>", "extern", "struct", "group", "_", "info", "init", "_", "groups", ";", "<nl>", "{", "\\", "<nl>", ".", "node", "=", "{", "\\", "<nl>", ".", "next", "=", "NULL", ",", "\\", "<nl>", "-", ".", "pprev", "=", "&", "init", "_", "struct", "_", "pid", ".", "tasks", "[", "type", "]", ".", "first", ",", "\\", "<nl>", "+", ".", "pprev", "=", "NULL", ",", "\\", "<nl>", "}", ",", "\\", "<nl>", ".", "pid", "=", "&", "init", "_", "struct", "_", "pid", ",", "\\", "<nl>", "}", "<nl>"], "docstring_tokens": ["pids", "init_struct_pid", "tasks", "should", "never", "see", "the", "swapper", "process"]}
{"code_tokens": ["static", "struct", "snd", "_", "soc", "_", "dai", "_", "driver", "psc", "_", "i2s", "_", "dai", "[", "]", "=", "{", "{", "<nl>", ".", "ops", "=", "&", "psc", "_", "i2s", "_", "dai", "_", "ops", ",", "<nl>", "}", "}", ";", "<nl>", "<nl>", "+", "static", "const", "struct", "snd", "_", "soc", "_", "component", "_", "driver", "psc", "_", "i2s", "_", "component", "=", "{", "<nl>", "+", ".", "name", "=", "\"", "mpc5200", "-", "i2s", "\"", ",", "<nl>", "+", "}", ";", "<nl>", "+", "<nl>", "/", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "<nl>", "*", "OF", "platform", "bus", "binding", "code", ":", "<nl>", "*", "-", "Probe", "/", "remove", "operations", "<nl>", "static", "int", "psc", "_", "i2s", "_", "of", "_", "probe", "(", "struct", "platform", "_", "device", "*", "op", ")", "<nl>", "if", "(", "rc", "!", "=", "0", ")", "<nl>", "return", "rc", ";", "<nl>", "<nl>", "-", "rc", "=", "snd", "_", "soc", "_", "register", "_", "dais", "(", "&", "op", "-", ">", "dev", ",", "psc", "_", "i2s", "_", "dai", ",", "ARRAY", "_", "SIZE", "(", "psc", "_", "i2s", "_", "dai", ")", ")", ";", "<nl>", "+", "rc", "=", "snd", "_", "soc", "_", "register", "_", "component", "(", "&", "op", "-", ">", "dev", ",", "&", "psc", "_", "i2s", "_", "component", ",", "<nl>", "+", "psc", "_", "i2s", "_", "dai", ",", "ARRAY", "_", "SIZE", "(", "psc", "_", "i2s", "_", "dai", ")", ")", ";", "<nl>", "if", "(", "rc", "!", "=", "0", ")", "{", "<nl>", "pr", "_", "err", "(", "\"", "Failed", "to", "register", "DAI", "\\", "n", "\"", ")", ";", "<nl>", "return", "rc", ";", "<nl>", "static", "int", "psc", "_", "i2s", "_", "of", "_", "probe", "(", "struct", "platform", "_", "device", "*", "op", ")", "<nl>", "static", "int", "psc", "_", "i2s", "_", "of", "_", "remove", "(", "struct", "platform", "_", "device", "*", "op", ")", "<nl>", "{", "<nl>", "mpc5200", "_", "audio", "_", "dma", "_", "destroy", "(", "op", ")", ";", "<nl>", "-", "snd", "_", "soc", "_", "unregister", "_", "dais", "(", "&", "op", "-", ">", "dev", ",", "ARRAY", "_", "SIZE", "(", "psc", "_", "i2s", "_", "dai", ")", ")", ";", "<nl>", "+", "snd", "_", "soc", "_", "unregister", "_", "component", "(", "&", "op", "-", ">", "dev", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "switch", "over", "to", "use", "snd_soc_register_component", "on", "mpc5200", "i2s"]}
{"code_tokens": ["static", "int", "mxcmci", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "<nl>", "res", "=", "platform", "_", "get", "_", "resource", "(", "pdev", ",", "IORESOURCE", "_", "MEM", ",", "0", ")", ";", "<nl>", "irq", "=", "platform", "_", "get", "_", "irq", "(", "pdev", ",", "0", ")", ";", "<nl>", "-", "if", "(", "irq", "<", "0", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "+", "if", "(", "irq", "<", "0", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "failed", "to", "get", "IRQ", ":", "%", "d", "\\", "n", "\"", ",", "irq", ")", ";", "<nl>", "+", "return", "irq", ";", "<nl>", "+", "}", "<nl>", "<nl>", "mmc", "=", "mmc", "_", "alloc", "_", "host", "(", "sizeof", "(", "*", "host", ")", ",", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "if", "(", "!", "mmc", ")", "<nl>"], "docstring_tokens": ["mmc", "mxcmmc", "fix", "error", "return", "code", "in", "mxcmci_probe"]}
{"code_tokens": ["#", "include", "<", "linux", "/", "kernel", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "list", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "once", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "percpu", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "uapi", "/", "linux", "/", "random", ".", "h", ">", "<nl>", "<nl>", "struct", "rnd", "_", "state", "{", "<nl>", "_", "_", "u32", "s1", ",", "s2", ",", "s3", ",", "s4", ";", "<nl>", "}", ";", "<nl>", "<nl>", "+", "DECLARE", "_", "PER", "_", "CPU", "(", "struct", "rnd", "_", "state", ",", "net", "_", "rand", "_", "state", ")", "_", "_", "latent", "_", "entropy", ";", "<nl>", "+", "<nl>", "u32", "prandom", "_", "u32", "_", "state", "(", "struct", "rnd", "_", "state", "*", "state", ")", ";", "<nl>", "void", "prandom", "_", "bytes", "_", "state", "(", "struct", "rnd", "_", "state", "*", "state", ",", "void", "*", "buf", ",", "size", "_", "t", "nbytes", ")", ";", "<nl>", "void", "prandom", "_", "seed", "_", "full", "_", "state", "(", "struct", "rnd", "_", "state", "_", "_", "percpu", "*", "pcpu", "_", "state", ")", ";", "mmm", "drivers", "/", "char", "/", "random", ".", "c", "<nl>", "#", "include", "<", "linux", "/", "kernel", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "list", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "once", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "percpu", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "uapi", "/", "linux", "/", "random", ".", "h", ">", "<nl>", "<nl>", "struct", "rnd", "_", "state", "{", "<nl>", "_", "_", "u32", "s1", ",", "s2", ",", "s3", ",", "s4", ";", "<nl>", "}", ";", "<nl>", "<nl>", "+", "DECLARE", "_", "PER", "_", "CPU", "(", "struct", "rnd", "_", "state", ",", "net", "_", "rand", "_", "state", ")", "_", "_", "latent", "_", "entropy", ";", "<nl>", "+", "<nl>", "u32", "prandom", "_", "u32", "_", "state", "(", "struct", "rnd", "_", "state", "*", "state", ")", ";", "<nl>", "void", "prandom", "_", "bytes", "_", "state", "(", "struct", "rnd", "_", "state", "*", "state", ",", "void", "*", "buf", ",", "size", "_", "t", "nbytes", ")", ";", "<nl>", "void", "prandom", "_", "seed", "_", "full", "_", "state", "(", "struct", "rnd", "_", "state", "_", "_", "percpu", "*", "pcpu", "_", "state", ")", ";", "<nl>", "void", "add", "_", "interrupt", "_", "randomness", "(", "int", "irq", ",", "int", "irq", "_", "flags", ")", "<nl>", "<nl>", "fast", "_", "mix", "(", "fast", "_", "pool", ")", ";", "<nl>", "add", "_", "interrupt", "_", "bench", "(", "cycles", ")", ";", "<nl>", "+", "this", "_", "cpu", "_", "add", "(", "net", "_", "rand", "_", "state", ".", "s1", ",", "fast", "_", "pool", "-", ">", "pool", "[", "cycles", "&", "3", "]", ")", ";", "<nl>", "<nl>", "if", "(", "unlikely", "(", "crng", "_", "init", "=", "=", "0", ")", ")", "{", "<nl>", "if", "(", "(", "fast", "_", "pool", "-", ">", "count", ">", "=", "64", ")", "&", "&", "mmm", "lib", "/", "random32", ".", "c", "<nl>", "#", "include", "<", "linux", "/", "kernel", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "list", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "once", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "percpu", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "uapi", "/", "linux", "/", "random", ".", "h", ">", "<nl>", "<nl>", "struct", "rnd", "_", "state", "{", "<nl>", "_", "_", "u32", "s1", ",", "s2", ",", "s3", ",", "s4", ";", "<nl>", "}", ";", "<nl>", "<nl>", "+", "DECLARE", "_", "PER", "_", "CPU", "(", "struct", "rnd", "_", "state", ",", "net", "_", "rand", "_", "state", ")", "_", "_", "latent", "_", "entropy", ";", "<nl>", "+", "<nl>", "u32", "prandom", "_", "u32", "_", "state", "(", "struct", "rnd", "_", "state", "*", "state", ")", ";", "<nl>", "void", "prandom", "_", "bytes", "_", "state", "(", "struct", "rnd", "_", "state", "*", "state", ",", "void", "*", "buf", ",", "size", "_", "t", "nbytes", ")", ";", "<nl>", "void", "prandom", "_", "seed", "_", "full", "_", "state", "(", "struct", "rnd", "_", "state", "_", "_", "percpu", "*", "pcpu", "_", "state", ")", ";", "<nl>", "void", "add", "_", "interrupt", "_", "randomness", "(", "int", "irq", ",", "int", "irq", "_", "flags", ")", "<nl>", "<nl>", "fast", "_", "mix", "(", "fast", "_", "pool", ")", ";", "<nl>", "add", "_", "interrupt", "_", "bench", "(", "cycles", ")", ";", "<nl>", "+", "this", "_", "cpu", "_", "add", "(", "net", "_", "rand", "_", "state", ".", "s1", ",", "fast", "_", "pool", "-", ">", "pool", "[", "cycles", "&", "3", "]", ")", ";", "<nl>", "<nl>", "if", "(", "unlikely", "(", "crng", "_", "init", "=", "=", "0", ")", ")", "{", "<nl>", "if", "(", "(", "fast", "_", "pool", "-", ">", "count", ">", "=", "64", ")", "&", "&", "<nl>", "static", "inline", "void", "prandom", "_", "state", "_", "selftest", "(", "void", ")", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "static", "DEFINE", "_", "PER", "_", "CPU", "(", "struct", "rnd", "_", "state", ",", "net", "_", "rand", "_", "state", ")", "_", "_", "latent", "_", "entropy", ";", "<nl>", "+", "DEFINE", "_", "PER", "_", "CPU", "(", "struct", "rnd", "_", "state", ",", "net", "_", "rand", "_", "state", ")", "_", "_", "latent", "_", "entropy", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "prandom", "_", "u32", "_", "state", "-", "seeded", "pseudo", "-", "random", "number", "generator", ".", "mmm", "kernel", "/", "time", "/", "timer", ".", "c", "<nl>", "#", "include", "<", "linux", "/", "kernel", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "list", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "once", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "percpu", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "uapi", "/", "linux", "/", "random", ".", "h", ">", "<nl>", "<nl>", "struct", "rnd", "_", "state", "{", "<nl>", "_", "_", "u32", "s1", ",", "s2", ",", "s3", ",", "s4", ";", "<nl>", "}", ";", "<nl>", "<nl>", "+", "DECLARE", "_", "PER", "_", "CPU", "(", "struct", "rnd", "_", "state", ",", "net", "_", "rand", "_", "state", ")", "_", "_", "latent", "_", "entropy", ";", "<nl>", "+", "<nl>", "u32", "prandom", "_", "u32", "_", "state", "(", "struct", "rnd", "_", "state", "*", "state", ")", ";", "<nl>", "void", "prandom", "_", "bytes", "_", "state", "(", "struct", "rnd", "_", "state", "*", "state", ",", "void", "*", "buf", ",", "size", "_", "t", "nbytes", ")", ";", "<nl>", "void", "prandom", "_", "seed", "_", "full", "_", "state", "(", "struct", "rnd", "_", "state", "_", "_", "percpu", "*", "pcpu", "_", "state", ")", ";", "<nl>", "void", "add", "_", "interrupt", "_", "randomness", "(", "int", "irq", ",", "int", "irq", "_", "flags", ")", "<nl>", "<nl>", "fast", "_", "mix", "(", "fast", "_", "pool", ")", ";", "<nl>", "add", "_", "interrupt", "_", "bench", "(", "cycles", ")", ";", "<nl>", "+", "this", "_", "cpu", "_", "add", "(", "net", "_", "rand", "_", "state", ".", "s1", ",", "fast", "_", "pool", "-", ">", "pool", "[", "cycles", "&", "3", "]", ")", ";", "<nl>", "<nl>", "if", "(", "unlikely", "(", "crng", "_", "init", "=", "=", "0", ")", ")", "{", "<nl>", "if", "(", "(", "fast", "_", "pool", "-", ">", "count", ">", "=", "64", ")", "&", "&", "<nl>", "static", "inline", "void", "prandom", "_", "state", "_", "selftest", "(", "void", ")", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "static", "DEFINE", "_", "PER", "_", "CPU", "(", "struct", "rnd", "_", "state", ",", "net", "_", "rand", "_", "state", ")", "_", "_", "latent", "_", "entropy", ";", "<nl>", "+", "DEFINE", "_", "PER", "_", "CPU", "(", "struct", "rnd", "_", "state", ",", "net", "_", "rand", "_", "state", ")", "_", "_", "latent", "_", "entropy", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "prandom", "_", "u32", "_", "state", "-", "seeded", "pseudo", "-", "random", "number", "generator", ".", "<nl>", "#", "include", "<", "linux", "/", "sched", "/", "debug", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "slab", ".", "h", ">", "<nl>", "#", "include", "<", "linux", "/", "compat", ".", "h", ">", "<nl>", "+", "#", "include", "<", "linux", "/", "random", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "linux", "/", "uaccess", ".", "h", ">", "<nl>", "#", "include", "<", "asm", "/", "unistd", ".", "h", ">", "<nl>", "void", "update", "_", "process", "_", "times", "(", "int", "user", "_", "tick", ")", "<nl>", "scheduler", "_", "tick", "(", ")", ";", "<nl>", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "POSIX", "_", "TIMERS", ")", ")", "<nl>", "run", "_", "posix", "_", "cpu", "_", "timers", "(", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "The", "current", "CPU", "might", "make", "use", "of", "net", "randoms", "without", "receiving", "IRQs", "<nl>", "+", "*", "to", "renew", "them", "often", "enough", ".", "Let", "'", "s", "update", "the", "net", "_", "rand", "_", "state", "from", "a", "<nl>", "+", "*", "non", "-", "constant", "value", "that", "'", "s", "not", "affine", "to", "the", "number", "of", "calls", "to", "make", "<nl>", "+", "*", "sure", "it", "'", "s", "updated", "when", "there", "'", "s", "some", "activity", "(", "we", "don", "'", "t", "care", "in", "idle", ")", ".", "<nl>", "+", "*", "/", "<nl>", "+", "this", "_", "cpu", "_", "add", "(", "net", "_", "rand", "_", "state", ".", "s1", ",", "rol32", "(", "jiffies", ",", "24", ")", "+", "user", "_", "tick", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["random32", "update", "the", "net", "random", "state", "on", "interrupt", "and", "activity"]}
{"code_tokens": ["static", "void", "pcie", "_", "disable", "_", "notification", "(", "struct", "controller", "*", "ctrl", ")", "<nl>", "u16", "mask", ";", "<nl>", "mask", "=", "(", "PCI", "_", "EXP", "_", "SLTCTL", "_", "PDCE", "|", "PCI", "_", "EXP", "_", "SLTCTL", "_", "ABPE", "|", "<nl>", "PCI", "_", "EXP", "_", "SLTCTL", "_", "MRLSCE", "|", "PCI", "_", "EXP", "_", "SLTCTL", "_", "PFDE", "|", "<nl>", "-", "PCI", "_", "EXP", "_", "SLTCTL", "_", "HPIE", "|", "PCI", "_", "EXP", "_", "SLTCTL", "_", "CCIE", ")", ";", "<nl>", "+", "PCI", "_", "EXP", "_", "SLTCTL", "_", "HPIE", "|", "PCI", "_", "EXP", "_", "SLTCTL", "_", "CCIE", "|", "<nl>", "+", "PCI", "_", "EXP", "_", "SLTCTL", "_", "DLLSCE", ")", ";", "<nl>", "if", "(", "pcie", "_", "write", "_", "cmd", "(", "ctrl", ",", "0", ",", "mask", ")", ")", "<nl>", "ctrl", "_", "warn", "(", "ctrl", ",", "\"", "Cannot", "disable", "software", "notification", "\\", "n", "\"", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PCI", "pciehp", "disable", "DLL", "state", "changed", "event", "notification"]}
{"code_tokens": ["_", "_", "_", "update", "_", "load", "_", "avg", "(", "u64", "now", ",", "int", "cpu", ",", "struct", "sched", "_", "avg", "*", "sa", ",", "<nl>", "<nl>", "sa", "-", ">", "last", "_", "update", "_", "time", "+", "=", "delta", "<", "<", "10", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "running", "is", "a", "subset", "of", "runnable", "(", "weight", ")", "so", "running", "can", "'", "t", "be", "set", "if", "<nl>", "+", "*", "runnable", "is", "clear", ".", "But", "there", "are", "some", "corner", "cases", "where", "the", "current", "<nl>", "+", "*", "se", "has", "been", "already", "dequeued", "but", "cfs", "_", "rq", "-", ">", "curr", "still", "points", "to", "it", ".", "<nl>", "+", "*", "This", "means", "that", "weight", "will", "be", "0", "but", "not", "running", "for", "a", "sched", "_", "entity", "<nl>", "+", "*", "but", "also", "for", "a", "cfs", "_", "rq", "if", "the", "latter", "becomes", "idle", ".", "As", "an", "example", ",", "<nl>", "+", "*", "this", "happens", "during", "idle", "_", "balance", "(", ")", "which", "calls", "<nl>", "+", "*", "update", "_", "blocked", "_", "averages", "(", ")", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "weight", ")", "<nl>", "+", "running", "=", "0", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Now", "we", "know", "we", "crossed", "measurement", "unit", "boundaries", ".", "The", "*", "_", "avg", "<nl>", "*", "accrues", "by", "two", "steps", ":", "<nl>"], "docstring_tokens": ["sched", "pelt", "Fix", "false", "running", "accounting"]}
{"code_tokens": ["static", "acpi", "_", "status", "WMID", "_", "set", "_", "capabilities", "(", "void", ")", "<nl>", "devices", "=", "*", "(", "(", "u32", "*", ")", "obj", "-", ">", "buffer", ".", "pointer", ")", ";", "<nl>", "}", "else", "if", "(", "obj", "-", ">", "type", "=", "=", "ACPI", "_", "TYPE", "_", "INTEGER", ")", "{", "<nl>", "devices", "=", "(", "u32", ")", "obj", "-", ">", "integer", ".", "value", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "kfree", "(", "out", ".", "pointer", ")", ";", "<nl>", "+", "return", "AE", "_", "ERROR", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "kfree", "(", "out", ".", "pointer", ")", ";", "<nl>"], "docstring_tokens": ["acer", "wmi", "avoid", "the", "warning", "of", "devices", "may", "be", "used", "uninitialized"]}
{"code_tokens": ["struct", "hid", "_", "collection", "{", "<nl>", "struct", "hid", "_", "usage", "{", "<nl>", "unsigned", "hid", ";", "/", "*", "hid", "usage", "code", "*", "/", "<nl>", "unsigned", "collection", "_", "index", ";", "/", "*", "index", "into", "collection", "array", "*", "/", "<nl>", "+", "unsigned", "usage", "_", "index", ";", "/", "*", "index", "into", "usage", "array", "*", "/", "<nl>", "/", "*", "hidinput", "data", "*", "/", "<nl>", "_", "_", "u16", "code", ";", "/", "*", "input", "driver", "code", "*", "/", "<nl>", "_", "_", "u8", "type", ";", "/", "*", "input", "driver", "type", "*", "/", "mmm", "drivers", "/", "hid", "/", "hid", "-", "core", ".", "c", "<nl>", "struct", "hid", "_", "collection", "{", "<nl>", "struct", "hid", "_", "usage", "{", "<nl>", "unsigned", "hid", ";", "/", "*", "hid", "usage", "code", "*", "/", "<nl>", "unsigned", "collection", "_", "index", ";", "/", "*", "index", "into", "collection", "array", "*", "/", "<nl>", "+", "unsigned", "usage", "_", "index", ";", "/", "*", "index", "into", "usage", "array", "*", "/", "<nl>", "/", "*", "hidinput", "data", "*", "/", "<nl>", "_", "_", "u16", "code", ";", "/", "*", "input", "driver", "code", "*", "/", "<nl>", "_", "_", "u8", "type", ";", "/", "*", "input", "driver", "type", "*", "/", "<nl>", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "hid", "_", "register", "_", "report", ")", ";", "<nl>", "static", "struct", "hid", "_", "field", "*", "hid", "_", "register", "_", "field", "(", "struct", "hid", "_", "report", "*", "report", ",", "unsigned", "usages", ",", "unsigned", "values", ")", "<nl>", "{", "<nl>", "struct", "hid", "_", "field", "*", "field", ";", "<nl>", "+", "int", "i", ";", "<nl>", "<nl>", "if", "(", "report", "-", ">", "maxfield", "=", "=", "HID", "_", "MAX", "_", "FIELDS", ")", "{", "<nl>", "hid", "_", "err", "(", "report", "-", ">", "device", ",", "\"", "too", "many", "fields", "in", "report", "\\", "n", "\"", ")", ";", "<nl>", "static", "struct", "hid", "_", "field", "*", "hid", "_", "register", "_", "field", "(", "struct", "hid", "_", "report", "*", "report", ",", "unsigned", "<nl>", "field", "-", ">", "value", "=", "(", "s32", "*", ")", "(", "field", "-", ">", "usage", "+", "usages", ")", ";", "<nl>", "field", "-", ">", "report", "=", "report", ";", "<nl>", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "usages", ";", "i", "+", "+", ")", "<nl>", "+", "field", "-", ">", "usage", "[", "i", "]", ".", "usage", "_", "index", "=", "i", ";", "<nl>", "+", "<nl>", "return", "field", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["HID", "add", "usage_index", "in", "struct", "hid_usage"]}
{"code_tokens": ["static", "int", "_", "_", "bprm", "_", "mm", "_", "init", "(", "struct", "linux", "_", "binprm", "*", "bprm", ")", "<nl>", "if", "(", "!", "vma", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "-", "down", "_", "write", "(", "&", "mm", "-", ">", "mmap", "_", "sem", ")", ";", "<nl>", "+", "if", "(", "down", "_", "write", "_", "killable", "(", "&", "mm", "-", ">", "mmap", "_", "sem", ")", ")", "{", "<nl>", "+", "err", "=", "-", "EINTR", ";", "<nl>", "+", "goto", "err", "_", "free", ";", "<nl>", "+", "}", "<nl>", "vma", "-", ">", "vm", "_", "mm", "=", "mm", ";", "<nl>", "<nl>", "/", "*", "<nl>", "static", "int", "_", "_", "bprm", "_", "mm", "_", "init", "(", "struct", "linux", "_", "binprm", "*", "bprm", ")", "<nl>", "return", "0", ";", "<nl>", "err", ":", "<nl>", "up", "_", "write", "(", "&", "mm", "-", ">", "mmap", "_", "sem", ")", ";", "<nl>", "+", "err", "_", "free", ":", "<nl>", "bprm", "-", ">", "vma", "=", "NULL", ";", "<nl>", "kmem", "_", "cache", "_", "free", "(", "vm", "_", "area", "_", "cachep", ",", "vma", ")", ";", "<nl>", "return", "err", ";", "<nl>", "int", "setup", "_", "arg", "_", "pages", "(", "struct", "linux", "_", "binprm", "*", "bprm", ",", "<nl>", "bprm", "-", ">", "loader", "-", "=", "stack", "_", "shift", ";", "<nl>", "bprm", "-", ">", "exec", "-", "=", "stack", "_", "shift", ";", "<nl>", "<nl>", "-", "down", "_", "write", "(", "&", "mm", "-", ">", "mmap", "_", "sem", ")", ";", "<nl>", "+", "if", "(", "down", "_", "write", "_", "killable", "(", "&", "mm", "-", ">", "mmap", "_", "sem", ")", ")", "<nl>", "+", "return", "-", "EINTR", ";", "<nl>", "+", "<nl>", "vm", "_", "flags", "=", "VM", "_", "STACK", "_", "FLAGS", ";", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["exec", "make", "exec", "path", "waiting", "for", "mmap_sem", "killable"]}
{"code_tokens": ["struct", "drm", "_", "i915", "_", "file", "_", "private", "{", "<nl>", "<nl>", "#", "define", "HAS", "_", "FORCE", "_", "WAKE", "(", "dev", ")", "(", "INTEL", "_", "INFO", "(", "dev", ")", "-", ">", "has", "_", "force", "_", "wake", ")", "<nl>", "<nl>", "-", "#", "define", "HAS", "_", "L3", "_", "GPU", "_", "CACHE", "(", "dev", ")", "(", "IS", "_", "IVYBRIDGE", "(", "dev", ")", ")", "<nl>", "+", "#", "define", "HAS", "_", "L3", "_", "GPU", "_", "CACHE", "(", "dev", ")", "(", "IS", "_", "IVYBRIDGE", "(", "dev", ")", "|", "|", "IS", "_", "HASWELL", "(", "dev", ")", ")", "<nl>", "<nl>", "#", "include", "\"", "i915", "_", "trace", ".", "h", "\"", "<nl>"], "docstring_tokens": ["drm", "i915", "Expand", "DPF", "support", "to", "Haswell"]}
{"code_tokens": ["sctp", "_", "disposition", "_", "t", "sctp", "_", "sf", "_", "do", "_", "5", "_", "2", "_", "4", "_", "dupcook", "(", "struct", "net", "*", "net", ",", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Delete", "the", "tempory", "new", "association", ".", "*", "/", "<nl>", "-", "sctp", "_", "add", "_", "cmd", "_", "sf", "(", "commands", ",", "SCTP", "_", "CMD", "_", "NEW", "_", "ASOC", ",", "SCTP", "_", "ASOC", "(", "new", "_", "asoc", ")", ")", ";", "<nl>", "+", "sctp", "_", "add", "_", "cmd", "_", "sf", "(", "commands", ",", "SCTP", "_", "CMD", "_", "SET", "_", "ASOC", ",", "SCTP", "_", "ASOC", "(", "new", "_", "asoc", ")", ")", ";", "<nl>", "sctp", "_", "add", "_", "cmd", "_", "sf", "(", "commands", ",", "SCTP", "_", "CMD", "_", "DELETE", "_", "TCB", ",", "SCTP", "_", "NULL", "(", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Restore", "association", "pointer", "to", "provide", "SCTP", "command", "interpeter", "<nl>"], "docstring_tokens": ["sctp", "Use", "correct", "sideffect", "command", "in", "duplicate", "cookie", "handling"]}
{"code_tokens": ["static", "void", "mac80211", "_", "hwsim", "_", "tx", "_", "frame", "_", "nl", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ",", "<nl>", "goto", "nla", "_", "put", "_", "failure", ";", "<nl>", "<nl>", "genlmsg", "_", "end", "(", "skb", ",", "msg", "_", "head", ")", ";", "<nl>", "-", "genlmsg", "_", "unicast", "(", "&", "init", "_", "net", ",", "skb", ",", "dst", "_", "portid", ")", ";", "<nl>", "+", "if", "(", "genlmsg", "_", "unicast", "(", "&", "init", "_", "net", ",", "skb", ",", "dst", "_", "portid", ")", ")", "<nl>", "+", "goto", "err", "_", "free", "_", "txskb", ";", "<nl>", "<nl>", "/", "*", "Enqueue", "the", "packet", "*", "/", "<nl>", "skb", "_", "queue", "_", "tail", "(", "&", "data", "-", ">", "pending", ",", "my", "_", "skb", ")", ";", "<nl>", "static", "void", "mac80211", "_", "hwsim", "_", "tx", "_", "frame", "_", "nl", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ",", "<nl>", "return", ";", "<nl>", "<nl>", "nla", "_", "put", "_", "failure", ":", "<nl>", "+", "nlmsg", "_", "free", "(", "skb", ")", ";", "<nl>", "+", "err", "_", "free", "_", "txskb", ":", "<nl>", "printk", "(", "KERN", "_", "DEBUG", "\"", "mac80211", "_", "hwsim", ":", "error", "occurred", "in", "%", "s", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "ieee80211", "_", "free", "_", "txskb", "(", "hw", ",", "my", "_", "skb", ")", ";", "<nl>", "data", "-", ">", "tx", "_", "failed", "+", "+", ";", "<nl>"], "docstring_tokens": ["mac80211_hwsim", "fix", "error", "handling", "in", "tx_frame_nl"]}
{"code_tokens": ["void", "msm", "_", "gem", "_", "free", "_", "object", "(", "struct", "drm", "_", "gem", "_", "object", "*", "obj", ")", "<nl>", "if", "(", "msm", "_", "obj", "-", ">", "pages", ")", "<nl>", "drm", "_", "free", "_", "large", "(", "msm", "_", "obj", "-", ">", "pages", ")", ";", "<nl>", "<nl>", "+", "drm", "_", "prime", "_", "gem", "_", "destroy", "(", "obj", ",", "msm", "_", "obj", "-", ">", "sgt", ")", ";", "<nl>", "}", "else", "{", "<nl>", "vunmap", "(", "msm", "_", "obj", "-", ">", "vaddr", ")", ";", "<nl>", "put", "_", "pages", "(", "obj", ")", ";", "<nl>"], "docstring_tokens": ["drm", "msm", "Call", "drm_prime_gem_destroy", "to", "clean", "up", "imported", "GEM", "object"]}
{"code_tokens": ["struct", "em28xx", "{", "<nl>", "<nl>", "/", "*", "locks", "*", "/", "<nl>", "struct", "mutex", "lock", ";", "<nl>", "+", "struct", "mutex", "ctrl", "_", "urb", "_", "lock", ";", "/", "*", "protects", "urb", "_", "buf", "*", "/", "<nl>", "/", "*", "spinlock", "_", "t", "queue", "_", "lock", ";", "*", "/", "<nl>", "struct", "list", "_", "head", "inqueue", ",", "outqueue", ";", "<nl>", "wait", "_", "queue", "_", "head", "_", "t", "open", ",", "wait", "_", "frame", ",", "wait", "_", "stream", ";", "mmm", "drivers", "/", "media", "/", "video", "/", "em28xx", "/", "em28xx", "-", "core", ".", "c", "<nl>", "struct", "em28xx", "{", "<nl>", "<nl>", "/", "*", "locks", "*", "/", "<nl>", "struct", "mutex", "lock", ";", "<nl>", "+", "struct", "mutex", "ctrl", "_", "urb", "_", "lock", ";", "/", "*", "protects", "urb", "_", "buf", "*", "/", "<nl>", "/", "*", "spinlock", "_", "t", "queue", "_", "lock", ";", "*", "/", "<nl>", "struct", "list", "_", "head", "inqueue", ",", "outqueue", ";", "<nl>", "wait", "_", "queue", "_", "head", "_", "t", "open", ",", "wait", "_", "frame", ",", "wait", "_", "stream", ";", "<nl>", "int", "em28xx", "_", "read", "_", "reg", "_", "req", "_", "len", "(", "struct", "em28xx", "*", "dev", ",", "u8", "req", ",", "u16", "reg", ",", "<nl>", "<nl>", "em28xx", "_", "regdbg", "(", "\"", "req", "=", "%", "02x", ",", "reg", "=", "%", "02x", "\"", ",", "req", ",", "reg", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "ret", "=", "usb", "_", "control", "_", "msg", "(", "dev", "-", ">", "udev", ",", "usb", "_", "rcvctrlpipe", "(", "dev", "-", ">", "udev", ",", "0", ")", ",", "req", ",", "<nl>", "USB", "_", "DIR", "_", "IN", "|", "USB", "_", "TYPE", "_", "VENDOR", "|", "USB", "_", "RECIP", "_", "DEVICE", ",", "<nl>", "0x0000", ",", "reg", ",", "dev", "-", ">", "urb", "_", "buf", ",", "len", ",", "HZ", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "if", "(", "reg", "_", "debug", ")", "<nl>", "printk", "(", "\"", "failed", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "len", ")", "<nl>", "memcpy", "(", "buf", ",", "dev", "-", ">", "urb", "_", "buf", ",", "len", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "+", "<nl>", "if", "(", "reg", "_", "debug", ")", "{", "<nl>", "printk", "(", "\"", "%", "02x", "values", ":", "\"", ",", "ret", ")", ";", "<nl>", "for", "(", "byte", "=", "0", ";", "byte", "<", "len", ";", "byte", "+", "+", ")", "<nl>", "int", "em28xx", "_", "read", "_", "reg", "_", "req", "(", "struct", "em28xx", "*", "dev", ",", "u8", "req", ",", "u16", "reg", ")", "<nl>", "<nl>", "em28xx", "_", "regdbg", "(", "\"", "req", "=", "%", "02x", ",", "reg", "=", "%", "02x", ":", "\"", ",", "req", ",", "reg", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "ret", "=", "usb", "_", "control", "_", "msg", "(", "dev", "-", ">", "udev", ",", "usb", "_", "rcvctrlpipe", "(", "dev", "-", ">", "udev", ",", "0", ")", ",", "req", ",", "<nl>", "USB", "_", "DIR", "_", "IN", "|", "USB", "_", "TYPE", "_", "VENDOR", "|", "USB", "_", "RECIP", "_", "DEVICE", ",", "<nl>", "0x0000", ",", "reg", ",", "dev", "-", ">", "urb", "_", "buf", ",", "1", ",", "HZ", ")", ";", "<nl>", "+", "val", "=", "dev", "-", ">", "urb", "_", "buf", "[", "0", "]", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "+", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "printk", "(", "\"", "failed", "!", "\\", "n", "\"", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "val", "=", "dev", "-", ">", "urb", "_", "buf", "[", "0", "]", ";", "<nl>", "-", "<nl>", "if", "(", "reg", "_", "debug", ")", "<nl>", "printk", "(", "\"", "%", "02x", "\\", "n", "\"", ",", "(", "unsigned", "char", ")", "val", ")", ";", "<nl>", "<nl>", "int", "em28xx", "_", "write", "_", "regs", "_", "req", "(", "struct", "em28xx", "*", "dev", ",", "u8", "req", ",", "u16", "reg", ",", "char", "*", "buf", ",", "<nl>", "printk", "(", "\"", "\\", "n", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "memcpy", "(", "dev", "-", ">", "urb", "_", "buf", ",", "buf", ",", "len", ")", ";", "<nl>", "ret", "=", "usb", "_", "control", "_", "msg", "(", "dev", "-", ">", "udev", ",", "usb", "_", "sndctrlpipe", "(", "dev", "-", ">", "udev", ",", "0", ")", ",", "req", ",", "<nl>", "USB", "_", "DIR", "_", "OUT", "|", "USB", "_", "TYPE", "_", "VENDOR", "|", "USB", "_", "RECIP", "_", "DEVICE", ",", "<nl>", "0x0000", ",", "reg", ",", "dev", "-", ">", "urb", "_", "buf", ",", "len", ",", "HZ", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "<nl>", "if", "(", "dev", "-", ">", "wait", "_", "after", "_", "write", ")", "<nl>", "msleep", "(", "dev", "-", ">", "wait", "_", "after", "_", "write", ")", ";", "mmm", "drivers", "/", "media", "/", "video", "/", "em28xx", "/", "em28xx", "-", "video", ".", "c", "<nl>", "struct", "em28xx", "{", "<nl>", "<nl>", "/", "*", "locks", "*", "/", "<nl>", "struct", "mutex", "lock", ";", "<nl>", "+", "struct", "mutex", "ctrl", "_", "urb", "_", "lock", ";", "/", "*", "protects", "urb", "_", "buf", "*", "/", "<nl>", "/", "*", "spinlock", "_", "t", "queue", "_", "lock", ";", "*", "/", "<nl>", "struct", "list", "_", "head", "inqueue", ",", "outqueue", ";", "<nl>", "wait", "_", "queue", "_", "head", "_", "t", "open", ",", "wait", "_", "frame", ",", "wait", "_", "stream", ";", "<nl>", "int", "em28xx", "_", "read", "_", "reg", "_", "req", "_", "len", "(", "struct", "em28xx", "*", "dev", ",", "u8", "req", ",", "u16", "reg", ",", "<nl>", "<nl>", "em28xx", "_", "regdbg", "(", "\"", "req", "=", "%", "02x", ",", "reg", "=", "%", "02x", "\"", ",", "req", ",", "reg", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "ret", "=", "usb", "_", "control", "_", "msg", "(", "dev", "-", ">", "udev", ",", "usb", "_", "rcvctrlpipe", "(", "dev", "-", ">", "udev", ",", "0", ")", ",", "req", ",", "<nl>", "USB", "_", "DIR", "_", "IN", "|", "USB", "_", "TYPE", "_", "VENDOR", "|", "USB", "_", "RECIP", "_", "DEVICE", ",", "<nl>", "0x0000", ",", "reg", ",", "dev", "-", ">", "urb", "_", "buf", ",", "len", ",", "HZ", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "if", "(", "reg", "_", "debug", ")", "<nl>", "printk", "(", "\"", "failed", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "len", ")", "<nl>", "memcpy", "(", "buf", ",", "dev", "-", ">", "urb", "_", "buf", ",", "len", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "+", "<nl>", "if", "(", "reg", "_", "debug", ")", "{", "<nl>", "printk", "(", "\"", "%", "02x", "values", ":", "\"", ",", "ret", ")", ";", "<nl>", "for", "(", "byte", "=", "0", ";", "byte", "<", "len", ";", "byte", "+", "+", ")", "<nl>", "int", "em28xx", "_", "read", "_", "reg", "_", "req", "(", "struct", "em28xx", "*", "dev", ",", "u8", "req", ",", "u16", "reg", ")", "<nl>", "<nl>", "em28xx", "_", "regdbg", "(", "\"", "req", "=", "%", "02x", ",", "reg", "=", "%", "02x", ":", "\"", ",", "req", ",", "reg", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "ret", "=", "usb", "_", "control", "_", "msg", "(", "dev", "-", ">", "udev", ",", "usb", "_", "rcvctrlpipe", "(", "dev", "-", ">", "udev", ",", "0", ")", ",", "req", ",", "<nl>", "USB", "_", "DIR", "_", "IN", "|", "USB", "_", "TYPE", "_", "VENDOR", "|", "USB", "_", "RECIP", "_", "DEVICE", ",", "<nl>", "0x0000", ",", "reg", ",", "dev", "-", ">", "urb", "_", "buf", ",", "1", ",", "HZ", ")", ";", "<nl>", "+", "val", "=", "dev", "-", ">", "urb", "_", "buf", "[", "0", "]", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "+", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "printk", "(", "\"", "failed", "!", "\\", "n", "\"", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "val", "=", "dev", "-", ">", "urb", "_", "buf", "[", "0", "]", ";", "<nl>", "-", "<nl>", "if", "(", "reg", "_", "debug", ")", "<nl>", "printk", "(", "\"", "%", "02x", "\\", "n", "\"", ",", "(", "unsigned", "char", ")", "val", ")", ";", "<nl>", "<nl>", "int", "em28xx", "_", "write", "_", "regs", "_", "req", "(", "struct", "em28xx", "*", "dev", ",", "u8", "req", ",", "u16", "reg", ",", "char", "*", "buf", ",", "<nl>", "printk", "(", "\"", "\\", "n", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "memcpy", "(", "dev", "-", ">", "urb", "_", "buf", ",", "buf", ",", "len", ")", ";", "<nl>", "ret", "=", "usb", "_", "control", "_", "msg", "(", "dev", "-", ">", "udev", ",", "usb", "_", "sndctrlpipe", "(", "dev", "-", ">", "udev", ",", "0", ")", ",", "req", ",", "<nl>", "USB", "_", "DIR", "_", "OUT", "|", "USB", "_", "TYPE", "_", "VENDOR", "|", "USB", "_", "RECIP", "_", "DEVICE", ",", "<nl>", "0x0000", ",", "reg", ",", "dev", "-", ">", "urb", "_", "buf", ",", "len", ",", "HZ", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "<nl>", "if", "(", "dev", "-", ">", "wait", "_", "after", "_", "write", ")", "<nl>", "msleep", "(", "dev", "-", ">", "wait", "_", "after", "_", "write", ")", ";", "<nl>", "static", "int", "em28xx", "_", "init", "_", "dev", "(", "struct", "em28xx", "*", "*", "devhandle", ",", "struct", "usb", "_", "device", "*", "udev", ",", "<nl>", "<nl>", "dev", "-", ">", "udev", "=", "udev", ";", "<nl>", "mutex", "_", "init", "(", "&", "dev", "-", ">", "lock", ")", ";", "<nl>", "+", "mutex", "_", "init", "(", "&", "dev", "-", ">", "ctrl", "_", "urb", "_", "lock", ")", ";", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "dev", "-", ">", "slock", ")", ";", "<nl>", "init", "_", "waitqueue", "_", "head", "(", "&", "dev", "-", ">", "open", ")", ";", "<nl>", "init", "_", "waitqueue", "_", "head", "(", "&", "dev", "-", ">", "wait", "_", "frame", ")", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "9647", "em28xx", "void", "having", "two", "concurrent", "control", "URB", "s"]}
{"code_tokens": ["int", "arizona", "_", "set", "_", "sysclk", "(", "struct", "snd", "_", "soc", "_", "codec", "*", "codec", ",", "int", "clk", "_", "id", ",", "<nl>", "case", "147456000", ":", "<nl>", "val", "|", "=", "6", "<", "<", "ARIZONA", "_", "SYSCLK", "_", "FREQ", "_", "SHIFT", ";", "<nl>", "break", ";", "<nl>", "+", "case", "0", ":", "<nl>", "+", "dev", "_", "dbg", "(", "arizona", "-", ">", "dev", ",", "\"", "%", "s", "cleared", "\\", "n", "\"", ",", "name", ")", ";", "<nl>", "+", "*", "clk", "=", "freq", ";", "<nl>", "+", "return", "0", ";", "<nl>", "default", ":", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "static", "int", "arizona", "_", "startup", "(", "struct", "snd", "_", "pcm", "_", "substream", "*", "substream", ",", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "base", "_", "rate", "=", "=", "0", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "if", "(", "base", "_", "rate", "%", "8000", ")", "<nl>", "constraint", "=", "&", "arizona", "_", "44k1", "_", "constraint", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["ASoC", "arizona", "Support", "clearing", "clocks"]}
{"code_tokens": ["static", "struct", "id", "_", "map", "_", "entry", "*", "<nl>", "id", "_", "map", "_", "alloc", "(", "struct", "ib", "_", "device", "*", "ibdev", ",", "int", "slave", "_", "id", ",", "u32", "sl", "_", "cm", "_", "id", ")", "<nl>", "{", "<nl>", "int", "ret", ";", "<nl>", "-", "static", "int", "next", "_", "id", ";", "<nl>", "struct", "id", "_", "map", "_", "entry", "*", "ent", ";", "<nl>", "struct", "mlx4", "_", "ib", "_", "sriov", "*", "sriov", "=", "&", "to", "_", "mdev", "(", "ibdev", ")", "-", ">", "sriov", ";", "<nl>", "<nl>", "id", "_", "map", "_", "alloc", "(", "struct", "ib", "_", "device", "*", "ibdev", ",", "int", "slave", "_", "id", ",", "u32", "sl", "_", "cm", "_", "id", ")", "<nl>", "idr", "_", "preload", "(", "GFP", "_", "KERNEL", ")", ";", "<nl>", "spin", "_", "lock", "(", "&", "to", "_", "mdev", "(", "ibdev", ")", "-", ">", "sriov", ".", "id", "_", "map", "_", "lock", ")", ";", "<nl>", "<nl>", "-", "ret", "=", "idr", "_", "alloc", "(", "&", "sriov", "-", ">", "pv", "_", "id", "_", "table", ",", "ent", ",", "next", "_", "id", ",", "0", ",", "GFP", "_", "NOWAIT", ")", ";", "<nl>", "+", "ret", "=", "idr", "_", "alloc", "_", "cyclic", "(", "&", "sriov", "-", ">", "pv", "_", "id", "_", "table", ",", "ent", ",", "0", ",", "0", ",", "GFP", "_", "NOWAIT", ")", ";", "<nl>", "if", "(", "ret", ">", "=", "0", ")", "{", "<nl>", "-", "next", "_", "id", "=", "max", "(", "ret", "+", "1", ",", "0", ")", ";", "<nl>", "ent", "-", ">", "pv", "_", "cm", "_", "id", "=", "(", "u32", ")", "ret", ";", "<nl>", "sl", "_", "id", "_", "map", "_", "add", "(", "ibdev", ",", "ent", ")", ";", "<nl>", "list", "_", "add", "_", "tail", "(", "&", "ent", "-", ">", "list", ",", "&", "sriov", "-", ">", "cm", "_", "list", ")", ";", "<nl>"], "docstring_tokens": ["drivers", "infiniband", "hw", "mlx4", "convert", "to", "using", "idr_alloc_cyclic"]}
{"code_tokens": ["static", "int", "ttusbdecfe", "_", "dvbs", "_", "diseqc", "_", "send", "_", "master", "_", "cmd", "(", "struct", "dvb", "_", "frontend", "*", "fe", ",", "struc", "<nl>", "0x00", ",", "0x00", ",", "0x00", ",", "0x00", ",", "<nl>", "0x00", ",", "0x00", "}", ";", "<nl>", "<nl>", "+", "if", "(", "cmd", "-", ">", "msg", "_", "len", ">", "sizeof", "(", "b", ")", "-", "4", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "memcpy", "(", "&", "b", "[", "4", "]", ",", "cmd", "-", ">", "msg", ",", "cmd", "-", ">", "msg", "_", "len", ")", ";", "<nl>", "<nl>", "state", "-", ">", "config", "-", ">", "send", "_", "command", "(", "fe", ",", "0x72", ",", "<nl>"], "docstring_tokens": ["media", "ttusb", "dec", "buffer", "overflow", "in", "ioctl"]}
{"code_tokens": ["static", "inline", "int", "cipso", "_", "v4", "_", "validate", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "unsigned", "char", "err", "_", "offset", "=", "0", ";", "<nl>", "u8", "opt", "_", "len", "=", "opt", "[", "1", "]", ";", "<nl>", "u8", "opt", "_", "iter", ";", "<nl>", "+", "u8", "tag", "_", "len", ";", "<nl>", "<nl>", "if", "(", "opt", "_", "len", "<", "8", ")", "{", "<nl>", "err", "_", "offset", "=", "1", ";", "<nl>", "static", "inline", "int", "cipso", "_", "v4", "_", "validate", "(", "const", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "}", "<nl>", "<nl>", "for", "(", "opt", "_", "iter", "=", "6", ";", "opt", "_", "iter", "<", "opt", "_", "len", ";", ")", "{", "<nl>", "-", "if", "(", "opt", "[", "opt", "_", "iter", "+", "1", "]", ">", "(", "opt", "_", "len", "-", "opt", "_", "iter", ")", ")", "{", "<nl>", "+", "tag", "_", "len", "=", "opt", "[", "opt", "_", "iter", "+", "1", "]", ";", "<nl>", "+", "if", "(", "(", "tag", "_", "len", "=", "=", "0", ")", "|", "|", "(", "opt", "[", "opt", "_", "iter", "+", "1", "]", ">", "(", "opt", "_", "len", "-", "opt", "_", "iter", ")", ")", ")", "{", "<nl>", "err", "_", "offset", "=", "opt", "_", "iter", "+", "1", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "-", "opt", "_", "iter", "+", "=", "opt", "[", "opt", "_", "iter", "+", "1", "]", ";", "<nl>", "+", "opt", "_", "iter", "+", "=", "tag", "_", "len", ";", "<nl>", "}", "<nl>", "<nl>", "out", ":", "<nl>"], "docstring_tokens": ["net", "fix", "cipso", "packet", "validation", "when", "NETLABEL"]}
{"code_tokens": ["int", "sst", "_", "hsw", "_", "stream", "_", "get", "_", "volume", "(", "struct", "sst", "_", "hsw", "*", "hsw", ",", "struct", "sst", "_", "hsw", "_", "stream", "*", "stream", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "sst", "_", "dsp", "_", "read", "(", "hsw", "-", ">", "dsp", ",", "volume", ",", "<nl>", "-", "stream", "-", ">", "reply", ".", "volume", "_", "register", "_", "address", "[", "channel", "]", ",", "sizeof", "(", "volume", ")", ")", ";", "<nl>", "+", "stream", "-", ">", "reply", ".", "volume", "_", "register", "_", "address", "[", "channel", "]", ",", "<nl>", "+", "sizeof", "(", "*", "volume", ")", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "Intel", "Fix", "incorrect", "sizeof", "in", "sst_hsw_stream_get_volume"]}
{"code_tokens": ["static", "int", "_", "_", "rds", "_", "rdma", "_", "map", "(", "struct", "rds", "_", "sock", "*", "rs", ",", "struct", "rds", "_", "get", "_", "mr", "_", "args", "*", "args", ",", "<nl>", "long", "i", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "-", "if", "(", "rs", "-", ">", "rs", "_", "bound", "_", "addr", "=", "=", "0", ")", "{", "<nl>", "+", "if", "(", "rs", "-", ">", "rs", "_", "bound", "_", "addr", "=", "=", "0", "|", "|", "!", "rs", "-", ">", "rs", "_", "transport", ")", "{", "<nl>", "ret", "=", "-", "ENOTCONN", ";", "/", "*", "XXX", "not", "a", "great", "errno", "*", "/", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["rds", "Fix", "NULL", "pointer", "dereference", "in", "__rds_rdma_map"]}
{"code_tokens": ["void", "kv", "_", "dpm", "_", "powergate", "_", "uvd", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "bool", "gate", ")", "<nl>", "pi", "-", ">", "uvd", "_", "power", "_", "gated", "=", "gate", ";", "<nl>", "<nl>", "if", "(", "gate", ")", "{", "<nl>", "-", "uvd", "_", "v1", "_", "0", "_", "stop", "(", "rdev", ")", ";", "<nl>", "-", "cik", "_", "update", "_", "cg", "(", "rdev", ",", "RADEON", "_", "CG", "_", "BLOCK", "_", "UVD", ",", "false", ")", ";", "<nl>", "+", "if", "(", "pi", "-", ">", "caps", "_", "uvd", "_", "pg", ")", "{", "<nl>", "+", "uvd", "_", "v1", "_", "0", "_", "stop", "(", "rdev", ")", ";", "<nl>", "+", "cik", "_", "update", "_", "cg", "(", "rdev", ",", "RADEON", "_", "CG", "_", "BLOCK", "_", "UVD", ",", "false", ")", ";", "<nl>", "+", "}", "<nl>", "kv", "_", "update", "_", "uvd", "_", "dpm", "(", "rdev", ",", "gate", ")", ";", "<nl>", "if", "(", "pi", "-", ">", "caps", "_", "uvd", "_", "pg", ")", "<nl>", "kv", "_", "notify", "_", "message", "_", "to", "_", "smu", "(", "rdev", ",", "PPSMC", "_", "MSG", "_", "UVDPowerOFF", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "if", "(", "pi", "-", ">", "caps", "_", "uvd", "_", "pg", ")", "<nl>", "+", "if", "(", "pi", "-", ">", "caps", "_", "uvd", "_", "pg", ")", "{", "<nl>", "kv", "_", "notify", "_", "message", "_", "to", "_", "smu", "(", "rdev", ",", "PPSMC", "_", "MSG", "_", "UVDPowerON", ")", ";", "<nl>", "-", "uvd", "_", "v4", "_", "2", "_", "resume", "(", "rdev", ")", ";", "<nl>", "-", "uvd", "_", "v1", "_", "0", "_", "start", "(", "rdev", ")", ";", "<nl>", "-", "cik", "_", "update", "_", "cg", "(", "rdev", ",", "RADEON", "_", "CG", "_", "BLOCK", "_", "UVD", ",", "true", ")", ";", "<nl>", "+", "uvd", "_", "v4", "_", "2", "_", "resume", "(", "rdev", ")", ";", "<nl>", "+", "uvd", "_", "v1", "_", "0", "_", "start", "(", "rdev", ")", ";", "<nl>", "+", "cik", "_", "update", "_", "cg", "(", "rdev", ",", "RADEON", "_", "CG", "_", "BLOCK", "_", "UVD", ",", "true", ")", ";", "<nl>", "+", "}", "<nl>", "kv", "_", "update", "_", "uvd", "_", "dpm", "(", "rdev", ",", "gate", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "radeon", "dpm", "only", "need", "to", "reprogram", "uvd", "if", "uvd", "pg", "is", "enabled"]}
{"code_tokens": ["static", "int", "hci", "_", "uart", "_", "send", "_", "frame", "(", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "*", "/", "<nl>", "static", "int", "hci", "_", "uart", "_", "tty", "_", "open", "(", "struct", "tty", "_", "struct", "*", "tty", ")", "<nl>", "{", "<nl>", "-", "struct", "hci", "_", "uart", "*", "hu", "=", "(", "void", "*", ")", "tty", "-", ">", "disc", "_", "data", ";", "<nl>", "+", "struct", "hci", "_", "uart", "*", "hu", ";", "<nl>", "<nl>", "BT", "_", "DBG", "(", "\"", "tty", "%", "p", "\"", ",", "tty", ")", ";", "<nl>", "<nl>", "-", "/", "*", "FIXME", ":", "This", "btw", "is", "bogus", ",", "nothing", "requires", "the", "old", "ldisc", "to", "clear", "<nl>", "-", "the", "pointer", "*", "/", "<nl>", "-", "if", "(", "hu", ")", "<nl>", "-", "return", "-", "EEXIST", ";", "<nl>", "-", "<nl>", "/", "*", "Error", "if", "the", "tty", "has", "no", "write", "op", "instead", "of", "leaving", "an", "exploitable", "<nl>", "hole", "*", "/", "<nl>", "if", "(", "tty", "-", ">", "ops", "-", ">", "write", "=", "=", "NULL", ")", "<nl>"], "docstring_tokens": ["TTY", "hci_ldisc", "remove", "invalid", "check", "in", "open"]}
{"code_tokens": ["struct", "reg", "_", "beacon", "{", "<nl>", "struct", "ieee80211", "_", "channel", "chan", ";", "<nl>", "}", ";", "<nl>", "<nl>", "+", "static", "void", "reg", "_", "todo", "(", "struct", "work", "_", "struct", "*", "work", ")", ";", "<nl>", "+", "static", "DECLARE", "_", "WORK", "(", "reg", "_", "work", ",", "reg", "_", "todo", ")", ";", "<nl>", "+", "<nl>", "/", "*", "We", "keep", "a", "static", "world", "regulatory", "domain", "in", "case", "of", "the", "absence", "of", "CRDA", "*", "/", "<nl>", "static", "const", "struct", "ieee80211", "_", "regdomain", "world", "_", "regdom", "=", "{", "<nl>", ".", "n", "_", "reg", "_", "rules", "=", "5", ",", "<nl>", "static", "void", "reg", "_", "todo", "(", "struct", "work", "_", "struct", "*", "work", ")", "<nl>", "reg", "_", "process", "_", "pending", "_", "beacon", "_", "hints", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "DECLARE", "_", "WORK", "(", "reg", "_", "work", ",", "reg", "_", "todo", ")", ";", "<nl>", "-", "<nl>", "static", "void", "queue", "_", "regulatory", "_", "request", "(", "struct", "regulatory", "_", "request", "*", "request", ")", "<nl>", "{", "<nl>", "if", "(", "isalpha", "(", "request", "-", ">", "alpha2", "[", "0", "]", ")", ")", "<nl>"], "docstring_tokens": ["cfg80211", "move", "reg_work", "and", "reg_todo", "above"]}
{"code_tokens": ["char", "*", "cifs", "_", "compose", "_", "mount", "_", "options", "(", "const", "char", "*", "sb", "_", "mountdata", ",", "<nl>", "*", "string", "to", "the", "length", "of", "the", "original", "string", "to", "allow", "for", "worst", "case", ".", "<nl>", "*", "/", "<nl>", "md", "_", "len", "=", "strlen", "(", "sb", "_", "mountdata", ")", "+", "INET6", "_", "ADDRSTRLEN", ";", "<nl>", "-", "mountdata", "=", "kzalloc", "(", "md", "_", "len", "+", "1", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "mountdata", "=", "kzalloc", "(", "md", "_", "len", "+", "sizeof", "(", "\"", "ip", "=", "\"", ")", "+", "1", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "mountdata", "=", "=", "NULL", ")", "{", "<nl>", "rc", "=", "-", "ENOMEM", ";", "<nl>", "goto", "compose", "_", "mount", "_", "options", "_", "err", ";", "<nl>"], "docstring_tokens": ["cifs", "fix", "potential", "overflow", "in", "cifs_compose_mount_options"]}
{"code_tokens": ["struct", "lg", "_", "cpu", "{", "<nl>", "unsigned", "long", "regs", "_", "page", ";", "<nl>", "struct", "lguest", "_", "regs", "*", "regs", ";", "<nl>", "<nl>", "+", "struct", "lguest", "_", "pages", "*", "last", "_", "pages", ";", "<nl>", "+", "<nl>", "int", "cpu", "_", "pgd", ";", "/", "*", "which", "pgd", "this", "cpu", "is", "currently", "using", "*", "/", "<nl>", "<nl>", "/", "*", "If", "a", "hypercall", "was", "asked", "for", ",", "this", "points", "to", "the", "arguments", ".", "*", "/", "<nl>", "struct", "lguest", "<nl>", "<nl>", "/", "*", "Bitmap", "of", "what", "has", "changed", ":", "see", "CHANGED", "_", "*", "above", ".", "*", "/", "<nl>", "int", "changed", ";", "<nl>", "-", "struct", "lguest", "_", "pages", "*", "last", "_", "pages", ";", "<nl>", "<nl>", "struct", "pgdir", "pgdirs", "[", "4", "]", ";", "<nl>", "struct", "lg", "_", "cpu", "{", "<nl>", "unsigned", "long", "regs", "_", "page", ";", "<nl>", "struct", "lguest", "_", "regs", "*", "regs", ";", "<nl>", "<nl>", "+", "struct", "lguest", "_", "pages", "*", "last", "_", "pages", ";", "<nl>", "+", "<nl>", "int", "cpu", "_", "pgd", ";", "/", "*", "which", "pgd", "this", "cpu", "is", "currently", "using", "*", "/", "<nl>", "<nl>", "/", "*", "If", "a", "hypercall", "was", "asked", "for", ",", "this", "points", "to", "the", "arguments", ".", "*", "/", "<nl>", "struct", "lguest", "<nl>", "<nl>", "/", "*", "Bitmap", "of", "what", "has", "changed", ":", "see", "CHANGED", "_", "*", "above", ".", "*", "/", "<nl>", "int", "changed", ";", "<nl>", "-", "struct", "lguest", "_", "pages", "*", "last", "_", "pages", ";", "<nl>", "<nl>", "struct", "pgdir", "pgdirs", "[", "4", "]", ";", "<nl>", "<nl>", "static", "int", "lg", "_", "cpu", "_", "start", "(", "struct", "lg", "_", "cpu", "*", "cpu", ",", "unsigned", "id", ",", "unsigned", "long", "start", "_", "ip", ")", "<nl>", "*", "reference", ",", "it", "is", "destroyed", "before", "close", "(", ")", "is", "called", ".", "*", "/", "<nl>", "cpu", "-", ">", "mm", "=", "get", "_", "task", "_", "mm", "(", "cpu", "-", ">", "tsk", ")", ";", "<nl>", "<nl>", "+", "/", "*", "We", "remember", "which", "CPU", "'", "s", "pages", "this", "Guest", "used", "last", ",", "for", "optimization", "<nl>", "+", "*", "when", "the", "same", "Guest", "runs", "on", "the", "same", "CPU", "twice", ".", "*", "/", "<nl>", "+", "cpu", "-", ">", "last", "_", "pages", "=", "NULL", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "initialize", "(", "struct", "file", "*", "file", ",", "const", "unsigned", "long", "_", "_", "user", "*", "input", ")", "<nl>", "if", "(", "err", ")", "<nl>", "goto", "free", "_", "regs", ";", "<nl>", "<nl>", "-", "/", "*", "We", "remember", "which", "CPU", "'", "s", "pages", "this", "Guest", "used", "last", ",", "for", "optimization", "<nl>", "-", "*", "when", "the", "same", "Guest", "runs", "on", "the", "same", "CPU", "twice", ".", "*", "/", "<nl>", "-", "lg", "-", ">", "last", "_", "pages", "=", "NULL", ";", "<nl>", "-", "<nl>", "/", "*", "We", "keep", "our", "\"", "struct", "lguest", "\"", "in", "the", "file", "'", "s", "private", "_", "data", ".", "*", "/", "<nl>", "file", "-", ">", "private", "_", "data", "=", "lg", ";", "<nl>", "struct", "lg", "_", "cpu", "{", "<nl>", "unsigned", "long", "regs", "_", "page", ";", "<nl>", "struct", "lguest", "_", "regs", "*", "regs", ";", "<nl>", "<nl>", "+", "struct", "lguest", "_", "pages", "*", "last", "_", "pages", ";", "<nl>", "+", "<nl>", "int", "cpu", "_", "pgd", ";", "/", "*", "which", "pgd", "this", "cpu", "is", "currently", "using", "*", "/", "<nl>", "<nl>", "/", "*", "If", "a", "hypercall", "was", "asked", "for", ",", "this", "points", "to", "the", "arguments", ".", "*", "/", "<nl>", "struct", "lguest", "<nl>", "<nl>", "/", "*", "Bitmap", "of", "what", "has", "changed", ":", "see", "CHANGED", "_", "*", "above", ".", "*", "/", "<nl>", "int", "changed", ";", "<nl>", "-", "struct", "lguest", "_", "pages", "*", "last", "_", "pages", ";", "<nl>", "<nl>", "struct", "pgdir", "pgdirs", "[", "4", "]", ";", "<nl>", "<nl>", "static", "int", "lg", "_", "cpu", "_", "start", "(", "struct", "lg", "_", "cpu", "*", "cpu", ",", "unsigned", "id", ",", "unsigned", "long", "start", "_", "ip", ")", "<nl>", "*", "reference", ",", "it", "is", "destroyed", "before", "close", "(", ")", "is", "called", ".", "*", "/", "<nl>", "cpu", "-", ">", "mm", "=", "get", "_", "task", "_", "mm", "(", "cpu", "-", ">", "tsk", ")", ";", "<nl>", "<nl>", "+", "/", "*", "We", "remember", "which", "CPU", "'", "s", "pages", "this", "Guest", "used", "last", ",", "for", "optimization", "<nl>", "+", "*", "when", "the", "same", "Guest", "runs", "on", "the", "same", "CPU", "twice", ".", "*", "/", "<nl>", "+", "cpu", "-", ">", "last", "_", "pages", "=", "NULL", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "initialize", "(", "struct", "file", "*", "file", ",", "const", "unsigned", "long", "_", "_", "user", "*", "input", ")", "<nl>", "if", "(", "err", ")", "<nl>", "goto", "free", "_", "regs", ";", "<nl>", "<nl>", "-", "/", "*", "We", "remember", "which", "CPU", "'", "s", "pages", "this", "Guest", "used", "last", ",", "for", "optimization", "<nl>", "-", "*", "when", "the", "same", "Guest", "runs", "on", "the", "same", "CPU", "twice", ".", "*", "/", "<nl>", "-", "lg", "-", ">", "last", "_", "pages", "=", "NULL", ";", "<nl>", "-", "<nl>", "/", "*", "We", "keep", "our", "\"", "struct", "lguest", "\"", "in", "the", "file", "'", "s", "private", "_", "data", ".", "*", "/", "<nl>", "file", "-", ">", "private", "_", "data", "=", "lg", ";", "<nl>", "<nl>", "static", "void", "copy", "_", "in", "_", "guest", "_", "info", "(", "struct", "lg", "_", "cpu", "*", "cpu", ",", "struct", "lguest", "_", "pages", "*", "pages", ")", "<nl>", "*", "same", "Guest", "we", "ran", "last", "time", "(", "and", "that", "Guest", "hasn", "'", "t", "run", "anywhere", "else", "<nl>", "*", "meanwhile", ")", ".", "If", "that", "'", "s", "not", "the", "case", ",", "we", "pretend", "everything", "in", "the", "<nl>", "*", "Guest", "has", "changed", ".", "*", "/", "<nl>", "-", "if", "(", "_", "_", "get", "_", "cpu", "_", "var", "(", "last", "_", "cpu", ")", "!", "=", "cpu", "|", "|", "lg", "-", ">", "last", "_", "pages", "!", "=", "pages", ")", "{", "<nl>", "+", "if", "(", "_", "_", "get", "_", "cpu", "_", "var", "(", "last", "_", "cpu", ")", "!", "=", "cpu", "|", "|", "cpu", "-", ">", "last", "_", "pages", "!", "=", "pages", ")", "{", "<nl>", "_", "_", "get", "_", "cpu", "_", "var", "(", "last", "_", "cpu", ")", "=", "cpu", ";", "<nl>", "-", "lg", "-", ">", "last", "_", "pages", "=", "pages", ";", "<nl>", "+", "cpu", "-", ">", "last", "_", "pages", "=", "pages", ";", "<nl>", "lg", "-", ">", "changed", "=", "CHANGED", "_", "ALL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["lguest", "move", "last_pages", "to", "lg_cpu"]}
{"code_tokens": ["static", "void", "setup", "_", "format", "_", "params", "(", "int", "track", ")", "<nl>", "raw", "_", "cmd", "-", ">", "kernel", "_", "data", "=", "floppy", "_", "track", "_", "buffer", ";", "<nl>", "raw", "_", "cmd", "-", ">", "length", "=", "4", "*", "F", "_", "SECT", "_", "PER", "_", "TRACK", ";", "<nl>", "<nl>", "+", "if", "(", "!", "F", "_", "SECT", "_", "PER", "_", "TRACK", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "/", "*", "allow", "for", "about", "30ms", "for", "data", "transport", "per", "track", "*", "/", "<nl>", "head", "_", "shift", "=", "(", "F", "_", "SECT", "_", "PER", "_", "TRACK", "+", "5", ")", "/", "6", ";", "<nl>", "<nl>", "static", "int", "set", "_", "geometry", "(", "unsigned", "int", "cmd", ",", "struct", "floppy", "_", "struct", "*", "g", ",", "<nl>", "/", "*", "sanity", "checking", "for", "parameters", ".", "*", "/", "<nl>", "if", "(", "g", "-", ">", "sect", "<", "=", "0", "|", "|", "<nl>", "g", "-", ">", "head", "<", "=", "0", "|", "|", "<nl>", "+", "/", "*", "check", "for", "zero", "in", "F", "_", "SECT", "_", "PER", "_", "TRACK", "*", "/", "<nl>", "+", "(", "unsigned", "char", ")", "(", "(", "g", "-", ">", "sect", "<", "<", "2", ")", ">", ">", "FD", "_", "SIZECODE", "(", "g", ")", ")", "=", "=", "0", "|", "|", "<nl>", "g", "-", ">", "track", "<", "=", "0", "|", "|", "g", "-", ">", "track", ">", "UDP", "-", ">", "tracks", ">", ">", "STRETCH", "(", "g", ")", "|", "|", "<nl>", "/", "*", "check", "if", "reserved", "bits", "are", "set", "*", "/", "<nl>", "(", "g", "-", ">", "stretch", "&", "~", "(", "FD", "_", "STRETCH", "|", "FD", "_", "SWAPSIDES", "|", "FD", "_", "SECTBASEMASK", ")", ")", "!", "=", "0", ")", "<nl>"], "docstring_tokens": ["floppy", "fix", "div", "by", "zero", "in", "setup_format_params"]}
{"code_tokens": ["static", "int", "cnic", "_", "start", "_", "hw", "(", "struct", "cnic", "_", "dev", "*", "dev", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "err1", ":", "<nl>", "-", "cp", "-", ">", "free", "_", "resc", "(", "dev", ")", ";", "<nl>", "+", "if", "(", "ethdev", "-", ">", "drv", "_", "state", "&", "CNIC", "_", "DRV", "_", "STATE", "_", "HANDLES", "_", "IRQ", ")", "<nl>", "+", "cp", "-", ">", "stop", "_", "hw", "(", "dev", ")", ";", "<nl>", "+", "else", "<nl>", "+", "cp", "-", ">", "free", "_", "resc", "(", "dev", ")", ";", "<nl>", "pci", "_", "dev", "_", "put", "(", "dev", "-", ">", "pcidev", ")", ";", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["cnic", "call", "cp", "stop_hw", "in", "cnic_start_hw", "on", "allocation", "failure"]}
{"code_tokens": ["sg", "_", "common", "_", "write", "(", "Sg", "_", "fd", "*", "sfp", ",", "Sg", "_", "request", "*", "srp", ",", "<nl>", "return", "k", ";", "/", "*", "probably", "out", "of", "space", "-", "-", ">", "ENOMEM", "*", "/", "<nl>", "}", "<nl>", "if", "(", "atomic", "_", "read", "(", "&", "sdp", "-", ">", "detaching", ")", ")", "{", "<nl>", "-", "if", "(", "srp", "-", ">", "bio", ")", "<nl>", "+", "if", "(", "srp", "-", ">", "bio", ")", "{", "<nl>", "+", "if", "(", "srp", "-", ">", "rq", "-", ">", "cmd", "!", "=", "srp", "-", ">", "rq", "-", ">", "_", "_", "cmd", ")", "<nl>", "+", "kfree", "(", "srp", "-", ">", "rq", "-", ">", "cmd", ")", ";", "<nl>", "+", "<nl>", "blk", "_", "end", "_", "request", "_", "all", "(", "srp", "-", ">", "rq", ",", "-", "EIO", ")", ";", "<nl>", "+", "srp", "-", ">", "rq", "=", "NULL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "sg", "_", "finish", "_", "rem", "_", "req", "(", "srp", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["sg", "Fix", "double", "free", "when", "drives", "detach", "during", "SG_IO"]}
{"code_tokens": ["static", "struct", "pcmcia", "_", "device", "_", "id", "orinoco", "_", "cs", "_", "ids", "[", "]", "=", "{", "<nl>", "PCMCIA", "_", "DEVICE", "_", "PROD", "_", "ID12", "(", "\"", "Cabletron", "\"", ",", "\"", "RoamAbout", "802", ".", "11", "DS", "\"", ",", "0x32d445f5", ",", "0xedeffd90", ")", ",", "<nl>", "PCMCIA", "_", "DEVICE", "_", "PROD", "_", "ID12", "(", "\"", "corega", "K", ".", "K", ".", "\"", ",", "\"", "Wireless", "LAN", "PCC", "-", "11", "\"", ",", "0x5261440f", ",", "0xa6405584", ")", ",", "<nl>", "PCMCIA", "_", "DEVICE", "_", "PROD", "_", "ID12", "(", "\"", "corega", "K", ".", "K", ".", "\"", ",", "\"", "Wireless", "LAN", "PCCA", "-", "11", "\"", ",", "0x5261440f", ",", "0xdf6115f9", ")", ",", "<nl>", "+", "PCMCIA", "_", "DEVICE", "_", "PROD", "_", "ID12", "(", "\"", "corega", "_", "K", ".", "K", ".", "\"", ",", "\"", "Wireless", "_", "LAN", "_", "PCCB", "-", "11", "\"", ",", "0x29e33311", ",", "0xee7a27ae", ")", ",", "<nl>", "PCMCIA", "_", "DEVICE", "_", "PROD", "_", "ID12", "(", "\"", "D", "\"", ",", "\"", "Link", "DRC", "-", "650", "11Mbps", "WLAN", "Card", "\"", ",", "0x71b18589", ",", "0xf144e3ac", ")", ",", "<nl>", "PCMCIA", "_", "DEVICE", "_", "PROD", "_", "ID12", "(", "\"", "D", "\"", ",", "\"", "Link", "DWL", "-", "650", "11Mbps", "WLAN", "Card", "\"", ",", "0x71b18589", ",", "0xb6f1b0ab", ")", ",", "<nl>", "PCMCIA", "_", "DEVICE", "_", "PROD", "_", "ID12", "(", "\"", "ELSA", "\"", ",", "\"", "AirLancer", "MC", "-", "11", "\"", ",", "0x4507a33a", ",", "0xef54f0e3", ")", ",", "<nl>"], "docstring_tokens": ["PATCH", "pcmcia", "add", "another", "orinoco_cs", "id"]}
{"code_tokens": ["static", "void", "qt", "_", "read", "_", "bulk", "_", "callback", "(", "struct", "urb", "*", "urb", ")", "<nl>", "if", "(", "port", "_", "paranoia", "_", "check", "(", "port", ",", "_", "_", "func", "_", "_", ")", "!", "=", "0", ")", "{", "<nl>", "dbg", "(", "\"", "%", "s", "-", "port", "_", "paranoia", "_", "check", ",", "exiting", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "qt", "_", "port", "-", ">", "ReadBulkStopped", "=", "1", ";", "<nl>", "-", "return", ";", "<nl>", "+", "goto", "exit", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "!", "serial", ")", "{", "<nl>", "dbg", "(", "\"", "%", "s", "-", "bad", "serial", "pointer", ",", "exiting", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "-", "return", ";", "<nl>", "+", "goto", "exit", ";", "<nl>", "}", "<nl>", "if", "(", "qt", "_", "port", "-", ">", "closePending", "=", "=", "1", ")", "{", "<nl>", "/", "*", "Were", "closing", ",", "stop", "reading", "*", "/", "<nl>", "dbg", "(", "\"", "%", "s", "-", "(", "qt", "_", "port", "-", ">", "closepending", "=", "=", "1", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ")", ";", "<nl>", "qt", "_", "port", "-", ">", "ReadBulkStopped", "=", "1", ";", "<nl>", "-", "return", ";", "<nl>", "+", "goto", "exit", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>", "static", "void", "qt", "_", "read", "_", "bulk", "_", "callback", "(", "struct", "urb", "*", "urb", ")", "<nl>", "*", "/", "<nl>", "if", "(", "qt", "_", "port", "-", ">", "RxHolding", "=", "=", "1", ")", "{", "<nl>", "qt", "_", "port", "-", ">", "ReadBulkStopped", "=", "1", ";", "<nl>", "-", "return", ";", "<nl>", "+", "goto", "exit", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "urb", "-", ">", "status", ")", "{", "<nl>", "static", "void", "qt", "_", "read", "_", "bulk", "_", "callback", "(", "struct", "urb", "*", "urb", ")", "<nl>", "<nl>", "dbg", "(", "\"", "%", "s", "-", "nonzero", "read", "bulk", "status", "received", ":", "%", "d", "\\", "n", "\"", ",", "<nl>", "_", "_", "func", "_", "_", ",", "urb", "-", ">", "status", ")", ";", "<nl>", "-", "return", ";", "<nl>", "+", "goto", "exit", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "tty", "&", "&", "RxCount", ")", "{", "<nl>", "static", "void", "qt", "_", "read", "_", "bulk", "_", "callback", "(", "struct", "urb", "*", "urb", ")", "<nl>", "}", "<nl>", "<nl>", "schedule", "_", "work", "(", "&", "port", "-", ">", "work", ")", ";", "<nl>", "+", "exit", ":", "<nl>", "+", "tty", "_", "kref", "_", "put", "(", "tty", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>", "static", "void", "qt", "_", "block", "_", "until", "_", "empty", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "qt", "_", "close", "(", "struct", "usb", "_", "serial", "_", "port", "*", "port", ")", "<nl>", "+", "static", "void", "qt", "_", "close", "(", "struct", "usb", "_", "serial", "_", "port", "*", "port", ")", "<nl>", "{", "<nl>", "struct", "usb", "_", "serial", "*", "serial", "=", "port", "-", ">", "serial", ";", "<nl>", "struct", "quatech", "_", "port", "*", "qt", "_", "port", ";", "<nl>", "static", "void", "qt", "_", "close", "(", "struct", "usb", "_", "serial", "_", "port", "*", "port", ")", "<nl>", "/", "*", "wait", "up", "to", "for", "transmitter", "to", "empty", "*", "/", "<nl>", "if", "(", "serial", "-", ">", "dev", ")", "<nl>", "qt", "_", "block", "_", "until", "_", "empty", "(", "tty", ",", "qt", "_", "port", ")", ";", "<nl>", "+", "tty", "_", "kref", "_", "put", "(", "tty", ")", ";", "<nl>", "<nl>", "/", "*", "Close", "uart", "channel", "*", "/", "<nl>", "status", "=", "qt", "_", "close", "_", "channel", "(", "serial", ",", "index", ")", ";", "<nl>"], "docstring_tokens": ["Staging", "serqt_usb2", "add", "missing", "calls", "to", "tty_kref_put"]}
{"code_tokens": ["static", "int", "ohci", "_", "hcd", "_", "sm501", "_", "drv", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "static", "int", "ohci", "_", "sm501", "_", "suspend", "(", "struct", "platform", "_", "device", "*", "pdev", ",", "pm", "_", "message", "_", "t", "msg", ")", "<nl>", "{", "<nl>", "struct", "device", "*", "dev", "=", "&", "pdev", "-", ">", "dev", ";", "<nl>", "-", "struct", "ohci", "_", "hcd", "*", "ohci", "=", "hcd", "_", "to", "_", "ohci", "(", "platform", "_", "get", "_", "drvdata", "(", "pdev", ")", ")", ";", "<nl>", "+", "struct", "usb", "_", "hcd", "*", "hcd", "=", "platform", "_", "get", "_", "drvdata", "(", "pdev", ")", ";", "<nl>", "+", "struct", "ohci", "_", "hcd", "*", "ohci", "=", "hcd", "_", "to", "_", "ohci", "(", "hcd", ")", ";", "<nl>", "+", "bool", "do", "_", "wakeup", "=", "device", "_", "may", "_", "wakeup", "(", "dev", ")", ";", "<nl>", "+", "int", "ret", ";", "<nl>", "<nl>", "if", "(", "time", "_", "before", "(", "jiffies", ",", "ohci", "-", ">", "next", "_", "statechange", ")", ")", "<nl>", "msleep", "(", "5", ")", ";", "<nl>", "ohci", "-", ">", "next", "_", "statechange", "=", "jiffies", ";", "<nl>", "<nl>", "+", "ret", "=", "ohci", "_", "suspend", "(", "hcd", ",", "do", "_", "wakeup", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "+", "<nl>", "sm501", "_", "unit", "_", "power", "(", "dev", "-", ">", "parent", ",", "SM501", "_", "GATE", "_", "USB", "_", "HOST", ",", "0", ")", ";", "<nl>", "-", "return", "0", ";", "<nl>", "+", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "ohci", "_", "sm501", "_", "resume", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>"], "docstring_tokens": ["USB", "OHCI", "Properly", "handle", "ohci", "sm501", "suspend"]}
{"code_tokens": ["int", "etnaviv", "_", "gpu", "_", "submit", "(", "struct", "etnaviv", "_", "gpu", "*", "gpu", ",", "<nl>", "goto", "out", "_", "pm", "_", "put", ";", "<nl>", "}", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "gpu", "-", ">", "lock", ")", ";", "<nl>", "+", "<nl>", "fence", "=", "etnaviv", "_", "gpu", "_", "fence", "_", "alloc", "(", "gpu", ")", ";", "<nl>", "if", "(", "!", "fence", ")", "{", "<nl>", "event", "_", "free", "(", "gpu", ",", "event", ")", ";", "<nl>", "int", "etnaviv", "_", "gpu", "_", "submit", "(", "struct", "etnaviv", "_", "gpu", "*", "gpu", ",", "<nl>", "goto", "out", "_", "pm", "_", "put", ";", "<nl>", "}", "<nl>", "<nl>", "-", "mutex", "_", "lock", "(", "&", "gpu", "-", ">", "lock", ")", ";", "<nl>", "-", "<nl>", "gpu", "-", ">", "event", "[", "event", "]", ".", "fence", "=", "fence", ";", "<nl>", "submit", "-", ">", "fence", "=", "fence", "-", ">", "seqno", ";", "<nl>", "gpu", "-", ">", "active", "_", "fence", "=", "submit", "-", ">", "fence", ";", "<nl>"], "docstring_tokens": ["drm", "etnaviv", "re", "protect", "fence", "allocation", "with", "GPU", "mutex"]}
{"code_tokens": ["void", "rtl8188eu", "_", "set", "_", "hal", "_", "ops", "(", "struct", "adapter", "*", "adapt", ")", "<nl>", "<nl>", "<nl>", "adapt", "-", ">", "HalData", "=", "kzalloc", "(", "sizeof", "(", "struct", "hal", "_", "data", "_", "8188e", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "adapt", "-", ">", "HalData", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "!", "adapt", "-", ">", "HalData", ")", "<nl>", "DBG", "_", "88E", "(", "\"", "cant", "not", "alloc", "memory", "for", "HAL", "DATA", "\\", "n", "\"", ")", ";", "<nl>", "<nl>", "halfunc", "-", ">", "hal", "_", "power", "_", "on", "=", "rtl8188eu", "_", "InitPowerOn", ";", "<nl>"], "docstring_tokens": ["Staging", "rtl8188eu", "usb_halinit", "Use", "x", "instead", "of", "x", "NULL"]}
{"code_tokens": ["static", "ssize", "_", "t", "port", "_", "fops", "_", "write", "(", "struct", "file", "*", "filp", ",", "const", "char", "_", "_", "user", "*", "ubuf", ",", "<nl>", "if", "(", "ret", "<", "0", ")", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "+", "/", "*", "Port", "got", "hot", "-", "unplugged", ".", "*", "/", "<nl>", "+", "if", "(", "!", "port", "-", ">", "guest", "_", "connected", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "count", "=", "min", "(", "(", "size", "_", "t", ")", "(", "32", "*", "1024", ")", ",", "count", ")", ";", "<nl>"], "docstring_tokens": ["virtio", "console", "Make", "write", "return", "ENODEV", "on", "hot", "unplug"]}
{"code_tokens": ["nfsd4", "_", "create", "_", "session", "(", "struct", "svc", "_", "rqst", "*", "rqstp", ",", "<nl>", "return", "status", ";", "<nl>", "status", "=", "check", "_", "backchannel", "_", "attrs", "(", "&", "cr", "_", "ses", "-", ">", "back", "_", "channel", ")", ";", "<nl>", "if", "(", "status", ")", "<nl>", "-", "return", "status", ";", "<nl>", "+", "goto", "out", "_", "release", "_", "drc", "_", "mem", ";", "<nl>", "status", "=", "nfserr", "_", "jukebox", ";", "<nl>", "new", "=", "alloc", "_", "session", "(", "&", "cr", "_", "ses", "-", ">", "fore", "_", "channel", ")", ";", "<nl>", "if", "(", "!", "new", ")", "<nl>"], "docstring_tokens": ["NFSD", "fix", "a", "leak", "which", "can", "cause", "CREATE_SESSION", "failures"]}
{"code_tokens": ["static", "int", "mkiss", "_", "ioctl", "(", "struct", "tty", "_", "struct", "*", "tty", ",", "struct", "file", "*", "file", ",", "<nl>", "unsigned", "int", "cmd", ",", "unsigned", "long", "arg", ")", "<nl>", "{", "<nl>", "struct", "mkiss", "*", "ax", "=", "mkiss", "_", "get", "(", "tty", ")", ";", "<nl>", "-", "struct", "net", "_", "device", "*", "dev", "=", "ax", "-", ">", "dev", ";", "<nl>", "+", "struct", "net", "_", "device", "*", "dev", ";", "<nl>", "unsigned", "int", "tmp", ",", "err", ";", "<nl>", "<nl>", "/", "*", "First", "make", "sure", "we", "'", "re", "connected", ".", "*", "/", "<nl>", "if", "(", "ax", "=", "=", "NULL", ")", "<nl>", "return", "-", "ENXIO", ";", "<nl>", "+", "dev", "=", "ax", "-", ">", "dev", ";", "<nl>", "<nl>", "switch", "(", "cmd", ")", "{", "<nl>", "case", "SIOCGIFNAME", ":", "<nl>"], "docstring_tokens": ["drivers", "net", "hamradio", "Move", "a", "dereference", "below", "a", "NULL", "test"]}
{"code_tokens": ["int", "drm", "_", "stub", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "<nl>", "old", "_", "fops", "=", "filp", "-", ">", "f", "_", "op", ";", "<nl>", "filp", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "&", "dev", "-", ">", "driver", "-", ">", "fops", ")", ";", "<nl>", "+", "if", "(", "filp", "-", ">", "f", "_", "op", "=", "=", "NULL", ")", "{", "<nl>", "+", "filp", "-", ">", "f", "_", "op", "=", "old", "_", "fops", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "if", "(", "filp", "-", ">", "f", "_", "op", "-", ">", "open", "&", "&", "(", "err", "=", "filp", "-", ">", "f", "_", "op", "-", ">", "open", "(", "inode", ",", "filp", ")", ")", ")", "{", "<nl>", "fops", "_", "put", "(", "filp", "-", ">", "f", "_", "op", ")", ";", "<nl>", "filp", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "old", "_", "fops", ")", ";", "mmm", "drivers", "/", "media", "/", "dvb", "/", "dvb", "-", "core", "/", "dvbdev", ".", "c", "<nl>", "int", "drm", "_", "stub", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "<nl>", "old", "_", "fops", "=", "filp", "-", ">", "f", "_", "op", ";", "<nl>", "filp", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "&", "dev", "-", ">", "driver", "-", ">", "fops", ")", ";", "<nl>", "+", "if", "(", "filp", "-", ">", "f", "_", "op", "=", "=", "NULL", ")", "{", "<nl>", "+", "filp", "-", ">", "f", "_", "op", "=", "old", "_", "fops", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "if", "(", "filp", "-", ">", "f", "_", "op", "-", ">", "open", "&", "&", "(", "err", "=", "filp", "-", ">", "f", "_", "op", "-", ">", "open", "(", "inode", ",", "filp", ")", ")", ")", "{", "<nl>", "fops", "_", "put", "(", "filp", "-", ">", "f", "_", "op", ")", ";", "<nl>", "filp", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "old", "_", "fops", ")", ";", "<nl>", "static", "int", "dvb", "_", "device", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "file", "-", ">", "private", "_", "data", "=", "dvbdev", ";", "<nl>", "old", "_", "fops", "=", "file", "-", ">", "f", "_", "op", ";", "<nl>", "file", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "dvbdev", "-", ">", "fops", ")", ";", "<nl>", "+", "if", "(", "file", "-", ">", "f", "_", "op", "=", "=", "NULL", ")", "{", "<nl>", "+", "file", "-", ">", "f", "_", "op", "=", "old", "_", "fops", ";", "<nl>", "+", "goto", "fail", ";", "<nl>", "+", "}", "<nl>", "if", "(", "file", "-", ">", "f", "_", "op", "-", ">", "open", ")", "<nl>", "err", "=", "file", "-", ">", "f", "_", "op", "-", ">", "open", "(", "inode", ",", "file", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "static", "int", "dvb", "_", "device", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "+", "fail", ":", "<nl>", "up", "_", "read", "(", "&", "minor", "_", "rwsem", ")", ";", "<nl>", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "mmm", "sound", "/", "core", "/", "sound", ".", "c", "<nl>", "int", "drm", "_", "stub", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "filp", ")", "<nl>", "<nl>", "old", "_", "fops", "=", "filp", "-", ">", "f", "_", "op", ";", "<nl>", "filp", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "&", "dev", "-", ">", "driver", "-", ">", "fops", ")", ";", "<nl>", "+", "if", "(", "filp", "-", ">", "f", "_", "op", "=", "=", "NULL", ")", "{", "<nl>", "+", "filp", "-", ">", "f", "_", "op", "=", "old", "_", "fops", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "if", "(", "filp", "-", ">", "f", "_", "op", "-", ">", "open", "&", "&", "(", "err", "=", "filp", "-", ">", "f", "_", "op", "-", ">", "open", "(", "inode", ",", "filp", ")", ")", ")", "{", "<nl>", "fops", "_", "put", "(", "filp", "-", ">", "f", "_", "op", ")", ";", "<nl>", "filp", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "old", "_", "fops", ")", ";", "<nl>", "static", "int", "dvb", "_", "device", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "file", "-", ">", "private", "_", "data", "=", "dvbdev", ";", "<nl>", "old", "_", "fops", "=", "file", "-", ">", "f", "_", "op", ";", "<nl>", "file", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "dvbdev", "-", ">", "fops", ")", ";", "<nl>", "+", "if", "(", "file", "-", ">", "f", "_", "op", "=", "=", "NULL", ")", "{", "<nl>", "+", "file", "-", ">", "f", "_", "op", "=", "old", "_", "fops", ";", "<nl>", "+", "goto", "fail", ";", "<nl>", "+", "}", "<nl>", "if", "(", "file", "-", ">", "f", "_", "op", "-", ">", "open", ")", "<nl>", "err", "=", "file", "-", ">", "f", "_", "op", "-", ">", "open", "(", "inode", ",", "file", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "static", "int", "dvb", "_", "device", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "+", "fail", ":", "<nl>", "up", "_", "read", "(", "&", "minor", "_", "rwsem", ")", ";", "<nl>", "unlock", "_", "kernel", "(", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "static", "int", "_", "_", "snd", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "}", "<nl>", "old", "_", "fops", "=", "file", "-", ">", "f", "_", "op", ";", "<nl>", "file", "-", ">", "f", "_", "op", "=", "fops", "_", "get", "(", "mptr", "-", ">", "f", "_", "ops", ")", ";", "<nl>", "+", "if", "(", "file", "-", ">", "f", "_", "op", "=", "=", "NULL", ")", "{", "<nl>", "+", "file", "-", ">", "f", "_", "op", "=", "old", "_", "fops", ";", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "}", "<nl>", "if", "(", "file", "-", ">", "f", "_", "op", "-", ">", "open", ")", "<nl>", "err", "=", "file", "-", ">", "f", "_", "op", "-", ">", "open", "(", "inode", ",", "file", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>"], "docstring_tokens": ["Check", "fops_get", "return", "value"]}
{"code_tokens": ["static", "bool", "link", "_", "dump", "_", "filtered", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "struct", "net", "*", "get", "_", "target", "_", "net", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "int", "netnsid", ")", "<nl>", "+", "static", "struct", "net", "*", "get", "_", "target", "_", "net", "(", "struct", "sock", "*", "sk", ",", "int", "netnsid", ")", "<nl>", "{", "<nl>", "struct", "net", "*", "net", ";", "<nl>", "<nl>", "-", "net", "=", "get", "_", "net", "_", "ns", "_", "by", "_", "id", "(", "sock", "_", "net", "(", "skb", "-", ">", "sk", ")", ",", "netnsid", ")", ";", "<nl>", "+", "net", "=", "get", "_", "net", "_", "ns", "_", "by", "_", "id", "(", "sock", "_", "net", "(", "sk", ")", ",", "netnsid", ")", ";", "<nl>", "if", "(", "!", "net", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EINVAL", ")", ";", "<nl>", "<nl>", "/", "*", "For", "now", ",", "the", "caller", "is", "required", "to", "have", "CAP", "_", "NET", "_", "ADMIN", "in", "<nl>", "*", "the", "user", "namespace", "owning", "the", "target", "net", "ns", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "!", "netlink", "_", "ns", "_", "capable", "(", "skb", ",", "net", "-", ">", "user", "_", "ns", ",", "CAP", "_", "NET", "_", "ADMIN", ")", ")", "{", "<nl>", "+", "if", "(", "!", "sk", "_", "ns", "_", "capable", "(", "sk", ",", "net", "-", ">", "user", "_", "ns", ",", "CAP", "_", "NET", "_", "ADMIN", ")", ")", "{", "<nl>", "put", "_", "net", "(", "net", ")", ";", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EACCES", ")", ";", "<nl>", "}", "<nl>", "static", "int", "rtnl", "_", "dump", "_", "ifinfo", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "netlink", "_", "callback", "*", "cb", ")", "<nl>", "ifla", "_", "policy", ",", "NULL", ")", ">", "=", "0", ")", "{", "<nl>", "if", "(", "tb", "[", "IFLA", "_", "IF", "_", "NETNSID", "]", ")", "{", "<nl>", "netnsid", "=", "nla", "_", "get", "_", "s32", "(", "tb", "[", "IFLA", "_", "IF", "_", "NETNSID", "]", ")", ";", "<nl>", "-", "tgt", "_", "net", "=", "get", "_", "target", "_", "net", "(", "skb", ",", "netnsid", ")", ";", "<nl>", "+", "tgt", "_", "net", "=", "get", "_", "target", "_", "net", "(", "skb", "-", ">", "sk", ",", "netnsid", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "tgt", "_", "net", ")", ")", "{", "<nl>", "tgt", "_", "net", "=", "net", ";", "<nl>", "netnsid", "=", "-", "1", ";", "<nl>", "static", "int", "rtnl", "_", "getlink", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "nlmsghdr", "*", "nlh", ",", "<nl>", "<nl>", "if", "(", "tb", "[", "IFLA", "_", "IF", "_", "NETNSID", "]", ")", "{", "<nl>", "netnsid", "=", "nla", "_", "get", "_", "s32", "(", "tb", "[", "IFLA", "_", "IF", "_", "NETNSID", "]", ")", ";", "<nl>", "-", "tgt", "_", "net", "=", "get", "_", "target", "_", "net", "(", "skb", ",", "netnsid", ")", ";", "<nl>", "+", "tgt", "_", "net", "=", "get", "_", "target", "_", "net", "(", "NETLINK", "_", "CB", "(", "skb", ")", ".", "sk", ",", "netnsid", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "tgt", "_", "net", ")", ")", "<nl>", "return", "PTR", "_", "ERR", "(", "tgt", "_", "net", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["rtnetlink", "give", "a", "user", "socket", "to", "get_target_net"]}
{"code_tokens": ["static", "int", "_", "_", "unioxx5", "_", "subdev", "_", "init", "(", "struct", "comedi", "_", "device", "*", "dev", ",", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "ret", "=", "_", "_", "comedi", "_", "request", "_", "region", "(", "dev", ",", "iobase", ",", "UNIOXX5", "_", "SIZE", ")", ";", "<nl>", "-", "if", "(", "ret", ")", "<nl>", "+", "if", "(", "ret", ")", "{", "<nl>", "+", "kfree", "(", "usp", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "+", "}", "<nl>", "usp", "-", ">", "usp", "_", "iobase", "=", "iobase", ";", "<nl>", "<nl>", "/", "*", "defining", "modules", "types", "*", "/", "<nl>"], "docstring_tokens": ["staging", "comedi", "unionxx5", "fix", "memory", "leak", "during", "subdevice", "init"]}
{"code_tokens": ["static", "int", "tegra", "_", "io", "_", "pad", "_", "prepare", "(", "enum", "tegra", "_", "io", "_", "pad", "id", ",", "unsigned", "long", "*", "request", ",", "<nl>", "}", "<nl>", "<nl>", "rate", "=", "clk", "_", "get", "_", "rate", "(", "pmc", "-", ">", "clk", ")", ";", "<nl>", "+", "if", "(", "!", "rate", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "tegra", "_", "pmc", "_", "writel", "(", "DPD", "_", "SAMPLE", "_", "ENABLE", ",", "DPD", "_", "SAMPLE", ")", ";", "<nl>"], "docstring_tokens": ["soc", "tegra", "pmc", "Guard", "against", "uninitialised", "PMC", "clock"]}
{"code_tokens": ["static", "int", "atl2", "_", "probe", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "const", "struct", "pci", "_", "device", "_", "id", "*", "ent", ")", "<nl>", "<nl>", "err", "=", "-", "EIO", ";", "<nl>", "<nl>", "-", "netdev", "-", ">", "hw", "_", "features", "=", "NETIF", "_", "F", "_", "SG", "|", "NETIF", "_", "F", "_", "HW", "_", "VLAN", "_", "CTAG", "_", "RX", ";", "<nl>", "+", "netdev", "-", ">", "hw", "_", "features", "=", "NETIF", "_", "F", "_", "HW", "_", "VLAN", "_", "CTAG", "_", "RX", ";", "<nl>", "netdev", "-", ">", "features", "|", "=", "(", "NETIF", "_", "F", "_", "HW", "_", "VLAN", "_", "CTAG", "_", "TX", "|", "NETIF", "_", "F", "_", "HW", "_", "VLAN", "_", "CTAG", "_", "RX", ")", ";", "<nl>", "<nl>", "/", "*", "Init", "PHY", "as", "early", "as", "possible", "due", "to", "power", "saving", "issue", "*", "/", "<nl>"], "docstring_tokens": ["atl2", "Disable", "unimplemented", "scatter", "gather", "feature"]}
{"code_tokens": ["static", "void", "ixgbe", "_", "tx", "_", "map", "(", "struct", "ixgbe", "_", "ring", "*", "tx", "_", "ring", ",", "<nl>", "tx", "_", "buffer", "_", "info", "-", ">", "dma", "=", "dma", ";", "<nl>", "<nl>", "tx", "_", "desc", "-", ">", "read", ".", "buffer", "_", "addr", "=", "cpu", "_", "to", "_", "le64", "(", "dma", "+", "offset", ")", ";", "<nl>", "+", "if", "(", "unlikely", "(", "skb", "-", ">", "no", "_", "fcs", ")", ")", "<nl>", "+", "cmd", "_", "type", "&", "=", "~", "(", "cpu", "_", "to", "_", "le32", "(", "IXGBE", "_", "ADVTXD", "_", "DCMD", "_", "IFCS", ")", ")", ";", "<nl>", "tx", "_", "desc", "-", ">", "read", ".", "cmd", "_", "type", "_", "len", "=", "cmd", "_", "type", "|", "cpu", "_", "to", "_", "le32", "(", "size", ")", ";", "<nl>", "tx", "_", "desc", "-", ">", "read", ".", "olinfo", "_", "status", "=", "olinfo", "_", "status", ";", "<nl>", "<nl>", "static", "int", "_", "_", "devinit", "ixgbe", "_", "probe", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "netdev", "-", ">", "vlan", "_", "features", "|", "=", "NETIF", "_", "F", "_", "SG", ";", "<nl>", "<nl>", "netdev", "-", ">", "priv", "_", "flags", "|", "=", "IFF", "_", "UNICAST", "_", "FLT", ";", "<nl>", "+", "netdev", "-", ">", "priv", "_", "flags", "|", "=", "IFF", "_", "SUPP", "_", "NOFCS", ";", "<nl>", "<nl>", "if", "(", "adapter", "-", ">", "flags", "&", "IXGBE", "_", "FLAG", "_", "SRIOV", "_", "ENABLED", ")", "<nl>", "adapter", "-", ">", "flags", "&", "=", "~", "(", "IXGBE", "_", "FLAG", "_", "RSS", "_", "ENABLED", "|", "<nl>"], "docstring_tokens": ["ixgbe", "Support", "sending", "custom", "Ethernet", "FCS"]}
{"code_tokens": ["static", "int", "cpufreq", "_", "online", "(", "unsigned", "int", "cpu", ")", "<nl>", "if", "(", "new", "_", "policy", ")", "{", "<nl>", "/", "*", "related", "_", "cpus", "should", "at", "least", "include", "policy", "-", ">", "cpus", ".", "*", "/", "<nl>", "cpumask", "_", "copy", "(", "policy", "-", ">", "related", "_", "cpus", ",", "policy", "-", ">", "cpus", ")", ";", "<nl>", "-", "/", "*", "Clear", "mask", "of", "registered", "CPUs", "*", "/", "<nl>", "-", "cpumask", "_", "clear", "(", "policy", "-", ">", "real", "_", "cpus", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["cpufreq", "Do", "not", "clear", "real_cpus", "mask", "on", "policy", "init"]}
{"code_tokens": ["struct", "rxrpc", "_", "call", "*", "rxrpc", "_", "kernel", "_", "begin", "_", "call", "(", "struct", "socket", "*", "sock", ",", "<nl>", "struct", "rxrpc", "_", "transport", "*", "trans", ";", "<nl>", "struct", "rxrpc", "_", "call", "*", "call", ";", "<nl>", "struct", "rxrpc", "_", "sock", "*", "rx", "=", "rxrpc", "_", "sk", "(", "sock", "-", ">", "sk", ")", ";", "<nl>", "+", "int", "ret", ";", "<nl>", "<nl>", "_", "enter", "(", "\"", ",", ",", "%", "x", ",", "%", "lx", "\"", ",", "key", "_", "serial", "(", "key", ")", ",", "user", "_", "call", "_", "ID", ")", ";", "<nl>", "<nl>", "+", "ret", "=", "rxrpc", "_", "validate", "_", "address", "(", "rx", ",", "srx", ",", "sizeof", "(", "*", "srx", ")", ")", ";", "<nl>", "+", "if", "(", "ret", "<", "0", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "ret", ")", ";", "<nl>", "+", "<nl>", "lock", "_", "sock", "(", "&", "rx", "-", ">", "sk", ")", ";", "<nl>", "<nl>", "if", "(", "!", "key", ")", "<nl>"], "docstring_tokens": ["rxrpc", "Validate", "the", "net", "address", "given", "to", "rxrpc_kernel_begin_call"]}
{"code_tokens": ["static", "int", "lynxfb", "_", "ops", "_", "cursor", "(", "struct", "fb", "_", "info", "*", "info", ",", "struct", "fb", "_", "cursor", "*", "fbcursor", ")", "<nl>", "}", "<nl>", "<nl>", "cursor", "-", ">", "disable", "(", "cursor", ")", ";", "<nl>", "-", "if", "(", "fbcursor", "-", ">", "set", "&", "FB", "_", "CUR", "_", "SETSIZE", ")", "{", "<nl>", "+", "if", "(", "fbcursor", "-", ">", "set", "&", "FB", "_", "CUR", "_", "SETSIZE", ")", "<nl>", "cursor", "-", ">", "setSize", "(", "cursor", ",", "fbcursor", "-", ">", "image", ".", "width", ",", "fbcursor", "-", ">", "image", ".", "height", ")", ";", "<nl>", "-", "}", "<nl>", "<nl>", "if", "(", "fbcursor", "-", ">", "set", "&", "FB", "_", "CUR", "_", "SETPOS", ")", "{", "<nl>", "cursor", "-", ">", "setPos", "(", "cursor", ",", "fbcursor", "-", ">", "image", ".", "dx", "-", "info", "-", ">", "var", ".", "xoffset", ",", "<nl>", "static", "int", "lynxfb", "_", "ops", "_", "cursor", "(", "struct", "fb", "_", "info", "*", "info", ",", "struct", "fb", "_", "cursor", "*", "fbcursor", ")", "<nl>", "fbcursor", "-", ">", "mask", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "fbcursor", "-", ">", "enable", ")", "{", "<nl>", "+", "if", "(", "fbcursor", "-", ">", "enable", ")", "<nl>", "cursor", "-", ">", "enable", "(", "cursor", ")", ";", "<nl>", "-", "}", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "static", "void", "lynxfb", "_", "ops", "_", "fillrect", "(", "struct", "fb", "_", "info", "*", "info", ",", "const", "struct", "fb", "_", "fillrect", "*", "<nl>", "unsigned", "int", "base", ",", "pitch", ",", "Bpp", ",", "rop", ";", "<nl>", "u32", "color", ";", "<nl>", "<nl>", "-", "if", "(", "info", "-", ">", "state", "!", "=", "FBINFO", "_", "STATE", "_", "RUNNING", ")", "{", "<nl>", "+", "if", "(", "info", "-", ">", "state", "!", "=", "FBINFO", "_", "STATE", "_", "RUNNING", ")", "<nl>", "return", ";", "<nl>", "-", "}", "<nl>", "<nl>", "par", "=", "info", "-", ">", "par", ";", "<nl>", "share", "=", "par", "-", ">", "share", ";", "<nl>"], "docstring_tokens": ["staging", "sm750", "no", "braces", "for", "single", "stmt", "if", "blocks"]}
{"code_tokens": ["static", "void", "_", "_", "init", "map", "_", "ram", "(", "void", ")", "<nl>", "set", "_", "pmd", "(", "pme", ",", "_", "_", "pmd", "(", "_", "KERNPG", "_", "TABLE", "+", "_", "_", "pa", "(", "pte", ")", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Fill", "the", "newly", "allocated", "page", "with", "PTE", "'", "S", "*", "/", "<nl>", "-", "for", "(", "j", "=", "0", ";", "p", "<", "e", "&", "&", "j", "<", "PTRS", "_", "PER", "_", "PGD", ";", "<nl>", "+", "for", "(", "j", "=", "0", ";", "p", "<", "e", "&", "&", "j", "<", "PTRS", "_", "PER", "_", "PTE", ";", "<nl>", "v", "+", "=", "PAGE", "_", "SIZE", ",", "p", "+", "=", "PAGE", "_", "SIZE", ",", "j", "+", "+", ",", "pte", "+", "+", ")", "{", "<nl>", "if", "(", "v", ">", "=", "(", "u32", ")", "_", "e", "_", "kernel", "_", "ro", "|", "|", "<nl>", "v", "<", "(", "u32", ")", "_", "s", "_", "kernel", "_", "ro", ")", "mmm", "arch", "/", "openrisc", "/", "include", "/", "asm", "/", "pgtable", ".", "h", "<nl>", "static", "void", "_", "_", "init", "map", "_", "ram", "(", "void", ")", "<nl>", "set", "_", "pmd", "(", "pme", ",", "_", "_", "pmd", "(", "_", "KERNPG", "_", "TABLE", "+", "_", "_", "pa", "(", "pte", ")", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Fill", "the", "newly", "allocated", "page", "with", "PTE", "'", "S", "*", "/", "<nl>", "-", "for", "(", "j", "=", "0", ";", "p", "<", "e", "&", "&", "j", "<", "PTRS", "_", "PER", "_", "PGD", ";", "<nl>", "+", "for", "(", "j", "=", "0", ";", "p", "<", "e", "&", "&", "j", "<", "PTRS", "_", "PER", "_", "PTE", ";", "<nl>", "v", "+", "=", "PAGE", "_", "SIZE", ",", "p", "+", "=", "PAGE", "_", "SIZE", ",", "j", "+", "+", ",", "pte", "+", "+", ")", "{", "<nl>", "if", "(", "v", ">", "=", "(", "u32", ")", "_", "e", "_", "kernel", "_", "ro", "|", "|", "<nl>", "v", "<", "(", "u32", ")", "_", "s", "_", "kernel", "_", "ro", ")", "<nl>", "extern", "void", "paging", "_", "init", "(", "void", ")", ";", "<nl>", "*", "/", "<nl>", "#", "define", "PTRS", "_", "PER", "_", "PTE", "(", "1UL", "<", "<", "(", "PAGE", "_", "SHIFT", "-", "2", ")", ")", "<nl>", "<nl>", "-", "#", "define", "PTRS", "_", "PER", "_", "PGD", "(", "1UL", "<", "<", "(", "PAGE", "_", "SHIFT", "-", "2", ")", ")", "<nl>", "+", "#", "define", "PTRS", "_", "PER", "_", "PGD", "(", "1UL", "<", "<", "(", "32", "-", "PGDIR", "_", "SHIFT", ")", ")", "<nl>", "<nl>", "/", "*", "calculate", "how", "many", "PGD", "entries", "a", "user", "-", "level", "program", "can", "use", "<nl>", "*", "the", "first", "mappable", "virtual", "address", "is", "0", "<nl>"], "docstring_tokens": ["openrisc", "fix", "PTRS_PER_PGD", "define"]}
{"code_tokens": ["request", "_", "firmware", "(", "const", "struct", "firmware", "*", "*", "firmware", "_", "p", ",", "const", "char", "*", "name", ",", "<nl>", "{", "<nl>", "return", "_", "request", "_", "firmware", "(", "firmware", "_", "p", ",", "name", ",", "device", ",", "true", ",", "false", ")", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "(", "request", "_", "firmware", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "release", "_", "firmware", ":", "-", "release", "the", "resource", "associated", "with", "a", "firmware", "image", "<nl>", "void", "release", "_", "firmware", "(", "const", "struct", "firmware", "*", "fw", ")", "<nl>", "kfree", "(", "fw", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "(", "release", "_", "firmware", ")", ";", "<nl>", "<nl>", "/", "*", "Async", "support", "*", "/", "<nl>", "struct", "firmware", "_", "work", "{", "<nl>", "request", "_", "firmware", "_", "nowait", "(", "<nl>", "schedule", "_", "work", "(", "&", "fw", "_", "work", "-", ">", "work", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "(", "request", "_", "firmware", "_", "nowait", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "cache", "_", "firmware", "-", "cache", "one", "firmware", "image", "in", "kernel", "memory", "space", "<nl>", "int", "cache", "_", "firmware", "(", "const", "char", "*", "fw", "_", "name", ")", "<nl>", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "cache", "_", "firmware", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>", "*", "uncache", "_", "firmware", "-", "remove", "one", "cached", "firmware", "image", "<nl>", "int", "uncache", "_", "firmware", "(", "const", "char", "*", "fw", "_", "name", ")", "<nl>", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "+", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "uncache", "_", "firmware", ")", ";", "<nl>", "<nl>", "#", "ifdef", "CONFIG", "_", "PM", "_", "SLEEP", "<nl>", "static", "ASYNC", "_", "DOMAIN", "_", "EXCLUSIVE", "(", "fw", "_", "cache", "_", "domain", ")", ";", "<nl>", "static", "void", "_", "_", "exit", "firmware", "_", "class", "_", "exit", "(", "void", ")", "<nl>", "<nl>", "fs", "_", "initcall", "(", "firmware", "_", "class", "_", "init", ")", ";", "<nl>", "module", "_", "exit", "(", "firmware", "_", "class", "_", "exit", ")", ";", "<nl>", "-", "<nl>", "-", "EXPORT", "_", "SYMBOL", "(", "release", "_", "firmware", ")", ";", "<nl>", "-", "EXPORT", "_", "SYMBOL", "(", "request", "_", "firmware", ")", ";", "<nl>", "-", "EXPORT", "_", "SYMBOL", "(", "request", "_", "firmware", "_", "nowait", ")", ";", "<nl>", "-", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "cache", "_", "firmware", ")", ";", "<nl>", "-", "EXPORT", "_", "SYMBOL", "_", "GPL", "(", "uncache", "_", "firmware", ")", ";", "<nl>"], "docstring_tokens": ["firmware", "move", "EXPORT_SYMBOL", "annotations"]}
{"code_tokens": ["int", "_", "_", "init", "mon", "_", "text", "_", "init", "(", "void", ")", "<nl>", "{", "<nl>", "struct", "dentry", "*", "mondir", ";", "<nl>", "<nl>", "-", "mondir", "=", "debugfs", "_", "create", "_", "dir", "(", "\"", "usbmon", "\"", ",", "NULL", ")", ";", "<nl>", "+", "mondir", "=", "debugfs", "_", "create", "_", "dir", "(", "\"", "usbmon", "\"", ",", "usb", "_", "debug", "_", "root", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "mondir", ")", ")", "{", "<nl>", "printk", "(", "KERN", "_", "NOTICE", "TAG", "\"", ":", "debugfs", "is", "not", "available", "\\", "n", "\"", ")", ";", "<nl>", "return", "-", "ENODEV", ";", "<nl>"], "docstring_tokens": ["USB", "usbmon", "use", "the", "new", "usb", "debugfs", "directory"]}
{"code_tokens": ["static", "s32", "ixgbe", "_", "setup", "_", "kr", "_", "x550em", "(", "struct", "ixgbe", "_", "hw", "*", "hw", ")", "<nl>", "if", "(", "hw", "-", ">", "phy", ".", "autoneg", "_", "advertised", "&", "IXGBE", "_", "LINK", "_", "SPEED", "_", "2", "_", "5GB", "_", "FULL", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "if", "(", "ixgbe", "_", "check", "_", "reset", "_", "blocked", "(", "hw", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "return", "ixgbe", "_", "setup", "_", "kr", "_", "speed", "_", "x550em", "(", "hw", ",", "hw", "-", ">", "phy", ".", "autoneg", "_", "advertised", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ixgbe", "add", "check", "for", "VETO", "bit", "when", "configuring", "link", "for", "KR"]}
{"code_tokens": ["int", "btrfs", "_", "add", "_", "inode", "_", "defrag", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "spin", "_", "lock", "(", "&", "root", "-", ">", "fs", "_", "info", "-", ">", "defrag", "_", "inodes", "_", "lock", ")", ";", "<nl>", "if", "(", "!", "BTRFS", "_", "I", "(", "inode", ")", "-", ">", "in", "_", "defrag", ")", "<nl>", "_", "_", "btrfs", "_", "add", "_", "inode", "_", "defrag", "(", "inode", ",", "defrag", ")", ";", "<nl>", "+", "else", "<nl>", "+", "kfree", "(", "defrag", ")", ";", "<nl>", "spin", "_", "unlock", "(", "&", "root", "-", ">", "fs", "_", "info", "-", ">", "defrag", "_", "inodes", "_", "lock", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["btrfs", "memory", "leak", "in", "btrfs_add_inode_defrag"]}
{"code_tokens": ["static", "int", "do", "_", "rc", "_", "ack", "(", "struct", "ipath", "_", "qp", "*", "qp", ",", "u32", "aeth", ",", "u32", "psn", ",", "int", "opcode", ",", "<nl>", "/", "*", "If", "this", "is", "a", "partial", "ACK", ",", "reset", "the", "retransmit", "timer", ".", "*", "/", "<nl>", "if", "(", "qp", "-", ">", "s", "_", "last", "!", "=", "qp", "-", ">", "s", "_", "tail", ")", "{", "<nl>", "spin", "_", "lock", "(", "&", "dev", "-", ">", "pending", "_", "lock", ")", ";", "<nl>", "-", "list", "_", "add", "_", "tail", "(", "&", "qp", "-", ">", "timerwait", ",", "<nl>", "-", "&", "dev", "-", ">", "pending", "[", "dev", "-", ">", "pending", "_", "index", "]", ")", ";", "<nl>", "+", "if", "(", "list", "_", "empty", "(", "&", "qp", "-", ">", "timerwait", ")", ")", "<nl>", "+", "list", "_", "add", "_", "tail", "(", "&", "qp", "-", ">", "timerwait", ",", "<nl>", "+", "&", "dev", "-", ">", "pending", "[", "dev", "-", ">", "pending", "_", "index", "]", ")", ";", "<nl>", "spin", "_", "unlock", "(", "&", "dev", "-", ">", "pending", "_", "lock", ")", ";", "<nl>", "/", "*", "<nl>", "*", "If", "we", "get", "a", "partial", "ACK", "for", "a", "resent", "operation", ",", "<nl>"], "docstring_tokens": ["IB", "ipath", "Fix", "race", "with", "ACK", "retry", "timeout", "list", "management"]}
{"code_tokens": ["static", "int", "nf", "_", "flow", "_", "dnat", "_", "ip", "(", "const", "struct", "flow", "_", "offload", "*", "flow", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "default", ":", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "+", "csum", "_", "replace4", "(", "&", "iph", "-", ">", "check", ",", "addr", ",", "new", "_", "addr", ")", ";", "<nl>", "<nl>", "return", "nf", "_", "flow", "_", "nat", "_", "ip", "_", "l4proto", "(", "skb", ",", "iph", ",", "thoff", ",", "addr", ",", "new", "_", "addr", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["netfilter", "nf_flow_table", "fix", "checksum", "when", "handling", "DNAT"]}
{"code_tokens": ["int", "intel", "_", "get", "_", "load", "_", "detect", "_", "pipe", "(", "struct", "drm", "_", "connector", "*", "connector", ",", "<nl>", "*", "/", "<nl>", "if", "(", "!", "crtc", ")", "{", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "no", "pipe", "available", "for", "load", "-", "detect", "\\", "n", "\"", ")", ";", "<nl>", "+", "ret", "=", "-", "ENODEV", ";", "<nl>", "goto", "fail", ";", "<nl>", "}", "<nl>", "<nl>", "int", "intel", "_", "get", "_", "load", "_", "detect", "_", "pipe", "(", "struct", "drm", "_", "connector", "*", "connector", ",", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "reusing", "fbdev", "for", "load", "-", "detection", "framebuffer", "\\", "n", "\"", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "fb", ")", ")", "{", "<nl>", "DRM", "_", "DEBUG", "_", "KMS", "(", "\"", "failed", "to", "allocate", "framebuffer", "for", "load", "-", "detection", "\\", "n", "\"", ")", ";", "<nl>", "+", "ret", "=", "PTR", "_", "ERR", "(", "fb", ")", ";", "<nl>", "goto", "fail", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "i915", "set", "ret", "correctly", "on", "error", "paths"]}
{"code_tokens": ["static", "ssize", "_", "t", "modalias", "_", "show", "(", "struct", "device", "*", "dev", ",", "<nl>", "struct", "device", "_", "attribute", "*", "attr", ",", "char", "*", "buf", ")", "<nl>", "{", "<nl>", "struct", "rpmsg", "_", "device", "*", "rpdev", "=", "to", "_", "rpmsg", "_", "device", "(", "dev", ")", ";", "<nl>", "+", "ssize", "_", "t", "len", ";", "<nl>", "+", "<nl>", "+", "len", "=", "of", "_", "device", "_", "modalias", "(", "dev", ",", "buf", ",", "PAGE", "_", "SIZE", ")", ";", "<nl>", "+", "if", "(", "len", "!", "=", "-", "ENODEV", ")", "<nl>", "+", "return", "len", ";", "<nl>", "<nl>", "return", "sprintf", "(", "buf", ",", "RPMSG", "_", "DEVICE", "_", "MODALIAS", "_", "FMT", "\"", "\\", "n", "\"", ",", "rpdev", "-", ">", "id", ".", "name", ")", ";", "<nl>", "}", "<nl>", "static", "int", "rpmsg", "_", "dev", "_", "match", "(", "struct", "device", "*", "dev", ",", "struct", "device", "_", "driver", "*", "drv", ")", "<nl>", "static", "int", "rpmsg", "_", "uevent", "(", "struct", "device", "*", "dev", ",", "struct", "kobj", "_", "uevent", "_", "env", "*", "env", ")", "<nl>", "{", "<nl>", "struct", "rpmsg", "_", "device", "*", "rpdev", "=", "to", "_", "rpmsg", "_", "device", "(", "dev", ")", ";", "<nl>", "+", "int", "ret", ";", "<nl>", "+", "<nl>", "+", "ret", "=", "of", "_", "device", "_", "uevent", "_", "modalias", "(", "dev", ",", "env", ")", ";", "<nl>", "+", "if", "(", "ret", "!", "=", "-", "ENODEV", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "<nl>", "return", "add", "_", "uevent", "_", "var", "(", "env", ",", "\"", "MODALIAS", "=", "\"", "RPMSG", "_", "DEVICE", "_", "MODALIAS", "_", "FMT", ",", "<nl>", "rpdev", "-", ">", "id", ".", "name", ")", ";", "<nl>"], "docstring_tokens": ["rpmsg", "Make", "modalias", "work", "for", "DeviceTree", "based", "devices"]}
{"code_tokens": ["static", "int", "bcm", "_", "close", "(", "struct", "hci", "_", "uart", "*", "hu", ")", "<nl>", "if", "(", "IS", "_", "ENABLED", "(", "CONFIG", "_", "PM", ")", "&", "&", "bdev", "-", ">", "irq", ">", "0", ")", "{", "<nl>", "devm", "_", "free", "_", "irq", "(", "bdev", "-", ">", "dev", ",", "bdev", "-", ">", "irq", ",", "bdev", ")", ";", "<nl>", "device", "_", "init", "_", "wakeup", "(", "bdev", "-", ">", "dev", ",", "false", ")", ";", "<nl>", "+", "pm", "_", "runtime", "_", "disable", "(", "bdev", "-", ">", "dev", ")", ";", "<nl>", "}", "<nl>", "<nl>", "bcm", "_", "gpio", "_", "set", "_", "power", "(", "bdev", ",", "false", ")", ";", "<nl>", "-", "pm", "_", "runtime", "_", "disable", "(", "bdev", "-", ">", "dev", ")", ";", "<nl>", "pm", "_", "runtime", "_", "set", "_", "suspended", "(", "bdev", "-", ">", "dev", ")", ";", "<nl>", "}", "<nl>", "mutex", "_", "unlock", "(", "&", "bcm", "_", "device", "_", "lock", ")", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "hci_bcm", "Fix", "unbalanced", "pm_runtime_disable"]}
{"code_tokens": ["static", "int", "blan", "_", "mdlm", "_", "bind", "(", "struct", "usbnet", "*", "dev", ",", "struct", "usb", "_", "interface", "*", "intf", ")", "<nl>", "}", "<nl>", "/", "*", "expect", "bcdVersion", "1", ".", "0", ",", "ignore", "*", "/", "<nl>", "if", "(", "memcmp", "(", "&", "desc", "-", ">", "bGUID", ",", "blan", "_", "guid", ",", "16", ")", "<nl>", "-", "&", "&", "memcmp", "(", "&", "desc", "-", ">", "bGUID", ",", "blan", "_", "guid", ",", "16", ")", ")", "{", "<nl>", "+", "&", "&", "memcmp", "(", "&", "desc", "-", ">", "bGUID", ",", "safe", "_", "guid", ",", "16", ")", ")", "{", "<nl>", "/", "*", "hey", ",", "this", "one", "might", "_", "really", "_", "be", "MDLM", "!", "*", "/", "<nl>", "dev", "_", "dbg", "(", "&", "intf", "-", ">", "dev", ",", "\"", "MDLM", "guid", "\\", "n", "\"", ")", ";", "<nl>", "goto", "bad", "_", "desc", ";", "<nl>"], "docstring_tokens": ["PATCH", "USB", "resolve", "Zaurus", "problem"]}
{"code_tokens": ["static", "int", "atmel", "_", "hlcdc", "_", "dc", "_", "atomic", "_", "commit", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "dc", "-", ">", "commit", ".", "pending", "=", "true", ";", "<nl>", "spin", "_", "unlock", "(", "&", "dc", "-", ">", "commit", ".", "wait", ".", "lock", ")", ";", "<nl>", "<nl>", "-", "if", "(", "ret", ")", "{", "<nl>", "-", "kfree", "(", "commit", ")", ";", "<nl>", "-", "goto", "error", ";", "<nl>", "-", "}", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "goto", "err", "_", "free", ";", "<nl>", "<nl>", "-", "/", "*", "Swap", "the", "state", ",", "this", "is", "the", "point", "of", "no", "return", ".", "*", "/", "<nl>", "-", "drm", "_", "atomic", "_", "helper", "_", "swap", "_", "state", "(", "state", ",", "true", ")", ";", "<nl>", "+", "/", "*", "We", "have", "our", "own", "synchronization", "through", "the", "commit", "lock", ".", "*", "/", "<nl>", "+", "BUG", "_", "ON", "(", "drm", "_", "atomic", "_", "helper", "_", "swap", "_", "state", "(", "state", ",", "false", ")", "<", "0", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Swap", "state", "succeeded", ",", "this", "is", "the", "point", "of", "no", "return", ".", "*", "/", "<nl>", "drm", "_", "atomic", "_", "state", "_", "get", "(", "state", ")", ";", "<nl>", "if", "(", "async", ")", "<nl>", "queue", "_", "work", "(", "dc", "-", ">", "wq", ",", "&", "commit", "-", ">", "work", ")", ";", "<nl>", "static", "int", "atmel", "_", "hlcdc", "_", "dc", "_", "atomic", "_", "commit", "(", "struct", "drm", "_", "device", "*", "dev", ",", "<nl>", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "err", "_", "free", ":", "<nl>", "+", "kfree", "(", "commit", ")", ";", "<nl>", "error", ":", "<nl>", "drm", "_", "atomic", "_", "helper", "_", "cleanup", "_", "planes", "(", "dev", ",", "state", ")", ";", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["drm", "atmel", "hlcdc", "Handle", "drm_atomic_helper_swap_state", "failure"]}
{"code_tokens": ["static", "int", "btrfs", "_", "extent", "_", "same", "(", "struct", "inode", "*", "src", ",", "u64", "loff", ",", "u64", "olen", ",", "<nl>", "inode", "_", "lock", "(", "src", ")", ";", "<nl>", "<nl>", "ret", "=", "extent", "_", "same", "_", "check", "_", "offsets", "(", "src", ",", "loff", ",", "&", "len", ",", "olen", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "goto", "out", "_", "unlock", ";", "<nl>", "+", "ret", "=", "extent", "_", "same", "_", "check", "_", "offsets", "(", "src", ",", "dst", "_", "loff", ",", "&", "len", ",", "olen", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "goto", "out", "_", "unlock", ";", "<nl>"], "docstring_tokens": ["Btrfs", "fix", "extent_same", "allowing", "destination", "offset", "beyond", "i_size"]}
{"code_tokens": ["static", "struct", "page", "_", "info", "*", "alloc", "_", "largest", "_", "available", "(", "struct", "ion", "_", "system", "_", "heap", "*", "heap", ",", "<nl>", "struct", "page", "_", "info", "*", "info", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "+", "info", "=", "kmalloc", "(", "sizeof", "(", "struct", "page", "_", "info", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "info", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "num", "_", "orders", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "size", "<", "order", "_", "to", "_", "size", "(", "orders", "[", "i", "]", ")", ")", "<nl>", "continue", ";", "<nl>", "static", "struct", "page", "_", "info", "*", "alloc", "_", "largest", "_", "available", "(", "struct", "ion", "_", "system", "_", "heap", "*", "heap", ",", "<nl>", "if", "(", "!", "page", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "-", "info", "=", "kmalloc", "(", "sizeof", "(", "struct", "page", "_", "info", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "info", "-", ">", "page", "=", "page", ";", "<nl>", "info", "-", ">", "order", "=", "orders", "[", "i", "]", ";", "<nl>", "return", "info", ";", "<nl>", "}", "<nl>", "+", "kfree", "(", "info", ")", ";", "<nl>", "+", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "ion", "Fix", "possible", "null", "pointer", "dereference"]}
{"code_tokens": ["static", "int", "shash", "_", "update", "_", "unaligned", "(", "struct", "shash", "_", "desc", "*", "desc", ",", "const", "u8", "*", "data", ",", "<nl>", "u8", "buf", "[", "shash", "_", "align", "_", "buffer", "_", "size", "(", "unaligned", "_", "len", ",", "alignmask", ")", "]", "<nl>", "_", "_", "attribute", "_", "_", "(", "(", "aligned", ")", ")", ";", "<nl>", "<nl>", "+", "if", "(", "unaligned", "_", "len", ">", "len", ")", "<nl>", "+", "unaligned", "_", "len", "=", "len", ";", "<nl>", "+", "<nl>", "memcpy", "(", "buf", ",", "data", ",", "unaligned", "_", "len", ")", ";", "<nl>", "<nl>", "return", "shash", "-", ">", "update", "(", "desc", ",", "buf", ",", "unaligned", "_", "len", ")", "?", ":", "<nl>"], "docstring_tokens": ["crypto", "shash", "Fix", "unaligned", "calculation", "with", "short", "length"]}
{"code_tokens": ["struct", "dma", "_", "buf", "*", "exynos", "_", "dmabuf", "_", "prime", "_", "export", "(", "struct", "drm", "_", "device", "*", "drm", "_", "dev", ",", "<nl>", "struct", "exynos", "_", "drm", "_", "gem", "_", "obj", "*", "exynos", "_", "gem", "_", "obj", "=", "to", "_", "exynos", "_", "gem", "_", "obj", "(", "obj", ")", ";", "<nl>", "<nl>", "return", "dma", "_", "buf", "_", "export", "(", "exynos", "_", "gem", "_", "obj", ",", "&", "exynos", "_", "dmabuf", "_", "ops", ",", "<nl>", "-", "exynos", "_", "gem", "_", "obj", "-", ">", "base", ".", "size", ",", "0600", ")", ";", "<nl>", "+", "exynos", "_", "gem", "_", "obj", "-", ">", "base", ".", "size", ",", "flags", ")", ";", "<nl>", "}", "<nl>", "<nl>", "struct", "drm", "_", "gem", "_", "object", "*", "exynos", "_", "dmabuf", "_", "prime", "_", "import", "(", "struct", "drm", "_", "device", "*", "drm", "_", "dev", ",", "<nl>"], "docstring_tokens": ["drm", "exynos", "fix", "flags", "in", "dma", "buf", "exporting"]}
{"code_tokens": ["static", "int", "atmel", "_", "serial", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "struct", "atmel", "_", "uart", "_", "port", "*", "atmel", "_", "port", "=", "to", "_", "atmel", "_", "uart", "_", "port", "(", "port", ")", ";", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "+", "tasklet", "_", "kill", "(", "&", "atmel", "_", "port", "-", ">", "tasklet", ")", ";", "<nl>", "+", "<nl>", "device", "_", "init", "_", "wakeup", "(", "&", "pdev", "-", ">", "dev", ",", "0", ")", ";", "<nl>", "<nl>", "ret", "=", "uart", "_", "remove", "_", "one", "_", "port", "(", "&", "atmel", "_", "uart", ",", "port", ")", ";", "<nl>", "<nl>", "-", "tasklet", "_", "kill", "(", "&", "atmel", "_", "port", "-", ">", "tasklet", ")", ";", "<nl>", "kfree", "(", "atmel", "_", "port", "-", ">", "rx", "_", "ring", ".", "buf", ")", ";", "<nl>", "<nl>", "/", "*", "\"", "port", "\"", "is", "allocated", "statically", ",", "so", "we", "shouldn", "'", "t", "free", "it", "*", "/", "<nl>"], "docstring_tokens": ["tty", "serial", "at91", "fix", "race", "condition", "in", "atmel_serial_remove"]}
{"code_tokens": ["int", "md", "_", "raid1", "_", "congested", "(", "struct", "mddev", "*", "mddev", ",", "int", "bits", ")", "<nl>", "return", "1", ";", "<nl>", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "conf", "-", ">", "raid", "_", "disks", ";", "i", "+", "+", ")", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "conf", "-", ">", "raid", "_", "disks", "*", "2", ";", "i", "+", "+", ")", "{", "<nl>", "struct", "md", "_", "rdev", "*", "rdev", "=", "rcu", "_", "dereference", "(", "conf", "-", ">", "mirrors", "[", "i", "]", ".", "rdev", ")", ";", "<nl>", "if", "(", "rdev", "&", "&", "!", "test", "_", "bit", "(", "Faulty", ",", "&", "rdev", "-", ">", "flags", ")", ")", "{", "<nl>", "struct", "request", "_", "queue", "*", "q", "=", "bdev", "_", "get", "_", "queue", "(", "rdev", "-", ">", "bdev", ")", ";", "<nl>"], "docstring_tokens": ["md", "raid1", "fix", "buglet", "in", "md_raid1_contested"]}
{"code_tokens": ["void", "_", "_", "detach", "_", "mounts", "(", "struct", "dentry", "*", "dentry", ")", "<nl>", "<nl>", "namespace", "_", "lock", "(", ")", ";", "<nl>", "mp", "=", "lookup", "_", "mountpoint", "(", "dentry", ")", ";", "<nl>", "-", "if", "(", "!", "mp", ")", "<nl>", "+", "if", "(", "IS", "_", "ERR", "_", "OR", "_", "NULL", "(", "mp", ")", ")", "<nl>", "goto", "out", "_", "unlock", ";", "<nl>", "<nl>", "lock", "_", "mount", "_", "hash", "(", ")", ";", "<nl>"], "docstring_tokens": ["mnt", "Fix", "the", "error", "check", "in", "__detach_mounts"]}
{"code_tokens": ["static", "int", "decode", "_", "attr", "_", "fs", "_", "locations", "(", "struct", "xdr", "_", "stream", "*", "xdr", ",", "uint32", "_", "t", "*", "bitmap", ",", "st", "<nl>", "status", "=", "0", ";", "<nl>", "if", "(", "unlikely", "(", "!", "(", "bitmap", "[", "0", "]", "&", "FATTR4", "_", "WORD0", "_", "FS", "_", "LOCATIONS", ")", ")", ")", "<nl>", "goto", "out", ";", "<nl>", "+", "bitmap", "[", "0", "]", "&", "=", "~", "FATTR4", "_", "WORD0", "_", "FS", "_", "LOCATIONS", ";", "<nl>", "status", "=", "-", "EIO", ";", "<nl>", "/", "*", "Ignore", "borken", "servers", "that", "return", "unrequested", "attrs", "*", "/", "<nl>", "if", "(", "unlikely", "(", "res", "=", "=", "NULL", ")", ")", "<nl>"], "docstring_tokens": ["NFS4", "Cleanup", "FATTR4_WORD0_FS_LOCATIONS", "after", "decoding", "success"]}
{"code_tokens": ["struct", "rock", "_", "state", "{", "<nl>", "int", "cont", "_", "size", ";", "<nl>", "int", "cont", "_", "extent", ";", "<nl>", "int", "cont", "_", "offset", ";", "<nl>", "+", "int", "cont", "_", "loops", ";", "<nl>", "struct", "inode", "*", "inode", ";", "<nl>", "}", ";", "<nl>", "<nl>", "static", "void", "init", "_", "rock", "_", "state", "(", "struct", "rock", "_", "state", "*", "rs", ",", "struct", "inode", "*", "inode", ")", "<nl>", "rs", "-", ">", "inode", "=", "inode", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Maximum", "number", "of", "Rock", "Ridge", "continuation", "entries", "*", "/", "<nl>", "+", "#", "define", "RR", "_", "MAX", "_", "CE", "_", "ENTRIES", "32", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Returns", "0", "if", "the", "caller", "should", "continue", "scanning", ",", "1", "if", "the", "scan", "must", "end", "<nl>", "*", "and", "-", "ve", "on", "error", ".", "<nl>", "static", "int", "rock", "_", "continue", "(", "struct", "rock", "_", "state", "*", "rs", ")", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "ret", "=", "-", "EIO", ";", "<nl>", "+", "if", "(", "+", "+", "rs", "-", ">", "cont", "_", "loops", ">", "=", "RR", "_", "MAX", "_", "CE", "_", "ENTRIES", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "bh", "=", "sb", "_", "bread", "(", "rs", "-", ">", "inode", "-", ">", "i", "_", "sb", ",", "rs", "-", ">", "cont", "_", "extent", ")", ";", "<nl>", "if", "(", "bh", ")", "{", "<nl>", "memcpy", "(", "rs", "-", ">", "buffer", ",", "bh", "-", ">", "b", "_", "data", "+", "rs", "-", ">", "cont", "_", "offset", ",", "<nl>"], "docstring_tokens": ["isofs", "Fix", "infinite", "looping", "over", "CE", "entries"]}
{"code_tokens": ["int", "mpi", "_", "powm", "(", "MPI", "res", ",", "MPI", "base", ",", "MPI", "exp", ",", "MPI", "mod", ")", "<nl>", "if", "(", "!", "esize", ")", "{", "<nl>", "/", "*", "Exponent", "is", "zero", ",", "result", "is", "1", "mod", "MOD", ",", "i", ".", "e", ".", ",", "1", "or", "0", "<nl>", "*", "depending", "on", "if", "MOD", "equals", "1", ".", "*", "/", "<nl>", "-", "rp", "[", "0", "]", "=", "1", ";", "<nl>", "res", "-", ">", "nlimbs", "=", "(", "msize", "=", "=", "1", "&", "&", "mod", "-", ">", "d", "[", "0", "]", "=", "=", "1", ")", "?", "0", ":", "1", ";", "<nl>", "+", "if", "(", "res", "-", ">", "nlimbs", ")", "{", "<nl>", "+", "if", "(", "mpi", "_", "resize", "(", "res", ",", "1", ")", "<", "0", ")", "<nl>", "+", "goto", "enomem", ";", "<nl>", "+", "rp", "=", "res", "-", ">", "d", ";", "<nl>", "+", "rp", "[", "0", "]", "=", "1", ";", "<nl>", "+", "}", "<nl>", "res", "-", ">", "sign", "=", "0", ";", "<nl>", "goto", "leave", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mpi", "Fix", "NULL", "ptr", "dereference", "in", "mpi_powm", "ver", "3"]}
{"code_tokens": ["int", "ieee80211", "_", "radiotap", "_", "iterator", "_", "init", "(", "<nl>", "struct", "ieee80211", "_", "radiotap", "_", "header", "*", "radiotap", "_", "header", ",", "<nl>", "int", "max", "_", "length", ",", "const", "struct", "ieee80211", "_", "radiotap", "_", "vendor", "_", "namespaces", "*", "vns", ")", "<nl>", "{", "<nl>", "+", "/", "*", "check", "the", "radiotap", "header", "can", "actually", "be", "present", "*", "/", "<nl>", "+", "if", "(", "max", "_", "length", "<", "sizeof", "(", "struct", "ieee80211", "_", "radiotap", "_", "header", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "/", "*", "Linux", "only", "supports", "version", "0", "radiotap", "format", "*", "/", "<nl>", "if", "(", "radiotap", "_", "header", "-", ">", "it", "_", "version", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "int", "ieee80211", "_", "radiotap", "_", "iterator", "_", "init", "(", "<nl>", "*", "/", "<nl>", "<nl>", "if", "(", "(", "unsigned", "long", ")", "iterator", "-", ">", "_", "arg", "-", "<nl>", "-", "(", "unsigned", "long", ")", "iterator", "-", ">", "_", "rtheader", ">", "<nl>", "+", "(", "unsigned", "long", ")", "iterator", "-", ">", "_", "rtheader", "+", "<nl>", "+", "sizeof", "(", "uint32", "_", "t", ")", ">", "<nl>", "(", "unsigned", "long", ")", "iterator", "-", ">", "_", "max", "_", "length", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["wireless", "radiotap", "fix", "parsing", "buffer", "overrun"]}
{"code_tokens": ["static", "const", "char", "*", "const", "vmlinux", "_", "paths", "_", "upd", "[", "]", "=", "{", "<nl>", "\"", "/", "boot", "/", "vmlinux", "-", "%", "s", "\"", ",", "<nl>", "\"", "/", "usr", "/", "lib", "/", "debug", "/", "boot", "/", "vmlinux", "-", "%", "s", "\"", ",", "<nl>", "\"", "/", "lib", "/", "modules", "/", "%", "s", "/", "build", "/", "vmlinux", "\"", ",", "<nl>", "-", "\"", "/", "usr", "/", "lib", "/", "debug", "/", "lib", "/", "modules", "/", "%", "s", "/", "vmlinux", "\"", "<nl>", "+", "\"", "/", "usr", "/", "lib", "/", "debug", "/", "lib", "/", "modules", "/", "%", "s", "/", "vmlinux", "\"", ",", "<nl>", "+", "\"", "/", "usr", "/", "lib", "/", "debug", "/", "boot", "/", "vmlinux", "-", "%", "s", ".", "debug", "\"", "<nl>", "}", ";", "<nl>", "<nl>", "static", "int", "vmlinux", "_", "path", "_", "_", "add", "(", "const", "char", "*", "new", "_", "entry", ")", "<nl>"], "docstring_tokens": ["perf", "symbols", "Add", "the", "path", "to", "vmlinux", "debug"]}
{"code_tokens": ["int", "Efuse", "_", "PgPacketRead", "(", "struct", "adapter", "*", "pAdapter", ",", "u8", "offset", ",", "u8", "*", "data", ")", "<nl>", "u8", "hoffset", "=", "0", ",", "hworden", "=", "0", ";", "<nl>", "u8", "tmpidx", "=", "0", ";", "<nl>", "u8", "tmpdata", "[", "8", "]", ";", "<nl>", "-", "u8", "max", "_", "section", "=", "0", ";", "<nl>", "u8", "tmp", "_", "header", "=", "0", ";", "<nl>", "<nl>", "-", "EFUSE", "_", "GetEfuseDefinition", "(", "pAdapter", ",", "EFUSE", "_", "WIFI", ",", "TYPE", "_", "EFUSE", "_", "MAX", "_", "SECTION", ",", "(", "void", "*", ")", "&", "max", "_", "section", ")", ";", "<nl>", "-", "<nl>", "if", "(", "!", "data", ")", "<nl>", "return", "false", ";", "<nl>", "-", "if", "(", "offset", ">", "max", "_", "section", ")", "<nl>", "+", "if", "(", "offset", ">", "EFUSE", "_", "MAX", "_", "SECTION", "_", "88E", ")", "<nl>", "return", "false", ";", "<nl>", "<nl>", "memset", "(", "data", ",", "0xff", ",", "sizeof", "(", "u8", ")", "*", "PGPKT", "_", "DATA", "_", "SIZE", ")", ";", "<nl>"], "docstring_tokens": ["staging", "rtl8188eu", "replace", "EFUSE_GetEfuseDefinition", "TYPE_EFUSE_MAX_SECTION", "a", "with", "a", "EFUSE_MAX_SECTION_88E"]}
{"code_tokens": ["int", "vmw", "_", "du", "_", "page", "_", "flip", "(", "struct", "drm", "_", "crtc", "*", "crtc", ",", "<nl>", "struct", "vmw", "_", "private", "*", "dev", "_", "priv", "=", "vmw", "_", "priv", "(", "crtc", "-", ">", "dev", ")", ";", "<nl>", "struct", "drm", "_", "framebuffer", "*", "old", "_", "fb", "=", "crtc", "-", ">", "fb", ";", "<nl>", "struct", "vmw", "_", "framebuffer", "*", "vfb", "=", "vmw", "_", "framebuffer", "_", "to", "_", "vfb", "(", "fb", ")", ";", "<nl>", "-", "struct", "drm", "_", "file", "*", "file", "_", "priv", "=", "event", "-", ">", "base", ".", "file", "_", "priv", ";", "<nl>", "+", "struct", "drm", "_", "file", "*", "file", "_", "priv", ";", "<nl>", "struct", "vmw", "_", "fence", "_", "obj", "*", "fence", "=", "NULL", ";", "<nl>", "struct", "drm", "_", "clip", "_", "rect", "clips", ";", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "if", "(", "event", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "/", "*", "require", "ScreenObject", "support", "for", "page", "flipping", "*", "/", "<nl>", "if", "(", "!", "dev", "_", "priv", "-", ">", "sou", "_", "priv", ")", "<nl>", "return", "-", "ENOSYS", ";", "<nl>", "<nl>", "+", "file", "_", "priv", "=", "event", "-", ">", "base", ".", "file", "_", "priv", ";", "<nl>", "if", "(", "!", "vmw", "_", "kms", "_", "screen", "_", "object", "_", "flippable", "(", "dev", "_", "priv", ",", "crtc", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["drm", "stop", "vmgfx", "driver", "explosion"]}
{"code_tokens": ["static", "int", "zd1201", "_", "resume", "(", "struct", "usb", "_", "interface", "*", "interface", ")", "<nl>", "{", "<nl>", "struct", "zd1201", "*", "zd", "=", "usb", "_", "get", "_", "intfdata", "(", "interface", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "zd", "|", "|", "!", "zd", "-", ">", "dev", ")", "<nl>", "+", "return", "-", "ENODEV", ";", "<nl>", "+", "<nl>", "netif", "_", "device", "_", "attach", "(", "zd", "-", ">", "dev", ")", ";", "<nl>", "<nl>", "if", "(", "zd", "-", ">", "was", "_", "enabled", ")", "<nl>"], "docstring_tokens": ["PATCH", "USB", "check", "for", "device", "in", "zd1201_resume"]}
{"code_tokens": ["static", "int", "find", "_", "parent", "_", "nodes", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "}", "<nl>", "ret", "=", "find", "_", "extent", "_", "in", "_", "eb", "(", "eb", ",", "bytenr", ",", "<nl>", "*", "extent", "_", "item", "_", "pos", ",", "&", "eie", ")", ";", "<nl>", "-", "ref", "-", ">", "inode", "_", "list", "=", "eie", ";", "<nl>", "free", "_", "extent", "_", "buffer", "(", "eb", ")", ";", "<nl>", "+", "if", "(", "ret", "<", "0", ")", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "ref", "-", ">", "inode", "_", "list", "=", "eie", ";", "<nl>", "}", "<nl>", "ret", "=", "ulist", "_", "add", "_", "merge", "(", "refs", ",", "ref", "-", ">", "parent", ",", "<nl>", "(", "uintptr", "_", "t", ")", "ref", "-", ">", "inode", "_", "list", ",", "<nl>"], "docstring_tokens": ["Btrfs", "add", "missing", "error", "check", "to", "find_parent_nodes"]}
{"code_tokens": ["static", "int", "copy", "_", "user", "_", "dax", "(", "struct", "block", "_", "device", "*", "bdev", ",", "struct", "dax", "_", "device", "*", "dax", "_", "dev", ",", "<nl>", "static", "void", "*", "dax", "_", "insert", "_", "mapping", "_", "entry", "(", "struct", "address", "_", "space", "*", "mapping", ",", "<nl>", "struct", "vm", "_", "fault", "*", "vmf", ",", "<nl>", "void", "*", "entry", ",", "sector", "_", "t", "sector", ",", "<nl>", "-", "unsigned", "long", "flags", ")", "<nl>", "+", "unsigned", "long", "flags", ",", "bool", "dirty", ")", "<nl>", "{", "<nl>", "struct", "radix", "_", "tree", "_", "root", "*", "page", "_", "tree", "=", "&", "mapping", "-", ">", "page", "_", "tree", ";", "<nl>", "void", "*", "new", "_", "entry", ";", "<nl>", "pgoff", "_", "t", "index", "=", "vmf", "-", ">", "pgoff", ";", "<nl>", "<nl>", "-", "if", "(", "vmf", "-", ">", "flags", "&", "FAULT", "_", "FLAG", "_", "WRITE", ")", "<nl>", "+", "if", "(", "dirty", ")", "<nl>", "_", "_", "mark", "_", "inode", "_", "dirty", "(", "mapping", "-", ">", "host", ",", "I", "_", "DIRTY", "_", "PAGES", ")", ";", "<nl>", "<nl>", "if", "(", "dax", "_", "is", "_", "zero", "_", "entry", "(", "entry", ")", "&", "&", "!", "(", "flags", "&", "RADIX", "_", "DAX", "_", "ZERO", "_", "PAGE", ")", ")", "{", "<nl>", "static", "void", "*", "dax", "_", "insert", "_", "mapping", "_", "entry", "(", "struct", "address", "_", "space", "*", "mapping", ",", "<nl>", "entry", "=", "new", "_", "entry", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "vmf", "-", ">", "flags", "&", "FAULT", "_", "FLAG", "_", "WRITE", ")", "<nl>", "+", "if", "(", "dirty", ")", "<nl>", "radix", "_", "tree", "_", "tag", "_", "set", "(", "page", "_", "tree", ",", "index", ",", "PAGECACHE", "_", "TAG", "_", "DIRTY", ")", ";", "<nl>", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "&", "mapping", "-", ">", "tree", "_", "lock", ")", ";", "<nl>", "static", "int", "dax", "_", "load", "_", "hole", "(", "struct", "address", "_", "space", "*", "mapping", ",", "void", "*", "entry", ",", "<nl>", "}", "<nl>", "<nl>", "entry2", "=", "dax", "_", "insert", "_", "mapping", "_", "entry", "(", "mapping", ",", "vmf", ",", "entry", ",", "0", ",", "<nl>", "-", "RADIX", "_", "DAX", "_", "ZERO", "_", "PAGE", ")", ";", "<nl>", "+", "RADIX", "_", "DAX", "_", "ZERO", "_", "PAGE", ",", "false", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "entry2", ")", ")", "{", "<nl>", "ret", "=", "VM", "_", "FAULT", "_", "SIGBUS", ";", "<nl>", "goto", "out", ";", "<nl>", "static", "int", "dax", "_", "iomap", "_", "pte", "_", "fault", "(", "struct", "vm", "_", "fault", "*", "vmf", ",", "pfn", "_", "t", "*", "pfnp", ",", "<nl>", "<nl>", "entry", "=", "dax", "_", "insert", "_", "mapping", "_", "entry", "(", "mapping", ",", "vmf", ",", "entry", ",", "<nl>", "dax", "_", "iomap", "_", "sector", "(", "&", "iomap", ",", "pos", ")", ",", "<nl>", "-", "0", ")", ";", "<nl>", "+", "0", ",", "write", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "entry", ")", ")", "{", "<nl>", "error", "=", "PTR", "_", "ERR", "(", "entry", ")", ";", "<nl>", "goto", "error", "_", "finish", "_", "iomap", ";", "<nl>", "static", "int", "dax", "_", "pmd", "_", "load", "_", "hole", "(", "struct", "vm", "_", "fault", "*", "vmf", ",", "struct", "iomap", "*", "iomap", ",", "<nl>", "goto", "fallback", ";", "<nl>", "<nl>", "ret", "=", "dax", "_", "insert", "_", "mapping", "_", "entry", "(", "mapping", ",", "vmf", ",", "entry", ",", "0", ",", "<nl>", "-", "RADIX", "_", "DAX", "_", "PMD", "|", "RADIX", "_", "DAX", "_", "ZERO", "_", "PAGE", ")", ";", "<nl>", "+", "RADIX", "_", "DAX", "_", "PMD", "|", "RADIX", "_", "DAX", "_", "ZERO", "_", "PAGE", ",", "false", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "ret", ")", ")", "<nl>", "goto", "fallback", ";", "<nl>", "<nl>", "static", "int", "dax", "_", "iomap", "_", "pmd", "_", "fault", "(", "struct", "vm", "_", "fault", "*", "vmf", ",", "pfn", "_", "t", "*", "pfnp", ",", "<nl>", "<nl>", "entry", "=", "dax", "_", "insert", "_", "mapping", "_", "entry", "(", "mapping", ",", "vmf", ",", "entry", ",", "<nl>", "dax", "_", "iomap", "_", "sector", "(", "&", "iomap", ",", "pos", ")", ",", "<nl>", "-", "RADIX", "_", "DAX", "_", "PMD", ")", ";", "<nl>", "+", "RADIX", "_", "DAX", "_", "PMD", ",", "write", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "entry", ")", ")", "<nl>", "goto", "finish", "_", "iomap", ";", "<nl>"], "docstring_tokens": ["dax", "Allow", "tuning", "whether", "dax_insert_mapping_entry", "dirties", "entry"]}
{"code_tokens": ["int", "iio", "_", "buffer", "_", "register", "(", "struct", "iio", "_", "dev", "*", "indio", "_", "dev", ",", "<nl>", "if", "(", "channels", ")", "{", "<nl>", "/", "*", "new", "magic", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "num", "_", "channels", ";", "i", "+", "+", ")", "{", "<nl>", "+", "if", "(", "channels", "[", "i", "]", ".", "scan", "_", "index", "<", "0", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "/", "*", "Establish", "necessary", "mask", "length", "*", "/", "<nl>", "if", "(", "channels", "[", "i", "]", ".", "scan", "_", "index", ">", "<nl>", "(", "int", ")", "indio", "_", "dev", "-", ">", "masklength", "-", "1", ")", "<nl>"], "docstring_tokens": ["iio", "iio_buffer_register", "Skip", "channels", "with", "negative", "scan", "index"]}
{"code_tokens": ["static", "int", "_", "_", "wlcore", "_", "cmd", "_", "send", "(", "struct", "wl1271", "*", "wl", ",", "u16", "id", ",", "void", "*", "buf", ",", "<nl>", "id", "!", "=", "CMD", "_", "STOP", "_", "FWLOGGER", ")", ")", "<nl>", "return", "-", "EIO", ";", "<nl>", "<nl>", "+", "if", "(", "WARN", "_", "ON", "_", "ONCE", "(", "len", "<", "sizeof", "(", "*", "cmd", ")", ")", ")", "<nl>", "+", "return", "-", "EIO", ";", "<nl>", "+", "<nl>", "cmd", "=", "buf", ";", "<nl>", "cmd", "-", ">", "id", "=", "cpu", "_", "to", "_", "le16", "(", "id", ")", ";", "<nl>", "cmd", "-", ">", "status", "=", "0", ";", "<nl>", "int", "wlcore", "_", "cmd", "_", "configure", "_", "failsafe", "(", "struct", "wl1271", "*", "wl", ",", "u16", "id", ",", "void", "*", "buf", ",", "<nl>", "<nl>", "wl1271", "_", "debug", "(", "DEBUG", "_", "CMD", ",", "\"", "cmd", "configure", "(", "%", "d", ")", "\"", ",", "id", ")", ";", "<nl>", "<nl>", "+", "if", "(", "WARN", "_", "ON", "_", "ONCE", "(", "len", "<", "sizeof", "(", "*", "acx", ")", ")", ")", "<nl>", "+", "return", "-", "EIO", ";", "<nl>", "+", "<nl>", "acx", "-", ">", "id", "=", "cpu", "_", "to", "_", "le16", "(", "id", ")", ";", "<nl>", "<nl>", "/", "*", "payload", "length", ",", "does", "not", "include", "any", "headers", "*", "/", "<nl>"], "docstring_tokens": ["wlcore", "check", "minimum", "buffer", "size", "in", "some", "cmd_send", "functions"]}
{"code_tokens": ["static", "int", "i82975x", "_", "probe1", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "int", "dev", "_", "idx", ")", "<nl>", "}", "<nl>", "mchbar", "&", "=", "0xffffc000", ";", "/", "*", "bits", "31", ":", "14", "used", "for", "16K", "window", "*", "/", "<nl>", "mch", "_", "window", "=", "ioremap", "_", "nocache", "(", "mchbar", ",", "0x1000", ")", ";", "<nl>", "+", "if", "(", "!", "mch", "_", "window", ")", "{", "<nl>", "+", "edac", "_", "dbg", "(", "3", ",", "\"", "error", "ioremapping", "MCHBAR", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "goto", "fail0", ";", "<nl>", "+", "}", "<nl>", "<nl>", "#", "ifdef", "i82975x", "_", "DEBUG", "_", "IOMEM", "<nl>", "i82975x", "_", "printk", "(", "KERN", "_", "INFO", ",", "\"", "MCHBAR", "real", "=", "%", "0x", ",", "remapped", "=", "%", "p", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["EDAC", "i82975x", "Add", "ioremap_nocache", "error", "handling"]}
{"code_tokens": ["static", "int", "sd", "_", "config", "(", "struct", "gspca", "_", "dev", "*", "gspca", "_", "dev", ",", "<nl>", "break", ";", "<nl>", "}", "<nl>", "sd", "-", ">", "brightness", "=", "BRIGHTNESS", "_", "DEF", ";", "<nl>", "-", "sd", "-", ">", "contrast", "=", "CONTRAST", "_", "DEF", ";", "<nl>", "+", "if", "(", "sd", "-", ">", "sensor", "=", "=", "SEN", "_", "OV6630", "|", "|", "sd", "-", ">", "sensor", "=", "=", "SEN", "_", "OV66308AF", ")", "<nl>", "+", "sd", "-", ">", "contrast", "=", "200", ";", "/", "*", "The", "default", "is", "too", "low", "for", "the", "ov6630", "*", "/", "<nl>", "+", "else", "<nl>", "+", "sd", "-", ">", "contrast", "=", "CONTRAST", "_", "DEF", ";", "<nl>", "sd", "-", ">", "colors", "=", "COLOR", "_", "DEF", ";", "<nl>", "sd", "-", ">", "hflip", "=", "HFLIP", "_", "DEF", ";", "<nl>", "sd", "-", ">", "vflip", "=", "VFLIP", "_", "DEF", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "12078", "gspca_ov519", "Better", "default", "contrast", "for", "ov6630"]}
{"code_tokens": ["typedef", "struct", "{", "<nl>", "uint8", "_", "t", "max", "_", "lun", ";", "<nl>", "<nl>", "uint32", "_", "t", "unique", "_", "id", ";", "<nl>", "-", "uint8", "_", "t", "irq", ";", "<nl>", "+", "int", "irq", ";", "<nl>", "uint8", "_", "t", "ito", ";", "<nl>", "caddr", "_", "t", "ibuf", ";", "<nl>", "dma", "_", "addr", "_", "t", "ibuf", "_", "dma", "_", "h", ";", "<nl>"], "docstring_tokens": ["SCSI", "megaraid", "Use", "the", "proper", "type", "to", "hold", "the", "irq", "number"]}
{"code_tokens": ["long", "btrfs", "_", "ioctl", "_", "send", "(", "struct", "file", "*", "mnt", "_", "file", ",", "void", "_", "_", "user", "*", "arg", "_", ")", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "arg", "-", ">", "clone", "_", "sources", "_", "count", ">", "<nl>", "+", "ULLONG", "_", "MAX", "/", "sizeof", "(", "*", "arg", "-", ">", "clone", "_", "sources", ")", ")", "{", "<nl>", "+", "ret", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "!", "access", "_", "ok", "(", "VERIFY", "_", "READ", ",", "arg", "-", ">", "clone", "_", "sources", ",", "<nl>", "sizeof", "(", "*", "arg", "-", ">", "clone", "_", "sources", ")", "*", "<nl>", "arg", "-", ">", "clone", "_", "sources", "_", "count", ")", ")", "{", "<nl>"], "docstring_tokens": ["btrfs", "send", "silence", "an", "integer", "overflow", "warning"]}
{"code_tokens": ["static", "int", "uverbs", "_", "validate", "_", "kernel", "_", "mandatory", "(", "const", "struct", "uverbs", "_", "method", "_", "spec", "*", "met", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "+", "for", "(", ";", "i", "<", "method", "_", "spec", "-", ">", "num", "_", "buckets", ";", "i", "+", "+", ")", "{", "<nl>", "+", "struct", "uverbs", "_", "attr", "_", "spec", "_", "hash", "*", "attr", "_", "spec", "_", "bucket", "=", "<nl>", "+", "method", "_", "spec", "-", ">", "attr", "_", "buckets", "[", "i", "]", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "bitmap", "_", "empty", "(", "attr", "_", "spec", "_", "bucket", "-", ">", "mandatory", "_", "attrs", "_", "bitmask", ",", "<nl>", "+", "attr", "_", "spec", "_", "bucket", "-", ">", "num", "_", "attrs", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["IB", "uverbs", "Fix", "validating", "mandatory", "attributes"]}
{"code_tokens": ["static", "int", "r820t", "_", "set", "_", "tv", "_", "standard", "(", "struct", "r820t", "_", "priv", "*", "priv", ",", "<nl>", "return", "rc", ";", "<nl>", "msleep", "(", "1", ")", ";", "<nl>", "}", "<nl>", "-", "priv", "-", ">", "int", "_", "freq", "=", "if", "_", "khz", ";", "<nl>", "+", "priv", "-", ">", "int", "_", "freq", "=", "if", "_", "khz", "*", "1000", ";", "<nl>", "<nl>", "/", "*", "Check", "if", "standard", "changed", ".", "If", "so", ",", "filter", "calibration", "is", "needed", "*", "/", "<nl>", "if", "(", "type", "!", "=", "priv", "-", ">", "type", ")", "<nl>"], "docstring_tokens": ["media", "r820t", "Fix", "IF", "scale"]}
{"code_tokens": ["static", "int", "get", "_", "port", "_", "caps", "(", "struct", "mlx5", "_", "ib", "_", "dev", "*", "dev", ")", "<nl>", "struct", "ib", "_", "device", "_", "attr", "*", "dprops", "=", "NULL", ";", "<nl>", "struct", "ib", "_", "port", "_", "attr", "*", "pprops", "=", "NULL", ";", "<nl>", "struct", "mlx5", "_", "general", "_", "caps", "*", "gen", ";", "<nl>", "-", "int", "err", "=", "0", ";", "<nl>", "+", "int", "err", "=", "-", "ENOMEM", ";", "<nl>", "int", "port", ";", "<nl>", "<nl>", "gen", "=", "&", "dev", "-", ">", "mdev", "-", ">", "caps", ".", "gen", ";", "<nl>"], "docstring_tokens": ["IB", "mlx5", "Fix", "error", "code", "in", "get_port_caps"]}
{"code_tokens": ["void", "btrfs", "_", "dump", "_", "free", "_", "space", "(", "struct", "btrfs", "_", "block", "_", "group", "_", "cache", "*", "block", "_", "group", ",", "<nl>", "<nl>", "for", "(", "n", "=", "rb", "_", "first", "(", "&", "ctl", "-", ">", "free", "_", "space", "_", "offset", ")", ";", "n", ";", "n", "=", "rb", "_", "next", "(", "n", ")", ")", "{", "<nl>", "info", "=", "rb", "_", "entry", "(", "n", ",", "struct", "btrfs", "_", "free", "_", "space", ",", "offset", "_", "index", ")", ";", "<nl>", "-", "if", "(", "info", "-", ">", "bytes", ">", "=", "bytes", ")", "<nl>", "+", "if", "(", "info", "-", ">", "bytes", ">", "=", "bytes", "&", "&", "!", "block", "_", "group", "-", ">", "ro", ")", "<nl>", "count", "+", "+", ";", "<nl>", "printk", "(", "KERN", "_", "CRIT", "\"", "entry", "offset", "%", "llu", ",", "bytes", "%", "llu", ",", "bitmap", "%", "s", "\\", "n", "\"", ",", "<nl>", "(", "unsigned", "long", "long", ")", "info", "-", ">", "offset", ",", "<nl>"], "docstring_tokens": ["Btrfs", "do", "not", "count", "in", "readonly", "bytes"]}
{"code_tokens": ["int", "radeon", "_", "device", "_", "init", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "gem", ".", "mutex", ")", ";", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "pm", ".", "mutex", ")", ";", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "gpu", "_", "clock", "_", "mutex", ")", ";", "<nl>", "+", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "init", "_", "rwsem", "(", "&", "rdev", "-", ">", "pm", ".", "mclk", "_", "lock", ")", ";", "<nl>", "init", "_", "rwsem", "(", "&", "rdev", "-", ">", "exclusive", "_", "lock", ")", ";", "<nl>", "init", "_", "waitqueue", "_", "head", "(", "&", "rdev", "-", ">", "irq", ".", "vblank", "_", "queue", ")", ";", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "radeon", "/", "cik", ".", "c", "<nl>", "int", "radeon", "_", "device", "_", "init", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "gem", ".", "mutex", ")", ";", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "pm", ".", "mutex", ")", ";", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "gpu", "_", "clock", "_", "mutex", ")", ";", "<nl>", "+", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "init", "_", "rwsem", "(", "&", "rdev", "-", ">", "pm", ".", "mclk", "_", "lock", ")", ";", "<nl>", "init", "_", "rwsem", "(", "&", "rdev", "-", ">", "exclusive", "_", "lock", ")", ";", "<nl>", "init", "_", "waitqueue", "_", "head", "(", "&", "rdev", "-", ">", "irq", ".", "vblank", "_", "queue", ")", ";", "<nl>", "u32", "cik", "_", "compute", "_", "ring", "_", "get", "_", "rptr", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "<nl>", "if", "(", "rdev", "-", ">", "wb", ".", "enabled", ")", "{", "<nl>", "rptr", "=", "le32", "_", "to", "_", "cpu", "(", "rdev", "-", ">", "wb", ".", "wb", "[", "ring", "-", ">", "rptr", "_", "offs", "/", "4", "]", ")", ";", "<nl>", "}", "else", "{", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "ring", "-", ">", "me", ",", "ring", "-", ">", "pipe", ",", "ring", "-", ">", "queue", ",", "0", ")", ";", "<nl>", "rptr", "=", "RREG32", "(", "CP", "_", "HQD", "_", "PQ", "_", "RPTR", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "rptr", "=", "(", "rptr", "&", "ring", "-", ">", "ptr", "_", "reg", "_", "mask", ")", ">", ">", "ring", "-", ">", "ptr", "_", "reg", "_", "shift", ";", "<nl>", "<nl>", "u32", "cik", "_", "compute", "_", "ring", "_", "get", "_", "wptr", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "<nl>", "if", "(", "rdev", "-", ">", "wb", ".", "enabled", ")", "{", "<nl>", "wptr", "=", "le32", "_", "to", "_", "cpu", "(", "rdev", "-", ">", "wb", ".", "wb", "[", "ring", "-", ">", "wptr", "_", "offs", "/", "4", "]", ")", ";", "<nl>", "}", "else", "{", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "ring", "-", ">", "me", ",", "ring", "-", ">", "pipe", ",", "ring", "-", ">", "queue", ",", "0", ")", ";", "<nl>", "wptr", "=", "RREG32", "(", "CP", "_", "HQD", "_", "PQ", "_", "WPTR", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "wptr", "=", "(", "wptr", "&", "ring", "-", ">", "ptr", "_", "reg", "_", "mask", ")", ">", ">", "ring", "-", ">", "ptr", "_", "reg", "_", "shift", ";", "<nl>", "<nl>", "static", "int", "cik", "_", "cp", "_", "compute", "_", "resume", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "WREG32", "(", "CP", "_", "CPF", "_", "DEBUG", ",", "tmp", ")", ";", "<nl>", "<nl>", "/", "*", "init", "the", "pipes", "*", "/", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "(", "rdev", "-", ">", "mec", ".", "num", "_", "pipe", "*", "rdev", "-", ">", "mec", ".", "num", "_", "mec", ")", ";", "i", "+", "+", ")", "{", "<nl>", "int", "me", "=", "(", "i", "<", "4", ")", "?", "1", ":", "2", ";", "<nl>", "int", "pipe", "=", "(", "i", "<", "4", ")", "?", "i", ":", "(", "i", "-", "4", ")", ";", "<nl>", "static", "int", "cik", "_", "cp", "_", "compute", "_", "resume", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "WREG32", "(", "CP", "_", "HPD", "_", "EOP", "_", "CONTROL", ",", "tmp", ")", ";", "<nl>", "}", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "<nl>", "/", "*", "init", "the", "queues", ".", "Just", "two", "for", "now", ".", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "2", ";", "i", "+", "+", ")", "{", "<nl>", "static", "int", "cik", "_", "cp", "_", "compute", "_", "resume", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "mqd", "-", ">", "static", "_", "thread", "_", "mgmt23", "[", "0", "]", "=", "0xffffffff", ";", "<nl>", "mqd", "-", ">", "static", "_", "thread", "_", "mgmt23", "[", "1", "]", "=", "0xffffffff", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "me", ",", "<nl>", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "pipe", ",", "<nl>", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "queue", ",", "0", ")", ";", "<nl>", "static", "int", "cik", "_", "cp", "_", "compute", "_", "resume", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "WREG32", "(", "CP", "_", "HQD", "_", "ACTIVE", ",", "mqd", "-", ">", "queue", "_", "state", ".", "cp", "_", "hqd", "_", "active", ")", ";", "<nl>", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "<nl>", "radeon", "_", "bo", "_", "kunmap", "(", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "mqd", "_", "obj", ")", ";", "<nl>", "radeon", "_", "bo", "_", "unreserve", "(", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "mqd", "_", "obj", ")", ";", "<nl>", "static", "int", "cik", "_", "pcie", "_", "gart", "_", "enable", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "<nl>", "/", "*", "XXX", "SH", "_", "MEM", "regs", "*", "/", "<nl>", "/", "*", "where", "to", "put", "LDS", ",", "scratch", ",", "GPUVM", "in", "FSA64", "space", "*", "/", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "16", ";", "i", "+", "+", ")", "{", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "i", ")", ";", "<nl>", "/", "*", "CP", "and", "shaders", "*", "/", "<nl>", "static", "int", "cik", "_", "pcie", "_", "gart", "_", "enable", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "/", "*", "XXX", "SDMA", "RLC", "-", "todo", "*", "/", "<nl>", "}", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "<nl>", "cik", "_", "pcie", "_", "gart", "_", "tlb", "_", "flush", "(", "rdev", ")", ";", "<nl>", "DRM", "_", "INFO", "(", "\"", "PCIE", "GART", "of", "%", "uM", "enabled", "(", "table", "at", "0x", "%", "016llX", ")", ".", "\\", "n", "\"", ",", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "radeon", "/", "radeon", ".", "h", "<nl>", "int", "radeon", "_", "device", "_", "init", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "gem", ".", "mutex", ")", ";", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "pm", ".", "mutex", ")", ";", "<nl>", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "gpu", "_", "clock", "_", "mutex", ")", ";", "<nl>", "+", "mutex", "_", "init", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "init", "_", "rwsem", "(", "&", "rdev", "-", ">", "pm", ".", "mclk", "_", "lock", ")", ";", "<nl>", "init", "_", "rwsem", "(", "&", "rdev", "-", ">", "exclusive", "_", "lock", ")", ";", "<nl>", "init", "_", "waitqueue", "_", "head", "(", "&", "rdev", "-", ">", "irq", ".", "vblank", "_", "queue", ")", ";", "<nl>", "u32", "cik", "_", "compute", "_", "ring", "_", "get", "_", "rptr", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "<nl>", "if", "(", "rdev", "-", ">", "wb", ".", "enabled", ")", "{", "<nl>", "rptr", "=", "le32", "_", "to", "_", "cpu", "(", "rdev", "-", ">", "wb", ".", "wb", "[", "ring", "-", ">", "rptr", "_", "offs", "/", "4", "]", ")", ";", "<nl>", "}", "else", "{", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "ring", "-", ">", "me", ",", "ring", "-", ">", "pipe", ",", "ring", "-", ">", "queue", ",", "0", ")", ";", "<nl>", "rptr", "=", "RREG32", "(", "CP", "_", "HQD", "_", "PQ", "_", "RPTR", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "rptr", "=", "(", "rptr", "&", "ring", "-", ">", "ptr", "_", "reg", "_", "mask", ")", ">", ">", "ring", "-", ">", "ptr", "_", "reg", "_", "shift", ";", "<nl>", "<nl>", "u32", "cik", "_", "compute", "_", "ring", "_", "get", "_", "wptr", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "<nl>", "if", "(", "rdev", "-", ">", "wb", ".", "enabled", ")", "{", "<nl>", "wptr", "=", "le32", "_", "to", "_", "cpu", "(", "rdev", "-", ">", "wb", ".", "wb", "[", "ring", "-", ">", "wptr", "_", "offs", "/", "4", "]", ")", ";", "<nl>", "}", "else", "{", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "ring", "-", ">", "me", ",", "ring", "-", ">", "pipe", ",", "ring", "-", ">", "queue", ",", "0", ")", ";", "<nl>", "wptr", "=", "RREG32", "(", "CP", "_", "HQD", "_", "PQ", "_", "WPTR", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "}", "<nl>", "wptr", "=", "(", "wptr", "&", "ring", "-", ">", "ptr", "_", "reg", "_", "mask", ")", ">", ">", "ring", "-", ">", "ptr", "_", "reg", "_", "shift", ";", "<nl>", "<nl>", "static", "int", "cik", "_", "cp", "_", "compute", "_", "resume", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "WREG32", "(", "CP", "_", "CPF", "_", "DEBUG", ",", "tmp", ")", ";", "<nl>", "<nl>", "/", "*", "init", "the", "pipes", "*", "/", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "(", "rdev", "-", ">", "mec", ".", "num", "_", "pipe", "*", "rdev", "-", ">", "mec", ".", "num", "_", "mec", ")", ";", "i", "+", "+", ")", "{", "<nl>", "int", "me", "=", "(", "i", "<", "4", ")", "?", "1", ":", "2", ";", "<nl>", "int", "pipe", "=", "(", "i", "<", "4", ")", "?", "i", ":", "(", "i", "-", "4", ")", ";", "<nl>", "static", "int", "cik", "_", "cp", "_", "compute", "_", "resume", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "WREG32", "(", "CP", "_", "HPD", "_", "EOP", "_", "CONTROL", ",", "tmp", ")", ";", "<nl>", "}", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "<nl>", "/", "*", "init", "the", "queues", ".", "Just", "two", "for", "now", ".", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "2", ";", "i", "+", "+", ")", "{", "<nl>", "static", "int", "cik", "_", "cp", "_", "compute", "_", "resume", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "mqd", "-", ">", "static", "_", "thread", "_", "mgmt23", "[", "0", "]", "=", "0xffffffff", ";", "<nl>", "mqd", "-", ">", "static", "_", "thread", "_", "mgmt23", "[", "1", "]", "=", "0xffffffff", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "me", ",", "<nl>", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "pipe", ",", "<nl>", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "queue", ",", "0", ")", ";", "<nl>", "static", "int", "cik", "_", "cp", "_", "compute", "_", "resume", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "WREG32", "(", "CP", "_", "HQD", "_", "ACTIVE", ",", "mqd", "-", ">", "queue", "_", "state", ".", "cp", "_", "hqd", "_", "active", ")", ";", "<nl>", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "<nl>", "radeon", "_", "bo", "_", "kunmap", "(", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "mqd", "_", "obj", ")", ";", "<nl>", "radeon", "_", "bo", "_", "unreserve", "(", "rdev", "-", ">", "ring", "[", "idx", "]", ".", "mqd", "_", "obj", ")", ";", "<nl>", "static", "int", "cik", "_", "pcie", "_", "gart", "_", "enable", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "<nl>", "/", "*", "XXX", "SH", "_", "MEM", "regs", "*", "/", "<nl>", "/", "*", "where", "to", "put", "LDS", ",", "scratch", ",", "GPUVM", "in", "FSA64", "space", "*", "/", "<nl>", "+", "mutex", "_", "lock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "16", ";", "i", "+", "+", ")", "{", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "i", ")", ";", "<nl>", "/", "*", "CP", "and", "shaders", "*", "/", "<nl>", "static", "int", "cik", "_", "pcie", "_", "gart", "_", "enable", "(", "struct", "radeon", "_", "device", "*", "rdev", ")", "<nl>", "/", "*", "XXX", "SDMA", "RLC", "-", "todo", "*", "/", "<nl>", "}", "<nl>", "cik", "_", "srbm", "_", "select", "(", "rdev", ",", "0", ",", "0", ",", "0", ",", "0", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "rdev", "-", ">", "srbm", "_", "mutex", ")", ";", "<nl>", "<nl>", "cik", "_", "pcie", "_", "gart", "_", "tlb", "_", "flush", "(", "rdev", ")", ";", "<nl>", "DRM", "_", "INFO", "(", "\"", "PCIE", "GART", "of", "%", "uM", "enabled", "(", "table", "at", "0x", "%", "016llX", ")", ".", "\\", "n", "\"", ",", "<nl>", "struct", "radeon", "_", "device", "{", "<nl>", "/", "*", "ACPI", "interface", "*", "/", "<nl>", "struct", "radeon", "_", "atif", "atif", ";", "<nl>", "struct", "radeon", "_", "atcs", "atcs", ";", "<nl>", "+", "/", "*", "srbm", "instance", "registers", "*", "/", "<nl>", "+", "struct", "mutex", "srbm", "_", "mutex", ";", "<nl>", "}", ";", "<nl>", "<nl>", "int", "radeon", "_", "device", "_", "init", "(", "struct", "radeon", "_", "device", "*", "rdev", ",", "<nl>"], "docstring_tokens": ["drm", "radeon", "cik", "use", "a", "mutex", "to", "properly", "lock", "srbm", "instanced", "registers"]}
{"code_tokens": ["int", "WILC", "_", "WFI", "_", "mgmt", "_", "tx", "(", "struct", "wiphy", "*", "wiphy", ",", "<nl>", "mgmt", "_", "tx", "-", ">", "buff", "=", "WILC", "_", "MALLOC", "(", "buf", "_", "len", ")", ";", "<nl>", "if", "(", "mgmt", "_", "tx", "-", ">", "buff", "=", "=", "NULL", ")", "{", "<nl>", "PRINT", "_", "ER", "(", "\"", "Failed", "to", "allocate", "memory", "for", "mgmt", "_", "tx", "buff", "\\", "n", "\"", ")", ";", "<nl>", "+", "kfree", "(", "mgmt", "_", "tx", ")", ";", "<nl>", "return", "WILC", "_", "FAIL", ";", "<nl>", "}", "<nl>", "memcpy", "(", "mgmt", "_", "tx", "-", ">", "buff", ",", "buf", ",", "len", ")", ";", "mmm", "drivers", "/", "staging", "/", "wilc1000", "/", "linux", "_", "mon", ".", "c", "<nl>", "int", "WILC", "_", "WFI", "_", "mgmt", "_", "tx", "(", "struct", "wiphy", "*", "wiphy", ",", "<nl>", "mgmt", "_", "tx", "-", ">", "buff", "=", "WILC", "_", "MALLOC", "(", "buf", "_", "len", ")", ";", "<nl>", "if", "(", "mgmt", "_", "tx", "-", ">", "buff", "=", "=", "NULL", ")", "{", "<nl>", "PRINT", "_", "ER", "(", "\"", "Failed", "to", "allocate", "memory", "for", "mgmt", "_", "tx", "buff", "\\", "n", "\"", ")", ";", "<nl>", "+", "kfree", "(", "mgmt", "_", "tx", ")", ";", "<nl>", "return", "WILC", "_", "FAIL", ";", "<nl>", "}", "<nl>", "memcpy", "(", "mgmt", "_", "tx", "-", ">", "buff", ",", "buf", ",", "len", ")", ";", "<nl>", "static", "int", "mon", "_", "mgmt", "_", "tx", "(", "struct", "net", "_", "device", "*", "dev", ",", "const", "u8", "*", "buf", ",", "size", "_", "t", "len", ")", "<nl>", "mgmt", "_", "tx", "-", ">", "buff", "=", "kmalloc", "(", "len", ",", "GFP", "_", "ATOMIC", ")", ";", "<nl>", "if", "(", "mgmt", "_", "tx", "-", ">", "buff", "=", "=", "NULL", ")", "{", "<nl>", "PRINT", "_", "ER", "(", "\"", "Failed", "to", "allocate", "memory", "for", "mgmt", "_", "tx", "buff", "\\", "n", "\"", ")", ";", "<nl>", "+", "kfree", "(", "mgmt", "_", "tx", ")", ";", "<nl>", "return", "WILC", "_", "FAIL", ";", "<nl>", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "wilc1000", "fix", "potential", "memory", "leak"]}
{"code_tokens": ["static", "void", "after", "_", "state", "_", "ch", "(", "struct", "drbd", "_", "conf", "*", "mdev", ",", "union", "drbd", "_", "state", "os", ",", "<nl>", "drbd", "_", "free", "_", "bc", "(", "mdev", "-", ">", "ldev", ")", ";", "<nl>", "mdev", "-", ">", "ldev", "=", "NULL", ";", ")", ";", "<nl>", "<nl>", "-", "if", "(", "mdev", "-", ">", "md", "_", "io", "_", "tmpp", ")", "<nl>", "+", "if", "(", "mdev", "-", ">", "md", "_", "io", "_", "tmpp", ")", "{", "<nl>", "_", "_", "free", "_", "page", "(", "mdev", "-", ">", "md", "_", "io", "_", "tmpp", ")", ";", "<nl>", "+", "mdev", "-", ">", "md", "_", "io", "_", "tmpp", "=", "NULL", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Disks", "got", "bigger", "while", "they", "were", "detached", "*", "/", "<nl>"], "docstring_tokens": ["drbd", "fix", "possible", "access", "after", "free"]}
{"code_tokens": ["xfs", "_", "attr", "_", "inactive", "(", "<nl>", "*", "/", "<nl>", "xfs", "_", "trans", "_", "ijoin", "(", "trans", ",", "dp", ",", "0", ")", ";", "<nl>", "<nl>", "-", "/", "*", "invalidate", "and", "truncate", "the", "attribute", "fork", "extents", "*", "/", "<nl>", "-", "if", "(", "dp", "-", ">", "i", "_", "d", ".", "di", "_", "aformat", "!", "=", "XFS", "_", "DINODE", "_", "FMT", "_", "LOCAL", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Invalidate", "and", "truncate", "the", "attribute", "fork", "extents", ".", "Make", "sure", "the", "<nl>", "+", "*", "fork", "actually", "has", "attributes", "as", "otherwise", "the", "invalidation", "has", "no", "<nl>", "+", "*", "blocks", "to", "read", "and", "returns", "an", "error", ".", "In", "this", "case", ",", "just", "do", "the", "fork", "<nl>", "+", "*", "removal", "below", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "xfs", "_", "inode", "_", "hasattr", "(", "dp", ")", "&", "&", "<nl>", "+", "dp", "-", ">", "i", "_", "d", ".", "di", "_", "aformat", "!", "=", "XFS", "_", "DINODE", "_", "FMT", "_", "LOCAL", ")", "{", "<nl>", "error", "=", "xfs", "_", "attr3", "_", "root", "_", "inactive", "(", "&", "trans", ",", "dp", ")", ";", "<nl>", "if", "(", "error", ")", "<nl>", "goto", "out", "_", "cancel", ";", "<nl>"], "docstring_tokens": ["xfs", "don", "t", "truncate", "attribute", "extents", "if", "no", "extents", "exist"]}
{"code_tokens": ["int", "debug", "_", "log", "(", "struct", "bat", "_", "priv", "*", "bat", "_", "priv", ",", "char", "*", "fmt", ",", ".", ".", ".", ")", "<nl>", "<nl>", "va", "_", "start", "(", "args", ",", "fmt", ")", ";", "<nl>", "vscnprintf", "(", "tmp", "_", "log", "_", "buf", ",", "sizeof", "(", "tmp", "_", "log", "_", "buf", ")", ",", "fmt", ",", "args", ")", ";", "<nl>", "-", "fdebug", "_", "log", "(", "bat", "_", "priv", "-", ">", "debug", "_", "log", ",", "\"", "[", "%", "10u", "]", "%", "s", "\"", ",", "<nl>", "+", "fdebug", "_", "log", "(", "bat", "_", "priv", "-", ">", "debug", "_", "log", ",", "\"", "[", "%", "10lu", "]", "%", "s", "\"", ",", "<nl>", "(", "jiffies", "/", "HZ", ")", ",", "tmp", "_", "log", "_", "buf", ")", ";", "<nl>", "va", "_", "end", "(", "args", ")", ";", "<nl>"], "docstring_tokens": ["batman", "adv", "Print", "jiffies", "as", "unsigned", "long"]}
{"code_tokens": ["int", "walk", "_", "page", "_", "range", "(", "unsigned", "long", "start", ",", "unsigned", "long", "end", ",", "<nl>", "vma", "=", "vma", "-", ">", "vm", "_", "next", ";", "<nl>", "<nl>", "err", "=", "walk", "_", "page", "_", "test", "(", "start", ",", "next", ",", "walk", ")", ";", "<nl>", "-", "if", "(", "err", ">", "0", ")", "<nl>", "+", "if", "(", "err", ">", "0", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "positive", "return", "values", "are", "purely", "for", "<nl>", "+", "*", "controlling", "the", "pagewalk", ",", "so", "should", "never", "<nl>", "+", "*", "be", "passed", "to", "the", "callers", ".", "<nl>", "+", "*", "/", "<nl>", "+", "err", "=", "0", ";", "<nl>", "continue", ";", "<nl>", "+", "}", "<nl>", "if", "(", "err", "<", "0", ")", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mm", "pagewalk", "c", "prevent", "positive", "return", "value", "of", "walk_page_test", "from", "being", "passed", "to", "callers"]}
{"code_tokens": ["int", "_", "_", "ref", "_", "debug", "_", "hotplug", "_", "cpu", "(", "int", "cpu", ",", "int", "action", ")", "<nl>", "ret", "=", "cpu", "_", "down", "(", "cpu", ")", ";", "<nl>", "if", "(", "!", "ret", ")", "{", "<nl>", "pr", "_", "info", "(", "\"", "CPU", "%", "u", "is", "now", "offline", "\\", "n", "\"", ",", "cpu", ")", ";", "<nl>", "+", "dev", "-", ">", "offline", "=", "true", ";", "<nl>", "kobject", "_", "uevent", "(", "&", "dev", "-", ">", "kobj", ",", "KOBJ", "_", "OFFLINE", ")", ";", "<nl>", "}", "else", "<nl>", "pr", "_", "debug", "(", "\"", "Can", "'", "t", "offline", "CPU", "%", "d", ".", "\\", "n", "\"", ",", "cpu", ")", ";", "<nl>", "break", ";", "<nl>", "case", "1", ":", "<nl>", "ret", "=", "cpu", "_", "up", "(", "cpu", ")", ";", "<nl>", "-", "if", "(", "!", "ret", ")", "<nl>", "+", "if", "(", "!", "ret", ")", "{", "<nl>", "+", "dev", "-", ">", "offline", "=", "false", ";", "<nl>", "kobject", "_", "uevent", "(", "&", "dev", "-", ">", "kobj", ",", "KOBJ", "_", "ONLINE", ")", ";", "<nl>", "-", "else", "<nl>", "+", "}", "else", "{", "<nl>", "pr", "_", "debug", "(", "\"", "Can", "'", "t", "online", "CPU", "%", "d", ".", "\\", "n", "\"", ",", "cpu", ")", ";", "<nl>", "+", "}", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "ret", "=", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["hotplug", "x86", "Fix", "online", "state", "in", "cpu0", "debug", "interface"]}
{"code_tokens": ["int", "intel", "_", "guc", "_", "send", "_", "mmio", "(", "struct", "intel", "_", "guc", "*", "guc", ",", "const", "u32", "*", "action", ",", "u32", "len", ",", "<nl>", "\"", "ret", "=", "%", "d", "status", "=", "0x", "%", "08X", "response", "=", "0x", "%", "08X", "\\", "n", "\"", ",", "<nl>", "action", "[", "0", "]", ",", "ret", ",", "status", ",", "<nl>", "I915", "_", "READ", "(", "SOFT", "_", "SCRATCH", "(", "15", ")", ")", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "-", "/", "*", "Use", "data", "from", "the", "GuC", "response", "as", "our", "return", "value", "*", "/", "<nl>", "-", "ret", "=", "INTEL", "_", "GUC", "_", "MSG", "_", "TO", "_", "DATA", "(", "status", ")", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "response", "_", "buf", ")", "{", "<nl>", "+", "int", "count", "=", "min", "(", "response", "_", "buf", "_", "size", ",", "guc", "-", ">", "send", "_", "regs", ".", "count", "-", "1", ")", ";", "<nl>", "+", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "count", ";", "i", "+", "+", ")", "<nl>", "+", "response", "_", "buf", "[", "i", "]", "=", "I915", "_", "READ", "(", "guc", "_", "send", "_", "reg", "(", "guc", ",", "i", "+", "1", ")", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "/", "*", "Use", "data", "from", "the", "GuC", "response", "as", "our", "return", "value", "*", "/", "<nl>", "+", "ret", "=", "INTEL", "_", "GUC", "_", "MSG", "_", "TO", "_", "DATA", "(", "status", ")", ";", "<nl>", "+", "<nl>", "+", "out", ":", "<nl>", "intel", "_", "uncore", "_", "forcewake", "_", "put", "(", "dev", "_", "priv", ",", "guc", "-", ">", "send", "_", "regs", ".", "fw", "_", "domains", ")", ";", "<nl>", "mutex", "_", "unlock", "(", "&", "guc", "-", ">", "send", "_", "mutex", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "guc", "Implement", "response", "handling", "in", "send_mmio"]}
{"code_tokens": ["static", "void", "pl011", "_", "dma", "_", "probe", "_", "initcall", "(", "struct", "device", "*", "dev", ",", "struct", "uart", "_", "amba", "_", "port", "*", "<nl>", "dmaengine", "_", "slave", "_", "config", "(", "chan", ",", "&", "rx", "_", "conf", ")", ";", "<nl>", "uap", "-", ">", "dmarx", ".", "chan", "=", "chan", ";", "<nl>", "<nl>", "-", "if", "(", "plat", "-", ">", "dma", "_", "rx", "_", "poll", "_", "enable", ")", "{", "<nl>", "+", "if", "(", "plat", "&", "&", "plat", "-", ">", "dma", "_", "rx", "_", "poll", "_", "enable", ")", "{", "<nl>", "/", "*", "Set", "poll", "rate", "if", "specified", ".", "*", "/", "<nl>", "if", "(", "plat", "-", ">", "dma", "_", "rx", "_", "poll", "_", "rate", ")", "{", "<nl>", "uap", "-", ">", "dmarx", ".", "auto", "_", "poll", "_", "rate", "=", "false", ";", "<nl>"], "docstring_tokens": ["serial", "pl011", "protect", "attribute", "read", "from", "NULL", "platform", "data", "struct"]}
{"code_tokens": ["static", "void", "peaq", "_", "wmi", "_", "poll", "(", "struct", "input", "_", "polled", "_", "dev", "*", "dev", ")", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Some", "other", "devices", "(", "Shuttle", "XS35", ")", "use", "the", "same", "WMI", "GUID", "for", "other", "purposes", "*", "/", "<nl>", "-", "static", "const", "struct", "dmi", "_", "system", "_", "id", "peaq", "_", "dmi", "_", "table", "[", "]", "=", "{", "<nl>", "+", "static", "const", "struct", "dmi", "_", "system", "_", "id", "peaq", "_", "dmi", "_", "table", "[", "]", "_", "_", "initconst", "=", "{", "<nl>", "{", "<nl>", ".", "matches", "=", "{", "<nl>", "DMI", "_", "MATCH", "(", "DMI", "_", "SYS", "_", "VENDOR", ",", "\"", "PEAQ", "\"", ")", ",", "<nl>", "static", "int", "_", "_", "init", "peaq", "_", "wmi", "_", "init", "(", "void", ")", "<nl>", "<nl>", "static", "void", "_", "_", "exit", "peaq", "_", "wmi", "_", "exit", "(", "void", ")", "<nl>", "{", "<nl>", "-", "if", "(", "!", "dmi", "_", "check", "_", "system", "(", "peaq", "_", "dmi", "_", "table", ")", ")", "<nl>", "-", "return", ";", "<nl>", "-", "<nl>", "-", "if", "(", "!", "wmi", "_", "has", "_", "guid", "(", "PEAQ", "_", "DOLBY", "_", "BUTTON", "_", "GUID", ")", ")", "<nl>", "-", "return", ";", "<nl>", "-", "<nl>", "input", "_", "unregister", "_", "polled", "_", "device", "(", "peaq", "_", "poll", "_", "dev", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["platform", "x86", "peaq", "wmi", "Remove", "unnecessary", "checks", "from", "peaq_wmi_exit"]}
{"code_tokens": ["static", "struct", "sk", "_", "buff", "*", "isdn", "_", "ppp", "_", "decompress", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "ippp", "_", "struc", "<nl>", "rsparm", ".", "maxdlen", "=", "IPPP", "_", "RESET", "_", "MAXDATABYTES", ";", "<nl>", "<nl>", "skb", "_", "out", "=", "dev", "_", "alloc", "_", "skb", "(", "is", "-", ">", "mru", "+", "PPP", "_", "HDRLEN", ")", ";", "<nl>", "+", "if", "(", "!", "skb", "_", "out", ")", "{", "<nl>", "+", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "+", "printk", "(", "KERN", "_", "ERR", "\"", "ippp", ":", "decomp", "memory", "allocation", "failure", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "len", "=", "ipc", "-", ">", "decompress", "(", "stat", ",", "skb", ",", "skb", "_", "out", ",", "&", "rsparm", ")", ";", "<nl>", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "if", "(", "len", "<", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["PATCH", "ISDN", "Avoid", "a", "potential", "NULL", "ptr", "deref", "in", "ippp"]}
{"code_tokens": ["static", "int", "tvp5150", "_", "fill", "_", "fmt", "(", "struct", "v4l2", "_", "subdev", "*", "sd", ",", "<nl>", "struct", "v4l2", "_", "mbus", "_", "framefmt", "*", "f", ";", "<nl>", "struct", "tvp5150", "*", "decoder", "=", "to", "_", "tvp5150", "(", "sd", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "format", "|", "|", "format", "-", ">", "pad", ")", "<nl>", "+", "if", "(", "!", "format", "|", "|", "(", "format", "-", ">", "pad", "!", "=", "DEMOD", "_", "PAD", "_", "VID", "_", "OUT", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "f", "=", "&", "format", "-", ">", "format", ";", "<nl>"], "docstring_tokens": ["media", "tvp5150", "allow", "get", "set_fmt", "on", "the", "video", "source", "pad"]}
{"code_tokens": ["static", "int", "wm5102", "_", "sysclk", "_", "ev", "(", "struct", "snd", "_", "soc", "_", "dapm", "_", "widget", "*", "w", ",", "<nl>", "struct", "snd", "_", "kcontrol", "*", "kcontrol", ",", "int", "event", ")", "<nl>", "{", "<nl>", "struct", "snd", "_", "soc", "_", "codec", "*", "codec", "=", "w", "-", ">", "codec", ";", "<nl>", "-", "struct", "arizona", "*", "arizona", "=", "dev", "_", "get", "_", "drvdata", "(", "codec", "-", ">", "dev", ")", ";", "<nl>", "+", "struct", "arizona", "*", "arizona", "=", "dev", "_", "get", "_", "drvdata", "(", "codec", "-", ">", "dev", "-", ">", "parent", ")", ";", "<nl>", "struct", "regmap", "*", "regmap", "=", "codec", "-", ">", "control", "_", "data", ";", "<nl>", "const", "struct", "reg", "_", "default", "*", "patch", "=", "NULL", ";", "<nl>", "int", "i", ",", "patch", "_", "size", ";", "<nl>"], "docstring_tokens": ["ASoC", "wm5102", "Correct", "lookup", "of", "arizona", "struct", "in", "SYSCLK", "event"]}
{"code_tokens": ["struct", "virtqueue", "<nl>", "/", "*", "Remember", "the", "arguments", "to", "the", "program", "so", "we", "can", "\"", "reboot", "\"", "*", "/", "<nl>", "static", "char", "*", "*", "main", "_", "args", ";", "<nl>", "<nl>", "-", "/", "*", "Since", "guest", "is", "UP", "and", "we", "don", "'", "t", "run", "at", "the", "same", "time", ",", "we", "don", "'", "t", "need", "barriers", ".", "<nl>", "-", "*", "But", "I", "include", "them", "in", "the", "code", "in", "case", "others", "copy", "it", ".", "*", "/", "<nl>", "-", "#", "define", "wmb", "(", ")", "<nl>", "+", "/", "*", "We", "have", "to", "be", "careful", "with", "barriers", ":", "our", "devices", "are", "all", "run", "in", "separate", "<nl>", "+", "*", "threads", "and", "so", "we", "need", "to", "make", "sure", "that", "changes", "visible", "to", "the", "Guest", "happen", "<nl>", "+", "*", "in", "precise", "order", ".", "*", "/", "<nl>", "+", "#", "define", "wmb", "(", ")", "_", "_", "asm", "_", "_", "_", "_", "volatile", "_", "_", "(", "\"", "\"", ":", ":", ":", "\"", "memory", "\"", ")", "<nl>", "<nl>", "/", "*", "Convert", "an", "iovec", "element", "to", "the", "given", "type", ".", "<nl>", "*", "<nl>"], "docstring_tokens": ["lguest", "get", "more", "serious", "about", "wmb", "in", "example", "Launcher", "code"]}
{"code_tokens": ["int", "sr", "_", "do", "_", "ioctl", "(", "Scsi", "_", "CD", "*", "cd", ",", "struct", "packet", "_", "command", "*", "cgc", ")", "<nl>", "struct", "scsi", "_", "device", "*", "SDev", ";", "<nl>", "struct", "scsi", "_", "sense", "_", "hdr", "sshdr", ";", "<nl>", "int", "result", ",", "err", "=", "0", ",", "retries", "=", "0", ";", "<nl>", "+", "unsigned", "char", "sense", "_", "buffer", "[", "SCSI", "_", "SENSE", "_", "BUFFERSIZE", "]", ",", "*", "senseptr", "=", "NULL", ";", "<nl>", "<nl>", "SDev", "=", "cd", "-", ">", "device", ";", "<nl>", "<nl>", "+", "if", "(", "cgc", "-", ">", "sense", ")", "<nl>", "+", "senseptr", "=", "sense", "_", "buffer", ";", "<nl>", "+", "<nl>", "retry", ":", "<nl>", "if", "(", "!", "scsi", "_", "block", "_", "when", "_", "processing", "_", "errors", "(", "SDev", ")", ")", "{", "<nl>", "err", "=", "-", "ENODEV", ";", "<nl>", "int", "sr", "_", "do", "_", "ioctl", "(", "Scsi", "_", "CD", "*", "cd", ",", "struct", "packet", "_", "command", "*", "cgc", ")", "<nl>", "}", "<nl>", "<nl>", "result", "=", "scsi", "_", "execute", "(", "SDev", ",", "cgc", "-", ">", "cmd", ",", "cgc", "-", ">", "data", "_", "direction", ",", "<nl>", "-", "cgc", "-", ">", "buffer", ",", "cgc", "-", ">", "buflen", ",", "<nl>", "-", "(", "unsigned", "char", "*", ")", "cgc", "-", ">", "sense", ",", "&", "sshdr", ",", "<nl>", "+", "cgc", "-", ">", "buffer", ",", "cgc", "-", ">", "buflen", ",", "senseptr", ",", "&", "sshdr", ",", "<nl>", "cgc", "-", ">", "timeout", ",", "IOCTL", "_", "RETRIES", ",", "0", ",", "0", ",", "NULL", ")", ";", "<nl>", "<nl>", "+", "if", "(", "cgc", "-", ">", "sense", ")", "<nl>", "+", "memcpy", "(", "cgc", "-", ">", "sense", ",", "sense", "_", "buffer", ",", "sizeof", "(", "*", "cgc", "-", ">", "sense", ")", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Minimal", "error", "checking", ".", "Ignore", "cases", "we", "know", "about", ",", "and", "report", "the", "rest", ".", "*", "/", "<nl>", "if", "(", "driver", "_", "byte", "(", "result", ")", "!", "=", "0", ")", "{", "<nl>", "switch", "(", "sshdr", ".", "sense", "_", "key", ")", "{", "<nl>"], "docstring_tokens": ["sr", "pass", "down", "correctly", "sized", "SCSI", "sense", "buffer"]}
{"code_tokens": ["static", "int", "tcf", "_", "act", "_", "police", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "const", "struct", "tc", "_", "action", "*", "a", ",", "<nl>", "police", "-", ">", "tcfp", "_", "t", "_", "c", "=", "now", ";", "<nl>", "police", "-", ">", "tcfp", "_", "toks", "=", "toks", ";", "<nl>", "police", "-", ">", "tcfp", "_", "ptoks", "=", "ptoks", ";", "<nl>", "+", "if", "(", "police", "-", ">", "tcfp", "_", "result", "=", "=", "TC", "_", "ACT", "_", "SHOT", ")", "<nl>", "+", "police", "-", ">", "tcf", "_", "qstats", ".", "drops", "+", "+", ";", "<nl>", "spin", "_", "unlock", "(", "&", "police", "-", ">", "tcf", "_", "lock", ")", ";", "<nl>", "return", "police", "-", ">", "tcfp", "_", "result", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "sched", "actions", "police", "peg", "drop", "stats", "for", "conforming", "traffic"]}
{"code_tokens": ["static", "int", "domain", "_", "context", "_", "mapping", "_", "one", "(", "struct", "dmar", "_", "domain", "*", "domain", ",", "<nl>", "if", "(", "context", "_", "copied", "(", "context", ")", ")", "{", "<nl>", "u16", "did", "_", "old", "=", "context", "_", "domain", "_", "id", "(", "context", ")", ";", "<nl>", "<nl>", "-", "if", "(", "did", "_", "old", ">", "=", "0", "&", "&", "did", "_", "old", "<", "cap", "_", "ndoms", "(", "iommu", "-", ">", "cap", ")", ")", "<nl>", "+", "if", "(", "did", "_", "old", ">", "=", "0", "&", "&", "did", "_", "old", "<", "cap", "_", "ndoms", "(", "iommu", "-", ">", "cap", ")", ")", "{", "<nl>", "iommu", "-", ">", "flush", ".", "flush", "_", "context", "(", "iommu", ",", "did", "_", "old", ",", "<nl>", "(", "(", "(", "u16", ")", "bus", ")", "<", "<", "8", ")", "|", "devfn", ",", "<nl>", "DMA", "_", "CCMD", "_", "MASK", "_", "NOBIT", ",", "<nl>", "DMA", "_", "CCMD", "_", "DEVICE", "_", "INVL", ")", ";", "<nl>", "+", "iommu", "-", ">", "flush", ".", "flush", "_", "iotlb", "(", "iommu", ",", "did", "_", "old", ",", "0", ",", "0", ",", "<nl>", "+", "DMA", "_", "TLB", "_", "DSI", "_", "FLUSH", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "pgd", "=", "domain", "-", ">", "pgd", ";", "<nl>"], "docstring_tokens": ["iommu", "vt", "d", "Flush", "the", "IOTLB", "to", "get", "rid", "of", "the", "initial", "kdump", "mappings"]}
{"code_tokens": ["int", "dccp", "_", "parse", "_", "options", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "opt", "_", "recv", "-", ">", "dccpor", "_", "timestamp", "_", "echo", "=", "ntohl", "(", "*", "(", "_", "_", "be32", "*", ")", "value", ")", ";", "<nl>", "<nl>", "dccp", "_", "pr", "_", "debug", "(", "\"", "%", "s", "rx", "opt", ":", "TIMESTAMP", "_", "ECHO", "=", "%", "u", ",", "len", "=", "%", "d", ",", "\"", "<nl>", "-", "\"", "ackno", "=", "%", "llu", ",", "\"", ",", "dccp", "_", "role", "(", "sk", ")", ",", "<nl>", "+", "\"", "ackno", "=", "%", "llu", "\"", ",", "dccp", "_", "role", "(", "sk", ")", ",", "<nl>", "opt", "_", "recv", "-", ">", "dccpor", "_", "timestamp", "_", "echo", ",", "<nl>", "len", "+", "2", ",", "<nl>", "(", "unsigned", "long", "long", ")", "<nl>", "DCCP", "_", "SKB", "_", "CB", "(", "skb", ")", "-", ">", "dccpd", "_", "ack", "_", "seq", ")", ";", "<nl>", "<nl>", "<nl>", "-", "if", "(", "len", "=", "=", "4", ")", "<nl>", "+", "if", "(", "len", "=", "=", "4", ")", "{", "<nl>", "+", "dccp", "_", "pr", "_", "debug", "_", "cat", "(", "\"", "\\", "n", "\"", ")", ";", "<nl>", "break", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "len", "=", "=", "6", ")", "<nl>", "elapsed", "_", "time", "=", "ntohs", "(", "*", "(", "_", "_", "be16", "*", ")", "(", "value", "+", "4", ")", ")", ";", "<nl>", "else", "<nl>", "elapsed", "_", "time", "=", "ntohl", "(", "*", "(", "_", "_", "be32", "*", ")", "(", "value", "+", "4", ")", ")", ";", "<nl>", "<nl>", "+", "dccp", "_", "pr", "_", "debug", "_", "cat", "(", "\"", ",", "ELAPSED", "_", "TIME", "=", "%", "d", "\\", "n", "\"", ",", "elapsed", "_", "time", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Give", "precedence", "to", "the", "biggest", "ELAPSED", "_", "TIME", "*", "/", "<nl>", "if", "(", "elapsed", "_", "time", ">", "opt", "_", "recv", "-", ">", "dccpor", "_", "elapsed", "_", "time", ")", "<nl>", "opt", "_", "recv", "-", ">", "dccpor", "_", "elapsed", "_", "time", "=", "elapsed", "_", "time", ";", "<nl>"], "docstring_tokens": ["DCCP", "Debug", "statements", "for", "Elapsed", "Time", "option"]}
{"code_tokens": ["void", "intel", "_", "lrc", "_", "irq", "_", "handler", "(", "struct", "intel", "_", "engine", "_", "cs", "*", "ring", ")", "<nl>", "<nl>", "spin", "_", "unlock", "(", "&", "ring", "-", ">", "execlist", "_", "lock", ")", ";", "<nl>", "<nl>", "-", "WARN", "(", "submit", "_", "contexts", ">", "2", ",", "\"", "More", "than", "two", "context", "complete", "events", "?", "\\", "n", "\"", ")", ";", "<nl>", "+", "if", "(", "unlikely", "(", "submit", "_", "contexts", ">", "2", ")", ")", "<nl>", "+", "DRM", "_", "ERROR", "(", "\"", "More", "than", "two", "context", "complete", "events", "?", "\\", "n", "\"", ")", ";", "<nl>", "+", "<nl>", "ring", "-", ">", "next", "_", "context", "_", "status", "_", "buffer", "=", "write", "_", "pointer", "%", "GEN8", "_", "CSB", "_", "ENTRIES", ";", "<nl>", "<nl>", "/", "*", "Update", "the", "read", "pointer", "to", "the", "old", "write", "pointer", ".", "Manual", "ringbuffer", "<nl>"], "docstring_tokens": ["drm", "i915", "Change", "WARN", "to", "ERROR", "in", "CSB", "count"]}
{"code_tokens": ["static", "int", "xfrm", "_", "del", "_", "sa", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "nlmsghdr", "*", "nlh", ",", "<nl>", "<nl>", "static", "void", "copy", "_", "to", "_", "user", "_", "state", "(", "struct", "xfrm", "_", "state", "*", "x", ",", "struct", "xfrm", "_", "usersa", "_", "info", "*", "p", ")", "<nl>", "{", "<nl>", "+", "memset", "(", "p", ",", "0", ",", "sizeof", "(", "*", "p", ")", ")", ";", "<nl>", "memcpy", "(", "&", "p", "-", ">", "id", ",", "&", "x", "-", ">", "id", ",", "sizeof", "(", "p", "-", ">", "id", ")", ")", ";", "<nl>", "memcpy", "(", "&", "p", "-", ">", "sel", ",", "&", "x", "-", ">", "sel", ",", "sizeof", "(", "p", "-", ">", "sel", ")", ")", ";", "<nl>", "memcpy", "(", "&", "p", "-", ">", "lft", ",", "&", "x", "-", ">", "lft", ",", "sizeof", "(", "p", "-", ">", "lft", ")", ")", ";", "<nl>"], "docstring_tokens": ["xfrm_user", "fix", "info", "leak", "in", "copy_to_user_state"]}
{"code_tokens": ["void", "radix", "_", "_", "mark", "_", "rodata", "_", "ro", "(", "void", ")", "<nl>", "{", "<nl>", "unsigned", "long", "start", ",", "end", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "mark", "_", "rodata", "_", "ro", "(", ")", "will", "mark", "itself", "as", "!", "writable", "at", "some", "point", ".", "<nl>", "+", "*", "Due", "to", "DD1", "workaround", "in", "radix", "_", "_", "pte", "_", "update", "(", ")", ",", "we", "'", "ll", "end", "up", "with", "<nl>", "+", "*", "an", "invalid", "pte", "and", "the", "system", "will", "crash", "quite", "severly", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "cpu", "_", "has", "_", "feature", "(", "CPU", "_", "FTR", "_", "POWER9", "_", "DD1", ")", ")", "{", "<nl>", "+", "pr", "_", "warn", "(", "\"", "Warning", ":", "Unable", "to", "mark", "rodata", "read", "only", "on", "P9", "DD1", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "start", "=", "(", "unsigned", "long", ")", "_", "stext", ";", "<nl>", "end", "=", "(", "unsigned", "long", ")", "_", "_", "init", "_", "begin", ";", "<nl>"], "docstring_tokens": ["powerpc", "mm", "radix", "Fix", "crashes", "on", "Power9", "DD1", "with", "radix", "MMU", "and", "STRICT_RWX"]}
{"code_tokens": ["void", "temac", "_", "indirect", "_", "out32", "(", "struct", "temac", "_", "local", "*", "lp", ",", "int", "reg", ",", "u32", "value", ")", "<nl>", "return", ";", "<nl>", "temac", "_", "iow", "(", "lp", ",", "XTE", "_", "LSW0", "_", "OFFSET", ",", "value", ")", ";", "<nl>", "temac", "_", "iow", "(", "lp", ",", "XTE", "_", "CTL0", "_", "OFFSET", ",", "CNTLREG", "_", "WRITE", "_", "ENABLE", "_", "MASK", "|", "reg", ")", ";", "<nl>", "+", "temac", "_", "indirect", "_", "busywait", "(", "lp", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["net", "ll_temac", "FIX", "Wait", "for", "indirect", "wait", "to", "end"]}
{"code_tokens": ["struct", "inode", "*", "ext2", "_", "new", "_", "inode", "(", "struct", "inode", "*", "dir", ",", "umode", "_", "t", "mode", ",", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "sbi", "-", ">", "s", "_", "groups", "_", "count", ";", "i", "+", "+", ")", "{", "<nl>", "gdp", "=", "ext2", "_", "get", "_", "group", "_", "desc", "(", "sb", ",", "group", ",", "&", "bh2", ")", ";", "<nl>", "+", "if", "(", "!", "gdp", ")", "{", "<nl>", "+", "if", "(", "+", "+", "group", "=", "=", "sbi", "-", ">", "s", "_", "groups", "_", "count", ")", "<nl>", "+", "group", "=", "0", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "brelse", "(", "bitmap", "_", "bh", ")", ";", "<nl>", "bitmap", "_", "bh", "=", "read", "_", "inode", "_", "bitmap", "(", "sb", ",", "group", ")", ";", "<nl>", "if", "(", "!", "bitmap", "_", "bh", ")", "{", "<nl>"], "docstring_tokens": ["ext2", "Check", "return", "value", "from", "ext2_get_group_desc"]}
{"code_tokens": ["static", "void", "uwb", "_", "drp", "_", "handle", "_", "alien", "_", "drp", "(", "struct", "uwb", "_", "rc", "*", "rc", ",", "struct", "uwb", "_", "ie", "_", "drp", "*", "drp", "_", "i", "<nl>", "<nl>", "/", "*", "alloc", "and", "initialize", "new", "uwb", "_", "cnflt", "_", "alien", "*", "/", "<nl>", "cnflt", "=", "kzalloc", "(", "sizeof", "(", "struct", "uwb", "_", "cnflt", "_", "alien", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "!", "cnflt", ")", "<nl>", "+", "if", "(", "!", "cnflt", ")", "{", "<nl>", "dev", "_", "err", "(", "dev", ",", "\"", "failed", "to", "alloc", "uwb", "_", "cnflt", "_", "alien", "struct", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "INIT", "_", "LIST", "_", "HEAD", "(", "&", "cnflt", "-", ">", "rc", "_", "node", ")", ";", "<nl>", "init", "_", "timer", "(", "&", "cnflt", "-", ">", "timer", ")", ";", "<nl>", "cnflt", "-", ">", "timer", ".", "function", "=", "uwb", "_", "cnflt", "_", "timer", ";", "<nl>"], "docstring_tokens": ["uwb", "adds", "missing", "error", "handling"]}
{"code_tokens": ["int", "kvm", "_", "set", "_", "msr", "_", "common", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "u32", "msr", ",", "u64", "data", ")", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>", "break", ";", "<nl>", "+", "case", "MSR", "_", "FAM10H", "_", "MMIO", "_", "CONF", "_", "BASE", ":", "<nl>", "+", "if", "(", "data", "!", "=", "0", ")", "{", "<nl>", "+", "pr", "_", "unimpl", "(", "vcpu", ",", "\"", "unimplemented", "MMIO", "_", "CONF", "_", "BASE", "wrmsr", ":", "\"", "<nl>", "+", "\"", "0x", "%", "llx", "\\", "n", "\"", ",", "data", ")", ";", "<nl>", "+", "return", "1", ";", "<nl>", "+", "}", "<nl>", "+", "break", ";", "<nl>", "case", "MSR", "_", "AMD64", "_", "NB", "_", "CFG", ":", "<nl>", "break", ";", "<nl>", "case", "MSR", "_", "IA32", "_", "DEBUGCTLMSR", ":", "<nl>", "int", "kvm", "_", "get", "_", "msr", "_", "common", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "u32", "msr", ",", "u64", "*", "pdata", ")", "<nl>", "case", "MSR", "_", "K7", "_", "EVNTSEL0", ":", "<nl>", "case", "MSR", "_", "K8", "_", "INT", "_", "PENDING", "_", "MSG", ":", "<nl>", "case", "MSR", "_", "AMD64", "_", "NB", "_", "CFG", ":", "<nl>", "+", "case", "MSR", "_", "FAM10H", "_", "MMIO", "_", "CONF", "_", "BASE", ":", "<nl>", "data", "=", "0", ";", "<nl>", "break", ";", "<nl>", "case", "MSR", "_", "MTRRcap", ":", "<nl>"], "docstring_tokens": ["KVM", "fix", "MMIO_CONF_BASE", "MSR", "access"]}
{"code_tokens": ["qla25xx", "_", "process", "_", "bidir", "_", "status", "_", "iocb", "(", "scsi", "_", "qla", "_", "host", "_", "t", "*", "vha", ",", "void", "*", "pkt", ",", "<nl>", "bsg", "_", "job", "-", ">", "reply", "_", "len", "=", "sizeof", "(", "struct", "fc", "_", "bsg", "_", "reply", ")", ";", "<nl>", "/", "*", "Always", "return", "DID", "_", "OK", ",", "bsg", "will", "send", "the", "vendor", "specific", "response", "<nl>", "*", "in", "this", "case", "only", "*", "/", "<nl>", "-", "sp", "-", ">", "done", "(", "sp", ",", "DID", "_", "OK", "<", "<", "6", ")", ";", "<nl>", "+", "sp", "-", ">", "done", "(", "sp", ",", "DID", "_", "OK", "<", "<", "16", ")", ";", "<nl>", "<nl>", "}", "<nl>"], "docstring_tokens": ["scsi", "qla2xxx", "correctly", "shift", "host", "byte"]}
{"code_tokens": ["static", "void", "pnpacpi", "_", "encode", "_", "ext", "_", "irq", "(", "struct", "acpi", "_", "resource", "*", "resource", ",", "<nl>", "resource", "-", ">", "data", ".", "extended", "_", "irq", ".", "triggering", "=", "triggering", ";", "<nl>", "resource", "-", ">", "data", ".", "extended", "_", "irq", ".", "polarity", "=", "polarity", ";", "<nl>", "if", "(", "triggering", "=", "=", "ACPI", "_", "EDGE", "_", "SENSITIVE", ")", "<nl>", "-", "resource", "-", ">", "data", ".", "irq", ".", "sharable", "=", "ACPI", "_", "EXCLUSIVE", ";", "<nl>", "+", "resource", "-", ">", "data", ".", "extended", "_", "irq", ".", "sharable", "=", "ACPI", "_", "EXCLUSIVE", ";", "<nl>", "else", "<nl>", "-", "resource", "-", ">", "data", ".", "irq", ".", "sharable", "=", "ACPI", "_", "SHARED", ";", "<nl>", "+", "resource", "-", ">", "data", ".", "extended", "_", "irq", ".", "sharable", "=", "ACPI", "_", "SHARED", ";", "<nl>", "resource", "-", ">", "data", ".", "extended", "_", "irq", ".", "interrupt", "_", "count", "=", "1", ";", "<nl>", "resource", "-", ">", "data", ".", "extended", "_", "irq", ".", "interrupts", "[", "0", "]", "=", "p", "-", ">", "start", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["PNPACPI", "pnpacpi_encode_ext_irq", "wrongly", "set", "irq", "instead", "of", "extended_irq"]}
{"code_tokens": ["static", "int", "xgmac", "_", "hw", "_", "init", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "DMA", "_", "BUS", "_", "MODE", "_", "FB", "|", "DMA", "_", "BUS", "_", "MODE", "_", "ATDS", "|", "DMA", "_", "BUS", "_", "MODE", "_", "AAL", ";", "<nl>", "writel", "(", "value", ",", "ioaddr", "+", "XGMAC", "_", "DMA", "_", "BUS", "_", "MODE", ")", ";", "<nl>", "<nl>", "-", "/", "*", "Enable", "interrupts", "*", "/", "<nl>", "-", "writel", "(", "DMA", "_", "INTR", "_", "DEFAULT", "_", "MASK", ",", "ioaddr", "+", "XGMAC", "_", "DMA", "_", "STATUS", ")", ";", "<nl>", "-", "writel", "(", "DMA", "_", "INTR", "_", "DEFAULT", "_", "MASK", ",", "ioaddr", "+", "XGMAC", "_", "DMA", "_", "INTR", "_", "ENA", ")", ";", "<nl>", "+", "writel", "(", "0", ",", "ioaddr", "+", "XGMAC", "_", "DMA", "_", "INTR", "_", "ENA", ")", ";", "<nl>", "<nl>", "/", "*", "Mask", "power", "mgt", "interrupt", "*", "/", "<nl>", "writel", "(", "XGMAC", "_", "INT", "_", "STAT", "_", "PMTIM", ",", "ioaddr", "+", "XGMAC", "_", "INT", "_", "STAT", ")", ";", "<nl>", "static", "int", "xgmac", "_", "open", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "napi", "_", "enable", "(", "&", "priv", "-", ">", "napi", ")", ";", "<nl>", "netif", "_", "start", "_", "queue", "(", "dev", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Enable", "interrupts", "*", "/", "<nl>", "+", "writel", "(", "DMA", "_", "INTR", "_", "DEFAULT", "_", "MASK", ",", "ioaddr", "+", "XGMAC", "_", "DMA", "_", "STATUS", ")", ";", "<nl>", "+", "writel", "(", "DMA", "_", "INTR", "_", "DEFAULT", "_", "MASK", ",", "ioaddr", "+", "XGMAC", "_", "DMA", "_", "INTR", "_", "ENA", ")", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "calxedaxgmac", "enable", "interrupts", "after", "napi_enable"]}
{"code_tokens": ["static", "int", "skl", "_", "unload", "_", "module", "(", "struct", "sst", "_", "dsp", "*", "ctx", ",", "u16", "mod", "_", "id", ")", "<nl>", "dev", "_", "err", "(", "ctx", "-", ">", "dev", ",", "\"", "Module", "bad", "usage", "cnt", "!", ":", "%", "d", "\\", "n", "\"", ",", "usage", "_", "cnt", ")", ";", "<nl>", "return", "-", "EIO", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "/", "*", "if", "module", "is", "used", "by", "others", "return", ",", "no", "need", "to", "unload", "*", "/", "<nl>", "+", "if", "(", "usage", "_", "cnt", ">", "0", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "ret", "=", "skl", "_", "ipc", "_", "unload", "_", "modules", "(", "&", "skl", "-", ">", "ipc", ",", "<nl>", "SKL", "_", "NUM", "_", "MODULES", ",", "&", "mod", "_", "id", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>"], "docstring_tokens": ["ASoC", "Intel", "Skylake", "Don", "t", "unload", "module", "when", "in", "use"]}
{"code_tokens": ["static", "int", "init", "_", "volumes", "(", "struct", "ubi", "_", "device", "*", "ubi", ",", "const", "struct", "ubi", "_", "scan", "_", "info", "*", "si", ",", "<nl>", "if", "(", "ubi", "-", ">", "autoresize", "_", "vol", "_", "id", "!", "=", "-", "1", ")", "{", "<nl>", "ubi", "_", "err", "(", "\"", "more", "then", "one", "auto", "-", "resize", "volume", "(", "%", "d", "\"", "<nl>", "\"", "and", "%", "d", ")", "\"", ",", "ubi", "-", ">", "autoresize", "_", "vol", "_", "id", ",", "i", ")", ";", "<nl>", "+", "kfree", "(", "vol", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["UBI", "mtd", "ubi", "vtbl", "c", "fix", "memory", "leak"]}
{"code_tokens": ["ahc", "_", "send", "_", "async", "(", "struct", "ahc", "_", "softc", "*", "ahc", ",", "char", "channel", ",", "<nl>", "spi", "_", "period", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "period", ";", "<nl>", "spi", "_", "width", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "width", ";", "<nl>", "spi", "_", "offset", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "offset", ";", "<nl>", "-", "spi", "_", "dt", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "ppr", "_", "options", "&", "MSG", "_", "EXT", "_", "PPR", "_", "DT", "_", "REQ", ";", "<nl>", "-", "spi", "_", "qas", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "ppr", "_", "options", "&", "MSG", "_", "EXT", "_", "PPR", "_", "QAS", "_", "REQ", ";", "<nl>", "-", "spi", "_", "iu", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "ppr", "_", "options", "&", "MSG", "_", "EXT", "_", "PPR", "_", "IU", "_", "REQ", ";", "<nl>", "+", "spi", "_", "dt", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "ppr", "_", "options", "&", "MSG", "_", "EXT", "_", "PPR", "_", "DT", "_", "REQ", "?", "1", ":", "0", ";", "<nl>", "+", "spi", "_", "qas", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "ppr", "_", "options", "&", "MSG", "_", "EXT", "_", "PPR", "_", "QAS", "_", "REQ", "?", "1", ":", "0", ";", "<nl>", "+", "spi", "_", "iu", "(", "starget", ")", "=", "tinfo", "-", ">", "curr", ".", "ppr", "_", "options", "&", "MSG", "_", "EXT", "_", "PPR", "_", "IU", "_", "REQ", "?", "1", ":", "0", ";", "<nl>", "spi", "_", "display", "_", "xfer", "_", "agreement", "(", "starget", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "static", "void", "ahc", "_", "linux", "_", "set", "_", "dt", "(", "struct", "scsi", "_", "target", "*", "starget", ",", "int", "dt", ")", "<nl>", "if", "(", "dt", ")", "{", "<nl>", "period", "=", "9", ";", "/", "*", "12", ".", "5ns", "is", "the", "only", "period", "valid", "for", "DT", "*", "/", "<nl>", "ppr", "_", "options", "|", "=", "MSG", "_", "EXT", "_", "PPR", "_", "DT", "_", "REQ", ";", "<nl>", "-", "}", "else", "if", "(", "period", "=", "=", "9", ")", "<nl>", "+", "}", "else", "if", "(", "period", "=", "=", "9", ")", "{", "<nl>", "period", "=", "10", ";", "/", "*", "if", "resetting", "DT", ",", "period", "must", "be", ">", "=", "25ns", "*", "/", "<nl>", "+", "ppr", "_", "options", "&", "=", "~", "MSG", "_", "EXT", "_", "PPR", "_", "DT", "_", "REQ", ";", "<nl>", "+", "}", "<nl>", "<nl>", "ahc", "_", "compile", "_", "devinfo", "(", "&", "devinfo", ",", "shost", "-", ">", "this", "_", "id", ",", "starget", "-", ">", "id", ",", "0", ",", "<nl>", "starget", "-", ">", "channel", "+", "'", "A", "'", ",", "ROLE", "_", "INITIATOR", ")", ";", "<nl>"], "docstring_tokens": ["SCSI", "aic7xxx", "fix", "bug", "in", "DT", "handing"]}
{"code_tokens": ["static", "noinline", "long", "btrfs", "_", "ioctl", "_", "clone", "(", "struct", "file", "*", "file", ",", "unsigned", "long", "srcfd", ",", "<nl>", "btrfs", "_", "wait", "_", "ordered", "_", "range", "(", "src", ",", "off", ",", "len", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "truncate", "page", "cache", "pages", "from", "target", "inode", "range", "*", "/", "<nl>", "+", "truncate", "_", "inode", "_", "pages", "_", "range", "(", "&", "inode", "-", ">", "i", "_", "data", ",", "off", ",", "<nl>", "+", "ALIGN", "(", "off", "+", "len", ",", "PAGE", "_", "CACHE", "_", "SIZE", ")", "-", "1", ")", ";", "<nl>", "+", "<nl>", "/", "*", "clone", "data", "*", "/", "<nl>", "key", ".", "objectid", "=", "btrfs", "_", "ino", "(", "src", ")", ";", "<nl>", "key", ".", "type", "=", "BTRFS", "_", "EXTENT", "_", "DATA", "_", "KEY", ";", "<nl>"], "docstring_tokens": ["Btrfs", "truncate", "pages", "from", "clone", "ioctl", "target", "range"]}
{"code_tokens": ["static", "ssize", "_", "t", "subbuf", "_", "splice", "_", "actor", "(", "struct", "file", "*", "in", ",", "<nl>", ".", "nr", "_", "pages", "=", "0", ",", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "PIPE", "_", "DEF", "_", "BUFFERS", ",", "<nl>", ".", "partial", "=", "partial", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "relay", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "relay", "_", "page", "_", "release", ",", "<nl>", "}", ";", "mmm", "net", "/", "core", "/", "skbuff", ".", "c", "<nl>", "static", "ssize", "_", "t", "subbuf", "_", "splice", "_", "actor", "(", "struct", "file", "*", "in", ",", "<nl>", ".", "nr", "_", "pages", "=", "0", ",", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "PIPE", "_", "DEF", "_", "BUFFERS", ",", "<nl>", ".", "partial", "=", "partial", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "relay", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "relay", "_", "page", "_", "release", ",", "<nl>", "}", ";", "<nl>", "int", "skb", "_", "splice", "_", "bits", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "sock", "*", "sk", ",", "unsigned", "int", "offset", ",", "<nl>", ".", "pages", "=", "pages", ",", "<nl>", ".", "partial", "=", "partial", ",", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "MAX", "_", "SKB", "_", "FRAGS", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "nosteal", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "sock", "_", "spd", "_", "release", ",", "<nl>", "}", ";", "mmm", "include", "/", "linux", "/", "splice", ".", "h", "<nl>", "static", "ssize", "_", "t", "subbuf", "_", "splice", "_", "actor", "(", "struct", "file", "*", "in", ",", "<nl>", ".", "nr", "_", "pages", "=", "0", ",", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "PIPE", "_", "DEF", "_", "BUFFERS", ",", "<nl>", ".", "partial", "=", "partial", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "relay", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "relay", "_", "page", "_", "release", ",", "<nl>", "}", ";", "<nl>", "int", "skb", "_", "splice", "_", "bits", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "sock", "*", "sk", ",", "unsigned", "int", "offset", ",", "<nl>", ".", "pages", "=", "pages", ",", "<nl>", ".", "partial", "=", "partial", ",", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "MAX", "_", "SKB", "_", "FRAGS", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "nosteal", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "sock", "_", "spd", "_", "release", ",", "<nl>", "}", ";", "<nl>", "struct", "splice", "_", "pipe", "_", "desc", "{", "<nl>", "struct", "partial", "_", "page", "*", "partial", ";", "/", "*", "pages", "[", "]", "may", "not", "be", "contig", "*", "/", "<nl>", "int", "nr", "_", "pages", ";", "/", "*", "number", "of", "populated", "pages", "in", "map", "*", "/", "<nl>", "unsigned", "int", "nr", "_", "pages", "_", "max", ";", "/", "*", "pages", "[", "]", "&", "partial", "[", "]", "arrays", "size", "*", "/", "<nl>", "-", "unsigned", "int", "flags", ";", "/", "*", "splice", "flags", "*", "/", "<nl>", "const", "struct", "pipe", "_", "buf", "_", "operations", "*", "ops", ";", "/", "*", "ops", "associated", "with", "output", "pipe", "*", "/", "<nl>", "void", "(", "*", "spd", "_", "release", ")", "(", "struct", "splice", "_", "pipe", "_", "desc", "*", ",", "unsigned", "int", ")", ";", "<nl>", "}", ";", "mmm", "kernel", "/", "trace", "/", "trace", ".", "c", "<nl>", "static", "ssize", "_", "t", "subbuf", "_", "splice", "_", "actor", "(", "struct", "file", "*", "in", ",", "<nl>", ".", "nr", "_", "pages", "=", "0", ",", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "PIPE", "_", "DEF", "_", "BUFFERS", ",", "<nl>", ".", "partial", "=", "partial", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "relay", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "relay", "_", "page", "_", "release", ",", "<nl>", "}", ";", "<nl>", "int", "skb", "_", "splice", "_", "bits", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "sock", "*", "sk", ",", "unsigned", "int", "offset", ",", "<nl>", ".", "pages", "=", "pages", ",", "<nl>", ".", "partial", "=", "partial", ",", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "MAX", "_", "SKB", "_", "FRAGS", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "nosteal", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "sock", "_", "spd", "_", "release", ",", "<nl>", "}", ";", "<nl>", "struct", "splice", "_", "pipe", "_", "desc", "{", "<nl>", "struct", "partial", "_", "page", "*", "partial", ";", "/", "*", "pages", "[", "]", "may", "not", "be", "contig", "*", "/", "<nl>", "int", "nr", "_", "pages", ";", "/", "*", "number", "of", "populated", "pages", "in", "map", "*", "/", "<nl>", "unsigned", "int", "nr", "_", "pages", "_", "max", ";", "/", "*", "pages", "[", "]", "&", "partial", "[", "]", "arrays", "size", "*", "/", "<nl>", "-", "unsigned", "int", "flags", ";", "/", "*", "splice", "flags", "*", "/", "<nl>", "const", "struct", "pipe", "_", "buf", "_", "operations", "*", "ops", ";", "/", "*", "ops", "associated", "with", "output", "pipe", "*", "/", "<nl>", "void", "(", "*", "spd", "_", "release", ")", "(", "struct", "splice", "_", "pipe", "_", "desc", "*", ",", "unsigned", "int", ")", ";", "<nl>", "}", ";", "<nl>", "static", "ssize", "_", "t", "tracing", "_", "splice", "_", "read", "_", "pipe", "(", "struct", "file", "*", "filp", ",", "<nl>", ".", "partial", "=", "partial", "_", "def", ",", "<nl>", ".", "nr", "_", "pages", "=", "0", ",", "/", "*", "This", "gets", "updated", "below", ".", "*", "/", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "PIPE", "_", "DEF", "_", "BUFFERS", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "tracing", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "tracing", "_", "spd", "_", "release", "_", "pipe", ",", "<nl>", "}", ";", "<nl>", "tracing", "_", "buffers", "_", "splice", "_", "read", "(", "struct", "file", "*", "file", ",", "loff", "_", "t", "*", "ppos", ",", "<nl>", ".", "pages", "=", "pages", "_", "def", ",", "<nl>", ".", "partial", "=", "partial", "_", "def", ",", "<nl>", ".", "nr", "_", "pages", "_", "max", "=", "PIPE", "_", "DEF", "_", "BUFFERS", ",", "<nl>", "-", ".", "flags", "=", "flags", ",", "<nl>", ".", "ops", "=", "&", "buffer", "_", "pipe", "_", "buf", "_", "ops", ",", "<nl>", ".", "spd", "_", "release", "=", "buffer", "_", "spd", "_", "release", ",", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["splice_pipe_desc", "kill", "flags"]}
{"code_tokens": ["static", "void", "wl1271", "_", "spi", "_", "reset", "(", "struct", "wl1271", "*", "wl", ")", "<nl>", "spi", "_", "message", "_", "add", "_", "tail", "(", "&", "t", ",", "&", "m", ")", ";", "<nl>", "<nl>", "spi", "_", "sync", "(", "wl", "_", "to", "_", "spi", "(", "wl", ")", ",", "&", "m", ")", ";", "<nl>", "+", "kfree", "(", "cmd", ")", ";", "<nl>", "<nl>", "wl1271", "_", "dump", "(", "DEBUG", "_", "SPI", ",", "\"", "spi", "reset", "-", ">", "\"", ",", "cmd", ",", "WSPI", "_", "INIT", "_", "CMD", "_", "LEN", ")", ";", "<nl>", "}", "<nl>", "static", "void", "wl1271", "_", "spi", "_", "init", "(", "struct", "wl1271", "*", "wl", ")", "<nl>", "spi", "_", "message", "_", "add", "_", "tail", "(", "&", "t", ",", "&", "m", ")", ";", "<nl>", "<nl>", "spi", "_", "sync", "(", "wl", "_", "to", "_", "spi", "(", "wl", ")", ",", "&", "m", ")", ";", "<nl>", "+", "kfree", "(", "cmd", ")", ";", "<nl>", "<nl>", "wl1271", "_", "dump", "(", "DEBUG", "_", "SPI", ",", "\"", "spi", "init", "-", ">", "\"", ",", "cmd", ",", "WSPI", "_", "INIT", "_", "CMD", "_", "LEN", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["wl1271", "Fix", "memory", "leaks", "in", "SPI", "initialization"]}
{"code_tokens": ["static", "inline", "int", "xfrm", "_", "replay", "_", "verify", "_", "len", "(", "struct", "xfrm", "_", "replay", "_", "state", "_", "esn", "*", "replay", "_", "es", "<nl>", "up", "=", "nla", "_", "data", "(", "rp", ")", ";", "<nl>", "ulen", "=", "xfrm", "_", "replay", "_", "state", "_", "esn", "_", "len", "(", "up", ")", ";", "<nl>", "<nl>", "-", "if", "(", "nla", "_", "len", "(", "rp", ")", "<", "ulen", "|", "|", "xfrm", "_", "replay", "_", "state", "_", "esn", "_", "len", "(", "replay", "_", "esn", ")", "!", "=", "ulen", ")", "<nl>", "+", "/", "*", "Check", "the", "overall", "length", "and", "the", "internal", "bitmap", "length", "to", "avoid", "<nl>", "+", "*", "potential", "overflow", ".", "*", "/", "<nl>", "+", "if", "(", "nla", "_", "len", "(", "rp", ")", "<", "ulen", "|", "|", "<nl>", "+", "xfrm", "_", "replay", "_", "state", "_", "esn", "_", "len", "(", "replay", "_", "esn", ")", "!", "=", "ulen", "|", "|", "<nl>", "+", "replay", "_", "esn", "-", ">", "bmp", "_", "len", "!", "=", "up", "-", ">", "bmp", "_", "len", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "if", "(", "up", "-", ">", "replay", "_", "window", ">", "up", "-", ">", "bmp", "_", "len", "*", "sizeof", "(", "_", "_", "u32", ")", "*", "8", ")", "<nl>"], "docstring_tokens": ["xfrm_user", "validate", "XFRM_MSG_NEWAE", "incoming", "ESN", "size", "harder"]}
{"code_tokens": ["get", "_", "matching", "_", "model", "_", "microcode", "(", "int", "cpu", ",", "unsigned", "long", "start", ",", "<nl>", "unsigned", "int", "mc", "_", "saved", "_", "count", "=", "mc", "_", "saved", "_", "data", "-", ">", "mc", "_", "saved", "_", "count", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "while", "(", "leftover", ")", "{", "<nl>", "+", "while", "(", "leftover", "&", "&", "mc", "_", "saved", "_", "count", "<", "ARRAY", "_", "SIZE", "(", "mc", "_", "saved", "_", "tmp", ")", ")", "{", "<nl>", "mc", "_", "header", "=", "(", "struct", "microcode", "_", "header", "_", "intel", "*", ")", "ucode", "_", "ptr", ";", "<nl>", "<nl>", "mc", "_", "size", "=", "get", "_", "totalsize", "(", "mc", "_", "header", ")", ";", "<nl>"], "docstring_tokens": ["x86", "microcode", "intel", "Guard", "against", "stack", "overflow", "in", "the", "loader"]}
{"code_tokens": ["int", "ucc", "_", "set", "_", "qe", "_", "mux", "_", "rxtx", "(", "int", "ucc", "_", "num", ",", "enum", "qe", "_", "clock", "clock", ",", "enum", "comm", "_", "dir", "mode", ")", "<nl>", "case", "QE", "_", "CLK18", ":", "source", "=", "8", ";", "break", ";", "<nl>", "case", "QE", "_", "CLK7", ":", "source", "=", "9", ";", "break", ";", "<nl>", "case", "QE", "_", "CLK8", ":", "source", "=", "10", ";", "break", ";", "<nl>", "+", "case", "QE", "_", "CLK16", ":", "source", "=", "11", ";", "break", ";", "<nl>", "default", ":", "source", "=", "-", "1", ";", "break", ";", "<nl>", "}", "<nl>", "break", ";", "<nl>", "int", "ucc", "_", "set", "_", "qe", "_", "mux", "_", "rxtx", "(", "int", "ucc", "_", "num", ",", "enum", "qe", "_", "clock", "clock", ",", "enum", "comm", "_", "dir", "mode", ")", "<nl>", "case", "QE", "_", "CLK22", ":", "source", "=", "8", ";", "break", ";", "<nl>", "case", "QE", "_", "CLK7", ":", "source", "=", "9", ";", "break", ";", "<nl>", "case", "QE", "_", "CLK8", ":", "source", "=", "10", ";", "break", ";", "<nl>", "+", "case", "QE", "_", "CLK16", ":", "source", "=", "11", ";", "break", ";", "<nl>", "default", ":", "source", "=", "-", "1", ";", "break", ";", "<nl>", "}", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["POWERPC", "Fix", "the", "UCC", "rx", "tx", "clock", "of", "QE"]}
{"code_tokens": ["bool", "fw", "_", "download", "_", "code", "(", "struct", "net", "_", "device", "*", "dev", ",", "u8", "*", "code", "_", "virtual", "_", "address", ",", "u32", "buff", "<nl>", "*", "add", "4", "to", "avoid", "packet", "appending", "overflow", ".", "<nl>", "*", "*", "/", "<nl>", "skb", "=", "dev", "_", "alloc", "_", "skb", "(", "USB", "_", "HWDESC", "_", "HEADER", "_", "LEN", "+", "frag", "_", "length", "+", "4", ")", ";", "<nl>", "+", "if", "(", "!", "skb", ")", "<nl>", "+", "return", "false", ";", "<nl>", "memcpy", "(", "(", "unsigned", "char", "*", ")", "(", "skb", "-", ">", "cb", ")", ",", "&", "dev", ",", "sizeof", "(", "dev", ")", ")", ";", "<nl>", "tcb", "_", "desc", "=", "(", "cb", "_", "desc", "*", ")", "(", "skb", "-", ">", "cb", "+", "MAX", "_", "DEV", "_", "ADDR", "_", "SIZE", ")", ";", "<nl>", "tcb", "_", "desc", "-", ">", "queue", "_", "index", "=", "TXCMD", "_", "QUEUE", ";", "<nl>"], "docstring_tokens": ["staging", "rtl8192u", "check", "dev_alloc_skb", "return", "value", "in", "fw_download_code"]}
{"code_tokens": ["static", "long", "aac", "_", "compat", "_", "do", "_", "ioctl", "(", "struct", "aac", "_", "dev", "*", "dev", ",", "unsigned", "cmd", ",", "unsigned", "long", "<nl>", "static", "int", "aac", "_", "compat", "_", "ioctl", "(", "struct", "scsi", "_", "device", "*", "sdev", ",", "int", "cmd", ",", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "{", "<nl>", "struct", "aac", "_", "dev", "*", "dev", "=", "(", "struct", "aac", "_", "dev", "*", ")", "sdev", "-", ">", "host", "-", ">", "hostdata", ";", "<nl>", "+", "if", "(", "!", "capable", "(", "CAP", "_", "SYS", "_", "RAWIO", ")", ")", "<nl>", "+", "return", "-", "EPERM", ";", "<nl>", "return", "aac", "_", "compat", "_", "do", "_", "ioctl", "(", "dev", ",", "cmd", ",", "(", "unsigned", "long", ")", "arg", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["aacraid", "missing", "capable", "check", "in", "compat", "ioctl"]}
{"code_tokens": ["int", "iwl", "_", "trans", "_", "pcie", "_", "dyn", "_", "txq", "_", "alloc", "(", "struct", "iwl", "_", "trans", "*", "trans", ",", "<nl>", "rsp", "=", "(", "void", "*", ")", "hcmd", ".", "resp", "_", "pkt", "-", ">", "data", ";", "<nl>", "qid", "=", "le16", "_", "to", "_", "cpu", "(", "rsp", "-", ">", "queue", "_", "number", ")", ";", "<nl>", "<nl>", "-", "if", "(", "qid", ">", "ARRAY", "_", "SIZE", "(", "trans", "_", "pcie", "-", ">", "txq", ")", ")", "{", "<nl>", "+", "if", "(", "qid", ">", "=", "ARRAY", "_", "SIZE", "(", "trans", "_", "pcie", "-", ">", "txq", ")", ")", "{", "<nl>", "WARN", "_", "ONCE", "(", "1", ",", "\"", "queue", "index", "%", "d", "unsupported", "\"", ",", "qid", ")", ";", "<nl>", "ret", "=", "-", "EIO", ";", "<nl>", "goto", "error", "_", "free", "_", "resp", ";", "<nl>"], "docstring_tokens": ["iwlwifi", "pcie", "fix", "TVQM", "queue", "ID", "range", "check"]}
{"code_tokens": ["static", "int", "xfrm", "_", "expand", "_", "policies", "(", "const", "struct", "flowi", "*", "fl", ",", "u16", "family", ",", "<nl>", "*", "num", "_", "xfrms", "=", "0", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "-", "if", "(", "IS", "_", "ERR", "(", "pols", "[", "0", "]", ")", ")", "<nl>", "+", "if", "(", "IS", "_", "ERR", "(", "pols", "[", "0", "]", ")", ")", "{", "<nl>", "+", "*", "num", "_", "pols", "=", "0", ";", "<nl>", "return", "PTR", "_", "ERR", "(", "pols", "[", "0", "]", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "*", "num", "_", "xfrms", "=", "pols", "[", "0", "]", "-", ">", "xfrm", "_", "nr", ";", "<nl>", "<nl>", "static", "int", "xfrm", "_", "expand", "_", "policies", "(", "const", "struct", "flowi", "*", "fl", ",", "u16", "family", ",", "<nl>", "if", "(", "pols", "[", "1", "]", ")", "{", "<nl>", "if", "(", "IS", "_", "ERR", "(", "pols", "[", "1", "]", ")", ")", "{", "<nl>", "xfrm", "_", "pols", "_", "put", "(", "pols", ",", "*", "num", "_", "pols", ")", ";", "<nl>", "+", "*", "num", "_", "pols", "=", "0", ";", "<nl>", "return", "PTR", "_", "ERR", "(", "pols", "[", "1", "]", ")", ";", "<nl>", "}", "<nl>", "(", "*", "num", "_", "pols", ")", "+", "+", ";", "<nl>"], "docstring_tokens": ["xfrm", "xfrm_policy", "fix", "a", "possible", "double", "xfrm_pols_put", "in", "xfrm_bundle_lookup"]}
{"code_tokens": ["static", "int", "nft", "_", "hash", "_", "init", "(", "const", "struct", "nft", "_", "ctx", "*", "ctx", ",", "<nl>", "if", "(", "!", "tb", "[", "NFTA", "_", "HASH", "_", "SREG", "]", "|", "|", "<nl>", "!", "tb", "[", "NFTA", "_", "HASH", "_", "DREG", "]", "|", "|", "<nl>", "!", "tb", "[", "NFTA", "_", "HASH", "_", "LEN", "]", "|", "|", "<nl>", "-", "!", "tb", "[", "NFTA", "_", "HASH", "_", "SEED", "]", "|", "|", "<nl>", "!", "tb", "[", "NFTA", "_", "HASH", "_", "MODULUS", "]", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "static", "int", "nft", "_", "hash", "_", "init", "(", "const", "struct", "nft", "_", "ctx", "*", "ctx", ",", "<nl>", "if", "(", "priv", "-", ">", "offset", "+", "priv", "-", ">", "modulus", "-", "1", "<", "priv", "-", ">", "offset", ")", "<nl>", "return", "-", "EOVERFLOW", ";", "<nl>", "<nl>", "-", "priv", "-", ">", "seed", "=", "ntohl", "(", "nla", "_", "get", "_", "be32", "(", "tb", "[", "NFTA", "_", "HASH", "_", "SEED", "]", ")", ")", ";", "<nl>", "+", "if", "(", "tb", "[", "NFTA", "_", "HASH", "_", "SEED", "]", ")", "<nl>", "+", "priv", "-", ">", "seed", "=", "ntohl", "(", "nla", "_", "get", "_", "be32", "(", "tb", "[", "NFTA", "_", "HASH", "_", "SEED", "]", ")", ")", ";", "<nl>", "+", "else", "<nl>", "+", "get", "_", "random", "_", "bytes", "(", "&", "priv", "-", ">", "seed", ",", "sizeof", "(", "priv", "-", ">", "seed", ")", ")", ";", "<nl>", "<nl>", "return", "nft", "_", "validate", "_", "register", "_", "load", "(", "priv", "-", ">", "sreg", ",", "len", ")", "&", "&", "<nl>", "nft", "_", "validate", "_", "register", "_", "store", "(", "ctx", ",", "priv", "-", ">", "dreg", ",", "NULL", ",", "<nl>"], "docstring_tokens": ["netfilter", "nft_hash", "get", "random", "bytes", "if", "seed", "is", "not", "specified"]}
{"code_tokens": ["static", "void", "cache", "_", "set", "_", "flush", "(", "struct", "closure", "*", "cl", ")", "<nl>", "struct", "btree", "*", "b", ";", "<nl>", "unsigned", "i", ";", "<nl>", "<nl>", "+", "if", "(", "!", "c", ")", "<nl>", "+", "closure", "_", "return", "(", "cl", ")", ";", "<nl>", "+", "<nl>", "bch", "_", "cache", "_", "accounting", "_", "destroy", "(", "&", "c", "-", ">", "accounting", ")", ";", "<nl>", "<nl>", "kobject", "_", "put", "(", "&", "c", "-", ">", "internal", ")", ";", "<nl>"], "docstring_tokens": ["bcache", "fix", "cache_set_flush", "NULL", "pointer", "dereference", "on", "OOM"]}
{"code_tokens": ["static", "int", "stm32", "_", "timers", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "return", "of", "_", "platform", "_", "populate", "(", "pdev", "-", ">", "dev", ".", "of", "_", "node", ",", "NULL", ",", "NULL", ",", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "int", "stm32", "_", "timers", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "+", "{", "<nl>", "+", "of", "_", "platform", "_", "depopulate", "(", "&", "pdev", "-", ">", "dev", ")", ";", "<nl>", "+", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "const", "struct", "of", "_", "device", "_", "id", "stm32", "_", "timers", "_", "of", "_", "match", "[", "]", "=", "{", "<nl>", "{", ".", "compatible", "=", "\"", "st", ",", "stm32", "-", "timers", "\"", ",", "}", ",", "<nl>", "{", "/", "*", "end", "node", "*", "/", "}", ",", "<nl>", "MODULE", "_", "DEVICE", "_", "TABLE", "(", "of", ",", "stm32", "_", "timers", "_", "of", "_", "match", ")", ";", "<nl>", "<nl>", "static", "struct", "platform", "_", "driver", "stm32", "_", "timers", "_", "driver", "=", "{", "<nl>", ".", "probe", "=", "stm32", "_", "timers", "_", "probe", ",", "<nl>", "+", ".", "remove", "=", "stm32", "_", "timers", "_", "remove", ",", "<nl>", ".", "driver", "=", "{", "<nl>", ".", "name", "=", "\"", "stm32", "-", "timers", "\"", ",", "<nl>", ".", "of", "_", "match", "_", "table", "=", "stm32", "_", "timers", "_", "of", "_", "match", ",", "<nl>"], "docstring_tokens": ["mfd", "stm32", "timers", "Fix", "driver", "removal"]}
{"code_tokens": ["void", "drm", "_", "mode", "_", "config", "_", "reset", "(", "struct", "drm", "_", "device", "*", "dev", ")", "<nl>", "if", "(", "encoder", "-", ">", "funcs", "-", ">", "reset", ")", "<nl>", "encoder", "-", ">", "funcs", "-", ">", "reset", "(", "encoder", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "dev", "-", ">", "mode", "_", "config", ".", "mutex", ")", ";", "<nl>", "drm", "_", "for", "_", "each", "_", "connector", "(", "connector", ",", "dev", ")", "{", "<nl>", "connector", "-", ">", "status", "=", "connector", "_", "status", "_", "unknown", ";", "<nl>", "<nl>", "if", "(", "connector", "-", ">", "funcs", "-", ">", "reset", ")", "<nl>", "connector", "-", ">", "funcs", "-", ">", "reset", "(", "connector", ")", ";", "<nl>", "}", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "dev", "-", ">", "mode", "_", "config", ".", "mutex", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "drm", "_", "mode", "_", "config", "_", "reset", ")", ";", "<nl>"], "docstring_tokens": ["drm", "Fixup", "locking", "WARNINGs", "in", "drm_mode_config_reset"]}
{"code_tokens": ["#", "include", "\"", "commands", ".", "h", "\"", "<nl>", "#", "include", "\"", "power", ".", "h", "\"", "<nl>", "<nl>", "-", "static", "bool", "force", "_", "cam", ";", "<nl>", "+", "static", "bool", "force", "_", "cam", "=", "true", ";", "<nl>", "module", "_", "param", "(", "force", "_", "cam", ",", "bool", ",", "0644", ")", ";", "<nl>", "MODULE", "_", "PARM", "_", "DESC", "(", "force", "_", "cam", ",", "\"", "force", "continuously", "aware", "mode", "(", "no", "power", "saving", "at", "all", ")", "\"", ")", ";", "<nl>"], "docstring_tokens": ["iwlwifi", "dvm", "disable", "power", "save", "by", "default"]}
{"code_tokens": ["static", "inline", "int", "do", "_", "rom", "_", "fast", "_", "write", "_", "words", "(", "struct", "netxen", "_", "adapter", "*", "adapter", ",", "<nl>", "while", "(", "1", ")", "{", "<nl>", "int", "data1", ";", "<nl>", "<nl>", "-", "do", "_", "rom", "_", "fast", "_", "read", "(", "adapter", ",", "addridx", ",", "&", "data1", ")", ";", "<nl>", "+", "ret", "=", "do", "_", "rom", "_", "fast", "_", "read", "(", "adapter", ",", "addridx", ",", "&", "data1", ")", ";", "<nl>", "+", "if", "(", "ret", "<", "0", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "+", "<nl>", "if", "(", "data1", "=", "=", "data", ")", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["netxen", "do_rom_fast_write", "error", "handling"]}
{"code_tokens": ["static", "int", "br", "_", "parse", "_", "ip", "_", "options", "(", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "goto", "drop", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "Zero", "out", "the", "CB", "buffer", "if", "no", "options", "present", "*", "/", "<nl>", "-", "if", "(", "iph", "-", ">", "ihl", "=", "=", "5", ")", "{", "<nl>", "-", "memset", "(", "IPCB", "(", "skb", ")", ",", "0", ",", "sizeof", "(", "struct", "inet", "_", "skb", "_", "parm", ")", ")", ";", "<nl>", "+", "memset", "(", "IPCB", "(", "skb", ")", ",", "0", ",", "sizeof", "(", "struct", "inet", "_", "skb", "_", "parm", ")", ")", ";", "<nl>", "+", "if", "(", "iph", "-", ">", "ihl", "=", "=", "5", ")", "<nl>", "return", "0", ";", "<nl>", "-", "}", "<nl>", "<nl>", "opt", "-", ">", "optlen", "=", "iph", "-", ">", "ihl", "*", "4", "-", "sizeof", "(", "struct", "iphdr", ")", ";", "<nl>", "if", "(", "ip", "_", "options", "_", "compile", "(", "dev", "_", "net", "(", "dev", ")", ",", "opt", ",", "skb", ")", ")", "<nl>"], "docstring_tokens": ["bridge", "reset", "IPCB", "in", "br_parse_ip_options"]}
{"code_tokens": ["static", "int", "spi", "_", "imx", "_", "dma", "_", "transfer", "(", "struct", "spi", "_", "imx", "_", "data", "*", "spi", "_", "imx", ",", "<nl>", "tx", "-", ">", "sgl", ",", "tx", "-", ">", "nents", ",", "DMA", "_", "MEM", "_", "TO", "_", "DEV", ",", "<nl>", "DMA", "_", "PREP", "_", "INTERRUPT", "|", "DMA", "_", "CTRL", "_", "ACK", ")", ";", "<nl>", "if", "(", "!", "desc", "_", "tx", ")", "<nl>", "-", "goto", "no", "_", "dma", ";", "<nl>", "+", "goto", "tx", "_", "nodma", ";", "<nl>", "<nl>", "desc", "_", "tx", "-", ">", "callback", "=", "spi", "_", "imx", "_", "dma", "_", "tx", "_", "callback", ";", "<nl>", "desc", "_", "tx", "-", ">", "callback", "_", "param", "=", "(", "void", "*", ")", "spi", "_", "imx", ";", "<nl>", "static", "int", "spi", "_", "imx", "_", "dma", "_", "transfer", "(", "struct", "spi", "_", "imx", "_", "data", "*", "spi", "_", "imx", ",", "<nl>", "rx", "-", ">", "sgl", ",", "rx", "-", ">", "nents", ",", "DMA", "_", "DEV", "_", "TO", "_", "MEM", ",", "<nl>", "DMA", "_", "PREP", "_", "INTERRUPT", "|", "DMA", "_", "CTRL", "_", "ACK", ")", ";", "<nl>", "if", "(", "!", "desc", "_", "rx", ")", "<nl>", "-", "goto", "no", "_", "dma", ";", "<nl>", "+", "goto", "rx", "_", "nodma", ";", "<nl>", "<nl>", "desc", "_", "rx", "-", ">", "callback", "=", "spi", "_", "imx", "_", "dma", "_", "rx", "_", "callback", ";", "<nl>", "desc", "_", "rx", "-", ">", "callback", "_", "param", "=", "(", "void", "*", ")", "spi", "_", "imx", ";", "<nl>", "static", "int", "spi", "_", "imx", "_", "dma", "_", "transfer", "(", "struct", "spi", "_", "imx", "_", "data", "*", "spi", "_", "imx", ",", "<nl>", "<nl>", "return", "ret", ";", "<nl>", "<nl>", "-", "no", "_", "dma", ":", "<nl>", "+", "rx", "_", "nodma", ":", "<nl>", "+", "dmaengine", "_", "terminate", "_", "all", "(", "master", "-", ">", "dma", "_", "tx", ")", ";", "<nl>", "+", "tx", "_", "nodma", ":", "<nl>", "pr", "_", "warn", "_", "once", "(", "\"", "%", "s", "%", "s", ":", "DMA", "not", "available", ",", "falling", "back", "to", "PIO", "\\", "n", "\"", ",", "<nl>", "dev", "_", "driver", "_", "string", "(", "&", "master", "-", ">", "dev", ")", ",", "<nl>", "dev", "_", "name", "(", "&", "master", "-", ">", "dev", ")", ")", ";", "<nl>"], "docstring_tokens": ["spi", "imx", "fix", "spi", "resource", "leak", "with", "dma", "transfer"]}
{"code_tokens": ["static", "struct", "fc", "_", "exch", "*", "fc", "_", "exch", "_", "em", "_", "alloc", "(", "struct", "fc", "_", "lport", "*", "lport", ",", "<nl>", "*", "EM", "is", "selected", "when", "a", "NULL", "match", "function", "pointer", "is", "encountered", "<nl>", "*", "or", "when", "a", "call", "to", "a", "match", "function", "returns", "true", ".", "<nl>", "*", "/", "<nl>", "-", "static", "inline", "struct", "fc", "_", "exch", "*", "fc", "_", "exch", "_", "alloc", "(", "struct", "fc", "_", "lport", "*", "lport", ",", "<nl>", "-", "struct", "fc", "_", "frame", "*", "fp", ")", "<nl>", "+", "static", "struct", "fc", "_", "exch", "*", "fc", "_", "exch", "_", "alloc", "(", "struct", "fc", "_", "lport", "*", "lport", ",", "<nl>", "+", "struct", "fc", "_", "frame", "*", "fp", ")", "<nl>", "{", "<nl>", "struct", "fc", "_", "exch", "_", "mgr", "_", "anchor", "*", "ema", ";", "<nl>", "+", "struct", "fc", "_", "exch", "*", "ep", ";", "<nl>", "<nl>", "-", "list", "_", "for", "_", "each", "_", "entry", "(", "ema", ",", "&", "lport", "-", ">", "ema", "_", "list", ",", "ema", "_", "list", ")", "<nl>", "-", "if", "(", "!", "ema", "-", ">", "match", "|", "|", "ema", "-", ">", "match", "(", "fp", ")", ")", "<nl>", "-", "return", "fc", "_", "exch", "_", "em", "_", "alloc", "(", "lport", ",", "ema", "-", ">", "mp", ")", ";", "<nl>", "+", "list", "_", "for", "_", "each", "_", "entry", "(", "ema", ",", "&", "lport", "-", ">", "ema", "_", "list", ",", "ema", "_", "list", ")", "{", "<nl>", "+", "if", "(", "!", "ema", "-", ">", "match", "|", "|", "ema", "-", ">", "match", "(", "fp", ")", ")", "{", "<nl>", "+", "ep", "=", "fc", "_", "exch", "_", "em", "_", "alloc", "(", "lport", ",", "ema", "-", ">", "mp", ")", ";", "<nl>", "+", "if", "(", "ep", ")", "<nl>", "+", "return", "ep", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["scsi", "libfc", "Revert", "SCSI", "libfc", "use", "offload", "EM", "instance", "again", "instead", "jumping", "to", "next", "EM"]}
{"code_tokens": ["static", "int", "autofs4", "_", "tree", "_", "busy", "(", "struct", "vfsmount", "*", "mnt", ",", "<nl>", "struct", "autofs", "_", "info", "*", "ino", "=", "autofs4", "_", "dentry", "_", "ino", "(", "p", ")", ";", "<nl>", "unsigned", "int", "ino", "_", "count", "=", "atomic", "_", "read", "(", "&", "ino", "-", ">", "count", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Clean", "stale", "dentries", "below", "that", "have", "not", "been", "<nl>", "+", "*", "invalidated", "after", "a", "mount", "fail", "during", "lookup", "<nl>", "+", "*", "/", "<nl>", "+", "d", "_", "invalidate", "(", "p", ")", ";", "<nl>", "+", "<nl>", "/", "*", "allow", "for", "dget", "above", "and", "top", "is", "already", "dgot", "*", "/", "<nl>", "if", "(", "p", "=", "=", "top", ")", "<nl>", "ino", "_", "count", "+", "=", "2", ";", "<nl>"], "docstring_tokens": ["PATCH", "autofs4", "need", "to", "invalidate", "children", "on", "tree", "mount", "expire"]}
{"code_tokens": ["static", "inline", "bool", "is", "_", "new", "_", "conn", "_", "expected", "(", "const", "struct", "ip", "_", "vs", "_", "conn", "*", "cp", ",", "<nl>", "switch", "(", "cp", "-", ">", "protocol", ")", "{", "<nl>", "case", "IPPROTO", "_", "TCP", ":", "<nl>", "return", "(", "cp", "-", ">", "state", "=", "=", "IP", "_", "VS", "_", "TCP", "_", "S", "_", "TIME", "_", "WAIT", ")", "|", "|", "<nl>", "+", "(", "cp", "-", ">", "state", "=", "=", "IP", "_", "VS", "_", "TCP", "_", "S", "_", "CLOSE", ")", "|", "|", "<nl>", "(", "(", "conn", "_", "reuse", "_", "mode", "&", "2", ")", "&", "&", "<nl>", "(", "cp", "-", ">", "state", "=", "=", "IP", "_", "VS", "_", "TCP", "_", "S", "_", "FIN", "_", "WAIT", ")", "&", "&", "<nl>", "(", "cp", "-", ">", "flags", "&", "IP", "_", "VS", "_", "CONN", "_", "F", "_", "NOOUTPUT", ")", ")", ";", "<nl>"], "docstring_tokens": ["ipvs", "allow", "rescheduling", "after", "RST"]}
{"code_tokens": ["static", "const", "char", "*", "temperature", "_", "sensors", "_", "sets", "[", "]", "[", "36", "]", "=", "{", "<nl>", "/", "*", "Set", "5", ":", "iMac", "*", "/", "<nl>", "{", "\"", "TC0D", "\"", ",", "\"", "TA0P", "\"", ",", "\"", "TG0P", "\"", ",", "\"", "TG0D", "\"", ",", "\"", "TG0H", "\"", ",", "\"", "TH0P", "\"", ",", "\"", "Tm0P", "\"", ",", "\"", "TO0P", "\"", ",", "<nl>", "\"", "Tp0C", "\"", ",", "NULL", "}", ",", "<nl>", "+", "/", "*", "Set", "6", ":", "Macbook3", "set", "*", "/", "<nl>", "+", "{", "\"", "TB0T", "\"", ",", "\"", "TC0D", "\"", ",", "\"", "TC0P", "\"", ",", "\"", "TM0P", "\"", ",", "\"", "TN0P", "\"", ",", "\"", "TTF0", "\"", ",", "\"", "TW0P", "\"", ",", "\"", "Th0H", "\"", ",", "<nl>", "+", "\"", "Th0S", "\"", ",", "\"", "Th1H", "\"", ",", "NULL", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "List", "of", "keys", "used", "to", "read", "/", "write", "fan", "speeds", "*", "/", "<nl>", "static", "_", "_", "initdata", "struct", "dmi", "_", "match", "_", "data", "applesmc", "_", "dmi", "_", "data", "[", "]", "=", "{", "<nl>", "{", ".", "accelerometer", "=", "0", ",", ".", "light", "=", "0", ",", ".", "temperature", "_", "set", "=", "4", "}", ",", "<nl>", "/", "*", "iMac", ":", "temperature", "set", "5", "*", "/", "<nl>", "{", ".", "accelerometer", "=", "0", ",", ".", "light", "=", "0", ",", ".", "temperature", "_", "set", "=", "5", "}", ",", "<nl>", "+", "/", "*", "MacBook3", ":", "accelerometer", "and", "temperature", "set", "6", "*", "/", "<nl>", "+", "{", ".", "accelerometer", "=", "1", ",", ".", "light", "=", "0", ",", ".", "temperature", "_", "set", "=", "6", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "Note", "that", "DMI", "_", "MATCH", "(", ".", ".", ".", ",", "\"", "MacBook", "\"", ")", "will", "match", "\"", "MacBookPro1", ",", "1", "\"", ".", "<nl>", "static", "_", "_", "initdata", "struct", "dmi", "_", "system", "_", "id", "applesmc", "_", "whitelist", "[", "]", "=", "{", "<nl>", "DMI", "_", "MATCH", "(", "DMI", "_", "BOARD", "_", "VENDOR", ",", "\"", "Apple", "\"", ")", ",", "<nl>", "DMI", "_", "MATCH", "(", "DMI", "_", "PRODUCT", "_", "NAME", ",", "\"", "MacBookPro", "\"", ")", "}", ",", "<nl>", "(", "void", "*", ")", "&", "applesmc", "_", "dmi", "_", "data", "[", "0", "]", "}", ",", "<nl>", "-", "{", "applesmc", "_", "dmi", "_", "match", ",", "\"", "Apple", "MacBook", "\"", ",", "{", "<nl>", "+", "{", "applesmc", "_", "dmi", "_", "match", ",", "\"", "Apple", "MacBook", "(", "v2", ")", "\"", ",", "{", "<nl>", "DMI", "_", "MATCH", "(", "DMI", "_", "BOARD", "_", "VENDOR", ",", "\"", "Apple", "\"", ")", ",", "<nl>", "DMI", "_", "MATCH", "(", "DMI", "_", "PRODUCT", "_", "NAME", ",", "\"", "MacBook2", "\"", ")", "}", ",", "<nl>", "(", "void", "*", ")", "&", "applesmc", "_", "dmi", "_", "data", "[", "1", "]", "}", ",", "<nl>", "+", "{", "applesmc", "_", "dmi", "_", "match", ",", "\"", "Apple", "MacBook", "(", "v3", ")", "\"", ",", "{", "<nl>", "+", "DMI", "_", "MATCH", "(", "DMI", "_", "BOARD", "_", "VENDOR", ",", "\"", "Apple", "\"", ")", ",", "<nl>", "+", "DMI", "_", "MATCH", "(", "DMI", "_", "PRODUCT", "_", "NAME", ",", "\"", "MacBook3", "\"", ")", "}", ",", "<nl>", "+", "(", "void", "*", ")", "&", "applesmc", "_", "dmi", "_", "data", "[", "6", "]", "}", ",", "<nl>", "{", "applesmc", "_", "dmi", "_", "match", ",", "\"", "Apple", "MacBook", "\"", ",", "{", "<nl>", "DMI", "_", "MATCH", "(", "DMI", "_", "BOARD", "_", "VENDOR", ",", "\"", "Apple", "\"", ")", ",", "<nl>", "DMI", "_", "MATCH", "(", "DMI", "_", "PRODUCT", "_", "NAME", ",", "\"", "MacBook", "\"", ")", "}", ",", "<nl>"], "docstring_tokens": ["applesmc", "add", "support", "for", "Macbook"]}
{"code_tokens": ["static", "int", "atmel", "_", "lcdfb", "_", "check", "_", "var", "(", "struct", "fb", "_", "var", "_", "screeninfo", "*", "var", ",", "<nl>", "var", "-", ">", "transp", ".", "offset", "=", "var", "-", ">", "transp", ".", "length", "=", "0", ";", "<nl>", "var", "-", ">", "xoffset", "=", "var", "-", ">", "yoffset", "=", "0", ";", "<nl>", "<nl>", "+", "if", "(", "info", "-", ">", "fix", ".", "smem", "_", "len", ")", "{", "<nl>", "+", "unsigned", "int", "smem", "_", "len", "=", "(", "var", "-", ">", "xres", "_", "virtual", "*", "var", "-", ">", "yres", "_", "virtual", "<nl>", "+", "*", "(", "(", "var", "-", ">", "bits", "_", "per", "_", "pixel", "+", "7", ")", "/", "8", ")", ")", ";", "<nl>", "+", "if", "(", "smem", "_", "len", ">", "info", "-", ">", "fix", ".", "smem", "_", "len", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "Saturate", "vertical", "and", "horizontal", "timings", "at", "maximum", "values", "*", "/", "<nl>", "var", "-", ">", "vsync", "_", "len", "=", "min", "_", "t", "(", "u32", ",", "var", "-", ">", "vsync", "_", "len", ",", "<nl>", "(", "ATMEL", "_", "LCDC", "_", "VPW", ">", ">", "ATMEL", "_", "LCDC", "_", "VPW", "_", "OFFSET", ")", "+", "1", ")", ";", "<nl>"], "docstring_tokens": ["atmel_lcdfb", "disallow", "setting", "larger", "resolution", "than", "the", "framebuffer", "memory", "can", "handle"]}
{"code_tokens": ["int", "ocrdma", "_", "arm", "_", "cq", "(", "struct", "ib", "_", "cq", "*", "ibcq", ",", "enum", "ib", "_", "cq", "_", "notify", "_", "flags", "cq", "_", "flags", ")", "<nl>", "if", "(", "cq", "-", ">", "first", "_", "arm", ")", "{", "<nl>", "ocrdma", "_", "ring", "_", "cq", "_", "db", "(", "dev", ",", "cq", "_", "id", ",", "arm", "_", "needed", ",", "sol", "_", "needed", ",", "0", ")", ";", "<nl>", "cq", "-", ">", "first", "_", "arm", "=", "false", ";", "<nl>", "-", "goto", "skip", "_", "defer", ";", "<nl>", "}", "<nl>", "-", "cq", "-", ">", "deferred", "_", "arm", "=", "true", ";", "<nl>", "<nl>", "-", "skip", "_", "defer", ":", "<nl>", "+", "cq", "-", ">", "deferred", "_", "arm", "=", "true", ";", "<nl>", "cq", "-", ">", "deferred", "_", "sol", "=", "sol", "_", "needed", ";", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "cq", "-", ">", "cq", "_", "lock", ",", "flags", ")", ";", "<nl>"], "docstring_tokens": ["RDMA", "ocrdma", "Do", "not", "skip", "setting", "deferred_arm"]}
{"code_tokens": ["static", "int", "_", "_", "init", "xlated", "_", "setup", "_", "gnttab", "_", "pages", "(", "void", ")", "<nl>", "rc", "=", "arch", "_", "gnttab", "_", "map", "_", "shared", "(", "pfns", ",", "nr", "_", "grant", "_", "frames", ",", "nr", "_", "grant", "_", "frames", ",", "<nl>", "&", "xen", "_", "auto", "_", "xlat", "_", "grant", "_", "frames", ".", "vaddr", ")", ";", "<nl>", "<nl>", "-", "kfree", "(", "pages", ")", ";", "<nl>", "if", "(", "rc", ")", "{", "<nl>", "pr", "_", "warn", "(", "\"", "%", "s", "Couldn", "'", "t", "map", "%", "ld", "pfns", "rc", ":", "%", "d", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "<nl>", "nr", "_", "grant", "_", "frames", ",", "rc", ")", ";", "<nl>", "free", "_", "xenballooned", "_", "pages", "(", "nr", "_", "grant", "_", "frames", ",", "pages", ")", ";", "<nl>", "+", "kfree", "(", "pages", ")", ";", "<nl>", "kfree", "(", "pfns", ")", ";", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>", "+", "kfree", "(", "pages", ")", ";", "<nl>", "<nl>", "xen", "_", "auto", "_", "xlat", "_", "grant", "_", "frames", ".", "pfn", "=", "pfns", ";", "<nl>", "xen", "_", "auto", "_", "xlat", "_", "grant", "_", "frames", ".", "count", "=", "nr", "_", "grant", "_", "frames", ";", "<nl>"], "docstring_tokens": ["xen", "pvh", "Fix", "misplaced", "kfree", "from", "xlated_setup_gnttab_pages"]}
{"code_tokens": ["netlink", "_", "kernel", "_", "create", "(", "struct", "net", "*", "net", ",", "int", "unit", ",", "unsigned", "int", "groups", ",", "<nl>", "nl", "_", "table", "[", "unit", "]", ".", "cb", "_", "mutex", "=", "cb", "_", "mutex", ";", "<nl>", "nl", "_", "table", "[", "unit", "]", ".", "module", "=", "module", ";", "<nl>", "nl", "_", "table", "[", "unit", "]", ".", "registered", "=", "1", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "kfree", "(", "listeners", ")", ";", "<nl>", "}", "<nl>", "netlink", "_", "table", "_", "ungrab", "(", ")", ";", "<nl>"], "docstring_tokens": ["NETLINK", "Don", "t", "leak", "listeners", "in", "netlink_kernel_create"]}
{"code_tokens": ["static", "int", "rfcomm", "_", "get", "_", "dev", "_", "list", "(", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "<nl>", "size", "=", "sizeof", "(", "*", "dl", ")", "+", "dev", "_", "num", "*", "sizeof", "(", "*", "di", ")", ";", "<nl>", "<nl>", "-", "dl", "=", "kmalloc", "(", "size", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "dl", "=", "kzalloc", "(", "size", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "dl", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>"], "docstring_tokens": ["Bluetooth", "RFCOMM", "Fix", "info", "leak", "in", "ioctl", "RFCOMMGETDEVLIST"]}
{"code_tokens": ["ide", "_", "startstop", "_", "t", "ide", "_", "issue", "_", "pc", "(", "ide", "_", "drive", "_", "t", "*", "drive", ",", "unsigned", "int", "timeout", ",", "<nl>", "{", "<nl>", "struct", "ide", "_", "atapi", "_", "pc", "*", "pc", "=", "drive", "-", ">", "pc", ";", "<nl>", "ide", "_", "hwif", "_", "t", "*", "hwif", "=", "drive", "-", ">", "hwif", ";", "<nl>", "+", "u32", "tf", "_", "flags", ";", "<nl>", "u16", "bcount", ";", "<nl>", "u8", "scsi", "=", "!", "!", "(", "drive", "-", ">", "dev", "_", "flags", "&", "IDE", "_", "DFLAG", "_", "SCSI", ")", ";", "<nl>", "<nl>", "ide", "_", "startstop", "_", "t", "ide", "_", "issue", "_", "pc", "(", "ide", "_", "drive", "_", "t", "*", "drive", ",", "unsigned", "int", "timeout", ",", "<nl>", "if", "(", "!", "drive", "-", ">", "dma", ")", "<nl>", "pc", "-", ">", "flags", "&", "=", "~", "PC", "_", "FLAG", "_", "DMA", "_", "OK", ";", "<nl>", "<nl>", "-", "ide", "_", "pktcmd", "_", "tf", "_", "load", "(", "drive", ",", "scsi", "?", "0", ":", "IDE", "_", "TFLAG", "_", "OUT", "_", "DEVICE", ",", "bcount", ",", "<nl>", "-", "drive", "-", ">", "dma", ")", ";", "<nl>", "+", "if", "(", "scsi", ")", "<nl>", "+", "tf", "_", "flags", "=", "0", ";", "<nl>", "+", "else", "if", "(", "drive", "-", ">", "media", "=", "=", "ide", "_", "cdrom", "|", "|", "drive", "-", ">", "media", "=", "=", "ide", "_", "optical", ")", "<nl>", "+", "tf", "_", "flags", "=", "IDE", "_", "TFLAG", "_", "OUT", "_", "NSECT", "|", "IDE", "_", "TFLAG", "_", "OUT", "_", "LBAL", ";", "<nl>", "+", "else", "<nl>", "+", "tf", "_", "flags", "=", "IDE", "_", "TFLAG", "_", "OUT", "_", "DEVICE", ";", "<nl>", "+", "<nl>", "+", "ide", "_", "pktcmd", "_", "tf", "_", "load", "(", "drive", ",", "tf", "_", "flags", ",", "bcount", ",", "drive", "-", ">", "dma", ")", ";", "<nl>", "<nl>", "/", "*", "Issue", "the", "packet", "command", "*", "/", "<nl>", "if", "(", "drive", "-", ">", "atapi", "_", "flags", "&", "IDE", "_", "AFLAG", "_", "DRQ", "_", "INTERRUPT", ")", "{", "<nl>"], "docstring_tokens": ["ide", "atapi", "assign", "taskfile", "flags", "per", "device", "type"]}
{"code_tokens": ["struct", "ttm", "_", "tt", "*", "ttm", "_", "tt", "_", "create", "(", "struct", "ttm", "_", "bo", "_", "device", "*", "bdev", ",", "unsigned", "long", "size", ",", "<nl>", "ttm", "-", ">", "dummy", "_", "read", "_", "page", "=", "dummy", "_", "read", "_", "page", ";", "<nl>", "<nl>", "ttm", "_", "tt", "_", "alloc", "_", "page", "_", "directory", "(", "ttm", ")", ";", "<nl>", "-", "if", "(", "!", "ttm", "-", ">", "pages", ")", "{", "<nl>", "+", "if", "(", "!", "ttm", "-", ">", "pages", "|", "|", "!", "ttm", "-", ">", "dma", "_", "address", ")", "{", "<nl>", "ttm", "_", "tt", "_", "destroy", "(", "ttm", ")", ";", "<nl>", "printk", "(", "KERN", "_", "ERR", "TTM", "_", "PFX", "\"", "Failed", "allocating", "page", "table", "\\", "n", "\"", ")", ";", "<nl>", "return", "NULL", ";", "<nl>"], "docstring_tokens": ["drm", "ttm", "test", "for", "dma_address", "array", "allocation", "failure"]}
{"code_tokens": ["static", "inline", "bool", "is", "_", "pci", "_", "p2pdma", "_", "page", "(", "const", "struct", "page", "*", "page", ")", "<nl>", "}", "<nl>", "#", "endif", "/", "*", "CONFIG", "_", "DEV", "_", "PAGEMAP", "_", "OPS", "*", "/", "<nl>", "<nl>", "+", "/", "*", "127", ":", "arbitrary", "random", "number", ",", "small", "enough", "to", "assemble", "well", "*", "/", "<nl>", "+", "#", "define", "page", "_", "ref", "_", "zero", "_", "or", "_", "close", "_", "to", "_", "overflow", "(", "page", ")", "\\", "<nl>", "+", "(", "(", "unsigned", "int", ")", "page", "_", "ref", "_", "count", "(", "page", ")", "+", "127u", "<", "=", "127u", ")", "<nl>", "+", "<nl>", "static", "inline", "void", "get", "_", "page", "(", "struct", "page", "*", "page", ")", "<nl>", "{", "<nl>", "page", "=", "compound", "_", "head", "(", "page", ")", ";", "<nl>", "static", "inline", "void", "get", "_", "page", "(", "struct", "page", "*", "page", ")", "<nl>", "*", "Getting", "a", "normal", "page", "or", "the", "head", "of", "a", "compound", "page", "<nl>", "*", "requires", "to", "already", "have", "an", "elevated", "page", "-", ">", "_", "refcount", ".", "<nl>", "*", "/", "<nl>", "-", "VM", "_", "BUG", "_", "ON", "_", "PAGE", "(", "page", "_", "ref", "_", "count", "(", "page", ")", "<", "=", "0", ",", "page", ")", ";", "<nl>", "+", "VM", "_", "BUG", "_", "ON", "_", "PAGE", "(", "page", "_", "ref", "_", "zero", "_", "or", "_", "close", "_", "to", "_", "overflow", "(", "page", ")", ",", "page", ")", ";", "<nl>", "page", "_", "ref", "_", "inc", "(", "page", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["mm", "make", "page", "ref", "count", "overflow", "check", "tighter", "and", "more", "explicit"]}
{"code_tokens": ["nfsd4", "_", "encode", "_", "getdeviceinfo", "(", "struct", "nfsd4", "_", "compoundres", "*", "resp", ",", "_", "_", "be32", "nfserr", ",", "<nl>", "struct", "nfsd4", "_", "getdeviceinfo", "*", "gdev", ")", "<nl>", "{", "<nl>", "struct", "xdr", "_", "stream", "*", "xdr", "=", "&", "resp", "-", ">", "xdr", ";", "<nl>", "-", "const", "struct", "nfsd4", "_", "layout", "_", "ops", "*", "ops", "=", "<nl>", "-", "nfsd4", "_", "layout", "_", "ops", "[", "gdev", "-", ">", "gd", "_", "layout", "_", "type", "]", ";", "<nl>", "+", "const", "struct", "nfsd4", "_", "layout", "_", "ops", "*", "ops", ";", "<nl>", "u32", "starting", "_", "len", "=", "xdr", "-", ">", "buf", "-", ">", "len", ",", "needed", "_", "len", ";", "<nl>", "_", "_", "be32", "*", "p", ";", "<nl>", "<nl>", "nfsd4", "_", "encode", "_", "getdeviceinfo", "(", "struct", "nfsd4", "_", "compoundres", "*", "resp", ",", "_", "_", "be32", "nfserr", ",", "<nl>", "<nl>", "/", "*", "If", "maxcount", "is", "0", "then", "just", "update", "notifications", "*", "/", "<nl>", "if", "(", "gdev", "-", ">", "gd", "_", "maxcount", "!", "=", "0", ")", "{", "<nl>", "+", "ops", "=", "nfsd4", "_", "layout", "_", "ops", "[", "gdev", "-", ">", "gd", "_", "layout", "_", "type", "]", ";", "<nl>", "nfserr", "=", "ops", "-", ">", "encode", "_", "getdeviceinfo", "(", "xdr", ",", "gdev", ")", ";", "<nl>", "if", "(", "nfserr", ")", "{", "<nl>", "/", "*", "<nl>", "nfsd4", "_", "encode", "_", "layoutget", "(", "struct", "nfsd4", "_", "compoundres", "*", "resp", ",", "_", "_", "be32", "nfserr", ",", "<nl>", "struct", "nfsd4", "_", "layoutget", "*", "lgp", ")", "<nl>", "{", "<nl>", "struct", "xdr", "_", "stream", "*", "xdr", "=", "&", "resp", "-", ">", "xdr", ";", "<nl>", "-", "const", "struct", "nfsd4", "_", "layout", "_", "ops", "*", "ops", "=", "<nl>", "-", "nfsd4", "_", "layout", "_", "ops", "[", "lgp", "-", ">", "lg", "_", "layout", "_", "type", "]", ";", "<nl>", "+", "const", "struct", "nfsd4", "_", "layout", "_", "ops", "*", "ops", ";", "<nl>", "_", "_", "be32", "*", "p", ";", "<nl>", "<nl>", "dprintk", "(", "\"", "%", "s", ":", "err", "%", "d", "\\", "n", "\"", ",", "_", "_", "func", "_", "_", ",", "nfserr", ")", ";", "<nl>", "nfsd4", "_", "encode", "_", "layoutget", "(", "struct", "nfsd4", "_", "compoundres", "*", "resp", ",", "_", "_", "be32", "nfserr", ",", "<nl>", "*", "p", "+", "+", "=", "cpu", "_", "to", "_", "be32", "(", "lgp", "-", ">", "lg", "_", "seg", ".", "iomode", ")", ";", "<nl>", "*", "p", "+", "+", "=", "cpu", "_", "to", "_", "be32", "(", "lgp", "-", ">", "lg", "_", "layout", "_", "type", ")", ";", "<nl>", "<nl>", "+", "ops", "=", "nfsd4", "_", "layout", "_", "ops", "[", "lgp", "-", ">", "lg", "_", "layout", "_", "type", "]", ";", "<nl>", "nfserr", "=", "ops", "-", ">", "encode", "_", "layoutget", "(", "xdr", ",", "lgp", ")", ";", "<nl>", "out", ":", "<nl>", "kfree", "(", "lgp", "-", ">", "lg", "_", "content", ")", ";", "<nl>"], "docstring_tokens": ["nfsd", "encoders", "mustn", "t", "use", "unitialized", "values", "in", "error", "cases"]}
{"code_tokens": ["static", "void", "conf", "_", "message", "_", "callback", "(", "const", "char", "*", "fmt", ",", "va", "_", "list", "ap", ")", "<nl>", "<nl>", "static", "void", "show", "_", "help", "(", "struct", "menu", "*", "menu", ")", "<nl>", "{", "<nl>", "-", "struct", "gstr", "help", "=", "str", "_", "new", "(", ")", ";", "<nl>", "+", "struct", "gstr", "help", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "menu", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "+", "help", "=", "str", "_", "new", "(", ")", ";", "<nl>", "menu", "_", "get", "_", "ext", "_", "help", "(", "menu", ",", "&", "help", ")", ";", "<nl>", "show", "_", "scroll", "_", "win", "(", "main", "_", "window", ",", "_", "(", "menu", "_", "get", "_", "prompt", "(", "menu", ")", ")", ",", "str", "_", "get", "(", "&", "help", ")", ")", ";", "<nl>", "str", "_", "free", "(", "&", "help", ")", ";", "<nl>"], "docstring_tokens": ["kconfig", "nconf", "prevent", "segfault", "on", "empty", "menu"]}
{"code_tokens": ["ixgb", "_", "restore", "_", "vlan", "(", "struct", "ixgb", "_", "adapter", "*", "adapter", ")", "<nl>", "<nl>", "static", "void", "ixgb", "_", "netpoll", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "{", "<nl>", "-", "struct", "ixgb", "_", "adapter", "*", "adapter", "=", "dev", "-", ">", "priv", ";", "<nl>", "+", "struct", "ixgb", "_", "adapter", "*", "adapter", "=", "netdev", "_", "priv", "(", "dev", ")", ";", "<nl>", "<nl>", "disable", "_", "irq", "(", "adapter", "-", ">", "pdev", "-", ">", "irq", ")", ";", "<nl>", "ixgb", "_", "intr", "(", "adapter", "-", ">", "pdev", "-", ">", "irq", ",", "dev", ",", "NULL", ")", ";", "<nl>"], "docstring_tokens": ["ixgb", "convert", "dev", "priv", "to", "netdev_priv", "dev"]}
{"code_tokens": ["static", "int", "do", "_", "mq", "_", "notify", "(", "mqd", "_", "t", "mqdes", ",", "const", "struct", "sigevent", "*", "notification", ")", "<nl>", "<nl>", "timeo", "=", "MAX", "_", "SCHEDULE", "_", "TIMEOUT", ";", "<nl>", "ret", "=", "netlink", "_", "attachskb", "(", "sock", ",", "nc", ",", "&", "timeo", ",", "NULL", ")", ";", "<nl>", "-", "if", "(", "ret", "=", "=", "1", ")", "<nl>", "+", "if", "(", "ret", "=", "=", "1", ")", "{", "<nl>", "+", "sock", "=", "NULL", ";", "<nl>", "goto", "retry", ";", "<nl>", "+", "}", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "sock", "=", "NULL", ";", "<nl>", "nc", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["mqueue", "fix", "a", "use", "after", "free", "in", "sys_mq_notify"]}
{"code_tokens": ["static", "int", "wm8903", "_", "probe", "(", "struct", "snd", "_", "soc", "_", "codec", "*", "codec", ")", "<nl>", "/", "*", "power", "down", "chip", "*", "/", "<nl>", "static", "int", "wm8903", "_", "remove", "(", "struct", "snd", "_", "soc", "_", "codec", "*", "codec", ")", "<nl>", "{", "<nl>", "+", "struct", "wm8903", "_", "priv", "*", "wm8903", "=", "snd", "_", "soc", "_", "codec", "_", "get", "_", "drvdata", "(", "codec", ")", ";", "<nl>", "+", "<nl>", "wm8903", "_", "free", "_", "gpio", "(", "codec", ")", ";", "<nl>", "wm8903", "_", "set", "_", "bias", "_", "level", "(", "codec", ",", "SND", "_", "SOC", "_", "BIAS", "_", "OFF", ")", ";", "<nl>", "+", "if", "(", "wm8903", "-", ">", "irq", ")", "<nl>", "+", "free", "_", "irq", "(", "wm8903", "-", ">", "irq", ",", "codec", ")", ";", "<nl>", "+", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "WM8903", "Free", "IRQ", "on", "device", "removal"]}
{"code_tokens": ["ip", "_", "set", "_", "net", "_", "exit", "(", "struct", "net", "*", "net", ")", "<nl>", "<nl>", "inst", "-", ">", "is", "_", "deleted", "=", "true", ";", "/", "*", "flag", "for", "ip", "_", "set", "_", "nfnl", "_", "put", "*", "/", "<nl>", "<nl>", "+", "nfnl", "_", "lock", "(", "NFNL", "_", "SUBSYS", "_", "IPSET", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "inst", "-", ">", "ip", "_", "set", "_", "max", ";", "i", "+", "+", ")", "{", "<nl>", "set", "=", "ip", "_", "set", "(", "inst", ",", "i", ")", ";", "<nl>", "if", "(", "set", ")", "{", "<nl>", "ip", "_", "set", "_", "net", "_", "exit", "(", "struct", "net", "*", "net", ")", "<nl>", "ip", "_", "set", "_", "destroy", "_", "set", "(", "set", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "nfnl", "_", "unlock", "(", "NFNL", "_", "SUBSYS", "_", "IPSET", ")", ";", "<nl>", "kfree", "(", "rcu", "_", "dereference", "_", "protected", "(", "inst", "-", ">", "ip", "_", "set", "_", "list", ",", "1", ")", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["netfilter", "ipset", "Missing", "nfnl_lock", "nfnl_unlock", "is", "added", "to", "ip_set_net_exit"]}
{"code_tokens": ["static", "cycle", "_", "t", "sb1250", "_", "hpt", "_", "read", "(", "void", ")", "<nl>", "}", "<nl>", "<nl>", "struct", "clocksource", "bcm1250", "_", "clocksource", "=", "{", "<nl>", "-", ".", "name", "=", "\"", "MIPS", "\"", ",", "<nl>", "+", ".", "name", "=", "\"", "bcm1250", "-", "counter", "-", "3", "\"", ",", "<nl>", ".", "rating", "=", "200", ",", "<nl>", ".", "read", "=", "sb1250", "_", "hpt", "_", "read", ",", "<nl>", ".", "mask", "=", "CLOCKSOURCE", "_", "MASK", "(", "23", ")", ",", "<nl>"], "docstring_tokens": ["MIPS", "Sibyte", "Fix", "name", "of", "clocksource"]}
{"code_tokens": ["static", "inline", "void", "wilc", "_", "wfi", "_", "cfg", "_", "parse", "_", "ch", "_", "attr", "(", "u8", "*", "buf", ",", "u32", "len", ",", "u8", "sta", "_", "ch", ")", "<nl>", "if", "(", "index", "+", "sizeof", "(", "*", "e", ")", "+", "attr", "_", "size", ">", "len", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "if", "(", "e", "-", ">", "attr", "_", "type", "=", "=", "IEEE80211", "_", "P2P", "_", "ATTR", "_", "CHANNEL", "_", "LIST", ")", "<nl>", "+", "if", "(", "e", "-", ">", "attr", "_", "type", "=", "=", "IEEE80211", "_", "P2P", "_", "ATTR", "_", "CHANNEL", "_", "LIST", "&", "&", "<nl>", "+", "attr", "_", "size", ">", "=", "(", "sizeof", "(", "struct", "wilc", "_", "attr", "_", "ch", "_", "list", ")", "-", "sizeof", "(", "*", "e", ")", ")", ")", "<nl>", "ch", "_", "list", "_", "idx", "=", "index", ";", "<nl>", "else", "if", "(", "e", "-", ">", "attr", "_", "type", "=", "=", "IEEE80211", "_", "P2P", "_", "ATTR", "_", "OPER", "_", "CHANNEL", "&", "&", "<nl>", "attr", "_", "size", "=", "=", "(", "sizeof", "(", "struct", "wilc", "_", "attr", "_", "oper", "_", "ch", ")", "-", "sizeof", "(", "*", "e", ")", ")", ")", "<nl>"], "docstring_tokens": ["wifi", "wilc1000", "validate", "length", "of", "IEEE80211_P2P_ATTR_CHANNEL_LIST", "attribute"]}
{"code_tokens": ["static", "void", "stats", "_", "read", "(", "struct", "flow", "_", "stats", "*", "stats", ",", "<nl>", "unsigned", "long", "*", "used", ",", "_", "_", "be16", "*", "tcp", "_", "flags", ")", "<nl>", "{", "<nl>", "spin", "_", "lock", "(", "&", "stats", "-", ">", "lock", ")", ";", "<nl>", "-", "if", "(", "time", "_", "after", "(", "stats", "-", ">", "used", ",", "*", "used", ")", ")", "<nl>", "+", "if", "(", "!", "*", "used", "|", "|", "time", "_", "after", "(", "stats", "-", ">", "used", ",", "*", "used", ")", ")", "<nl>", "*", "used", "=", "stats", "-", ">", "used", ";", "<nl>", "*", "tcp", "_", "flags", "|", "=", "stats", "-", ">", "tcp", "_", "flags", ";", "<nl>", "ovs", "_", "stats", "-", ">", "n", "_", "packets", "+", "=", "stats", "-", ">", "packet", "_", "count", ";", "<nl>"], "docstring_tokens": ["openvswitch", "Correctly", "report", "flow", "used", "times", "for", "first", "5", "minutes", "after", "boot"]}
{"code_tokens": ["static", "struct", "ib", "_", "qp", "*", "_", "mlx4", "_", "ib", "_", "create", "_", "qp", "_", "rss", "(", "struct", "ib", "_", "pd", "*", "pd", ",", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EFAULT", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "memchr", "_", "inv", "(", "ucmd", ".", "reserved", ",", "0", ",", "sizeof", "(", "ucmd", ".", "reserved", ")", ")", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "-", "EOPNOTSUPP", ")", ";", "<nl>", "+", "<nl>", "if", "(", "ucmd", ".", "comp", "_", "mask", "|", "|", "ucmd", ".", "reserved1", ")", "<nl>", "return", "ERR", "_", "PTR", "(", "-", "EOPNOTSUPP", ")", ";", "<nl>"], "docstring_tokens": ["IB", "mlx4", "Check", "that", "reserved", "fields", "in", "mlx4_ib_create_qp_rss", "are", "zero"]}
{"code_tokens": ["struct", "ucounts", "*", "alloc", "_", "ucounts", "(", "struct", "user", "_", "namespace", "*", "ns", ",", "kuid", "_", "t", "uid", ")", "<nl>", "kfree", "(", "new", ")", ";", "<nl>", "}", "else", "{", "<nl>", "hlist", "_", "add", "_", "head", "(", "&", "new", "-", ">", "node", ",", "hashent", ")", ";", "<nl>", "+", "get", "_", "user", "_", "ns", "(", "new", "-", ">", "ns", ")", ";", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "&", "ucounts", "_", "lock", ")", ";", "<nl>", "return", "new", ";", "<nl>", "}", "<nl>", "void", "put", "_", "ucounts", "(", "struct", "ucounts", "*", "ucounts", ")", "<nl>", "if", "(", "atomic", "_", "dec", "_", "and", "_", "lock", "_", "irqsave", "(", "&", "ucounts", "-", ">", "count", ",", "&", "ucounts", "_", "lock", ",", "flags", ")", ")", "{", "<nl>", "hlist", "_", "del", "_", "init", "(", "&", "ucounts", "-", ">", "node", ")", ";", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "ucounts", "_", "lock", ",", "flags", ")", ";", "<nl>", "+", "put", "_", "user", "_", "ns", "(", "ucounts", "-", ">", "ns", ")", ";", "<nl>", "kfree", "(", "ucounts", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["ucount", "Make", "get_ucount", "a", "safe", "get_user", "replacement"]}
{"code_tokens": ["static", "void", "*", "packet", "_", "lookup", "_", "frame", "(", "struct", "packet", "_", "sock", "*", "po", ",", "unsigned", "int", "position", ",", "<nl>", "h", ".", "raw", "=", "po", "-", ">", "pg", "_", "vec", "[", "pg", "_", "vec", "_", "pos", "]", "+", "(", "frame", "_", "offset", "*", "po", "-", ">", "frame", "_", "size", ")", ";", "<nl>", "switch", "(", "po", "-", ">", "tp", "_", "version", ")", "{", "<nl>", "case", "TPACKET", "_", "V1", ":", "<nl>", "-", "if", "(", "status", "!", "=", "h", ".", "h1", "-", ">", "tp", "_", "status", "?", "TP", "_", "STATUS", "_", "USER", ":", "<nl>", "-", "TP", "_", "STATUS", "_", "KERNEL", ")", "<nl>", "+", "if", "(", "status", "!", "=", "(", "h", ".", "h1", "-", ">", "tp", "_", "status", "?", "TP", "_", "STATUS", "_", "USER", ":", "<nl>", "+", "TP", "_", "STATUS", "_", "KERNEL", ")", ")", "<nl>", "return", "NULL", ";", "<nl>", "break", ";", "<nl>", "case", "TPACKET", "_", "V2", ":", "<nl>", "-", "if", "(", "status", "!", "=", "h", ".", "h2", "-", ">", "tp", "_", "status", "?", "TP", "_", "STATUS", "_", "USER", ":", "<nl>", "-", "TP", "_", "STATUS", "_", "KERNEL", ")", "<nl>", "+", "if", "(", "status", "!", "=", "(", "h", ".", "h2", "-", ">", "tp", "_", "status", "?", "TP", "_", "STATUS", "_", "USER", ":", "<nl>", "+", "TP", "_", "STATUS", "_", "KERNEL", ")", ")", "<nl>", "return", "NULL", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["net", "packet", "socket", "packet_lookup_frame", "fix"]}
{"code_tokens": ["int", "btrfs", "_", "check", "_", "free", "_", "space", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "u64", "num", "_", "required", ",", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "if", "(", "for", "_", "del", ")", "<nl>", "-", "thresh", "=", "(", "total", "*", "90", ")", "/", "100", ";", "<nl>", "+", "thresh", "=", "total", "*", "90", ";", "<nl>", "else", "<nl>", "-", "thresh", "=", "(", "total", "*", "85", ")", "/", "100", ";", "<nl>", "+", "thresh", "=", "total", "*", "85", ";", "<nl>", "+", "<nl>", "+", "do", "_", "div", "(", "thresh", ",", "100", ")", ";", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "root", "-", ">", "fs", "_", "info", "-", ">", "delalloc", "_", "lock", ")", ";", "<nl>", "if", "(", "used", "+", "root", "-", ">", "fs", "_", "info", "-", ">", "delalloc", "_", "bytes", "+", "num", "_", "required", ">", "thresh", ")", "<nl>", "static", "int", "btrfs", "_", "ioctl", "_", "resize", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "ret", "=", "-", "EFBIG", ";", "<nl>", "goto", "out", "_", "unlock", ";", "<nl>", "}", "<nl>", "-", "new", "_", "size", "=", "(", "new", "_", "size", "/", "root", "-", ">", "sectorsize", ")", "*", "root", "-", ">", "sectorsize", ";", "<nl>", "+", "<nl>", "+", "do", "_", "div", "(", "new", "_", "size", ",", "root", "-", ">", "sectorsize", ")", ";", "<nl>", "+", "new", "_", "size", "*", "=", "root", "-", ">", "sectorsize", ";", "<nl>", "<nl>", "printk", "(", "\"", "new", "size", "is", "%", "Lu", "\\", "n", "\"", ",", "new", "_", "size", ")", ";", "<nl>", "if", "(", "new", "_", "size", ">", "old", "_", "size", ")", "{", "mmm", "fs", "/", "btrfs", "/", "extent", "-", "tree", ".", "c", "<nl>", "int", "btrfs", "_", "check", "_", "free", "_", "space", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "u64", "num", "_", "required", ",", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "<nl>", "if", "(", "for", "_", "del", ")", "<nl>", "-", "thresh", "=", "(", "total", "*", "90", ")", "/", "100", ";", "<nl>", "+", "thresh", "=", "total", "*", "90", ";", "<nl>", "else", "<nl>", "-", "thresh", "=", "(", "total", "*", "85", ")", "/", "100", ";", "<nl>", "+", "thresh", "=", "total", "*", "85", ";", "<nl>", "+", "<nl>", "+", "do", "_", "div", "(", "thresh", ",", "100", ")", ";", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "root", "-", ">", "fs", "_", "info", "-", ">", "delalloc", "_", "lock", ")", ";", "<nl>", "if", "(", "used", "+", "root", "-", ">", "fs", "_", "info", "-", ">", "delalloc", "_", "bytes", "+", "num", "_", "required", ">", "thresh", ")", "<nl>", "static", "int", "btrfs", "_", "ioctl", "_", "resize", "(", "struct", "btrfs", "_", "root", "*", "root", ",", "void", "_", "_", "user", "*", "arg", ")", "<nl>", "ret", "=", "-", "EFBIG", ";", "<nl>", "goto", "out", "_", "unlock", ";", "<nl>", "}", "<nl>", "-", "new", "_", "size", "=", "(", "new", "_", "size", "/", "root", "-", ">", "sectorsize", ")", "*", "root", "-", ">", "sectorsize", ";", "<nl>", "+", "<nl>", "+", "do", "_", "div", "(", "new", "_", "size", ",", "root", "-", ">", "sectorsize", ")", ";", "<nl>", "+", "new", "_", "size", "*", "=", "root", "-", ">", "sectorsize", ";", "<nl>", "<nl>", "printk", "(", "\"", "new", "size", "is", "%", "Lu", "\\", "n", "\"", ",", "new", "_", "size", ")", ";", "<nl>", "if", "(", "new", "_", "size", ">", "old", "_", "size", ")", "{", "<nl>", "int", "btrfs", "_", "grow", "_", "extent", "_", "tree", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "u64", "nr", "=", "0", ";", "<nl>", "u64", "cur", "_", "byte", ";", "<nl>", "u64", "old", "_", "size", ";", "<nl>", "+", "unsigned", "long", "rem", ";", "<nl>", "struct", "btrfs", "_", "block", "_", "group", "_", "cache", "*", "cache", ";", "<nl>", "struct", "btrfs", "_", "block", "_", "group", "_", "item", "*", "item", ";", "<nl>", "struct", "btrfs", "_", "fs", "_", "info", "*", "info", "=", "root", "-", ">", "fs", "_", "info", ";", "<nl>", "int", "btrfs", "_", "grow", "_", "extent", "_", "tree", "(", "struct", "btrfs", "_", "trans", "_", "handle", "*", "trans", ",", "<nl>", "struct", "btrfs", "_", "block", "_", "group", "_", "item", ")", ";", "<nl>", "<nl>", "btrfs", "_", "set", "_", "disk", "_", "block", "_", "group", "_", "used", "(", "leaf", ",", "item", ",", "0", ")", ";", "<nl>", "-", "if", "(", "nr", "%", "3", ")", "{", "<nl>", "+", "div", "_", "long", "_", "long", "_", "rem", "(", "nr", ",", "3", ",", "&", "rem", ")", ";", "<nl>", "+", "if", "(", "rem", ")", "{", "<nl>", "btrfs", "_", "set", "_", "disk", "_", "block", "_", "group", "_", "flags", "(", "leaf", ",", "item", ",", "<nl>", "BTRFS", "_", "BLOCK", "_", "GROUP", "_", "DATA", ")", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["Btrfs", "32", "bit", "compile", "fixes", "for", "the", "resizer", "and", "enospc", "checks"]}
{"code_tokens": ["static", "int", "arc", "_", "serial", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "dev", "_", "id", "<", "0", ")", "<nl>", "dev", "_", "id", "=", "0", ";", "<nl>", "<nl>", "+", "if", "(", "dev", "_", "id", ">", "=", "ARRAY", "_", "SIZE", "(", "arc", "_", "uart", "_", "ports", ")", ")", "{", "<nl>", "+", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "serial", "%", "d", "out", "of", "range", "\\", "n", "\"", ",", "dev", "_", "id", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "uart", "=", "&", "arc", "_", "uart", "_", "ports", "[", "dev", "_", "id", "]", ";", "<nl>", "port", "=", "&", "uart", "-", ">", "port", ";", "<nl>"], "docstring_tokens": ["serial", "arc_uart", "Fix", "out", "of", "bounds", "access", "through", "DT", "alias"]}
{"code_tokens": ["static", "struct", "platform", "_", "device", "wl1271", "_", "device", "=", "{", "<nl>", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "+", "static", "DEFINE", "_", "MUTEX", "(", "wl", "_", "list", "_", "mutex", ")", ";", "<nl>", "static", "LIST", "_", "HEAD", "(", "wl", "_", "list", ")", ";", "<nl>", "<nl>", "static", "int", "wl1271", "_", "dev", "_", "notify", "(", "struct", "notifier", "_", "block", "*", "me", ",", "unsigned", "long", "what", ",", "<nl>", "static", "int", "wl1271", "_", "dev", "_", "notify", "(", "struct", "notifier", "_", "block", "*", "me", ",", "unsigned", "long", "what", ",", "<nl>", "return", "NOTIFY", "_", "DONE", ";", "<nl>", "<nl>", "wl", "_", "temp", "=", "hw", "-", ">", "priv", ";", "<nl>", "+", "mutex", "_", "lock", "(", "&", "wl", "_", "list", "_", "mutex", ")", ";", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "wl", ",", "&", "wl", "_", "list", ",", "list", ")", "{", "<nl>", "if", "(", "wl", "=", "=", "wl", "_", "temp", ")", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "wl", "_", "list", "_", "mutex", ")", ";", "<nl>", "if", "(", "wl", "!", "=", "wl", "_", "temp", ")", "<nl>", "return", "NOTIFY", "_", "DONE", ";", "<nl>", "<nl>", "static", "int", "wl1271", "_", "op", "_", "add", "_", "interface", "(", "struct", "ieee80211", "_", "hw", "*", "hw", ",", "<nl>", "out", ":", "<nl>", "mutex", "_", "unlock", "(", "&", "wl", "-", ">", "mutex", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "wl", "_", "list", "_", "mutex", ")", ";", "<nl>", "if", "(", "!", "ret", ")", "<nl>", "list", "_", "add", "(", "&", "wl", "-", ">", "list", ",", "&", "wl", "_", "list", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "wl", "_", "list", "_", "mutex", ")", ";", "<nl>", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "static", "void", "_", "_", "wl1271", "_", "op", "_", "remove", "_", "interface", "(", "struct", "wl1271", "*", "wl", ")", "<nl>", "<nl>", "wl1271", "_", "info", "(", "\"", "down", "\"", ")", ";", "<nl>", "<nl>", "+", "mutex", "_", "lock", "(", "&", "wl", "_", "list", "_", "mutex", ")", ";", "<nl>", "list", "_", "del", "(", "&", "wl", "-", ">", "list", ")", ";", "<nl>", "+", "mutex", "_", "unlock", "(", "&", "wl", "_", "list", "_", "mutex", ")", ";", "<nl>", "<nl>", "WARN", "_", "ON", "(", "wl", "-", ">", "state", "!", "=", "WL1271", "_", "STATE", "_", "ON", ")", ";", "<nl>"], "docstring_tokens": ["wl12xx", "Add", "mutex", "protection", "for", "interface", "list"]}
{"code_tokens": ["static", "struct", "irq", "_", "chip", "amd", "_", "gpio", "_", "irqchip", "=", "{", "<nl>", ".", "irq", "_", "set", "_", "type", "=", "amd", "_", "gpio", "_", "irq", "_", "set", "_", "type", ",", "<nl>", "}", ";", "<nl>", "<nl>", "-", "static", "void", "amd", "_", "gpio", "_", "irq", "_", "handler", "(", "unsigned", "int", "irq", ",", "struct", "irq", "_", "desc", "*", "desc", ")", "<nl>", "+", "static", "void", "amd", "_", "gpio", "_", "irq", "_", "handler", "(", "unsigned", "int", "_", "_", "irq", ",", "struct", "irq", "_", "desc", "*", "desc", ")", "<nl>", "{", "<nl>", "+", "unsigned", "int", "irq", "=", "irq", "_", "desc", "_", "get", "_", "irq", "(", "desc", ")", ";", "<nl>", "u32", "i", ";", "<nl>", "u32", "off", ";", "<nl>", "u32", "reg", ";", "<nl>"], "docstring_tokens": ["pinctrl", "amd", "Prepare", "amd_gpio_irq_handler", "for", "irq", "argument", "removal"]}
{"code_tokens": ["static", "int", "is", "_", "gpt", "_", "valid", "(", "struct", "parsed", "_", "partitions", "*", "state", ",", "u64", "lba", ",", "<nl>", "goto", "fail", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Check", "that", "sizeof", "_", "partition", "_", "entry", "has", "the", "correct", "value", "*", "/", "<nl>", "+", "if", "(", "le32", "_", "to", "_", "cpu", "(", "(", "*", "gpt", ")", "-", ">", "sizeof", "_", "partition", "_", "entry", ")", "!", "=", "sizeof", "(", "gpt", "_", "entry", ")", ")", "{", "<nl>", "+", "pr", "_", "debug", "(", "\"", "GUID", "Partitition", "Entry", "Size", "check", "failed", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "goto", "fail", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "!", "(", "*", "ptes", "=", "alloc", "_", "read", "_", "gpt", "_", "entries", "(", "state", ",", "*", "gpt", ")", ")", ")", "<nl>", "goto", "fail", ";", "<nl>"], "docstring_tokens": ["Validate", "size", "of", "EFI", "GUID", "partition", "entries"]}
{"code_tokens": ["static", "int", "dwc3", "_", "qcom", "_", "acpi", "_", "register", "_", "core", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "qcom", "-", ">", "dwc3", "-", ">", "dev", ".", "coherent", "_", "dma", "_", "mask", "=", "dev", "-", ">", "coherent", "_", "dma", "_", "mask", ";", "<nl>", "<nl>", "child", "_", "res", "=", "kcalloc", "(", "2", ",", "sizeof", "(", "*", "child", "_", "res", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "-", "if", "(", "!", "child", "_", "res", ")", "<nl>", "+", "if", "(", "!", "child", "_", "res", ")", "{", "<nl>", "+", "platform", "_", "device", "_", "put", "(", "qcom", "-", ">", "dwc3", ")", ";", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "+", "}", "<nl>", "<nl>", "res", "=", "platform", "_", "get", "_", "resource", "(", "pdev", ",", "IORESOURCE", "_", "MEM", ",", "0", ")", ";", "<nl>", "if", "(", "!", "res", ")", "{", "<nl>", "static", "int", "dwc3", "_", "qcom", "_", "acpi", "_", "register", "_", "core", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "failed", "to", "add", "device", "\\", "n", "\"", ")", ";", "<nl>", "device", "_", "remove", "_", "software", "_", "node", "(", "&", "qcom", "-", ">", "dwc3", "-", ">", "dev", ")", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "}", "<nl>", "+", "kfree", "(", "child", "_", "res", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "<nl>", "out", ":", "<nl>", "+", "platform", "_", "device", "_", "put", "(", "qcom", "-", ">", "dwc3", ")", ";", "<nl>", "kfree", "(", "child", "_", "res", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["usb", "dwc3", "dwc3", "qcom", "Add", "missing", "platform_device_put", "in", "dwc3_qcom_acpi_register_core"]}
{"code_tokens": ["static", "int", "misc", "_", "open", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ")", "<nl>", "old", "_", "fops", "=", "file", "-", ">", "f", "_", "op", ";", "<nl>", "file", "-", ">", "f", "_", "op", "=", "new", "_", "fops", ";", "<nl>", "if", "(", "file", "-", ">", "f", "_", "op", "-", ">", "open", ")", "{", "<nl>", "+", "file", "-", ">", "private", "_", "data", "=", "c", ";", "<nl>", "err", "=", "file", "-", ">", "f", "_", "op", "-", ">", "open", "(", "inode", ",", "file", ")", ";", "<nl>", "if", "(", "err", ")", "{", "<nl>", "fops", "_", "put", "(", "file", "-", ">", "f", "_", "op", ")", ";", "<nl>"], "docstring_tokens": ["drivers", "misc", "pass", "miscdevice", "pointer", "via", "file", "private", "data"]}
{"code_tokens": ["extern", "struct", "cred", "init", "_", "cred", ";", "<nl>", "[", "PIDTYPE", "_", "PGID", "]", "=", "INIT", "_", "PID", "_", "LINK", "(", "PIDTYPE", "_", "PGID", ")", ",", "\\", "<nl>", "[", "PIDTYPE", "_", "SID", "]", "=", "INIT", "_", "PID", "_", "LINK", "(", "PIDTYPE", "_", "SID", ")", ",", "\\", "<nl>", "}", ",", "\\", "<nl>", "+", ".", "thread", "_", "group", "=", "LIST", "_", "HEAD", "_", "INIT", "(", "tsk", ".", "thread", "_", "group", ")", ",", "\\", "<nl>", ".", "dirties", "=", "INIT", "_", "PROP", "_", "LOCAL", "_", "SINGLE", "(", "dirties", ")", ",", "\\", "<nl>", "INIT", "_", "IDS", "\\", "<nl>", "INIT", "_", "PERF", "_", "EVENTS", "(", "tsk", ")", "\\", "<nl>"], "docstring_tokens": ["INIT_TASK", "should", "initialize", "thread_group", "list"]}
{"code_tokens": ["struct", "dwc2", "_", "hregs", "_", "backup", "{", "<nl>", "*", "@", "ctrl", "_", "req", ":", "Request", "for", "EP0", "control", "packets", ".", "<nl>", "*", "@", "ep0", "_", "state", ":", "EP0", "control", "transfers", "state", "<nl>", "*", "@", "test", "_", "mode", ":", "USB", "test", "mode", "requested", "by", "the", "host", "<nl>", "+", "*", "@", "remote", "_", "wakeup", "_", "allowed", ":", "True", "if", "device", "is", "allowed", "to", "wake", "-", "up", "host", "by", "<nl>", "+", "*", "remote", "-", "wakeup", "signalling", "<nl>", "*", "@", "setup", "_", "desc", "_", "dma", ":", "EP0", "setup", "stage", "desc", "chain", "DMA", "address", "<nl>", "*", "@", "setup", "_", "desc", ":", "EP0", "setup", "stage", "desc", "chain", "pointer", "<nl>", "*", "@", "ctrl", "_", "in", "_", "desc", "_", "dma", ":", "EP0", "IN", "data", "phase", "desc", "chain", "DMA", "address", "<nl>", "struct", "dwc2", "_", "hsotg", "{", "<nl>", "struct", "usb", "_", "gadget", "gadget", ";", "<nl>", "unsigned", "int", "enabled", ":", "1", ";", "<nl>", "unsigned", "int", "connected", ":", "1", ";", "<nl>", "+", "unsigned", "int", "remote", "_", "wakeup", "_", "allowed", ":", "1", ";", "<nl>", "struct", "dwc2", "_", "hsotg", "_", "ep", "*", "eps", "_", "in", "[", "MAX", "_", "EPS", "_", "CHANNELS", "]", ";", "<nl>", "struct", "dwc2", "_", "hsotg", "_", "ep", "*", "eps", "_", "out", "[", "MAX", "_", "EPS", "_", "CHANNELS", "]", ";", "<nl>", "#", "endif", "/", "*", "CONFIG", "_", "USB", "_", "DWC2", "_", "PERIPHERAL", "|", "|", "CONFIG", "_", "USB", "_", "DWC2", "_", "DUAL", "_", "ROLE", "*", "/", "mmm", "drivers", "/", "usb", "/", "dwc2", "/", "gadget", ".", "c", "<nl>", "struct", "dwc2", "_", "hregs", "_", "backup", "{", "<nl>", "*", "@", "ctrl", "_", "req", ":", "Request", "for", "EP0", "control", "packets", ".", "<nl>", "*", "@", "ep0", "_", "state", ":", "EP0", "control", "transfers", "state", "<nl>", "*", "@", "test", "_", "mode", ":", "USB", "test", "mode", "requested", "by", "the", "host", "<nl>", "+", "*", "@", "remote", "_", "wakeup", "_", "allowed", ":", "True", "if", "device", "is", "allowed", "to", "wake", "-", "up", "host", "by", "<nl>", "+", "*", "remote", "-", "wakeup", "signalling", "<nl>", "*", "@", "setup", "_", "desc", "_", "dma", ":", "EP0", "setup", "stage", "desc", "chain", "DMA", "address", "<nl>", "*", "@", "setup", "_", "desc", ":", "EP0", "setup", "stage", "desc", "chain", "pointer", "<nl>", "*", "@", "ctrl", "_", "in", "_", "desc", "_", "dma", ":", "EP0", "IN", "data", "phase", "desc", "chain", "DMA", "address", "<nl>", "struct", "dwc2", "_", "hsotg", "{", "<nl>", "struct", "usb", "_", "gadget", "gadget", ";", "<nl>", "unsigned", "int", "enabled", ":", "1", ";", "<nl>", "unsigned", "int", "connected", ":", "1", ";", "<nl>", "+", "unsigned", "int", "remote", "_", "wakeup", "_", "allowed", ":", "1", ";", "<nl>", "struct", "dwc2", "_", "hsotg", "_", "ep", "*", "eps", "_", "in", "[", "MAX", "_", "EPS", "_", "CHANNELS", "]", ";", "<nl>", "struct", "dwc2", "_", "hsotg", "_", "ep", "*", "eps", "_", "out", "[", "MAX", "_", "EPS", "_", "CHANNELS", "]", ";", "<nl>", "#", "endif", "/", "*", "CONFIG", "_", "USB", "_", "DWC2", "_", "PERIPHERAL", "|", "|", "CONFIG", "_", "USB", "_", "DWC2", "_", "DUAL", "_", "ROLE", "*", "/", "<nl>", "static", "int", "dwc2", "_", "hsotg", "_", "process", "_", "req", "_", "feature", "(", "struct", "dwc2", "_", "hsotg", "*", "hsotg", ",", "<nl>", "switch", "(", "recip", ")", "{", "<nl>", "case", "USB", "_", "RECIP", "_", "DEVICE", ":", "<nl>", "switch", "(", "wValue", ")", "{", "<nl>", "+", "case", "USB", "_", "DEVICE", "_", "REMOTE", "_", "WAKEUP", ":", "<nl>", "+", "hsotg", "-", ">", "remote", "_", "wakeup", "_", "allowed", "=", "1", ";", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "case", "USB", "_", "DEVICE", "_", "TEST", "_", "MODE", ":", "<nl>", "if", "(", "(", "wIndex", "&", "0xff", ")", "!", "=", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "int", "dwc2", "_", "gadget", "_", "init", "(", "struct", "dwc2", "_", "hsotg", "*", "hsotg", ")", "<nl>", "hsotg", "-", ">", "gadget", ".", "max", "_", "speed", "=", "USB", "_", "SPEED", "_", "HIGH", ";", "<nl>", "hsotg", "-", ">", "gadget", ".", "ops", "=", "&", "dwc2", "_", "hsotg", "_", "gadget", "_", "ops", ";", "<nl>", "hsotg", "-", ">", "gadget", ".", "name", "=", "dev", "_", "name", "(", "dev", ")", ";", "<nl>", "+", "hsotg", "-", ">", "remote", "_", "wakeup", "_", "allowed", "=", "0", ";", "<nl>", "<nl>", "if", "(", "hsotg", "-", ">", "params", ".", "lpm", ")", "<nl>", "hsotg", "-", ">", "gadget", ".", "lpm", "_", "capable", "=", "true", ";", "<nl>"], "docstring_tokens": ["usb", "dwc2", "gadget", "Add", "remote_wakeup_allowed", "flag"]}
{"code_tokens": ["static", "int", "FNAME", "(", "walk", "_", "addr", "_", "generic", ")", "(", "struct", "guest", "_", "walker", "*", "walker", ",", "<nl>", "}", "<nl>", "<nl>", "ptep", "_", "user", "=", "(", "pt", "_", "element", "_", "t", "_", "_", "user", "*", ")", "(", "(", "void", "*", ")", "host", "_", "addr", "+", "offset", ")", ";", "<nl>", "-", "if", "(", "unlikely", "(", "copy", "_", "from", "_", "user", "(", "&", "pte", ",", "ptep", "_", "user", ",", "sizeof", "(", "pte", ")", ")", ")", ")", "{", "<nl>", "+", "if", "(", "unlikely", "(", "_", "_", "copy", "_", "from", "_", "user", "(", "&", "pte", ",", "ptep", "_", "user", ",", "sizeof", "(", "pte", ")", ")", ")", ")", "{", "<nl>", "present", "=", "false", ";", "<nl>", "break", ";", "<nl>", "}", "mmm", "virt", "/", "kvm", "/", "kvm", "_", "main", ".", "c", "<nl>", "static", "int", "FNAME", "(", "walk", "_", "addr", "_", "generic", ")", "(", "struct", "guest", "_", "walker", "*", "walker", ",", "<nl>", "}", "<nl>", "<nl>", "ptep", "_", "user", "=", "(", "pt", "_", "element", "_", "t", "_", "_", "user", "*", ")", "(", "(", "void", "*", ")", "host", "_", "addr", "+", "offset", ")", ";", "<nl>", "-", "if", "(", "unlikely", "(", "copy", "_", "from", "_", "user", "(", "&", "pte", ",", "ptep", "_", "user", ",", "sizeof", "(", "pte", ")", ")", ")", ")", "{", "<nl>", "+", "if", "(", "unlikely", "(", "_", "_", "copy", "_", "from", "_", "user", "(", "&", "pte", ",", "ptep", "_", "user", ",", "sizeof", "(", "pte", ")", ")", ")", ")", "{", "<nl>", "present", "=", "false", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "int", "_", "_", "kvm", "_", "set", "_", "memory", "_", "region", "(", "struct", "kvm", "*", "kvm", ",", "<nl>", "goto", "out", ";", "<nl>", "if", "(", "mem", "-", ">", "guest", "_", "phys", "_", "addr", "&", "(", "PAGE", "_", "SIZE", "-", "1", ")", ")", "<nl>", "goto", "out", ";", "<nl>", "-", "if", "(", "user", "_", "alloc", "&", "&", "(", "mem", "-", ">", "userspace", "_", "addr", "&", "(", "PAGE", "_", "SIZE", "-", "1", ")", ")", ")", "<nl>", "+", "/", "*", "We", "can", "read", "the", "guest", "memory", "with", "_", "_", "xxx", "_", "user", "(", ")", "later", "on", ".", "*", "/", "<nl>", "+", "if", "(", "user", "_", "alloc", "&", "&", "<nl>", "+", "(", "(", "mem", "-", ">", "userspace", "_", "addr", "&", "(", "PAGE", "_", "SIZE", "-", "1", ")", ")", "|", "|", "<nl>", "+", "!", "access", "_", "ok", "(", "VERIFY", "_", "WRITE", ",", "mem", "-", ">", "userspace", "_", "addr", ",", "mem", "-", ">", "memory", "_", "size", ")", ")", ")", "<nl>", "goto", "out", ";", "<nl>", "if", "(", "mem", "-", ">", "slot", ">", "=", "KVM", "_", "MEMORY", "_", "SLOTS", "+", "KVM", "_", "PRIVATE", "_", "MEM", "_", "SLOTS", ")", "<nl>", "goto", "out", ";", "<nl>", "int", "kvm", "_", "read", "_", "guest", "_", "page", "(", "struct", "kvm", "*", "kvm", ",", "gfn", "_", "t", "gfn", ",", "void", "*", "data", ",", "int", "offset", ",", "<nl>", "addr", "=", "gfn", "_", "to", "_", "hva", "(", "kvm", ",", "gfn", ")", ";", "<nl>", "if", "(", "kvm", "_", "is", "_", "error", "_", "hva", "(", "addr", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "-", "r", "=", "copy", "_", "from", "_", "user", "(", "data", ",", "(", "void", "_", "_", "user", "*", ")", "addr", "+", "offset", ",", "len", ")", ";", "<nl>", "+", "r", "=", "_", "_", "copy", "_", "from", "_", "user", "(", "data", ",", "(", "void", "_", "_", "user", "*", ")", "addr", "+", "offset", ",", "len", ")", ";", "<nl>", "if", "(", "r", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["KVM", "Validate", "userspace_addr", "of", "memslot", "when", "registered"]}
{"code_tokens": ["int", "regmap", "_", "raw", "_", "read", "(", "struct", "regmap", "*", "map", ",", "unsigned", "int", "reg", ",", "void", "*", "val", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "if", "(", "reg", "%", "map", "-", ">", "reg", "_", "stride", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "+", "if", "(", "val", "_", "count", "=", "=", "0", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "map", "-", ">", "lock", "(", "map", "-", ">", "lock", "_", "arg", ")", ";", "<nl>"], "docstring_tokens": ["regmap", "Silence", "warning", "on", "invalid", "zero", "length", "read"]}
{"code_tokens": ["void", "gspca", "_", "frame", "_", "add", "(", "struct", "gspca", "_", "dev", "*", "gspca", "_", "dev", ",", "<nl>", "}", "else", "{", "<nl>", "switch", "(", "gspca", "_", "dev", "-", ">", "last", "_", "packet", "_", "type", ")", "{", "<nl>", "case", "DISCARD", "_", "PACKET", ":", "<nl>", "-", "if", "(", "packet", "_", "type", "=", "=", "LAST", "_", "PACKET", ")", "<nl>", "+", "if", "(", "packet", "_", "type", "=", "=", "LAST", "_", "PACKET", ")", "{", "<nl>", "gspca", "_", "dev", "-", ">", "last", "_", "packet", "_", "type", "=", "packet", "_", "type", ";", "<nl>", "+", "gspca", "_", "dev", "-", ">", "image", "=", "NULL", ";", "<nl>", "+", "gspca", "_", "dev", "-", ">", "image", "_", "len", "=", "0", ";", "<nl>", "+", "}", "<nl>", "return", ";", "<nl>", "case", "LAST", "_", "PACKET", ":", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["media", "gspca", "reset", "image_len", "to", "0", "on", "LAST_PACKET", "when", "discarding", "frame"]}
{"code_tokens": ["static", "void", "samsung", "_", "lcd", "_", "power", "(", "int", "on", ",", "struct", "fb", "_", "var", "_", "screeninfo", "*", "si", ")", "<nl>", "gpio", "_", "set", "_", "value", "(", "GPIO75", "_", "MAGICIAN", "_", "SAMSUNG", "_", "POWER", ",", "1", ")", ";", "<nl>", "else", "<nl>", "gpio", "_", "set", "_", "value", "(", "EGPIO", "_", "MAGICIAN", "_", "LCD", "_", "POWER", ",", "1", ")", ";", "<nl>", "-", "mdelay", "(", "10", ")", ";", "<nl>", "+", "mdelay", "(", "6", ")", ";", "<nl>", "gpio", "_", "set", "_", "value", "(", "GPIO106", "_", "MAGICIAN", "_", "LCD", "_", "DCDC", "_", "NRESET", ",", "1", ")", ";", "<nl>", "-", "mdelay", "(", "10", ")", ";", "<nl>", "+", "mdelay", "(", "6", ")", ";", "/", "*", "Avdd", "-", ">", "Voff", ">", "5ms", "*", "/", "<nl>", "gpio", "_", "set", "_", "value", "(", "GPIO104", "_", "MAGICIAN", "_", "LCD", "_", "VOFF", "_", "EN", ",", "1", ")", ";", "<nl>", "-", "mdelay", "(", "30", ")", ";", "<nl>", "+", "mdelay", "(", "16", ")", ";", "/", "*", "Voff", "-", ">", "Von", ">", "(", "5", "+", "10", ")", "ms", "*", "/", "<nl>", "gpio", "_", "set", "_", "value", "(", "GPIO105", "_", "MAGICIAN", "_", "LCD", "_", "VON", "_", "EN", ",", "1", ")", ";", "<nl>", "-", "mdelay", "(", "10", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "mdelay", "(", "10", ")", ";", "<nl>", "gpio", "_", "set", "_", "value", "(", "GPIO105", "_", "MAGICIAN", "_", "LCD", "_", "VON", "_", "EN", ",", "0", ")", ";", "<nl>", "-", "mdelay", "(", "30", ")", ";", "<nl>", "+", "mdelay", "(", "16", ")", ";", "<nl>", "gpio", "_", "set", "_", "value", "(", "GPIO104", "_", "MAGICIAN", "_", "LCD", "_", "VOFF", "_", "EN", ",", "0", ")", ";", "<nl>", "-", "mdelay", "(", "10", ")", ";", "<nl>", "+", "mdelay", "(", "6", ")", ";", "<nl>", "gpio", "_", "set", "_", "value", "(", "GPIO106", "_", "MAGICIAN", "_", "LCD", "_", "DCDC", "_", "NRESET", ",", "0", ")", ";", "<nl>", "-", "mdelay", "(", "10", ")", ";", "<nl>", "+", "mdelay", "(", "6", ")", ";", "<nl>", "if", "(", "system", "_", "rev", "<", "3", ")", "<nl>", "gpio", "_", "set", "_", "value", "(", "GPIO75", "_", "MAGICIAN", "_", "SAMSUNG", "_", "POWER", ",", "0", ")", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["ARM", "pxa", "magician", "Optimize", "powerup", "delays", "for", "Samsung", "LCD"]}
{"code_tokens": ["static", "int", "sgtl5000", "_", "set", "_", "clock", "(", "struct", "snd", "_", "soc", "_", "codec", "*", "codec", ",", "int", "frame", "_", "rate", ")", "<nl>", "}", "else", "{", "<nl>", "dev", "_", "err", "(", "codec", "-", ">", "dev", ",", "<nl>", "\"", "PLL", "not", "supported", "in", "slave", "mode", "\\", "n", "\"", ")", ";", "<nl>", "+", "dev", "_", "err", "(", "codec", "-", ">", "dev", ",", "\"", "%", "d", "ratio", "is", "not", "supported", ".", "\"", "<nl>", "+", "\"", "SYS", "_", "MCLK", "needs", "to", "be", "256", ",", "384", "or", "512", "*", "fs", "\\", "n", "\"", ",", "<nl>", "+", "sgtl5000", "-", ">", "sysclk", "/", "sys", "_", "fs", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "sgtl5000", "Improve", "the", "error", "message", "on", "slave", "mode", "setting"]}
{"code_tokens": ["static", "int", "snd", "_", "soc", "_", "8", "_", "16", "_", "write", "(", "struct", "snd", "_", "soc", "_", "codec", "*", "codec", ",", "unsigned", "int", "reg", ",", "<nl>", "data", "[", "1", "]", "=", "(", "value", ">", ">", "8", ")", "&", "0xff", ";", "<nl>", "data", "[", "2", "]", "=", "value", "&", "0xff", ";", "<nl>", "<nl>", "-", "if", "(", "!", "snd", "_", "soc", "_", "codec", "_", "volatile", "_", "register", "(", "codec", ",", "reg", ")", ")", "<nl>", "-", "reg", "_", "cache", "[", "reg", "]", "=", "value", ";", "<nl>", "+", "if", "(", "!", "snd", "_", "soc", "_", "codec", "_", "volatile", "_", "register", "(", "codec", ",", "reg", ")", "<nl>", "+", "&", "&", "reg", "<", "codec", "-", ">", "driver", "-", ">", "reg", "_", "cache", "_", "size", ")", "<nl>", "+", "reg", "_", "cache", "[", "reg", "]", "=", "value", ";", "<nl>", "<nl>", "if", "(", "codec", "-", ">", "cache", "_", "only", ")", "{", "<nl>", "codec", "-", ">", "cache", "_", "sync", "=", "1", ";", "<nl>"], "docstring_tokens": ["ASoC", "Fix", "soc", "cache", "buffer", "overflow", "bug"]}
{"code_tokens": ["static", "bool", "_", "rtl", "_", "pci", "_", "find", "_", "adapter", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "pci", "_", "read", "_", "config", "_", "byte", "(", "pdev", ",", "0x8", ",", "&", "revisionid", ")", ";", "<nl>", "pci", "_", "read", "_", "config", "_", "word", "(", "pdev", ",", "0x3C", ",", "&", "irqline", ")", ";", "<nl>", "<nl>", "+", "/", "*", "PCI", "ID", "0x10ec", ":", "0x8192", "occurs", "for", "both", "RTL8192E", ",", "which", "uses", "<nl>", "+", "*", "r8192e", "_", "pci", ",", "and", "RTL8192SE", ",", "which", "uses", "this", "driver", ".", "If", "the", "<nl>", "+", "*", "revision", "ID", "is", "RTL", "_", "PCI", "_", "REVISION", "_", "ID", "_", "8192PCIE", "(", "0x01", ")", ",", "then", "<nl>", "+", "*", "the", "correct", "driver", "is", "r8192e", "_", "pci", ",", "thus", "this", "routine", "should", "<nl>", "+", "*", "return", "false", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "deviceid", "=", "=", "RTL", "_", "PCI", "_", "8192SE", "_", "DID", "&", "&", "<nl>", "+", "revisionid", "=", "=", "RTL", "_", "PCI", "_", "REVISION", "_", "ID", "_", "8192PCIE", ")", "<nl>", "+", "return", "false", ";", "<nl>", "+", "<nl>", "if", "(", "deviceid", "=", "=", "RTL", "_", "PCI", "_", "8192", "_", "DID", "|", "|", "<nl>", "deviceid", "=", "=", "RTL", "_", "PCI", "_", "0044", "_", "DID", "|", "|", "<nl>", "deviceid", "=", "=", "RTL", "_", "PCI", "_", "0047", "_", "DID", "|", "|", "<nl>", "int", "_", "_", "devinit", "rtl", "_", "pci", "_", "probe", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "pci", "_", "write", "_", "config", "_", "byte", "(", "pdev", ",", "0x04", ",", "0x07", ")", ";", "<nl>", "<nl>", "/", "*", "find", "adapter", "*", "/", "<nl>", "-", "_", "rtl", "_", "pci", "_", "find", "_", "adapter", "(", "pdev", ",", "hw", ")", ";", "<nl>", "+", "if", "(", "!", "_", "rtl", "_", "pci", "_", "find", "_", "adapter", "(", "pdev", ",", "hw", ")", ")", "<nl>", "+", "goto", "fail3", ";", "<nl>", "<nl>", "/", "*", "Init", "IO", "handler", "*", "/", "<nl>", "_", "rtl", "_", "pci", "_", "io", "_", "handler", "_", "init", "(", "&", "pdev", "-", ">", "dev", ",", "hw", ")", ";", "<nl>"], "docstring_tokens": ["rtlwifi", "rtl8192se", "Handle", "duplicate", "PCI", "ID", "0x10ec", "0x8192", "conflict", "with", "r8192e_pci"]}
{"code_tokens": ["static", "long", "compat", "_", "ipmi", "_", "ioctl", "(", "struct", "file", "*", "filep", ",", "unsigned", "int", "cmd", ",", "<nl>", "struct", "ipmi", "_", "recv", "_", "_", "user", "*", "precv64", ";", "<nl>", "struct", "ipmi", "_", "recv", "recv64", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "recv64", ",", "0", ",", "sizeof", "(", "recv64", ")", ")", ";", "<nl>", "if", "(", "get", "_", "compat", "_", "ipmi", "_", "recv", "(", "&", "recv64", ",", "compat", "_", "ptr", "(", "arg", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>"], "docstring_tokens": ["ipmi", "info", "leak", "in", "compat_ipmi_ioctl"]}
{"code_tokens": ["int", "cgroup", "_", "add", "_", "legacy", "_", "cftypes", "(", "struct", "cgroup", "_", "subsys", "*", "ss", ",", "struct", "cftype", "*", "cfts", ")", "<nl>", "{", "<nl>", "struct", "cftype", "*", "cft", ";", "<nl>", "<nl>", "-", "for", "(", "cft", "=", "cfts", ";", "cft", "&", "&", "cft", "-", ">", "name", "[", "0", "]", "!", "=", "'", "\\", "0", "'", ";", "cft", "+", "+", ")", "<nl>", "-", "cft", "-", ">", "flags", "|", "=", "_", "_", "CFTYPE", "_", "NOT", "_", "ON", "_", "DFL", ";", "<nl>", "+", "/", "*", "<nl>", "+", "*", "If", "legacy", "_", "flies", "_", "on", "_", "dfl", ",", "we", "want", "to", "show", "the", "legacy", "files", "on", "the", "<nl>", "+", "*", "dfl", "hierarchy", "but", "iff", "the", "target", "subsystem", "hasn", "'", "t", "been", "updated", "<nl>", "+", "*", "for", "the", "dfl", "hierarchy", "yet", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "cgroup", "_", "legacy", "_", "files", "_", "on", "_", "dfl", "|", "|", "<nl>", "+", "ss", "-", ">", "dfl", "_", "cftypes", "!", "=", "ss", "-", ">", "legacy", "_", "cftypes", ")", "{", "<nl>", "+", "for", "(", "cft", "=", "cfts", ";", "cft", "&", "&", "cft", "-", ">", "name", "[", "0", "]", "!", "=", "'", "\\", "0", "'", ";", "cft", "+", "+", ")", "<nl>", "+", "cft", "-", ">", "flags", "|", "=", "_", "_", "CFTYPE", "_", "NOT", "_", "ON", "_", "DFL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "return", "cgroup", "_", "add", "_", "cftypes", "(", "ss", ",", "cfts", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["cgroup", "Display", "legacy", "cgroup", "files", "on", "default", "hierarchy"]}
{"code_tokens": ["xfs", "_", "acl", "_", "from", "_", "disk", "(", "struct", "xfs", "_", "acl", "*", "aclp", ")", "<nl>", "int", "count", ",", "i", ";", "<nl>", "<nl>", "count", "=", "be32", "_", "to", "_", "cpu", "(", "aclp", "-", ">", "acl", "_", "cnt", ")", ";", "<nl>", "+", "if", "(", "count", ">", "XFS", "_", "ACL", "_", "MAX", "_", "ENTRIES", ")", "<nl>", "+", "return", "ERR", "_", "PTR", "(", "-", "EFSCORRUPTED", ")", ";", "<nl>", "<nl>", "acl", "=", "posix", "_", "acl", "_", "alloc", "(", "count", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "acl", ")", "<nl>"], "docstring_tokens": ["xfs", "validate", "acl", "count"]}
{"code_tokens": ["static", "void", "nbd", "_", "config", "_", "put", "(", "struct", "nbd", "_", "device", "*", "nbd", ")", "<nl>", "}", "<nl>", "kfree", "(", "config", "-", ">", "socks", ")", ";", "<nl>", "}", "<nl>", "+", "kfree", "(", "nbd", "-", ">", "config", ")", ";", "<nl>", "nbd", "-", ">", "config", "=", "NULL", ";", "<nl>", "<nl>", "nbd", "-", ">", "tag", "_", "set", ".", "timeout", "=", "0", ";", "<nl>"], "docstring_tokens": ["nbd", "don", "t", "leak", "nbd_config"]}
{"code_tokens": ["static", "void", "nvme", "_", "init", "_", "integrity", "(", "struct", "nvme", "_", "ns", "*", "ns", ")", "<nl>", "{", "<nl>", "struct", "blk", "_", "integrity", "integrity", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "integrity", ",", "0", ",", "sizeof", "(", "integrity", ")", ")", ";", "<nl>", "switch", "(", "ns", "-", ">", "pi", "_", "type", ")", "{", "<nl>", "case", "NVME", "_", "NS", "_", "DPS", "_", "PI", "_", "TYPE3", ":", "<nl>", "integrity", ".", "profile", "=", "&", "t10", "_", "pi", "_", "type3", "_", "crc", ";", "<nl>"], "docstring_tokens": ["nvme", "initialize", "variable", "before", "logical", "OR", "ing", "it"]}
{"code_tokens": ["static", "int", "ptp", "_", "dp83640", "_", "enable", "(", "struct", "ptp", "_", "clock", "_", "info", "*", "ptp", ",", "<nl>", "event", "_", "num", "=", "EXT", "_", "EVENT", "+", "index", ";", "<nl>", "evnt", "=", "EVNT", "_", "WR", "|", "(", "event", "_", "num", "&", "EVNT", "_", "SEL", "_", "MASK", ")", "<", "<", "EVNT", "_", "SEL", "_", "SHIFT", ";", "<nl>", "if", "(", "on", ")", "{", "<nl>", "-", "gpio", "_", "num", "=", "gpio", "_", "tab", "[", "EXTTS0", "_", "GPIO", "+", "index", "]", ";", "<nl>", "+", "gpio", "_", "num", "=", "1", "+", "ptp", "_", "find", "_", "pin", "(", "clock", "-", ">", "ptp", "_", "clock", ",", "<nl>", "+", "PTP", "_", "PF", "_", "EXTTS", ",", "index", ")", ";", "<nl>", "+", "if", "(", "gpio", "_", "num", "<", "1", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "evnt", "|", "=", "(", "gpio", "_", "num", "&", "EVNT", "_", "GPIO", "_", "MASK", ")", "<", "<", "EVNT", "_", "GPIO", "_", "SHIFT", ";", "<nl>", "if", "(", "rq", "-", ">", "extts", ".", "flags", "&", "PTP", "_", "FALLING", "_", "EDGE", ")", "<nl>", "evnt", "|", "=", "EVNT", "_", "FALL", ";", "<nl>"], "docstring_tokens": ["dp83640", "let", "external", "input", "pins", "from", "the", "module", "parameters", "be", "defaults"]}
{"code_tokens": ["static", "int", "kvmgt", "_", "write", "_", "protect", "_", "add", "(", "unsigned", "long", "handle", ",", "u64", "gfn", ")", "<nl>", "<nl>", "idx", "=", "srcu", "_", "read", "_", "lock", "(", "&", "kvm", "-", ">", "srcu", ")", ";", "<nl>", "slot", "=", "gfn", "_", "to", "_", "memslot", "(", "kvm", ",", "gfn", ")", ";", "<nl>", "+", "if", "(", "!", "slot", ")", "{", "<nl>", "+", "srcu", "_", "read", "_", "unlock", "(", "&", "kvm", "-", ">", "srcu", ",", "idx", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "kvm", "-", ">", "mmu", "_", "lock", ")", ";", "<nl>", "<nl>", "static", "int", "kvmgt", "_", "write", "_", "protect", "_", "remove", "(", "unsigned", "long", "handle", ",", "u64", "gfn", ")", "<nl>", "<nl>", "idx", "=", "srcu", "_", "read", "_", "lock", "(", "&", "kvm", "-", ">", "srcu", ")", ";", "<nl>", "slot", "=", "gfn", "_", "to", "_", "memslot", "(", "kvm", ",", "gfn", ")", ";", "<nl>", "+", "if", "(", "!", "slot", ")", "{", "<nl>", "+", "srcu", "_", "read", "_", "unlock", "(", "&", "kvm", "-", ">", "srcu", ",", "idx", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "<nl>", "spin", "_", "lock", "(", "&", "kvm", "-", ">", "mmu", "_", "lock", ")", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "gvt", "kvmgt", "check", "returned", "slot", "for", "gfn"]}
{"code_tokens": ["static", "struct", "pernet", "_", "operations", "_", "_", "net", "_", "initdata", "netlink", "_", "net", "_", "ops", "=", "{", "<nl>", "<nl>", "static", "int", "_", "_", "init", "netlink", "_", "proto", "_", "init", "(", "void", ")", "<nl>", "{", "<nl>", "-", "struct", "sk", "_", "buff", "*", "dummy", "_", "skb", ";", "<nl>", "int", "i", ";", "<nl>", "unsigned", "long", "limit", ";", "<nl>", "unsigned", "int", "order", ";", "<nl>", "static", "int", "_", "_", "init", "netlink", "_", "proto", "_", "init", "(", "void", ")", "<nl>", "if", "(", "err", "!", "=", "0", ")", "<nl>", "goto", "out", ";", "<nl>", "<nl>", "-", "BUILD", "_", "BUG", "_", "ON", "(", "sizeof", "(", "struct", "netlink", "_", "skb", "_", "parms", ")", ">", "sizeof", "(", "dummy", "_", "skb", "-", ">", "cb", ")", ")", ";", "<nl>", "+", "BUILD", "_", "BUG", "_", "ON", "(", "sizeof", "(", "struct", "netlink", "_", "skb", "_", "parms", ")", ">", "FIELD", "_", "SIZEOF", "(", "struct", "sk", "_", "buff", ",", "cb", ")", ")", ";", "<nl>", "<nl>", "nl", "_", "table", "=", "kcalloc", "(", "MAX", "_", "LINKS", ",", "sizeof", "(", "*", "nl", "_", "table", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "nl", "_", "table", ")", "<nl>"], "docstring_tokens": ["netlink", "Use", "FIELD_SIZEOF", "in", "netlink_proto_init"]}
{"code_tokens": ["int", "wilc", "_", "deinit", "(", "struct", "wilc", "_", "vif", "*", "vif", ")", "<nl>", "<nl>", "if", "(", "hif", "_", "drv", "-", ">", "usr", "_", "scan", "_", "req", ".", "scan", "_", "result", ")", "{", "<nl>", "hif", "_", "drv", "-", ">", "usr", "_", "scan", "_", "req", ".", "scan", "_", "result", "(", "SCAN", "_", "EVENT", "_", "ABORTED", ",", "NULL", ",", "<nl>", "-", "hif", "_", "drv", "-", ">", "usr", "_", "scan", "_", "req", ".", "arg", ",", "NULL", ")", ";", "<nl>", "+", "hif", "_", "drv", "-", ">", "usr", "_", "scan", "_", "req", ".", "arg", ",", "<nl>", "+", "NULL", ")", ";", "<nl>", "hif", "_", "drv", "-", ">", "usr", "_", "scan", "_", "req", ".", "scan", "_", "result", "=", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "int", "wilc", "_", "del", "_", "allstation", "(", "struct", "wilc", "_", "vif", "*", "vif", ",", "u8", "mac", "_", "addr", "[", "]", "[", "ETH", "_", "ALEN", "]", ")", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "MAX", "_", "NUM", "_", "STA", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "memcmp", "(", "mac", "_", "addr", "[", "i", "]", ",", "zero", "_", "addr", ",", "ETH", "_", "ALEN", ")", ")", "{", "<nl>", "-", "memcpy", "(", "del", "_", "all", "_", "sta", "_", "info", "-", ">", "del", "_", "all", "_", "sta", "[", "i", "]", ",", "mac", "_", "addr", "[", "i", "]", ",", "ETH", "_", "ALEN", ")", ";", "<nl>", "+", "memcpy", "(", "del", "_", "all", "_", "sta", "_", "info", "-", ">", "del", "_", "all", "_", "sta", "[", "i", "]", ",", "mac", "_", "addr", "[", "i", "]", ",", "<nl>", "+", "ETH", "_", "ALEN", ")", ";", "<nl>", "assoc", "_", "sta", "+", "+", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "wilc1000", "fix", "line", "over", "80", "char", "in", "wilc_del_allstation", "wilc_deinit"]}
{"code_tokens": ["static", "int", "torture", "_", "shutdown", "_", "notify", "(", "struct", "notifier", "_", "block", "*", "unused1", ",", "<nl>", "unsigned", "long", "unused2", ",", "void", "*", "unused3", ")", "<nl>", "{", "<nl>", "mutex", "_", "lock", "(", "&", "fullstop", "_", "mutex", ")", ";", "<nl>", "-", "if", "(", "fullstop", "=", "=", "FULLSTOP", "_", "DONTSTOP", ")", "<nl>", "+", "if", "(", "fullstop", "=", "=", "FULLSTOP", "_", "DONTSTOP", ")", "{", "<nl>", "+", "VERBOSE", "_", "TOROUT", "_", "STRING", "(", "\"", "Unscheduled", "system", "shutdown", "detected", "\"", ")", ";", "<nl>", "fullstop", "=", "FULLSTOP", "_", "SHUTDOWN", ";", "<nl>", "-", "else", "<nl>", "+", "}", "else", "{", "<nl>", "pr", "_", "warn", "(", "\"", "Concurrent", "rmmod", "and", "shutdown", "illegal", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "mutex", "_", "unlock", "(", "&", "fullstop", "_", "mutex", ")", ";", "<nl>", "return", "NOTIFY", "_", "DONE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["rcutorture", "Add", "diagnostic", "for", "unscheduled", "system", "shutdown"]}
{"code_tokens": ["static", "int", "brcmf", "_", "enable", "_", "bw40", "_", "2g", "(", "struct", "brcmf", "_", "cfg80211", "_", "info", "*", "cfg", ")", "<nl>", "<nl>", "ch", ".", "band", "=", "BRCMU", "_", "CHAN", "_", "BAND", "_", "2G", ";", "<nl>", "ch", ".", "bw", "=", "BRCMU", "_", "CHAN", "_", "BW", "_", "40", ";", "<nl>", "+", "ch", ".", "sb", "=", "BRCMU", "_", "CHAN", "_", "SB", "_", "NONE", ";", "<nl>", "ch", ".", "chnum", "=", "0", ";", "<nl>", "cfg", "-", ">", "d11inf", ".", "encchspec", "(", "&", "ch", ")", ";", "<nl>", "<nl>", "static", "int", "brcmf", "_", "enable", "_", "bw40", "_", "2g", "(", "struct", "brcmf", "_", "cfg80211", "_", "info", "*", "cfg", ")", "<nl>", "<nl>", "brcmf", "_", "update", "_", "bw40", "_", "channel", "_", "flag", "(", "&", "band", "-", ">", "channels", "[", "j", "]", ",", "&", "ch", ")", ";", "<nl>", "}", "<nl>", "+", "kfree", "(", "pbuf", ")", ";", "<nl>", "}", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["brcmfmac", "Fix", "memory", "leak", "and", "missing", "assignment"]}
{"code_tokens": ["int", "amdgpu", "_", "cs", "_", "parser", "_", "init", "(", "struct", "amdgpu", "_", "cs", "_", "parser", "*", "p", ",", "void", "*", "data", ")", ";", "<nl>", "int", "amdgpu", "_", "cs", "_", "get", "_", "ring", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "u32", "ip", "_", "type", ",", "<nl>", "u32", "ip", "_", "instance", ",", "u32", "ring", ",", "<nl>", "struct", "amdgpu", "_", "ring", "*", "*", "out", "_", "ring", ")", ";", "<nl>", "+", "void", "amdgpu", "_", "cs", "_", "report", "_", "moved", "_", "bytes", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "u64", "num", "_", "bytes", ")", ";", "<nl>", "void", "amdgpu", "_", "ttm", "_", "placement", "_", "from", "_", "domain", "(", "struct", "amdgpu", "_", "bo", "*", "abo", ",", "u32", "domain", ")", ";", "<nl>", "bool", "amdgpu", "_", "ttm", "_", "bo", "_", "is", "_", "amdgpu", "_", "bo", "(", "struct", "ttm", "_", "buffer", "_", "object", "*", "bo", ")", ";", "<nl>", "int", "amdgpu", "_", "ttm", "_", "tt", "_", "get", "_", "user", "_", "pages", "(", "struct", "ttm", "_", "tt", "*", "ttm", ",", "struct", "page", "*", "*", "pages", ")", ";", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "amd", "/", "amdgpu", "/", "amdgpu", "_", "object", ".", "c", "<nl>", "int", "amdgpu", "_", "cs", "_", "parser", "_", "init", "(", "struct", "amdgpu", "_", "cs", "_", "parser", "*", "p", ",", "void", "*", "data", ")", ";", "<nl>", "int", "amdgpu", "_", "cs", "_", "get", "_", "ring", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "u32", "ip", "_", "type", ",", "<nl>", "u32", "ip", "_", "instance", ",", "u32", "ring", ",", "<nl>", "struct", "amdgpu", "_", "ring", "*", "*", "out", "_", "ring", ")", ";", "<nl>", "+", "void", "amdgpu", "_", "cs", "_", "report", "_", "moved", "_", "bytes", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "u64", "num", "_", "bytes", ")", ";", "<nl>", "void", "amdgpu", "_", "ttm", "_", "placement", "_", "from", "_", "domain", "(", "struct", "amdgpu", "_", "bo", "*", "abo", ",", "u32", "domain", ")", ";", "<nl>", "bool", "amdgpu", "_", "ttm", "_", "bo", "_", "is", "_", "amdgpu", "_", "bo", "(", "struct", "ttm", "_", "buffer", "_", "object", "*", "bo", ")", ";", "<nl>", "int", "amdgpu", "_", "ttm", "_", "tt", "_", "get", "_", "user", "_", "pages", "(", "struct", "ttm", "_", "tt", "*", "ttm", ",", "struct", "page", "*", "*", "pages", ")", ";", "<nl>", "int", "amdgpu", "_", "bo", "_", "create", "_", "restricted", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "<nl>", "struct", "amdgpu", "_", "bo", "*", "bo", ";", "<nl>", "enum", "ttm", "_", "bo", "_", "type", "type", ";", "<nl>", "unsigned", "long", "page", "_", "align", ";", "<nl>", "+", "u64", "initial", "_", "bytes", "_", "moved", ";", "<nl>", "size", "_", "t", "acc", "_", "size", ";", "<nl>", "int", "r", ";", "<nl>", "<nl>", "int", "amdgpu", "_", "bo", "_", "create", "_", "restricted", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "<nl>", "locked", "=", "ww", "_", "mutex", "_", "trylock", "(", "&", "bo", "-", ">", "tbo", ".", "ttm", "_", "resv", ".", "lock", ")", ";", "<nl>", "WARN", "_", "ON", "(", "!", "locked", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "initial", "_", "bytes", "_", "moved", "=", "atomic64", "_", "read", "(", "&", "adev", "-", ">", "num", "_", "bytes", "_", "moved", ")", ";", "<nl>", "r", "=", "ttm", "_", "bo", "_", "init", "(", "&", "adev", "-", ">", "mman", ".", "bdev", ",", "&", "bo", "-", ">", "tbo", ",", "size", ",", "type", ",", "<nl>", "&", "bo", "-", ">", "placement", ",", "page", "_", "align", ",", "!", "kernel", ",", "NULL", ",", "<nl>", "acc", "_", "size", ",", "sg", ",", "resv", "?", "resv", ":", "&", "bo", "-", ">", "tbo", ".", "ttm", "_", "resv", ",", "<nl>", "&", "amdgpu", "_", "ttm", "_", "bo", "_", "destroy", ")", ";", "<nl>", "+", "amdgpu", "_", "cs", "_", "report", "_", "moved", "_", "bytes", "(", "adev", ",", "<nl>", "+", "atomic64", "_", "read", "(", "&", "adev", "-", ">", "num", "_", "bytes", "_", "moved", ")", "-", "initial", "_", "bytes", "_", "moved", ")", ";", "<nl>", "+", "<nl>", "if", "(", "unlikely", "(", "r", "!", "=", "0", ")", ")", "{", "<nl>", "if", "(", "!", "resv", ")", "<nl>", "ww", "_", "mutex", "_", "unlock", "(", "&", "bo", "-", ">", "tbo", ".", "resv", "-", ">", "lock", ")", ";", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "amd", "/", "amdgpu", "/", "amdgpu", "_", "cs", ".", "c", "<nl>", "int", "amdgpu", "_", "cs", "_", "parser", "_", "init", "(", "struct", "amdgpu", "_", "cs", "_", "parser", "*", "p", ",", "void", "*", "data", ")", ";", "<nl>", "int", "amdgpu", "_", "cs", "_", "get", "_", "ring", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "u32", "ip", "_", "type", ",", "<nl>", "u32", "ip", "_", "instance", ",", "u32", "ring", ",", "<nl>", "struct", "amdgpu", "_", "ring", "*", "*", "out", "_", "ring", ")", ";", "<nl>", "+", "void", "amdgpu", "_", "cs", "_", "report", "_", "moved", "_", "bytes", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "u64", "num", "_", "bytes", ")", ";", "<nl>", "void", "amdgpu", "_", "ttm", "_", "placement", "_", "from", "_", "domain", "(", "struct", "amdgpu", "_", "bo", "*", "abo", ",", "u32", "domain", ")", ";", "<nl>", "bool", "amdgpu", "_", "ttm", "_", "bo", "_", "is", "_", "amdgpu", "_", "bo", "(", "struct", "ttm", "_", "buffer", "_", "object", "*", "bo", ")", ";", "<nl>", "int", "amdgpu", "_", "ttm", "_", "tt", "_", "get", "_", "user", "_", "pages", "(", "struct", "ttm", "_", "tt", "*", "ttm", ",", "struct", "page", "*", "*", "pages", ")", ";", "<nl>", "int", "amdgpu", "_", "bo", "_", "create", "_", "restricted", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "<nl>", "struct", "amdgpu", "_", "bo", "*", "bo", ";", "<nl>", "enum", "ttm", "_", "bo", "_", "type", "type", ";", "<nl>", "unsigned", "long", "page", "_", "align", ";", "<nl>", "+", "u64", "initial", "_", "bytes", "_", "moved", ";", "<nl>", "size", "_", "t", "acc", "_", "size", ";", "<nl>", "int", "r", ";", "<nl>", "<nl>", "int", "amdgpu", "_", "bo", "_", "create", "_", "restricted", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "<nl>", "locked", "=", "ww", "_", "mutex", "_", "trylock", "(", "&", "bo", "-", ">", "tbo", ".", "ttm", "_", "resv", ".", "lock", ")", ";", "<nl>", "WARN", "_", "ON", "(", "!", "locked", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "initial", "_", "bytes", "_", "moved", "=", "atomic64", "_", "read", "(", "&", "adev", "-", ">", "num", "_", "bytes", "_", "moved", ")", ";", "<nl>", "r", "=", "ttm", "_", "bo", "_", "init", "(", "&", "adev", "-", ">", "mman", ".", "bdev", ",", "&", "bo", "-", ">", "tbo", ",", "size", ",", "type", ",", "<nl>", "&", "bo", "-", ">", "placement", ",", "page", "_", "align", ",", "!", "kernel", ",", "NULL", ",", "<nl>", "acc", "_", "size", ",", "sg", ",", "resv", "?", "resv", ":", "&", "bo", "-", ">", "tbo", ".", "ttm", "_", "resv", ",", "<nl>", "&", "amdgpu", "_", "ttm", "_", "bo", "_", "destroy", ")", ";", "<nl>", "+", "amdgpu", "_", "cs", "_", "report", "_", "moved", "_", "bytes", "(", "adev", ",", "<nl>", "+", "atomic64", "_", "read", "(", "&", "adev", "-", ">", "num", "_", "bytes", "_", "moved", ")", "-", "initial", "_", "bytes", "_", "moved", ")", ";", "<nl>", "+", "<nl>", "if", "(", "unlikely", "(", "r", "!", "=", "0", ")", ")", "{", "<nl>", "if", "(", "!", "resv", ")", "<nl>", "ww", "_", "mutex", "_", "unlock", "(", "&", "bo", "-", ">", "tbo", ".", "resv", "-", ">", "lock", ")", ";", "<nl>", "static", "u64", "amdgpu", "_", "cs", "_", "get", "_", "threshold", "_", "for", "_", "moves", "(", "struct", "amdgpu", "_", "device", "*", "adev", ")", "<nl>", "*", "submission", ".", "This", "can", "result", "in", "a", "debt", "that", "can", "stop", "buffer", "migrations", "<nl>", "*", "temporarily", ".", "<nl>", "*", "/", "<nl>", "-", "static", "void", "amdgpu", "_", "cs", "_", "report", "_", "moved", "_", "bytes", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "<nl>", "-", "u64", "num", "_", "bytes", ")", "<nl>", "+", "void", "amdgpu", "_", "cs", "_", "report", "_", "moved", "_", "bytes", "(", "struct", "amdgpu", "_", "device", "*", "adev", ",", "u64", "num", "_", "bytes", ")", "<nl>", "{", "<nl>", "spin", "_", "lock", "(", "&", "adev", "-", ">", "mm", "_", "stats", ".", "lock", ")", ";", "<nl>", "adev", "-", ">", "mm", "_", "stats", ".", "accum", "_", "us", "-", "=", "bytes", "_", "to", "_", "us", "(", "adev", ",", "num", "_", "bytes", ")", ";", "<nl>"], "docstring_tokens": ["drm", "amdgpu", "report", "the", "number", "of", "bytes", "moved", "at", "buffer", "creation"]}
{"code_tokens": ["static", "int", "omap", "_", "pcm", "_", "new", "(", "struct", "snd", "_", "soc", "_", "pcm", "_", "runtime", "*", "rtd", ")", "<nl>", "}", "<nl>", "<nl>", "out", ":", "<nl>", "+", "/", "*", "free", "preallocated", "buffers", "in", "case", "of", "error", "*", "/", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "omap", "_", "pcm", "_", "free", "_", "dma", "_", "buffers", "(", "pcm", ")", ";", "<nl>", "+", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ASoC", "omap", "pcm", "Free", "dma", "buffers", "in", "case", "of", "error"]}
{"code_tokens": ["struct", "el3", "_", "private", "{", "<nl>", "spinlock", "_", "t", "lock", ";", "<nl>", "}", ";", "<nl>", "<nl>", "-", "static", "const", "char", "*", "if", "_", "names", "[", "]", "=", "{", "\"", "auto", "\"", ",", "\"", "10baseT", "\"", ",", "\"", "10base2", "\"", ",", "\"", "AUI", "\"", "}", ";", "<nl>", "+", "static", "const", "char", "*", "if", "_", "names", "[", "]", "=", "{", "\"", "auto", "\"", ",", "\"", "10base2", "\"", ",", "\"", "10baseT", "\"", ",", "\"", "AUI", "\"", "}", ";", "<nl>", "<nl>", "/", "*", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "=", "*", "/", "<nl>"], "docstring_tokens": ["drivers", "net", "pcmcia", "3c589_cs", "fix", "port", "configuration", "switcheroo"]}
{"code_tokens": ["static", "int", "tegra", "_", "kbc", "_", "start", "(", "struct", "tegra", "_", "kbc", "*", "kbc", ")", "<nl>", "/", "*", "Reset", "the", "KBC", "controller", "to", "clear", "all", "previous", "status", ".", "*", "/", "<nl>", "reset", "_", "control", "_", "assert", "(", "kbc", "-", ">", "rst", ")", ";", "<nl>", "udelay", "(", "100", ")", ";", "<nl>", "-", "reset", "_", "control", "_", "assert", "(", "kbc", "-", ">", "rst", ")", ";", "<nl>", "+", "reset", "_", "control", "_", "deassert", "(", "kbc", "-", ">", "rst", ")", ";", "<nl>", "udelay", "(", "100", ")", ";", "<nl>", "<nl>", "tegra", "_", "kbc", "_", "config", "_", "pins", "(", "kbc", ")", ";", "<nl>"], "docstring_tokens": ["Input", "tegra", "kbc", "fix", "inverted", "reset", "logic"]}
{"code_tokens": ["static", "const", "struct", "usb", "_", "device", "_", "id", "id", "_", "table", "[", "]", "=", "{", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0x8341", ")", "}", ",", "/", "*", "Siemens", "MC35PU", "GPRS", "Modem", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0x8382", ")", "}", ",", "/", "*", "Cygnal", "Integrated", "Products", ",", "Inc", ".", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0x83A8", ")", "}", ",", "/", "*", "Amber", "Wireless", "AMB2560", "*", "/", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0x83D8", ")", "}", ",", "/", "*", "DekTec", "DTA", "Plus", "VHF", "/", "UHF", "Booster", "/", "Attenuator", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0x8411", ")", "}", ",", "/", "*", "Kyocera", "GPS", "Module", "*", "/", "<nl>", "+", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0x8418", ")", "}", ",", "/", "*", "IRZ", "Automation", "Teleport", "SG", "-", "10", "GSM", "/", "GPRS", "Modem", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0x846E", ")", "}", ",", "/", "*", "BEI", "USB", "Sensor", "Interface", "(", "VCP", ")", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0x8477", ")", "}", ",", "/", "*", "Balluff", "RFID", "*", "/", "<nl>", "{", "USB", "_", "DEVICE", "(", "0x10C4", ",", "0xEA60", ")", "}", ",", "/", "*", "Silicon", "Labs", "factory", "default", "*", "/", "<nl>"], "docstring_tokens": ["USB", "CP210x", "Add", "two", "device", "IDs"]}
{"code_tokens": ["static", "struct", "eg20t", "_", "port", "*", "pch", "_", "uart", "_", "init", "_", "port", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "int", "fifosize", ",", "base", "_", "baud", ";", "<nl>", "int", "port", "_", "type", ";", "<nl>", "struct", "pch", "_", "uart", "_", "driver", "_", "data", "*", "board", ";", "<nl>", "+", "const", "char", "*", "board", "_", "name", ";", "<nl>", "<nl>", "board", "=", "&", "drv", "_", "dat", "[", "id", "-", ">", "driver", "_", "data", "]", ";", "<nl>", "port", "_", "type", "=", "board", "-", ">", "port", "_", "type", ";", "<nl>", "static", "struct", "eg20t", "_", "port", "*", "pch", "_", "uart", "_", "init", "_", "port", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "base", "_", "baud", "=", "1843200", ";", "/", "*", "1", ".", "8432MHz", "*", "/", "<nl>", "<nl>", "/", "*", "quirk", "for", "CM", "-", "iTC", "board", "*", "/", "<nl>", "-", "if", "(", "strstr", "(", "dmi", "_", "get", "_", "system", "_", "info", "(", "DMI", "_", "BOARD", "_", "NAME", ")", ",", "\"", "CM", "-", "iTC", "\"", ")", ")", "<nl>", "+", "board", "_", "name", "=", "dmi", "_", "get", "_", "system", "_", "info", "(", "DMI", "_", "BOARD", "_", "NAME", ")", ";", "<nl>", "+", "if", "(", "board", "_", "name", "&", "&", "strstr", "(", "board", "_", "name", ",", "\"", "CM", "-", "iTC", "\"", ")", ")", "<nl>", "base", "_", "baud", "=", "192000000", ";", "/", "*", "192", ".", "0MHz", "*", "/", "<nl>", "<nl>", "switch", "(", "port", "_", "type", ")", "{", "<nl>"], "docstring_tokens": ["drivers", "tty", "serial", "pch_uart", "c", "don", "t", "oops", "if", "dmi_get_system_info", "returns", "NULL"]}
{"code_tokens": ["static", "int", "dvb", "_", "init", "(", "struct", "saa7134", "_", "dev", "*", "dev", ")", "<nl>", "dev", "-", ">", "dvb", ".", "frontend", "=", "dvb", "_", "attach", "(", "mt352", "_", "attach", ",", "&", "avermedia", "_", "777", ",", "<nl>", "&", "dev", "-", ">", "i2c", "_", "adap", ")", ";", "<nl>", "if", "(", "dev", "-", ">", "dvb", ".", "frontend", ")", "{", "<nl>", "-", "dvb", "_", "attach", "(", "dvb", "_", "pll", "_", "attach", ",", "dev", "-", ">", "dvb", ".", "frontend", ",", "0x61", ",", "<nl>", "-", "NULL", ",", "DVB", "_", "PLL", "_", "PHILIPS", "_", "TD1316", ")", ";", "<nl>", "+", "dvb", "_", "attach", "(", "simple", "_", "tuner", "_", "attach", ",", "dev", "-", ">", "dvb", ".", "frontend", ",", "<nl>", "+", "&", "dev", "-", ">", "i2c", "_", "adap", ",", "0x61", ",", "<nl>", "+", "TUNER", "_", "PHILIPS", "_", "TD1316", ")", ";", "<nl>", "}", "<nl>", "break", ";", "<nl>", "case", "SAA7134", "_", "BOARD", "_", "MD7134", ":", "<nl>"], "docstring_tokens": ["V4L", "DVB", "7414", "use", "tuner", "simple", "for", "Philips", "TD1316", "digital", "tuning", "support"]}
{"code_tokens": ["static", "int", "ade7854", "_", "set", "_", "irq", "(", "struct", "device", "*", "dev", ",", "bool", "enable", ")", "<nl>", "else", "<nl>", "irqen", "&", "=", "~", "BIT", "(", "17", ")", ";", "<nl>", "<nl>", "-", "ret", "=", "st", "-", ">", "write", "_", "reg", "_", "32", "(", "dev", ",", "ADE7854", "_", "MASK0", ",", "irqen", ")", ";", "<nl>", "-", "<nl>", "-", "return", "ret", ";", "<nl>", "+", "return", "st", "-", ">", "write", "_", "reg", "_", "32", "(", "dev", ",", "ADE7854", "_", "MASK0", ",", "irqen", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "ade7854", "_", "initial", "_", "setup", "(", "struct", "iio", "_", "dev", "*", "indio", "_", "dev", ")", "<nl>"], "docstring_tokens": ["staging", "iio", "compress", "return", "logic"]}
{"code_tokens": ["static", "int", "gs", "_", "can", "_", "open", "(", "struct", "net", "_", "device", "*", "netdev", ")", "<nl>", "rc", ")", ";", "<nl>", "<nl>", "usb", "_", "unanchor", "_", "urb", "(", "urb", ")", ";", "<nl>", "+", "usb", "_", "free", "_", "urb", "(", "urb", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["can", "gs_usb", "gs_can_open", "prevent", "memory", "leak"]}
{"code_tokens": ["#", "ifndef", "R819XUSB", "_", "CMDPKT", "_", "H", "<nl>", "#", "define", "R819XUSB", "_", "CMDPKT", "_", "H", "<nl>", "#", "define", "CMPK", "_", "RX", "_", "TX", "_", "FB", "_", "SIZE", "sizeof", "(", "struct", "cmpk", "_", "txfb", ")", "<nl>", "-", "#", "define", "CMPK", "_", "TX", "_", "SET", "_", "CONFIG", "_", "SIZE", "sizeof", "(", "cmpk", "_", "set", "_", "cfg", "_", "t", ")", "<nl>", "-", "#", "define", "CMPK", "_", "BOTH", "_", "QUERY", "_", "CONFIG", "_", "SIZE", "sizeof", "(", "cmpk", "_", "set", "_", "cfg", "_", "t", ")", "<nl>", "+", "#", "define", "CMPK", "_", "TX", "_", "SET", "_", "CONFIG", "_", "SIZE", "sizeof", "(", "struct", "cmpk", "_", "set", "_", "cfg", ")", "<nl>", "+", "#", "define", "CMPK", "_", "BOTH", "_", "QUERY", "_", "CONFIG", "_", "SIZE", "sizeof", "(", "struct", "cmpk", "_", "set", "_", "cfg", ")", "<nl>", "#", "define", "CMPK", "_", "RX", "_", "TX", "_", "STS", "_", "SIZE", "sizeof", "(", "cmpk", "_", "tx", "_", "status", "_", "t", ")", "<nl>", "#", "define", "CMPK", "_", "RX", "_", "DBG", "_", "MSG", "_", "SIZE", "sizeof", "(", "cmpk", "_", "rx", "_", "dbginfo", "_", "t", ")", "<nl>", "#", "define", "CMPK", "_", "TX", "_", "RAHIS", "_", "SIZE", "sizeof", "(", "cmpk", "_", "tx", "_", "rahis", "_", "t", ")", "<nl>", "struct", "cmpk", "_", "intr", "_", "sta", "{", "<nl>", "}", ";", "/", "/", ";", "<nl>", "<nl>", "<nl>", "-", "typedef", "struct", "tag", "_", "cmd", "_", "pkt", "_", "set", "_", "configuration", "<nl>", "-", "{", "<nl>", "+", "struct", "cmpk", "_", "set", "_", "cfg", "{", "<nl>", "u8", "element", "_", "id", ";", "<nl>", "u8", "length", ";", "<nl>", "u16", "reserve1", ";", "<nl>", "typedef", "struct", "tag", "_", "cmd", "_", "pkt", "_", "set", "_", "configuration", "<nl>", "u8", "cfg", "_", "offset", ";", "<nl>", "u32", "value", ";", "<nl>", "u32", "mask", ";", "<nl>", "-", "}", "cmpk", "_", "set", "_", "cfg", "_", "t", ";", "<nl>", "+", "}", ";", "/", "/", ";", "<nl>", "<nl>", "-", "#", "define", "cmpk", "_", "query", "_", "cfg", "_", "t", "cmpk", "_", "set", "_", "cfg", "_", "t", "<nl>", "+", "#", "define", "cmpk", "_", "query", "_", "cfg", "_", "t", "struct", "cmpk", "_", "set", "_", "cfg", "<nl>", "<nl>", "typedef", "struct", "tag", "_", "tx", "_", "stats", "_", "feedback", "<nl>", "{", "<nl>"], "docstring_tokens": ["staging", "rtl8192e", "Convert", "typedef", "cmpk_set_cfg_t", "to", "struct", "cmpk_set_cfg"]}
{"code_tokens": ["static", "int", "do", "_", "proc", "_", "douintvec", "_", "minmax", "_", "conv", "(", "unsigned", "long", "*", "lvalp", ",", "<nl>", "if", "(", "write", ")", "{", "<nl>", "unsigned", "int", "val", "=", "*", "lvalp", ";", "<nl>", "<nl>", "+", "if", "(", "*", "lvalp", ">", "UINT", "_", "MAX", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "if", "(", "(", "param", "-", ">", "min", "&", "&", "*", "param", "-", ">", "min", ">", "val", ")", "|", "|", "<nl>", "(", "param", "-", ">", "max", "&", "&", "*", "param", "-", ">", "max", "<", "val", ")", ")", "<nl>", "return", "-", "ERANGE", ";", "<nl>", "<nl>", "-", "if", "(", "*", "lvalp", ">", "UINT", "_", "MAX", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "*", "valp", "=", "val", ";", "<nl>", "}", "else", "{", "<nl>", "unsigned", "int", "val", "=", "*", "valp", ";", "<nl>", "static", "int", "do", "_", "proc", "_", "dopipe", "_", "max", "_", "size", "_", "conv", "(", "unsigned", "long", "*", "lvalp", ",", "<nl>", "struct", "do", "_", "proc", "_", "dopipe", "_", "max", "_", "size", "_", "conv", "_", "param", "*", "param", "=", "data", ";", "<nl>", "<nl>", "if", "(", "write", ")", "{", "<nl>", "-", "unsigned", "int", "val", "=", "round", "_", "pipe", "_", "size", "(", "*", "lvalp", ")", ";", "<nl>", "+", "unsigned", "int", "val", ";", "<nl>", "<nl>", "+", "if", "(", "*", "lvalp", ">", "UINT", "_", "MAX", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "+", "val", "=", "round", "_", "pipe", "_", "size", "(", "*", "lvalp", ")", ";", "<nl>", "if", "(", "val", "=", "=", "0", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "if", "(", "param", "-", ">", "min", "&", "&", "*", "param", "-", ">", "min", ">", "val", ")", "<nl>", "return", "-", "ERANGE", ";", "<nl>", "<nl>", "-", "if", "(", "*", "lvalp", ">", "UINT", "_", "MAX", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "-", "<nl>", "*", "valp", "=", "val", ";", "<nl>", "}", "else", "{", "<nl>", "unsigned", "int", "val", "=", "*", "valp", ";", "<nl>"], "docstring_tokens": ["sysctl", "check", "for", "UINT_MAX", "before", "unsigned", "int", "min", "max"]}
{"code_tokens": ["static", "int", "ibmvscsi", "_", "probe", "(", "struct", "vio", "_", "dev", "*", "vdev", ",", "const", "struct", "vio", "_", "device", "_", "id", "*", "id", ")", "<nl>", "host", "-", ">", "max", "_", "lun", "=", "8", ";", "<nl>", "host", "-", ">", "max", "_", "id", "=", "max", "_", "id", ";", "<nl>", "host", "-", ">", "max", "_", "channel", "=", "max", "_", "channel", ";", "<nl>", "+", "host", "-", ">", "max", "_", "cmd", "_", "len", "=", "16", ";", "<nl>", "<nl>", "if", "(", "scsi", "_", "add", "_", "host", "(", "hostdata", "-", ">", "host", ",", "hostdata", "-", ">", "dev", ")", ")", "<nl>", "goto", "add", "_", "host", "_", "failed", ";", "<nl>"], "docstring_tokens": ["SCSI", "ibmvscsi", "Add", "16", "byte", "CDB", "support"]}
{"code_tokens": ["qla27xx", "_", "fwdt", "_", "entry", "_", "t270", "(", "struct", "scsi", "_", "qla", "_", "host", "*", "vha", ",", "<nl>", "qla27xx", "_", "write", "_", "reg", "(", "reg", ",", "0xc0", ",", "addr", "|", "0x80000000", ",", "buf", ")", ";", "<nl>", "qla27xx", "_", "insert32", "(", "addr", ",", "buf", ",", "len", ")", ";", "<nl>", "qla27xx", "_", "read", "_", "off", "(", "reg", ",", "0xc4", ",", "buf", ",", "len", ")", ";", "<nl>", "-", "addr", "+", "+", ";", "<nl>", "+", "addr", "+", "=", "sizeof", "(", "uint32", "_", "t", ")", ";", "<nl>", "}", "<nl>", "<nl>", "return", "false", ";", "<nl>"], "docstring_tokens": ["qla2xxx", "Update", "entry", "type", "270", "to", "match", "spec", "update"]}
{"code_tokens": ["static", "int", "futex", "_", "requeue", "(", "u32", "_", "_", "user", "*", "uaddr1", ",", "unsigned", "int", "flags", ",", "<nl>", "struct", "futex", "_", "q", "*", "this", ",", "*", "next", ";", "<nl>", "DEFINE", "_", "WAKE", "_", "Q", "(", "wake", "_", "q", ")", ";", "<nl>", "<nl>", "+", "if", "(", "nr", "_", "wake", "<", "0", "|", "|", "nr", "_", "requeue", "<", "0", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "When", "PI", "not", "supported", ":", "return", "-", "ENOSYS", "if", "requeue", "_", "pi", "is", "true", ",", "<nl>", "*", "consequently", "the", "compiler", "knows", "requeue", "_", "pi", "is", "always", "false", "past", "<nl>"], "docstring_tokens": ["futex", "Prevent", "overflow", "by", "strengthen", "input", "validation"]}
{"code_tokens": ["int", "v4l2", "_", "async", "_", "notifier", "_", "register", "(", "struct", "v4l2", "_", "device", "*", "v4l2", "_", "dev", ",", "<nl>", "struct", "v4l2", "_", "async", "_", "subdev", "*", "asd", ";", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "if", "(", "!", "notifier", "-", ">", "num", "_", "subdevs", "|", "|", "notifier", "-", ">", "num", "_", "subdevs", ">", "V4L2", "_", "MAX", "_", "SUBDEVS", ")", "<nl>", "+", "if", "(", "!", "v4l2", "_", "dev", "|", "|", "!", "notifier", "-", ">", "num", "_", "subdevs", "|", "|", "<nl>", "+", "notifier", "-", ">", "num", "_", "subdevs", ">", "V4L2", "_", "MAX", "_", "SUBDEVS", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "notifier", "-", ">", "v4l2", "_", "dev", "=", "v4l2", "_", "dev", ";", "<nl>"], "docstring_tokens": ["media", "v4l", "async", "check", "for", "v4l2_dev", "in", "v4l2_async_notifier_register"]}
{"code_tokens": ["static", "int", "nfs", "_", "statfs", "(", "struct", "dentry", "*", "dentry", ",", "struct", "kstatfs", "*", "buf", ")", "<nl>", "goto", "out", "_", "err", ";", "<nl>", "<nl>", "error", "=", "server", "-", ">", "nfs", "_", "client", "-", ">", "rpc", "_", "ops", "-", ">", "statfs", "(", "server", ",", "fh", ",", "&", "res", ")", ";", "<nl>", "+", "if", "(", "unlikely", "(", "error", "=", "=", "-", "ESTALE", ")", ")", "{", "<nl>", "+", "struct", "dentry", "*", "pd", "_", "dentry", ";", "<nl>", "<nl>", "+", "pd", "_", "dentry", "=", "dget", "_", "parent", "(", "dentry", ")", ";", "<nl>", "+", "if", "(", "pd", "_", "dentry", "!", "=", "NULL", ")", "{", "<nl>", "+", "nfs", "_", "zap", "_", "caches", "(", "pd", "_", "dentry", "-", ">", "d", "_", "inode", ")", ";", "<nl>", "+", "dput", "(", "pd", "_", "dentry", ")", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "nfs", "_", "free", "_", "fattr", "(", "res", ".", "fattr", ")", ";", "<nl>", "if", "(", "error", "<", "0", ")", "<nl>", "goto", "out", "_", "err", ";", "<nl>"], "docstring_tokens": ["statfs", "gives", "ESTALE", "error"]}
{"code_tokens": ["static", "int", "parse", "_", "sid", "(", "struct", "cifs", "_", "sid", "*", "psid", ",", "char", "*", "end", "_", "of", "_", "acl", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "psid", "-", ">", "num", "_", "subauth", ")", "{", "<nl>", "#", "ifdef", "CONFIG", "_", "CIFS", "_", "DEBUG2", "<nl>", "+", "if", "(", "psid", "-", ">", "num", "_", "subauth", ")", "{", "<nl>", "int", "i", ";", "<nl>", "cFYI", "(", "1", ",", "\"", "SID", "revision", "%", "d", "num", "_", "auth", "%", "d", "\"", ",", "<nl>", "psid", "-", ">", "revision", ",", "psid", "-", ">", "num", "_", "subauth", ")", ";", "<nl>", "static", "int", "parse", "_", "sid", "(", "struct", "cifs", "_", "sid", "*", "psid", ",", "char", "*", "end", "_", "of", "_", "acl", ")", "<nl>", "num", "auths", "and", "therefore", "go", "off", "the", "end", "*", "/", "<nl>", "cFYI", "(", "1", ",", "\"", "RID", "0x", "%", "x", "\"", ",", "<nl>", "le32", "_", "to", "_", "cpu", "(", "psid", "-", ">", "sub", "_", "auth", "[", "psid", "-", ">", "num", "_", "subauth", "-", "1", "]", ")", ")", ";", "<nl>", "-", "#", "endif", "<nl>", "}", "<nl>", "+", "#", "endif", "<nl>", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["cifs", "move", "num_subauth", "check", "inside", "of", "CONFIG_CIFS_DEBUG2", "check", "in", "parse_sid"]}
{"code_tokens": ["static", "int", "qe", "_", "ep", "_", "enable", "(", "struct", "usb", "_", "ep", "*", "_", "ep", ",", "<nl>", "ep", "=", "container", "_", "of", "(", "_", "ep", ",", "struct", "qe", "_", "ep", ",", "ep", ")", ";", "<nl>", "<nl>", "/", "*", "catch", "various", "bogus", "parameters", "*", "/", "<nl>", "-", "if", "(", "!", "_", "ep", "|", "|", "!", "desc", "|", "|", "ep", "-", ">", "ep", ".", "desc", "|", "|", "_", "ep", "-", ">", "name", "=", "=", "ep", "_", "name", "[", "0", "]", "|", "|", "<nl>", "+", "if", "(", "!", "_", "ep", "|", "|", "!", "desc", "|", "|", "_", "ep", "-", ">", "name", "=", "=", "ep", "_", "name", "[", "0", "]", "|", "|", "<nl>", "(", "desc", "-", ">", "bDescriptorType", "!", "=", "USB", "_", "DT", "_", "ENDPOINT", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>"], "docstring_tokens": ["usb", "gadget", "fsl_qe_udc", "Remove", "unneeded", "condition"]}
{"code_tokens": ["static", "int", "_", "_", "mdio", "_", "read", "(", "struct", "net", "_", "device", "*", "dev", ",", "int", "phy", "_", "id", ",", "int", "reg", ")", "<nl>", "return", "mdio", "_", "read", "(", "tp", "-", ">", "mmio", "_", "addr", ",", "phy", "_", "id", ",", "reg", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "u16", "mdio", "_", "read", "_", "latched", "(", "void", "_", "_", "iomem", "*", "ioaddr", ",", "int", "phy", "_", "id", ",", "int", "reg", ")", "<nl>", "+", "{", "<nl>", "+", "mdio", "_", "read", "(", "ioaddr", ",", "phy", "_", "id", ",", "reg", ")", ";", "<nl>", "+", "return", "mdio", "_", "read", "(", "ioaddr", ",", "phy", "_", "id", ",", "reg", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "static", "u16", "_", "_", "devinit", "sis190", "_", "read", "_", "eeprom", "(", "void", "_", "_", "iomem", "*", "ioaddr", ",", "u32", "reg", ")", "<nl>", "{", "<nl>", "u16", "data", "=", "0xffff", ";", "<nl>", "static", "void", "sis190", "_", "phy", "_", "task", "(", "void", "*", "data", ")", "<nl>", "if", "(", "val", "&", "BMCR", "_", "RESET", ")", "{", "<nl>", "/", "/", "FIXME", ":", "needlessly", "high", "?", "-", "-", "FR", "02", "/", "07", "/", "2005", "<nl>", "mod", "_", "timer", "(", "&", "tp", "-", ">", "timer", ",", "jiffies", "+", "HZ", "/", "10", ")", ";", "<nl>", "-", "}", "else", "if", "(", "!", "(", "mdio", "_", "read", "(", "ioaddr", ",", "phy", "_", "id", ",", "MII", "_", "BMSR", ")", "&", "BMSR", "_", "ANEGCOMPLETE", ")", ")", "{", "<nl>", "+", "}", "else", "if", "(", "!", "(", "mdio", "_", "read", "_", "latched", "(", "ioaddr", ",", "phy", "_", "id", ",", "MII", "_", "BMSR", ")", "&", "<nl>", "+", "BMSR", "_", "ANEGCOMPLETE", ")", ")", "{", "<nl>", "net", "_", "link", "(", "tp", ",", "KERN", "_", "WARNING", "\"", "%", "s", ":", "PHY", "reset", "until", "link", "up", ".", "\\", "n", "\"", ",", "<nl>", "dev", "-", ">", "name", ")", ";", "<nl>", "mdio", "_", "write", "(", "ioaddr", ",", "phy", "_", "id", ",", "MII", "_", "BMCR", ",", "val", "|", "BMCR", "_", "RESET", ")", ";", "<nl>"], "docstring_tokens": ["PATCH", "sis190", "dummy", "read", "is", "required", "by", "the", "status", "register"]}
{"code_tokens": ["int", "pci", "_", "scan", "_", "bridge", "(", "struct", "pci", "_", "bus", "*", "bus", ",", "struct", "pci", "_", "dev", "*", "dev", ",", "int", "max", ",", "int", "pass", ")", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "max", ">", "=", "bus", "-", ">", "busn", "_", "res", ".", "end", ")", "{", "<nl>", "+", "dev", "_", "warn", "(", "&", "dev", "-", ">", "dev", ",", "\"", "can", "'", "t", "allocate", "child", "bus", "%", "02x", "from", "%", "pR", "\\", "n", "\"", ",", "<nl>", "+", "max", ",", "&", "bus", "-", ">", "busn", "_", "res", ")", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "Clear", "errors", "*", "/", "<nl>", "pci", "_", "write", "_", "config", "_", "word", "(", "dev", ",", "PCI", "_", "STATUS", ",", "0xffff", ")", ";", "<nl>", "<nl>", "-", "/", "*", "Prevent", "assigning", "a", "bus", "number", "that", "already", "exists", ".", "<nl>", "-", "*", "This", "can", "happen", "when", "a", "bridge", "is", "hot", "-", "plugged", ",", "so", "in", "<nl>", "-", "*", "this", "case", "we", "only", "re", "-", "scan", "this", "bus", ".", "*", "/", "<nl>", "+", "/", "*", "The", "bus", "will", "already", "exist", "if", "we", "are", "rescanning", "*", "/", "<nl>", "child", "=", "pci", "_", "find", "_", "bus", "(", "pci", "_", "domain", "_", "nr", "(", "bus", ")", ",", "max", "+", "1", ")", ";", "<nl>", "if", "(", "!", "child", ")", "{", "<nl>", "child", "=", "pci", "_", "add", "_", "new", "_", "bus", "(", "bus", ",", "dev", ",", "max", "+", "1", ")", ";", "<nl>"], "docstring_tokens": ["PCI", "Don", "t", "scan", "random", "busses", "in", "pci_scan_bridge"]}
{"code_tokens": ["struct", "nvram", "_", "parser", "{", "<nl>", "bool", "multi", "_", "dev", "_", "v2", ";", "<nl>", "}", ";", "<nl>", "<nl>", "+", "/", "*", "*", "<nl>", "+", "*", "is", "_", "nvram", "_", "char", "(", ")", "-", "check", "if", "char", "is", "a", "valid", "one", "for", "NVRAM", "entry", "<nl>", "+", "*", "<nl>", "+", "*", "It", "accepts", "all", "printable", "ASCII", "chars", "except", "for", "'", "#", "'", "which", "opens", "a", "comment", ".", "<nl>", "+", "*", "Please", "note", "that", "'", "'", "(", "space", ")", "while", "accepted", "is", "not", "a", "valid", "key", "name", "char", ".", "<nl>", "+", "*", "/", "<nl>", "static", "bool", "is", "_", "nvram", "_", "char", "(", "char", "c", ")", "<nl>", "{", "<nl>", "/", "*", "comment", "marker", "excluded", "*", "/", "<nl>", "static", "bool", "is", "_", "nvram", "_", "char", "(", "char", "c", ")", "<nl>", "return", "false", ";", "<nl>", "<nl>", "/", "*", "key", "and", "value", "may", "have", "any", "other", "readable", "character", "*", "/", "<nl>", "-", "return", "(", "c", ">", "0x20", "&", "&", "c", "<", "0x7f", ")", ";", "<nl>", "+", "return", "(", "c", ">", "=", "0x20", "&", "&", "c", "<", "0x7f", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "bool", "is", "_", "whitespace", "(", "char", "c", ")", "<nl>", "static", "enum", "nvram", "_", "parser", "_", "state", "brcmf", "_", "nvram", "_", "handle", "_", "key", "(", "struct", "nvram", "_", "parser", "*", "nvp", ")", "<nl>", "nvp", "-", ">", "multi", "_", "dev", "_", "v1", "=", "true", ";", "<nl>", "if", "(", "strncmp", "(", "&", "nvp", "-", ">", "fwnv", "-", ">", "data", "[", "nvp", "-", ">", "entry", "]", ",", "\"", "pcie", "/", "\"", ",", "5", ")", "=", "=", "0", ")", "<nl>", "nvp", "-", ">", "multi", "_", "dev", "_", "v2", "=", "true", ";", "<nl>", "-", "}", "else", "if", "(", "!", "is", "_", "nvram", "_", "char", "(", "c", ")", ")", "{", "<nl>", "+", "}", "else", "if", "(", "!", "is", "_", "nvram", "_", "char", "(", "c", ")", "|", "|", "c", "=", "=", "'", "'", ")", "{", "<nl>", "brcmf", "_", "dbg", "(", "INFO", ",", "\"", "warning", ":", "ln", "=", "%", "d", ":", "col", "=", "%", "d", ":", "'", "=", "'", "expected", ",", "skip", "invalid", "key", "entry", "\\", "n", "\"", ",", "<nl>", "nvp", "-", ">", "line", ",", "nvp", "-", ">", "column", ")", ";", "<nl>", "return", "COMMENT", ";", "<nl>"], "docstring_tokens": ["brcmfmac", "allow", "NVRAM", "values", "to", "contain", "spaces"]}
{"code_tokens": ["void", "snd", "_", "seq", "_", "device", "_", "load", "_", "drivers", "(", "void", ")", "<nl>", "flush", "_", "work", "(", "&", "autoload", "_", "work", ")", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "snd", "_", "seq", "_", "device", "_", "load", "_", "drivers", ")", ";", "<nl>", "+", "#", "define", "cancel", "_", "autoload", "_", "drivers", "(", ")", "cancel", "_", "work", "_", "sync", "(", "&", "autoload", "_", "work", ")", "<nl>", "#", "else", "<nl>", "#", "define", "queue", "_", "autoload", "_", "drivers", "(", ")", "/", "*", "NOP", "*", "/", "<nl>", "+", "#", "define", "cancel", "_", "autoload", "_", "drivers", "(", ")", "/", "*", "NOP", "*", "/", "<nl>", "#", "endif", "<nl>", "<nl>", "/", "*", "<nl>", "static", "int", "snd", "_", "seq", "_", "device", "_", "dev", "_", "free", "(", "struct", "snd", "_", "device", "*", "device", ")", "<nl>", "{", "<nl>", "struct", "snd", "_", "seq", "_", "device", "*", "dev", "=", "device", "-", ">", "device", "_", "data", ";", "<nl>", "<nl>", "+", "cancel", "_", "autoload", "_", "drivers", "(", ")", ";", "<nl>", "put", "_", "device", "(", "&", "dev", "-", ">", "dev", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ALSA", "seq", "Cancel", "pending", "autoload", "work", "at", "unbinding", "device"]}
{"code_tokens": ["EXPORT", "_", "SYMBOL", "_", "GPL", "(", "kvm", "_", "inject", "_", "realmode", "_", "interrupt", ")", ";", "<nl>", "<nl>", "static", "int", "handle", "_", "emulation", "_", "failure", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>", "{", "<nl>", "+", "int", "r", "=", "EMULATE", "_", "DONE", ";", "<nl>", "+", "<nl>", "+", "+", "vcpu", "-", ">", "stat", ".", "insn", "_", "emulation", "_", "fail", ";", "<nl>", "trace", "_", "kvm", "_", "emulate", "_", "insn", "_", "failed", "(", "vcpu", ")", ";", "<nl>", "-", "vcpu", "-", ">", "run", "-", ">", "exit", "_", "reason", "=", "KVM", "_", "EXIT", "_", "INTERNAL", "_", "ERROR", ";", "<nl>", "-", "vcpu", "-", ">", "run", "-", ">", "internal", ".", "suberror", "=", "KVM", "_", "INTERNAL", "_", "ERROR", "_", "EMULATION", ";", "<nl>", "-", "vcpu", "-", ">", "run", "-", ">", "internal", ".", "ndata", "=", "0", ";", "<nl>", "+", "if", "(", "!", "is", "_", "guest", "_", "mode", "(", "vcpu", ")", ")", "{", "<nl>", "+", "vcpu", "-", ">", "run", "-", ">", "exit", "_", "reason", "=", "KVM", "_", "EXIT", "_", "INTERNAL", "_", "ERROR", ";", "<nl>", "+", "vcpu", "-", ">", "run", "-", ">", "internal", ".", "suberror", "=", "KVM", "_", "INTERNAL", "_", "ERROR", "_", "EMULATION", ";", "<nl>", "+", "vcpu", "-", ">", "run", "-", ">", "internal", ".", "ndata", "=", "0", ";", "<nl>", "+", "r", "=", "EMULATE", "_", "FAIL", ";", "<nl>", "+", "}", "<nl>", "kvm", "_", "queue", "_", "exception", "(", "vcpu", ",", "UD", "_", "VECTOR", ")", ";", "<nl>", "-", "return", "EMULATE", "_", "FAIL", ";", "<nl>", "+", "<nl>", "+", "return", "r", ";", "<nl>", "}", "<nl>", "<nl>", "static", "bool", "reexecute", "_", "instruction", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gva", "_", "t", "gva", ")", "<nl>"], "docstring_tokens": ["KVM", "X86", "Don", "t", "report", "L2", "emulation", "failures", "to", "user", "space"]}
{"code_tokens": ["static", "int", "ramoops", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "goto", "fail", "_", "out", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "Only", "a", "single", "ramoops", "area", "allowed", "at", "a", "time", ",", "so", "fail", "extra", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Only", "a", "single", "ramoops", "area", "allowed", "at", "a", "time", ",", "so", "fail", "extra", "<nl>", "*", "probes", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "cxt", "-", ">", "max", "_", "dump", "_", "cnt", ")", "<nl>", "+", "if", "(", "cxt", "-", ">", "max", "_", "dump", "_", "cnt", ")", "{", "<nl>", "+", "pr", "_", "err", "(", "\"", "already", "initialized", "\\", "n", "\"", ")", ";", "<nl>", "goto", "fail", "_", "out", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "/", "*", "Make", "sure", "we", "didn", "'", "t", "get", "bogus", "platform", "data", "pointer", ".", "*", "/", "<nl>", "+", "if", "(", "!", "pdata", ")", "{", "<nl>", "+", "pr", "_", "err", "(", "\"", "NULL", "platform", "data", "\\", "n", "\"", ")", ";", "<nl>", "+", "goto", "fail", "_", "out", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "!", "pdata", "-", ">", "mem", "_", "size", "|", "|", "(", "!", "pdata", "-", ">", "record", "_", "size", "&", "&", "!", "pdata", "-", ">", "console", "_", "size", "&", "&", "<nl>", "!", "pdata", "-", ">", "ftrace", "_", "size", "&", "&", "!", "pdata", "-", ">", "pmsg", "_", "size", ")", ")", "{", "<nl>"], "docstring_tokens": ["ramoops", "add", "pdata", "NULL", "check", "to", "ramoops_probe"]}
{"code_tokens": ["drm", "_", "mode", "_", "std", "(", "struct", "drm", "_", "connector", "*", "connector", ",", "struct", "edid", "*", "edid", ",", "<nl>", "*", "secondary", "GTF", "curve", ".", "Please", "don", "'", "t", "do", "that", ".", "<nl>", "*", "/", "<nl>", "mode", "=", "drm", "_", "gtf", "_", "mode", "(", "dev", ",", "hsize", ",", "vsize", ",", "vrefresh", "_", "rate", ",", "0", ",", "0", ")", ";", "<nl>", "+", "if", "(", "!", "mode", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "if", "(", "drm", "_", "mode", "_", "hsync", "(", "mode", ")", ">", "drm", "_", "gtf2", "_", "hbreak", "(", "edid", ")", ")", "{", "<nl>", "drm", "_", "mode", "_", "destroy", "(", "dev", ",", "mode", ")", ";", "<nl>", "mode", "=", "drm", "_", "gtf", "_", "mode", "_", "complex", "(", "dev", ",", "hsize", ",", "vsize", ",", "<nl>", "drm", "_", "gtf", "_", "modes", "_", "for", "_", "range", "(", "struct", "drm", "_", "connector", "*", "connector", ",", "struct", "edid", "*", "edid", ",", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "num", "_", "extra", "_", "modes", ";", "i", "+", "+", ")", "{", "<nl>", "const", "struct", "minimode", "*", "m", "=", "&", "extra", "_", "modes", "[", "i", "]", ";", "<nl>", "newmode", "=", "drm", "_", "gtf", "_", "mode", "(", "dev", ",", "m", "-", ">", "w", ",", "m", "-", ">", "h", ",", "m", "-", ">", "r", ",", "0", ",", "0", ")", ";", "<nl>", "+", "if", "(", "!", "newmode", ")", "<nl>", "+", "return", "modes", ";", "<nl>", "<nl>", "if", "(", "!", "mode", "_", "in", "_", "range", "(", "newmode", ",", "edid", ",", "timing", ")", ")", "{", "<nl>", "drm", "_", "mode", "_", "destroy", "(", "dev", ",", "newmode", ")", ";", "<nl>", "drm", "_", "cvt", "_", "modes", "_", "for", "_", "range", "(", "struct", "drm", "_", "connector", "*", "connector", ",", "struct", "edid", "*", "edid", ",", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "num", "_", "extra", "_", "modes", ";", "i", "+", "+", ")", "{", "<nl>", "const", "struct", "minimode", "*", "m", "=", "&", "extra", "_", "modes", "[", "i", "]", ";", "<nl>", "newmode", "=", "drm", "_", "cvt", "_", "mode", "(", "dev", ",", "m", "-", ">", "w", ",", "m", "-", ">", "h", ",", "m", "-", ">", "r", ",", "rb", ",", "0", ",", "0", ")", ";", "<nl>", "+", "if", "(", "!", "newmode", ")", "<nl>", "+", "return", "modes", ";", "<nl>", "<nl>", "if", "(", "!", "mode", "_", "in", "_", "range", "(", "newmode", ",", "edid", ",", "timing", ")", ")", "{", "<nl>", "drm", "_", "mode", "_", "destroy", "(", "dev", ",", "newmode", ")", ";", "<nl>"], "docstring_tokens": ["drm", "edid", "add", "missing", "NULL", "checks"]}
{"code_tokens": ["static", "int", "qlcnic", "_", "82xx", "_", "setup", "_", "intr", "(", "struct", "qlcnic", "_", "adapter", "*", "adapter", ")", "<nl>", "qlcnic", "_", "disable", "_", "multi", "_", "tx", "(", "adapter", ")", ";", "<nl>", "<nl>", "err", "=", "qlcnic", "_", "enable", "_", "msi", "_", "legacy", "(", "adapter", ")", ";", "<nl>", "-", "if", "(", "!", "err", ")", "<nl>", "+", "if", "(", "err", ")", "<nl>", "return", "err", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["qlcnic", "Fix", "function", "return", "error", "check"]}
{"code_tokens": ["static", "int", "nfs", "_", "parse", "_", "mount", "_", "options", "(", "char", "*", "raw", ",", "<nl>", "string", "=", "match", "_", "strdup", "(", "args", ")", ";", "<nl>", "if", "(", "string", "=", "=", "NULL", ")", "<nl>", "goto", "out", "_", "nomem", ";", "<nl>", "+", "kfree", "(", "mnt", "-", ">", "client", "_", "address", ")", ";", "<nl>", "mnt", "-", ">", "client", "_", "address", "=", "string", ";", "<nl>", "break", ";", "<nl>", "case", "Opt", "_", "mounthost", ":", "<nl>", "string", "=", "match", "_", "strdup", "(", "args", ")", ";", "<nl>", "if", "(", "string", "=", "=", "NULL", ")", "<nl>", "goto", "out", "_", "nomem", ";", "<nl>", "+", "kfree", "(", "mnt", "-", ">", "mount", "_", "server", ".", "hostname", ")", ";", "<nl>", "mnt", "-", ">", "mount", "_", "server", ".", "hostname", "=", "string", ";", "<nl>", "break", ";", "<nl>", "case", "Opt", "_", "mountaddr", ":", "<nl>"], "docstring_tokens": ["NFS", "Address", "memory", "leaks", "in", "the", "NFS", "client", "mount", "option", "parser"]}
{"code_tokens": ["int", "_", "_", "xipram", "cfi", "_", "qry", "_", "mode", "_", "on", "(", "uint32", "_", "t", "base", ",", "struct", "map", "_", "info", "*", "map", ",", "<nl>", "cfi", "_", "send", "_", "gen", "_", "cmd", "(", "0xAA", ",", "0x5555", ",", "base", ",", "map", ",", "cfi", ",", "cfi", "-", ">", "device", "_", "type", ",", "NULL", ")", ";", "<nl>", "cfi", "_", "send", "_", "gen", "_", "cmd", "(", "0x55", ",", "0x2AAA", ",", "base", ",", "map", ",", "cfi", ",", "cfi", "-", ">", "device", "_", "type", ",", "NULL", ")", ";", "<nl>", "cfi", "_", "send", "_", "gen", "_", "cmd", "(", "0x98", ",", "0x5555", ",", "base", ",", "map", ",", "cfi", ",", "cfi", "-", ">", "device", "_", "type", ",", "NULL", ")", ";", "<nl>", "+", "if", "(", "cfi", "_", "qry", "_", "present", "(", "map", ",", "base", ",", "cfi", ")", ")", "<nl>", "+", "return", "1", ";", "<nl>", "+", "/", "*", "SST", "39VF640xB", "*", "/", "<nl>", "+", "cfi", "_", "send", "_", "gen", "_", "cmd", "(", "0xF0", ",", "0", ",", "base", ",", "map", ",", "cfi", ",", "cfi", "-", ">", "device", "_", "type", ",", "NULL", ")", ";", "<nl>", "+", "cfi", "_", "send", "_", "gen", "_", "cmd", "(", "0xAA", ",", "0x555", ",", "base", ",", "map", ",", "cfi", ",", "cfi", "-", ">", "device", "_", "type", ",", "NULL", ")", ";", "<nl>", "+", "cfi", "_", "send", "_", "gen", "_", "cmd", "(", "0x55", ",", "0x2AA", ",", "base", ",", "map", ",", "cfi", ",", "cfi", "-", ">", "device", "_", "type", ",", "NULL", ")", ";", "<nl>", "+", "cfi", "_", "send", "_", "gen", "_", "cmd", "(", "0x98", ",", "0x555", ",", "base", ",", "map", ",", "cfi", ",", "cfi", "-", ">", "device", "_", "type", ",", "NULL", ")", ";", "<nl>", "if", "(", "cfi", "_", "qry", "_", "present", "(", "map", ",", "base", ",", "cfi", ")", ")", "<nl>", "return", "1", ";", "<nl>", "/", "*", "QRY", "not", "found", "*", "/", "<nl>"], "docstring_tokens": ["mtd", "cfi_util", "add", "support", "for", "switching", "SST", "39VF640xB", "chips", "into", "QRY", "mode"]}
{"code_tokens": ["static", "inline", "void", "x86", "_", "assign", "_", "hw", "_", "event", "(", "struct", "perf", "_", "event", "*", "event", ",", "<nl>", "hwc", "-", ">", "event", "_", "base", "=", "0", ";", "<nl>", "}", "else", "if", "(", "hwc", "-", ">", "idx", ">", "=", "X86", "_", "PMC", "_", "IDX", "_", "FIXED", ")", "{", "<nl>", "hwc", "-", ">", "config", "_", "base", "=", "MSR", "_", "ARCH", "_", "PERFMON", "_", "FIXED", "_", "CTR", "_", "CTRL", ";", "<nl>", "-", "hwc", "-", ">", "event", "_", "base", "=", "MSR", "_", "ARCH", "_", "PERFMON", "_", "FIXED", "_", "CTR0", ";", "<nl>", "+", "hwc", "-", ">", "event", "_", "base", "=", "MSR", "_", "ARCH", "_", "PERFMON", "_", "FIXED", "_", "CTR0", "+", "(", "hwc", "-", ">", "idx", "-", "X86", "_", "PMC", "_", "IDX", "_", "FIXED", ")", ";", "<nl>", "}", "else", "{", "<nl>", "hwc", "-", ">", "config", "_", "base", "=", "x86", "_", "pmu", "_", "config", "_", "addr", "(", "hwc", "-", ">", "idx", ")", ";", "<nl>", "hwc", "-", ">", "event", "_", "base", "=", "x86", "_", "pmu", "_", "event", "_", "addr", "(", "hwc", "-", ">", "idx", ")", ";", "<nl>"], "docstring_tokens": ["perf", "x86", "Fix", "Intel", "fixed", "counters", "base", "initialization"]}
{"code_tokens": ["static", "int", "_", "_", "exit", "fsl", "_", "udc", "_", "remove", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "if", "(", "!", "udc", "_", "controller", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "<nl>", "-", "usb", "_", "del", "_", "gadget", "_", "udc", "(", "&", "udc", "_", "controller", "-", ">", "gadget", ")", ";", "<nl>", "udc", "_", "controller", "-", ">", "done", "=", "&", "done", ";", "<nl>", "+", "usb", "_", "del", "_", "gadget", "_", "udc", "(", "&", "udc", "_", "controller", "-", ">", "gadget", ")", ";", "<nl>", "<nl>", "fsl", "_", "udc", "_", "clk", "_", "release", "(", ")", ";", "<nl>"], "docstring_tokens": ["usb", "gadget", "fsl", "fix", "the", "fault", "issue", "on", "rmmod"]}
{"code_tokens": ["int", "io", "_", "msg", "_", "ring", "(", "struct", "io", "_", "kiocb", "*", "req", ",", "unsigned", "int", "issue", "_", "flags", ")", "<nl>", "req", "_", "set", "_", "fail", "(", "req", ")", ";", "<nl>", "io", "_", "req", "_", "set", "_", "res", "(", "req", ",", "ret", ",", "0", ")", ";", "<nl>", "/", "*", "put", "file", "to", "avoid", "an", "attempt", "to", "IOPOLL", "the", "req", "*", "/", "<nl>", "-", "io", "_", "put", "_", "file", "(", "req", "-", ">", "file", ")", ";", "<nl>", "+", "if", "(", "!", "(", "req", "-", ">", "flags", "&", "REQ", "_", "F", "_", "FIXED", "_", "FILE", ")", ")", "<nl>", "+", "io", "_", "put", "_", "file", "(", "req", "-", ">", "file", ")", ";", "<nl>", "req", "-", ">", "file", "=", "NULL", ";", "<nl>", "return", "IOU", "_", "OK", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["io_uring", "msg_ring", "check", "file", "type", "before", "putting"]}
{"code_tokens": ["static", "long", "evdev", "_", "do", "_", "ioctl", "(", "struct", "file", "*", "file", ",", "unsigned", "int", "cmd", ",", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "<nl>", "error", "=", "input", "_", "ff", "_", "upload", "(", "dev", ",", "&", "effect", ",", "file", ")", ";", "<nl>", "+", "if", "(", "error", ")", "<nl>", "+", "return", "error", ";", "<nl>", "<nl>", "if", "(", "put", "_", "user", "(", "effect", ".", "id", ",", "&", "(", "(", "(", "struct", "ff", "_", "effect", "_", "_", "user", "*", ")", "p", ")", "-", ">", "id", ")", ")", ")", "<nl>", "return", "-", "EFAULT", ";", "<nl>", "<nl>", "-", "return", "error", ";", "<nl>", "+", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Multi", "-", "number", "variable", "-", "length", "handlers", "*", "/", "<nl>"], "docstring_tokens": ["Input", "don", "t", "modify", "the", "id", "of", "ioctl", "provided", "ff", "effect", "on", "upload", "failure"]}
{"code_tokens": ["static", "int", "fastrpc", "_", "dma", "_", "buf", "_", "attach", "(", "struct", "dma", "_", "buf", "*", "dmabuf", ",", "<nl>", "FASTRPC", "_", "PHYS", "(", "buffer", "-", ">", "phys", ")", ",", "buffer", "-", ">", "size", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "buffer", "-", ">", "dev", ",", "\"", "failed", "to", "get", "scatterlist", "from", "DMA", "API", "\\", "n", "\"", ")", ";", "<nl>", "+", "kfree", "(", "a", ")", ";", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["misc", "fastrpc", "prevent", "memory", "leak", "in", "fastrpc_dma_buf_attach"]}
{"code_tokens": ["int", "bond", "_", "enslave", "(", "struct", "net", "_", "device", "*", "bond", "_", "dev", ",", "struct", "net", "_", "device", "*", "slave", "_", "dev", ")", "<nl>", "write", "_", "unlock", "_", "bh", "(", "&", "bond", "-", ">", "curr", "_", "slave", "_", "lock", ")", ";", "<nl>", "read", "_", "unlock", "(", "&", "bond", "-", ">", "lock", ")", ";", "<nl>", "}", "<nl>", "+", "slave", "_", "disable", "_", "netpoll", "(", "new", "_", "slave", ")", ";", "<nl>", "<nl>", "err", "_", "close", ":", "<nl>", "slave", "_", "dev", "-", ">", "priv", "_", "flags", "&", "=", "~", "IFF", "_", "BONDING", ";", "<nl>"], "docstring_tokens": ["bonding", "disable", "netpoll", "on", "enslave", "failure"]}
{"code_tokens": ["drbd", "_", "determine", "_", "dev", "_", "size", "(", "struct", "drbd", "_", "device", "*", "device", ",", "enum", "dds", "_", "flags", "flags", ",", "struct", "<nl>", "if", "(", "la", "_", "size", "_", "changed", "|", "|", "md", "_", "moved", "|", "|", "rs", ")", "{", "<nl>", "u32", "prev", "_", "flags", ";", "<nl>", "<nl>", "+", "/", "*", "We", "do", "some", "synchronous", "IO", "below", ",", "which", "may", "take", "some", "time", ".", "<nl>", "+", "*", "Clear", "the", "timer", ",", "to", "avoid", "scary", "\"", "timer", "expired", "!", "\"", "messages", ",", "<nl>", "+", "*", "\"", "Superblock", "\"", "is", "written", "out", "at", "least", "twice", "below", ",", "anyways", ".", "*", "/", "<nl>", "+", "del", "_", "timer", "(", "&", "device", "-", ">", "md", "_", "sync", "_", "timer", ")", ";", "<nl>", "drbd", "_", "al", "_", "shrink", "(", "device", ")", ";", "/", "*", "All", "extents", "inactive", ".", "*", "/", "<nl>", "<nl>", "prev", "_", "flags", "=", "md", "-", ">", "flags", ";", "<nl>"], "docstring_tokens": ["drbd", "stop", "the", "meta", "data", "sync", "timer", "before", "open", "coded", "meta", "data", "sync"]}
{"code_tokens": ["struct", "runqueue", "{", "<nl>", "unsigned", "long", "ttwu", "_", "cnt", ";", "<nl>", "unsigned", "long", "ttwu", "_", "local", ";", "<nl>", "#", "endif", "<nl>", "+", "struct", "lock", "_", "class", "_", "key", "rq", "_", "lock", "_", "key", ";", "<nl>", "}", ";", "<nl>", "<nl>", "static", "DEFINE", "_", "PER", "_", "CPU", "(", "struct", "runqueue", ",", "runqueues", ")", ";", "<nl>", "void", "_", "_", "init", "sched", "_", "init", "(", "void", ")", "<nl>", "<nl>", "rq", "=", "cpu", "_", "rq", "(", "i", ")", ";", "<nl>", "spin", "_", "lock", "_", "init", "(", "&", "rq", "-", ">", "lock", ")", ";", "<nl>", "+", "lockdep", "_", "set", "_", "class", "(", "&", "rq", "-", ">", "lock", ",", "&", "rq", "-", ">", "rq", "_", "lock", "_", "key", ")", ";", "<nl>", "rq", "-", ">", "nr", "_", "running", "=", "0", ";", "<nl>", "rq", "-", ">", "active", "=", "rq", "-", ">", "arrays", ";", "<nl>", "rq", "-", ">", "expired", "=", "rq", "-", ">", "arrays", "+", "1", ";", "<nl>"], "docstring_tokens": ["PATCH", "lockdep", "annotate", "scheduler", "runqueue", "locks"]}
{"code_tokens": ["static", "void", "component", "_", "detach", "_", "master", "(", "struct", "master", "*", "master", ",", "struct", "component", "*", "c", ")", "<nl>", "c", "-", ">", "master", "=", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Add", "a", "component", "to", "a", "master", ",", "finding", "the", "component", "via", "the", "compare", "<nl>", "+", "*", "function", "and", "compare", "data", ".", "This", "is", "safe", "to", "call", "for", "duplicate", "matches", "<nl>", "+", "*", "and", "will", "not", "result", "in", "the", "same", "component", "being", "added", "multiple", "times", ".", "<nl>", "+", "*", "/", "<nl>", "int", "component", "_", "master", "_", "add", "_", "child", "(", "struct", "master", "*", "master", ",", "<nl>", "int", "(", "*", "compare", ")", "(", "struct", "device", "*", ",", "void", "*", ")", ",", "void", "*", "compare", "_", "data", ")", "<nl>", "{", "<nl>", "int", "component", "_", "master", "_", "add", "_", "child", "(", "struct", "master", "*", "master", ",", "<nl>", "int", "ret", "=", "-", "ENXIO", ";", "<nl>", "<nl>", "list", "_", "for", "_", "each", "_", "entry", "(", "c", ",", "&", "component", "_", "list", ",", "node", ")", "{", "<nl>", "-", "if", "(", "c", "-", ">", "master", ")", "<nl>", "+", "if", "(", "c", "-", ">", "master", "&", "&", "c", "-", ">", "master", "!", "=", "master", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "if", "(", "compare", "(", "c", "-", ">", "dev", ",", "compare", "_", "data", ")", ")", "{", "<nl>", "-", "component", "_", "attach", "_", "master", "(", "master", ",", "c", ")", ";", "<nl>", "+", "if", "(", "!", "c", "-", ">", "master", ")", "<nl>", "+", "component", "_", "attach", "_", "master", "(", "master", ",", "c", ")", ";", "<nl>", "ret", "=", "0", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["component", "ignore", "multiple", "additions", "of", "the", "same", "component"]}
{"code_tokens": ["void", "kvm", "_", "mmu", "_", "pte", "_", "write", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gpa", "_", "t", "gpa", ",", "<nl>", "unsigned", "pte", "_", "size", ";", "<nl>", "unsigned", "page", "_", "offset", ";", "<nl>", "unsigned", "misaligned", ";", "<nl>", "+", "unsigned", "quadrant", ";", "<nl>", "int", "level", ";", "<nl>", "int", "flooded", "=", "0", ";", "<nl>", "int", "npte", ";", "<nl>", "void", "kvm", "_", "mmu", "_", "pte", "_", "write", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "gpa", "_", "t", "gpa", ",", "<nl>", "page", "_", "offset", "<", "<", "=", "1", ";", "<nl>", "npte", "=", "2", ";", "<nl>", "}", "<nl>", "+", "quadrant", "=", "page", "_", "offset", ">", ">", "PAGE", "_", "SHIFT", ";", "<nl>", "page", "_", "offset", "&", "=", "~", "PAGE", "_", "MASK", ";", "<nl>", "+", "if", "(", "quadrant", "!", "=", "page", "-", ">", "role", ".", "quadrant", ")", "<nl>", "+", "continue", ";", "<nl>", "}", "<nl>", "spte", "=", "_", "_", "va", "(", "page", "-", ">", "page", "_", "hpa", ")", ";", "<nl>", "spte", "+", "=", "page", "_", "offset", "/", "sizeof", "(", "*", "spte", ")", ";", "<nl>"], "docstring_tokens": ["KVM", "MMU", "Respect", "nonpae", "pagetable", "quadrant", "when", "zapping", "ptes"]}
{"code_tokens": ["static", "void", "iwl", "_", "mvm", "_", "power", "_", "build", "_", "cmd", "(", "struct", "iwl", "_", "mvm", "*", "mvm", ",", "<nl>", "cmd", "-", ">", "flags", "|", "=", "cpu", "_", "to", "_", "le16", "(", "POWER", "_", "FLAGS", "_", "POWER", "_", "SAVE", "_", "ENA", "_", "MSK", ")", ";", "<nl>", "<nl>", "if", "(", "!", "vif", "-", ">", "bss", "_", "conf", ".", "ps", "|", "|", "iwl", "_", "mvm", "_", "vif", "_", "low", "_", "latency", "(", "mvmvif", ")", "|", "|", "<nl>", "-", "!", "mvmvif", "-", ">", "pm", "_", "enabled", "|", "|", "iwl", "_", "mvm", "_", "tdls", "_", "sta", "_", "count", "(", "mvm", ",", "vif", ")", ")", "<nl>", "+", "!", "mvmvif", "-", ">", "pm", "_", "enabled", ")", "<nl>", "return", ";", "<nl>", "<nl>", "cmd", "-", ">", "flags", "|", "=", "cpu", "_", "to", "_", "le16", "(", "POWER", "_", "FLAGS", "_", "POWER", "_", "MANAGEMENT", "_", "ENA", "_", "MSK", ")", ";", "<nl>", "static", "void", "iwl", "_", "mvm", "_", "power", "_", "set", "_", "pm", "(", "struct", "iwl", "_", "mvm", "*", "mvm", ",", "<nl>", "if", "(", "vifs", "-", ">", "ap", "_", "vif", ")", "<nl>", "ap", "_", "mvmvif", "=", "iwl", "_", "mvm", "_", "vif", "_", "from", "_", "mac80211", "(", "vifs", "-", ">", "ap", "_", "vif", ")", ";", "<nl>", "<nl>", "+", "/", "*", "don", "'", "t", "allow", "PM", "if", "any", "TDLS", "stations", "exist", "*", "/", "<nl>", "+", "if", "(", "iwl", "_", "mvm", "_", "tdls", "_", "sta", "_", "count", "(", "mvm", ",", "NULL", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "/", "*", "enable", "PM", "on", "bss", "if", "bss", "stand", "alone", "*", "/", "<nl>", "if", "(", "vifs", "-", ">", "bss", "_", "active", "&", "&", "!", "vifs", "-", ">", "p2p", "_", "active", "&", "&", "!", "vifs", "-", ">", "ap", "_", "active", ")", "{", "<nl>", "bss", "_", "mvmvif", "-", ">", "pm", "_", "enabled", "=", "true", ";", "<nl>"], "docstring_tokens": ["iwlwifi", "mvm", "reflect", "TDLS", "pm", "state", "in", "mvmvif", "pm_enabled"]}
{"code_tokens": ["int", "alloc", "_", "bulk", "_", "urbs", "_", "generic", "(", "struct", "urb", "*", "*", "urb", "_", "array", ",", "int", "num", ",", "<nl>", "int", "buf", "_", "size", ",", "gfp", "_", "t", "gfp", "_", "flags", ",", "<nl>", "usb", "_", "complete", "_", "t", "complete", "_", "fn", ",", "void", "*", "context", ")", "<nl>", "{", "<nl>", "-", "struct", "urb", "*", "urb", ";", "<nl>", "-", "void", "*", "mem", ";", "<nl>", "-", "int", "i", ";", "<nl>", "+", "int", "i", "=", "0", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "<nl>", "-", "urb", "=", "usb", "_", "alloc", "_", "urb", "(", "0", ",", "gfp", "_", "flags", ")", ";", "<nl>", "+", "for", "(", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "<nl>", "+", "void", "*", "mem", ";", "<nl>", "+", "struct", "urb", "*", "urb", "=", "usb", "_", "alloc", "_", "urb", "(", "0", ",", "gfp", "_", "flags", ")", ";", "<nl>", "if", "(", "urb", "=", "=", "NULL", ")", "<nl>", "return", "i", ";", "<nl>", "<nl>", "mem", "=", "usb", "_", "alloc", "_", "coherent", "(", "udev", ",", "buf", "_", "size", ",", "gfp", "_", "flags", ",", "<nl>", "&", "urb", "-", ">", "transfer", "_", "dma", ")", ";", "<nl>", "-", "if", "(", "mem", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "mem", "=", "=", "NULL", ")", "{", "<nl>", "+", "usb", "_", "free", "_", "urb", "(", "urb", ")", ";", "<nl>", "return", "i", ";", "<nl>", "+", "}", "<nl>", "<nl>", "usb", "_", "fill", "_", "bulk", "_", "urb", "(", "urb", ",", "udev", ",", "usb", "_", "rcvbulkpipe", "(", "udev", ",", "ep", "_", "addr", ")", ",", "<nl>", "mem", ",", "buf", "_", "size", ",", "complete", "_", "fn", ",", "context", ")", ";", "<nl>"], "docstring_tokens": ["media", "media", "tlg2300", "Fix", "memory", "leak", "in", "alloc_bulk_urbs_generic"]}
{"code_tokens": ["static", "struct", "hda", "_", "verb", "ad1988", "_", "spdif", "_", "init", "_", "verbs", "[", "]", "=", "{", "<nl>", "{", "}", "<nl>", "}", ";", "<nl>", "<nl>", "+", "static", "struct", "hda", "_", "verb", "ad1988", "_", "spdif", "_", "in", "_", "init", "_", "verbs", "[", "]", "=", "{", "<nl>", "+", "/", "*", "unmute", "SPDIF", "input", "pin", "*", "/", "<nl>", "+", "{", "0x1c", ",", "AC", "_", "VERB", "_", "SET", "_", "AMP", "_", "GAIN", "_", "MUTE", ",", "AMP", "_", "IN", "_", "UNMUTE", "(", "0", ")", "}", ",", "<nl>", "+", "{", "}", "<nl>", "+", "}", ";", "<nl>", "+", "<nl>", "/", "*", "AD1989", "has", "no", "ADC", "-", ">", "SPDIF", "route", "*", "/", "<nl>", "static", "struct", "hda", "_", "verb", "ad1989", "_", "spdif", "_", "init", "_", "verbs", "[", "]", "=", "{", "<nl>", "/", "*", "SPDIF", "-", "1", "out", "pin", "*", "/", "<nl>", "static", "int", "patch", "_", "ad1988", "(", "struct", "hda", "_", "codec", "*", "codec", ")", "<nl>", "ad1988", "_", "spdif", "_", "init", "_", "verbs", ";", "<nl>", "}", "<nl>", "}", "<nl>", "-", "if", "(", "spec", "-", ">", "dig", "_", "in", "_", "nid", "&", "&", "codec", "-", ">", "vendor", "_", "id", "<", "0x11d4989a", ")", "<nl>", "+", "if", "(", "spec", "-", ">", "dig", "_", "in", "_", "nid", "&", "&", "codec", "-", ">", "vendor", "_", "id", "<", "0x11d4989a", ")", "{", "<nl>", "spec", "-", ">", "mixers", "[", "spec", "-", ">", "num", "_", "mixers", "+", "+", "]", "=", "ad1988", "_", "spdif", "_", "in", "_", "mixers", ";", "<nl>", "+", "spec", "-", ">", "init", "_", "verbs", "[", "spec", "-", ">", "num", "_", "init", "_", "verbs", "+", "+", "]", "=", "<nl>", "+", "ad1988", "_", "spdif", "_", "in", "_", "init", "_", "verbs", ";", "<nl>", "+", "}", "<nl>", "<nl>", "codec", "-", ">", "patch", "_", "ops", "=", "ad198x", "_", "patch", "_", "ops", ";", "<nl>", "switch", "(", "board", "_", "config", ")", "{", "<nl>"], "docstring_tokens": ["ALSA", "hda", "AD1988", "codec", "fix", "SPDIF", "input", "mixer", "initialization", "unmute"]}
{"code_tokens": ["static", "u16", "bond", "_", "select", "_", "queue", "(", "struct", "net", "_", "device", "*", "dev", ",", "struct", "sk", "_", "buff", "*", "skb", ")", "<nl>", "{", "<nl>", "/", "*", "<nl>", "*", "This", "helper", "function", "exists", "to", "help", "dev", "_", "pick", "_", "tx", "get", "the", "correct", "<nl>", "-", "*", "destination", "queue", ".", "Using", "a", "helper", "function", "skips", "the", "a", "call", "to", "<nl>", "+", "*", "destination", "queue", ".", "Using", "a", "helper", "function", "skips", "a", "call", "to", "<nl>", "*", "skb", "_", "tx", "_", "hash", "and", "will", "put", "the", "skbs", "in", "the", "queue", "we", "expect", "on", "their", "<nl>", "*", "way", "down", "to", "the", "bonding", "driver", ".", "<nl>", "*", "/", "<nl>", "-", "return", "skb", "-", ">", "queue", "_", "mapping", ";", "<nl>", "+", "u16", "txq", "=", "skb", "_", "rx", "_", "queue", "_", "recorded", "(", "skb", ")", "?", "skb", "_", "get", "_", "rx", "_", "queue", "(", "skb", ")", ":", "0", ";", "<nl>", "+", "<nl>", "+", "if", "(", "unlikely", "(", "txq", ">", "=", "dev", "-", ">", "real", "_", "num", "_", "tx", "_", "queues", ")", ")", "{", "<nl>", "+", "do", "<nl>", "+", "txq", "-", "=", "dev", "-", ">", "real", "_", "num", "_", "tx", "_", "queues", ";", "<nl>", "+", "while", "(", "txq", ">", "=", "dev", "-", ">", "real", "_", "num", "_", "tx", "_", "queues", ")", ";", "<nl>", "+", "}", "<nl>", "+", "return", "txq", ";", "<nl>", "}", "<nl>", "<nl>", "static", "netdev", "_", "tx", "_", "t", "bond", "_", "start", "_", "xmit", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ")", "<nl>"], "docstring_tokens": ["bonding", "Incorrect", "TX", "queue", "offset"]}
{"code_tokens": ["static", "bool", "snd", "_", "soc", "_", "set", "_", "cache", "_", "val", "(", "void", "*", "base", ",", "unsigned", "int", "idx", ",", "<nl>", "static", "unsigned", "int", "snd", "_", "soc", "_", "get", "_", "cache", "_", "val", "(", "const", "void", "*", "base", ",", "unsigned", "int", "idx", ",", "<nl>", "unsigned", "int", "word", "_", "size", ")", "<nl>", "{", "<nl>", "+", "if", "(", "!", "base", ")", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "<nl>", "switch", "(", "word", "_", "size", ")", "{", "<nl>", "case", "1", ":", "{", "<nl>", "const", "u8", "*", "cache", "=", "base", ";", "<nl>"], "docstring_tokens": ["ASoC", "Check", "for", "NULL", "register", "bank", "in", "snd_soc_get_cache_val"]}
{"code_tokens": ["static", "int", "xgifb", "_", "probe", "(", "struct", "pci", "_", "dev", "*", "pdev", ",", "<nl>", "<nl>", "if", "(", "xgifb", "_", "info", "-", ">", "mode", "_", "idx", "<", "0", ")", "{", "<nl>", "dev", "_", "err", "(", "&", "pdev", "-", ">", "dev", ",", "\"", "No", "supported", "video", "mode", "found", "\\", "n", "\"", ")", ";", "<nl>", "+", "ret", "=", "-", "EINVAL", ";", "<nl>", "goto", "error", "_", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "xgifb", "Fix", "return", "of", "uninitialized", "variable"]}
{"code_tokens": ["static", "ssize", "_", "t", "synth", "_", "store", "(", "struct", "kobject", "*", "kobj", ",", "struct", "kobj", "_", "attribute", "*", "attr", ",", "<nl>", "len", "=", "strlen", "(", "buf", ")", ";", "<nl>", "if", "(", "len", "<", "2", "|", "|", "len", ">", "9", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "-", "strncpy", "(", "new", "_", "synth", "_", "name", ",", "buf", ",", "len", ")", ";", "<nl>", "+", "memcpy", "(", "new", "_", "synth", "_", "name", ",", "buf", ",", "len", ")", ";", "<nl>", "if", "(", "new", "_", "synth", "_", "name", "[", "len", "-", "1", "]", "=", "=", "'", "\\", "n", "'", ")", "<nl>", "len", "-", "-", ";", "<nl>", "new", "_", "synth", "_", "name", "[", "len", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "static", "ssize", "_", "t", "punc", "_", "store", "(", "struct", "kobject", "*", "kobj", ",", "struct", "kobj", "_", "attribute", "*", "attr", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "strncpy", "(", "punc", "_", "buf", ",", "buf", ",", "x", ")", ";", "<nl>", "+", "memcpy", "(", "punc", "_", "buf", ",", "buf", ",", "x", ")", ";", "<nl>", "<nl>", "while", "(", "x", "&", "&", "punc", "_", "buf", "[", "x", "-", "1", "]", "=", "=", "'", "\\", "n", "'", ")", "<nl>", "x", "-", "-", ";", "<nl>"], "docstring_tokens": ["staging", "speakup", "Replace", "strncpy", "with", "memcpy"]}
{"code_tokens": ["static", "int", "pwm", "_", "regulator", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "<nl>", "-", "*", "FIXME", ":", "pwm", "_", "apply", "_", "args", "(", ")", "should", "be", "removed", "when", "switching", "to", "the", "<nl>", "-", "*", "atomic", "PWM", "API", ".", "<nl>", "-", "*", "/", "<nl>", "-", "pwm", "_", "apply", "_", "args", "(", "drvdata", "-", ">", "pwm", ")", ";", "<nl>", "+", "ret", "=", "pwm", "_", "adjust", "_", "config", "(", "drvdata", "-", ">", "pwm", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "<nl>", "regulator", "=", "devm", "_", "regulator", "_", "register", "(", "&", "pdev", "-", ">", "dev", ",", "<nl>", "&", "drvdata", "-", ">", "desc", ",", "&", "config", ")", ";", "<nl>"], "docstring_tokens": ["regulator", "pwm", "Adjust", "PWM", "config", "at", "probe", "time"]}
{"code_tokens": ["int", "class", "_", "process", "_", "proc", "_", "param", "(", "char", "*", "prefix", ",", "struct", "lprocfs", "_", "vars", "*", "lvars", ",", "<nl>", "<nl>", "oldfs", "=", "get", "_", "fs", "(", ")", ";", "<nl>", "set", "_", "fs", "(", "KERNEL", "_", "DS", ")", ";", "<nl>", "-", "rc", "=", "var", "-", ">", "fops", "-", ">", "write", "(", "&", "fakefile", ",", "sval", ",", "<nl>", "+", "rc", "=", "var", "-", ">", "fops", "-", ">", "write", "(", "&", "fakefile", ",", "<nl>", "+", "(", "const", "char", "_", "_", "user", "*", ")", "sval", ",", "<nl>", "vallen", ",", "NULL", ")", ";", "<nl>", "set", "_", "fs", "(", "oldfs", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["staging", "lustre", "fix", "sparse", "warning", "about", "different", "address", "spaces"]}
{"code_tokens": ["int", "imx", "_", "drm", "_", "add", "_", "crtc", "(", "struct", "drm", "_", "crtc", "*", "crtc", ",", "<nl>", "<nl>", "mutex", "_", "lock", "(", "&", "imxdrm", "-", ">", "mutex", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "The", "vblank", "arrays", "are", "dimensioned", "by", "MAX", "_", "CRTC", "-", "we", "can", "'", "t", "<nl>", "+", "*", "pass", "IDs", "greater", "than", "this", "to", "those", "functions", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "imxdrm", "-", ">", "pipes", ">", "=", "MAX", "_", "CRTC", ")", "{", "<nl>", "+", "ret", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "err", "_", "busy", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "imxdrm", "-", ">", "drm", "-", ">", "open", "_", "count", ")", "{", "<nl>", "ret", "=", "-", "EBUSY", ";", "<nl>", "goto", "err", "_", "busy", ";", "<nl>"], "docstring_tokens": ["imx", "drm", "imx", "drm", "core", "improve", "safety", "of", "imx_drm_add_crtc"]}
{"code_tokens": ["static", "int", "pvr2", "_", "v4l2", "_", "do", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ",", "<nl>", "ret", "=", "0", ";", "<nl>", "switch", "(", "vf", "-", ">", "type", ")", "{", "<nl>", "case", "V4L2", "_", "BUF", "_", "TYPE", "_", "VIDEO", "_", "CAPTURE", ":", "{", "<nl>", "-", "int", "lmin", ",", "lmax", ";", "<nl>", "+", "int", "lmin", ",", "lmax", ",", "ldef", ";", "<nl>", "struct", "pvr2", "_", "ctrl", "*", "hcp", ",", "*", "vcp", ";", "<nl>", "int", "h", "=", "vf", "-", ">", "fmt", ".", "pix", ".", "height", ";", "<nl>", "int", "w", "=", "vf", "-", ">", "fmt", ".", "pix", ".", "width", ";", "<nl>", "static", "int", "pvr2", "_", "v4l2", "_", "do", "_", "ioctl", "(", "struct", "inode", "*", "inode", ",", "struct", "file", "*", "file", ",", "<nl>", "<nl>", "lmin", "=", "pvr2", "_", "ctrl", "_", "get", "_", "min", "(", "hcp", ")", ";", "<nl>", "lmax", "=", "pvr2", "_", "ctrl", "_", "get", "_", "max", "(", "hcp", ")", ";", "<nl>", "-", "if", "(", "w", "<", "lmin", ")", "{", "<nl>", "+", "ldef", "=", "pvr2", "_", "ctrl", "_", "get", "_", "def", "(", "hcp", ")", ";", "<nl>", "+", "if", "(", "w", "=", "=", "-", "1", ")", "{", "<nl>", "+", "w", "=", "ldef", ";", "<nl>", "+", "}", "else", "if", "(", "w", "<", "lmin", ")", "{", "<nl>", "w", "=", "lmin", ";", "<nl>", "}", "else", "if", "(", "w", ">", "lmax", ")", "{", "<nl>", "w", "=", "lmax", ";", "<nl>", "}", "<nl>", "lmin", "=", "pvr2", "_", "ctrl", "_", "get", "_", "min", "(", "vcp", ")", ";", "<nl>", "lmax", "=", "pvr2", "_", "ctrl", "_", "get", "_", "max", "(", "vcp", ")", ";", "<nl>", "-", "if", "(", "h", "<", "lmin", ")", "{", "<nl>", "+", "ldef", "=", "pvr2", "_", "ctrl", "_", "get", "_", "def", "(", "vcp", ")", ";", "<nl>", "+", "if", "(", "h", "=", "=", "-", "1", ")", "{", "<nl>", "+", "h", "=", "ldef", ";", "<nl>", "+", "}", "else", "if", "(", "h", "<", "lmin", ")", "{", "<nl>", "h", "=", "lmin", ";", "<nl>", "}", "else", "if", "(", "h", ">", "lmax", ")", "{", "<nl>", "h", "=", "lmax", ";", "<nl>"], "docstring_tokens": ["V4L", "DVB", "5095", "Pvrusb2", "Allow", "VIDIOC_S_FMT", "with", "1", "for", "resolution", "values"]}
{"code_tokens": ["static", "inline", "int", "copy", "_", "linear", "_", "skb", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "int", "len", ",", "int", "off", ",", "<nl>", "{", "<nl>", "int", "n", ",", "copy", "=", "len", "-", "off", ";", "<nl>", "<nl>", "+", "if", "(", "copy", "<", "0", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "n", "=", "copy", "_", "to", "_", "iter", "(", "skb", "-", ">", "data", "+", "off", ",", "copy", ",", "to", ")", ";", "<nl>", "if", "(", "n", "=", "=", "copy", ")", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["udp", "harden", "copy_linear_skb"]}
{"code_tokens": ["static", "int", "mb86s70", "_", "gpio", "_", "request", "(", "struct", "gpio", "_", "chip", "*", "gc", ",", "unsigned", "gpio", ")", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "gchip", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "<nl>", "val", "=", "readl", "(", "gchip", "-", ">", "base", "+", "PFR", "(", "gpio", ")", ")", ";", "<nl>", "+", "if", "(", "!", "(", "val", "&", "OFFSET", "(", "gpio", ")", ")", ")", "{", "<nl>", "+", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "gchip", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "val", "&", "=", "~", "OFFSET", "(", "gpio", ")", ";", "<nl>", "writel", "(", "val", ",", "gchip", "-", ">", "base", "+", "PFR", "(", "gpio", ")", ")", ";", "<nl>"], "docstring_tokens": ["gpio", "mb86s70", "Return", "error", "if", "requesting", "an", "already", "assigned", "gpio"]}
{"code_tokens": ["static", "int", "fuse", "_", "fill", "_", "super", "(", "struct", "super", "_", "block", "*", "sb", ",", "void", "*", "data", ",", "int", "silent", ")", "<nl>", "err", "_", "put", "_", "root", ":", "<nl>", "dput", "(", "root", "_", "dentry", ")", ";", "<nl>", "err", "_", "put", "_", "conn", ":", "<nl>", "+", "bdi", "_", "destroy", "(", "&", "fc", "-", ">", "bdi", ")", ";", "<nl>", "fuse", "_", "conn", "_", "put", "(", "fc", ")", ";", "<nl>", "err", "_", "fput", ":", "<nl>", "fput", "(", "file", ")", ";", "<nl>"], "docstring_tokens": ["fuse", "destroy", "bdi", "on", "error"]}
{"code_tokens": ["int", "snd", "_", "ctl", "_", "add", "(", "struct", "snd", "_", "card", "*", "card", ",", "struct", "snd", "_", "kcontrol", "*", "kcontrol", ")", "<nl>", "{", "<nl>", "struct", "snd", "_", "ctl", "_", "elem", "_", "id", "id", ";", "<nl>", "unsigned", "int", "idx", ";", "<nl>", "+", "unsigned", "int", "count", ";", "<nl>", "int", "err", "=", "-", "EINVAL", ";", "<nl>", "<nl>", "if", "(", "!", "kcontrol", ")", "<nl>", "int", "snd", "_", "ctl", "_", "add", "(", "struct", "snd", "_", "card", "*", "card", ",", "struct", "snd", "_", "kcontrol", "*", "kcontrol", ")", "<nl>", "card", "-", ">", "controls", "_", "count", "+", "=", "kcontrol", "-", ">", "count", ";", "<nl>", "kcontrol", "-", ">", "id", ".", "numid", "=", "card", "-", ">", "last", "_", "numid", "+", "1", ";", "<nl>", "card", "-", ">", "last", "_", "numid", "+", "=", "kcontrol", "-", ">", "count", ";", "<nl>", "+", "count", "=", "kcontrol", "-", ">", "count", ";", "<nl>", "up", "_", "write", "(", "&", "card", "-", ">", "controls", "_", "rwsem", ")", ";", "<nl>", "-", "for", "(", "idx", "=", "0", ";", "idx", "<", "kcontrol", "-", ">", "count", ";", "idx", "+", "+", ",", "id", ".", "index", "+", "+", ",", "id", ".", "numid", "+", "+", ")", "<nl>", "+", "for", "(", "idx", "=", "0", ";", "idx", "<", "count", ";", "idx", "+", "+", ",", "id", ".", "index", "+", "+", ",", "id", ".", "numid", "+", "+", ")", "<nl>", "snd", "_", "ctl", "_", "notify", "(", "card", ",", "SNDRV", "_", "CTL", "_", "EVENT", "_", "MASK", "_", "ADD", ",", "&", "id", ")", ";", "<nl>", "return", "0", ";", "<nl>", "<nl>", "int", "snd", "_", "ctl", "_", "replace", "(", "struct", "snd", "_", "card", "*", "card", ",", "struct", "snd", "_", "kcontrol", "*", "kcontrol", ",", "<nl>", "bool", "add", "_", "on", "_", "replace", ")", "<nl>", "{", "<nl>", "struct", "snd", "_", "ctl", "_", "elem", "_", "id", "id", ";", "<nl>", "+", "unsigned", "int", "count", ";", "<nl>", "unsigned", "int", "idx", ";", "<nl>", "struct", "snd", "_", "kcontrol", "*", "old", ";", "<nl>", "int", "ret", ";", "<nl>", "int", "snd", "_", "ctl", "_", "replace", "(", "struct", "snd", "_", "card", "*", "card", ",", "struct", "snd", "_", "kcontrol", "*", "kcontrol", ",", "<nl>", "card", "-", ">", "controls", "_", "count", "+", "=", "kcontrol", "-", ">", "count", ";", "<nl>", "kcontrol", "-", ">", "id", ".", "numid", "=", "card", "-", ">", "last", "_", "numid", "+", "1", ";", "<nl>", "card", "-", ">", "last", "_", "numid", "+", "=", "kcontrol", "-", ">", "count", ";", "<nl>", "+", "count", "=", "kcontrol", "-", ">", "count", ";", "<nl>", "up", "_", "write", "(", "&", "card", "-", ">", "controls", "_", "rwsem", ")", ";", "<nl>", "-", "for", "(", "idx", "=", "0", ";", "idx", "<", "kcontrol", "-", ">", "count", ";", "idx", "+", "+", ",", "id", ".", "index", "+", "+", ",", "id", ".", "numid", "+", "+", ")", "<nl>", "+", "for", "(", "idx", "=", "0", ";", "idx", "<", "count", ";", "idx", "+", "+", ",", "id", ".", "index", "+", "+", ",", "id", ".", "numid", "+", "+", ")", "<nl>", "snd", "_", "ctl", "_", "notify", "(", "card", ",", "SNDRV", "_", "CTL", "_", "EVENT", "_", "MASK", "_", "ADD", ",", "&", "id", ")", ";", "<nl>", "return", "0", ";", "<nl>", "<nl>", "static", "int", "snd", "_", "ctl", "_", "elem", "_", "write", "(", "struct", "snd", "_", "card", "*", "card", ",", "struct", "snd", "_", "ctl", "_", "file", "*", "file", ",", "<nl>", "result", "=", "kctl", "-", ">", "put", "(", "kctl", ",", "control", ")", ";", "<nl>", "}", "<nl>", "if", "(", "result", ">", "0", ")", "{", "<nl>", "+", "struct", "snd", "_", "ctl", "_", "elem", "_", "id", "id", "=", "control", "-", ">", "id", ";", "<nl>", "up", "_", "read", "(", "&", "card", "-", ">", "controls", "_", "rwsem", ")", ";", "<nl>", "-", "snd", "_", "ctl", "_", "notify", "(", "card", ",", "SNDRV", "_", "CTL", "_", "EVENT", "_", "MASK", "_", "VALUE", ",", "<nl>", "-", "&", "control", "-", ">", "id", ")", ";", "<nl>", "+", "snd", "_", "ctl", "_", "notify", "(", "card", ",", "SNDRV", "_", "CTL", "_", "EVENT", "_", "MASK", "_", "VALUE", ",", "&", "id", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "int", "snd", "_", "ctl", "_", "tlv", "_", "ioctl", "(", "struct", "snd", "_", "ctl", "_", "file", "*", "file", ",", "<nl>", "}", "<nl>", "err", "=", "kctl", "-", ">", "tlv", ".", "c", "(", "kctl", ",", "op", "_", "flag", ",", "tlv", ".", "length", ",", "_", "tlv", "-", ">", "tlv", ")", ";", "<nl>", "if", "(", "err", ">", "0", ")", "{", "<nl>", "+", "struct", "snd", "_", "ctl", "_", "elem", "_", "id", "id", "=", "kctl", "-", ">", "id", ";", "<nl>", "up", "_", "read", "(", "&", "card", "-", ">", "controls", "_", "rwsem", ")", ";", "<nl>", "-", "snd", "_", "ctl", "_", "notify", "(", "card", ",", "SNDRV", "_", "CTL", "_", "EVENT", "_", "MASK", "_", "TLV", ",", "&", "kctl", "-", ">", "id", ")", ";", "<nl>", "+", "snd", "_", "ctl", "_", "notify", "(", "card", ",", "SNDRV", "_", "CTL", "_", "EVENT", "_", "MASK", "_", "TLV", ",", "&", "id", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["ALSA", "control", "Don", "t", "access", "controls", "outside", "of", "protected", "regions"]}
{"code_tokens": ["static", "int", "mpls", "_", "dev", "_", "sysctl", "_", "register", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "free", ":", "<nl>", "kfree", "(", "table", ")", ";", "<nl>", "out", ":", "<nl>", "+", "mdev", "-", ">", "sysctl", "=", "NULL", ";", "<nl>", "return", "-", "ENOBUFS", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "mpls", "_", "dev", "_", "sysctl", "_", "unregister", "(", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "struct", "net", "*", "net", "=", "dev", "_", "net", "(", "dev", ")", ";", "<nl>", "struct", "ctl", "_", "table", "*", "table", ";", "<nl>", "<nl>", "+", "if", "(", "!", "mdev", "-", ">", "sysctl", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "table", "=", "mdev", "-", ">", "sysctl", "-", ">", "ctl", "_", "table", "_", "arg", ";", "<nl>", "unregister", "_", "net", "_", "sysctl", "_", "table", "(", "mdev", "-", ">", "sysctl", ")", ";", "<nl>", "kfree", "(", "table", ")", ";", "<nl>"], "docstring_tokens": ["net", "mpls", "fix", "stale", "pointer", "if", "allocation", "fails", "during", "device", "rename"]}
{"code_tokens": ["unsigned", "int", "<nl>", "nft", "_", "do", "_", "chain", "(", "struct", "nft", "_", "pktinfo", "*", "pkt", ",", "const", "struct", "nf", "_", "hook", "_", "ops", "*", "ops", ")", "<nl>", "{", "<nl>", "const", "struct", "nft", "_", "chain", "*", "chain", "=", "ops", "-", ">", "priv", ",", "*", "basechain", "=", "chain", ";", "<nl>", "-", "const", "struct", "net", "*", "net", "=", "read", "_", "pnet", "(", "&", "nft", "_", "base", "_", "chain", "(", "basechain", ")", "-", ">", "pnet", ")", ";", "<nl>", "+", "const", "struct", "net", "*", "chain", "_", "net", "=", "read", "_", "pnet", "(", "&", "nft", "_", "base", "_", "chain", "(", "basechain", ")", "-", ">", "pnet", ")", ";", "<nl>", "+", "const", "struct", "net", "*", "net", "=", "dev", "_", "net", "(", "pkt", "-", ">", "in", "?", "pkt", "-", ">", "in", ":", "pkt", "-", ">", "out", ")", ";", "<nl>", "const", "struct", "nft", "_", "rule", "*", "rule", ";", "<nl>", "const", "struct", "nft", "_", "expr", "*", "expr", ",", "*", "last", ";", "<nl>", "struct", "nft", "_", "regs", "regs", ";", "<nl>", "nft", "_", "do", "_", "chain", "(", "struct", "nft", "_", "pktinfo", "*", "pkt", ",", "const", "struct", "nf", "_", "hook", "_", "ops", "*", "ops", ")", "<nl>", "int", "rulenum", ";", "<nl>", "unsigned", "int", "gencursor", "=", "nft", "_", "genmask", "_", "cur", "(", "net", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Ignore", "chains", "that", "are", "not", "for", "the", "current", "network", "namespace", "*", "/", "<nl>", "+", "if", "(", "!", "net", "_", "eq", "(", "net", ",", "chain", "_", "net", ")", ")", "<nl>", "+", "return", "NF", "_", "ACCEPT", ";", "<nl>", "+", "<nl>", "do", "_", "chain", ":", "<nl>", "rulenum", "=", "0", ";", "<nl>", "rule", "=", "list", "_", "entry", "(", "&", "chain", "-", ">", "rules", ",", "struct", "nft", "_", "rule", ",", "list", ")", ";", "<nl>"], "docstring_tokens": ["netfilter", "nftables", "Do", "not", "run", "chains", "in", "the", "wrong", "network", "namespace"]}
{"code_tokens": ["struct", "rxrpc", "_", "connection", "*", "rxrpc", "_", "find", "_", "service", "_", "conn", "_", "rcu", "(", "struct", "rxrpc", "_", "peer", "*", "peer", ",", "<nl>", "else", "if", "(", "conn", "-", ">", "proto", ".", "index", "_", "key", ">", "k", ".", "index", "_", "key", ")", "<nl>", "p", "=", "rcu", "_", "dereference", "_", "raw", "(", "p", "-", ">", "rb", "_", "right", ")", ";", "<nl>", "else", "<nl>", "-", "goto", "done", ";", "<nl>", "+", "break", ";", "<nl>", "conn", "=", "NULL", ";", "<nl>", "}", "<nl>", "}", "while", "(", "need", "_", "seqretry", "(", "&", "peer", "-", ">", "service", "_", "conn", "_", "lock", ",", "seq", ")", ")", ";", "<nl>", "<nl>", "-", "done", ":", "<nl>", "done", "_", "seqretry", "(", "&", "peer", "-", ">", "service", "_", "conn", "_", "lock", ",", "seq", ")", ";", "<nl>", "_", "leave", "(", "\"", "=", "%", "d", "\"", ",", "conn", "?", "conn", "-", ">", "debug", "_", "id", ":", "-", "1", ")", ";", "<nl>", "return", "conn", ";", "<nl>"], "docstring_tokens": ["rxrpc", "Make", "service", "connection", "lookup", "always", "check", "for", "retry"]}
{"code_tokens": ["struct", "ath6kl", "_", "sdio", "{", "<nl>", "#", "define", "CMD53", "_", "ARG", "_", "FIXED", "_", "ADDRESS", "0", "<nl>", "#", "define", "CMD53", "_", "ARG", "_", "INCR", "_", "ADDRESS", "1", "<nl>", "<nl>", "+", "static", "int", "ath6kl", "_", "sdio", "_", "config", "(", "struct", "ath6kl", "*", "ar", ")", ";", "<nl>", "+", "<nl>", "static", "inline", "struct", "ath6kl", "_", "sdio", "*", "ath6kl", "_", "sdio", "_", "priv", "(", "struct", "ath6kl", "*", "ar", ")", "<nl>", "{", "<nl>", "return", "ar", "-", ">", "hif", "_", "priv", ";", "<nl>", "static", "int", "ath6kl", "_", "sdio", "_", "power", "_", "on", "(", "struct", "ath6kl", "*", "ar", ")", "<nl>", "*", "/", "<nl>", "msleep", "(", "10", ")", ";", "<nl>", "<nl>", "+", "ret", "=", "ath6kl", "_", "sdio", "_", "config", "(", "ar", ")", ";", "<nl>", "+", "if", "(", "ret", ")", "{", "<nl>", "+", "ath6kl", "_", "err", "(", "\"", "Failed", "to", "config", "sdio", ":", "%", "d", "\\", "n", "\"", ",", "ret", ")", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "ar", "_", "sdio", "-", ">", "is", "_", "disabled", "=", "false", ";", "<nl>", "<nl>", "+", "out", ":", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ath6kl", "configure", "SDIO", "when", "power", "is", "reapplied"]}
{"code_tokens": ["static", "struct", "sock", "*", "sctp", "_", "v6", "_", "create", "_", "accept", "_", "sk", "(", "struct", "sock", "*", "sk", ",", "<nl>", "newnp", "=", "inet6", "_", "sk", "(", "newsk", ")", ";", "<nl>", "<nl>", "memcpy", "(", "newnp", ",", "np", ",", "sizeof", "(", "struct", "ipv6", "_", "pinfo", ")", ")", ";", "<nl>", "+", "newnp", "-", ">", "ipv6", "_", "mc", "_", "list", "=", "NULL", ";", "<nl>", "+", "newnp", "-", ">", "ipv6", "_", "ac", "_", "list", "=", "NULL", ";", "<nl>", "+", "newnp", "-", ">", "ipv6", "_", "fl", "_", "list", "=", "NULL", ";", "<nl>", "<nl>", "rcu", "_", "read", "_", "lock", "(", ")", ";", "<nl>", "opt", "=", "rcu", "_", "dereference", "(", "np", "-", ">", "opt", ")", ";", "<nl>"], "docstring_tokens": ["sctp", "do", "not", "inherit", "ipv6_", "mc", "ac", "fl", "_list", "from", "parent"]}
{"code_tokens": ["int", "radeon", "_", "cs", "_", "parser", "_", "init", "(", "struct", "radeon", "_", "cs", "_", "parser", "*", "p", ",", "void", "*", "data", ")", "<nl>", "cdata", "=", "(", "uint32", "_", "t", "*", ")", "(", "unsigned", "long", ")", "user", "_", "chunk", ".", "chunk", "_", "data", ";", "<nl>", "<nl>", "size", "=", "p", "-", ">", "chunks", "[", "i", "]", ".", "length", "_", "dw", "*", "sizeof", "(", "uint32", "_", "t", ")", ";", "<nl>", "-", "p", "-", ">", "chunks", "[", "i", "]", ".", "kdata", "=", "kzalloc", "(", "size", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "p", "-", ">", "chunks", "[", "i", "]", ".", "kdata", "=", "kmalloc", "(", "size", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "p", "-", ">", "chunks", "[", "i", "]", ".", "kdata", "=", "=", "NULL", ")", "{", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["drm", "radeon", "kms", "Don", "t", "kzalloc", "memory", "which", "is", "immediately", "overwritten"]}
{"code_tokens": ["static", "const", "int", "multicast", "_", "filter", "_", "limit", "=", "32", ";", "<nl>", "#", "define", "RX", "_", "DMA", "_", "BURST", "6", "/", "*", "Maximum", "PCI", "burst", ",", "'", "6", "'", "is", "1024", "*", "/", "<nl>", "#", "define", "TX", "_", "DMA", "_", "BURST", "6", "/", "*", "Maximum", "PCI", "burst", ",", "'", "6", "'", "is", "1024", "*", "/", "<nl>", "#", "define", "EarlyTxThld", "0x3F", "/", "*", "0x3F", "means", "NO", "early", "transmit", "*", "/", "<nl>", "-", "#", "define", "RxPacketMaxSize", "0x3FE8", "/", "*", "16K", "-", "1", "-", "ETH", "_", "HLEN", "-", "VLAN", "-", "CRC", ".", ".", ".", "*", "/", "<nl>", "#", "define", "SafeMtu", "0x1c20", "/", "*", ".", ".", ".", "actually", "life", "sucks", "beyond", "~", "7k", "*", "/", "<nl>", "#", "define", "InterFrameGap", "0x03", "/", "*", "3", "means", "InterFrameGap", "=", "the", "shortest", "one", "*", "/", "<nl>", "<nl>", "static", "u16", "rtl", "_", "rw", "_", "cpluscmd", "(", "void", "_", "_", "iomem", "*", "ioaddr", ")", "<nl>", "return", "cmd", ";", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "rtl", "_", "set", "_", "rx", "_", "max", "_", "size", "(", "void", "_", "_", "iomem", "*", "ioaddr", ")", "<nl>", "+", "static", "void", "rtl", "_", "set", "_", "rx", "_", "max", "_", "size", "(", "void", "_", "_", "iomem", "*", "ioaddr", ",", "unsigned", "int", "rx", "_", "buf", "_", "sz", ")", "<nl>", "{", "<nl>", "/", "*", "Low", "hurts", ".", "Let", "'", "s", "disable", "the", "filtering", ".", "*", "/", "<nl>", "-", "RTL", "_", "W16", "(", "RxMaxSize", ",", "16383", ")", ";", "<nl>", "+", "RTL", "_", "W16", "(", "RxMaxSize", ",", "rx", "_", "buf", "_", "sz", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "rtl8169", "_", "set", "_", "magic", "_", "reg", "(", "void", "_", "_", "iomem", "*", "ioaddr", ",", "unsigned", "mac", "_", "version", ")", "<nl>", "static", "void", "rtl", "_", "hw", "_", "start", "_", "8169", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "<nl>", "RTL", "_", "W8", "(", "EarlyTxThres", ",", "EarlyTxThld", ")", ";", "<nl>", "<nl>", "-", "rtl", "_", "set", "_", "rx", "_", "max", "_", "size", "(", "ioaddr", ")", ";", "<nl>", "+", "rtl", "_", "set", "_", "rx", "_", "max", "_", "size", "(", "ioaddr", ",", "tp", "-", ">", "rx", "_", "buf", "_", "sz", ")", ";", "<nl>", "<nl>", "if", "(", "(", "tp", "-", ">", "mac", "_", "version", "=", "=", "RTL", "_", "GIGA", "_", "MAC", "_", "VER", "_", "01", ")", "|", "|", "<nl>", "(", "tp", "-", ">", "mac", "_", "version", "=", "=", "RTL", "_", "GIGA", "_", "MAC", "_", "VER", "_", "02", ")", "|", "|", "<nl>", "static", "void", "rtl", "_", "hw", "_", "start", "_", "8168", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "<nl>", "RTL", "_", "W8", "(", "EarlyTxThres", ",", "EarlyTxThld", ")", ";", "<nl>", "<nl>", "-", "rtl", "_", "set", "_", "rx", "_", "max", "_", "size", "(", "ioaddr", ")", ";", "<nl>", "+", "rtl", "_", "set", "_", "rx", "_", "max", "_", "size", "(", "ioaddr", ",", "tp", "-", ">", "rx", "_", "buf", "_", "sz", ")", ";", "<nl>", "<nl>", "tp", "-", ">", "cp", "_", "cmd", "|", "=", "RTL", "_", "R16", "(", "CPlusCmd", ")", "|", "PktCntrDisable", "|", "INTT", "_", "1", ";", "<nl>", "<nl>", "static", "void", "rtl", "_", "hw", "_", "start", "_", "8101", "(", "struct", "net", "_", "device", "*", "dev", ")", "<nl>", "<nl>", "RTL", "_", "W8", "(", "EarlyTxThres", ",", "EarlyTxThld", ")", ";", "<nl>", "<nl>", "-", "rtl", "_", "set", "_", "rx", "_", "max", "_", "size", "(", "ioaddr", ")", ";", "<nl>", "+", "rtl", "_", "set", "_", "rx", "_", "max", "_", "size", "(", "ioaddr", ",", "tp", "-", ">", "rx", "_", "buf", "_", "sz", ")", ";", "<nl>", "<nl>", "tp", "-", ">", "cp", "_", "cmd", "|", "=", "rtl", "_", "rw", "_", "cpluscmd", "(", "ioaddr", ")", "|", "PCIMulRW", ";", "<nl>"], "docstring_tokens": ["r8169", "fix", "crash", "when", "large", "packets", "are", "received"]}
{"code_tokens": ["bool", "kvm", "_", "vgic", "_", "map", "_", "is", "_", "active", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "struct", "irq", "_", "phys", "_", "map", "*", "map", ")", "<nl>", "return", "true", ";", "<nl>", "}", "<nl>", "<nl>", "-", "return", "dist", "_", "active", "_", "irq", "(", "vcpu", ")", ";", "<nl>", "+", "return", "vgic", "_", "irq", "_", "is", "_", "active", "(", "vcpu", ",", "map", "-", ">", "virt", "_", "irq", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["KVM", "arm", "arm64", "vgic", "Fix", "kvm_vgic_map_is_active", "s", "dist", "check"]}
{"code_tokens": ["int", "tcp", "_", "rcv", "_", "state", "_", "process", "(", "struct", "sock", "*", "sk", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "goto", "discard", ";", "<nl>", "<nl>", "if", "(", "th", "-", ">", "syn", ")", "{", "<nl>", "+", "if", "(", "th", "-", ">", "fin", ")", "<nl>", "+", "goto", "discard", ";", "<nl>", "if", "(", "icsk", "-", ">", "icsk", "_", "af", "_", "ops", "-", ">", "conn", "_", "request", "(", "sk", ",", "skb", ")", "<", "0", ")", "<nl>", "return", "1", ";", "<nl>"], "docstring_tokens": ["tcp", "drop", "SYN", "FIN", "messages"]}
{"code_tokens": ["acpi", "_", "ev", "_", "gpe", "_", "dispatch", "(", "struct", "acpi", "_", "gpe", "_", "event", "_", "info", "*", "gpe", "_", "event", "_", "info", ",", "u32", "gpe", "_", "number", ")", "<nl>", "<nl>", "ACPI", "_", "FUNCTION", "_", "TRACE", "(", "ev", "_", "gpe", "_", "dispatch", ")", ";", "<nl>", "<nl>", "+", "acpi", "_", "gpe", "_", "count", "+", "+", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "If", "edge", "-", "triggered", ",", "clear", "the", "GPE", "status", "bit", "now", ".", "Note", "that", "<nl>", "*", "level", "-", "triggered", "events", "are", "cleared", "after", "the", "GPE", "is", "serviced", ".", "mmm", "include", "/", "acpi", "/", "acglobal", ".", "h", "<nl>", "acpi", "_", "ev", "_", "gpe", "_", "dispatch", "(", "struct", "acpi", "_", "gpe", "_", "event", "_", "info", "*", "gpe", "_", "event", "_", "info", ",", "u32", "gpe", "_", "number", ")", "<nl>", "<nl>", "ACPI", "_", "FUNCTION", "_", "TRACE", "(", "ev", "_", "gpe", "_", "dispatch", ")", ";", "<nl>", "<nl>", "+", "acpi", "_", "gpe", "_", "count", "+", "+", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "If", "edge", "-", "triggered", ",", "clear", "the", "GPE", "status", "bit", "now", ".", "Note", "that", "<nl>", "*", "level", "-", "triggered", "events", "are", "cleared", "after", "the", "GPE", "is", "serviced", ".", "<nl>", "extern", "u32", "acpi", "_", "dbg", "_", "layer", ";", "<nl>", "<nl>", "extern", "u32", "acpi", "_", "gbl", "_", "nesting", "_", "level", ";", "<nl>", "<nl>", "+", "/", "*", "Event", "counters", "*", "/", "<nl>", "+", "<nl>", "+", "ACPI", "_", "EXTERN", "u32", "acpi", "_", "gpe", "_", "count", ";", "<nl>", "+", "<nl>", "/", "*", "Support", "for", "dynamic", "control", "method", "tracing", "mechanism", "*", "/", "<nl>", "<nl>", "ACPI", "_", "EXTERN", "u32", "acpi", "_", "gbl", "_", "original", "_", "dbg", "_", "level", ";", "mmm", "drivers", "/", "acpi", "/", "utilities", "/", "utglobal", ".", "c", "<nl>", "acpi", "_", "ev", "_", "gpe", "_", "dispatch", "(", "struct", "acpi", "_", "gpe", "_", "event", "_", "info", "*", "gpe", "_", "event", "_", "info", ",", "u32", "gpe", "_", "number", ")", "<nl>", "<nl>", "ACPI", "_", "FUNCTION", "_", "TRACE", "(", "ev", "_", "gpe", "_", "dispatch", ")", ";", "<nl>", "<nl>", "+", "acpi", "_", "gpe", "_", "count", "+", "+", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "If", "edge", "-", "triggered", ",", "clear", "the", "GPE", "status", "bit", "now", ".", "Note", "that", "<nl>", "*", "level", "-", "triggered", "events", "are", "cleared", "after", "the", "GPE", "is", "serviced", ".", "<nl>", "extern", "u32", "acpi", "_", "dbg", "_", "layer", ";", "<nl>", "<nl>", "extern", "u32", "acpi", "_", "gbl", "_", "nesting", "_", "level", ";", "<nl>", "<nl>", "+", "/", "*", "Event", "counters", "*", "/", "<nl>", "+", "<nl>", "+", "ACPI", "_", "EXTERN", "u32", "acpi", "_", "gpe", "_", "count", ";", "<nl>", "+", "<nl>", "/", "*", "Support", "for", "dynamic", "control", "method", "tracing", "mechanism", "*", "/", "<nl>", "<nl>", "ACPI", "_", "EXTERN", "u32", "acpi", "_", "gbl", "_", "original", "_", "dbg", "_", "level", ";", "<nl>", "void", "acpi", "_", "ut", "_", "init", "_", "globals", "(", "void", ")", "<nl>", "<nl>", "/", "*", "GPE", "support", "*", "/", "<nl>", "<nl>", "+", "acpi", "_", "gpe", "_", "count", "=", "0", ";", "<nl>", "acpi", "_", "gbl", "_", "gpe", "_", "xrupt", "_", "list", "_", "head", "=", "NULL", ";", "<nl>", "acpi", "_", "gbl", "_", "gpe", "_", "fadt", "_", "blocks", "[", "0", "]", "=", "NULL", ";", "<nl>", "acpi", "_", "gbl", "_", "gpe", "_", "fadt", "_", "blocks", "[", "1", "]", "=", "NULL", ";", "<nl>", "void", "acpi", "_", "ut", "_", "init", "_", "globals", "(", "void", ")", "<nl>", "<nl>", "ACPI", "_", "EXPORT", "_", "SYMBOL", "(", "acpi", "_", "dbg", "_", "level", ")", "<nl>", "ACPI", "_", "EXPORT", "_", "SYMBOL", "(", "acpi", "_", "dbg", "_", "layer", ")", "<nl>", "+", "ACPI", "_", "EXPORT", "_", "SYMBOL", "(", "acpi", "_", "gpe", "_", "count", ")", "<nl>"], "docstring_tokens": ["ACPICA", "Add", "acpi_gpe_count", "global", "to", "track", "the", "number", "of", "GPE", "events"]}
{"code_tokens": ["nft", "_", "do", "_", "chain", "_", "netdev", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "netdev", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "NETDEV", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "NETDEV", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "flags", "=", "NFT", "_", "AF", "_", "NEEDS", "_", "DEV", ",", "<nl>", "}", ";", "mmm", "net", "/", "netfilter", "/", "nf", "_", "tables", "_", "inet", ".", "c", "<nl>", "nft", "_", "do", "_", "chain", "_", "netdev", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "netdev", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "NETDEV", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "NETDEV", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "flags", "=", "NFT", "_", "AF", "_", "NEEDS", "_", "DEV", ",", "<nl>", "}", ";", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "inet", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "inet", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "INET", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "nft", "_", "do", "_", "chain", "_", "netdev", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "netdev", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "NETDEV", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "NETDEV", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "flags", "=", "NFT", "_", "AF", "_", "NEEDS", "_", "DEV", ",", "<nl>", "}", ";", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "inet", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "inet", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "INET", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv6", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv6", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV6", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "nft", "_", "do", "_", "chain", "_", "netdev", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "netdev", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "NETDEV", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "NETDEV", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "flags", "=", "NFT", "_", "AF", "_", "NEEDS", "_", "DEV", ",", "<nl>", "}", ";", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "inet", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "inet", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "INET", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv6", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv6", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV6", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv4", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv4", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV4", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "nft", "_", "do", "_", "chain", "_", "netdev", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "netdev", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "NETDEV", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "NETDEV", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "flags", "=", "NFT", "_", "AF", "_", "NEEDS", "_", "DEV", ",", "<nl>", "}", ";", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "inet", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "inet", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "INET", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv6", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv6", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV6", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv4", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv4", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV4", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "nft", "_", "do", "_", "chain", "_", "arp", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "arp", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "ARP", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "ARP", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "nft", "_", "do", "_", "chain", "_", "netdev", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "netdev", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "NETDEV", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "NETDEV", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "flags", "=", "NFT", "_", "AF", "_", "NEEDS", "_", "DEV", ",", "<nl>", "}", ";", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "inet", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "inet", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "INET", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv6", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv6", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV6", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv4", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv4", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV4", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "nft", "_", "do", "_", "chain", "_", "arp", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "arp", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "ARP", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "ARP", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "nft", "_", "do", "_", "chain", "_", "bridge", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "bridge", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "BRIDGE", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "BR", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "nft", "_", "do", "_", "chain", "_", "netdev", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "netdev", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "NETDEV", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "NETDEV", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "flags", "=", "NFT", "_", "AF", "_", "NEEDS", "_", "DEV", ",", "<nl>", "}", ";", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "inet", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "inet", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "INET", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv6", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv6", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV6", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv4", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv4", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV4", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "nft", "_", "do", "_", "chain", "_", "arp", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "arp", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "ARP", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "ARP", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "nft", "_", "do", "_", "chain", "_", "bridge", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "bridge", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "BRIDGE", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "BR", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "enum", "nft", "_", "af", "_", "flags", "{", "<nl>", "*", "<nl>", "*", "@", "list", ":", "used", "internally", "<nl>", "*", "@", "family", ":", "address", "family", "<nl>", "-", "*", "@", "nhooks", ":", "number", "of", "hooks", "in", "this", "family", "<nl>", "*", "@", "owner", ":", "module", "owner", "<nl>", "*", "@", "tables", ":", "used", "internally", "<nl>", "*", "@", "flags", ":", "family", "flags", "<nl>", "enum", "nft", "_", "af", "_", "flags", "{", "<nl>", "struct", "nft", "_", "af", "_", "info", "{", "<nl>", "struct", "list", "_", "head", "list", ";", "<nl>", "int", "family", ";", "<nl>", "-", "unsigned", "int", "nhooks", ";", "<nl>", "struct", "module", "*", "owner", ";", "<nl>", "struct", "list", "_", "head", "tables", ";", "<nl>", "u32", "flags", ";", "mmm", "net", "/", "netfilter", "/", "nf", "_", "tables", "_", "api", ".", "c", "<nl>", "nft", "_", "do", "_", "chain", "_", "netdev", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "netdev", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "NETDEV", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "NETDEV", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", ".", "flags", "=", "NFT", "_", "AF", "_", "NEEDS", "_", "DEV", ",", "<nl>", "}", ";", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "inet", "(", "void", "*", "priv", ",", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "inet", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "INET", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv6", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv6", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV6", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "static", "unsigned", "int", "nft", "_", "do", "_", "chain", "_", "ipv4", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "ipv4", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "IPV4", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "INET", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "nft", "_", "do", "_", "chain", "_", "arp", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "arp", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "ARP", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "ARP", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "nft", "_", "do", "_", "chain", "_", "bridge", "(", "void", "*", "priv", ",", "<nl>", "<nl>", "static", "struct", "nft", "_", "af", "_", "info", "nft", "_", "af", "_", "bridge", "_", "_", "read", "_", "mostly", "=", "{", "<nl>", ".", "family", "=", "NFPROTO", "_", "BRIDGE", ",", "<nl>", "-", ".", "nhooks", "=", "NF", "_", "BR", "_", "NUMHOOKS", ",", "<nl>", ".", "owner", "=", "THIS", "_", "MODULE", ",", "<nl>", "}", ";", "<nl>", "<nl>", "enum", "nft", "_", "af", "_", "flags", "{", "<nl>", "*", "<nl>", "*", "@", "list", ":", "used", "internally", "<nl>", "*", "@", "family", ":", "address", "family", "<nl>", "-", "*", "@", "nhooks", ":", "number", "of", "hooks", "in", "this", "family", "<nl>", "*", "@", "owner", ":", "module", "owner", "<nl>", "*", "@", "tables", ":", "used", "internally", "<nl>", "*", "@", "flags", ":", "family", "flags", "<nl>", "enum", "nft", "_", "af", "_", "flags", "{", "<nl>", "struct", "nft", "_", "af", "_", "info", "{", "<nl>", "struct", "list", "_", "head", "list", ";", "<nl>", "int", "family", ";", "<nl>", "-", "unsigned", "int", "nhooks", ";", "<nl>", "struct", "module", "*", "owner", ";", "<nl>", "struct", "list", "_", "head", "tables", ";", "<nl>", "u32", "flags", ";", "<nl>", "static", "int", "nft", "_", "chain", "_", "parse", "_", "hook", "(", "struct", "net", "*", "net", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "hook", "-", ">", "num", "=", "ntohl", "(", "nla", "_", "get", "_", "be32", "(", "ha", "[", "NFTA", "_", "HOOK", "_", "HOOKNUM", "]", ")", ")", ";", "<nl>", "-", "if", "(", "hook", "-", ">", "num", ">", "=", "afi", "-", ">", "nhooks", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "-", "<nl>", "hook", "-", ">", "priority", "=", "ntohl", "(", "nla", "_", "get", "_", "be32", "(", "ha", "[", "NFTA", "_", "HOOK", "_", "PRIORITY", "]", ")", ")", ";", "<nl>", "<nl>", "type", "=", "chain", "_", "type", "[", "afi", "-", ">", "family", "]", "[", "NFT", "_", "CHAIN", "_", "T", "_", "DEFAULT", "]", ";", "<nl>", "static", "int", "nf", "_", "tables", "_", "flowtable", "_", "parse", "_", "hook", "(", "const", "struct", "nft", "_", "ctx", "*", "ctx", ",", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "hooknum", "=", "ntohl", "(", "nla", "_", "get", "_", "be32", "(", "tb", "[", "NFTA", "_", "FLOWTABLE", "_", "HOOK", "_", "NUM", "]", ")", ")", ";", "<nl>", "-", "if", "(", "hooknum", ">", "=", "ctx", "-", ">", "afi", "-", ">", "nhooks", ")", "<nl>", "+", "if", "(", "hooknum", "!", "=", "NF", "_", "NETDEV", "_", "INGRESS", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "priority", "=", "ntohl", "(", "nla", "_", "get", "_", "be32", "(", "tb", "[", "NFTA", "_", "FLOWTABLE", "_", "HOOK", "_", "PRIORITY", "]", ")", ")", ";", "<nl>"], "docstring_tokens": ["netfilter", "nf_tables", "remove", "nhooks", "field", "from", "struct", "nft_af_info"]}
{"code_tokens": ["asmlinkage", "int", "printk", "(", "const", "char", "*", "fmt", ",", ".", ".", ".", ")", "<nl>", "return", "r", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "cpu", "currently", "holding", "logbuf", "_", "lock", "*", "/", "<nl>", "+", "static", "volatile", "unsigned", "int", "printk", "_", "cpu", "=", "UINT", "_", "MAX", ";", "<nl>", "+", "<nl>", "asmlinkage", "int", "vprintk", "(", "const", "char", "*", "fmt", ",", "va", "_", "list", "args", ")", "<nl>", "{", "<nl>", "unsigned", "long", "flags", ";", "<nl>", "asmlinkage", "int", "vprintk", "(", "const", "char", "*", "fmt", ",", "va", "_", "list", "args", ")", "<nl>", "static", "char", "printk", "_", "buf", "[", "1024", "]", ";", "<nl>", "static", "int", "log", "_", "level", "_", "unknown", "=", "1", ";", "<nl>", "<nl>", "-", "if", "(", "unlikely", "(", "oops", "_", "in", "_", "progress", ")", ")", "<nl>", "+", "preempt", "_", "disable", "(", ")", ";", "<nl>", "+", "if", "(", "unlikely", "(", "oops", "_", "in", "_", "progress", ")", "&", "&", "printk", "_", "cpu", "=", "=", "smp", "_", "processor", "_", "id", "(", ")", ")", "<nl>", "+", "/", "*", "If", "a", "crash", "is", "occurring", "during", "printk", "(", ")", "on", "this", "CPU", ",", "<nl>", "+", "*", "make", "sure", "we", "can", "'", "t", "deadlock", "*", "/", "<nl>", "zap", "_", "locks", "(", ")", ";", "<nl>", "<nl>", "/", "*", "This", "stops", "the", "holder", "of", "console", "_", "sem", "just", "where", "we", "want", "him", "*", "/", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "logbuf", "_", "lock", ",", "flags", ")", ";", "<nl>", "+", "printk", "_", "cpu", "=", "smp", "_", "processor", "_", "id", "(", ")", ";", "<nl>", "<nl>", "/", "*", "Emit", "the", "output", "into", "the", "temporary", "buffer", "*", "/", "<nl>", "printed", "_", "len", "=", "vscnprintf", "(", "printk", "_", "buf", ",", "sizeof", "(", "printk", "_", "buf", ")", ",", "fmt", ",", "args", ")", ";", "<nl>", "asmlinkage", "int", "vprintk", "(", "const", "char", "*", "fmt", ",", "va", "_", "list", "args", ")", "<nl>", "*", "CPU", "until", "it", "is", "officially", "up", ".", "We", "shouldn", "'", "t", "be", "calling", "into", "<nl>", "*", "random", "console", "drivers", "on", "a", "CPU", "which", "doesn", "'", "t", "exist", "yet", ".", ".", "<nl>", "*", "/", "<nl>", "+", "printk", "_", "cpu", "=", "UINT", "_", "MAX", ";", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "logbuf", "_", "lock", ",", "flags", ")", ";", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "asmlinkage", "int", "vprintk", "(", "const", "char", "*", "fmt", ",", "va", "_", "list", "args", ")", "<nl>", "*", "We", "own", "the", "drivers", ".", "We", "can", "drop", "the", "spinlock", "and", "let", "<nl>", "*", "release", "_", "console", "_", "sem", "(", ")", "print", "the", "text", "<nl>", "*", "/", "<nl>", "+", "printk", "_", "cpu", "=", "UINT", "_", "MAX", ";", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "logbuf", "_", "lock", ",", "flags", ")", ";", "<nl>", "console", "_", "may", "_", "schedule", "=", "0", ";", "<nl>", "release", "_", "console", "_", "sem", "(", ")", ";", "<nl>", "asmlinkage", "int", "vprintk", "(", "const", "char", "*", "fmt", ",", "va", "_", "list", "args", ")", "<nl>", "*", "allows", "the", "semaphore", "holder", "to", "proceed", "and", "to", "call", "the", "<nl>", "*", "console", "drivers", "with", "the", "output", "which", "we", "just", "produced", ".", "<nl>", "*", "/", "<nl>", "+", "printk", "_", "cpu", "=", "UINT", "_", "MAX", ";", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "logbuf", "_", "lock", ",", "flags", ")", ";", "<nl>", "}", "<nl>", "out", ":", "<nl>", "+", "preempt", "_", "enable", "(", ")", ";", "<nl>", "return", "printed", "_", "len", ";", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "printk", ")", ";", "<nl>"], "docstring_tokens": ["PATCH", "Provide", "better", "printk", "support", "for", "SMP", "machines"]}
{"code_tokens": ["static", "bool", "ignore", "_", "unreachable", "_", "insn", "(", "struct", "instruction", "*", "insn", ")", "<nl>", "if", "(", "is", "_", "kasan", "_", "insn", "(", "insn", ")", "|", "|", "is", "_", "ubsan", "_", "insn", "(", "insn", ")", ")", "<nl>", "return", "true", ";", "<nl>", "<nl>", "-", "if", "(", "insn", "-", ">", "type", "=", "=", "INSN", "_", "JUMP", "_", "UNCONDITIONAL", "&", "&", "insn", "-", ">", "jump", "_", "dest", ")", "{", "<nl>", "-", "insn", "=", "insn", "-", ">", "jump", "_", "dest", ";", "<nl>", "-", "continue", ";", "<nl>", "+", "if", "(", "insn", "-", ">", "type", "=", "=", "INSN", "_", "JUMP", "_", "UNCONDITIONAL", ")", "{", "<nl>", "+", "if", "(", "insn", "-", ">", "jump", "_", "dest", "&", "&", "<nl>", "+", "insn", "-", ">", "jump", "_", "dest", "-", ">", "func", "=", "=", "insn", "-", ">", "func", ")", "{", "<nl>", "+", "insn", "=", "insn", "-", ">", "jump", "_", "dest", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "insn", "-", ">", "offset", "+", "insn", "-", ">", "len", ">", "=", "insn", "-", ">", "func", "-", ">", "offset", "+", "insn", "-", ">", "func", "-", ">", "len", ")", "<nl>", "break", ";", "<nl>", "+", "<nl>", "insn", "=", "list", "_", "next", "_", "entry", "(", "insn", ",", "list", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["objtool", "Fix", "segfault", "in", "ignore_unreachable_insn"]}
{"code_tokens": ["ctnetlink", "_", "setup", "_", "nat", "(", "struct", "nf", "_", "conn", "*", "ct", ",", "const", "struct", "nlattr", "*", "const", "cda", "[", "]", ")", "<nl>", "#", "ifdef", "CONFIG", "_", "NF", "_", "NAT", "_", "NEEDED", "<nl>", "int", "ret", ";", "<nl>", "<nl>", "+", "if", "(", "!", "cda", "[", "CTA", "_", "NAT", "_", "DST", "]", "&", "&", "!", "cda", "[", "CTA", "_", "NAT", "_", "SRC", "]", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "ret", "=", "ctnetlink", "_", "parse", "_", "nat", "_", "setup", "(", "ct", ",", "NF", "_", "NAT", "_", "MANIP", "_", "DST", ",", "<nl>", "cda", "[", "CTA", "_", "NAT", "_", "DST", "]", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "<nl>"], "docstring_tokens": ["netfilter", "ctnetlink", "don", "t", "add", "null", "bindings", "if", "no", "nat", "requested"]}
{"code_tokens": ["static", "int", "llcp", "_", "sock", "_", "getname", "(", "struct", "socket", "*", "sock", ",", "struct", "sockaddr", "*", "uaddr", ",", "<nl>", "struct", "nfc", "_", "llcp", "_", "sock", "*", "llcp", "_", "sock", "=", "nfc", "_", "llcp", "_", "sock", "(", "sk", ")", ";", "<nl>", "DECLARE", "_", "SOCKADDR", "(", "struct", "sockaddr", "_", "nfc", "_", "llcp", "*", ",", "llcp", "_", "addr", ",", "uaddr", ")", ";", "<nl>", "<nl>", "+", "if", "(", "llcp", "_", "sock", "=", "=", "NULL", "|", "|", "llcp", "_", "sock", "-", ">", "dev", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "EBADFD", ";", "<nl>", "+", "<nl>", "pr", "_", "debug", "(", "\"", "%", "p", "%", "d", "%", "d", "%", "d", "\\", "n", "\"", ",", "sk", ",", "llcp", "_", "sock", "-", ">", "target", "_", "idx", ",", "<nl>", "llcp", "_", "sock", "-", ">", "dsap", ",", "llcp", "_", "sock", "-", ">", "ssap", ")", ";", "<nl>"], "docstring_tokens": ["NFC", "Check", "for", "llcp_sock", "and", "its", "device", "from", "llcp_sock_getname"]}
{"code_tokens": ["fill", "_", "stream", "_", "properties", "_", "from", "_", "drm", "_", "display", "_", "mode", "(", "struct", "dc", "_", "stream", "_", "state", "*", "stream", ",", "<nl>", "const", "struct", "drm", "_", "connector", "*", "connector", ")", "<nl>", "{", "<nl>", "struct", "dc", "_", "crtc", "_", "timing", "*", "timing", "_", "out", "=", "&", "stream", "-", ">", "timing", ";", "<nl>", "+", "const", "struct", "drm", "_", "display", "_", "info", "*", "info", "=", "&", "connector", "-", ">", "display", "_", "info", ";", "<nl>", "<nl>", "memset", "(", "timing", "_", "out", ",", "0", ",", "sizeof", "(", "struct", "dc", "_", "crtc", "_", "timing", ")", ")", ";", "<nl>", "<nl>", "fill", "_", "stream", "_", "properties", "_", "from", "_", "drm", "_", "display", "_", "mode", "(", "struct", "dc", "_", "stream", "_", "state", "*", "stream", ",", "<nl>", "timing", "_", "out", "-", ">", "v", "_", "border", "_", "top", "=", "0", ";", "<nl>", "timing", "_", "out", "-", ">", "v", "_", "border", "_", "bottom", "=", "0", ";", "<nl>", "/", "*", "TODO", ":", "un", "-", "hardcode", "*", "/", "<nl>", "-", "<nl>", "-", "if", "(", "(", "connector", "-", ">", "display", "_", "info", ".", "color", "_", "formats", "&", "DRM", "_", "COLOR", "_", "FORMAT", "_", "YCRCB444", ")", "<nl>", "+", "if", "(", "drm", "_", "mode", "_", "is", "_", "420", "_", "only", "(", "info", ",", "mode", "_", "in", ")", "<nl>", "+", "&", "&", "stream", "-", ">", "sink", "-", ">", "sink", "_", "signal", "=", "=", "SIGNAL", "_", "TYPE", "_", "HDMI", "_", "TYPE", "_", "A", ")", "<nl>", "+", "timing", "_", "out", "-", ">", "pixel", "_", "encoding", "=", "PIXEL", "_", "ENCODING", "_", "YCBCR420", ";", "<nl>", "+", "else", "if", "(", "(", "connector", "-", ">", "display", "_", "info", ".", "color", "_", "formats", "&", "DRM", "_", "COLOR", "_", "FORMAT", "_", "YCRCB444", ")", "<nl>", "&", "&", "stream", "-", ">", "sink", "-", ">", "sink", "_", "signal", "=", "=", "SIGNAL", "_", "TYPE", "_", "HDMI", "_", "TYPE", "_", "A", ")", "<nl>", "timing", "_", "out", "-", ">", "pixel", "_", "encoding", "=", "PIXEL", "_", "ENCODING", "_", "YCBCR444", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["drm", "amd", "display", "adding", "ycbcr420", "pixel", "encoding", "for", "hdmi"]}
{"code_tokens": ["isofs", "_", "export", "_", "encode", "_", "fh", "(", "struct", "inode", "*", "inode", ",", "<nl>", "len", "=", "3", ";", "<nl>", "fh32", "[", "0", "]", "=", "ei", "-", ">", "i", "_", "iget5", "_", "block", ";", "<nl>", "fh16", "[", "2", "]", "=", "(", "_", "_", "u16", ")", "ei", "-", ">", "i", "_", "iget5", "_", "offset", ";", "/", "*", "fh16", "[", "sic", "]", "*", "/", "<nl>", "+", "fh16", "[", "3", "]", "=", "0", ";", "/", "*", "avoid", "leaking", "uninitialized", "data", "*", "/", "<nl>", "fh32", "[", "2", "]", "=", "inode", "-", ">", "i", "_", "generation", ";", "<nl>", "if", "(", "parent", ")", "{", "<nl>", "struct", "iso", "_", "inode", "_", "info", "*", "eparent", ";", "<nl>"], "docstring_tokens": ["isofs", "avoid", "info", "leak", "on", "export"]}
{"code_tokens": ["int", "mm", "_", "isBranchInstr", "(", "struct", "pt", "_", "regs", "*", "regs", ",", "struct", "mm", "_", "decoded", "_", "insn", "dec", "_", "insn", ",", "<nl>", "unsigned", "int", "fcr31", ";", "<nl>", "unsigned", "int", "bit", ";", "<nl>", "<nl>", "+", "if", "(", "!", "cpu", "_", "has", "_", "mmips", ")", "<nl>", "+", "return", "0", ";", "<nl>", "+", "<nl>", "switch", "(", "insn", ".", "mm", "_", "i", "_", "format", ".", "opcode", ")", "{", "<nl>", "case", "mm", "_", "pool32a", "_", "op", ":", "<nl>", "if", "(", "(", "insn", ".", "mm", "_", "i", "_", "format", ".", "simmediate", "&", "MM", "_", "POOL32A", "_", "MINOR", "_", "MASK", ")", "=", "=", "<nl>"], "docstring_tokens": ["MIPS", "Don", "t", "try", "to", "decode", "microMIPS", "branch", "instructions", "where", "they", "cannot", "exist"]}
{"code_tokens": ["cuda", "_", "poll", "(", "void", ")", "<nl>", "}", "<nl>", "EXPORT", "_", "SYMBOL", "(", "cuda", "_", "poll", ")", ";", "<nl>", "<nl>", "+", "#", "define", "ARRAY", "_", "FULL", "(", "a", ",", "p", ")", "(", "(", "p", ")", "-", "(", "a", ")", "=", "=", "ARRAY", "_", "SIZE", "(", "a", ")", ")", "<nl>", "+", "<nl>", "static", "irqreturn", "_", "t", "<nl>", "cuda", "_", "interrupt", "(", "int", "irq", ",", "void", "*", "arg", ")", "<nl>", "{", "<nl>", "cuda", "_", "interrupt", "(", "int", "irq", ",", "void", "*", "arg", ")", "<nl>", "break", ";", "<nl>", "<nl>", "case", "reading", ":", "<nl>", "-", "*", "reply", "_", "ptr", "+", "+", "=", "in", "_", "8", "(", "&", "via", "[", "SR", "]", ")", ";", "<nl>", "+", "if", "(", "reading", "_", "reply", "?", "ARRAY", "_", "FULL", "(", "current", "_", "req", "-", ">", "reply", ",", "reply", "_", "ptr", ")", "<nl>", "+", ":", "ARRAY", "_", "FULL", "(", "cuda", "_", "rbuf", ",", "reply", "_", "ptr", ")", ")", "<nl>", "+", "(", "void", ")", "in", "_", "8", "(", "&", "via", "[", "SR", "]", ")", ";", "<nl>", "+", "else", "<nl>", "+", "*", "reply", "_", "ptr", "+", "+", "=", "in", "_", "8", "(", "&", "via", "[", "SR", "]", ")", ";", "<nl>", "if", "(", "!", "TREQ", "_", "asserted", "(", "status", ")", ")", "{", "<nl>", "/", "*", "that", "'", "s", "all", "folks", "*", "/", "<nl>", "negate", "_", "TIP", "_", "and", "_", "TACK", "(", ")", ";", "<nl>"], "docstring_tokens": ["via", "cuda", "Prevent", "read", "buffer", "overflow"]}
{"code_tokens": ["static", "int", "_", "_", "init", "cma", "_", "activate", "_", "area", "(", "struct", "cma", "*", "cma", ")", "<nl>", "base", "_", "pfn", "=", "pfn", ";", "<nl>", "for", "(", "j", "=", "pageblock", "_", "nr", "_", "pages", ";", "j", ";", "-", "-", "j", ",", "pfn", "+", "+", ")", "{", "<nl>", "WARN", "_", "ON", "_", "ONCE", "(", "!", "pfn", "_", "valid", "(", "pfn", ")", ")", ";", "<nl>", "+", "/", "*", "<nl>", "+", "*", "alloc", "_", "contig", "_", "range", "requires", "the", "pfn", "range", "<nl>", "+", "*", "specified", "to", "be", "in", "the", "same", "zone", ".", "Make", "this", "<nl>", "+", "*", "simple", "by", "forcing", "the", "entire", "CMA", "resv", "range", "<nl>", "+", "*", "to", "be", "in", "the", "same", "zone", ".", "<nl>", "+", "*", "/", "<nl>", "if", "(", "page", "_", "zone", "(", "pfn", "_", "to", "_", "page", "(", "pfn", ")", ")", "!", "=", "zone", ")", "<nl>", "-", "return", "-", "EINVAL", ";", "<nl>", "+", "goto", "err", ";", "<nl>", "}", "<nl>", "init", "_", "cma", "_", "reserved", "_", "pageblock", "(", "pfn", "_", "to", "_", "page", "(", "base", "_", "pfn", ")", ")", ";", "<nl>", "}", "while", "(", "-", "-", "i", ")", ";", "<nl>", "<nl>", "mutex", "_", "init", "(", "&", "cma", "-", ">", "lock", ")", ";", "<nl>", "return", "0", ";", "<nl>", "+", "<nl>", "+", "err", ":", "<nl>", "+", "kfree", "(", "cma", "-", ">", "bitmap", ")", ";", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "}", "<nl>", "<nl>", "static", "struct", "cma", "cma", "_", "areas", "[", "MAX", "_", "CMA", "_", "AREAS", "]", ";", "<nl>"], "docstring_tokens": ["DMA", "CMA", "fix", "possible", "memory", "leak"]}
{"code_tokens": ["static", "int", "_", "_", "access", "_", "remote", "_", "vm", "(", "struct", "task", "_", "struct", "*", "tsk", ",", "struct", "mm", "_", "struct", "*", "mm", ",", "<nl>", "*", "/", "<nl>", "#", "ifdef", "CONFIG", "_", "HAVE", "_", "IOREMAP", "_", "PROT", "<nl>", "vma", "=", "find", "_", "vma", "(", "mm", ",", "addr", ")", ";", "<nl>", "-", "if", "(", "!", "vma", ")", "<nl>", "+", "if", "(", "!", "vma", "|", "|", "vma", "-", ">", "vm", "_", "start", ">", "addr", ")", "<nl>", "break", ";", "<nl>", "if", "(", "vma", "-", ">", "vm", "_", "ops", "&", "&", "vma", "-", ">", "vm", "_", "ops", "-", ">", "access", ")", "<nl>", "ret", "=", "vma", "-", ">", "vm", "_", "ops", "-", ">", "access", "(", "vma", ",", "addr", ",", "buf", ",", "<nl>"], "docstring_tokens": ["mm", "check", "that", "we", "have", "the", "right", "vma", "in", "__access_remote_vm"]}
{"code_tokens": ["int", "trace", "_", "define", "_", "field", "(", "struct", "ftrace", "_", "event", "_", "call", "*", "call", ",", "char", "*", "type", ",", "<nl>", "{", "<nl>", "struct", "ftrace", "_", "event", "_", "field", "*", "field", ";", "<nl>", "<nl>", "-", "field", "=", "kmalloc", "(", "sizeof", "(", "*", "field", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "field", "=", "kzalloc", "(", "sizeof", "(", "*", "field", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "field", ")", "<nl>", "goto", "err", ";", "<nl>", "+", "<nl>", "field", "-", ">", "name", "=", "kstrdup", "(", "name", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "field", "-", ">", "name", ")", "<nl>", "goto", "err", ";", "<nl>", "+", "<nl>", "field", "-", ">", "type", "=", "kstrdup", "(", "type", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "if", "(", "!", "field", "-", ">", "type", ")", "<nl>", "goto", "err", ";", "<nl>", "+", "<nl>", "field", "-", ">", "offset", "=", "offset", ";", "<nl>", "field", "-", ">", "size", "=", "size", ";", "<nl>", "list", "_", "add", "(", "&", "field", "-", ">", "link", ",", "&", "call", "-", ">", "fields", ")", ";", "<nl>", "<nl>", "return", "0", ";", "<nl>", "+", "<nl>", "err", ":", "<nl>", "if", "(", "field", ")", "{", "<nl>", "kfree", "(", "field", "-", ">", "name", ")", ";", "<nl>", "kfree", "(", "field", "-", ">", "type", ")", ";", "<nl>", "}", "<nl>", "kfree", "(", "field", ")", ";", "<nl>", "+", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tracing", "add", "run", "time", "field", "descriptions", "for", "event", "filtering", "kfree", "fix"]}
{"code_tokens": ["int", "saa7134", "_", "input", "_", "init1", "(", "struct", "saa7134", "_", "dev", "*", "dev", ")", "<nl>", "mask", "_", "keyup", "=", "0x400000", ";", "<nl>", "polling", "=", "50", ";", "/", "/", "ms", "<nl>", "break", ";", "<nl>", "+", "case", "SAA7134", "_", "BOARD", "_", "VIDEOMATE", "_", "DVBT", "_", "300", ":", "<nl>", "+", "ir", "_", "codes", "=", "videomate", "_", "tv", "_", "pvr", "_", "codes", ";", "<nl>", "+", "mask", "_", "keycode", "=", "0x003F00", ";", "<nl>", "+", "mask", "_", "keyup", "=", "0x040000", ";", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "if", "(", "NULL", "=", "=", "ir", "_", "codes", ")", "{", "<nl>", "printk", "(", "\"", "%", "s", ":", "Oops", ":", "IR", "config", "error", "[", "card", "=", "%", "d", "]", "\\", "n", "\"", ",", "mmm", "drivers", "/", "media", "/", "video", "/", "saa7134", "/", "saa7134", "-", "cards", ".", "c", "<nl>", "int", "saa7134", "_", "input", "_", "init1", "(", "struct", "saa7134", "_", "dev", "*", "dev", ")", "<nl>", "mask", "_", "keyup", "=", "0x400000", ";", "<nl>", "polling", "=", "50", ";", "/", "/", "ms", "<nl>", "break", ";", "<nl>", "+", "case", "SAA7134", "_", "BOARD", "_", "VIDEOMATE", "_", "DVBT", "_", "300", ":", "<nl>", "+", "ir", "_", "codes", "=", "videomate", "_", "tv", "_", "pvr", "_", "codes", ";", "<nl>", "+", "mask", "_", "keycode", "=", "0x003F00", ";", "<nl>", "+", "mask", "_", "keyup", "=", "0x040000", ";", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "if", "(", "NULL", "=", "=", "ir", "_", "codes", ")", "{", "<nl>", "printk", "(", "\"", "%", "s", ":", "Oops", ":", "IR", "config", "error", "[", "card", "=", "%", "d", "]", "\\", "n", "\"", ",", "<nl>", "int", "saa7134", "_", "board", "_", "init1", "(", "struct", "saa7134", "_", "dev", "*", "dev", ")", "<nl>", "/", "*", "case", "SAA7134", "_", "BOARD", "_", "SABRENT", "_", "SBTTVFM", ":", "*", "/", "/", "*", "not", "finished", "yet", "*", "/", "<nl>", "case", "SAA7134", "_", "BOARD", "_", "VIDEOMATE", "_", "TV", "_", "PVR", ":", "<nl>", "case", "SAA7134", "_", "BOARD", "_", "VIDEOMATE", "_", "TV", "_", "GOLD", "_", "PLUSII", ":", "<nl>", "+", "case", "SAA7134", "_", "BOARD", "_", "VIDEOMATE", "_", "DVBT", "_", "300", ":", "<nl>", "case", "SAA7134", "_", "BOARD", "_", "MANLI", "_", "MTV001", ":", "<nl>", "case", "SAA7134", "_", "BOARD", "_", "MANLI", "_", "MTV002", ":", "<nl>", "case", "SAA7134", "_", "BOARD", "_", "BEHOLD", "_", "409FM", ":", "<nl>"], "docstring_tokens": ["PATCH", "v4l", "688", "add", "remote", "for", "dvb", "t300", "remote"]}
{"code_tokens": ["static", "inline", "void", "key", "_", "alloc", "_", "serial", "(", "struct", "key", "*", "key", ")", "<nl>", "key", "-", ">", "serial", "=", "2", ";", "<nl>", "key", "_", "serial", "_", "next", "=", "key", "-", ">", "serial", "+", "1", ";", "<nl>", "<nl>", "-", "if", "(", "!", "parent", "-", ">", "rb", "_", "parent", ")", "<nl>", "+", "if", "(", "!", "rb", "_", "parent", "(", "parent", ")", ")", "<nl>", "p", "=", "&", "key", "_", "serial", "_", "tree", ".", "rb", "_", "node", ";", "<nl>", "-", "else", "if", "(", "parent", "-", ">", "rb", "_", "parent", "-", ">", "rb", "_", "left", "=", "=", "parent", ")", "<nl>", "-", "p", "=", "&", "parent", "-", ">", "rb", "_", "parent", "-", ">", "rb", "_", "left", ";", "<nl>", "+", "else", "if", "(", "rb", "_", "parent", "(", "parent", ")", "-", ">", "rb", "_", "left", "=", "=", "parent", ")", "<nl>", "+", "p", "=", "&", "(", "rb", "_", "parent", "(", "parent", ")", "-", ">", "rb", "_", "left", ")", ";", "<nl>", "else", "<nl>", "-", "p", "=", "&", "parent", "-", ">", "rb", "_", "parent", "-", ">", "rb", "_", "right", ";", "<nl>", "+", "p", "=", "&", "(", "rb", "_", "parent", "(", "parent", ")", "-", ">", "rb", "_", "right", ")", ";", "<nl>", "<nl>", "parent", "=", "rb", "_", "next", "(", "parent", ")", ";", "<nl>", "if", "(", "!", "parent", ")", "<nl>"], "docstring_tokens": ["RBTREE", "Update", "key", "c", "to", "use", "rb_parent", "accessor", "macro"]}
{"code_tokens": ["static", "void", "i40e", "_", "link", "_", "event", "(", "struct", "i40e", "_", "pf", "*", "pf", ")", "<nl>", "{", "<nl>", "bool", "new", "_", "link", ",", "old", "_", "link", ";", "<nl>", "struct", "i40e", "_", "vsi", "*", "vsi", "=", "pf", "-", ">", "vsi", "[", "pf", "-", ">", "lan", "_", "vsi", "]", ";", "<nl>", "+", "u8", "new", "_", "link", "_", "speed", ",", "old", "_", "link", "_", "speed", ";", "<nl>", "<nl>", "/", "*", "set", "this", "to", "force", "the", "get", "_", "link", "_", "status", "call", "to", "refresh", "state", "*", "/", "<nl>", "pf", "-", ">", "hw", ".", "phy", ".", "get", "_", "link", "_", "info", "=", "true", ";", "<nl>", "<nl>", "old", "_", "link", "=", "(", "pf", "-", ">", "hw", ".", "phy", ".", "link", "_", "info", "_", "old", ".", "link", "_", "info", "&", "I40E", "_", "AQ", "_", "LINK", "_", "UP", ")", ";", "<nl>", "new", "_", "link", "=", "i40e", "_", "get", "_", "link", "_", "status", "(", "&", "pf", "-", ">", "hw", ")", ";", "<nl>", "+", "old", "_", "link", "_", "speed", "=", "pf", "-", ">", "hw", ".", "phy", ".", "link", "_", "info", "_", "old", ".", "link", "_", "speed", ";", "<nl>", "+", "new", "_", "link", "_", "speed", "=", "pf", "-", ">", "hw", ".", "phy", ".", "link", "_", "info", ".", "link", "_", "speed", ";", "<nl>", "<nl>", "if", "(", "new", "_", "link", "=", "=", "old", "_", "link", "&", "&", "<nl>", "+", "new", "_", "link", "_", "speed", "=", "=", "old", "_", "link", "_", "speed", "&", "&", "<nl>", "(", "test", "_", "bit", "(", "_", "_", "I40E", "_", "DOWN", ",", "&", "vsi", "-", ">", "state", ")", "|", "|", "<nl>", "new", "_", "link", "=", "=", "netif", "_", "carrier", "_", "ok", "(", "vsi", "-", ">", "netdev", ")", ")", ")", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["i40e", "Don", "t", "exit", "link", "event", "early", "if", "link", "speed", "has", "changed"]}
{"code_tokens": ["static", "void", "storvsc", "_", "handle", "_", "error", "(", "struct", "vmscsi", "_", "request", "*", "vm", "_", "srb", ",", "<nl>", "do", "_", "work", "=", "true", ";", "<nl>", "process", "_", "err", "_", "fn", "=", "storvsc", "_", "remove", "_", "lun", ";", "<nl>", "break", ";", "<nl>", "-", "case", "(", "SRB", "_", "STATUS", "_", "ABORTED", "|", "SRB", "_", "STATUS", "_", "AUTOSENSE", "_", "VALID", ")", ":", "<nl>", "-", "if", "(", "(", "asc", "=", "=", "0x2a", ")", "&", "&", "(", "ascq", "=", "=", "0x9", ")", ")", "{", "<nl>", "+", "case", "SRB", "_", "STATUS", "_", "ABORTED", ":", "<nl>", "+", "if", "(", "vm", "_", "srb", "-", ">", "srb", "_", "status", "&", "SRB", "_", "STATUS", "_", "AUTOSENSE", "_", "VALID", "&", "&", "<nl>", "+", "(", "asc", "=", "=", "0x2a", ")", "&", "&", "(", "ascq", "=", "=", "0x9", ")", ")", "{", "<nl>", "do", "_", "work", "=", "true", ";", "<nl>", "process", "_", "err", "_", "fn", "=", "storvsc", "_", "device", "_", "scan", ";", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["scsi", "storvsc", "fix", "SRB_STATUS_ABORTED", "handling"]}
{"code_tokens": ["int", "acpi", "_", "device", "_", "set", "_", "power", "(", "struct", "acpi", "_", "device", "*", "device", ",", "int", "state", ")", "<nl>", "int", "result", "=", "0", ";", "<nl>", "acpi", "_", "status", "status", "=", "AE", "_", "OK", ";", "<nl>", "char", "object", "_", "name", "[", "5", "]", "=", "{", "'", "_", "'", ",", "'", "P", "'", ",", "'", "S", "'", ",", "'", "0", "'", "+", "state", ",", "'", "\\", "0", "'", "}", ";", "<nl>", "+", "bool", "cut", "_", "power", "=", "false", ";", "<nl>", "<nl>", "if", "(", "!", "device", "|", "|", "(", "state", "<", "ACPI", "_", "STATE", "_", "D0", ")", "|", "|", "(", "state", ">", "ACPI", "_", "STATE", "_", "D3", "_", "COLD", ")", ")", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "int", "acpi", "_", "device", "_", "set", "_", "power", "(", "struct", "acpi", "_", "device", "*", "device", ",", "int", "state", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "For", "D3cold", "we", "should", "execute", "_", "PS3", ",", "not", "_", "PS4", ".", "*", "/", "<nl>", "-", "if", "(", "state", "=", "=", "ACPI", "_", "STATE", "_", "D3", "_", "COLD", ")", "<nl>", "+", "/", "*", "For", "D3cold", "we", "should", "first", "transition", "into", "D3hot", ".", "*", "/", "<nl>", "+", "if", "(", "state", "=", "=", "ACPI", "_", "STATE", "_", "D3", "_", "COLD", "<nl>", "+", "&", "&", "device", "-", ">", "power", ".", "states", "[", "ACPI", "_", "STATE", "_", "D3", "_", "COLD", "]", ".", "flags", ".", "os", "_", "accessible", ")", "{", "<nl>", "+", "state", "=", "ACPI", "_", "STATE", "_", "D3", "_", "HOT", ";", "<nl>", "object", "_", "name", "[", "3", "]", "=", "'", "3", "'", ";", "<nl>", "+", "cut", "_", "power", "=", "true", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Transition", "Power", "<nl>", "int", "acpi", "_", "device", "_", "set", "_", "power", "(", "struct", "acpi", "_", "device", "*", "device", ",", "int", "state", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "cut", "_", "power", ")", "<nl>", "+", "result", "=", "acpi", "_", "power", "_", "transition", "(", "device", ",", "ACPI", "_", "STATE", "_", "D3", "_", "COLD", ")", ";", "<nl>", "+", "<nl>", "end", ":", "<nl>", "if", "(", "result", ")", "<nl>", "printk", "(", "KERN", "_", "WARNING", "PREFIX", "<nl>"], "docstring_tokens": ["ACPI", "PM", "Change", "the", "way", "power", "transitions", "to", "D3cold", "are", "carried", "out"]}
{"code_tokens": ["long", "sys", "_", "pciconfig", "_", "iobase", "(", "long", "which", ",", "unsigned", "long", "in", "_", "bus", ",", "<nl>", "unsigned", "long", "in", "_", "devfn", ")", "<nl>", "{", "<nl>", "struct", "pci", "_", "controller", "*", "hose", ";", "<nl>", "-", "struct", "pci", "_", "bus", "*", "bus", "=", "NULL", ";", "<nl>", "+", "struct", "pci", "_", "bus", "*", "tmp", "_", "bus", ",", "*", "bus", "=", "NULL", ";", "<nl>", "struct", "device", "_", "node", "*", "hose", "_", "node", ";", "<nl>", "<nl>", "/", "*", "Argh", "!", "Please", "forgive", "me", "for", "that", "hack", ",", "but", "that", "'", "s", "the", "<nl>", "long", "sys", "_", "pciconfig", "_", "iobase", "(", "long", "which", ",", "unsigned", "long", "in", "_", "bus", ",", "<nl>", "*", "used", "on", "pre", "-", "domains", "setup", ".", "We", "return", "the", "first", "match", "<nl>", "*", "/", "<nl>", "<nl>", "-", "list", "_", "for", "_", "each", "_", "entry", "(", "bus", ",", "&", "pci", "_", "root", "_", "buses", ",", "node", ")", "{", "<nl>", "-", "if", "(", "in", "_", "bus", ">", "=", "bus", "-", ">", "number", "&", "&", "in", "_", "bus", "<", "=", "bus", "-", ">", "busn", "_", "res", ".", "end", ")", "<nl>", "+", "list", "_", "for", "_", "each", "_", "entry", "(", "tmp", "_", "bus", ",", "&", "pci", "_", "root", "_", "buses", ",", "node", ")", "{", "<nl>", "+", "if", "(", "in", "_", "bus", ">", "=", "tmp", "_", "bus", "-", ">", "number", "&", "&", "<nl>", "+", "in", "_", "bus", "<", "=", "tmp", "_", "bus", "-", ">", "busn", "_", "res", ".", "end", ")", "{", "<nl>", "+", "bus", "=", "tmp", "_", "bus", ";", "<nl>", "break", ";", "<nl>", "-", "bus", "=", "NULL", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "if", "(", "bus", "=", "=", "NULL", "|", "|", "bus", "-", ">", "dev", ".", "of", "_", "node", "=", "=", "NULL", ")", "<nl>", "return", "-", "ENODEV", ";", "<nl>"], "docstring_tokens": ["powerpc", "PCI", "Fix", "NULL", "dereference", "in", "sys_pciconfig_iobase", "list", "traversal"]}
{"code_tokens": ["static", "int", "omap", "_", "i2c", "_", "init", "(", "struct", "omap", "_", "i2c", "_", "dev", "*", "dev", ")", "<nl>", "*", "to", "get", "longer", "filter", "period", "for", "better", "noise", "suppression", ".", "<nl>", "*", "The", "filter", "is", "iclk", "(", "fclk", "for", "HS", ")", "period", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "dev", "-", ">", "speed", ">", "400", "|", "|", "cpu", "_", "is", "_", "omap", "_", "2430", "(", ")", ")", "<nl>", "+", "if", "(", "dev", "-", ">", "speed", ">", "400", "|", "|", "cpu", "_", "is", "_", "omap2430", "(", ")", ")", "<nl>", "internal", "_", "clk", "=", "19200", ";", "<nl>", "else", "if", "(", "dev", "-", ">", "speed", ">", "100", ")", "<nl>", "internal", "_", "clk", "=", "9600", ";", "<nl>"], "docstring_tokens": ["i2c", "omap", "Fix", "build", "breaking", "typo", "cpu_is_omap_2430"]}
{"code_tokens": ["static", "int", "check", "_", "hw", "_", "params", "_", "convention", "(", "struct", "snd", "_", "usb", "_", "substream", "*", "subs", ")", "<nl>", "<nl>", "channels", "=", "kcalloc", "(", "MAX", "_", "MASK", ",", "sizeof", "(", "u32", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "rates", "=", "kcalloc", "(", "MAX", "_", "MASK", ",", "sizeof", "(", "u32", ")", ",", "GFP", "_", "KERNEL", ")", ";", "<nl>", "+", "if", "(", "!", "channels", "|", "|", "!", "rates", ")", "<nl>", "+", "goto", "_", "_", "out", ";", "<nl>", "<nl>", "list", "_", "for", "_", "each", "(", "p", ",", "&", "subs", "-", ">", "fmt", "_", "list", ")", "{", "<nl>", "struct", "audioformat", "*", "f", ";", "<nl>"], "docstring_tokens": ["USB", "usbaudio", "handle", "kcalloc", "failure"]}
{"code_tokens": ["static", "int", "ni", "_", "660x", "_", "request", "_", "mite", "_", "channel", "(", "struct", "comedi", "_", "device", "*", "dev", ",", "<nl>", "struct", "mite", "_", "channel", "*", "mite", "_", "chan", ";", "<nl>", "<nl>", "spin", "_", "lock", "_", "irqsave", "(", "&", "devpriv", "-", ">", "mite", "_", "channel", "_", "lock", ",", "flags", ")", ";", "<nl>", "-", "BUG", "_", "ON", "(", "counter", "-", ">", "mite", "_", "chan", ")", ";", "<nl>", "mite", "_", "chan", "=", "mite", "_", "request", "_", "channel", "(", "devpriv", "-", ">", "mite", ",", "<nl>", "mite", "_", "ring", "(", "devpriv", ",", "counter", ")", ")", ";", "<nl>", "if", "(", "!", "mite", "_", "chan", ")", "{", "<nl>"], "docstring_tokens": ["staging", "comedi", "ni_660x", "remove", "BUG_ON", "in", "ni_660x_request_mite_channel"]}
{"code_tokens": ["static", "int", "tun", "_", "set", "_", "iff", "(", "struct", "net", "*", "net", ",", "struct", "file", "*", "file", ",", "struct", "ifreq", "*", "ifr", ")", "<nl>", "<nl>", "err", "_", "detach", ":", "<nl>", "tun", "_", "detach", "_", "all", "(", "dev", ")", ";", "<nl>", "+", "/", "*", "register", "_", "netdevice", "(", ")", "already", "called", "tun", "_", "free", "_", "netdev", "(", ")", "*", "/", "<nl>", "+", "goto", "err", "_", "free", "_", "dev", ";", "<nl>", "+", "<nl>", "err", "_", "free", "_", "flow", ":", "<nl>", "tun", "_", "flow", "_", "uninit", "(", "tun", ")", ";", "<nl>", "security", "_", "tun", "_", "dev", "_", "free", "_", "security", "(", "tun", "-", ">", "security", ")", ";", "<nl>"], "docstring_tokens": ["tun", "handle", "register_netdevice", "failures", "properly"]}
{"code_tokens": ["visorchannel", "_", "read", "(", "VISORCHANNEL", "*", "channel", ",", "ulong", "offset", ",", "<nl>", "int", "rc", "=", "visor", "_", "memregion", "_", "read", "(", "channel", "-", ">", "memregion", ",", "offset", ",", "<nl>", "local", ",", "nbytes", ")", ";", "<nl>", "if", "(", "(", "rc", ">", "=", "0", ")", "&", "&", "(", "offset", "=", "=", "0", ")", "&", "&", "<nl>", "-", "(", "nbytes", ">", "=", "sizeof", "(", "struct", "channel", "_", "header", ")", ")", ")", "{", "<nl>", "+", "(", "nbytes", ">", "=", "sizeof", "(", "struct", "channel", "_", "header", ")", ")", ")", "{", "<nl>", "memcpy", "(", "&", "channel", "-", ">", "chan", "_", "hdr", ",", "local", ",", "<nl>", "sizeof", "(", "struct", "channel", "_", "header", ")", ")", ";", "<nl>", "}", "<nl>", "safe", "_", "sig", "_", "queue", "_", "validate", "(", "struct", "signal", "_", "queue", "_", "header", "*", "psafe", "_", "sqh", ",", "<nl>", "punsafe", "_", "sqh", "-", ">", "tail", "=", "*", "ptail", ";", "<nl>", "<nl>", "ERRDRV", "(", "\"", "safe", "_", "sig", "_", "queue", "_", "validate", ":", "head", "=", "0x", "%", "x", ",", "tail", "=", "0x", "%", "x", ",", "MaxSlots", "=", "0x", "%", "x", "\"", ",", "<nl>", "-", "*", "phead", ",", "*", "ptail", ",", "psafe", "_", "sqh", "-", ">", "max", "_", "slots", ")", ";", "<nl>", "+", "*", "phead", ",", "*", "ptail", ",", "psafe", "_", "sqh", "-", ">", "max", "_", "slots", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "return", "1", ";", "<nl>", "visorchannel", "_", "debug", "(", "VISORCHANNEL", "*", "channel", ",", "int", "nQueues", ",", "<nl>", "struct", "signal", "_", "queue", "_", "header", "q", ";", "<nl>", "<nl>", "errcode", "=", "visorchannel", "_", "read", "(", "channel", ",", "<nl>", "-", "off", "+", "phdr", "-", ">", "ch", "_", "space", "_", "offset", "+", "<nl>", "-", "(", "i", "*", "sizeof", "(", "q", ")", ")", ",", "<nl>", "-", "&", "q", ",", "sizeof", "(", "q", ")", ")", ";", "<nl>", "+", "off", "+", "<nl>", "+", "phdr", "-", ">", "ch", "_", "space", "_", "offset", "+", "<nl>", "+", "(", "i", "*", "sizeof", "(", "q", ")", ")", ",", "<nl>", "+", "&", "q", ",", "sizeof", "(", "q", ")", ")", ";", "<nl>", "if", "(", "errcode", "<", "0", ")", "{", "<nl>", "seq", "_", "printf", "(", "seq", ",", "<nl>", "\"", "failed", "to", "read", "signal", "queue", "#", "%", "d", "from", "channel", "@", "0x", "%", "-", "16", ".", "16Lx", "errcode", "=", "%", "d", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["staging", "unisys", "visorchannel", "Fix", "alignment", "issues"]}
{"code_tokens": ["static", "int", "nl80211", "_", "start", "_", "radar", "_", "detection", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "<nl>", "if", "(", "err", ")", "<nl>", "return", "err", ";", "<nl>", "<nl>", "+", "if", "(", "netif", "_", "carrier", "_", "ok", "(", "dev", ")", ")", "<nl>", "+", "return", "-", "EBUSY", ";", "<nl>", "+", "<nl>", "if", "(", "wdev", "-", ">", "cac", "_", "started", ")", "<nl>", "return", "-", "EBUSY", ";", "<nl>"], "docstring_tokens": ["nl80211", "allow", "CAC", "only", "if", "no", "operation", "is", "going", "on"]}
{"code_tokens": ["bool", "radeon", "_", "crtc", "_", "scaling", "_", "mode", "_", "fixup", "(", "struct", "drm", "_", "crtc", "*", "crtc", ",", "<nl>", "radeon", "_", "crtc", "-", ">", "rmx", "_", "type", "=", "radeon", "_", "encoder", "-", ">", "rmx", "_", "type", ";", "<nl>", "else", "<nl>", "radeon", "_", "crtc", "-", ">", "rmx", "_", "type", "=", "RMX", "_", "OFF", ";", "<nl>", "-", "src", "_", "v", "=", "crtc", "-", ">", "mode", ".", "vdisplay", ";", "<nl>", "-", "dst", "_", "v", "=", "radeon", "_", "crtc", "-", ">", "native", "_", "mode", ".", "vdisplay", ";", "<nl>", "-", "src", "_", "h", "=", "crtc", "-", ">", "mode", ".", "hdisplay", ";", "<nl>", "-", "dst", "_", "h", "=", "radeon", "_", "crtc", "-", ">", "native", "_", "mode", ".", "vdisplay", ";", "<nl>", "/", "*", "copy", "native", "mode", "*", "/", "<nl>", "memcpy", "(", "&", "radeon", "_", "crtc", "-", ">", "native", "_", "mode", ",", "<nl>", "&", "radeon", "_", "encoder", "-", ">", "native", "_", "mode", ",", "<nl>", "sizeof", "(", "struct", "drm", "_", "display", "_", "mode", ")", ")", ";", "<nl>", "+", "src", "_", "v", "=", "crtc", "-", ">", "mode", ".", "vdisplay", ";", "<nl>", "+", "dst", "_", "v", "=", "radeon", "_", "crtc", "-", ">", "native", "_", "mode", ".", "vdisplay", ";", "<nl>", "+", "src", "_", "h", "=", "crtc", "-", ">", "mode", ".", "hdisplay", ";", "<nl>", "+", "dst", "_", "h", "=", "radeon", "_", "crtc", "-", ">", "native", "_", "mode", ".", "hdisplay", ";", "<nl>", "<nl>", "/", "*", "fix", "up", "for", "overscan", "on", "hdmi", "*", "/", "<nl>", "if", "(", "ASIC", "_", "IS", "_", "AVIVO", "(", "rdev", ")", "&", "&", "<nl>"], "docstring_tokens": ["drm", "radeon", "kms", "fix", "regression", "in", "RMX", "code", "v2"]}
{"code_tokens": ["smb2", "_", "query", "_", "symlink", "(", "const", "unsigned", "int", "xid", ",", "struct", "cifs", "_", "tcon", "*", "tcon", ",", "<nl>", "&", "resp", "_", "buftype", ")", ";", "<nl>", "if", "(", "!", "rc", "|", "|", "!", "err", "_", "iov", ".", "iov", "_", "base", ")", "{", "<nl>", "rc", "=", "-", "ENOENT", ";", "<nl>", "-", "goto", "querty", "_", "exit", ";", "<nl>", "+", "goto", "free", "_", "path", ";", "<nl>", "}", "<nl>", "<nl>", "err", "_", "buf", "=", "err", "_", "iov", ".", "iov", "_", "base", ";", "<nl>", "smb2", "_", "query", "_", "symlink", "(", "const", "unsigned", "int", "xid", ",", "struct", "cifs", "_", "tcon", "*", "tcon", ",", "<nl>", "<nl>", "querty", "_", "exit", ":", "<nl>", "free", "_", "rsp", "_", "buf", "(", "resp", "_", "buftype", ",", "err", "_", "buf", ")", ";", "<nl>", "+", "free", "_", "path", ":", "<nl>", "kfree", "(", "utf16", "_", "path", ")", ";", "<nl>", "return", "rc", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["cifs", "Silence", "uninitialized", "variable", "warning"]}
{"code_tokens": ["static", "isolate", "_", "migrate", "_", "t", "isolate", "_", "migratepages", "(", "struct", "zone", "*", "zone", ",", "<nl>", "low", "_", "pfn", "=", "isolate", "_", "migratepages", "_", "block", "(", "cc", ",", "low", "_", "pfn", ",", "end", "_", "pfn", ",", "<nl>", "isolate", "_", "mode", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "low", "_", "pfn", "|", "|", "cc", "-", ">", "contended", ")", "<nl>", "+", "if", "(", "!", "low", "_", "pfn", "|", "|", "cc", "-", ">", "contended", ")", "{", "<nl>", "+", "acct", "_", "isolated", "(", "zone", ",", "cc", ")", ";", "<nl>", "return", "ISOLATE", "_", "ABORT", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Either", "we", "isolated", "something", "and", "proceed", "with", "migration", ".", "Or", "<nl>"], "docstring_tokens": ["mm", "fix", "negative", "nr_isolated", "counts"]}
{"code_tokens": ["static", "int", "clcdfb", "_", "register", "(", "struct", "clcd", "_", "fb", "*", "fb", ")", "<nl>", "<nl>", "fb", "_", "set", "_", "var", "(", "&", "fb", "-", ">", "fb", ",", "&", "fb", "-", ">", "fb", ".", "var", ")", ";", "<nl>", "<nl>", "-", "printk", "(", "KERN", "_", "INFO", "\"", "CLCD", ":", "%", "s", "hardware", ",", "%", "s", "display", "\\", "n", "\"", ",", "<nl>", "-", "fb", "-", ">", "board", "-", ">", "name", ",", "fb", "-", ">", "panel", "-", ">", "mode", ".", "name", ")", ";", "<nl>", "+", "dev", "_", "info", "(", "&", "fb", "-", ">", "dev", "-", ">", "dev", ",", "\"", "%", "s", "hardware", ",", "%", "s", "display", "\\", "n", "\"", ",", "<nl>", "+", "fb", "-", ">", "board", "-", ">", "name", ",", "fb", "-", ">", "panel", "-", ">", "mode", ".", "name", ")", ";", "<nl>", "<nl>", "ret", "=", "register", "_", "framebuffer", "(", "&", "fb", "-", ">", "fb", ")", ";", "<nl>", "if", "(", "ret", "=", "=", "0", ")", "<nl>", "static", "int", "clcdfb", "_", "probe", "(", "struct", "amba", "_", "device", "*", "dev", ",", "struct", "amba", "_", "id", "*", "id", ")", "<nl>", "fb", "-", ">", "dev", "=", "dev", ";", "<nl>", "fb", "-", ">", "board", "=", "board", ";", "<nl>", "<nl>", "+", "dev", "_", "info", "(", "&", "fb", "-", ">", "dev", "-", ">", "dev", ",", "\"", "PL", "%", "03x", "rev", "%", "u", "at", "0x", "%", "08llx", "\\", "n", "\"", ",", "<nl>", "+", "amba", "_", "part", "(", "dev", ")", ",", "amba", "_", "rev", "(", "dev", ")", ",", "<nl>", "+", "(", "unsigned", "long", "long", ")", "dev", "-", ">", "res", ".", "start", ")", ";", "<nl>", "+", "<nl>", "ret", "=", "fb", "-", ">", "board", "-", ">", "setup", "(", "fb", ")", ";", "<nl>", "if", "(", "ret", ")", "<nl>", "goto", "free", "_", "fb", ";", "<nl>"], "docstring_tokens": ["ARM", "clcd", "clean", "up", "CLCD", "announcement", "printks"]}
{"code_tokens": ["static", "inline", "void", "kvm", "_", "s390", "_", "get", "_", "base", "_", "disp", "_", "sse", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "<nl>", "<nl>", "static", "inline", "void", "kvm", "_", "s390", "_", "get", "_", "regs", "_", "rre", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ",", "int", "*", "r1", ",", "int", "*", "r2", ")", "<nl>", "{", "<nl>", "-", "*", "r1", "=", "(", "vcpu", "-", ">", "arch", ".", "sie", "_", "block", "-", ">", "ipb", "&", "0x00f00000", ")", ">", ">", "20", ";", "<nl>", "-", "*", "r2", "=", "(", "vcpu", "-", ">", "arch", ".", "sie", "_", "block", "-", ">", "ipb", "&", "0x000f0000", ")", ">", ">", "16", ";", "<nl>", "+", "if", "(", "r1", ")", "<nl>", "+", "*", "r1", "=", "(", "vcpu", "-", ">", "arch", ".", "sie", "_", "block", "-", ">", "ipb", "&", "0x00f00000", ")", ">", ">", "20", ";", "<nl>", "+", "if", "(", "r2", ")", "<nl>", "+", "*", "r2", "=", "(", "vcpu", "-", ">", "arch", ".", "sie", "_", "block", "-", ">", "ipb", "&", "0x000f0000", ")", ">", ">", "16", ";", "<nl>", "}", "<nl>", "<nl>", "static", "inline", "u64", "kvm", "_", "s390", "_", "get", "_", "base", "_", "disp", "_", "rsy", "(", "struct", "kvm", "_", "vcpu", "*", "vcpu", ")", "<nl>"], "docstring_tokens": ["KVM", "s390", "Allow", "NULL", "parameter", "for", "kvm_s390_get_regs_rre"]}
{"code_tokens": ["static", "void", "unicast", "_", "arp", "_", "send", "(", "struct", "sk", "_", "buff", "*", "skb", ",", "struct", "net", "_", "device", "*", "dev", ",", "<nl>", "skb", "_", "push", "(", "skb", ",", "sizeof", "*", "phdr", ")", ";", "<nl>", "_", "_", "skb", "_", "queue", "_", "tail", "(", "&", "path", "-", ">", "queue", ",", "skb", ")", ";", "<nl>", "<nl>", "-", "if", "(", "path", "_", "rec", "_", "start", "(", "dev", ",", "path", ")", ")", "{", "<nl>", "+", "if", "(", "!", "path", "-", ">", "query", "&", "&", "path", "_", "rec", "_", "start", "(", "dev", ",", "path", ")", ")", "{", "<nl>", "spin", "_", "unlock", "_", "irqrestore", "(", "&", "priv", "-", ">", "lock", ",", "flags", ")", ";", "<nl>", "path", "_", "free", "(", "dev", ",", "path", ")", ";", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["IPoIB", "Fix", "crash", "in", "path_rec_completion"]}
{"code_tokens": ["intel", "_", "ring", "_", "alloc", "_", "request", "(", "struct", "intel", "_", "engine", "_", "cs", "*", "ring", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "kref", "_", "init", "(", "&", "request", "-", ">", "ref", ")", ";", "<nl>", "+", "request", "-", ">", "ring", "=", "ring", ";", "<nl>", "<nl>", "ret", "=", "i915", "_", "gem", "_", "get", "_", "seqno", "(", "ring", "-", ">", "dev", ",", "&", "request", "-", ">", "seqno", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "i915", "/", "intel", "_", "lrc", ".", "c", "<nl>", "intel", "_", "ring", "_", "alloc", "_", "request", "(", "struct", "intel", "_", "engine", "_", "cs", "*", "ring", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "kref", "_", "init", "(", "&", "request", "-", ">", "ref", ")", ";", "<nl>", "+", "request", "-", ">", "ring", "=", "ring", ";", "<nl>", "<nl>", "ret", "=", "i915", "_", "gem", "_", "get", "_", "seqno", "(", "ring", "-", ">", "dev", ",", "&", "request", "-", ">", "seqno", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "static", "int", "logical", "_", "ring", "_", "alloc", "_", "request", "(", "struct", "intel", "_", "engine", "_", "cs", "*", "ring", ",", "<nl>", "}", "<nl>", "<nl>", "kref", "_", "init", "(", "&", "request", "-", ">", "ref", ")", ";", "<nl>", "+", "request", "-", ">", "ring", "=", "ring", ";", "<nl>", "<nl>", "ret", "=", "i915", "_", "gem", "_", "get", "_", "seqno", "(", "ring", "-", ">", "dev", ",", "&", "request", "-", ">", "seqno", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "mmm", "drivers", "/", "gpu", "/", "drm", "/", "i915", "/", "i915", "_", "gem", ".", "c", "<nl>", "intel", "_", "ring", "_", "alloc", "_", "request", "(", "struct", "intel", "_", "engine", "_", "cs", "*", "ring", ")", "<nl>", "return", "-", "ENOMEM", ";", "<nl>", "<nl>", "kref", "_", "init", "(", "&", "request", "-", ">", "ref", ")", ";", "<nl>", "+", "request", "-", ">", "ring", "=", "ring", ";", "<nl>", "<nl>", "ret", "=", "i915", "_", "gem", "_", "get", "_", "seqno", "(", "ring", "-", ">", "dev", ",", "&", "request", "-", ">", "seqno", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "static", "int", "logical", "_", "ring", "_", "alloc", "_", "request", "(", "struct", "intel", "_", "engine", "_", "cs", "*", "ring", ",", "<nl>", "}", "<nl>", "<nl>", "kref", "_", "init", "(", "&", "request", "-", ">", "ref", ")", ";", "<nl>", "+", "request", "-", ">", "ring", "=", "ring", ";", "<nl>", "<nl>", "ret", "=", "i915", "_", "gem", "_", "get", "_", "seqno", "(", "ring", "-", ">", "dev", ",", "&", "request", "-", ">", "seqno", ")", ";", "<nl>", "if", "(", "ret", ")", "{", "<nl>", "int", "_", "_", "i915", "_", "add", "_", "request", "(", "struct", "intel", "_", "engine", "_", "cs", "*", "ring", ",", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "<nl>", "-", "request", "-", ">", "ring", "=", "ring", ";", "<nl>", "request", "-", ">", "head", "=", "request", "_", "start", ";", "<nl>", "request", "-", ">", "tail", "=", "request", "_", "ring", "_", "position", ";", "<nl>"], "docstring_tokens": ["drm", "i915", "Connect", "requests", "to", "rings", "at", "creation", "not", "submission"]}
{"code_tokens": ["static", "int", "sur40", "_", "probe", "(", "struct", "usb", "_", "interface", "*", "interface", ",", "<nl>", "sur40", "-", ">", "alloc", "_", "ctx", "=", "vb2", "_", "dma", "_", "sg", "_", "init", "_", "ctx", "(", "sur40", "-", ">", "dev", ")", ";", "<nl>", "if", "(", "IS", "_", "ERR", "(", "sur40", "-", ">", "alloc", "_", "ctx", ")", ")", "{", "<nl>", "dev", "_", "err", "(", "sur40", "-", ">", "dev", ",", "\"", "Can", "'", "t", "allocate", "buffer", "context", "\"", ")", ";", "<nl>", "+", "error", "=", "PTR", "_", "ERR", "(", "sur40", "-", ">", "alloc", "_", "ctx", ")", ";", "<nl>", "goto", "err", "_", "unreg", "_", "v4l2", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Input", "sur40", "fix", "error", "return", "code"]}
{"code_tokens": ["static", "int", "goldfish", "_", "audio", "_", "probe", "(", "struct", "platform", "_", "device", "*", "pdev", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "err", "_", "misc", "_", "register", "_", "failed", ":", "<nl>", "+", "free", "_", "irq", "(", "data", "-", ">", "irq", ",", "data", ")", ";", "<nl>", "err", "_", "request", "_", "irq", "_", "failed", ":", "<nl>", "dma", "_", "free", "_", "coherent", "(", "&", "pdev", "-", ">", "dev", ",", "COMBINED", "_", "BUFFER", "_", "SIZE", ",", "<nl>", "data", "-", ">", "buffer", "_", "virt", ",", "data", "-", ">", "buffer", "_", "phys", ")", ";", "<nl>"], "docstring_tokens": ["staging", "goldfish", "Call", "free_irq", "in", "error", "path"]}
{"code_tokens": ["static", "noinline", "struct", "module", "*", "load", "_", "module", "(", "void", "_", "_", "user", "*", "umod", ",", "<nl>", "free", "_", "unload", ":", "<nl>", "module", "_", "unload", "_", "free", "(", "mod", ")", ";", "<nl>", "#", "if", "defined", "(", "CONFIG", "_", "MODULE", "_", "UNLOAD", ")", "&", "&", "defined", "(", "CONFIG", "_", "SMP", ")", "<nl>", "-", "free", "_", "init", ":", "<nl>", "percpu", "_", "modfree", "(", "mod", "-", ">", "refptr", ")", ";", "<nl>", "+", "free", "_", "init", ":", "<nl>", "#", "endif", "<nl>", "module", "_", "free", "(", "mod", ",", "mod", "-", ">", "module", "_", "init", ")", ";", "<nl>", "free", "_", "core", ":", "<nl>"], "docstring_tokens": ["module", "don", "t", "call", "percpu_modfree", "on", "NULL", "pointer"]}
{"code_tokens": ["static", "unsigned", "long", "long", "notrace", "cyc", "_", "to", "_", "sched", "_", "clock", "(", "u32", "cyc", ",", "u32", "mask", ")", "<nl>", "u64", "epoch", "_", "ns", ";", "<nl>", "u32", "epoch", "_", "cyc", ";", "<nl>", "<nl>", "-", "if", "(", "cd", ".", "suspended", ")", "<nl>", "-", "return", "cd", ".", "epoch", "_", "ns", ";", "<nl>", "-", "<nl>", "/", "*", "<nl>", "*", "Load", "the", "epoch", "_", "cyc", "and", "epoch", "_", "ns", "atomically", ".", "We", "do", "this", "by", "<nl>", "*", "ensuring", "that", "we", "always", "write", "epoch", "_", "cyc", ",", "epoch", "_", "ns", "and", "<nl>", "unsigned", "long", "long", "_", "_", "read", "_", "mostly", "(", "*", "sched", "_", "clock", "_", "func", ")", "(", "void", ")", "=", "sched", "_", "clock", "_", "32", ";", "<nl>", "<nl>", "unsigned", "long", "long", "notrace", "sched", "_", "clock", "(", "void", ")", "<nl>", "{", "<nl>", "+", "if", "(", "cd", ".", "suspended", ")", "<nl>", "+", "return", "cd", ".", "epoch", "_", "ns", ";", "<nl>", "+", "<nl>", "return", "sched", "_", "clock", "_", "func", "(", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ARM", "sched_clock", "Return", "suspended", "count", "earlier"]}
{"code_tokens": ["static", "int", "pblk", "_", "rwb", "_", "init", "(", "struct", "pblk", "*", "pblk", ")", "<nl>", "struct", "pblk", "_", "rb", "_", "entry", "*", "entries", ";", "<nl>", "unsigned", "long", "nr", "_", "entries", ",", "buffer", "_", "size", ";", "<nl>", "unsigned", "int", "power", "_", "size", ",", "power", "_", "seg", "_", "sz", ";", "<nl>", "+", "int", "pgs", "_", "in", "_", "buffer", ";", "<nl>", "<nl>", "-", "if", "(", "write", "_", "buffer", "_", "size", "&", "&", "(", "write", "_", "buffer", "_", "size", ">", "pblk", "-", ">", "pgs", "_", "in", "_", "buffer", ")", ")", "<nl>", "+", "pgs", "_", "in", "_", "buffer", "=", "max", "(", "geo", "-", ">", "mw", "_", "cunits", ",", "geo", "-", ">", "ws", "_", "opt", ")", "*", "geo", "-", ">", "all", "_", "luns", ";", "<nl>", "+", "<nl>", "+", "if", "(", "write", "_", "buffer", "_", "size", "&", "&", "(", "write", "_", "buffer", "_", "size", ">", "pgs", "_", "in", "_", "buffer", ")", ")", "<nl>", "buffer", "_", "size", "=", "write", "_", "buffer", "_", "size", ";", "<nl>", "else", "<nl>", "-", "buffer", "_", "size", "=", "pblk", "-", ">", "pgs", "_", "in", "_", "buffer", ";", "<nl>", "+", "buffer", "_", "size", "=", "pgs", "_", "in", "_", "buffer", ";", "<nl>", "<nl>", "nr", "_", "entries", "=", "pblk", "_", "rb", "_", "calculate", "_", "size", "(", "buffer", "_", "size", ")", ";", "<nl>", "<nl>", "static", "int", "pblk", "_", "core", "_", "init", "(", "struct", "pblk", "*", "pblk", ")", "<nl>", "atomic64", "_", "set", "(", "&", "pblk", "-", ">", "nr", "_", "flush", ",", "0", ")", ";", "<nl>", "pblk", "-", ">", "nr", "_", "flush", "_", "rst", "=", "0", ";", "<nl>", "<nl>", "-", "pblk", "-", ">", "pgs", "_", "in", "_", "buffer", "=", "geo", "-", ">", "mw", "_", "cunits", "*", "geo", "-", ">", "all", "_", "luns", ";", "<nl>", "-", "<nl>", "pblk", "-", ">", "min", "_", "write", "_", "pgs", "=", "geo", "-", ">", "ws", "_", "opt", "*", "(", "geo", "-", ">", "csecs", "/", "PAGE", "_", "SIZE", ")", ";", "<nl>", "max", "_", "write", "_", "ppas", "=", "pblk", "-", ">", "min", "_", "write", "_", "pgs", "*", "geo", "-", ">", "all", "_", "luns", ";", "<nl>", "pblk", "-", ">", "max", "_", "write", "_", "pgs", "=", "min", "_", "t", "(", "int", ",", "max", "_", "write", "_", "ppas", ",", "NVM", "_", "MAX", "_", "VLBA", ")", ";", "mmm", "drivers", "/", "lightnvm", "/", "pblk", ".", "h", "<nl>", "static", "int", "pblk", "_", "rwb", "_", "init", "(", "struct", "pblk", "*", "pblk", ")", "<nl>", "struct", "pblk", "_", "rb", "_", "entry", "*", "entries", ";", "<nl>", "unsigned", "long", "nr", "_", "entries", ",", "buffer", "_", "size", ";", "<nl>", "unsigned", "int", "power", "_", "size", ",", "power", "_", "seg", "_", "sz", ";", "<nl>", "+", "int", "pgs", "_", "in", "_", "buffer", ";", "<nl>", "<nl>", "-", "if", "(", "write", "_", "buffer", "_", "size", "&", "&", "(", "write", "_", "buffer", "_", "size", ">", "pblk", "-", ">", "pgs", "_", "in", "_", "buffer", ")", ")", "<nl>", "+", "pgs", "_", "in", "_", "buffer", "=", "max", "(", "geo", "-", ">", "mw", "_", "cunits", ",", "geo", "-", ">", "ws", "_", "opt", ")", "*", "geo", "-", ">", "all", "_", "luns", ";", "<nl>", "+", "<nl>", "+", "if", "(", "write", "_", "buffer", "_", "size", "&", "&", "(", "write", "_", "buffer", "_", "size", ">", "pgs", "_", "in", "_", "buffer", ")", ")", "<nl>", "buffer", "_", "size", "=", "write", "_", "buffer", "_", "size", ";", "<nl>", "else", "<nl>", "-", "buffer", "_", "size", "=", "pblk", "-", ">", "pgs", "_", "in", "_", "buffer", ";", "<nl>", "+", "buffer", "_", "size", "=", "pgs", "_", "in", "_", "buffer", ";", "<nl>", "<nl>", "nr", "_", "entries", "=", "pblk", "_", "rb", "_", "calculate", "_", "size", "(", "buffer", "_", "size", ")", ";", "<nl>", "<nl>", "static", "int", "pblk", "_", "core", "_", "init", "(", "struct", "pblk", "*", "pblk", ")", "<nl>", "atomic64", "_", "set", "(", "&", "pblk", "-", ">", "nr", "_", "flush", ",", "0", ")", ";", "<nl>", "pblk", "-", ">", "nr", "_", "flush", "_", "rst", "=", "0", ";", "<nl>", "<nl>", "-", "pblk", "-", ">", "pgs", "_", "in", "_", "buffer", "=", "geo", "-", ">", "mw", "_", "cunits", "*", "geo", "-", ">", "all", "_", "luns", ";", "<nl>", "-", "<nl>", "pblk", "-", ">", "min", "_", "write", "_", "pgs", "=", "geo", "-", ">", "ws", "_", "opt", "*", "(", "geo", "-", ">", "csecs", "/", "PAGE", "_", "SIZE", ")", ";", "<nl>", "max", "_", "write", "_", "ppas", "=", "pblk", "-", ">", "min", "_", "write", "_", "pgs", "*", "geo", "-", ">", "all", "_", "luns", ";", "<nl>", "pblk", "-", ">", "max", "_", "write", "_", "pgs", "=", "min", "_", "t", "(", "int", ",", "max", "_", "write", "_", "ppas", ",", "NVM", "_", "MAX", "_", "VLBA", ")", ";", "<nl>", "struct", "pblk", "{", "<nl>", "<nl>", "int", "min", "_", "write", "_", "pgs", ";", "/", "*", "Minimum", "amount", "of", "pages", "required", "by", "controller", "*", "/", "<nl>", "int", "max", "_", "write", "_", "pgs", ";", "/", "*", "Maximum", "amount", "of", "pages", "supported", "by", "controller", "*", "/", "<nl>", "-", "int", "pgs", "_", "in", "_", "buffer", ";", "/", "*", "Number", "of", "pages", "that", "need", "to", "be", "held", "in", "buffer", "to", "<nl>", "-", "*", "guarantee", "successful", "reads", ".", "<nl>", "-", "*", "/", "<nl>", "<nl>", "sector", "_", "t", "capacity", ";", "/", "*", "Device", "capacity", "when", "bad", "blocks", "are", "subtracted", "*", "/", "<nl>"], "docstring_tokens": ["lightnvm", "pblk", "handle", "case", "when", "mw_cunits", "equals", "to", "0"]}
{"code_tokens": ["static", "int", "davinci", "_", "mcasp", "_", "set", "_", "dai", "_", "fmt", "(", "struct", "snd", "_", "soc", "_", "dai", "*", "cpu", "_", "dai", ",", "<nl>", "int", "ret", "=", "0", ";", "<nl>", "u32", "data", "_", "delay", ";", "<nl>", "bool", "fs", "_", "pol", "_", "rising", ";", "<nl>", "+", "bool", "inv", "_", "fs", "=", "false", ";", "<nl>", "<nl>", "pm", "_", "runtime", "_", "get", "_", "sync", "(", "mcasp", "-", ">", "dev", ")", ";", "<nl>", "switch", "(", "fmt", "&", "SND", "_", "SOC", "_", "DAIFMT", "_", "FORMAT", "_", "MASK", ")", "{", "<nl>", "static", "int", "davinci", "_", "mcasp", "_", "set", "_", "dai", "_", "fmt", "(", "struct", "snd", "_", "soc", "_", "dai", "*", "cpu", "_", "dai", ",", "<nl>", "/", "*", "No", "delay", "after", "FS", "*", "/", "<nl>", "data", "_", "delay", "=", "0", ";", "<nl>", "break", ";", "<nl>", "-", "default", ":", "<nl>", "+", "case", "SND", "_", "SOC", "_", "DAIFMT", "_", "I2S", ":", "<nl>", "/", "*", "configure", "a", "full", "-", "word", "SYNC", "pulse", "(", "LRCLK", ")", "*", "/", "<nl>", "mcasp", "_", "set", "_", "bits", "(", "mcasp", ",", "DAVINCI", "_", "MCASP", "_", "TXFMCTL", "_", "REG", ",", "FSXDUR", ")", ";", "<nl>", "mcasp", "_", "set", "_", "bits", "(", "mcasp", ",", "DAVINCI", "_", "MCASP", "_", "RXFMCTL", "_", "REG", ",", "FSRDUR", ")", ";", "<nl>", "<nl>", "/", "*", "1st", "data", "bit", "occur", "one", "ACLK", "cycle", "after", "the", "frame", "sync", "*", "/", "<nl>", "data", "_", "delay", "=", "1", ";", "<nl>", "+", "/", "*", "FS", "need", "to", "be", "inverted", "*", "/", "<nl>", "+", "inv", "_", "fs", "=", "true", ";", "<nl>", "break", ";", "<nl>", "+", "default", ":", "<nl>", "+", "ret", "=", "-", "EINVAL", ";", "<nl>", "+", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "mcasp", "_", "mod", "_", "bits", "(", "mcasp", ",", "DAVINCI", "_", "MCASP", "_", "TXFMT", "_", "REG", ",", "FSXDLY", "(", "data", "_", "delay", ")", ",", "<nl>", "static", "int", "davinci", "_", "mcasp", "_", "set", "_", "dai", "_", "fmt", "(", "struct", "snd", "_", "soc", "_", "dai", "*", "cpu", "_", "dai", ",", "<nl>", "goto", "out", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "inv", "_", "fs", ")", "<nl>", "+", "fs", "_", "pol", "_", "rising", "=", "!", "fs", "_", "pol", "_", "rising", ";", "<nl>", "+", "<nl>", "if", "(", "fs", "_", "pol", "_", "rising", ")", "{", "<nl>", "mcasp", "_", "clr", "_", "bits", "(", "mcasp", ",", "DAVINCI", "_", "MCASP", "_", "TXFMCTL", "_", "REG", ",", "FSXPOL", ")", ";", "<nl>", "mcasp", "_", "clr", "_", "bits", "(", "mcasp", ",", "DAVINCI", "_", "MCASP", "_", "RXFMCTL", "_", "REG", ",", "FSRPOL", ")", ";", "<nl>"], "docstring_tokens": ["ASoC", "davinci", "mcasp", "Add", "support", "for", "I2S", "format"]}
{"code_tokens": ["static", "int", "crypto", "_", "report", "(", "struct", "sk", "_", "buff", "*", "in", "_", "skb", ",", "struct", "nlmsghdr", "*", "in", "_", "nlh", ",", "<nl>", "drop", "_", "alg", ":", "<nl>", "crypto", "_", "mod", "_", "put", "(", "alg", ")", ";", "<nl>", "<nl>", "-", "if", "(", "err", ")", "<nl>", "+", "if", "(", "err", ")", "{", "<nl>", "+", "kfree", "_", "skb", "(", "skb", ")", ";", "<nl>", "return", "err", ";", "<nl>", "+", "}", "<nl>", "<nl>", "return", "nlmsg", "_", "unicast", "(", "net", "-", ">", "crypto", "_", "nlsk", ",", "skb", ",", "NETLINK", "_", "CB", "(", "in", "_", "skb", ")", ".", "portid", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["crypto", "user", "fix", "memory", "leak", "in", "crypto_report"]}
{"code_tokens": ["int", "mthca", "_", "alloc", "_", "qp", "(", "struct", "mthca", "_", "dev", "*", "dev", ",", "<nl>", "}", "<nl>", "<nl>", "static", "void", "mthca", "_", "lock", "_", "cqs", "(", "struct", "mthca", "_", "cq", "*", "send", "_", "cq", ",", "struct", "mthca", "_", "cq", "*", "recv", "_", "cq", ")", "<nl>", "+", "_", "_", "acquires", "(", "&", "send", "_", "cq", "-", ">", "lock", ")", "_", "_", "acquires", "(", "&", "recv", "_", "cq", "-", ">", "lock", ")", "<nl>", "{", "<nl>", "-", "if", "(", "send", "_", "cq", "=", "=", "recv", "_", "cq", ")", "<nl>", "+", "if", "(", "send", "_", "cq", "=", "=", "recv", "_", "cq", ")", "{", "<nl>", "spin", "_", "lock", "_", "irq", "(", "&", "send", "_", "cq", "-", ">", "lock", ")", ";", "<nl>", "-", "else", "if", "(", "send", "_", "cq", "-", ">", "cqn", "<", "recv", "_", "cq", "-", ">", "cqn", ")", "{", "<nl>", "+", "_", "_", "acquire", "(", "&", "recv", "_", "cq", "-", ">", "lock", ")", ";", "<nl>", "+", "}", "else", "if", "(", "send", "_", "cq", "-", ">", "cqn", "<", "recv", "_", "cq", "-", ">", "cqn", ")", "{", "<nl>", "spin", "_", "lock", "_", "irq", "(", "&", "send", "_", "cq", "-", ">", "lock", ")", ";", "<nl>", "spin", "_", "lock", "_", "nested", "(", "&", "recv", "_", "cq", "-", ">", "lock", ",", "SINGLE", "_", "DEPTH", "_", "NESTING", ")", ";", "<nl>", "}", "else", "{", "<nl>", "static", "void", "mthca", "_", "lock", "_", "cqs", "(", "struct", "mthca", "_", "cq", "*", "send", "_", "cq", ",", "struct", "mthca", "_", "cq", "*", "recv", "_", "cq", ")", "<nl>", "}", "<nl>", "<nl>", "static", "void", "mthca", "_", "unlock", "_", "cqs", "(", "struct", "mthca", "_", "cq", "*", "send", "_", "cq", ",", "struct", "mthca", "_", "cq", "*", "recv", "_", "cq", ")", "<nl>", "+", "_", "_", "releases", "(", "&", "send", "_", "cq", "-", ">", "lock", ")", "_", "_", "releases", "(", "&", "recv", "_", "cq", "-", ">", "lock", ")", "<nl>", "{", "<nl>", "-", "if", "(", "send", "_", "cq", "=", "=", "recv", "_", "cq", ")", "<nl>", "+", "if", "(", "send", "_", "cq", "=", "=", "recv", "_", "cq", ")", "{", "<nl>", "+", "_", "_", "release", "(", "&", "recv", "_", "cq", "-", ">", "lock", ")", ";", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "&", "send", "_", "cq", "-", ">", "lock", ")", ";", "<nl>", "-", "else", "if", "(", "send", "_", "cq", "-", ">", "cqn", "<", "recv", "_", "cq", "-", ">", "cqn", ")", "{", "<nl>", "+", "}", "else", "if", "(", "send", "_", "cq", "-", ">", "cqn", "<", "recv", "_", "cq", "-", ">", "cqn", ")", "{", "<nl>", "spin", "_", "unlock", "(", "&", "recv", "_", "cq", "-", ">", "lock", ")", ";", "<nl>", "spin", "_", "unlock", "_", "irq", "(", "&", "send", "_", "cq", "-", ">", "lock", ")", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["IB", "mthca", "Annotate", "CQ", "locking"]}
{"code_tokens": ["static", "int", "hist", "_", "entry", "_", "_", "srcline", "_", "snprintf", "(", "struct", "hist", "_", "entry", "*", "self", ",", "char", "*", "bf", ",", "<nl>", "if", "(", "path", "!", "=", "NULL", ")", "<nl>", "goto", "out", "_", "path", ";", "<nl>", "<nl>", "+", "if", "(", "!", "self", "-", ">", "ms", ".", "map", ")", "<nl>", "+", "goto", "out", "_", "ip", ";", "<nl>", "+", "<nl>", "snprintf", "(", "cmd", ",", "sizeof", "(", "cmd", ")", ",", "\"", "addr2line", "-", "e", "%", "s", "%", "016", "\"", "PRIx64", ",", "<nl>", "self", "-", ">", "ms", ".", "map", "-", ">", "dso", "-", ">", "long", "_", "name", ",", "self", "-", ">", "ip", ")", ";", "<nl>", "fp", "=", "popen", "(", "cmd", ",", "\"", "r", "\"", ")", ";", "<nl>"], "docstring_tokens": ["perf", "tools", "Fix", "segfault", "when", "using", "srcline", "sort", "key"]}
{"code_tokens": ["static", "const", "struct", "snd", "_", "pci", "_", "quirk", "stac92hd73xx", "_", "cfg", "_", "tbl", "[", "]", "=", "{", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "PCI", "_", "VENDOR", "_", "ID", "_", "DELL", ",", "0x02bd", ",", "<nl>", "\"", "Dell", "Studio", "1557", "\"", ",", "STAC", "_", "DELL", "_", "M6", "_", "DMIC", ")", ",", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "PCI", "_", "VENDOR", "_", "ID", "_", "DELL", ",", "0x02fe", ",", "<nl>", "-", "\"", "Dell", "Studio", "XPS", "1645", "\"", ",", "STAC", "_", "DELL", "_", "M6", "_", "BOTH", ")", ",", "<nl>", "+", "\"", "Dell", "Studio", "XPS", "1645", "\"", ",", "STAC", "_", "DELL", "_", "M6", "_", "DMIC", ")", ",", "<nl>", "SND", "_", "PCI", "_", "QUIRK", "(", "PCI", "_", "VENDOR", "_", "ID", "_", "DELL", ",", "0x0413", ",", "<nl>", "\"", "Dell", "Studio", "1558", "\"", ",", "STAC", "_", "DELL", "_", "M6", "_", "DMIC", ")", ",", "<nl>", "{", "}", "/", "*", "terminator", "*", "/", "<nl>"], "docstring_tokens": ["ALSA", "HDA", "Fix", "internal", "microphone", "on", "Dell", "Studio", "16", "XPS", "1645"]}
{"code_tokens": ["static", "int", "src", "_", "parser", "_", "trans", "_", "stage", "_", "1", "_", "2", "_", "3", "(", "const", "int", "tmp", "_", "fd", ",", "const", "char", "*", "src", ",", "const", "<nl>", "(", "PBUF", "_", "TMP", "_", "PREV", "_", "CHAR", "(", "pbuf", ")", "=", "=", "'", "'", "|", "|", "PBUF", "_", "TMP", "_", "PREV", "_", "CHAR", "(", "pbuf", ")", "=", "=", "'", "\\", "t", "'", "|", "|", "<nl>", "PBUF", "_", "TMP", "_", "PREV", "_", "CHAR", "(", "pbuf", ")", "=", "=", "'", "\\", "n", "'", ")", ")", "{", "<nl>", "pbuf", ".", "f", "_", "indx", "+", "+", ";", "<nl>", "-", "}", "else", "if", "(", "pbuf", ".", "tmp", "_", "indx", "&", "&", "<nl>", "+", "}", "else", "if", "(", "pbuf", ".", "tmp", "_", "indx", "&", "&", "<nl>", "(", "PBUF", "_", "TMP", "_", "PREV", "_", "CHAR", "(", "pbuf", ")", "=", "=", "'", "\\", "\\", "'", ")", ")", "{", "<nl>", "pbuf", ".", "tmp", "_", "indx", "-", "-", ";", "<nl>", "pbuf", ".", "f", "_", "indx", "+", "+", ";", "<nl>", "static", "int", "src", "_", "parser", "_", "trans", "_", "stage", "_", "1", "_", "2", "_", "3", "(", "const", "int", "tmp", "_", "fd", ",", "const", "char", "*", "src", ",", "const", "<nl>", "continue", ";", "<nl>", "<nl>", "case", "'", "\\", "\\", "'", ":", "<nl>", "+", "p", "_", "buf", "_", "write", "_", "tmp", "(", "&", "pbuf", ",", "tmp", "_", "fd", ")", ";", "<nl>", "p", "_", "buf", "_", "push", "_", "tmp", "_", "char", "(", "&", "pbuf", ",", "'", "\\", "\\", "'", ")", ";", "<nl>", "continue", ";", "<nl>", "<nl>", "case", "'", "/", "'", ":", "<nl>", "+", "p", "_", "buf", "_", "write", "_", "tmp", "(", "&", "pbuf", ",", "tmp", "_", "fd", ")", ";", "<nl>", "p", "_", "buf", "_", "push", "_", "tmp", "_", "char", "(", "&", "pbuf", ",", "'", "/", "'", ")", ";", "<nl>", "continue", ";", "<nl>"], "docstring_tokens": ["Fix", "parser", "tmp", "buffer", "overflow", "issue"]}
{"code_tokens": ["static", "void", "ssdp", "_", "recv", "(", "int", "sd", ")", "<nl>", "ssize", "_", "t", "len", ";", "<nl>", "struct", "sockaddr", "sa", ";", "<nl>", "socklen", "_", "t", "salen", ";", "<nl>", "-", "char", "buf", "[", "MAX", "_", "PKT", "_", "SIZE", "]", ";", "<nl>", "+", "char", "buf", "[", "MAX", "_", "PKT", "_", "SIZE", "+", "1", "]", ";", "<nl>", "<nl>", "memset", "(", "buf", ",", "0", ",", "sizeof", "(", "buf", ")", ")", ";", "<nl>", "-", "len", "=", "recvfrom", "(", "sd", ",", "buf", ",", "sizeof", "(", "buf", ")", ",", "MSG", "_", "DONTWAIT", ",", "&", "sa", ",", "&", "salen", ")", ";", "<nl>", "+", "len", "=", "recvfrom", "(", "sd", ",", "buf", ",", "sizeof", "(", "buf", ")", "-", "1", ",", "MSG", "_", "DONTWAIT", ",", "&", "sa", ",", "&", "salen", ")", ";", "<nl>", "if", "(", "len", ">", "0", ")", "{", "<nl>", "-", "buf", "[", "len", "]", "=", "0", ";", "<nl>", "-", "<nl>", "if", "(", "sa", ".", "sa", "_", "family", "!", "=", "AF", "_", "INET", ")", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["Fix", "1", "Ensure", "recv", "buf", "is", "always", "NUL", "terminated"]}
{"code_tokens": ["static", "void", "handle", "_", "PORT", "(", "ctrl", "_", "t", "*", "ctrl", ",", "char", "*", "str", ")", "<nl>", "<nl>", "/", "*", "Convert", "PORT", "command", "'", "s", "argument", "to", "IP", "address", "+", "port", "*", "/", "<nl>", "sscanf", "(", "str", ",", "\"", "%", "d", ",", "%", "d", ",", "%", "d", ",", "%", "d", ",", "%", "d", ",", "%", "d", "\"", ",", "&", "a", ",", "&", "b", ",", "&", "c", ",", "&", "d", ",", "&", "e", ",", "&", "f", ")", ";", "<nl>", "-", "sprintf", "(", "addr", ",", "\"", "%", "d", ".", "%", "d", ".", "%", "d", ".", "%", "d", "\"", ",", "a", ",", "b", ",", "c", ",", "d", ")", ";", "<nl>", "+", "snprintf", "(", "addr", ",", "sizeof", "(", "addr", ")", ",", "\"", "%", "d", ".", "%", "d", ".", "%", "d", ".", "%", "d", "\"", ",", "a", ",", "b", ",", "c", ",", "d", ")", ";", "<nl>", "<nl>", "/", "*", "Check", "IPv4", "address", "using", "inet", "_", "aton", "(", ")", ",", "throw", "away", "converted", "result", "*", "/", "<nl>", "if", "(", "!", "inet", "_", "aton", "(", "addr", ",", "&", "(", "sin", ".", "sin", "_", "addr", ")", ")", ")", "{", "<nl>"], "docstring_tokens": ["FTP", "Fix", "buffer", "overflow", "in", "PORT", "parser", "reported", "by", "Aaron", "Esau"]}
{"code_tokens": ["check", ":", "<nl>", "strlcat", "(", "rpath", ",", "name", ",", "sizeof", "(", "rpath", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "!", "chrooted", "&", "&", "strncmp", "(", "dir", ",", "home", ",", "strlen", "(", "home", ")", ")", ")", "{", "<nl>", "+", "if", "(", "!", "chrooted", "&", "&", "strncmp", "(", "rpath", ",", "home", ",", "strlen", "(", "home", ")", ")", ")", "{", "<nl>", "DBG", "(", "\"", "Failed", "non", "-", "chroot", "dir", ":", "%", "s", "vs", "home", ":", "%", "s", "\"", ",", "dir", ",", "home", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["FTP", "TFTP", "Fix", "directory", "traversal", "regression", "reported", "by", "Aaron", "Esau"]}
{"code_tokens": ["template", "<", "class", "T", ">", "Values", ":", ":", "Field", "*", "<nl>", "return", "new", "Values", ":", ":", "Float", "(", "pos", ",", "source", ".", "ToNumber", "(", ")", ".", "DoubleValue", "(", ")", ")", ";", "<nl>", "}", "<nl>", "else", "if", "(", "source", ".", "IsObject", "(", ")", ")", "{", "<nl>", "-", "std", ":", ":", "string", "val", "=", "source", ".", "ToString", "(", ")", ".", "Utf8Value", "(", ")", ";", "<nl>", "+", "Napi", ":", ":", "String", "napiVal", "=", "source", ".", "ToString", "(", ")", ";", "<nl>", "+", "/", "/", "Check", "whether", "toString", "returned", "a", "value", "that", "is", "not", "undefined", ".", "<nl>", "+", "if", "(", "napiVal", ".", "Type", "(", ")", "=", "=", "0", ")", "{", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "std", ":", ":", "string", "val", "=", "napiVal", ".", "Utf8Value", "(", ")", ";", "<nl>", "return", "new", "Values", ":", ":", "Text", "(", "pos", ",", "val", ".", "length", "(", ")", ",", "val", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>"], "docstring_tokens": ["bug", "fix", "segfault", "of", "invalid", "toString", "object", "1450"]}
{"code_tokens": ["Bool", "rfbOptPamAuth", "(", "void", ")", "<nl>", "<nl>", "for", "(", "s", "=", "secTypes", ";", "s", "-", ">", "name", "!", "=", "NULL", ";", "s", "+", "+", ")", "{", "<nl>", "if", "(", "(", "!", "strcmp", "(", "s", "-", ">", "name", ",", "\"", "unixlogin", "\"", ")", "|", "|", "<nl>", "-", "!", "strcmp", "(", "&", "s", "-", ">", "name", "[", "strlen", "(", "s", "-", ">", "name", ")", "-", "5", "]", ",", "\"", "plain", "\"", ")", ")", "&", "&", "s", "-", ">", "enabled", ")", "<nl>", "+", "strstr", "(", "s", "-", ">", "name", ",", "\"", "plain", "\"", ")", ")", "&", "&", "s", "-", ">", "enabled", ")", "<nl>", "return", "TRUE", ";", "<nl>", "}", "<nl>", "Bool", "rfbOptPamAuth", "(", "void", ")", "<nl>", "<nl>", "for", "(", "s", "=", "secTypes", ";", "s", "-", ">", "name", "!", "=", "NULL", ";", "s", "+", "+", ")", "{", "<nl>", "if", "(", "(", "!", "strcmp", "(", "s", "-", ">", "name", ",", "\"", "unixlogin", "\"", ")", "|", "|", "<nl>", "-", "!", "strcmp", "(", "&", "s", "-", ">", "name", "[", "strlen", "(", "s", "-", ">", "name", ")", "-", "5", "]", ",", "\"", "plain", "\"", ")", ")", "&", "&", "s", "-", ">", "enabled", ")", "<nl>", "+", "strstr", "(", "s", "-", ">", "name", ",", "\"", "plain", "\"", ")", ")", "&", "&", "s", "-", ">", "enabled", ")", "<nl>", "return", "TRUE", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "rfbProcessClientNormalMessage", "(", "rfbClientPtr", "cl", ")", "<nl>", "<nl>", "flags", "=", "Swap32IfLE", "(", "msg", ".", "f", ".", "flags", ")", ";", "<nl>", "<nl>", "-", "READ", "(", "data", ",", "msg", ".", "f", ".", "length", ")", "<nl>", "-", "<nl>", "-", "if", "(", "msg", ".", "f", ".", "length", ">", "sizeof", "(", "data", ")", ")", "<nl>", "+", "if", "(", "msg", ".", "f", ".", "length", ">", "sizeof", "(", "data", ")", ")", "{", "<nl>", "rfbLog", "(", "\"", "Ignoring", "fence", ".", "Payload", "of", "%", "d", "bytes", "is", "too", "large", ".", "\\", "n", "\"", ",", "<nl>", "msg", ".", "f", ".", "length", ")", ";", "<nl>", "-", "else", "<nl>", "+", "SKIP", "(", "msg", ".", "f", ".", "length", ")", "<nl>", "+", "}", "else", "{", "<nl>", "+", "READ", "(", "data", ",", "msg", ".", "f", ".", "length", ")", "<nl>", "HandleFence", "(", "cl", ",", "flags", ",", "msg", ".", "f", ".", "length", ",", "data", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "return", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Server", "Fix", "two", "issues", "identified", "by", "ASan"]}
{"code_tokens": ["static", "int", "nfs", "_", "lookup", "_", "reply", "(", "uchar", "*", "pkt", ",", "unsigned", "len", ")", "<nl>", "}", "<nl>", "<nl>", "if", "(", "supported", "_", "nfs", "_", "versions", "&", "NFSV2", "_", "FLAG", ")", "{", "<nl>", "+", "if", "(", "(", "(", "uchar", "*", ")", "&", "(", "rpc", "_", "pkt", ".", "u", ".", "reply", ".", "data", "[", "0", "]", ")", "-", "(", "uchar", "*", ")", "(", "&", "rpc", "_", "pkt", ")", "+", "NFS", "_", "FHSIZE", ")", ">", "len", ")", "<nl>", "+", "return", "-", "NFS", "_", "RPC", "_", "DROP", ";", "<nl>", "memcpy", "(", "filefh", ",", "rpc", "_", "pkt", ".", "u", ".", "reply", ".", "data", "+", "1", ",", "NFS", "_", "FHSIZE", ")", ";", "<nl>", "}", "else", "{", "/", "*", "NFSV3", "_", "FLAG", "*", "/", "<nl>", "filefh3", "_", "length", "=", "ntohl", "(", "rpc", "_", "pkt", ".", "u", ".", "reply", ".", "data", "[", "1", "]", ")", ";", "<nl>", "if", "(", "filefh3", "_", "length", ">", "NFS3", "_", "FHSIZE", ")", "<nl>", "filefh3", "_", "length", "=", "NFS3", "_", "FHSIZE", ";", "<nl>", "+", "if", "(", "(", "(", "uchar", "*", ")", "&", "(", "rpc", "_", "pkt", ".", "u", ".", "reply", ".", "data", "[", "0", "]", ")", "-", "(", "uchar", "*", ")", "(", "&", "rpc", "_", "pkt", ")", "+", "filefh3", "_", "length", ")", ">", "len", ")", "<nl>", "+", "return", "-", "NFS", "_", "RPC", "_", "DROP", ";", "<nl>", "memcpy", "(", "filefh", ",", "rpc", "_", "pkt", ".", "u", ".", "reply", ".", "data", "+", "2", ",", "filefh3", "_", "length", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["CVE", "2019", "14196", "nfs", "fix", "unbounded", "memcpy", "with", "a", "failed", "length", "check", "at", "nfs_lookup_reply"]}
{"code_tokens": ["int", "fdt", "_", "find", "_", "regions", "(", "const", "void", "*", "fdt", ",", "char", "*", "const", "inc", "[", "]", ",", "int", "inc", "_", "count", ",", "<nl>", "int", "depth", "=", "-", "1", ";", "<nl>", "int", "want", "=", "0", ";", "<nl>", "int", "base", "=", "fdt", "_", "off", "_", "dt", "_", "struct", "(", "fdt", ")", ";", "<nl>", "+", "bool", "expect", "_", "end", "=", "false", ";", "<nl>", "<nl>", "end", "=", "path", ";", "<nl>", "*", "end", "=", "'", "\\", "0", "'", ";", "<nl>", "int", "fdt", "_", "find", "_", "regions", "(", "const", "void", "*", "fdt", ",", "char", "*", "const", "inc", "[", "]", ",", "int", "inc", "_", "count", ",", "<nl>", "tag", "=", "fdt", "_", "next", "_", "tag", "(", "fdt", ",", "offset", ",", "&", "nextoffset", ")", ";", "<nl>", "stop", "_", "at", "=", "nextoffset", ";", "<nl>", "<nl>", "+", "/", "*", "If", "we", "see", "two", "root", "nodes", ",", "something", "is", "wrong", "*", "/", "<nl>", "+", "if", "(", "expect", "_", "end", "&", "&", "tag", "!", "=", "FDT", "_", "END", ")", "<nl>", "+", "return", "-", "FDT", "_", "ERR", "_", "BADLAYOUT", ";", "<nl>", "+", "<nl>", "switch", "(", "tag", ")", "{", "<nl>", "case", "FDT", "_", "PROP", ":", "<nl>", "include", "=", "want", ">", "=", "2", ";", "<nl>", "int", "fdt", "_", "find", "_", "regions", "(", "const", "void", "*", "fdt", ",", "char", "*", "const", "inc", "[", "]", ",", "int", "inc", "_", "count", ",", "<nl>", "if", "(", "depth", "=", "=", "FDT", "_", "MAX", "_", "DEPTH", ")", "<nl>", "return", "-", "FDT", "_", "ERR", "_", "BADSTRUCTURE", ";", "<nl>", "name", "=", "fdt", "_", "get", "_", "name", "(", "fdt", ",", "offset", ",", "&", "len", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "The", "root", "node", "must", "have", "an", "empty", "name", "*", "/", "<nl>", "+", "if", "(", "!", "depth", "&", "&", "*", "name", ")", "<nl>", "+", "return", "-", "FDT", "_", "ERR", "_", "BADLAYOUT", ";", "<nl>", "if", "(", "end", "-", "path", "+", "2", "+", "len", ">", "=", "path", "_", "len", ")", "<nl>", "return", "-", "FDT", "_", "ERR", "_", "NOSPACE", ";", "<nl>", "if", "(", "end", "!", "=", "path", "+", "1", ")", "<nl>", "int", "fdt", "_", "find", "_", "regions", "(", "const", "void", "*", "fdt", ",", "char", "*", "const", "inc", "[", "]", ",", "int", "inc", "_", "count", ",", "<nl>", "while", "(", "end", ">", "path", "&", "&", "*", "-", "-", "end", "!", "=", "'", "/", "'", ")", "<nl>", ";", "<nl>", "*", "end", "=", "'", "\\", "0", "'", ";", "<nl>", "+", "if", "(", "depth", "=", "=", "-", "1", ")", "<nl>", "+", "expect", "_", "end", "=", "true", ";", "<nl>", "break", ";", "<nl>", "<nl>", "case", "FDT", "_", "END", ":", "<nl>"], "docstring_tokens": ["fdt_region", "Check", "for", "a", "single", "root", "node", "of", "the", "correct", "name"]}
{"code_tokens": ["void", "color", "_", "cmyk", "_", "to", "_", "rgb", "(", "opj", "_", "image", "_", "t", "*", "image", ")", "<nl>", "w", "=", "image", "-", ">", "comps", "[", "0", "]", ".", "w", ";", "<nl>", "h", "=", "image", "-", ">", "comps", "[", "0", "]", ".", "h", ";", "<nl>", "<nl>", "-", "if", "(", "image", "-", ">", "numcomps", "<", "4", ")", "return", ";", "<nl>", "+", "if", "(", "<nl>", "+", "(", "image", "-", ">", "numcomps", "<", "4", ")", "<nl>", "+", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dx", "!", "=", "image", "-", ">", "comps", "[", "1", "]", ".", "dx", ")", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dx", "!", "=", "image", "-", ">", "comps", "[", "2", "]", ".", "dx", ")", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dx", "!", "=", "image", "-", ">", "comps", "[", "3", "]", ".", "dx", ")", "<nl>", "+", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dy", "!", "=", "image", "-", ">", "comps", "[", "1", "]", ".", "dy", ")", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dy", "!", "=", "image", "-", ">", "comps", "[", "2", "]", ".", "dy", ")", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dy", "!", "=", "image", "-", ">", "comps", "[", "3", "]", ".", "dy", ")", "<nl>", "+", ")", "{", "<nl>", "+", "fprintf", "(", "stderr", ",", "\"", "%", "s", ":", "%", "d", ":", "color", "_", "cmyk", "_", "to", "_", "rgb", "\\", "n", "\\", "tCAN", "NOT", "CONVERT", "\\", "n", "\"", ",", "_", "_", "FILE", "_", "_", ",", "_", "_", "LINE", "_", "_", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "max", "=", "w", "*", "h", ";", "<nl>"], "docstring_tokens": ["Fix", "Heap", "Buffer", "Overflow", "in", "function", "color_cmyk_to_rgb"]}
{"code_tokens": ["opj", "_", "image", "_", "t", "*", "OPJ", "_", "CALLCONV", "opj", "_", "image", "_", "create", "(", "OPJ", "_", "UINT32", "numcmpts", ",", "<nl>", "image", "-", ">", "color", "_", "space", "=", "clrspc", ";", "<nl>", "image", "-", ">", "numcomps", "=", "numcmpts", ";", "<nl>", "/", "*", "allocate", "memory", "for", "the", "per", "-", "component", "information", "*", "/", "<nl>", "-", "image", "-", ">", "comps", "=", "(", "opj", "_", "image", "_", "comp", "_", "t", "*", ")", "opj", "_", "calloc", "(", "1", ",", "<nl>", "-", "image", "-", ">", "numcomps", "*", "sizeof", "(", "opj", "_", "image", "_", "comp", "_", "t", ")", ")", ";", "<nl>", "+", "image", "-", ">", "comps", "=", "(", "opj", "_", "image", "_", "comp", "_", "t", "*", ")", "opj", "_", "calloc", "(", "image", "-", ">", "numcomps", ",", "<nl>", "+", "sizeof", "(", "opj", "_", "image", "_", "comp", "_", "t", ")", ")", ";", "<nl>", "if", "(", "!", "image", "-", ">", "comps", ")", "{", "<nl>", "/", "*", "TODO", "replace", "with", "event", "manager", ",", "breaks", "API", "*", "/", "<nl>", "/", "*", "fprintf", "(", "stderr", ",", "\"", "Unable", "to", "allocate", "memory", "for", "image", ".", "\\", "n", "\"", ")", ";", "*", "/", "<nl>"], "docstring_tokens": ["fix", "unchecked", "integer", "multiplication", "overflow"]}
{"code_tokens": ["again", ":", "<nl>", "}", "<nl>", "<nl>", "if", "(", "argv", "[", "opj", "_", "optind", "]", "[", "0", "]", "=", "=", "'", "-", "'", ")", "{", "/", "*", "long", "option", "*", "/", "<nl>", "-", "char", "*", "arg", "=", "argv", "[", "opj", "_", "optind", "]", "+", "1", ";", "<nl>", "+", "char", "*", "arg", ";", "<nl>", "const", "opj", "_", "option", "_", "t", "*", "o", ";", "<nl>", "o", "=", "longopts", ";", "<nl>", "len", "=", "sizeof", "(", "longopts", "[", "0", "]", ")", ";", "<nl>", "<nl>", "if", "(", "param", ">", "1", ")", "{", "<nl>", "+", "if", "(", "opj", "_", "optind", "+", "1", ">", "=", "argc", ")", "{", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "}", "<nl>", "arg", "=", "argv", "[", "opj", "_", "optind", "+", "1", "]", ";", "<nl>", "opj", "_", "optind", "+", "+", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["opj_getopt", "c", "avoid", "crash", "on", "invalid", "input", "301"]}
{"code_tokens": ["int", "get", "_", "num", "_", "images", "(", "char", "*", "imgdirpath", ")", "{", "<nl>", "continue", ";", "<nl>", "num", "_", "images", "+", "+", ";", "<nl>", "}", "<nl>", "+", "closedir", "(", "dir", ")", ";", "<nl>", "return", "num", "_", "images", ";", "<nl>", "}", "<nl>", "<nl>", "int", "load", "_", "images", "(", "dircnt", "_", "t", "*", "dirptr", ",", "char", "*", "imgdirpath", ")", "{", "<nl>", "strcpy", "(", "dirptr", "-", ">", "filename", "[", "i", "]", ",", "content", "-", ">", "d", "_", "name", ")", ";", "<nl>", "i", "+", "+", ";", "<nl>", "}", "<nl>", "+", "closedir", "(", "dir", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "resource", "leak"]}
{"code_tokens": ["int", "main", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "<nl>", "<nl>", "/", "*", "Remove", "the", "temporary", "files", "*", "/", "<nl>", "/", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "*", "/", "<nl>", "-", "if", "(", "cp", ".", "decod", "_", "format", "!", "=", "PGX", "_", "CFMT", ")", "{", "/", "*", "PNM", "PGM", "PPM", "or", "BMP", "*", "/", "<nl>", "+", "if", "(", "cp", ".", "decod", "_", "format", "!", "=", "PGX", "_", "DFMT", ")", "{", "/", "*", "PNM", "PGM", "PPM", "or", "BMP", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "img", ".", "numcomps", ";", "i", "+", "+", ")", "{", "<nl>", "char", "tmp", ";", "<nl>", "sprintf", "(", "&", "tmp", ",", "\"", "Compo", "%", "d", "\"", ",", "i", ")", ";", "<nl>"], "docstring_tokens": ["Input", "file", "format", "bug", "fixed"]}
{"code_tokens": ["void", "scale", "_", "component", "(", "opj", "_", "image", "_", "comp", "_", "t", "*", "component", ",", "OPJ", "_", "UINT32", "precision", ")", "<nl>", "return", ";", "<nl>", "}", "<nl>", "if", "(", "component", "-", ">", "prec", "<", "precision", ")", "{", "<nl>", "-", "shift", "=", "precision", "-", "component", "-", ">", "prec", ";", "<nl>", "+", "shift", "=", "(", "int", ")", "(", "precision", "-", "component", "-", ">", "prec", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "shift", "=", "component", "-", ">", "prec", "-", "precision", ";", "<nl>", "+", "shift", "=", "(", "int", ")", "(", "component", "-", ">", "prec", "-", "precision", ")", ";", "<nl>", "}", "<nl>", "len", "=", "(", "OPJ", "_", "SIZE", "_", "T", ")", "component", "-", ">", "w", "*", "(", "OPJ", "_", "SIZE", "_", "T", ")", "component", "-", ">", "h", ";", "<nl>", "<nl>", "static", "opj", "_", "image", "_", "t", "*", "rawtoimage", "_", "common", "(", "const", "char", "*", "filename", ",", "opj", "_", "cparameters", "_", "t", "*", "p", "<nl>", "}", "<nl>", "w", "=", "raw", "_", "cp", "-", ">", "rawWidth", ";", "<nl>", "h", "=", "raw", "_", "cp", "-", ">", "rawHeight", ";", "<nl>", "-", "cmptparm", "=", "(", "opj", "_", "image", "_", "cmptparm", "_", "t", "*", ")", "calloc", "(", "numcomps", ",", "sizeof", "(", "opj", "_", "image", "_", "cmptparm", "_", "t", ")", ")", ";", "<nl>", "+", "cmptparm", "=", "(", "opj", "_", "image", "_", "cmptparm", "_", "t", "*", ")", "calloc", "(", "(", "OPJ", "_", "UINT32", ")", "numcomps", ",", "sizeof", "(", "opj", "_", "image", "_", "cmptparm", "_", "t", ")", ")", ";", "<nl>", "if", "(", "!", "cmptparm", ")", "{", "<nl>", "fprintf", "(", "stderr", ",", "\"", "Failed", "to", "allocate", "image", "components", "parameters", "!", "!", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "stderr", ",", "\"", "Aborting", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["trunk", "removed", "some", "warnings", "when", "building", "src", "bin", "jp2", "convert", "c"]}
{"code_tokens": ["static", "INLINE", "OPJ", "_", "BOOL", "opj", "_", "dwt", "_", "encode", "_", "procedure", "(", "opj", "_", "tcd", "_", "tilecomp", "_", "t", "*", "tilec", ",", "void", "<nl>", "<nl>", "l", "_", "data", "_", "size", "=", "opj", "_", "dwt", "_", "max", "_", "resolution", "(", "tilec", "-", ">", "resolutions", ",", "tilec", "-", ">", "numresolutions", ")", "*", "(", "OPJ", "_", "UINT32", ")", "sizeof", "(", "OPJ", "_", "INT32", ")", ";", "<nl>", "bj", "=", "(", "OPJ", "_", "INT32", "*", ")", "opj", "_", "malloc", "(", "(", "size", "_", "t", ")", "l", "_", "data", "_", "size", ")", ";", "<nl>", "-", "if", "(", "!", "bj", ")", "{", "<nl>", "+", "if", "(", "l", "_", "data", "_", "size", "!", "=", "0", "&", "&", "!", "bj", ")", "{", "<nl>", "return", "OPJ", "_", "FALSE", ";", "<nl>", "}", "<nl>", "i", "=", "l", ";", "<nl>"], "docstring_tokens": ["git", "2", "1", "regression", "Fix", "opj_write_tile", "failure", "when", "numresolutions", "1"]}
{"code_tokens": ["static", "OPJ", "_", "BOOL", "bmp", "_", "read", "_", "raw", "_", "data", "(", "FILE", "*", "IN", ",", "OPJ", "_", "UINT8", "*", "pData", ",", "OPJ", "_", "UINT32", "stride", ",", "<nl>", "static", "OPJ", "_", "BOOL", "bmp", "_", "read", "_", "rle8", "_", "data", "(", "FILE", "*", "IN", ",", "OPJ", "_", "UINT8", "*", "pData", ",", "<nl>", "OPJ", "_", "UINT32", "stride", ",", "OPJ", "_", "UINT32", "width", ",", "OPJ", "_", "UINT32", "height", ")", "<nl>", "{", "<nl>", "-", "OPJ", "_", "UINT32", "x", ",", "y", ";", "<nl>", "+", "OPJ", "_", "UINT32", "x", ",", "y", ",", "written", ";", "<nl>", "OPJ", "_", "UINT8", "*", "pix", ";", "<nl>", "const", "OPJ", "_", "UINT8", "*", "beyond", ";", "<nl>", "<nl>", "beyond", "=", "pData", "+", "stride", "*", "height", ";", "<nl>", "pix", "=", "pData", ";", "<nl>", "<nl>", "-", "x", "=", "y", "=", "0U", ";", "<nl>", "+", "x", "=", "y", "=", "written", "=", "0U", ";", "<nl>", "while", "(", "y", "<", "height", ")", "{", "<nl>", "int", "c", "=", "getc", "(", "IN", ")", ";", "<nl>", "if", "(", "c", "=", "=", "EOF", ")", "{", "<nl>", "static", "OPJ", "_", "BOOL", "bmp", "_", "read", "_", "rle8", "_", "data", "(", "FILE", "*", "IN", ",", "OPJ", "_", "UINT8", "*", "pData", ",", "<nl>", "for", "(", "j", "=", "0", ";", "(", "j", "<", "c", ")", "&", "&", "(", "x", "<", "width", ")", "&", "&", "<nl>", "(", "(", "OPJ", "_", "SIZE", "_", "T", ")", "pix", "<", "(", "OPJ", "_", "SIZE", "_", "T", ")", "beyond", ")", ";", "j", "+", "+", ",", "x", "+", "+", ",", "pix", "+", "+", ")", "{", "<nl>", "*", "pix", "=", "c1", ";", "<nl>", "+", "written", "+", "+", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "c", "=", "getc", "(", "IN", ")", ";", "<nl>", "static", "OPJ", "_", "BOOL", "bmp", "_", "read", "_", "rle8", "_", "data", "(", "FILE", "*", "IN", ",", "OPJ", "_", "UINT8", "*", "pData", ",", "<nl>", "}", "<nl>", "c1", "=", "(", "OPJ", "_", "UINT8", ")", "c1", "_", "int", ";", "<nl>", "*", "pix", "=", "c1", ";", "<nl>", "+", "written", "+", "+", ";", "<nl>", "}", "<nl>", "if", "(", "(", "OPJ", "_", "UINT32", ")", "c", "&", "1U", ")", "{", "/", "*", "skip", "padding", "byte", "*", "/", "<nl>", "c", "=", "getc", "(", "IN", ")", ";", "<nl>", "static", "OPJ", "_", "BOOL", "bmp", "_", "read", "_", "rle8", "_", "data", "(", "FILE", "*", "IN", ",", "OPJ", "_", "UINT8", "*", "pData", ",", "<nl>", "}", "<nl>", "}", "<nl>", "}", "/", "*", "while", "(", ")", "*", "/", "<nl>", "+", "<nl>", "+", "if", "(", "written", "!", "=", "width", "*", "height", ")", "{", "<nl>", "+", "fprintf", "(", "stderr", ",", "\"", "warning", ",", "image", "'", "s", "actual", "size", "does", "not", "match", "advertized", "one", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "OPJ", "_", "FALSE", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "return", "OPJ", "_", "TRUE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["convertbmp", "detect", "invalid", "file", "dimensions", "early"]}
{"code_tokens": ["static", "INLINE", "OPJ", "_", "BOOL", "opj", "_", "tcd", "_", "init", "_", "tile", "(", "opj", "_", "tcd", "_", "t", "*", "p", "_", "tcd", ",", "OPJ", "_", "UINT32", "p", "_", "tile", "_", "no", ",", "<nl>", "<nl>", "/", "*", "compute", "l", "_", "data", "_", "size", "with", "overflow", "check", "*", "/", "<nl>", "l", "_", "data", "_", "size", "=", "(", "OPJ", "_", "UINT32", ")", "(", "l", "_", "tilec", "-", ">", "x1", "-", "l", "_", "tilec", "-", ">", "x0", ")", ";", "<nl>", "-", "if", "(", "(", "(", "(", "OPJ", "_", "UINT32", ")", "-", "1", ")", "/", "l", "_", "data", "_", "size", ")", "<", "(", "OPJ", "_", "UINT32", ")", "(", "l", "_", "tilec", "-", ">", "y1", "-", "l", "_", "tilec", "-", ">", "y0", ")", ")", "{", "<nl>", "+", "/", "*", "issue", "733", ",", "l", "_", "data", "_", "size", "=", "=", "0U", ",", "probably", "something", "wrong", "should", "be", "checked", "before", "getting", "here", "*", "/", "<nl>", "+", "if", "(", "(", "l", "_", "data", "_", "size", ">", "0U", ")", "&", "&", "(", "(", "(", "(", "OPJ", "_", "UINT32", ")", "-", "1", ")", "/", "l", "_", "data", "_", "size", ")", "<", "(", "OPJ", "_", "UINT32", ")", "(", "l", "_", "tilec", "-", ">", "y1", "-", "l", "_", "tilec", "-", ">", "y0", ")", ")", ")", "{", "<nl>", "opj", "_", "event", "_", "msg", "(", "manager", ",", "EVT", "_", "ERROR", ",", "\"", "Not", "enough", "memory", "for", "tile", "data", "\\", "n", "\"", ")", ";", "<nl>", "return", "OPJ", "_", "FALSE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "division", "by", "zero"]}
{"code_tokens": ["static", "OPJ", "_", "BOOL", "opj", "_", "j2k", "_", "write", "_", "mco", "(", "opj", "_", "j2k", "_", "t", "*", "p", "_", "j2k", ",", "<nl>", "assert", "(", "p", "_", "stream", "!", "=", "00", ")", ";", "<nl>", "<nl>", "l", "_", "tcp", "=", "&", "(", "p", "_", "j2k", "-", ">", "m", "_", "cp", ".", "tcps", "[", "p", "_", "j2k", "-", ">", "m", "_", "current", "_", "tile", "_", "number", "]", ")", ";", "<nl>", "-", "l", "_", "current", "_", "data", "=", "p", "_", "j2k", "-", ">", "m", "_", "specific", "_", "param", ".", "m", "_", "encoder", ".", "m", "_", "header", "_", "tile", "_", "data", ";", "<nl>", "-", "<nl>", "+", "<nl>", "l", "_", "mco", "_", "size", "=", "5", "+", "l", "_", "tcp", "-", ">", "m", "_", "nb", "_", "mcc", "_", "records", ";", "<nl>", "if", "(", "l", "_", "mco", "_", "size", ">", "p", "_", "j2k", "-", ">", "m", "_", "specific", "_", "param", ".", "m", "_", "encoder", ".", "m", "_", "header", "_", "tile", "_", "data", "_", "size", ")", "{", "<nl>", "<nl>", "static", "OPJ", "_", "BOOL", "opj", "_", "j2k", "_", "write", "_", "mco", "(", "opj", "_", "j2k", "_", "t", "*", "p", "_", "j2k", ",", "<nl>", "p", "_", "j2k", "-", ">", "m", "_", "specific", "_", "param", ".", "m", "_", "encoder", ".", "m", "_", "header", "_", "tile", "_", "data", "=", "new", "_", "header", "_", "tile", "_", "data", ";", "<nl>", "p", "_", "j2k", "-", ">", "m", "_", "specific", "_", "param", ".", "m", "_", "encoder", ".", "m", "_", "header", "_", "tile", "_", "data", "_", "size", "=", "l", "_", "mco", "_", "size", ";", "<nl>", "}", "<nl>", "+", "l", "_", "current", "_", "data", "=", "p", "_", "j2k", "-", ">", "m", "_", "specific", "_", "param", ".", "m", "_", "encoder", ".", "m", "_", "header", "_", "tile", "_", "data", ";", "<nl>", "+", "<nl>", "<nl>", "opj", "_", "write", "_", "bytes", "(", "l", "_", "current", "_", "data", ",", "J2K", "_", "MS", "_", "MCO", ",", "2", ")", ";", "/", "*", "MCO", "*", "/", "<nl>", "l", "_", "current", "_", "data", "+", "=", "2", ";", "<nl>", "static", "OPJ", "_", "BOOL", "opj", "_", "j2k", "_", "write", "_", "mco", "(", "opj", "_", "j2k", "_", "t", "*", "p", "_", "j2k", ",", "<nl>", "+", "+", "l", "_", "current", "_", "data", ";", "<nl>", "<nl>", "l", "_", "mcc", "_", "record", "=", "l", "_", "tcp", "-", ">", "m", "_", "mcc", "_", "records", ";", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "l", "_", "tcp", "-", ">", "m", "_", "nb", "_", "mcc", "_", "records", ";", "+", "+", "i", ")", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "l", "_", "tcp", "-", ">", "m", "_", "nb", "_", "mcc", "_", "records", ";", "+", "+", "i", ")", "{", "<nl>", "opj", "_", "write", "_", "bytes", "(", "l", "_", "current", "_", "data", ",", "l", "_", "mcc", "_", "record", "-", ">", "m", "_", "index", ",", "1", ")", ";", "/", "*", "Imco", "-", ">", "use", "the", "mcc", "indicated", "by", "1", "*", "/", "<nl>", "+", "+", "l", "_", "current", "_", "data", ";", "<nl>", "-", "<nl>", "+", "+", "l", "_", "mcc", "_", "record", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "potential", "use", "after", "free", "in", "opj_j2k_write_mco", "function"]}
{"code_tokens": ["void", "color", "_", "esycc", "_", "to", "_", "rgb", "(", "opj", "_", "image", "_", "t", "*", "image", ")", "<nl>", "int", "flip", "_", "value", "=", "(", "1", "<", "<", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "prec", "-", "1", ")", ")", ";", "<nl>", "int", "max", "_", "value", "=", "(", "1", "<", "<", "image", "-", ">", "comps", "[", "0", "]", ".", "prec", ")", "-", "1", ";", "<nl>", "<nl>", "-", "if", "(", "image", "-", ">", "numcomps", "<", "3", ")", "return", ";", "<nl>", "+", "if", "(", "<nl>", "+", "(", "image", "-", ">", "numcomps", "<", "3", ")", "<nl>", "+", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dx", "!", "=", "image", "-", ">", "comps", "[", "1", "]", ".", "dx", ")", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dx", "!", "=", "image", "-", ">", "comps", "[", "2", "]", ".", "dx", ")", "<nl>", "+", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dy", "!", "=", "image", "-", ">", "comps", "[", "1", "]", ".", "dy", ")", "|", "|", "(", "image", "-", ">", "comps", "[", "0", "]", ".", "dy", "!", "=", "image", "-", ">", "comps", "[", "2", "]", ".", "dy", ")", "<nl>", "+", ")", "{", "<nl>", "+", "fprintf", "(", "stderr", ",", "\"", "%", "s", ":", "%", "d", ":", "color", "_", "esycc", "_", "to", "_", "rgb", "\\", "n", "\\", "tCAN", "NOT", "CONVERT", "\\", "n", "\"", ",", "_", "_", "FILE", "_", "_", ",", "_", "_", "LINE", "_", "_", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "w", "=", "image", "-", ">", "comps", "[", "0", "]", ".", "w", ";", "<nl>", "h", "=", "image", "-", ">", "comps", "[", "0", "]", ".", "h", ";", "<nl>"], "docstring_tokens": ["Fix", "heap", "buffer", "overflow", "in", "color_esycc_to_rgb", "748"]}
{"code_tokens": ["static", "OPJ", "_", "BOOL", "opj", "_", "tcd", "_", "code", "_", "block", "_", "enc", "_", "allocate", "_", "data", "(", "opj", "_", "tcd", "_", "cblk", "_", "enc", "_", "t", "*", "<nl>", "{", "<nl>", "OPJ", "_", "UINT32", "l", "_", "data", "_", "size", ";", "<nl>", "<nl>", "-", "/", "*", "The", "+", "1", "is", "needed", "for", "https", ":", "/", "/", "github", ".", "com", "/", "uclouvain", "/", "openjpeg", "/", "issues", "/", "835", "*", "/", "<nl>", "-", "l", "_", "data", "_", "size", "=", "1", "+", "(", "OPJ", "_", "UINT32", ")", "(", "(", "p", "_", "code", "_", "block", "-", ">", "x1", "-", "p", "_", "code", "_", "block", "-", ">", "x0", ")", "*", "<nl>", "+", "/", "*", "+", "1", "is", "needed", "for", "https", ":", "/", "/", "github", ".", "com", "/", "uclouvain", "/", "openjpeg", "/", "issues", "/", "835", "*", "/", "<nl>", "+", "/", "*", "and", "actually", "+", "2", "required", "for", "https", ":", "/", "/", "github", ".", "com", "/", "uclouvain", "/", "openjpeg", "/", "issues", "/", "982", "*", "/", "<nl>", "+", "/", "*", "TODO", ":", "is", "there", "a", "theoretical", "upper", "-", "bound", "for", "the", "compressed", "code", "*", "/", "<nl>", "+", "/", "*", "block", "size", "?", "*", "/", "<nl>", "+", "l", "_", "data", "_", "size", "=", "2", "+", "(", "OPJ", "_", "UINT32", ")", "(", "(", "p", "_", "code", "_", "block", "-", ">", "x1", "-", "p", "_", "code", "_", "block", "-", ">", "x0", ")", "*", "<nl>", "(", "p", "_", "code", "_", "block", "-", ">", "y1", "-", "p", "_", "code", "_", "block", "-", ">", "y0", ")", "*", "(", "OPJ", "_", "INT32", ")", "sizeof", "(", "OPJ", "_", "UINT32", ")", ")", ";", "<nl>", "<nl>", "if", "(", "l", "_", "data", "_", "size", ">", "p", "_", "code", "_", "block", "-", ">", "data", "_", "size", ")", "{", "<nl>"], "docstring_tokens": ["Encoder", "grow", "buffer", "size", "in", "opj_tcd_code_block_enc_allocate_data", "to", "avoid", "write", "heap", "buffer", "overflow", "in", "opj_mqc_flush", "982"]}
{"code_tokens": ["void", "opj", "_", "tcd", "_", "makelayer", "(", "opj", "_", "tcd", "_", "t", "*", "tcd", ",", "<nl>", "n", "=", "passno", "+", "1", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "-", "if", "(", "thresh", "-", "(", "dd", "/", "dr", ")", "<", "=", "DBL", "_", "EPSILON", ")", "/", "*", "do", "not", "rely", "on", "float", "equality", ",", "check", "with", "DBL", "_", "EPSILON", "margin", "*", "/", "<nl>", "+", "if", "(", "thresh", "-", "(", "dd", "/", "dr", ")", "<", "DBL", "_", "EPSILON", ")", "/", "*", "do", "not", "rely", "on", "float", "equality", ",", "check", "with", "DBL", "_", "EPSILON", "margin", "*", "/", "<nl>", "n", "=", "passno", "+", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Change", "test", "in", "opj_tcd_makelayer"]}
{"code_tokens": ["static", "OPJ", "_", "BOOL", "bmp", "_", "read", "_", "info", "_", "header", "(", "FILE", "*", "IN", ",", "OPJ", "_", "BITMAPINFOHEADER", "*", "header", ")", "<nl>", "<nl>", "header", "-", ">", "biBitCount", "=", "(", "OPJ", "_", "UINT16", ")", "getc", "(", "IN", ")", ";", "<nl>", "header", "-", ">", "biBitCount", "|", "=", "(", "OPJ", "_", "UINT16", ")", "(", "(", "OPJ", "_", "UINT32", ")", "getc", "(", "IN", ")", "<", "<", "8", ")", ";", "<nl>", "+", "if", "(", "header", "-", ">", "biBitCount", "=", "=", "0", ")", "{", "<nl>", "+", "fprintf", "(", "stderr", ",", "\"", "Error", ",", "invalid", "biBitCount", "%", "d", "\\", "n", "\"", ",", "0", ")", ";", "<nl>", "+", "return", "OPJ", "_", "FALSE", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "header", "-", ">", "biSize", ">", "=", "40U", ")", "{", "<nl>", "header", "-", ">", "biCompression", "=", "(", "OPJ", "_", "UINT32", ")", "getc", "(", "IN", ")", ";", "<nl>"], "docstring_tokens": ["bmp_read_info_header", "reject", "bmp", "files", "with", "biBitCount", "0", "983"]}
{"code_tokens": ["#", "ifdef", "_", "_", "GNUC", "_", "_", "<nl>", "#", "define", "DEPRECATED", "(", "func", ")", "func", "_", "_", "attribute", "_", "_", "(", "(", "deprecated", ")", ")", "<nl>", "#", "elif", "defined", "(", "_", "MSC", "_", "VER", ")", "<nl>", "-", "#", "define", "DEPRECATED", "(", "func", ")", "_", "_", "declspec", "(", "deprecated", ")", "func", "<nl>", "+", "#", "define", "OPJ", "_", "DEPRECATED", "(", "func", ")", "_", "_", "declspec", "(", "deprecated", ")", "func", "<nl>", "#", "else", "<nl>", "#", "pragma", "message", "(", "\"", "WARNING", ":", "You", "need", "to", "implement", "DEPRECATED", "for", "this", "compiler", "\"", ")", "<nl>", "-", "#", "define", "DEPRECATED", "(", "func", ")", "func", "<nl>", "+", "#", "define", "OPJ", "_", "DEPRECATED", "(", "func", ")", "func", "<nl>", "#", "endif", "<nl>", "<nl>", "#", "if", "defined", "(", "OPJ", "_", "STATIC", ")", "|", "|", "!", "defined", "(", "_", "WIN32", ")", "<nl>", "OPJ", "_", "API", "opj", "_", "stream", "_", "t", "*", "OPJ", "_", "CALLCONV", "opj", "_", "stream", "_", "create", "(", "OPJ", "_", "SIZE", "_", "T", "p", "_", "buffer", "_", "size", ",", "O", "<nl>", "*", "<nl>", "*", "@", "param", "p", "_", "stream", "the", "stream", "to", "destroy", ".", "<nl>", "*", "/", "<nl>", "-", "OPJ", "_", "API", "void", "OPJ", "_", "CALLCONV", "opj", "_", "stream", "_", "destroy", "(", "opj", "_", "stream", "_", "t", "*", "p", "_", "stream", ")", ";", "<nl>", "+", "OPJ", "_", "DEPRECATED", "(", "OPJ", "_", "API", "void", "OPJ", "_", "CALLCONV", "opj", "_", "stream", "_", "destroy", "(", "opj", "_", "stream", "_", "t", "*", "p", "_", "stream", ")", ")", ";", "<nl>", "OPJ", "_", "API", "void", "OPJ", "_", "CALLCONV", "opj", "_", "stream", "_", "destroy", "_", "v3", "(", "opj", "_", "stream", "_", "t", "*", "p", "_", "stream", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["trunk", "rename", "deprecated", "macro", "with", "opj_", "prefix", "and", "use", "it", "for", "opj_stream_destroy", "function"]}
{"code_tokens": ["opj", "_", "pi", "_", "iterator", "_", "t", "*", "opj", "_", "pi", "_", "create", "_", "decode", "(", "opj", "_", "image", "_", "t", "*", "p", "_", "image", ",", "<nl>", "l", "_", "current", "_", "pi", "=", "l", "_", "pi", ";", "<nl>", "<nl>", "/", "*", "memory", "allocation", "for", "include", "*", "/", "<nl>", "-", "l", "_", "current", "_", "pi", "-", ">", "include", "=", "(", "OPJ", "_", "INT16", "*", ")", "opj", "_", "calloc", "(", "(", "l", "_", "tcp", "-", ">", "numlayers", "+", "1", ")", "*", "l", "_", "step", "_", "l", ",", "sizeof", "(", "OPJ", "_", "INT16", ")", ")", ";", "<nl>", "+", "/", "*", "prevent", "an", "integer", "overflow", "issue", "*", "/", "<nl>", "+", "l", "_", "current", "_", "pi", "-", ">", "include", "=", "00", ";", "<nl>", "+", "if", "(", "l", "_", "step", "_", "l", "<", "=", "(", "SIZE", "_", "MAX", "/", "(", "l", "_", "tcp", "-", ">", "numlayers", "+", "1U", ")", ")", ")", "<nl>", "+", "{", "<nl>", "+", "l", "_", "current", "_", "pi", "-", ">", "include", "=", "(", "OPJ", "_", "INT16", "*", ")", "opj", "_", "calloc", "(", "(", "l", "_", "tcp", "-", ">", "numlayers", "+", "1", ")", "*", "l", "_", "step", "_", "l", ",", "sizeof", "(", "OPJ", "_", "INT16", ")", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "<nl>", "(", "!", "l", "_", "current", "_", "pi", "-", ">", "include", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["Fix", "an", "integer", "overflow", "issue", "809"]}
{"code_tokens": ["int", "main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "fread", "(", "frame", "_", "codestream", ",", "sample", "-", ">", "sample", "_", "size", "-", "8", ",", "1", ",", "<nl>", "file", ")", ";", "/", "*", "Assuming", "that", "jp", "and", "ftyp", "markers", "size", "do", "*", "/", "<nl>", "<nl>", "-", "sprintf", "(", "outfilename", ",", "\"", "%", "s", "_", "%", "05d", ".", "j2k", "\"", ",", "argv", "[", "2", "]", ",", "snum", ")", ";", "<nl>", "+", "{", "<nl>", "+", "int", "num", "=", "snprintf", "(", "outfilename", ",", "sizeof", "(", "outfilename", ")", ",", "<nl>", "+", "\"", "%", "s", "_", "%", "05d", ".", "j2k", "\"", ",", "argv", "[", "2", "]", ",", "<nl>", "+", "snum", ")", ";", "<nl>", "+", "if", "(", "num", ">", "=", "sizeof", "(", "outfilename", ")", ")", "{", "<nl>", "+", "fprintf", "(", "stderr", ",", "\"", "maximum", "length", "of", "output", "prefix", "exceeded", "\\", "n", "\"", ")", ";", "<nl>", "+", "free", "(", "frame", "_", "codestream", ")", ";", "<nl>", "+", "return", "1", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "outfile", "=", "fopen", "(", "outfilename", ",", "\"", "wb", "\"", ")", ";", "<nl>", "if", "(", "!", "outfile", ")", "{", "<nl>", "fprintf", "(", "stderr", ",", "\"", "failed", "to", "open", "%", "s", "for", "writing", "\\", "n", "\"", ",", "outfilename", ")", ";", "<nl>", "+", "free", "(", "frame", "_", "codestream", ")", ";", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>", "fwrite", "(", "frame", "_", "codestream", ",", "sample", "-", ">", "sample", "_", "size", "-", "8", ",", "1", ",", "outfile", ")", ";", "<nl>"], "docstring_tokens": ["opj_mj2_extract", "Check", "provided", "output", "prefix", "for", "length"]}
{"code_tokens": ["opj", "_", "image", "_", "t", "*", "tiftoimage", "(", "const", "char", "*", "filename", ",", "opj", "_", "cparameters", "_", "t", "*", "parameters", ")", "<nl>", "*", "/", "<nl>", "memset", "(", "&", "cmptparm", "[", "0", "]", ",", "0", ",", "4", "*", "sizeof", "(", "opj", "_", "image", "_", "cmptparm", "_", "t", ")", ")", ";", "<nl>", "<nl>", "+", "if", "(", "(", "tiPhoto", "=", "=", "PHOTOMETRIC", "_", "RGB", ")", "&", "&", "(", "parameters", "-", ">", "cp", "_", "cinema", ")", ")", "{", "<nl>", "+", "fprintf", "(", "stdout", ",", "\"", "WARNING", ":", "\\", "n", "\"", "<nl>", "+", "\"", "Input", "image", "bitdepth", "is", "%", "d", "bits", "\\", "n", "\"", "<nl>", "+", "\"", "TIF", "conversion", "has", "automatically", "rescaled", "to", "12", "-", "bits", "\\", "n", "\"", "<nl>", "+", "\"", "to", "comply", "with", "cinema", "profiles", ".", "\\", "n", "\"", ",", "<nl>", "+", "tiBps", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "tiPhoto", "=", "=", "PHOTOMETRIC", "_", "RGB", ")", "/", "*", "RGB", "(", "A", ")", "*", "/", "<nl>", "{", "<nl>", "numcomps", "=", "3", "+", "has", "_", "alpha", ";", "<nl>"], "docstring_tokens": ["trunk", "added", "a", "warning", "when", "tif", "conversion", "changes", "input", "image", "bitdepth"]}
{"code_tokens": ["opj", "_", "image", "_", "t", "*", "pgxtoimage", "(", "const", "char", "*", "filename", ",", "opj", "_", "cparameters", "_", "t", "*", "parameters", ")", "<nl>", "}", "<nl>", "<nl>", "fseek", "(", "f", ",", "0", ",", "SEEK", "_", "SET", ")", ";", "<nl>", "-", "if", "(", "fscanf", "(", "f", ",", "\"", "PG", "%", "[", "\\", "t", "]", "%", "c", "%", "c", "%", "[", "\\", "t", "+", "-", "]", "%", "d", "%", "[", "\\", "t", "]", "%", "d", "%", "[", "\\", "t", "]", "%", "d", "\"", ",", "temp", ",", "&", "endian1", ",", "<nl>", "+", "if", "(", "fscanf", "(", "f", ",", "\"", "PG", "%", "31", "[", "\\", "t", "]", "%", "c", "%", "c", "%", "31", "[", "\\", "t", "+", "-", "]", "%", "d", "%", "31", "[", "\\", "t", "]", "%", "d", "%", "31", "[", "\\", "t", "]", "%", "d", "\"", ",", "temp", ",", "&", "endian1", ",", "<nl>", "&", "endian2", ",", "signtmp", ",", "&", "prec", ",", "temp", ",", "&", "w", ",", "temp", ",", "&", "h", ")", "!", "=", "9", ")", "{", "<nl>", "fclose", "(", "f", ")", ";", "<nl>", "fprintf", "(", "stderr", ",", "<nl>"], "docstring_tokens": ["pgxtoimage", "fix", "write", "stack", "buffer", "overflow", "997"]}
{"code_tokens": ["opj", "_", "pi", "_", "iterator", "_", "t", "*", "opj", "_", "pi", "_", "create", "_", "decode", "(", "opj", "_", "image", "_", "t", "*", "p", "_", "image", ",", "<nl>", "l", "_", "current", "_", "pi", "-", ">", "include", "=", "00", ";", "<nl>", "if", "(", "l", "_", "step", "_", "l", "<", "=", "(", "SIZE", "_", "MAX", "/", "(", "l", "_", "tcp", "-", ">", "numlayers", "+", "1U", ")", ")", ")", "<nl>", "{", "<nl>", "-", "l", "_", "current", "_", "pi", "-", ">", "include", "=", "(", "OPJ", "_", "INT16", "*", ")", "opj", "_", "calloc", "(", "(", "l", "_", "tcp", "-", ">", "numlayers", "+", "1", ")", "*", "l", "_", "step", "_", "l", ",", "sizeof", "(", "OPJ", "_", "INT16", ")", ")", ";", "<nl>", "+", "l", "_", "current", "_", "pi", "-", ">", "include", "=", "(", "OPJ", "_", "INT16", "*", ")", "opj", "_", "calloc", "(", "(", "size", "_", "t", ")", "(", "l", "_", "tcp", "-", ">", "numlayers", "+", "1U", ")", "*", "l", "_", "step", "_", "l", ",", "sizeof", "(", "OPJ", "_", "INT16", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "<nl>"], "docstring_tokens": ["Cast", "to", "size_t", "before", "multiplication"]}
{"code_tokens": ["static", "OPJ", "_", "BOOL", "opj", "_", "j2k", "_", "read", "_", "rgn", "(", "opj", "_", "j2k", "_", "t", "*", "p", "_", "j2k", ",", "<nl>", "}", ";", "<nl>", "#", "endif", "/", "*", "USE", "_", "JPWL", "*", "/", "<nl>", "<nl>", "+", "/", "*", "testcase", "3635", ".", "pdf", ".", "asan", ".", "77", ".", "2930", "*", "/", "<nl>", "+", "if", "(", "l", "_", "comp", "_", "no", ">", "=", "l", "_", "nb", "_", "comp", ")", "{", "<nl>", "+", "opj", "_", "event", "_", "msg", "(", "p", "_", "manager", ",", "EVT", "_", "ERROR", ",", "<nl>", "+", "\"", "bad", "component", "number", "in", "RGN", "(", "%", "d", "when", "there", "are", "only", "%", "d", ")", "\\", "n", "\"", ",", "<nl>", "+", "l", "_", "comp", "_", "no", ",", "l", "_", "nb", "_", "comp", ")", ";", "<nl>", "+", "return", "OPJ", "_", "FALSE", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "opj", "_", "read", "_", "bytes", "(", "p", "_", "header", "_", "data", ",", "(", "OPJ", "_", "UINT32", "*", ")", "(", "&", "(", "l", "_", "tcp", "-", ">", "tccps", "[", "l", "_", "comp", "_", "no", "]", ".", "roishift", ")", ")", ",", "1", ")", ";", "/", "*", "SPrgn", "*", "/", "<nl>", "+", "+", "p", "_", "header", "_", "data", ";", "<nl>"], "docstring_tokens": ["trunk", "Really", "apply", "r2460", "this", "time", "but", "fix", "the", "original", "typo", "in", "the", "submitted", "patch"]}
{"code_tokens": ["static", "int", "vidioc", "_", "querycap", "(", "struct", "file", "*", "file", ",", "void", "*", "priv", ",", "<nl>", "_", "_", "u32", "capabilities", "=", "V4L2", "_", "CAP", "_", "STREAMING", "|", "V4L2", "_", "CAP", "_", "READWRITE", ";", "<nl>", "<nl>", "strlcpy", "(", "cap", "-", ">", "driver", ",", "\"", "v4l2", "loopback", "\"", ",", "sizeof", "(", "cap", "-", ">", "driver", ")", ")", ";", "<nl>", "-", "snprintf", "(", "cap", "-", ">", "card", ",", "labellen", ",", "dev", "-", ">", "card", "_", "label", ")", ";", "<nl>", "+", "snprintf", "(", "cap", "-", ">", "card", ",", "labellen", ",", "\"", "%", "s", "\"", ",", "dev", "-", ">", "card", "_", "label", ")", ";", "<nl>", "snprintf", "(", "cap", "-", ">", "bus", "_", "info", ",", "sizeof", "(", "cap", "-", ">", "bus", "_", "info", ")", ",", "<nl>", "\"", "platform", ":", "v4l2loopback", "-", "%", "03d", "\"", ",", "device", "_", "nr", ")", ";", "<nl>", "<nl>", "static", "int", "v4l2", "_", "loopback", "_", "add", "(", "struct", "v4l2", "_", "loopback", "_", "config", "*", "conf", ",", "int", "*", "ret", "_", "nr", ")", "<nl>", "}", "<nl>", "<nl>", "MARK", "(", ")", ";", "<nl>", "-", "snprintf", "(", "dev", "-", ">", "vdev", "-", ">", "name", ",", "sizeof", "(", "dev", "-", ">", "vdev", "-", ">", "name", ")", ",", "dev", "-", ">", "card", "_", "label", ")", ";", "<nl>", "+", "snprintf", "(", "dev", "-", ">", "vdev", "-", ">", "name", ",", "sizeof", "(", "dev", "-", ">", "vdev", "-", ">", "name", ")", ",", "\"", "%", "s", "\"", ",", "dev", "-", ">", "card", "_", "label", ")", ";", "<nl>", "<nl>", "vdev", "_", "priv", "-", ">", "device", "_", "nr", "=", "nr", ";", "<nl>"], "docstring_tokens": ["add", "explicit", "format", "specifier", "to", "printf", "invocations"]}
{"code_tokens": ["static", "void", "master", "_", "check", "_", "listen", "_", "queue", "(", ")", "{", "<nl>", "if", "(", "uwsgi", "_", "sock", "-", ">", "queue", ">", "load", ")", "{", "<nl>", "load", "=", "uwsgi", "_", "sock", "-", ">", "queue", ";", "<nl>", "}", "<nl>", "-", "if", "(", "uwsgi", "_", "sock", "-", ">", "queue", ">", "=", "uwsgi", "_", "sock", "-", ">", "max", "_", "queue", ")", "{", "<nl>", "+", "if", "(", "uwsgi", "_", "sock", "-", ">", "queue", ">", "0", "&", "&", "uwsgi", "_", "sock", "-", ">", "queue", ">", "=", "uwsgi", "_", "sock", "-", ">", "max", "_", "queue", ")", "{", "<nl>", "uwsgi", "_", "log", "_", "verbose", "(", "\"", "*", "*", "*", "uWSGI", "listen", "queue", "of", "socket", "\\", "\"", "%", "s", "\\", "\"", "(", "fd", ":", "%", "d", ")", "full", "!", "!", "!", "(", "%", "llu", "/", "%", "llu", ")", "*", "*", "*", "\\", "n", "\"", ",", "uwsgi", "_", "sock", "-", ">", "name", ",", "uwsgi", "_", "sock", "-", ">", "fd", ",", "(", "unsigned", "long", "long", ")", "uwsgi", "_", "sock", "-", ">", "queue", ",", "(", "unsigned", "long", "long", ")", "uwsgi", "_", "sock", "-", ">", "max", "_", "queue", ")", ";", "<nl>", "uwsgi", ".", "shared", "-", ">", "options", "[", "UWSGI", "_", "OPTION", "_", "BACKLOG", "_", "ERRORS", "]", "+", "+", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fixed", "minor", "bug", "in", "listen", "queue", "management"]}
{"code_tokens": ["void", "*", "uwsgi", "_", "python", "_", "tracebacker", "_", "thread", "(", "void", "*", "foobar", ")", "{", "<nl>", "uwsgi", ".", "no", "_", "defer", "_", "accept", "=", "current", "_", "defer", "_", "accept", ";", "<nl>", "<nl>", "PyObject", "*", "traceback", "_", "module", "=", "PyImport", "_", "ImportModule", "(", "\"", "traceback", "\"", ")", ";", "<nl>", "-", "if", "(", "!", "traceback", "_", "module", ")", "return", "NULL", ";", "<nl>", "+", "if", "(", "!", "traceback", "_", "module", ")", "{", "<nl>", "+", "free", "(", "str", "_", "wid", ")", ";", "<nl>", "+", "free", "(", "sock", "_", "path", ")", ";", "<nl>", "+", "close", "(", "fd", ")", ";", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "PyObject", "*", "traceback", "_", "dict", "=", "PyModule", "_", "GetDict", "(", "traceback", "_", "module", ")", ";", "<nl>", "PyObject", "*", "extract", "_", "stack", "=", "PyDict", "_", "GetItemString", "(", "traceback", "_", "dict", ",", "\"", "extract", "_", "stack", "\"", ")", ";", "<nl>"], "docstring_tokens": ["plugins", "python", "fix", "tracebaker", "resource", "leaks", "on", "import", "error"]}
{"code_tokens": ["static", "void", "uwsgi", "_", "alarm", "_", "thread", "_", "loop", "(", "struct", "uwsgi", "_", "thread", "*", "ut", ")", "{", "<nl>", "long", "ptr", "=", "0", ";", "<nl>", "memcpy", "(", "&", "ptr", ",", "buf", ",", "sizeof", "(", "long", ")", ")", ";", "<nl>", "struct", "uwsgi", "_", "alarm", "_", "instance", "*", "uai", "=", "(", "struct", "uwsgi", "_", "alarm", "_", "instance", "*", ")", "ptr", ";", "<nl>", "-", "if", "(", "!", "uai", ")", "return", ";", "<nl>", "+", "if", "(", "!", "uai", ")", "<nl>", "+", "break", ";", "<nl>", "uwsgi", "_", "alarm", "_", "run", "(", "uai", ",", "msg", ",", "msg", "_", "size", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>", "+", "free", "(", "buf", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "/", "initialize", "alarms", ",", "instances", "and", "log", "regexps", "<nl>"], "docstring_tokens": ["core", "alarm", "fix", "memory", "leak", "in", "uwsgi_alarm_thread_loop"]}
{"code_tokens": ["static", "struct", "uwsgi", "_", "option", "rawrouter", "_", "options", "[", "]", "=", "{", "<nl>", "{", "\"", "rawrouter", "-", "ss", "\"", ",", "required", "_", "argument", ",", "0", ",", "\"", "run", "the", "rawrouter", "stats", "server", "\"", ",", "uwsgi", "_", "opt", "_", "set", "_", "str", ",", "&", "urr", ".", "cr", ".", "stats", "_", "server", ",", "0", "}", ",", "<nl>", "{", "\"", "rawrouter", "-", "harakiri", "\"", ",", "required", "_", "argument", ",", "0", ",", "\"", "enable", "rawrouter", "harakiri", "\"", ",", "uwsgi", "_", "opt", "_", "set", "_", "int", ",", "&", "urr", ".", "cr", ".", "harakiri", ",", "0", "}", ",", "<nl>", "<nl>", "-", "{", "\"", "rawrouter", "-", "xclient", "\"", ",", "no", "_", "argument", ",", "0", ",", "\"", "use", "the", "xclient", "protocol", "to", "pass", "the", "client", "addres", "\"", ",", "uwsgi", "_", "opt", "_", "true", ",", "&", "urr", ".", "xclient", ",", "0", "}", ",", "<nl>", "+", "{", "\"", "rawrouter", "-", "xclient", "\"", ",", "no", "_", "argument", ",", "0", ",", "\"", "use", "the", "xclient", "protocol", "to", "pass", "the", "client", "address", "\"", ",", "uwsgi", "_", "opt", "_", "true", ",", "&", "urr", ".", "xclient", ",", "0", "}", ",", "<nl>", "<nl>", "{", "\"", "rawrouter", "-", "buffer", "-", "size", "\"", ",", "required", "_", "argument", ",", "0", ",", "\"", "set", "internal", "buffer", "size", "(", "default", ":", "page", "size", ")", "\"", ",", "uwsgi", "_", "opt", "_", "set", "_", "64bit", ",", "&", "urr", ".", "cr", ".", "buffer", "_", "size", ",", "0", "}", ",", "<nl>"], "docstring_tokens": ["fix", "typo", "address", "instead", "of", "addres"]}
{"code_tokens": ["#", "include", "<", "uwsgi", ".", "h", ">", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "<nl>", "+", "this", "is", "a", "stats", "pusher", "plugin", "for", "the", "statsd", "server", ":", "<nl>", "+", "<nl>", "+", "-", "-", "stats", "-", "push", "statsd", ":", "address", "[", ",", "prefix", "]", "<nl>", "+", "<nl>", "+", "example", ":", "<nl>", "+", "<nl>", "+", "-", "-", "stats", "-", "push", "statsd", ":", "127", ".", "0", ".", "0", ".", "1", ":", "8125", ",", "myinstance", "<nl>", "+", "<nl>", "+", "it", "is", "pretty", "minimal", ",", "but", "will", "be", "extended", "after", "the", "2", ".", "0", "metric", "subsystem", "will", "be", "released", "<nl>", "+", "<nl>", "+", "*", "/", "<nl>", "+", "<nl>", "extern", "struct", "uwsgi", "_", "server", "uwsgi", ";", "<nl>", "<nl>", "+", "/", "/", "configuration", "of", "a", "statsd", "node", "<nl>", "struct", "statsd", "_", "node", "{", "<nl>", "int", "fd", ";", "<nl>", "union", "uwsgi", "_", "sockaddr", "addr", ";", "<nl>"], "docstring_tokens": ["added", "some", "comment", "for", "the", "statsd", "plugin"]}
{"code_tokens": ["int", "uwsgi", "_", "start", "(", "void", "*", "v", "_", "argv", ")", "{", "<nl>", "}", "<nl>", "<nl>", "uwsgi", "_", "add", "_", "sockets", "_", "to", "_", "queue", "(", "uwsgi", ".", "async", "_", "queue", ")", ";", "<nl>", "-", "}", "<nl>", "<nl>", "-", "uwsgi", ".", "rb", "_", "async", "_", "timeouts", "=", "uwsgi", "_", "init", "_", "rb", "_", "timer", "(", ")", ";", "<nl>", "+", "uwsgi", ".", "rb", "_", "async", "_", "timeouts", "=", "uwsgi", "_", "init", "_", "rb", "_", "timer", "(", ")", ";", "<nl>", "<nl>", "-", "uwsgi", ".", "async", "_", "queue", "_", "unused", "=", "uwsgi", "_", "malloc", "(", "sizeof", "(", "struct", "wsgi", "_", "request", "*", ")", "*", "uwsgi", ".", "async", ")", ";", "<nl>", "+", "uwsgi", ".", "async", "_", "queue", "_", "unused", "=", "uwsgi", "_", "malloc", "(", "sizeof", "(", "struct", "wsgi", "_", "request", "*", ")", "*", "uwsgi", ".", "async", ")", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "uwsgi", ".", "async", ";", "i", "+", "+", ")", "{", "<nl>", "-", "uwsgi", ".", "async", "_", "queue", "_", "unused", "[", "i", "]", "=", "uwsgi", ".", "wsgi", "_", "requests", "[", "i", "]", ";", "<nl>", "-", "}", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "uwsgi", ".", "async", ";", "i", "+", "+", ")", "{", "<nl>", "+", "uwsgi", ".", "async", "_", "queue", "_", "unused", "[", "i", "]", "=", "uwsgi", ".", "wsgi", "_", "requests", "[", "i", "]", ";", "<nl>", "+", "}", "<nl>", "<nl>", "-", "uwsgi", ".", "async", "_", "queue", "_", "unused", "_", "ptr", "=", "uwsgi", ".", "async", "-", "1", ";", "<nl>", "+", "uwsgi", ".", "async", "_", "queue", "_", "unused", "_", "ptr", "=", "uwsgi", ".", "async", "-", "1", ";", "<nl>", "+", "}", "<nl>", "#", "endif", "<nl>", "<nl>"], "docstring_tokens": ["fixed", "a", "stupid", "bug", "in", "non", "async", "initialization"]}
{"code_tokens": ["void", "uwsgi", "_", "uuid", "(", "char", "*", "buf", ")", "{", "<nl>", "int", "uwsgi", "_", "uuid", "_", "cmp", "(", "char", "*", "x", ",", "char", "*", "y", ")", "{", "<nl>", "int", "i", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "36", ";", "i", "+", "+", ")", "{", "<nl>", "-", "if", "(", "x", "[", "i", "]", ">", "y", "[", "i", "]", ")", "{", "<nl>", "-", "return", "1", ";", "<nl>", "+", "if", "(", "x", "[", "i", "]", "!", "=", "y", "[", "i", "]", ")", "{", "<nl>", "+", "if", "(", "x", "[", "i", "]", ">", "y", "[", "i", "]", ")", "{", "<nl>", "+", "return", "1", ";", "<nl>", "+", "}", "<nl>", "+", "return", "0", ";", "<nl>", "}", "<nl>", "}", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["fixed", "uuid", "compare"]}
{"code_tokens": ["PyObject", "*", "py", "_", "uwsgi", "_", "gevent", "_", "graceful", "(", "PyObject", "*", "self", ",", "PyObject", "*", "args", ")", "{", "<nl>", "<nl>", "void", "uwsgi", "_", "gevent", "_", "gbcw", "(", ")", "{", "<nl>", "<nl>", "-", "uwsgi", "_", "log", "(", "\"", ".", ".", ".", "The", "work", "of", "process", "%", "d", "is", "done", ".", "Seeya", "!", "\\", "n", "\"", ",", "getpid", "(", ")", ")", ";", "<nl>", "-", "<nl>", "py", "_", "uwsgi", "_", "gevent", "_", "graceful", "(", "NULL", ",", "NULL", ")", ";", "<nl>", "+", "<nl>", "+", "uwsgi", "_", "log", "(", "\"", ".", ".", ".", "The", "work", "of", "process", "%", "d", "is", "done", ".", "Seeya", "!", "\\", "n", "\"", ",", "getpid", "(", ")", ")", ";", "<nl>", "+", "exit", "(", "0", ")", ";", "<nl>", "}", "<nl>", "<nl>", "struct", "wsgi", "_", "request", "*", "uwsgi", "_", "gevent", "_", "current", "_", "wsgi", "_", "req", "(", "void", ")", "{", "<nl>"], "docstring_tokens": ["fixed", "goodbye_cruel_world", "in", "gevent", "mode"]}
{"code_tokens": ["static", "void", "uwsgi", "_", "pypy", "_", "onload", "(", ")", "{", "<nl>", "#", "ifdef", "UWSGI", "_", "PYPY", "_", "HOME", "<nl>", "upypy", ".", "home", "=", "UWSGI", "_", "PYPY", "_", "HOME", ";", "<nl>", "#", "endif", "<nl>", "+", "uwsgi", ".", "has", "_", "threads", "=", "1", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "uwsgi", "_", "pypy", "_", "mule", "(", "char", "*", "opt", ")", "{", "<nl>"], "docstring_tokens": ["threads", "must", "be", "implicit", "in", "PyPy"]}
{"code_tokens": ["PyObject", "*", "uwsgi", "_", "file", "_", "loader", "(", "void", "*", "arg1", ")", "{", "<nl>", "Py", "_", "DECREF", "(", "wsgi", "_", "file", "_", "dict", ")", ";", "<nl>", "Py", "_", "DECREF", "(", "wsgi", "_", "file", "_", "module", ")", ";", "<nl>", "free", "(", "py", "_", "filename", ")", ";", "<nl>", "-", "uwsgi", "_", "log", "(", "\"", "unable", "to", "find", "\\", "\"", "application", "\\", "\"", "callable", "in", "file", "%", "s", "\\", "n", "\"", ",", "filename", ")", ";", "<nl>", "+", "uwsgi", "_", "log", "(", "\"", "unable", "to", "find", "\\", "\"", "%", "s", "\\", "\"", "callable", "in", "file", "%", "s", "\\", "n", "\"", ",", "callable", ",", "filename", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "!", "PyFunction", "_", "Check", "(", "wsgi", "_", "file", "_", "callable", ")", "&", "&", "!", "PyCallable", "_", "Check", "(", "wsgi", "_", "file", "_", "callable", ")", ")", "{", "<nl>", "-", "uwsgi", "_", "log", "(", "\"", "\\", "\"", "application", "\\", "\"", "must", "be", "a", "callable", "object", "in", "file", "%", "s", "\\", "n", "\"", ",", "filename", ")", ";", "<nl>", "+", "uwsgi", "_", "log", "(", "\"", "\\", "\"", "%", "s", "\\", "\"", "must", "be", "a", "callable", "object", "in", "file", "%", "s", "\\", "n", "\"", ",", "callable", ",", "filename", ")", ";", "<nl>", "Py", "_", "DECREF", "(", "wsgi", "_", "file", "_", "callable", ")", ";", "<nl>", "Py", "_", "DECREF", "(", "wsgi", "_", "file", "_", "dict", ")", ";", "<nl>", "Py", "_", "DECREF", "(", "wsgi", "_", "file", "_", "module", ")", ";", "<nl>"], "docstring_tokens": ["Improve", "pyloader", "error", "message", "on", "missing", "callable"]}
{"code_tokens": ["struct", "uwsgi", "_", "stats", "_", "pusher", "_", "statsd", "{", "<nl>", "<nl>", "static", "struct", "uwsgi", "_", "option", "stats", "_", "pusher", "_", "statsd", "_", "options", "[", "]", "=", "{", "<nl>", "{", "\"", "statsd", "-", "no", "-", "workers", "\"", ",", "no", "_", "argument", ",", "0", ",", "\"", "disable", "generation", "of", "single", "worker", "metrics", "\"", ",", "uwsgi", "_", "opt", "_", "true", ",", "&", "u", "_", "stats", "_", "pusher", "_", "statsd", ".", "no", "_", "workers", ",", "0", "}", ",", "<nl>", "-", "{", "\"", "statsd", "-", "all", "-", "gauges", "\"", ",", "no", "_", "argument", ",", "0", ",", "\"", "push", "all", "metrics", "to", "statsd", "as", "gauges", "\"", ",", "uwsgi", "_", "opt", "_", "true", ",", "&", "u", "_", "stats", "_", "pusher", "_", "statsd", ".", "all", "_", "gauges", ",", "0", "}", "<nl>", "+", "{", "\"", "statsd", "-", "all", "-", "gauges", "\"", ",", "no", "_", "argument", ",", "0", ",", "\"", "push", "all", "metrics", "to", "statsd", "as", "gauges", "\"", ",", "uwsgi", "_", "opt", "_", "true", ",", "&", "u", "_", "stats", "_", "pusher", "_", "statsd", ".", "all", "_", "gauges", ",", "0", "}", ",", "<nl>", "+", "UWSGI", "_", "END", "_", "OF", "_", "OPTIONS", "<nl>", "}", ";", "<nl>", "<nl>", "/", "/", "configuration", "of", "a", "statsd", "node", "<nl>"], "docstring_tokens": ["Add", "END_OF_OPTIONS", "to", "stats_pusher_statsd", "struct"]}
{"code_tokens": ["void", "logto", "(", "char", "*", "logfile", ")", "{", "<nl>", "uwsgi", ".", "logfile", "=", "logfile", ";", "<nl>", "<nl>", "if", "(", "uwsgi", ".", "chmod", "_", "logfile", "_", "value", ")", "{", "<nl>", "-", "if", "(", "chmod", "(", "uwsgi", ".", "logfile", ",", "uwsgi", ".", "chmod", "_", "logfile", "_", "value", ")", ")", "{", "<nl>", "-", "uwsgi", "_", "error", "(", "\"", "chmod", "(", ")", "\"", ")", ";", "<nl>", "+", "if", "(", "fchmod", "(", "fd", ",", "uwsgi", ".", "chmod", "_", "logfile", "_", "value", ")", ")", "{", "<nl>", "+", "uwsgi", "_", "error", "(", "\"", "fchmod", "(", ")", "\"", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["logging", "use", "fchmod", "instead", "of", "chmod", "to", "avoid", "TOCTOU", "race"]}
{"code_tokens": ["static", "char", "*", "uwsgi", "_", "scheme", "_", "section", "(", "char", "*", "url", ",", "size", "_", "t", "*", "size", ",", "int", "add", "_", "zero", ")", "{", "<nl>", "}", "<nl>", "<nl>", "struct", "uwsgi", "_", "string", "_", "list", "*", "uwsgi", "_", "register", "_", "scheme", "(", "char", "*", "name", ",", "char", "*", "(", "*", "func", ")", "(", "char", "*", ",", "size", "_", "t", "*", ",", "int", ")", ")", "{", "<nl>", "-", "struct", "uwsgi", "_", "string", "_", "list", "*", "usl", "=", "uwsgi", "_", "string", "_", "new", "_", "list", "(", "&", "uwsgi", ".", "schemes", ",", "name", ")", ";", "<nl>", "+", "struct", "uwsgi", "_", "string", "_", "list", "*", "usl", "=", "NULL", ";", "<nl>", "+", "uwsgi", "_", "foreach", "(", "usl", ",", "uwsgi", ".", "schemes", ")", "{", "<nl>", "+", "if", "(", "!", "strcmp", "(", "usl", "-", ">", "value", ",", "name", ")", ")", "goto", "found", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "usl", "=", "uwsgi", "_", "string", "_", "new", "_", "list", "(", "&", "uwsgi", ".", "schemes", ",", "name", ")", ";", "<nl>", "+", "<nl>", "+", "found", ":", "<nl>", "usl", "-", ">", "custom", "_", "ptr", "=", "func", ";", "<nl>", "return", "usl", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["allow", "overriding", "schemes"]}
{"code_tokens": ["static", "void", "legions", "_", "check", "_", "nodes", "_", "step2", "(", ")", "{", "<nl>", "memcpy", "(", "best", "_", "uuid", ",", "node", "-", ">", "uuid", ",", "36", ")", ";", "<nl>", "}", "<nl>", "/", "/", "go", "on", "if", "i", "am", "not", "an", "arbiter", "<nl>", "-", "else", "if", "(", "ul", "-", ">", "valor", ">", "0", ")", "{", "<nl>", "-", "/", "/", "no", "potential", "Lord", "is", "available", ",", "i", "will", "propose", "myself", "<nl>", "-", "/", "/", "but", "only", "if", "i", "am", "not", "suspended", ".", ".", ".", "<nl>", "-", "if", "(", "uwsgi", "_", "now", "(", ")", ">", "ul", "-", ">", "suspended", "_", "til", ")", "{", "<nl>", "-", "best", "_", "valor", "=", "ul", "-", ">", "valor", ";", "<nl>", "-", "memcpy", "(", "best", "_", "uuid", ",", "ul", "-", ">", "uuid", ",", "36", ")", ";", "<nl>", "-", "i", "_", "am", "_", "the", "_", "best", "=", "1", ";", "<nl>", "-", "}", "<nl>", "+", "/", "/", "no", "potential", "Lord", "is", "available", ",", "i", "will", "propose", "myself", "<nl>", "+", "/", "/", "but", "only", "if", "i", "am", "not", "suspended", ".", ".", ".", "<nl>", "+", "else", "if", "(", "ul", "-", ">", "valor", ">", "0", "&", "&", "uwsgi", "_", "now", "(", ")", ">", "ul", "-", ">", "suspended", "_", "til", ")", "{", "<nl>", "+", "best", "_", "valor", "=", "ul", "-", ">", "valor", ";", "<nl>", "+", "memcpy", "(", "best", "_", "uuid", ",", "ul", "-", ">", "uuid", ",", "36", ")", ";", "<nl>", "+", "i", "_", "am", "_", "the", "_", "best", "=", "1", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>", "/", "/", "empty", "lord", "<nl>"], "docstring_tokens": ["core", "legion", "fix", "use", "of", "uninitialized", "value"]}
{"code_tokens": ["int", "http", "_", "parse", "(", "struct", "http", "_", "session", "*", "h", "_", "session", ")", "{", "<nl>", "hv", "=", "hv", "-", ">", "next", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "/", "security", "check", "<nl>", "+", "if", "(", "c", ">", "=", "MAX", "_", "HTTP", "_", "VEC", "-", "4", ")", "{", "<nl>", "+", "uwsgi", "_", "log", "(", "\"", "too", "much", "headers", "in", "request", ".", "skipping", "it", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "return", "c", ";", "<nl>", "<nl>", "}", "<nl>"], "docstring_tokens": ["added", "a", "security", "check", "in", "the", "http", "router"]}
{"code_tokens": ["int", "master", "_", "loop", "(", "char", "*", "*", "argv", ",", "char", "*", "*", "environ", ")", "{", "<nl>", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "-", "kill", "(", "uwsgi", ".", "workers", "[", "i", "]", ".", "pid", ",", "SIGUSR2", ")", ";", "<nl>", "-", "/", "/", "allow", "SIGUSR2", "to", "be", "delivered", "<nl>", "-", "sleep", "(", "1", ")", ";", "<nl>", "-", "kill", "(", "uwsgi", ".", "workers", "[", "i", "]", ".", "pid", ",", "SIGKILL", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "uwsgi", ".", "workers", "[", "i", "]", ".", "pid", ">", "0", ")", "{", "<nl>", "+", "kill", "(", "uwsgi", ".", "workers", "[", "i", "]", ".", "pid", ",", "SIGUSR2", ")", ";", "<nl>", "+", "/", "/", "allow", "SIGUSR2", "to", "be", "delivered", "<nl>", "+", "sleep", "(", "1", ")", ";", "<nl>", "+", "kill", "(", "uwsgi", ".", "workers", "[", "i", "]", ".", "pid", ",", "SIGKILL", ")", ";", "<nl>", "+", "}", "<nl>", "/", "/", "to", "avoid", "races", "<nl>", "uwsgi", ".", "workers", "[", "i", "]", ".", "harakiri", "=", "0", ";", "<nl>", "}", "<nl>", "int", "master", "_", "loop", "(", "char", "*", "*", "argv", ",", "char", "*", "*", "environ", ")", "{", "<nl>", "if", "(", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "cheaped", "=", "=", "1", ")", "{", "<nl>", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "pid", "=", "0", ";", "<nl>", "uwsgi", "_", "log", "(", "\"", "uWSGI", "worker", "%", "d", "cheaped", ".", "\\", "n", "\"", ",", "uwsgi", ".", "mywid", ")", ";", "<nl>", "+", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "harakiri", "=", "0", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "gettimeofday", "(", "&", "last", "_", "respawn", ",", "NULL", ")", ";", "<nl>"], "docstring_tokens": ["fixed", "a", "race", "condition", "in", "cheaper", "threads"]}
{"code_tokens": ["void", "master", "_", "loop", "(", "char", "*", "*", "argv", ",", "char", "*", "*", "environ", ")", "{", "<nl>", "/", "/", "checking", "logsize", "<nl>", "if", "(", "uwsgi", ".", "logfile", ")", "{", "<nl>", "uwsgi", ".", "shared", "-", ">", "logsize", "=", "lseek", "(", "2", ",", "0", ",", "SEEK", "_", "CUR", ")", ";", "<nl>", "-", "if", "(", "uwsgi", ".", "shared", "-", ">", "logsize", ">", "4096", ")", "{", "<nl>", "+", "if", "(", "uwsgi", ".", "shared", "-", ">", "logsize", ">", "8192", ")", "{", "<nl>", "uwsgi", "_", "log", "(", "\"", "logsize", ":", "%", "d", "\\", "n", "\"", ",", "uwsgi", ".", "shared", "-", ">", "logsize", ")", ";", "<nl>", "+", "char", "*", "new", "_", "logfile", "=", "uwsgi", "_", "malloc", "(", "strlen", "(", "uwsgi", ".", "logfile", ")", "+", "14", "+", "1", ")", ";", "<nl>", "+", "memset", "(", "new", "_", "logfile", ",", "0", ",", "strlen", "(", "uwsgi", ".", "logfile", ")", "+", "14", "+", "1", ")", ";", "<nl>", "+", "if", "(", "!", "rename", "(", "uwsgi", ".", "logfile", ",", "new", "_", "logfile", ")", ")", "{", "<nl>", "+", "/", "/", "close", "2", ",", "reopen", "logfile", "dup", "'", "it", "and", "gracefully", "reload", "workers", ";", "<nl>", "+", "}", "<nl>", "+", "free", "(", "new", "_", "logfile", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["test", "for", "logrotation", "based", "on", "size"]}
{"code_tokens": ["int", "uwsgi", "_", "calc", "_", "cheaper", "(", "void", ")", "{", "<nl>", "ignore", "_", "algo", "=", "1", ";", "<nl>", "}", "<nl>", "uwsgi", ".", "cheaper", "_", "fifo", "_", "delta", "=", "0", ";", "<nl>", "+", "goto", "safe", ";", "<nl>", "}", "<nl>", "<nl>", "/", "/", "if", "cheaper", "limits", "wants", "to", "change", "worker", "count", ",", "then", "skip", "cheaper", "algo", "<nl>", "int", "uwsgi", "_", "calc", "_", "cheaper", "(", "void", ")", "{", "<nl>", "needed", "_", "workers", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "safe", ":", "<nl>", "if", "(", "needed", "_", "workers", ">", "0", ")", "{", "<nl>", "for", "(", "i", "=", "1", ";", "i", "<", "=", "uwsgi", ".", "numproc", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "uwsgi", ".", "workers", "[", "i", "]", ".", "cheaped", "=", "=", "1", "&", "&", "uwsgi", ".", "workers", "[", "i", "]", ".", "pid", "=", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["fixed", "master", "fifo", "cheaper"]}
{"code_tokens": ["static", "v8", ":", ":", "Handle", "<", "v8", ":", ":", "Value", ">", "uwsgi", "_", "v8", "_", "commonjs", "_", "require", "(", "const", "v8", ":", ":", "Arguments", "&", "<nl>", "free", "(", "tmp", "_", "filename", ")", ";", "<nl>", "return", "ret", ";", "<nl>", "}", "<nl>", "+", "free", "(", "tmp", "_", "filename", ")", ";", "<nl>", "}", "<nl>", "-", "free", "(", "tmp", "_", "filename", ")", ";", "<nl>", "usl", "=", "usl", "-", ">", "next", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["plugins", "v8", "fix", "double", "free"]}
{"code_tokens": ["int", "uwsgi", "_", "start", "(", "void", "*", "v", "_", "argv", ")", "{", "<nl>", "#", "ifndef", "_", "_", "OpenBSD", "_", "_", "<nl>", "<nl>", "if", "(", "uwsgi", ".", "rl", ".", "rlim", "_", "max", ">", "0", ")", "{", "<nl>", "+", "uwsgi", ".", "rl", ".", "rlim", "_", "cur", "=", "uwsgi", ".", "rl", ".", "rlim", "_", "max", ";", "<nl>", "uwsgi", "_", "log", "(", "\"", "limiting", "address", "space", "of", "processes", ".", ".", ".", "\\", "n", "\"", ")", ";", "<nl>", "if", "(", "setrlimit", "(", "RLIMIT", "_", "AS", ",", "&", "uwsgi", ".", "rl", ")", ")", "{", "<nl>", "uwsgi", "_", "error", "(", "\"", "setrlimit", "(", ")", "\"", ")", ";", "<nl>"], "docstring_tokens": ["fixed", "a", "bug", "in", "setrlimit"]}
{"code_tokens": ["extern", "struct", "uwsgi", "_", "server", "uwsgi", ";", "<nl>", "<nl>", "static", "void", "cache", "_", "full", "(", "struct", "uwsgi", "_", "cache", "*", "uc", ")", "{", "<nl>", "uint64", "_", "t", "i", ";", "<nl>", "+", "int", "force", "_", "clear", "=", "0", ";", "<nl>", "<nl>", "if", "(", "!", "uc", "-", ">", "ignore", "_", "full", ")", "{", "<nl>", "if", "(", "uc", "-", ">", "purge", "_", "lru", ")", "<nl>", "static", "void", "cache", "_", "full", "(", "struct", "uwsgi", "_", "cache", "*", "uc", ")", "{", "<nl>", "<nl>", "/", "/", "we", "do", "not", "need", "locking", "here", "!", "<nl>", "if", "(", "uc", "-", ">", "sweep", "_", "on", "_", "full", ")", "{", "<nl>", "+", "uint64", "_", "t", "removed", "=", "0", ";", "<nl>", "uint64", "_", "t", "now", "=", "(", "uint64", "_", "t", ")", "uwsgi", "_", "now", "(", ")", ";", "<nl>", "if", "(", "uc", "-", ">", "next", "_", "scan", "<", "=", "now", ")", "{", "<nl>", "uc", "-", ">", "next", "_", "scan", "=", "now", "+", "uc", "-", ">", "sweep", "_", "on", "_", "full", ";", "<nl>", "for", "(", "i", "=", "1", ";", "i", "<", "uc", "-", ">", "max", "_", "items", ";", "i", "+", "+", ")", "{", "<nl>", "struct", "uwsgi", "_", "cache", "_", "item", "*", "uci", "=", "cache", "_", "item", "(", "i", ")", ";", "<nl>", "if", "(", "uci", "-", ">", "expires", ">", "0", "&", "&", "uci", "-", ">", "expires", "<", "=", "now", ")", "{", "<nl>", "-", "uwsgi", "_", "cache", "_", "del2", "(", "uc", ",", "NULL", ",", "0", ",", "i", ",", "0", ")", ";", "<nl>", "+", "if", "(", "!", "uwsgi", "_", "cache", "_", "del2", "(", "uc", ",", "NULL", ",", "0", ",", "i", ",", "0", ")", ")", "{", "<nl>", "+", "removed", "+", "+", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "<nl>", "+", "if", "(", "removed", "=", "=", "0", ")", "{", "<nl>", "+", "force", "_", "clear", "=", "1", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "uc", "-", ">", "clear", "_", "on", "_", "full", ")", "{", "<nl>", "+", "if", "(", "uc", "-", ">", "clear", "_", "on", "_", "full", "|", "|", "force", "_", "clear", ")", "{", "<nl>", "for", "(", "i", "=", "1", ";", "i", "<", "uc", "-", ">", "max", "_", "items", ";", "i", "+", "+", ")", "{", "<nl>", "uwsgi", "_", "cache", "_", "del2", "(", "uc", ",", "NULL", ",", "0", ",", "i", ",", "0", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["clear", "if", "sweep_on_full", "fails"]}
{"code_tokens": ["class", "Jabbo", ":", "public", "ConnectionListener", "{", "<nl>", "p", "=", "strtok", "_", "r", "(", "NULL", ",", "\"", ",", "\"", ",", "&", "ctx", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "full", "_", "jid", "=", "jab", "_", "username", ";", "<nl>", "+", "<nl>", "JID", "jid", "(", "jab", "_", "username", ")", ";", "<nl>", "client", "=", "new", "Client", "(", "jid", ",", "jab", "_", "password", ")", ";", "<nl>", "client", "-", ">", "registerConnectionListener", "(", "this", ")", ";", "<nl>", "class", "Jabbo", ":", "public", "ConnectionListener", "{", "<nl>", "event", "_", "queue", "_", "add", "_", "fd", "_", "read", "(", "u", "_", "thread", "-", ">", "queue", ",", "fd", ")", ";", "<nl>", "event", "_", "queue", "_", "add", "_", "fd", "_", "read", "(", "u", "_", "thread", "-", ">", "queue", ",", "u", "_", "thread", "-", ">", "pipe", "[", "1", "]", ")", ";", "<nl>", "u", "_", "connected", "=", "1", ";", "<nl>", "-", "uwsgi", "_", "log", "(", "\"", "[", "uwsgi", "-", "alarm", "-", "xmpp", "]", "connected", "to", "the", "XMPP", "server", "\\", "n", "\"", ")", ";", "<nl>", "+", "uwsgi", "_", "log", "_", "alarm", "(", "\"", "-", "xmpp", "]", "(", "%", "s", ")", "connected", "to", "the", "XMPP", "server", "\\", "n", "\"", ",", "full", "_", "jid", ")", ";", "<nl>", "}", "<nl>", "<nl>", "virtual", "void", "onDisconnect", "(", "ConnectionError", "e", ")", "{", "<nl>", "-", "uwsgi", "_", "log", "(", "\"", "[", "uwsgi", "-", "alarm", "-", "xmpp", "]", "trying", "reconnect", "to", "the", "XMPP", "server", ".", ".", ".", "\\", "n", "\"", ")", ";", "<nl>", "+", "uwsgi", "_", "log", "_", "alarm", "(", "\"", "-", "xmpp", "]", "(", "%", "s", ")", "trying", "reconnect", "to", "the", "XMPP", "server", ".", ".", ".", "\\", "n", "\"", ",", "full", "_", "jid", ")", ";", "<nl>", "if", "(", "u", "_", "connected", ")", "{", "<nl>", "/", "/", "no", "need", "to", "remove", "it", "as", "it", "is", "already", "closed", ".", ".", ".", "<nl>", "/", "/", "event", "_", "queue", "_", "del", "_", "fd", "(", "u", "_", "thread", "-", ">", "queue", ",", "fd", ",", "event", "_", "queue", "_", "read", "(", ")", ")", ";", "<nl>", "class", "Jabbo", ":", "public", "ConnectionListener", "{", "<nl>", "}", "<nl>", "<nl>", "virtual", "void", "onResourceBindError", "(", "const", "Error", "*", "error", ")", "{", "<nl>", "-", "uwsgi", "_", "log", "(", "\"", "[", "uwsgi", "-", "alarm", "-", "xmpp", "]", "onResourceBindError", "(", ")", ":", "%", "s", "\\", "n", "\"", ",", "error", "-", ">", "text", "(", ")", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "+", "uwsgi", "_", "log", "_", "alarm", "(", "\"", "-", "xmpp", "]", "(", "%", "s", ")", "onResourceBindError", "(", ")", ":", "%", "s", "\\", "n", "\"", ",", "full", "_", "jid", ",", "error", "-", ">", "text", "(", ")", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "client", "-", ">", "disconnect", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "virtual", "void", "onSessionCreateError", "(", "const", "Error", "*", "error", ")", "{", "<nl>", "-", "uwsgi", "_", "log", "(", "\"", "[", "uwsgi", "-", "alarm", "-", "xmpp", "]", "onSessionCreateError", "(", ")", ":", "%", "s", "\\", "n", "\"", ",", "error", "-", ">", "text", "(", ")", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "+", "uwsgi", "_", "log", "_", "alarm", "(", "\"", "-", "xmpp", "]", "(", "%", "s", ")", "onSessionCreateError", "(", ")", ":", "%", "s", "\\", "n", "\"", ",", "full", "_", "jid", ",", "error", "-", ">", "text", "(", ")", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "client", "-", ">", "disconnect", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "class", "Jabbo", ":", "public", "ConnectionListener", "{", "<nl>", "}", "<nl>", "<nl>", "Client", "*", "client", ";", "<nl>", "+", "char", "*", "full", "_", "jid", ";", "<nl>", "int", "fd", ";", "<nl>", "int", "u", "_", "connected", ";", "<nl>", "struct", "uwsgi", "_", "thread", "*", "u", "_", "thread", ";", "<nl>"], "docstring_tokens": ["fixed", "reports", "in", "xmpp", "alarm"]}
{"code_tokens": ["static", "int", "on", "_", "demand", "_", "bind", "(", "char", "*", "socket", "_", "name", ")", "{", "<nl>", "goto", "error", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "is", "_", "tcp", ")", "{", "<nl>", "+", "if", "(", "chmod", "(", "socket", "_", "name", ",", "0666", ")", ")", "{", "<nl>", "+", "goto", "error", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "listen", "(", "fd", ",", "uwsgi", ".", "listen", "_", "queue", ")", "!", "=", "0", ")", "{", "<nl>", "goto", "error", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["force", "on", "demand", "unix", "socket", "to", "666"]}
{"code_tokens": ["static", "void", "uwsgi", "_", "alarm", "_", "curl", "_", "to", "(", "CURL", "*", "curl", ",", "CURLoption", "option", ",", "char", "*", "arg", ",", "struct", "<nl>", "p", "=", "strtok", "_", "r", "(", "NULL", ",", "\"", ",", "\"", ",", "&", "ctx", ")", ";", "<nl>", "}", "<nl>", "curl", "_", "easy", "_", "setopt", "(", "curl", ",", "option", ",", "list", ")", ";", "<nl>", "+", "free", "(", "items", ")", ";", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "static", "void", "uwsgi", "_", "alarm", "_", "curl", "_", "loop", "(", "struct", "uwsgi", "_", "thread", "*", "ut", ")", "{", "<nl>", "exit", "(", "1", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "free", "(", "opts", ")", ";", "<nl>", "+", "<nl>", "for", "(", ";", ";", ")", "{", "<nl>", "int", "ret", "=", "event", "_", "queue", "_", "wait", "(", "ut", "-", ">", "queue", ",", "-", "1", ",", "&", "interesting", "_", "fd", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "return", ";", "<nl>"], "docstring_tokens": ["plugins", "alarm_curl", "free", "memory", "used", "during", "parsing", "args"]}
{"code_tokens": ["next", ":", "<nl>", "}", "<nl>", "<nl>", "/", "/", "this", "must", "be", "called", "only", "by", "the", "master", "!", "!", "!", "<nl>", "-", "if", "(", "uwsgi", ".", "mywid", ">", "0", ")", "return", ";", "<nl>", "+", "if", "(", "!", "uwsgi", ".", "workers", ")", "return", ";", "<nl>", "+", "if", "(", "uwsgi", ".", "workers", "[", "0", "]", ".", "pid", "!", "=", "getpid", "(", ")", ")", "return", ";", "<nl>", "uwsgi", "_", "legion", "_", "announce", "_", "death", "(", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["attempt", "to", "fix", "713"]}
{"code_tokens": ["void", "uwsgi", "_", "opt", "_", "set", "_", "placeholder", "(", "char", "*", "opt", ",", "char", "*", "value", ",", "void", "*", "none", ")", "{", "<nl>", "<nl>", "p", "[", "0", "]", "=", "0", ";", "<nl>", "add", "_", "exported", "_", "option", "(", "uwsgi", "_", "str", "(", "value", ")", ",", "p", "+", "1", ",", "1", ")", ";", "<nl>", "-", "p", "[", "1", "]", "=", "'", "=", "'", ";", "<nl>", "+", "p", "[", "0", "]", "=", "'", "=", "'", ";", "<nl>", "<nl>", "}", "<nl>"], "docstring_tokens": ["fixed", "a", "bug", "with", "set"]}
{"code_tokens": ["static", "void", "mongrel2", "_", "connect", "(", ")", "{", "<nl>", "}", "<nl>", "char", "*", "responder", "=", "strchr", "(", "uwsgi", "_", "sock", "-", ">", "name", ",", "'", ",", "'", ")", ";", "<nl>", "if", "(", "!", "responder", ")", "{", "<nl>", "-", "uwsgi", "_", "log", "(", "\"", "invalid", "zeromq", "address", "\\", "n", "\"", ")", ";", "<nl>", "+", "uwsgi", "_", "log", "(", "\"", "invalid", "zeromq", "address", ":", "%", "s", "\\", "n", "\"", ",", "uwsgi", "_", "sock", "-", ">", "name", ")", ";", "<nl>", "exit", "(", "1", ")", ";", "<nl>", "}", "<nl>", "uwsgi", "_", "sock", "-", ">", "receiver", "=", "uwsgi", "_", "concat2n", "(", "uwsgi", "_", "sock", "-", ">", "name", ",", "responder", "-", "uwsgi", "_", "sock", "-", ">", "name", ",", "\"", "\"", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["report", "socket", "name", "on", "invalid", "zeromq", "syntax"]}
{"code_tokens": ["void", "reap", "_", "them", "_", "all", "(", "int", "signum", ")", "{", "<nl>", "}", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "uwsgi", ".", "mules", "_", "cnt", ";", "i", "+", "+", ")", "{", "<nl>", "+", "if", "(", "!", "uwsgi", ".", "mules", ")", "break", ";", "<nl>", "if", "(", "uwsgi", ".", "mules", "[", "i", "]", ".", "pid", ">", "0", ")", "<nl>", "kill", "(", "uwsgi", ".", "mules", "[", "i", "]", ".", "pid", ",", "SIGKILL", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["check", "for", "mules", "before", "nuke"]}
{"code_tokens": ["int", "main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ",", "char", "*", "envp", "[", "]", ")", "{", "<nl>", "<nl>", "plugins", "_", "requested", "=", "getenv", "(", "\"", "UWSGI", "_", "PLUGINS", "\"", ")", ";", "<nl>", "if", "(", "plugins", "_", "requested", ")", "{", "<nl>", "+", "plugins", "_", "requested", "=", "uwsgi", "_", "concat2", "(", "plugins", "_", "requested", ",", "\"", "\"", ")", ";", "<nl>", "char", "*", "p", "=", "strtok", "(", "plugins", "_", "requested", ",", "\"", ",", "\"", ")", ";", "<nl>", "while", "(", "p", "!", "=", "NULL", ")", "{", "<nl>", "uwsgi", "_", "load", "_", "plugin", "(", "-", "1", ",", "p", ",", "NULL", ",", "0", ")", ";", "<nl>", "static", "int", "manage", "_", "base", "_", "opt", "(", "int", "i", ",", "char", "*", "optarg", ")", "{", "<nl>", "uwsgi", ".", "allowed", "_", "modifiers", "=", "optarg", ";", "<nl>", "return", "1", ";", "<nl>", "case", "LONG", "_", "ARGS", "_", "PLUGINS", ":", "<nl>", "-", "p", "=", "strtok", "(", "optarg", ",", "\"", ",", "\"", ")", ";", "<nl>", "+", "p", "=", "strtok", "(", "uwsgi", "_", "concat2", "(", "optarg", ",", "\"", "\"", ")", ",", "\"", ",", "\"", ")", ";", "<nl>", "while", "(", "p", "!", "=", "NULL", ")", "{", "<nl>", "#", "ifdef", "UWSGI", "_", "DEBUG", "<nl>", "uwsgi", "_", "debug", "(", "\"", "loading", "plugin", "%", "s", "\\", "n", "\"", ",", "p", ")", ";", "<nl>"], "docstring_tokens": ["fixed", "plugin", "value", "in", "uwsgi", "opt"]}
{"code_tokens": ["PyObject", "*", "py", "_", "uwsgi", "_", "unlock", "(", "PyObject", "*", "self", ",", "PyObject", "*", "args", ")", "{", "<nl>", "return", "Py", "_", "None", ";", "<nl>", "}", "<nl>", "<nl>", "+", "PyObject", "*", "py", "_", "uwsgi", "_", "connection", "_", "fd", "(", "PyObject", "*", "self", ",", "PyObject", "*", "args", ")", "{", "<nl>", "+", "struct", "wsgi", "_", "request", "*", "wsgi", "_", "req", "=", "current", "_", "wsgi", "_", "req", "(", ")", ";", "<nl>", "+", "return", "PyInt", "_", "FromLong", "(", "wsgi", "_", "req", "-", ">", "poll", ".", "fd", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "PyObject", "*", "py", "_", "uwsgi", "_", "embedded", "_", "data", "(", "PyObject", "*", "self", ",", "PyObject", "*", "args", ")", "{", "<nl>", "<nl>", "char", "*", "name", ";", "<nl>", "static", "PyMethodDef", "uwsgi", "_", "advanced", "_", "methods", "[", "]", "=", "{", "<nl>", "#", "endif", "<nl>", "<nl>", "{", "\"", "connect", "\"", ",", "py", "_", "uwsgi", "_", "connect", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "+", "{", "\"", "connection", "_", "fd", "\"", ",", "py", "_", "uwsgi", "_", "connection", "_", "fd", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "{", "\"", "is", "_", "connected", "\"", ",", "py", "_", "uwsgi", "_", "is", "_", "connected", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "{", "\"", "send", "\"", ",", "py", "_", "uwsgi", "_", "send", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "{", "\"", "recv", "\"", ",", "py", "_", "uwsgi", "_", "recv", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "mmm", "plugins", "/", "http", "/", "http", ".", "c", "<nl>", "PyObject", "*", "py", "_", "uwsgi", "_", "unlock", "(", "PyObject", "*", "self", ",", "PyObject", "*", "args", ")", "{", "<nl>", "return", "Py", "_", "None", ";", "<nl>", "}", "<nl>", "<nl>", "+", "PyObject", "*", "py", "_", "uwsgi", "_", "connection", "_", "fd", "(", "PyObject", "*", "self", ",", "PyObject", "*", "args", ")", "{", "<nl>", "+", "struct", "wsgi", "_", "request", "*", "wsgi", "_", "req", "=", "current", "_", "wsgi", "_", "req", "(", ")", ";", "<nl>", "+", "return", "PyInt", "_", "FromLong", "(", "wsgi", "_", "req", "-", ">", "poll", ".", "fd", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "PyObject", "*", "py", "_", "uwsgi", "_", "embedded", "_", "data", "(", "PyObject", "*", "self", ",", "PyObject", "*", "args", ")", "{", "<nl>", "<nl>", "char", "*", "name", ";", "<nl>", "static", "PyMethodDef", "uwsgi", "_", "advanced", "_", "methods", "[", "]", "=", "{", "<nl>", "#", "endif", "<nl>", "<nl>", "{", "\"", "connect", "\"", ",", "py", "_", "uwsgi", "_", "connect", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "+", "{", "\"", "connection", "_", "fd", "\"", ",", "py", "_", "uwsgi", "_", "connection", "_", "fd", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "{", "\"", "is", "_", "connected", "\"", ",", "py", "_", "uwsgi", "_", "is", "_", "connected", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "{", "\"", "send", "\"", ",", "py", "_", "uwsgi", "_", "send", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "{", "\"", "recv", "\"", ",", "py", "_", "uwsgi", "_", "recv", ",", "METH", "_", "VARARGS", ",", "\"", "\"", "}", ",", "<nl>", "struct", "uwsgi", "_", "http", "{", "<nl>", "uint8", "_", "t", "modifier1", ";", "<nl>", "struct", "uwsgi", "_", "string", "_", "list", "*", "http", "_", "vars", ";", "<nl>", "int", "manage", "_", "expect", ";", "<nl>", "+", "<nl>", "+", "int", "raw", "_", "body", ";", "<nl>", "+", "<nl>", "int", "keepalive", ";", "<nl>", "#", "ifdef", "UWSGI", "_", "SSL", "<nl>", "int", "https", "_", "export", "_", "cert", ";", "<nl>", "struct", "uwsgi", "_", "option", "http", "_", "options", "[", "]", "=", "{", "<nl>", "{", "\"", "http", "-", "manage", "-", "expect", "\"", ",", "no", "_", "argument", ",", "0", ",", "\"", "manage", "the", "Expect", "HTTP", "request", "header", "\"", ",", "uwsgi", "_", "opt", "_", "true", ",", "&", "uhttp", ".", "manage", "_", "expect", ",", "0", "}", ",", "<nl>", "{", "\"", "http", "-", "keepalive", "\"", ",", "no", "_", "argument", ",", "0", ",", "\"", "support", "HTTP", "keepalive", "(", "non", "-", "pipelined", ")", "requests", "(", "requires", "backend", "support", ")", "\"", ",", "uwsgi", "_", "opt", "_", "true", ",", "&", "uhttp", ".", "keepalive", ",", "0", "}", ",", "<nl>", "<nl>", "+", "{", "\"", "http", "-", "raw", "-", "body", "\"", ",", "no", "_", "argument", ",", "0", ",", "\"", "blindly", "send", "HTTP", "body", "to", "backends", "(", "required", "for", "WebSockets", "and", "Icecast", "support", ")", "\"", ",", "uwsgi", "_", "opt", "_", "true", ",", "&", "uhttp", ".", "raw", "_", "body", ",", "0", "}", ",", "<nl>", "+", "<nl>", "{", "\"", "http", "-", "use", "-", "code", "-", "string", "\"", ",", "required", "_", "argument", ",", "0", ",", "\"", "use", "code", "string", "as", "hostname", "-", ">", "server", "mapper", "for", "the", "http", "router", "\"", ",", "uwsgi", "_", "opt", "_", "corerouter", "_", "cs", ",", "&", "uhttp", ",", "0", "}", ",", "<nl>", "{", "\"", "http", "-", "use", "-", "socket", "\"", ",", "optional", "_", "argument", ",", "0", ",", "\"", "forward", "request", "to", "the", "specified", "uwsgi", "socket", "\"", ",", "uwsgi", "_", "opt", "_", "corerouter", "_", "use", "_", "socket", ",", "&", "uhttp", ",", "0", "}", ",", "<nl>", "{", "\"", "http", "-", "gracetime", "\"", ",", "required", "_", "argument", ",", "0", ",", "\"", "retry", "connections", "to", "dead", "static", "nodes", "after", "the", "specified", "amount", "of", "seconds", "\"", ",", "uwsgi", "_", "opt", "_", "set", "_", "int", ",", "&", "uhttp", ".", "cr", ".", "static", "_", "node", "_", "gracetime", ",", "0", "}", ",", "<nl>", "To", "have", "a", "reliable", "implementation", ",", "we", "need", "to", "reset", "a", "bunch", "of", "values", "<nl>", "break", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "cs", "-", ">", "post", "_", "cl", "=", "=", "0", "&", "&", "uhttp", ".", "raw", "_", "body", ")", "goto", "raw", ";", "<nl>", "+", "<nl>", "/", "/", "avoid", "pipelined", "input", "<nl>", "if", "(", "hs", "-", ">", "received", "_", "body", ">", "=", "cs", "-", ">", "post", "_", "cl", ")", "{", "<nl>", "break", ";", "<nl>", "To", "have", "a", "reliable", "implementation", ",", "we", "need", "to", "reset", "a", "bunch", "of", "values", "<nl>", "len", "=", "cs", "-", ">", "post", "_", "cl", "-", "hs", "-", ">", "received", "_", "body", ";", "<nl>", "}", "<nl>", "<nl>", "+", "raw", ":", "<nl>", "len", "=", "send", "(", "cs", "-", ">", "instance", "_", "fd", ",", "bbuf", ",", "len", ",", "0", ")", ";", "<nl>", "<nl>", "if", "(", "len", "<", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["the", "http", "router", "is", "now", "websocket", "friendly"]}
{"code_tokens": ["int", "uwsgi", "_", "mount", "(", "char", "*", "fs", ",", "char", "*", "what", ",", "char", "*", "where", ",", "char", "*", "flags", ",", "char", "*", "data", ")", "{", "<nl>", "char", "*", "mflags", "=", "uwsgi", "_", "str", "(", "flags", ")", ";", "<nl>", "char", "*", "p", ",", "*", "ctx", "=", "NULL", ";", "<nl>", "uwsgi", "_", "foreach", "_", "token", "(", "mflags", ",", "\"", ",", "\"", ",", "p", ",", "ctx", ")", "{", "<nl>", "+", "if", "(", "strcmp", "(", "p", ",", "\"", "defaults", "\"", ")", "=", "=", "0", ")", "<nl>", "+", "continue", ";", "<nl>", "unsigned", "long", "flag", "=", "(", "unsigned", "long", ")", "uwsgi", "_", "mount", "_", "flag", "(", "p", ")", ";", "<nl>", "if", "(", "!", "flag", ")", "{", "<nl>", "uwsgi", "_", "log", "(", "\"", "unknown", "mount", "flag", "\\", "\"", "%", "s", "\\", "\"", "\\", "n", "\"", ",", "p", ")", ";", "<nl>", "int", "uwsgi", "_", "mount", "(", "char", "*", "fs", ",", "char", "*", "what", ",", "char", "*", "where", ",", "char", "*", "flags", ",", "char", "*", "data", ")", "{", "<nl>", "}", "<nl>", "mountflags", "|", "=", "flag", ";", "<nl>", "}", "<nl>", "+", "if", "(", "!", "*", "fs", ")", "fs", "=", "NULL", ";", "<nl>", "free", "(", "mflags", ")", ";", "<nl>", "parsed", ":", "<nl>", "#", "ifdef", "_", "_", "linux", "_", "_", "<nl>"], "docstring_tokens": ["core", "mount", "c", "uwsgi_mount", "support", "defaults", "for", "options"]}
{"code_tokens": ["static", "uint16", "_", "t", "http", "_", "add", "_", "uwsgi", "_", "header", "(", "struct", "wsgi", "_", "request", "*", "wsgi", "_", "req", ",", "char", "*", "hh", ",", "i", "<nl>", "wsgi", "_", "req", "-", ">", "if", "_", "modified", "_", "since", "=", "val", ";", "<nl>", "wsgi", "_", "req", "-", ">", "if", "_", "modified", "_", "since", "_", "len", "=", "vallen", ";", "<nl>", "}", "<nl>", "+", "else", "if", "(", "!", "uwsgi", "_", "strncmp", "(", "\"", "X", "_", "FORWARDED", "_", "SSL", "\"", ",", "15", ",", "hh", ",", "keylen", ")", ")", "{", "<nl>", "+", "if", "(", "vallen", "=", "=", "2", "&", "&", "val", "[", "0", "]", "=", "=", "'", "o", "'", "&", "&", "val", "[", "1", "]", "=", "=", "'", "n", "'", ")", "{", "<nl>", "+", "wsgi", "_", "req", "-", ">", "scheme", "=", "\"", "https", "\"", ";", "<nl>", "+", "wsgi", "_", "req", "-", ">", "scheme", "_", "len", "=", "5", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "else", "if", "(", "uwsgi", ".", "vhost", "_", "host", "&", "&", "!", "uwsgi", "_", "strncmp", "(", "\"", "HOST", "\"", ",", "4", ",", "hh", ",", "keylen", ")", ")", "{", "<nl>", "wsgi", "_", "req", "-", ">", "host", "=", "val", ";", "<nl>", "wsgi", "_", "req", "-", ">", "host", "_", "len", "=", "vallen", ";", "<nl>"], "docstring_tokens": ["added", "support", "for", "X_FORWARDED_SSL", "in", "http", "parser"]}
{"code_tokens": ["void", "init", "_", "pyargv", "(", ")", "{", "<nl>", "#", "endif", "<nl>", "<nl>", "up", ".", "argc", "=", "1", ";", "<nl>", "-", "char", "*", "tmp", "_", "ptr", "=", "uwsgi", "_", "str", "(", "up", ".", "argv", ")", ";", "<nl>", "+", "if", "(", "up", ".", "argv", ")", "{", "<nl>", "+", "char", "*", "tmp", "_", "ptr", "=", "uwsgi", "_", "str", "(", "up", ".", "argv", ")", ";", "<nl>", "#", "ifdef", "_", "_", "sun", "_", "_", "<nl>", "/", "/", "FIX", "THIS", "!", "!", "!", "<nl>", "ap", "=", "strtok", "(", "tmp", "_", "ptr", ",", "\"", "\"", ")", ";", "<nl>", "void", "init", "_", "pyargv", "(", ")", "{", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "free", "(", "tmp", "_", "ptr", ")", ";", "<nl>", "+", "free", "(", "tmp", "_", "ptr", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "#", "ifdef", "PYTHREE", "<nl>", "up", ".", "py", "_", "argv", "=", "uwsgi", "_", "calloc", "(", "sizeof", "(", "wchar", "_", "t", "*", ")", "*", "up", ".", "argc", "+", "1", ")", ";", "<nl>"], "docstring_tokens": ["another", "fix", "for", "pyargv"]}
{"code_tokens": ["static", "int", "uwsgi", "_", "handler", "(", "request", "_", "rec", "*", "r", ")", "{", "<nl>", "}", "<nl>", "else", "{", "<nl>", "if", "(", "r", "-", ">", "path", "_", "info", ")", "{", "<nl>", "-", "ap", "_", "log", "_", "rerror", "(", "APLOG", "_", "MARK", ",", "APLOG", "_", "ERR", ",", "0", ",", "r", ",", "\"", "uwsgi", ":", "PATH", "_", "INFO", ":", "%", "s", "\"", ",", "r", "-", ">", "path", "_", "info", ")", ";", "<nl>", "-", "vecptr", "=", "uwsgi", "_", "add", "_", "var", "(", "uwsgi", "_", "vars", ",", "vecptr", ",", "\"", "SCRIPT", "_", "NAME", "\"", ",", "apr", "_", "pstrndup", "(", "r", "-", ">", "pool", ",", "r", "-", ">", "uri", ",", "(", "strlen", "(", "r", "-", ">", "uri", ")", "-", "strlen", "(", "r", "-", ">", "path", "_", "info", ")", ")", ")", ",", "&", "pkt", "_", "size", ")", ";", "<nl>", "-", "vecptr", "=", "uwsgi", "_", "add", "_", "var", "(", "uwsgi", "_", "vars", ",", "vecptr", ",", "\"", "PATH", "_", "INFO", "\"", ",", "r", "-", ">", "path", "_", "info", ",", "&", "pkt", "_", "size", ")", ";", "<nl>", "+", "if", "(", "strlen", "(", "r", "-", ">", "path", "_", "info", ")", "<", "=", "0", ")", "{", "<nl>", "+", "vecptr", "=", "uwsgi", "_", "add", "_", "var", "(", "uwsgi", "_", "vars", ",", "vecptr", ",", "\"", "SCRIPT", "_", "NAME", "\"", ",", "\"", "\"", ",", "&", "pkt", "_", "size", ")", ";", "<nl>", "+", "vecptr", "=", "uwsgi", "_", "add", "_", "var", "(", "uwsgi", "_", "vars", ",", "vecptr", ",", "\"", "PATH", "_", "INFO", "\"", ",", "r", "-", ">", "uri", ",", "&", "pkt", "_", "size", ")", ";", "<nl>", "+", "}", "<nl>", "+", "else", "{", "<nl>", "+", "vecptr", "=", "uwsgi", "_", "add", "_", "var", "(", "uwsgi", "_", "vars", ",", "vecptr", ",", "\"", "SCRIPT", "_", "NAME", "\"", ",", "apr", "_", "pstrndup", "(", "r", "-", ">", "pool", ",", "r", "-", ">", "uri", ",", "(", "strlen", "(", "r", "-", ">", "uri", ")", "-", "strlen", "(", "r", "-", ">", "path", "_", "info", ")", ")", ")", ",", "&", "pkt", "_", "size", ")", ";", "<nl>", "+", "vecptr", "=", "uwsgi", "_", "add", "_", "var", "(", "uwsgi", "_", "vars", ",", "vecptr", ",", "\"", "PATH", "_", "INFO", "\"", ",", "r", "-", ">", "path", "_", "info", ",", "&", "pkt", "_", "size", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "else", "{", "<nl>", "vecptr", "=", "uwsgi", "_", "add", "_", "var", "(", "uwsgi", "_", "vars", ",", "vecptr", ",", "\"", "SCRIPT", "_", "NAME", "\"", ",", "\"", "\"", ",", "&", "pkt", "_", "size", ")", ";", "<nl>"], "docstring_tokens": ["real", "fix", "for", "mod_uwsgi"]}
{"code_tokens": ["void", "*", "mem", "_", "collector", "(", "void", "*", "foobar", ")", "{", "<nl>", "uwsgi", "_", "log", "_", "verbose", "(", "\"", "mem", "-", "collector", "thread", "started", "for", "worker", "%", "d", "\\", "n", "\"", ",", "uwsgi", ".", "mywid", ")", ";", "<nl>", "for", "(", ";", ";", ")", "{", "<nl>", "sleep", "(", "uwsgi", ".", "mem", "_", "collector", "_", "freq", ")", ";", "<nl>", "-", "uint64", "_", "t", "rss", ",", "vsz", ";", "<nl>", "+", "uint64", "_", "t", "rss", "=", "0", ",", "vsz", "=", "0", ";", "<nl>", "get", "_", "memusage", "(", "&", "rss", ",", "&", "vsz", ")", ";", "<nl>", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "rss", "_", "size", "=", "rss", ";", "<nl>", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "vsz", "_", "size", "=", "vsz", ";", "<nl>"], "docstring_tokens": ["Avoid", "usage", "of", "uninitialized", "variable"]}
{"code_tokens": ["static", "int", "uwsgi", "_", "routing", "_", "func", "_", "rewrite", "(", "struct", "wsgi", "_", "request", "*", "wsgi", "_", "req", ",", "struct", "uwsg", "<nl>", "char", "*", "ptr", "=", "uwsgi", "_", "req", "_", "append", "(", "wsgi", "_", "req", ",", "\"", "PATH", "_", "INFO", "\"", ",", "9", ",", "path", "_", "info", ",", "path", "_", "info", "_", "len", ")", ";", "<nl>", "if", "(", "!", "ptr", ")", "goto", "clear", ";", "<nl>", "<nl>", "+", "free", "(", "path", "_", "info", ")", ";", "<nl>", "+", "<nl>", "/", "/", "set", "new", "path", "_", "info", "<nl>", "wsgi", "_", "req", "-", ">", "path", "_", "info", "=", "ptr", ";", "<nl>", "wsgi", "_", "req", "-", ">", "path", "_", "info", "_", "len", "=", "path", "_", "info", "_", "len", ";", "<nl>"], "docstring_tokens": ["Free", "new", "variable"]}
{"code_tokens": ["void", "uwsgi", "_", "set", "_", "processname", "(", "char", "*", "name", ")", "{", "<nl>", "strncat", "(", "uwsgi", ".", "orig", "_", "argv", "[", "0", "]", ",", "uwsgi", ".", "procname", "_", "append", ",", "uwsgi", ".", "max", "_", "procname", "-", "(", "amount", "+", "1", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "memset", "(", "uwsgi", ".", "orig", "_", "argv", "[", "0", "]", "+", "amount", "+", "1", ",", "'", "'", ",", "uwsgi", ".", "max", "_", "procname", "-", "(", "amount", "-", "1", ")", ")", ";", "<nl>", "+", "/", "/", "fill", "with", "spaces", ".", ".", ".", "<nl>", "+", "memset", "(", "uwsgi", ".", "orig", "_", "argv", "[", "0", "]", "+", "amount", "+", "1", ",", "'", "'", ",", "uwsgi", ".", "max", "_", "procname", "-", "(", "amount", ")", ")", ";", "<nl>", "+", "/", "/", "end", "with", "\\", "0", "<nl>", "+", "memset", "(", "uwsgi", ".", "orig", "_", "argv", "[", "0", "]", "+", "amount", "+", "1", "+", "(", "uwsgi", ".", "max", "_", "procname", "-", "(", "amount", ")", ")", ",", "'", "\\", "0", "'", ",", "1", ")", ";", "<nl>", "+", "<nl>", "#", "elif", "defined", "(", "_", "_", "FreeBSD", "_", "_", ")", "<nl>", "if", "(", "uwsgi", ".", "procname", "_", "prefix", ")", "{", "<nl>", "if", "(", "!", "uwsgi", ".", "procname", "_", "append", ")", "{", "<nl>"], "docstring_tokens": ["put", "a", "0", "at", "the", "end", "of", "process", "name"]}
{"code_tokens": ["error", ":", "<nl>", "if", "(", "urcc", "-", ">", "key", ")", "free", "(", "urcc", "-", ">", "key", ")", ";", "<nl>", "if", "(", "urcc", "-", ">", "name", ")", "free", "(", "urcc", "-", ">", "name", ")", ";", "<nl>", "if", "(", "urcc", "-", ">", "expires", "_", "str", ")", "free", "(", "urcc", "-", ">", "expires", "_", "str", ")", ";", "<nl>", "+", "free", "(", "urcc", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["plugins", "router_cache", "fix", "memory", "leak", "in", "uwsgi_router_cache_store"]}
{"code_tokens": ["char", "*", "uwsgi", "_", "cgi", "_", "get", "_", "docroot", "(", "char", "*", "path", "_", "info", ",", "uint16", "_", "t", "path", "_", "info", "_", "len", ",", "int", "*", "need", "_", "f", "<nl>", "}", "<nl>", "<nl>", "if", "(", "choosen", "_", "udd", "-", ">", "status", "=", "=", "0", ")", "{", "<nl>", "-", "char", "*", "tmp", "_", "udd", "=", "realpath", "(", "path", ",", "NULL", ")", ";", "<nl>", "-", "if", "(", "!", "tmp", "_", "udd", ")", "{", "<nl>", "+", "char", "*", "tmp", "_", "udd", "=", "uwsgi", "_", "malloc", "(", "PATH", "_", "MAX", "+", "1", ")", ";", "<nl>", "+", "if", "(", "!", "realpath", "(", "path", ",", "tmp", "_", "udd", ")", ")", "{", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["realpath", "on", "BSD", "is", "different", "from", "Linux", "Solaris", "OSX"]}
{"code_tokens": ["void", "uwsgi", "_", "write", "_", "pidfile", "_", "explicit", "(", "char", "*", "pidfile", "_", "name", ",", "pid", "_", "t", "pid", ")", "{", "<nl>", "}", "<nl>", "<nl>", "char", "*", "uwsgi", "_", "expand", "_", "path", "(", "char", "*", "dir", ",", "int", "dir", "_", "len", ",", "char", "*", "ptr", ")", "{", "<nl>", "-", "char", "src", "[", "PATH", "_", "MAX", "+", "1", "]", ";", "<nl>", "-", "memcpy", "(", "src", ",", "dir", ",", "dir", "_", "len", ")", ";", "<nl>", "-", "src", "[", "dir", "_", "len", "]", "=", "0", ";", "<nl>", "+", "if", "(", "dir", "_", "len", ">", "PATH", "_", "MAX", ")", "<nl>", "+", "{", "<nl>", "+", "uwsgi", "_", "log", "(", "\"", "invalid", "path", "size", ":", "%", "d", "(", "max", "%", "d", ")", "\\", "n", "\"", ",", "dir", "_", "len", ",", "PATH", "_", "MAX", ")", ";", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "+", "char", "*", "src", "=", "uwsgi", "_", "concat2n", "(", "dir", ",", "dir", "_", "len", ",", "\"", "\"", ",", "0", ")", ";", "<nl>", "char", "*", "dst", "=", "ptr", ";", "<nl>", "if", "(", "!", "dst", ")", "<nl>", "dst", "=", "uwsgi", "_", "malloc", "(", "PATH", "_", "MAX", "+", "1", ")", ";", "<nl>", "char", "*", "uwsgi", "_", "expand", "_", "path", "(", "char", "*", "dir", ",", "int", "dir", "_", "len", ",", "char", "*", "ptr", ")", "{", "<nl>", "uwsgi", "_", "error", "_", "realpath", "(", "src", ")", ";", "<nl>", "if", "(", "!", "ptr", ")", "<nl>", "free", "(", "dst", ")", ";", "<nl>", "+", "free", "(", "src", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "+", "free", "(", "src", ")", ";", "<nl>", "return", "dst", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["improve", "uwsgi_expand_path", "to", "sanitize", "input", "avoiding", "stack", "corruption", "and", "potential", "security", "issue"]}
{"code_tokens": ["static", "uint64", "_", "t", "uwsgi", "_", "cache", "_", "find", "_", "free", "_", "blocks", "(", "struct", "uwsgi", "_", "cache", "*", "uc", ",", "uint64", "_", "t", "ne", "<nl>", "<nl>", "/", "/", "ok", "we", "now", "have", "the", "start", "position", ",", "let", "'", "s", "search", "for", "contiguous", "blocks", "<nl>", "uint8", "_", "t", "*", "bitmap", "=", "uc", "-", ">", "blocks", "_", "bitmap", ";", "<nl>", "-", "uint64", "_", "t", "base", "=", "0xffffffffffffffff", ";", "<nl>", "+", "uint64", "_", "t", "base", "=", "0xffffffffffffffffLLU", ";", "<nl>", "uint8", "_", "t", "base", "_", "bit", "=", "0", ";", "<nl>", "uint64", "_", "t", "j", ";", "<nl>", "uint64", "_", "t", "found", "=", "0", ";", "<nl>", "static", "uint64", "_", "t", "uwsgi", "_", "cache", "_", "find", "_", "free", "_", "blocks", "(", "struct", "uwsgi", "_", "cache", "*", "uc", ",", "uint64", "_", "t", "ne", "<nl>", "/", "/", "used", "block", "<nl>", "if", "(", "num", "&", "i", ")", "{", "<nl>", "found", "=", "0", ";", "<nl>", "-", "base", "=", "0xffffffffffffffff", ";", "<nl>", "+", "base", "=", "0xffffffffffffffffLLU", ";", "<nl>", "base", "_", "bit", "=", "0", ";", "<nl>", "}", "<nl>", "/", "/", "free", "block", "<nl>", "else", "{", "<nl>", "-", "if", "(", "base", "=", "=", "0xffffffffffffffff", ")", "{", "<nl>", "+", "if", "(", "base", "=", "=", "0xffffffffffffffffLLU", ")", "{", "<nl>", "base", "=", "j", ";", "<nl>", "base", "_", "bit", "=", "bit", "_", "pos", ";", "<nl>", "}", "<nl>", "static", "uint64", "_", "t", "uwsgi", "_", "cache", "_", "find", "_", "free", "_", "blocks", "(", "struct", "uwsgi", "_", "cache", "*", "uc", ",", "uint64", "_", "t", "ne", "<nl>", "if", "(", "j", ">", "=", "need", "_", "to", "_", "scan", ")", "{", "<nl>", "j", "=", "0", ";", "<nl>", "found", "=", "0", ";", "<nl>", "-", "base", "=", "0xffffffffffffffff", ";", "<nl>", "+", "base", "=", "0xffffffffffffffffLLU", ";", "<nl>", "base", "_", "bit", "=", "0", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "<nl>", "/", "/", "no", "more", "free", "blocks", "<nl>", "-", "return", "0xffffffffffffffff", ";", "<nl>", "+", "return", "0xffffffffffffffffLLU", ";", "<nl>", "}", "<nl>", "<nl>", "static", "uint64", "_", "t", "cache", "_", "mark", "_", "blocks", "(", "struct", "uwsgi", "_", "cache", "*", "uc", ",", "uint64", "_", "t", "index", ",", "uint64", "_", "t", "len", ")", "{", "<nl>", "int", "uwsgi", "_", "cache", "_", "set2", "(", "struct", "uwsgi", "_", "cache", "*", "uc", ",", "char", "*", "key", ",", "uint16", "_", "t", "keylen", ",", "char", "*", "v", "<nl>", "else", "{", "<nl>", "uci", "-", ">", "first", "_", "block", "=", "uwsgi", "_", "cache", "_", "find", "_", "free", "_", "blocks", "(", "uc", ",", "vallen", ")", ";", "<nl>", "/", "/", "uwsgi", "_", "log", "(", "\"", "first", "block", "=", "%", "llu", "\\", "n", "\"", ",", "uci", "-", ">", "first", "_", "block", ")", ";", "<nl>", "-", "if", "(", "uci", "-", ">", "first", "_", "block", "=", "=", "0xffffffffffffffff", ")", "{", "<nl>", "+", "if", "(", "uci", "-", ">", "first", "_", "block", "=", "=", "0xffffffffffffffffLLU", ")", "{", "<nl>", "uwsgi", "_", "log", "(", "\"", "*", "*", "*", "DANGER", "cache", "\\", "\"", "%", "s", "\\", "\"", "is", "FULL", "!", "!", "!", "*", "*", "*", "\\", "n", "\"", ",", "uc", "-", ">", "name", ")", ";", "<nl>", "uc", "-", ">", "full", "+", "+", ";", "<nl>", "if", "(", "rollback", "_", "mode", "=", "=", "0", ")", "{", "<nl>", "int", "uwsgi", "_", "cache", "_", "set2", "(", "struct", "uwsgi", "_", "cache", "*", "uc", ",", "char", "*", "key", ",", "uint16", "_", "t", "keylen", ",", "char", "*", "v", "<nl>", "/", "/", "we", "have", "a", "special", "case", "here", ",", "as", "we", "need", "to", "find", "a", "new", "series", "of", "free", "blocks", "<nl>", "uint64", "_", "t", "old", "_", "first", "_", "block", "=", "uci", "-", ">", "first", "_", "block", ";", "<nl>", "uci", "-", ">", "first", "_", "block", "=", "uwsgi", "_", "cache", "_", "find", "_", "free", "_", "blocks", "(", "uc", ",", "vallen", ")", ";", "<nl>", "-", "if", "(", "uci", "-", ">", "first", "_", "block", "=", "=", "0xffffffffffffffff", ")", "{", "<nl>", "+", "if", "(", "uci", "-", ">", "first", "_", "block", "=", "=", "0xffffffffffffffffLLU", ")", "{", "<nl>", "uwsgi", "_", "log", "(", "\"", "*", "*", "*", "DANGER", "cache", "\\", "\"", "%", "s", "\\", "\"", "is", "FULL", "!", "!", "!", "*", "*", "*", "\\", "n", "\"", ",", "uc", "-", ">", "name", ")", ";", "<nl>", "uc", "-", ">", "full", "+", "+", ";", "<nl>", "uci", "-", ">", "first", "_", "block", "=", "old", "_", "first", "_", "block", ";", "<nl>"], "docstring_tokens": ["make", "older", "compilers", "happy"]}
{"code_tokens": ["void", "uwsgi", "_", "python", "_", "reset", "_", "random", "_", "seed", "(", ")", "{", "<nl>", "void", "uwsgi", "_", "python", "_", "atexit", "(", ")", "{", "<nl>", "<nl>", "/", "/", "if", "hijacked", "do", "not", "run", "atexit", "hooks", "<nl>", "+", "if", "(", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "hijacked", ")", "<nl>", "+", "return", ";", "<nl>", "<nl>", "/", "/", "this", "time", "we", "use", "this", "higher", "level", "function", "<nl>", "/", "/", "as", "this", "code", "can", "be", "executed", "in", "a", "signal", "handler", "<nl>"], "docstring_tokens": ["fixed", "sigquit", "sigint", "in", "hijacked", "mode"]}
{"code_tokens": ["void", "uwsgi", "_", "python", "_", "harakiri", "(", "int", "wid", ")", "{", "<nl>", "char", "*", "address", "=", "uwsgi", "_", "concat2", "(", "up", ".", "tracebacker", ",", "uwsgi", "_", "num2str", "(", "wid", ")", ")", ";", "<nl>", "<nl>", "int", "fd", "=", "uwsgi", "_", "connect", "(", "address", ",", "-", "1", ",", "0", ")", ";", "<nl>", "-", "for", "(", ";", ";", ")", "{", "<nl>", "+", "while", "(", "fd", ">", "=", "0", ")", "{", "<nl>", "int", "ret", "=", "uwsgi", "_", "waitfd", "(", "fd", ",", "uwsgi", ".", "shared", "-", ">", "options", "[", "UWSGI", "_", "OPTION", "_", "SOCKET", "_", "TIMEOUT", "]", ")", ";", "<nl>", "if", "(", "ret", "<", "=", "0", ")", "{", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["plugins", "python", "check", "uwsgi_connect", "return", "code", "in", "uwsgi_python_harakiri"]}
{"code_tokens": ["static", "int", "uwsgi", "_", "response", "(", "request", "_", "rec", "*", "r", ",", "proxy", "_", "conn", "_", "rec", "*", "backend", ",", "proxy", "_", "server", "_", "<nl>", "ap", "_", "set", "_", "content", "_", "type", "(", "r", ",", "apr", "_", "pstrdup", "(", "r", "-", ">", "pool", ",", "buf", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "for", "(", ";", ";", ")", "{", "<nl>", "+", "int", "finish", "=", "0", ";", "<nl>", "+", "while", "(", "!", "finish", ")", "{", "<nl>", "rv", "=", "ap", "_", "get", "_", "brigade", "(", "rp", "-", ">", "input", "_", "filters", ",", "bb", ",", "<nl>", "AP", "_", "MODE", "_", "READBYTES", ",", "mode", ",", "<nl>", "conf", "-", ">", "io", "_", "buffer", "_", "size", ")", ";", "<nl>", "static", "int", "uwsgi", "_", "response", "(", "request", "_", "rec", "*", "r", ",", "proxy", "_", "conn", "_", "rec", "*", "backend", ",", "proxy", "_", "server", "_", "<nl>", "<nl>", "ap", "_", "proxy", "_", "buckets", "_", "lifetime", "_", "transform", "(", "r", ",", "bb", ",", "pass", "_", "bb", ")", ";", "<nl>", "<nl>", "-", "ap", "_", "pass", "_", "brigade", "(", "r", "-", ">", "output", "_", "filters", ",", "pass", "_", "bb", ")", ";", "<nl>", "+", "/", "/", "found", "the", "last", "brigade", "?", "<nl>", "+", "if", "(", "APR", "_", "BUCKET", "_", "IS", "_", "EOS", "(", "APR", "_", "BRIGADE", "_", "LAST", "(", "bb", ")", ")", ")", "finish", "=", "1", ";", "<nl>", "+", "<nl>", "+", "if", "(", "ap", "_", "pass", "_", "brigade", "(", "r", "-", ">", "output", "_", "filters", ",", "pass", "_", "bb", ")", "!", "=", "APR", "_", "SUCCESS", "|", "|", "c", "-", ">", "aborted", ")", "{", "<nl>", "+", "finish", "=", "1", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "apr", "_", "brigade", "_", "cleanup", "(", "bb", ")", ";", "<nl>", "apr", "_", "brigade", "_", "cleanup", "(", "pass", "_", "bb", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["another", "attempt", "at", "fixing", "mod_proxy_uwsgi"]}
{"code_tokens": ["void", "sanitize", "_", "args", "(", ")", "{", "<nl>", "<nl>", "/", "*", "here", "we", "try", "to", "choose", "if", "thunder", "lock", "is", "a", "good", "thing", "*", "/", "<nl>", "#", "ifdef", "UNBIT", "<nl>", "-", "if", "(", "uwsgi", ".", "numproc", ">", "1", ")", "{", "<nl>", "+", "if", "(", "uwsgi", ".", "numproc", ">", "1", "&", "&", "!", "uwsgi", ".", "map", "_", "socket", ")", "{", "<nl>", "uwsgi", ".", "use", "_", "thunder", "_", "lock", "=", "1", ";", "<nl>", "}", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["better", "thunder_lock", "usage", "on", "unbit"]}
{"code_tokens": ["next", ":", "<nl>", "}", "<nl>", "<nl>", "void", "uwsgi", "_", "emperor", "_", "simple", "_", "do", "_", "with", "_", "attrs", "(", "struct", "uwsgi", "_", "emperor", "_", "scanner", "*", "ues", ",", "char", "*", "name", ",", "char", "*", "config", ",", "time", "_", "t", "ts", ",", "uid", "_", "t", "uid", ",", "gid", "_", "t", "gid", ",", "char", "*", "socket", "_", "name", ",", "struct", "uwsgi", "_", "dyn", "_", "dict", "*", "attrs", ")", "{", "<nl>", "-", "if", "(", "!", "uwsgi", "_", "emperor", "_", "is", "_", "valid", "(", "name", ")", ")", "<nl>", "+", "if", "(", "!", "uwsgi", "_", "emperor", "_", "is", "_", "valid", "(", "name", ")", ")", "{", "<nl>", "+", "if", "(", "attrs", ")", "<nl>", "+", "uwsgi", "_", "dyn", "_", "dict", "_", "free", "(", "&", "attrs", ")", ";", "<nl>", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "struct", "uwsgi", "_", "instance", "*", "ui", "_", "current", "=", "emperor", "_", "get", "(", "name", ")", ";", "<nl>", "<nl>", "if", "(", "ui", "_", "current", ")", "{", "<nl>", "+", "if", "(", "ui", "_", "current", "-", ">", "attrs", ")", "{", "<nl>", "+", "uwsgi", "_", "dyn", "_", "dict", "_", "free", "(", "&", "ui", "_", "current", "-", ">", "attrs", ")", ";", "<nl>", "+", "}", "<nl>", "+", "ui", "_", "current", "-", ">", "attrs", "=", "attrs", ";", "<nl>", "<nl>", "/", "/", "skip", "in", "case", "the", "instance", "is", "going", "down", ".", ".", ".", "<nl>", "if", "(", "ui", "_", "current", "-", ">", "status", ">", "0", ")", "<nl>"], "docstring_tokens": ["Releasing", "attrs", "memory", "when", "it", "s", "needed"]}
{"code_tokens": ["struct", "uwsgi", "_", "stats", "*", "uwsgi", "_", "master", "_", "generate", "_", "stats", "(", ")", "{", "<nl>", "uc", "=", "uc", "-", ">", "next", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "uwsgi", "_", "stats", "_", "list", "_", "close", "(", "us", ")", ")", "<nl>", "+", "goto", "end", ";", "<nl>", "+", "<nl>", "if", "(", "uwsgi", "_", "stats", "_", "comma", "(", "us", ")", ")", "<nl>", "goto", "end", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["missing", "list", "close"]}
{"code_tokens": ["char", "*", "uwsgi", "_", "chomp2", "(", "char", "*", "str", ")", "{", "<nl>", "<nl>", "<nl>", "int", "uwsgi", "_", "tmpfd", "(", ")", "{", "<nl>", "+", "int", "fd", "=", "-", "1", ";", "<nl>", "char", "*", "tmpdir", "=", "getenv", "(", "\"", "TMPDIR", "\"", ")", ";", "<nl>", "if", "(", "!", "tmpdir", ")", "{", "<nl>", "tmpdir", "=", "\"", "/", "tmp", "\"", ";", "<nl>", "}", "<nl>", "+", "#", "ifdef", "O", "_", "TMPFILE", "<nl>", "+", "fd", "=", "open", "(", "tmpdir", ",", "O", "_", "TMPFILE", "|", "O", "_", "RDWR", ")", ";", "<nl>", "+", "if", "(", "fd", ">", "=", "0", ")", "{", "<nl>", "+", "return", "fd", ";", "<nl>", "+", "}", "<nl>", "+", "/", "/", "fallback", "to", "old", "style", "<nl>", "+", "#", "endif", "<nl>", "char", "*", "template", "=", "uwsgi", "_", "concat2", "(", "tmpdir", ",", "\"", "/", "uwsgiXXXXXX", "\"", ")", ";", "<nl>", "-", "int", "fd", "=", "mkstemp", "(", "template", ")", ";", "<nl>", "+", "fd", "=", "mkstemp", "(", "template", ")", ";", "<nl>", "unlink", "(", "template", ")", ";", "<nl>", "free", "(", "template", ")", ";", "<nl>", "return", "fd", ";", "<nl>"], "docstring_tokens": ["added", "support", "for", "O_TMPFILE"]}
{"code_tokens": ["int", "uwsgi", "_", "respawn", "_", "worker", "(", "int", "wid", ")", "{", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "uwsgi", ".", "cores", ";", "i", "+", "+", ")", "{", "<nl>", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "cores", "[", "i", "]", ".", "in", "_", "request", "=", "0", ";", "<nl>", "memset", "(", "&", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "cores", "[", "i", "]", ".", "req", ",", "0", ",", "sizeof", "(", "struct", "wsgi", "_", "request", ")", ")", ";", "<nl>", "+", "memset", "(", "uwsgi", ".", "workers", "[", "uwsgi", ".", "mywid", "]", ".", "cores", "[", "i", "]", ".", "buffer", ",", "0", ",", "sizeof", "(", "struct", "uwsgi", "_", "header", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "uwsgi", "_", "fixup", "_", "fds", "(", "wid", ",", "0", ",", "NULL", ")", ";", "<nl>"], "docstring_tokens": ["attempt", "to", "fix", "http", "parser"]}
{"code_tokens": ["struct", "uwsgi", "_", "route", "_", "var", "{", "<nl>", "char", "*", "name", ";", "<nl>", "uint16", "_", "t", "name", "_", "len", ";", "<nl>", "char", "*", "(", "*", "func", ")", "(", "struct", "wsgi", "_", "request", "*", ",", "char", "*", ",", "uint16", "_", "t", ",", "uint16", "_", "t", "*", ")", ";", "<nl>", "+", "int", "need", "_", "free", ";", "<nl>", "struct", "uwsgi", "_", "route", "_", "var", "*", "next", ";", "<nl>", "}", ";", "<nl>", "struct", "uwsgi", "_", "route", "_", "var", "{", "<nl>", "char", "*", "name", ";", "<nl>", "uint16", "_", "t", "name", "_", "len", ";", "<nl>", "char", "*", "(", "*", "func", ")", "(", "struct", "wsgi", "_", "request", "*", ",", "char", "*", ",", "uint16", "_", "t", ",", "uint16", "_", "t", "*", ")", ";", "<nl>", "+", "int", "need", "_", "free", ";", "<nl>", "struct", "uwsgi", "_", "route", "_", "var", "*", "next", ";", "<nl>", "}", ";", "<nl>", "<nl>", "struct", "uwsgi", "_", "buffer", "*", "uwsgi", "_", "routing", "_", "translate", "(", "struct", "wsgi", "_", "request", "*", "wsgi", "_", "req", ",", "stru", "<nl>", "case", "2", ":", "<nl>", "if", "(", "pass1", "[", "i", "]", "=", "=", "'", "}", "'", ")", "{", "<nl>", "uint16", "_", "t", "vallen", "=", "0", ";", "<nl>", "+", "int", "need", "_", "free", "=", "0", ";", "<nl>", "char", "*", "value", "=", "NULL", ";", "<nl>", "char", "*", "bracket", "=", "memchr", "(", "key", ",", "'", "[", "'", ",", "keylen", ")", ";", "<nl>", "if", "(", "bracket", "&", "&", "keylen", ">", "0", "&", "&", "key", "[", "keylen", "-", "1", "]", "=", "=", "'", "]", "'", ")", "{", "<nl>", "struct", "uwsgi", "_", "route", "_", "var", "*", "urv", "=", "uwsgi", "_", "get", "_", "route", "_", "var", "(", "key", ",", "bracket", "-", "key", ")", ";", "<nl>", "if", "(", "urv", ")", "{", "<nl>", "+", "need", "_", "free", "=", "urv", "-", ">", "need", "_", "free", ";", "<nl>", "value", "=", "urv", "-", ">", "func", "(", "wsgi", "_", "req", ",", "bracket", "+", "1", ",", "keylen", "-", "(", "urv", "-", ">", "name", "_", "len", "+", "2", ")", ",", "&", "vallen", ")", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>", "struct", "uwsgi", "_", "buffer", "*", "uwsgi", "_", "routing", "_", "translate", "(", "struct", "wsgi", "_", "request", "*", "wsgi", "_", "req", ",", "stru", "<nl>", "value", "=", "uwsgi", "_", "get", "_", "var", "(", "wsgi", "_", "req", ",", "key", ",", "keylen", ",", "&", "vallen", ")", ";", "<nl>", "}", "<nl>", "if", "(", "value", ")", "{", "<nl>", "-", "if", "(", "uwsgi", "_", "buffer", "_", "append", "(", "ub", ",", "value", ",", "vallen", ")", ")", "goto", "error", ";", "<nl>", "+", "if", "(", "uwsgi", "_", "buffer", "_", "append", "(", "ub", ",", "value", ",", "vallen", ")", ")", "{", "<nl>", "+", "if", "(", "need", "_", "free", ")", "{", "<nl>", "+", "free", "(", "value", ")", ";", "<nl>", "+", "}", "<nl>", "+", "goto", "error", ";", "<nl>", "+", "}", "<nl>", "+", "if", "(", "need", "_", "free", ")", "{", "<nl>", "+", "free", "(", "value", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "status", "=", "0", ";", "<nl>", "key", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["allows", "freeing", "route", "vars"]}
{"code_tokens": ["<nl>", "extern", "struct", "uwsgi", "_", "server", "uwsgi", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "<nl>", "+", "on", "connection", "retrieve", "the", "uid", ",", "gid", "and", "pid", "of", "the", "connecting", "process", ",", "in", "addition", "to", "up", "to", "3", "<nl>", "+", "file", "descriptors", "(", "emperor", "pipe", ",", "emperor", "pipe", "_", "config", ",", "on", "_", "demand", "socket", "dup", "(", ")", "'", "ed", "to", "0", ")", "<nl>", "+", "<nl>", "+", "if", "authorized", ",", "double", "fork", ",", "get", "the", "pid", "of", "the", "second", "child", "and", "exit", "(", ")", "<nl>", "+", "its", "parent", "(", "this", "will", "force", "the", "Emperor", "to", "became", "its", "subreaper", ")", ".", "<nl>", "+", "<nl>", "+", "from", "now", "on", ",", "we", "can", "consider", "the", "new", "child", "as", "a", "full", "-", "featured", "vassal", "<nl>", "+", "<nl>", "+", "*", "/", "<nl>", "+", "<nl>", "void", "uwsgi", "_", "fork", "_", "server", "(", "char", "*", "socket", ")", "{", "<nl>", "int", "fd", "=", "bind", "_", "to", "_", "unix", "(", "socket", ",", "uwsgi", ".", "listen", "_", "queue", ",", "uwsgi", ".", "chmod", "_", "socket", ",", "uwsgi", ".", "abstract", "_", "socket", ")", ";", "<nl>", "if", "(", "fd", "<", "0", ")", "exit", "(", "1", ")", ";", "<nl>"], "docstring_tokens": ["add", "some", "comment", "to", "the", "fork", "server", "system"]}
{"code_tokens": ["static", "char", "*", "amqp", "_", "simple", "_", "get", "_", "frame", "(", "int", "fd", ",", "struct", "amqp", "_", "frame", "_", "header", "*", "fh", ")", "{", "<nl>", "while", "(", "len", "<", "fh", "-", ">", "size", "+", "1", ")", "{", "<nl>", "rlen", "=", "recv", "(", "fd", ",", "ptr", ",", "(", "fh", "-", ">", "size", "+", "1", ")", "-", "len", ",", "0", ")", ";", "<nl>", "if", "(", "rlen", "<", "=", "0", ")", "{", "<nl>", "-", "if", "(", "rlen", "<", "0", ")", "<nl>", "+", "if", "(", "rlen", "<", "0", ")", "{", "<nl>", "uwsgi", "_", "error", "(", "\"", "recv", "(", ")", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "+", "free", "(", "frame", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "len", "+", "=", "rlen", ";", "<nl>"], "docstring_tokens": ["plugins", "emperor_amqp", "fix", "leak", "on", "error", "path"]}
{"code_tokens": ["private", ":", "<nl>", "<nl>", "/", "*", "Should", "be", "getData", "and", "commit", "?", "*", "/", "<nl>", "void", "publish", "(", "Topic", "*", "iterator", ",", "size", "_", "t", "start", ",", "size", "_", "t", "stop", ",", "std", ":", ":", "string", "_", "view", "topic", ",", "std", ":", ":", "pair", "<", "std", ":", ":", "string", "_", "view", ",", "std", ":", ":", "string", "_", "view", ">", "message", ")", "{", "<nl>", "-", "/", "*", "If", "we", "already", "have", "64", "triggered", "topics", "make", "sure", "to", "drain", "it", "here", "*", "/", "<nl>", "-", "if", "(", "numTriggeredTopics", "=", "=", "64", ")", "{", "<nl>", "-", "drain", "(", ")", ";", "<nl>", "-", "}", "<nl>", "<nl>", "/", "*", "Iterate", "over", "all", "segments", "in", "given", "topic", "*", "/", "<nl>", "for", "(", ";", "stop", "!", "=", "std", ":", ":", "string", ":", ":", "npos", ";", "start", "=", "stop", "+", "1", ")", "{", "<nl>", "private", ":", "<nl>", "<nl>", "/", "*", "Add", "this", "topic", "to", "triggered", "*", "/", "<nl>", "if", "(", "!", "iterator", "-", ">", "terminatingWildcardChild", "-", ">", "triggered", ")", "{", "<nl>", "+", "/", "*", "If", "we", "already", "have", "64", "triggered", "topics", "make", "sure", "to", "drain", "it", "here", "*", "/", "<nl>", "+", "if", "(", "numTriggeredTopics", "=", "=", "64", ")", "{", "<nl>", "+", "drain", "(", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "triggeredTopics", "[", "numTriggeredTopics", "+", "+", "]", "=", "iterator", "-", ">", "terminatingWildcardChild", ";", "<nl>", "iterator", "-", ">", "terminatingWildcardChild", "-", ">", "triggered", "=", "true", ";", "<nl>", "}", "<nl>", "private", ":", "<nl>", "<nl>", "/", "*", "Add", "this", "topic", "to", "triggered", "*", "/", "<nl>", "if", "(", "!", "iterator", "-", ">", "triggered", ")", "{", "<nl>", "+", "/", "*", "If", "we", "already", "have", "64", "triggered", "topics", "make", "sure", "to", "drain", "it", "here", "*", "/", "<nl>", "+", "if", "(", "numTriggeredTopics", "=", "=", "64", ")", "{", "<nl>", "+", "drain", "(", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "triggeredTopics", "[", "numTriggeredTopics", "+", "+", "]", "=", "iterator", ";", "<nl>", "iterator", "-", ">", "triggered", "=", "true", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "overflow", "of", "triggered", "topics"]}
{"code_tokens": ["int", "am", "_", "check", "_", "url", "(", "request", "_", "rec", "*", "r", ",", "const", "char", "*", "url", ")", "<nl>", "\"", "Control", "character", "detected", "in", "URL", ".", "\"", ")", ";", "<nl>", "return", "HTTP", "_", "BAD", "_", "REQUEST", ";", "<nl>", "}", "<nl>", "+", "if", "(", "*", "i", "=", "=", "'", "\\", "\\", "'", ")", "{", "<nl>", "+", "/", "*", "Reject", "backslash", "character", ",", "as", "it", "can", "be", "used", "to", "bypass", "<nl>", "+", "*", "redirect", "URL", "validation", ".", "*", "/", "<nl>", "+", "AM", "_", "LOG", "_", "RERROR", "(", "APLOG", "_", "MARK", ",", "APLOG", "_", "ERR", ",", "HTTP", "_", "BAD", "_", "REQUEST", ",", "r", ",", "<nl>", "+", "\"", "Backslash", "character", "detected", "in", "URL", ".", "\"", ")", ";", "<nl>", "+", "return", "HTTP", "_", "BAD", "_", "REQUEST", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "return", "OK", ";", "<nl>"], "docstring_tokens": ["Fix", "redirect", "URL", "validation", "bypass"]}
{"code_tokens": ["int", "data", "_", "on", "_", "connection", "(", "int", "fd", ",", "callback", "_", "remove", "_", "handler", "remove", ")", "<nl>", "p", "+", "=", "strlen", "(", "network", "_", "line", ")", ";", "<nl>", "<nl>", "<nl>", "-", "}", "else", "if", "(", "!", "strncmp", "(", "network", "_", "line", ",", "\"", "GET", "_", "DN", "\"", ",", "strlen", "(", "\"", "GET", "_", "DN", "\"", ")", ")", "&", "&", "msg", "_", "id", "!", "=", "UINT32", "_", "MAX", "&", "&", "network", "_", "client", "_", "get", "_", "version", "(", "fd", ")", ">", "0", ")", "{", "<nl>", "+", "}", "else", "if", "(", "!", "strncmp", "(", "network", "_", "line", ",", "\"", "GET", "_", "DN", "\"", ",", "strlen", "(", "\"", "GET", "_", "DN", "\"", ")", ")", "&", "&", "msg", "_", "id", "!", "=", "UINT32", "_", "MAX", "&", "&", "version", ">", "PROTOCOL", "_", "UNKNOWN", "&", "&", "version", "<", "PROTOCOL", "_", "3", ")", "{", "<nl>", "<nl>", "univention", "_", "debug", "(", "UV", "_", "DEBUG", "_", "TRANSFILE", ",", "UV", "_", "DEBUG", "_", "ALL", ",", "\"", "RECV", ":", "GET", "_", "DN", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Bug", "48427", "UDN", "Forbid", "vulnerable", "GET_DN", "for", "VERSION", "3"]}
{"code_tokens": ["bool", "PackLinuxElf32", ":", ":", "canPack", "(", ")", "<nl>", "if", "(", "sec", "_", "strndx", ")", "{", "<nl>", "unsigned", "const", "sh", "_", "name", "=", "get", "_", "te32", "(", "&", "sec", "_", "strndx", "-", ">", "sh", "_", "name", ")", ";", "<nl>", "if", "(", "Elf32", "_", "Shdr", ":", ":", "SHT", "_", "STRTAB", "!", "=", "get", "_", "te32", "(", "&", "sec", "_", "strndx", "-", ">", "sh", "_", "type", ")", "<nl>", "-", "|", "|", "(", "u32", "_", "t", ")", "file", "_", "size", "<", "=", "sh", "_", "name", "/", "/", "FIXME", ":", "weak", "<nl>", "+", "|", "|", "(", "u32", "_", "t", ")", "file", "_", "size", "<", "=", "(", "sizeof", "(", "\"", ".", "shstrtab", "\"", ")", "<nl>", "+", "+", "sh", "_", "name", "+", "(", "shstrtab", "-", "(", "const", "char", "*", ")", "&", "file", "_", "image", "[", "0", "]", ")", ")", "<nl>", "|", "|", "(", "sh", "_", "name", "<nl>", "&", "&", "0", "!", "=", "strcmp", "(", "(", "char", "const", "*", ")", "\"", ".", "shstrtab", "\"", ",", "&", "shstrtab", "[", "sh", "_", "name", "]", ")", ")", "<nl>", ")", "{", "<nl>", "-", "throwCantPack", "(", "\"", "bad", "e", "_", "shstrndx", "\"", ")", ";", "<nl>", "+", "throwCantPack", "(", "\"", "bad", "e", "_", "shstrtab", "\"", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>", "PackLinuxElf64", ":", ":", "canPack", "(", ")", "<nl>", "if", "(", "sec", "_", "strndx", ")", "{", "<nl>", "unsigned", "const", "sh", "_", "name", "=", "get", "_", "te32", "(", "&", "sec", "_", "strndx", "-", ">", "sh", "_", "name", ")", ";", "<nl>", "if", "(", "Elf64", "_", "Shdr", ":", ":", "SHT", "_", "STRTAB", "!", "=", "get", "_", "te32", "(", "&", "sec", "_", "strndx", "-", ">", "sh", "_", "type", ")", "<nl>", "-", "|", "|", "(", "u32", "_", "t", ")", "file", "_", "size", "<", "=", "sh", "_", "name", "/", "/", "FIXME", ":", "weak", "<nl>", "+", "|", "|", "(", "u32", "_", "t", ")", "file", "_", "size", "<", "=", "(", "sizeof", "(", "\"", ".", "shstrtab", "\"", ")", "<nl>", "+", "+", "sh", "_", "name", "+", "(", "shstrtab", "-", "(", "const", "char", "*", ")", "&", "file", "_", "image", "[", "0", "]", ")", ")", "<nl>", "|", "|", "(", "sh", "_", "name", "<nl>", "&", "&", "0", "!", "=", "strcmp", "(", "(", "char", "const", "*", ")", "\"", ".", "shstrtab", "\"", ",", "&", "shstrtab", "[", "sh", "_", "name", "]", ")", ")", "<nl>", ")", "{", "<nl>", "-", "throwCantPack", "(", "\"", "bad", "e", "_", "shstrndx", "\"", ")", ";", "<nl>", "+", "throwCantPack", "(", "\"", "bad", "e", "_", "shstrtab", "\"", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Detect", "bad", "e_shstrtab", "better"]}
{"code_tokens": ["int", "PackTmt", ":", ":", "readFileHeader", "(", ")", "{", "<nl>", "unsigned", "const", "imagesize", "=", "ih", ".", "imagesize", ";", "<nl>", "unsigned", "const", "entry", "=", "ih", ".", "entry", ";", "<nl>", "unsigned", "const", "relocsize", "=", "ih", ".", "relocsize", ";", "<nl>", "-", "if", "(", "!", "imagesize", "|", "|", "file", "_", "size", "<", "=", "imagesize", "|", "|", "file", "_", "size", "<", "=", "entry", "|", "|", "file", "_", "size", "<", "=", "relocsize", ")", "{", "<nl>", "+", "if", "(", "imagesize", "<", "sizeof", "(", "ih", ")", "|", "|", "entry", "<", "sizeof", "(", "ih", ")", "|", "|", "file", "_", "size", "<", "=", "imagesize", "|", "|", "<nl>", "+", "file", "_", "size", "<", "=", "entry", "|", "|", "file", "_", "size", "<", "=", "relocsize", ")", "{", "<nl>", "printWarn", "(", "getName", "(", ")", ",", "\"", "bad", "header", ";", "imagesize", "=", "%", "#", "x", "entry", "=", "%", "#", "x", "relocsize", "=", "%", "#", "x", "\"", ",", "imagesize", ",", "<nl>", "entry", ",", "relocsize", ")", ";", "<nl>", "return", "0", ";", "<nl>", "void", "PackTmt", ":", ":", "pack", "(", "OutputFile", "*", "fo", ")", "{", "<nl>", "obuf", ".", "allocForCompression", "(", "usize", "+", "rsize", "+", "128", ")", ";", "<nl>", "<nl>", "MemBuffer", "mb", "_", "wrkmem", ";", "<nl>", "-", "mb", "_", "wrkmem", ".", "alloc", "(", "rsize", "+", "EXTRA", "_", "INFO", ")", ";", "/", "/", "relocations", "<nl>", "+", "mb", "_", "wrkmem", ".", "alloc", "(", "rsize", "+", "EXTRA", "_", "INFO", "+", "4", ")", ";", "/", "/", "relocations", "+", "original", "entry", "point", "+", "relocsize", "<nl>", "SPAN", "_", "S", "_", "VAR", "(", "upx", "_", "byte", ",", "wrkmem", ",", "mb", "_", "wrkmem", ")", ";", "<nl>", "<nl>", "fi", "-", ">", "seek", "(", "adam", "_", "offset", "+", "sizeof", "(", "ih", ")", ",", "SEEK", "_", "SET", ")", ";", "<nl>", "void", "PackTmt", ":", ":", "pack", "(", "OutputFile", "*", "fo", ")", "{", "<nl>", "fi", "-", ">", "readx", "(", "wrkmem", "+", "4", ",", "rsize", ")", ";", "<nl>", "const", "unsigned", "overlay", "=", "file", "_", "size", "-", "fi", "-", ">", "tell", "(", ")", ";", "<nl>", "<nl>", "-", "if", "(", "find", "_", "le32", "(", "ibuf", ",", "128", ",", "get", "_", "le32", "(", "\"", "UPX", "\"", ")", ")", ">", "=", "0", ")", "<nl>", "+", "if", "(", "find", "_", "le32", "(", "ibuf", ",", "UPX", "_", "MIN", "(", "128u", ",", "usize", ")", ",", "get", "_", "le32", "(", "\"", "UPX", "\"", ")", ")", ">", "=", "0", ")", "<nl>", "throwAlreadyPacked", "(", ")", ";", "<nl>", "if", "(", "rsize", "=", "=", "0", ")", "<nl>", "throwCantPack", "(", "\"", "file", "is", "already", "compressed", "with", "another", "packer", "\"", ")", ";", "<nl>"], "docstring_tokens": ["p_tmt", "more", "sanity", "of", "input", "cleanup", "MemBuffer", "usage"]}
{"code_tokens": ["PackLinuxElf32", ":", ":", "PackLinuxElf32help1", "(", "InputFile", "*", "f", ")", "<nl>", "e", "_", "phnum", "=", "get", "_", "te16", "(", "&", "ehdri", ".", "e", "_", "phnum", ")", ";", "<nl>", "e", "_", "shnum", "=", "get", "_", "te16", "(", "&", "ehdri", ".", "e", "_", "shnum", ")", ";", "<nl>", "unsigned", "const", "e", "_", "phentsize", "=", "get", "_", "te16", "(", "&", "ehdri", ".", "e", "_", "phentsize", ")", ";", "<nl>", "-", "if", "(", "ehdri", ".", "e", "_", "ident", "[", "Elf32", "_", "Ehdr", ":", ":", "EI", "_", "CLASS", "]", "!", "=", "Elf32", "_", "Ehdr", ":", ":", "ELFCLASS32", "<nl>", "+", "if", "(", "memcmp", "(", "(", "char", "const", "*", ")", "&", "ehdri", ",", "\"", "\\", "x7f", "\\", "x45", "\\", "x4c", "\\", "x46", "\"", ",", "4", ")", "/", "/", "\"", "\\", "177ELF", "\"", "<nl>", "+", "|", "|", "ehdri", ".", "e", "_", "ident", "[", "Elf32", "_", "Ehdr", ":", ":", "EI", "_", "CLASS", "]", "!", "=", "Elf32", "_", "Ehdr", ":", ":", "ELFCLASS32", "<nl>", "|", "|", "sizeof", "(", "Elf32", "_", "Phdr", ")", "!", "=", "e", "_", "phentsize", "<nl>", "|", "|", "(", "Elf32", "_", "Ehdr", ":", ":", "ELFDATA2MSB", "=", "=", "ehdri", ".", "e", "_", "ident", "[", "Elf32", "_", "Ehdr", ":", ":", "EI", "_", "DATA", "]", "<nl>", "&", "&", "&", "N", "_", "BELE", "_", "RTP", ":", ":", "be", "_", "policy", "!", "=", "bele", ")", "<nl>", "PackLinuxElf64", ":", ":", "PackLinuxElf64help1", "(", "InputFile", "*", "f", ")", "<nl>", "e", "_", "phnum", "=", "get", "_", "te16", "(", "&", "ehdri", ".", "e", "_", "phnum", ")", ";", "<nl>", "e", "_", "shnum", "=", "get", "_", "te16", "(", "&", "ehdri", ".", "e", "_", "shnum", ")", ";", "<nl>", "unsigned", "const", "e", "_", "phentsize", "=", "get", "_", "te16", "(", "&", "ehdri", ".", "e", "_", "phentsize", ")", ";", "<nl>", "-", "if", "(", "ehdri", ".", "e", "_", "ident", "[", "Elf64", "_", "Ehdr", ":", ":", "EI", "_", "CLASS", "]", "!", "=", "Elf64", "_", "Ehdr", ":", ":", "ELFCLASS64", "<nl>", "+", "if", "(", "memcmp", "(", "(", "char", "const", "*", ")", "&", "ehdri", ",", "\"", "\\", "x7f", "\\", "x45", "\\", "x4c", "\\", "x46", "\"", ",", "4", ")", "/", "/", "\"", "\\", "177ELF", "\"", "<nl>", "+", "|", "|", "ehdri", ".", "e", "_", "ident", "[", "Elf64", "_", "Ehdr", ":", ":", "EI", "_", "CLASS", "]", "!", "=", "Elf64", "_", "Ehdr", ":", ":", "ELFCLASS64", "<nl>", "|", "|", "sizeof", "(", "Elf64", "_", "Phdr", ")", "!", "=", "e", "_", "phentsize", "<nl>", "|", "|", "(", "Elf64", "_", "Ehdr", ":", ":", "ELFDATA2MSB", "=", "=", "ehdri", ".", "e", "_", "ident", "[", "Elf64", "_", "Ehdr", ":", ":", "EI", "_", "DATA", "]", "<nl>", "&", "&", "&", "N", "_", "BELE", "_", "RTP", ":", ":", "be", "_", "policy", "!", "=", "bele", ")", "<nl>", "PackLinuxElf64", ":", ":", "invert", "_", "pt", "_", "dynamic", "(", "Elf64", "_", "Dyn", "const", "*", "dynp", ",", "upx", "_", "uint64", "_", "t", "headway", ")", "<nl>", "}", "<nl>", "if", "(", "file", "_", "size", "<", "=", "dt", "_", "offsets", "[", "n", "_", "off", "]", ")", "{", "<nl>", "char", "msg", "[", "60", "]", ";", "snprintf", "(", "msg", ",", "sizeof", "(", "msg", ")", ",", "\"", "bad", "DT", "_", "{", "%", "#", "x", "}", "=", "%", "#", "x", "(", "beyond", "EOF", ")", "\"", ",", "<nl>", "-", "dt", "_", "names", "[", "k", "]", ",", "dt", "_", "offsets", "[", "n", "_", "off", "]", ")", ";", "<nl>", "+", "k", ",", "dt", "_", "offsets", "[", "n", "_", "off", "]", ")", ";", "<nl>", "throwCantPack", "(", "msg", ")", ";", "<nl>", "}", "<nl>", "n", "_", "off", "+", "=", "!", "!", "dt", "_", "offsets", "[", "n", "_", "off", "]", ";", "<nl>"], "docstring_tokens": ["invert_pt_dynamic", "fix", "thinko", "PackLinuxElf64help1", "insist", "on", "ELF"]}
{"code_tokens": ["<nl>", "<nl>", "void", "URI", "_", "FUNC", "(", "ResetUri", ")", "(", "URI", "_", "TYPE", "(", "Uri", ")", "*", "uri", ")", "{", "<nl>", "+", "if", "(", "uri", "=", "=", "NULL", ")", "{", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "memset", "(", "uri", ",", "0", ",", "sizeof", "(", "URI", "_", "TYPE", "(", "Uri", ")", ")", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ResetUri", "Protect", "against", "NULL"]}
{"code_tokens": ["<nl>", "<nl>", "<nl>", "+", "#", "include", "<", "limits", ".", "h", ">", "<nl>", "+", "<nl>", "+", "<nl>", "+", "<nl>", "static", "int", "URI", "_", "FUNC", "(", "ComposeQueryEngine", ")", "(", "URI", "_", "CHAR", "*", "dest", ",", "<nl>", "const", "URI", "_", "TYPE", "(", "QueryList", ")", "*", "queryList", ",", "<nl>", "int", "maxChars", ",", "int", "*", "charsWritten", ",", "int", "*", "charsRequired", ",", "<nl>", "int", "URI", "_", "FUNC", "(", "ComposeQueryEngine", ")", "(", "URI", "_", "CHAR", "*", "dest", ",", "<nl>", "const", "URI", "_", "CHAR", "*", "const", "value", "=", "queryList", "-", ">", "value", ";", "<nl>", "const", "int", "worstCase", "=", "(", "normalizeBreaks", "=", "=", "URI", "_", "TRUE", "?", "6", ":", "3", ")", ";", "<nl>", "const", "int", "keyLen", "=", "(", "key", "=", "=", "NULL", ")", "?", "0", ":", "(", "int", ")", "URI", "_", "STRLEN", "(", "key", ")", ";", "<nl>", "-", "const", "int", "keyRequiredChars", "=", "worstCase", "*", "keyLen", ";", "<nl>", "+", "int", "keyRequiredChars", ";", "<nl>", "const", "int", "valueLen", "=", "(", "value", "=", "=", "NULL", ")", "?", "0", ":", "(", "int", ")", "URI", "_", "STRLEN", "(", "value", ")", ";", "<nl>", "-", "const", "int", "valueRequiredChars", "=", "worstCase", "*", "valueLen", ";", "<nl>", "+", "int", "valueRequiredChars", ";", "<nl>", "+", "<nl>", "+", "if", "(", "(", "keyLen", ">", "=", "INT", "_", "MAX", "/", "worstCase", ")", "|", "|", "(", "valueLen", ">", "=", "INT", "_", "MAX", "/", "worstCase", ")", ")", "{", "<nl>", "+", "return", "URI", "_", "ERROR", "_", "OUTPUT", "_", "TOO", "_", "LARGE", ";", "<nl>", "+", "}", "<nl>", "+", "keyRequiredChars", "=", "worstCase", "*", "keyLen", ";", "<nl>", "+", "valueRequiredChars", "=", "worstCase", "*", "valueLen", ";", "<nl>", "<nl>", "if", "(", "dest", "=", "=", "NULL", ")", "{", "<nl>", "(", "*", "charsRequired", ")", "+", "=", "ampersandLen", "+", "keyRequiredChars", "+", "(", "(", "value", "=", "=", "NULL", ")", "<nl>"], "docstring_tokens": ["UriQuery", "c", "Catch", "integer", "overflow", "in", "ComposeQuery", "and", "Ex"]}
{"code_tokens": ["enum", "HTTPVerb", "{", "<nl>", "PUT", ",", "<nl>", "DELETE", ",", "<nl>", "PATCH", ",", "<nl>", "+", "OPTIONS", ",", "<nl>", "INVALID", "<nl>", "}", ";", "<nl>", "<nl>", "struct", "HttpRequest", "{", "<nl>", "}", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "case", "7", ":", "<nl>", "+", "if", "(", "!", "strncmp", "(", "headers", "-", ">", "key", ",", "\"", "options", "\"", ",", "7", ")", ")", "{", "<nl>", "+", "return", "OPTIONS", ";", "<nl>", "+", "}", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "return", "INVALID", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Add", "HTTP", "verb", "OPTIONS", "419"]}
{"code_tokens": ["bool", "WebSocketProtocol", "<", "isServer", ">", ":", ":", "handleFragment", "(", "char", "*", "data", ",", "size", "_", "t", "length", ",", "unsi", "<nl>", "webSocketData", "-", ">", "compressionStatus", "=", "WebSocket", "<", "isServer", ">", ":", ":", "Data", ":", ":", "CompressionStatus", ":", ":", "ENABLED", ";", "<nl>", "Hub", "*", "hub", "=", "(", "(", "Group", "<", "isServer", ">", "*", ")", "s", ".", "getSocketData", "(", ")", "-", ">", "nodeData", ")", "-", ">", "hub", ";", "<nl>", "data", "=", "hub", "-", ">", "inflate", "(", "data", ",", "length", ")", ";", "<nl>", "+", "if", "(", "!", "data", ")", "{", "<nl>", "+", "forceClose", "(", "user", ")", ";", "<nl>", "+", "return", "true", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "if", "(", "opCode", "=", "=", "1", "&", "&", "!", "isValidUtf8", "(", "(", "unsigned", "char", "*", ")", "data", ",", "length", ")", ")", "{", "<nl>", "bool", "WebSocketProtocol", "<", "isServer", ">", ":", ":", "handleFragment", "(", "char", "*", "data", ",", "size", "_", "t", "length", ",", "unsi", "<nl>", "Hub", "*", "hub", "=", "(", "(", "Group", "<", "isServer", ">", "*", ")", "s", ".", "getSocketData", "(", ")", "-", ">", "nodeData", ")", "-", ">", "hub", ";", "<nl>", "webSocketData", "-", ">", "fragmentBuffer", ".", "append", "(", "\"", ".", ".", ".", ".", "\"", ")", ";", "<nl>", "data", "=", "hub", "-", ">", "inflate", "(", "(", "char", "*", ")", "webSocketData", "-", ">", "fragmentBuffer", ".", "data", "(", ")", ",", "length", ")", ";", "<nl>", "+", "if", "(", "!", "data", ")", "{", "<nl>", "+", "forceClose", "(", "user", ")", ";", "<nl>", "+", "return", "true", ";", "<nl>", "+", "}", "<nl>", "}", "else", "{", "<nl>", "data", "=", "(", "char", "*", ")", "webSocketData", "-", ">", "fragmentBuffer", ".", "data", "(", ")", ";", "<nl>", "}", "mmm", "src", "/", "Hub", ".", "cpp", "<nl>", "bool", "WebSocketProtocol", "<", "isServer", ">", ":", ":", "handleFragment", "(", "char", "*", "data", ",", "size", "_", "t", "length", ",", "unsi", "<nl>", "webSocketData", "-", ">", "compressionStatus", "=", "WebSocket", "<", "isServer", ">", ":", ":", "Data", ":", ":", "CompressionStatus", ":", ":", "ENABLED", ";", "<nl>", "Hub", "*", "hub", "=", "(", "(", "Group", "<", "isServer", ">", "*", ")", "s", ".", "getSocketData", "(", ")", "-", ">", "nodeData", ")", "-", ">", "hub", ";", "<nl>", "data", "=", "hub", "-", ">", "inflate", "(", "data", ",", "length", ")", ";", "<nl>", "+", "if", "(", "!", "data", ")", "{", "<nl>", "+", "forceClose", "(", "user", ")", ";", "<nl>", "+", "return", "true", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "if", "(", "opCode", "=", "=", "1", "&", "&", "!", "isValidUtf8", "(", "(", "unsigned", "char", "*", ")", "data", ",", "length", ")", ")", "{", "<nl>", "bool", "WebSocketProtocol", "<", "isServer", ">", ":", ":", "handleFragment", "(", "char", "*", "data", ",", "size", "_", "t", "length", ",", "unsi", "<nl>", "Hub", "*", "hub", "=", "(", "(", "Group", "<", "isServer", ">", "*", ")", "s", ".", "getSocketData", "(", ")", "-", ">", "nodeData", ")", "-", ">", "hub", ";", "<nl>", "webSocketData", "-", ">", "fragmentBuffer", ".", "append", "(", "\"", ".", ".", ".", ".", "\"", ")", ";", "<nl>", "data", "=", "hub", "-", ">", "inflate", "(", "(", "char", "*", ")", "webSocketData", "-", ">", "fragmentBuffer", ".", "data", "(", ")", ",", "length", ")", ";", "<nl>", "+", "if", "(", "!", "data", ")", "{", "<nl>", "+", "forceClose", "(", "user", ")", ";", "<nl>", "+", "return", "true", ";", "<nl>", "+", "}", "<nl>", "}", "else", "{", "<nl>", "data", "=", "(", "char", "*", ")", "webSocketData", "-", ">", "fragmentBuffer", ".", "data", "(", ")", ";", "<nl>", "}", "<nl>", "#", "include", "\"", "HTTPSocket", ".", "h", "\"", "<nl>", "#", "include", "<", "openssl", "/", "sha", ".", "h", ">", "<nl>", "<nl>", "+", "static", "const", "int", "INFLATE", "_", "LESS", "_", "THAN", "_", "ROUGHLY", "=", "16777216", ";", "<nl>", "+", "<nl>", "namespace", "uWS", "{", "<nl>", "<nl>", "char", "*", "Hub", ":", ":", "inflate", "(", "char", "*", "data", ",", "size", "_", "t", "&", "length", ")", "{", "<nl>", "char", "*", "Hub", ":", ":", "inflate", "(", "char", "*", "data", ",", "size", "_", "t", "&", "length", ")", "{", "<nl>", "if", "(", "!", "inflationStream", ".", "avail", "_", "in", ")", "{", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "<nl>", "dynamicInflationBuffer", ".", "append", "(", "inflationBuffer", ",", "LARGE", "_", "BUFFER", "_", "SIZE", "-", "inflationStream", ".", "avail", "_", "out", ")", ";", "<nl>", "-", "}", "while", "(", "err", "=", "=", "Z", "_", "BUF", "_", "ERROR", ")", ";", "<nl>", "+", "}", "while", "(", "err", "=", "=", "Z", "_", "BUF", "_", "ERROR", "&", "&", "dynamicInflationBuffer", ".", "length", "(", ")", "<", "=", "INFLATE", "_", "LESS", "_", "THAN", "_", "ROUGHLY", ")", ";", "<nl>", "<nl>", "inflateReset", "(", "&", "inflationStream", ")", ";", "<nl>", "<nl>", "-", "if", "(", "err", "!", "=", "Z", "_", "BUF", "_", "ERROR", "&", "&", "err", "!", "=", "Z", "_", "OK", ")", "{", "<nl>", "+", "if", "(", "(", "err", "!", "=", "Z", "_", "BUF", "_", "ERROR", "&", "&", "err", "!", "=", "Z", "_", "OK", ")", "|", "|", "dynamicInflationBuffer", ".", "length", "(", ")", ">", "INFLATE", "_", "LESS", "_", "THAN", "_", "ROUGHLY", ")", "{", "<nl>", "length", "=", "0", ";", "<nl>", "return", "nullptr", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Don", "t", "inflate", "more", "than", "16mb", "drop", "connection", "on", "inflate", "error"]}
{"code_tokens": ["void", "Hub", ":", ":", "connect", "(", "std", ":", ":", "string", "uri", ",", "void", "*", "user", ",", "std", ":", ":", "map", "<", "std", ":", ":", "string", ",", "std", ":", ":", "string", "<nl>", "secure", "=", "true", ";", "<nl>", "}", "else", "if", "(", "protocol", "!", "=", "\"", "ws", "\"", ")", "{", "<nl>", "eh", "-", ">", "errorHandler", "(", "user", ")", ";", "<nl>", "+", "return", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "portStr", ".", "length", "(", ")", ")", "{", "mmm", "tests", "/", "main", ".", "cpp", "<nl>", "void", "Hub", ":", ":", "connect", "(", "std", ":", ":", "string", "uri", ",", "void", "*", "user", ",", "std", ":", ":", "map", "<", "std", ":", ":", "string", ",", "std", ":", ":", "string", "<nl>", "secure", "=", "true", ";", "<nl>", "}", "else", "if", "(", "protocol", "!", "=", "\"", "ws", "\"", ")", "{", "<nl>", "eh", "-", ">", "errorHandler", "(", "user", ")", ";", "<nl>", "+", "return", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "portStr", ".", "length", "(", ")", ")", "{", "<nl>", "void", "testConnections", "(", ")", "{", "<nl>", "case", "10", ":", "<nl>", "std", ":", ":", "cout", "<", "<", "\"", "Client", "emitted", "error", "on", "poll", "error", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "break", ";", "<nl>", "+", "case", "11", ":", "<nl>", "+", "static", "int", "protocolErrorCount", "=", "0", ";", "<nl>", "+", "protocolErrorCount", "+", "+", ";", "<nl>", "+", "std", ":", ":", "cout", "<", "<", "\"", "Client", "emitted", "error", "on", "invalid", "protocol", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "+", "if", "(", "protocolErrorCount", ">", "1", ")", "{", "<nl>", "+", "std", ":", ":", "cout", "<", "<", "\"", "FAILURE", ":", "\"", "<", "<", "protocolErrorCount", "<", "<", "\"", "errors", "emitted", "for", "one", "connection", "!", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "+", "exit", "(", "-", "1", ")", ";", "<nl>", "+", "}", "<nl>", "+", "break", ";", "<nl>", "default", ":", "<nl>", "std", ":", ":", "cout", "<", "<", "\"", "FAILURE", ":", "\"", "<", "<", "user", "<", "<", "\"", "should", "not", "emit", "error", "!", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "exit", "(", "-", "1", ")", ";", "<nl>", "void", "testConnections", "(", ")", "{", "<nl>", "}", ")", ";", "<nl>", "<nl>", "h", ".", "connect", "(", "\"", "invalid", "URI", "\"", ",", "(", "void", "*", ")", "1", ")", ";", "<nl>", "+", "h", ".", "connect", "(", "\"", "invalid", ":", "/", "/", "validButUnknown", ".", "yolo", "\"", ",", "(", "void", "*", ")", "11", ")", ";", "<nl>", "h", ".", "connect", "(", "\"", "ws", ":", "/", "/", "validButUnknown", ".", "yolo", "\"", ",", "(", "void", "*", ")", "2", ")", ";", "<nl>", "h", ".", "connect", "(", "\"", "ws", ":", "/", "/", "echo", ".", "websocket", ".", "org", "\"", ",", "(", "void", "*", ")", "3", ",", "{", "}", ",", "10", ")", ";", "<nl>", "h", ".", "connect", "(", "\"", "ws", ":", "/", "/", "echo", ".", "websocket", ".", "org", "\"", ",", "(", "void", "*", ")", "8", ")", ";", "<nl>"], "docstring_tokens": ["fix", "a", "bug", "about", "multiple", "errors", "emitted", "for", "one", "connection", "652"]}
{"code_tokens": ["Server", ":", ":", "Server", "(", "int", "port", ",", "bool", "master", ",", "int", "options", ",", "int", "maxPayload", ",", "SSLContext", "ss", "<nl>", "listenPoll", "=", "new", "uv", "_", "poll", "_", "t", ";", "<nl>", "listenPoll", "-", ">", "data", "=", "this", ";", "<nl>", "<nl>", "-", "if", "(", "bind", "(", "listenFd", ",", "(", "sockaddr", "*", ")", "&", "listenAddr", ",", "sizeof", "(", "sockaddr", "_", "in", ")", ")", "|", "listen", "(", "listenFd", ",", "10", ")", ")", "{", "<nl>", "+", "int", "on", "=", "1", ";", "<nl>", "+", "setsockopt", "(", "listenFd", ",", "SOL", "_", "SOCKET", ",", "SO", "_", "REUSEADDR", ",", "&", "on", ",", "sizeof", "(", "on", ")", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "bind", "(", "listenFd", ",", "(", "sockaddr", "*", ")", "&", "listenAddr", ",", "sizeof", "(", "sockaddr", "_", "in", ")", ")", "|", "|", "listen", "(", "listenFd", ",", "10", ")", ")", "{", "<nl>", "throw", "ERR", "_", "LISTEN", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Set", "SO_REUSEADDR", "before", "bind"]}
{"code_tokens": ["TIFF2PS", "(", "FILE", "*", "fd", ",", "TIFF", "*", "tif", ",", "<nl>", "if", "(", "!", "generateEPSF", "&", "&", "(", "level2", "|", "|", "level3", ")", ")", "{", "<nl>", "fprintf", "(", "fd", ",", "<nl>", "\"", "1", "dict", "begin", "/", "PageSize", "[", "%", "f", "%", "f", "]", "def", "currentdict", "end", "setpagedevice", "\\", "n", "\"", ",", "<nl>", "-", "pw", "?", "pw", ":", "(", "rotate", "?", "prh", ":", "prw", ")", ",", "<nl>", "-", "ph", "?", "ph", ":", "(", "rotate", "?", "prw", ":", "prh", ")", ")", ";", "<nl>", "+", "pw", "?", "pw", "*", "PS", "_", "UNIT", "_", "SIZE", ":", "(", "rotate", "?", "prh", ":", "prw", ")", ",", "<nl>", "+", "ph", "?", "ph", "*", "PS", "_", "UNIT", "_", "SIZE", ":", "(", "rotate", "?", "prw", ":", "prh", ")", ")", ";", "<nl>", "fputs", "(", "<nl>", "\"", "<", "<", "\\", "n", "/", "Policies", "<", "<", "\\", "n", "/", "PageSize", "3", "\\", "n", ">", ">", "\\", "n", ">", ">", "setpagedevice", "\\", "n", "\"", ",", "<nl>", "fd", ")", ";", "<nl>"], "docstring_tokens": ["Fixed", "problem", "with", "page", "sizes", "as", "per", "bug"]}
{"code_tokens": ["_", "TIFFVGetField", "(", "TIFF", "*", "tif", ",", "ttag", "_", "t", "tag", ",", "va", "_", "list", "ap", ")", "<nl>", "*", "va", "_", "arg", "(", "ap", ",", "void", "*", "*", ")", "=", "tv", "-", ">", "value", ";", "<nl>", "ret", "_", "val", "=", "1", ";", "<nl>", "}", "else", "{", "<nl>", "-", "int", "i", ";", "<nl>", "+", "int", "j", ";", "<nl>", "char", "*", "val", "=", "(", "char", "*", ")", "tv", "-", ">", "value", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "tv", "-", ">", "count", ";", "<nl>", "-", "i", "+", "+", ",", "val", "+", "=", "_", "TIFFDataSize", "(", "fip", "-", ">", "field", "_", "type", ")", ")", "{", "<nl>", "+", "for", "(", "j", "=", "0", ";", "j", "<", "tv", "-", ">", "count", ";", "<nl>", "+", "j", "+", "+", ",", "val", "+", "=", "_", "TIFFDataSize", "(", "tv", "-", ">", "info", "-", ">", "field", "_", "type", ")", ")", "{", "<nl>", "switch", "(", "fip", "-", ">", "field", "_", "type", ")", "{", "<nl>", "case", "TIFF", "_", "BYTE", ":", "<nl>", "case", "TIFF", "_", "UNDEFINED", ":", "<nl>"], "docstring_tokens": ["Do", "not", "hide", "automatic", "counter"]}
{"code_tokens": ["horizontalAccumulate8abgr", "(", "uint16", "*", "wp", ",", "int", "n", ",", "int", "stride", ",", "unsigned", "char", "*", "op", ",", "<nl>", "typedef", "struct", "{", "<nl>", "TIFFPredictorState", "predict", ";", "<nl>", "z", "_", "stream", "stream", ";", "<nl>", "+", "tmsize", "_", "t", "tbuf", "_", "size", ";", "/", "*", "only", "set", "/", "used", "on", "reading", "for", "now", "*", "/", "<nl>", "uint16", "*", "tbuf", ";", "<nl>", "uint16", "stride", ";", "<nl>", "int", "state", ";", "<nl>", "PixarLogSetupDecode", "(", "TIFF", "*", "tif", ")", "<nl>", "sp", "-", ">", "tbuf", "=", "(", "uint16", "*", ")", "_", "TIFFmalloc", "(", "tbuf", "_", "size", ")", ";", "<nl>", "if", "(", "sp", "-", ">", "tbuf", "=", "=", "NULL", ")", "<nl>", "return", "(", "0", ")", ";", "<nl>", "+", "sp", "-", ">", "tbuf", "_", "size", "=", "tbuf", "_", "size", ";", "<nl>", "if", "(", "sp", "-", ">", "user", "_", "datafmt", "=", "=", "PIXARLOGDATAFMT", "_", "UNKNOWN", ")", "<nl>", "sp", "-", ">", "user", "_", "datafmt", "=", "PixarLogGuessDataFmt", "(", "td", ")", ";", "<nl>", "if", "(", "sp", "-", ">", "user", "_", "datafmt", "=", "=", "PIXARLOGDATAFMT", "_", "UNKNOWN", ")", "{", "<nl>", "PixarLogDecode", "(", "TIFF", "*", "tif", ",", "uint8", "*", "op", ",", "tmsize", "_", "t", "occ", ",", "uint16", "s", ")", "<nl>", "TIFFErrorExt", "(", "tif", "-", ">", "tif", "_", "clientdata", ",", "module", ",", "\"", "ZLib", "cannot", "deal", "with", "buffers", "this", "size", "\"", ")", ";", "<nl>", "return", "(", "0", ")", ";", "<nl>", "}", "<nl>", "+", "/", "*", "Check", "that", "we", "will", "not", "fill", "more", "than", "what", "was", "allocated", "*", "/", "<nl>", "+", "if", "(", "sp", "-", ">", "stream", ".", "avail", "_", "out", ">", "sp", "-", ">", "tbuf", "_", "size", ")", "<nl>", "+", "{", "<nl>", "+", "TIFFErrorExt", "(", "tif", "-", ">", "tif", "_", "clientdata", ",", "module", ",", "\"", "sp", "-", ">", "stream", ".", "avail", "_", "out", ">", "sp", "-", ">", "tbuf", "_", "size", "\"", ")", ";", "<nl>", "+", "return", "(", "0", ")", ";", "<nl>", "+", "}", "<nl>", "do", "{", "<nl>", "int", "state", "=", "inflate", "(", "&", "sp", "-", ">", "stream", ",", "Z", "_", "PARTIAL", "_", "FLUSH", ")", ";", "<nl>", "if", "(", "state", "=", "=", "Z", "_", "STREAM", "_", "END", ")", "{", "<nl>"], "docstring_tokens": ["libtiff", "tif_pixarlog", "c", "fix", "potential", "buffer", "write", "overrun", "in"]}
{"code_tokens": ["TIFFOpenW", "(", "const", "wchar", "_", "t", "*", "name", ",", "const", "char", "*", "mode", ")", "<nl>", "void", "*", "<nl>", "_", "TIFFmalloc", "(", "tmsize", "_", "t", "s", ")", "<nl>", "{", "<nl>", "+", "if", "(", "s", "=", "=", "0", ")", "<nl>", "+", "return", "(", "(", "void", "*", ")", "NULL", ")", ";", "<nl>", "+", "<nl>", "return", "(", "malloc", "(", "(", "size", "_", "t", ")", "s", ")", ")", ";", "<nl>", "}", "<nl>", "TIFFOpenW", "(", "const", "wchar", "_", "t", "*", "name", ",", "const", "char", "*", "mode", ")", "<nl>", "void", "*", "<nl>", "_", "TIFFmalloc", "(", "tmsize", "_", "t", "s", ")", "<nl>", "{", "<nl>", "+", "if", "(", "s", "=", "=", "0", ")", "<nl>", "+", "return", "(", "(", "void", "*", ")", "NULL", ")", ";", "<nl>", "+", "<nl>", "return", "(", "malloc", "(", "(", "size", "_", "t", ")", "s", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "TIFFOpen", "(", "const", "char", "*", "name", ",", "const", "char", "*", "mode", ")", "<nl>", "tdata", "_", "t", "<nl>", "_", "TIFFmalloc", "(", "tsize", "_", "t", "s", ")", "<nl>", "{", "<nl>", "+", "if", "(", "s", "=", "=", "0", ")", "<nl>", "+", "return", "(", "(", "void", "*", ")", "NULL", ")", ";", "<nl>", "+", "<nl>", "return", "(", "malloc", "(", "(", "size", "_", "t", ")", "s", ")", ")", ";", "<nl>", "}", "<nl>", "TIFFOpenW", "(", "const", "wchar", "_", "t", "*", "name", ",", "const", "char", "*", "mode", ")", "<nl>", "void", "*", "<nl>", "_", "TIFFmalloc", "(", "tmsize", "_", "t", "s", ")", "<nl>", "{", "<nl>", "+", "if", "(", "s", "=", "=", "0", ")", "<nl>", "+", "return", "(", "(", "void", "*", ")", "NULL", ")", ";", "<nl>", "+", "<nl>", "return", "(", "malloc", "(", "(", "size", "_", "t", ")", "s", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "TIFFOpen", "(", "const", "char", "*", "name", ",", "const", "char", "*", "mode", ")", "<nl>", "tdata", "_", "t", "<nl>", "_", "TIFFmalloc", "(", "tsize", "_", "t", "s", ")", "<nl>", "{", "<nl>", "+", "if", "(", "s", "=", "=", "0", ")", "<nl>", "+", "return", "(", "(", "void", "*", ")", "NULL", ")", ";", "<nl>", "+", "<nl>", "return", "(", "malloc", "(", "(", "size", "_", "t", ")", "s", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "TIFFOpenW", "(", "const", "wchar", "_", "t", "*", "name", ",", "const", "char", "*", "mode", ")", "<nl>", "void", "*", "<nl>", "_", "TIFFmalloc", "(", "tmsize", "_", "t", "s", ")", "<nl>", "{", "<nl>", "+", "if", "(", "s", "=", "=", "0", ")", "<nl>", "+", "return", "(", "(", "void", "*", ")", "NULL", ")", ";", "<nl>", "+", "<nl>", "return", "(", "malloc", "(", "(", "size", "_", "t", ")", "s", ")", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["libtiff", "tif_", "unix", "vms", "win32", "c", "_TIFFmalloc", "ANSI", "C", "does", "not"]}
{"code_tokens": ["TIFFReadEncodedStrip", "(", "TIFF", "*", "tif", ",", "uint32", "strip", ",", "void", "*", "buf", ",", "tmsize", "_", "t", "size", ")", "<nl>", "rowsperstrip", "=", "td", "-", ">", "td", "_", "rowsperstrip", ";", "<nl>", "if", "(", "rowsperstrip", ">", "td", "-", ">", "td", "_", "imagelength", ")", "<nl>", "rowsperstrip", "=", "td", "-", ">", "td", "_", "imagelength", ";", "<nl>", "-", "stripsperplane", "=", "(", "(", "td", "-", ">", "td", "_", "imagelength", "+", "rowsperstrip", "-", "1", ")", "/", "rowsperstrip", ")", ";", "<nl>", "+", "stripsperplane", "=", "TIFFhowmany", "_", "32", "_", "maxuint", "_", "compat", "(", "td", "-", ">", "td", "_", "imagelength", ",", "rowsperstrip", ")", ";", "<nl>", "stripinplane", "=", "(", "strip", "%", "stripsperplane", ")", ";", "<nl>", "plane", "=", "(", "uint16", ")", "(", "strip", "/", "stripsperplane", ")", ";", "<nl>", "rows", "=", "td", "-", ">", "td", "_", "imagelength", "-", "stripinplane", "*", "rowsperstrip", ";", "mmm", "libtiff", "/", "tiffiop", ".", "h", "<nl>", "TIFFReadEncodedStrip", "(", "TIFF", "*", "tif", ",", "uint32", "strip", ",", "void", "*", "buf", ",", "tmsize", "_", "t", "size", ")", "<nl>", "rowsperstrip", "=", "td", "-", ">", "td", "_", "rowsperstrip", ";", "<nl>", "if", "(", "rowsperstrip", ">", "td", "-", ">", "td", "_", "imagelength", ")", "<nl>", "rowsperstrip", "=", "td", "-", ">", "td", "_", "imagelength", ";", "<nl>", "-", "stripsperplane", "=", "(", "(", "td", "-", ">", "td", "_", "imagelength", "+", "rowsperstrip", "-", "1", ")", "/", "rowsperstrip", ")", ";", "<nl>", "+", "stripsperplane", "=", "TIFFhowmany", "_", "32", "_", "maxuint", "_", "compat", "(", "td", "-", ">", "td", "_", "imagelength", ",", "rowsperstrip", ")", ";", "<nl>", "stripinplane", "=", "(", "strip", "%", "stripsperplane", ")", ";", "<nl>", "plane", "=", "(", "uint16", ")", "(", "strip", "/", "stripsperplane", ")", ";", "<nl>", "rows", "=", "td", "-", ">", "td", "_", "imagelength", "-", "stripinplane", "*", "rowsperstrip", ";", "<nl>", "struct", "tiff", "{", "<nl>", "#", "define", "TIFFhowmany", "_", "32", "(", "x", ",", "y", ")", "(", "(", "(", "uint32", ")", "x", "<", "(", "0xffffffff", "-", "(", "uint32", ")", "(", "y", "-", "1", ")", ")", ")", "?", "\\", "<nl>", "(", "(", "(", "(", "uint32", ")", "(", "x", ")", ")", "+", "(", "(", "(", "uint32", ")", "(", "y", ")", ")", "-", "1", ")", ")", "/", "(", "(", "uint32", ")", "(", "y", ")", ")", ")", ":", "\\", "<nl>", "0U", ")", "<nl>", "+", "/", "*", "Variant", "of", "TIFFhowmany", "_", "32", "(", ")", "that", "doesn", "'", "t", "return", "0", "if", "x", "close", "to", "MAXUINT", ".", "*", "/", "<nl>", "+", "/", "*", "Caution", ":", "TIFFhowmany", "_", "32", "_", "maxuint", "_", "compat", "(", "x", ",", "y", ")", "*", "y", "might", "overflow", "*", "/", "<nl>", "+", "#", "define", "TIFFhowmany", "_", "32", "_", "maxuint", "_", "compat", "(", "x", ",", "y", ")", "\\", "<nl>", "+", "(", "(", "(", "uint32", ")", "(", "x", ")", "/", "(", "uint32", ")", "(", "y", ")", ")", "+", "(", "(", "(", "(", "uint32", ")", "(", "x", ")", "%", "(", "uint32", ")", "(", "y", ")", ")", "!", "=", "0", ")", "?", "1", ":", "0", ")", ")", "<nl>", "#", "define", "TIFFhowmany8", "_", "32", "(", "x", ")", "(", "(", "(", "x", ")", "&", "0x07", ")", "?", "(", "(", "uint32", ")", "(", "x", ")", ">", ">", "3", ")", "+", "1", ":", "(", "uint32", ")", "(", "x", ")", ">", ">", "3", ")", "<nl>", "#", "define", "TIFFroundup", "_", "32", "(", "x", ",", "y", ")", "(", "TIFFhowmany", "_", "32", "(", "x", ",", "y", ")", "*", "(", "y", ")", ")", "<nl>", "#", "define", "TIFFhowmany", "_", "64", "(", "x", ",", "y", ")", "(", "(", "(", "(", "uint64", ")", "(", "x", ")", ")", "+", "(", "(", "(", "uint64", ")", "(", "y", ")", ")", "-", "1", ")", ")", "/", "(", "(", "uint64", ")", "(", "y", ")", ")", ")", "<nl>"], "docstring_tokens": ["libtiff", "tif_read", "c", "libtiff", "tiffiop", "h", "fix", "uint32", "overflow", "in"]}
{"code_tokens": ["typedef", "enum", "{", "<nl>", "<nl>", "typedef", "struct", "{", "<nl>", "TIFF", "*", "tif", ";", "<nl>", "+", "int", "decoder", "_", "ok", ";", "<nl>", "#", "ifndef", "LIBJPEG", "_", "ENCAP", "_", "EXTERNAL", "<nl>", "JMP", "_", "BUF", "exit", "_", "jmpbuf", ";", "<nl>", "#", "endif", "<nl>", "OJPEGPreDecode", "(", "TIFF", "*", "tif", ",", "uint16", "s", ")", "<nl>", "}", "<nl>", "sp", "-", ">", "write", "_", "curstrile", "+", "+", ";", "<nl>", "}", "<nl>", "+", "sp", "-", ">", "decoder", "_", "ok", "=", "1", ";", "<nl>", "return", "(", "1", ")", ";", "<nl>", "}", "<nl>", "<nl>", "OJPEGPreDecodeSkipScanlines", "(", "TIFF", "*", "tif", ")", "<nl>", "static", "int", "<nl>", "OJPEGDecode", "(", "TIFF", "*", "tif", ",", "uint8", "*", "buf", ",", "tmsize", "_", "t", "cc", ",", "uint16", "s", ")", "<nl>", "{", "<nl>", "+", "static", "const", "char", "module", "[", "]", "=", "\"", "OJPEGDecode", "\"", ";", "<nl>", "OJPEGState", "*", "sp", "=", "(", "OJPEGState", "*", ")", "tif", "-", ">", "tif", "_", "data", ";", "<nl>", "(", "void", ")", "s", ";", "<nl>", "+", "if", "(", "!", "sp", "-", ">", "decoder", "_", "ok", ")", "<nl>", "+", "{", "<nl>", "+", "TIFFErrorExt", "(", "tif", "-", ">", "tif", "_", "clientdata", ",", "module", ",", "\"", "Cannot", "decode", ":", "decoder", "not", "correctly", "initialized", "\"", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "if", "(", "sp", "-", ">", "libjpeg", "_", "jpeg", "_", "query", "_", "style", "=", "=", "0", ")", "<nl>", "{", "<nl>", "if", "(", "OJPEGDecodeRaw", "(", "tif", ",", "buf", ",", "cc", ")", "=", "=", "0", ")", "<nl>"], "docstring_tokens": ["libtiff", "tif_ojpeg", "c", "make", "OJPEGDecode", "early", "exit", "in", "case", "of", "failure", "in"]}
{"code_tokens": ["static", "int", "readContigStripsIntoBuffer", "(", "TIFF", "*", "in", ",", "uint8", "*", "buf", ")", "<nl>", "{", "<nl>", "uint8", "*", "bufp", "=", "buf", ";", "<nl>", "int32", "bytes", "_", "read", "=", "0", ";", "<nl>", "-", "uint16", "strip", ",", "nstrips", "=", "TIFFNumberOfStrips", "(", "in", ")", ";", "<nl>", "+", "uint32", "strip", ",", "nstrips", "=", "TIFFNumberOfStrips", "(", "in", ")", ";", "<nl>", "uint32", "stripsize", "=", "TIFFStripSize", "(", "in", ")", ";", "<nl>", "uint32", "rows", "=", "0", ";", "<nl>", "uint32", "rps", "=", "TIFFGetFieldDefaulted", "(", "in", ",", "TIFFTAG", "_", "ROWSPERSTRIP", ",", "&", "rps", ")", ";", "<nl>", "static", "int", "readSeparateStripsIntoBuffer", "(", "TIFF", "*", "in", ",", "uint8", "*", "obuf", ",", "uint32", "length", ",", "<nl>", "uint32", "width", ",", "uint16", "spp", ",", "<nl>", "struct", "dump", "_", "opts", "*", "dump", ")", "<nl>", "{", "<nl>", "-", "int", "i", ",", "j", ",", "bytes", "_", "per", "_", "sample", ",", "bytes", "_", "per", "_", "pixel", ",", "shift", "_", "width", ",", "result", "=", "1", ";", "<nl>", "+", "int", "i", ",", "bytes", "_", "per", "_", "sample", ",", "bytes", "_", "per", "_", "pixel", ",", "shift", "_", "width", ",", "result", "=", "1", ";", "<nl>", "+", "uint32", "j", ";", "<nl>", "int32", "bytes", "_", "read", "=", "0", ";", "<nl>", "-", "uint16", "bps", ",", "nstrips", ",", "planar", ",", "strips", "_", "per", "_", "sample", ";", "<nl>", "+", "uint16", "bps", ",", "planar", ";", "<nl>", "+", "uint32", "nstrips", ";", "<nl>", "+", "uint32", "strips", "_", "per", "_", "sample", ";", "<nl>", "uint32", "src", "_", "rowsize", ",", "dst", "_", "rowsize", ",", "rows", "_", "processed", ",", "rps", ";", "<nl>", "uint32", "rows", "_", "this", "_", "strip", "=", "0", ";", "<nl>", "tsample", "_", "t", "s", ";", "mmm", "tools", "/", "tiffcp", ".", "c", "<nl>", "static", "int", "readContigStripsIntoBuffer", "(", "TIFF", "*", "in", ",", "uint8", "*", "buf", ")", "<nl>", "{", "<nl>", "uint8", "*", "bufp", "=", "buf", ";", "<nl>", "int32", "bytes", "_", "read", "=", "0", ";", "<nl>", "-", "uint16", "strip", ",", "nstrips", "=", "TIFFNumberOfStrips", "(", "in", ")", ";", "<nl>", "+", "uint32", "strip", ",", "nstrips", "=", "TIFFNumberOfStrips", "(", "in", ")", ";", "<nl>", "uint32", "stripsize", "=", "TIFFStripSize", "(", "in", ")", ";", "<nl>", "uint32", "rows", "=", "0", ";", "<nl>", "uint32", "rps", "=", "TIFFGetFieldDefaulted", "(", "in", ",", "TIFFTAG", "_", "ROWSPERSTRIP", ",", "&", "rps", ")", ";", "<nl>", "static", "int", "readSeparateStripsIntoBuffer", "(", "TIFF", "*", "in", ",", "uint8", "*", "obuf", ",", "uint32", "length", ",", "<nl>", "uint32", "width", ",", "uint16", "spp", ",", "<nl>", "struct", "dump", "_", "opts", "*", "dump", ")", "<nl>", "{", "<nl>", "-", "int", "i", ",", "j", ",", "bytes", "_", "per", "_", "sample", ",", "bytes", "_", "per", "_", "pixel", ",", "shift", "_", "width", ",", "result", "=", "1", ";", "<nl>", "+", "int", "i", ",", "bytes", "_", "per", "_", "sample", ",", "bytes", "_", "per", "_", "pixel", ",", "shift", "_", "width", ",", "result", "=", "1", ";", "<nl>", "+", "uint32", "j", ";", "<nl>", "int32", "bytes", "_", "read", "=", "0", ";", "<nl>", "-", "uint16", "bps", ",", "nstrips", ",", "planar", ",", "strips", "_", "per", "_", "sample", ";", "<nl>", "+", "uint16", "bps", ",", "planar", ";", "<nl>", "+", "uint32", "nstrips", ";", "<nl>", "+", "uint32", "strips", "_", "per", "_", "sample", ";", "<nl>", "uint32", "src", "_", "rowsize", ",", "dst", "_", "rowsize", ",", "rows", "_", "processed", ",", "rps", ";", "<nl>", "uint32", "rows", "_", "this", "_", "strip", "=", "0", ";", "<nl>", "tsample", "_", "t", "s", ";", "<nl>", "static", "copyFunc", "pickCopyFunc", "(", "TIFF", "*", ",", "TIFF", "*", ",", "uint16", ",", "uint16", ")", ";", "<nl>", "static", "int", "<nl>", "tiffcp", "(", "TIFF", "*", "in", ",", "TIFF", "*", "out", ")", "<nl>", "{", "<nl>", "-", "uint16", "bitspersample", ",", "samplesperpixel", ";", "<nl>", "-", "uint16", "input", "_", "compression", ",", "input", "_", "photometric", ";", "<nl>", "+", "uint16", "bitspersample", ",", "samplesperpixel", "=", "1", ";", "<nl>", "+", "uint16", "input", "_", "compression", ",", "input", "_", "photometric", "=", "PHOTOMETRIC", "_", "MINISBLACK", ";", "<nl>", "copyFunc", "cf", ";", "<nl>", "uint32", "width", ",", "length", ";", "<nl>", "struct", "cpTag", "*", "p", ";", "<nl>"], "docstring_tokens": ["tools", "tiffcp", "c", "fix", "read", "of", "undefined", "variable", "in", "case", "of", "missing"]}
{"code_tokens": ["EstimateStripByteCounts", "(", "TIFF", "*", "tif", ",", "TIFFDirEntry", "*", "dir", ",", "uint16", "dircount", ")", "<nl>", "td", "-", ">", "td", "_", "stripbytecount", "=", "(", "uint64", "*", ")", "<nl>", "_", "TIFFCheckMalloc", "(", "tif", ",", "td", "-", ">", "td", "_", "nstrips", ",", "sizeof", "(", "uint64", ")", ",", "<nl>", "\"", "for", "\\", "\"", "StripByteCounts", "\\", "\"", "array", "\"", ")", ";", "<nl>", "+", "if", "(", "td", "-", ">", "td", "_", "stripbytecount", "=", "=", "NULL", ")", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "<nl>", "if", "(", "td", "-", ">", "td", "_", "compression", "!", "=", "COMPRESSION", "_", "NONE", ")", "{", "<nl>", "uint64", "space", ";", "<nl>", "uint64", "filesize", ";", "<nl>"], "docstring_tokens": ["fix", "unchecked", "malloc", "result"]}
{"code_tokens": ["DECLAREcpFunc", "(", "cpDecodedStrips", ")", "<nl>", "tstrip", "_", "t", "s", ",", "ns", "=", "TIFFNumberOfStrips", "(", "in", ")", ";", "<nl>", "uint32", "row", "=", "0", ";", "<nl>", "_", "TIFFmemset", "(", "buf", ",", "0", ",", "stripsize", ")", ";", "<nl>", "-", "for", "(", "s", "=", "0", ";", "s", "<", "ns", ";", "s", "+", "+", ")", "{", "<nl>", "+", "for", "(", "s", "=", "0", ";", "s", "<", "ns", "&", "&", "row", "<", "imagelength", ";", "s", "+", "+", ")", "{", "<nl>", "tsize", "_", "t", "cc", "=", "(", "row", "+", "rowsperstrip", ">", "imagelength", ")", "?", "<nl>", "TIFFVStripSize", "(", "in", ",", "imagelength", "-", "row", ")", ":", "stripsize", ";", "<nl>", "if", "(", "TIFFReadEncodedStrip", "(", "in", ",", "s", ",", "buf", ",", "cc", ")", "<", "0", "<nl>"], "docstring_tokens": ["tools", "tiffcp", "c", "avoid", "uint32", "underflow", "in", "cpDecodedStrips", "that"]}
{"code_tokens": ["DECLAREreadFunc", "(", "readContigTilesIntoBuffer", ")", "<nl>", "uint32", "colb", "=", "0", ";", "<nl>", "uint32", "col", ";", "<nl>", "<nl>", "-", "for", "(", "col", "=", "0", ";", "col", "<", "imagewidth", ";", "col", "+", "=", "tw", ")", "{", "<nl>", "+", "for", "(", "col", "=", "0", ";", "col", "<", "imagewidth", "&", "&", "colb", "<", "imagew", ";", "col", "+", "=", "tw", ")", "{", "<nl>", "if", "(", "TIFFReadTile", "(", "in", ",", "tilebuf", ",", "col", ",", "row", ",", "0", ",", "0", ")", "<", "0", "<nl>", "&", "&", "!", "ignore", ")", "{", "<nl>", "TIFFError", "(", "TIFFFileName", "(", "in", ")", ",", "<nl>", "DECLAREwriteFunc", "(", "writeBufferToContigTiles", ")", "<nl>", "uint32", "colb", "=", "0", ";", "<nl>", "uint32", "col", ";", "<nl>", "<nl>", "-", "for", "(", "col", "=", "0", ";", "col", "<", "imagewidth", ";", "col", "+", "=", "tw", ")", "{", "<nl>", "+", "for", "(", "col", "=", "0", ";", "col", "<", "imagewidth", "&", "&", "colb", "<", "imagew", ";", "col", "+", "=", "tw", ")", "{", "<nl>", "/", "*", "<nl>", "*", "Tile", "is", "clipped", "horizontally", ".", "Calculate", "<nl>", "*", "visible", "portion", "and", "skewing", "factors", ".", "<nl>"], "docstring_tokens": ["tools", "tiffcp", "c", "fix", "out", "of", "bounds", "write", "on", "tiled", "images", "with", "odd"]}
{"code_tokens": ["tdata", "_", "t", "<nl>", "_", "TIFFCheckMalloc", "(", "TIFF", "*", "tif", ",", "size", "_", "t", "nmemb", ",", "size", "_", "t", "elem", "_", "size", ",", "const", "char", "*", "what", ")", "<nl>", "{", "<nl>", "-", "tdata", "_", "t", "*", "cp", "=", "NULL", ";", "<nl>", "+", "tdata", "_", "t", "cp", "=", "NULL", ";", "<nl>", "tsize", "_", "t", "bytes", "=", "nmemb", "*", "elem", "_", "size", ";", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["Fixed", "type", "of", "temporary", "variable", "in", "_TIFFCheckMalloc", "as", "per", "bug"]}
{"code_tokens": ["fpAcc", "(", "TIFF", "*", "tif", ",", "uint8", "*", "cp0", ",", "tmsize", "_", "t", "cc", ")", "<nl>", "tmsize", "_", "t", "wc", "=", "cc", "/", "bps", ";", "<nl>", "tmsize", "_", "t", "count", "=", "cc", ";", "<nl>", "uint8", "*", "cp", "=", "(", "uint8", "*", ")", "cp0", ";", "<nl>", "-", "uint8", "*", "tmp", "=", "(", "uint8", "*", ")", "_", "TIFFmalloc", "(", "cc", ")", ";", "<nl>", "+", "uint8", "*", "tmp", ";", "<nl>", "<nl>", "if", "(", "cc", "%", "(", "bps", "*", "stride", ")", "!", "=", "0", ")", "<nl>", "{", "<nl>", "fpAcc", "(", "TIFF", "*", "tif", ",", "uint8", "*", "cp0", ",", "tmsize", "_", "t", "cc", ")", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "tmp", "=", "(", "uint8", "*", ")", "_", "TIFFmalloc", "(", "cc", ")", ";", "<nl>", "if", "(", "!", "tmp", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "fpDiff", "(", "TIFF", "*", "tif", ",", "uint8", "*", "cp0", ",", "tmsize", "_", "t", "cc", ")", "<nl>", "tmsize", "_", "t", "wc", "=", "cc", "/", "bps", ";", "<nl>", "tmsize", "_", "t", "count", ";", "<nl>", "uint8", "*", "cp", "=", "(", "uint8", "*", ")", "cp0", ";", "<nl>", "-", "uint8", "*", "tmp", "=", "(", "uint8", "*", ")", "_", "TIFFmalloc", "(", "cc", ")", ";", "<nl>", "+", "uint8", "*", "tmp", ";", "<nl>", "<nl>", "if", "(", "(", "cc", "%", "(", "bps", "*", "stride", ")", ")", "!", "=", "0", ")", "<nl>", "{", "<nl>", "fpDiff", "(", "TIFF", "*", "tif", ",", "uint8", "*", "cp0", ",", "tmsize", "_", "t", "cc", ")", "<nl>", "\"", "%", "s", "\"", ",", "\"", "(", "cc", "%", "(", "bps", "*", "stride", ")", ")", "!", "=", "0", "\"", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "tmp", "=", "(", "uint8", "*", ")", "_", "TIFFmalloc", "(", "cc", ")", ";", "<nl>", "if", "(", "!", "tmp", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "PredictorEncodeTile", "(", "TIFF", "*", "tif", ",", "uint8", "*", "bp0", ",", "tmsize", "_", "t", "cc0", ",", "uint16", "s", ")", "<nl>", "{", "<nl>", "TIFFErrorExt", "(", "tif", "-", ">", "tif", "_", "clientdata", ",", "\"", "PredictorEncodeTile", "\"", ",", "<nl>", "\"", "%", "s", "\"", ",", "\"", "(", "cc0", "%", "rowsize", ")", "!", "=", "0", "\"", ")", ";", "<nl>", "+", "_", "TIFFfree", "(", "working", "_", "copy", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "while", "(", "cc", ">", "0", ")", "{", "<nl>"], "docstring_tokens": ["libtiff", "tif_predic", "c", "fix", "memory", "leaks", "in", "error", "code", "paths", "added", "in"]}
{"code_tokens": ["bad", ":", "<nl>", "<nl>", "static", "void", "<nl>", "cpStripToTile", "(", "uint8", "*", "out", ",", "uint8", "*", "in", ",", "<nl>", "-", "uint32", "rows", ",", "uint32", "cols", ",", "int", "outskew", ",", "int", "inskew", ")", "<nl>", "+", "uint32", "rows", ",", "uint32", "cols", ",", "int", "outskew", ",", "int64", "inskew", ")", "<nl>", "{", "<nl>", "while", "(", "rows", "-", "-", ">", "0", ")", "{", "<nl>", "uint32", "j", "=", "cols", ";", "<nl>", "DECLAREreadFunc", "(", "readContigTilesIntoBuffer", ")", "<nl>", "tdata", "_", "t", "tilebuf", ";", "<nl>", "uint32", "imagew", "=", "TIFFScanlineSize", "(", "in", ")", ";", "<nl>", "uint32", "tilew", "=", "TIFFTileRowSize", "(", "in", ")", ";", "<nl>", "-", "int", "iskew", "=", "imagew", "-", "tilew", ";", "<nl>", "+", "int64", "iskew", "=", "(", "int64", ")", "imagew", "-", "(", "int64", ")", "tilew", ";", "<nl>", "uint8", "*", "bufp", "=", "(", "uint8", "*", ")", "buf", ";", "<nl>", "uint32", "tw", ",", "tl", ";", "<nl>", "uint32", "row", ";", "<nl>", "DECLAREreadFunc", "(", "readContigTilesIntoBuffer", ")", "<nl>", "status", "=", "0", ";", "<nl>", "goto", "done", ";", "<nl>", "}", "<nl>", "-", "if", "(", "colb", "+", "tilew", ">", "imagew", ")", "{", "<nl>", "+", "if", "(", "colb", ">", "iskew", ")", "{", "<nl>", "uint32", "width", "=", "imagew", "-", "colb", ";", "<nl>", "uint32", "oskew", "=", "tilew", "-", "width", ";", "<nl>", "cpStripToTile", "(", "bufp", "+", "colb", ",", "<nl>"], "docstring_tokens": ["tools", "tiffcp", "c", "fix", "uint32", "underflow", "overflow", "that", "can", "cause", "heap", "based"]}
{"code_tokens": ["static", "int", "readContigStripsIntoBuffer", "(", "TIFF", "*", "in", ",", "uint8", "*", "buf", ")", "<nl>", "(", "unsigned", "long", ")", "strip", ",", "(", "unsigned", "long", ")", "rows", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "-", "bufp", "+", "=", "bytes", "_", "read", ";", "<nl>", "+", "bufp", "+", "=", "stripsize", ";", "<nl>", "}", "<nl>", "<nl>", "return", "1", ";", "<nl>"], "docstring_tokens": ["tools", "tiffcrop", "c", "fix", "readContigStripsIntoBuffer", "in", "i", "ignore", "mode", "so"]}
{"code_tokens": ["static", "int", "readContigTilesIntoBuffer", "(", "TIFF", "*", "in", ",", "uint8", "*", "buf", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "tilebuf", "=", "_", "TIFFmalloc", "(", "tile", "_", "buffsize", ")", ";", "<nl>", "+", "/", "*", "Add", "3", "padding", "bytes", "for", "extractContigSamplesShifted32bits", "*", "/", "<nl>", "+", "if", "(", "tile", "_", "buffsize", ">", "0xFFFFFFFFU", "-", "3", ")", "<nl>", "+", "{", "<nl>", "+", "TIFFError", "(", "\"", "readContigTilesIntoBuffer", "\"", ",", "\"", "Integer", "overflow", "when", "calculating", "buffer", "size", ".", "\"", ")", ";", "<nl>", "+", "exit", "(", "-", "1", ")", ";", "<nl>", "+", "}", "<nl>", "+", "tilebuf", "=", "_", "TIFFmalloc", "(", "tile", "_", "buffsize", "+", "3", ")", ";", "<nl>", "if", "(", "tilebuf", "=", "=", "0", ")", "<nl>", "return", "0", ";", "<nl>", "+", "tilebuf", "[", "tile", "_", "buffsize", "]", "=", "0", ";", "<nl>", "+", "tilebuf", "[", "tile", "_", "buffsize", "+", "1", "]", "=", "0", ";", "<nl>", "+", "tilebuf", "[", "tile", "_", "buffsize", "+", "2", "]", "=", "0", ";", "<nl>", "<nl>", "dst", "_", "rowsize", "=", "(", "(", "imagewidth", "*", "bps", "*", "spp", ")", "+", "7", ")", "/", "8", ";", "<nl>", "for", "(", "row", "=", "0", ";", "row", "<", "imagelength", ";", "row", "+", "=", "tl", ")", "<nl>"], "docstring_tokens": ["tools", "tiffcrop", "c", "fix", "out", "of", "bound", "read", "of", "up", "to", "3", "bytes", "in"]}
{"code_tokens": ["case", "0", ":", "op", "[", "0", "]", "=", "(", "unsigned", "char", ")", "(", "(", "v", ")", "<", "<", "6", ")", ";", "break", ";", "\\", "<nl>", "case", "1", ":", "op", "[", "0", "]", "|", "=", "(", "v", ")", "<", "<", "4", ";", "break", ";", "\\", "<nl>", "case", "2", ":", "op", "[", "0", "]", "|", "=", "(", "v", ")", "<", "<", "2", ";", "break", ";", "\\", "<nl>", "-", "case", "3", ":", "*", "op", "+", "+", "|", "=", "(", "v", ")", ";", "break", ";", "\\", "<nl>", "+", "case", "3", ":", "*", "op", "+", "+", "|", "=", "(", "v", ")", ";", "op", "_", "offset", "+", "+", ";", "break", ";", "\\", "<nl>", "}", "\\", "<nl>", "}", "<nl>", "<nl>", "NeXTDecode", "(", "TIFF", "*", "tif", ",", "uint8", "*", "buf", ",", "tmsize", "_", "t", "occ", ",", "uint16", "s", ")", "<nl>", "uint32", "imagewidth", "=", "tif", "-", ">", "tif", "_", "dir", ".", "td", "_", "imagewidth", ";", "<nl>", "if", "(", "isTiled", "(", "tif", ")", ")", "<nl>", "imagewidth", "=", "tif", "-", ">", "tif", "_", "dir", ".", "td", "_", "tilewidth", ";", "<nl>", "+", "tmsize", "_", "t", "op", "_", "offset", "=", "0", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "The", "scanline", "is", "composed", "of", "a", "sequence", "of", "constant", "<nl>", "NeXTDecode", "(", "TIFF", "*", "tif", ",", "uint8", "*", "buf", ",", "tmsize", "_", "t", "occ", ",", "uint16", "s", ")", "<nl>", "*", "bounds", ",", "potentially", "resulting", "in", "a", "security", "<nl>", "*", "issue", ".", "<nl>", "*", "/", "<nl>", "-", "while", "(", "n", "-", "-", ">", "0", "&", "&", "npixels", "<", "imagewidth", ")", "<nl>", "+", "while", "(", "n", "-", "-", ">", "0", "&", "&", "npixels", "<", "imagewidth", "&", "&", "op", "_", "offset", "<", "scanline", ")", "<nl>", "SETPIXEL", "(", "op", ",", "grey", ")", ";", "<nl>", "if", "(", "npixels", ">", "=", "imagewidth", ")", "<nl>", "break", ";", "<nl>", "+", "if", "(", "op", "_", "offset", ">", "=", "scanline", ")", "{", "<nl>", "+", "TIFFErrorExt", "(", "tif", "-", ">", "tif", "_", "clientdata", ",", "module", ",", "\"", "Invalid", "data", "for", "scanline", "%", "ld", "\"", ",", "<nl>", "+", "(", "long", ")", "tif", "-", ">", "tif", "_", "row", ")", ";", "<nl>", "+", "return", "(", "0", ")", ";", "<nl>", "+", "}", "<nl>", "if", "(", "cc", "=", "=", "0", ")", "<nl>", "goto", "bad", ";", "<nl>", "n", "=", "*", "bp", "+", "+", ",", "cc", "-", "-", ";", "<nl>"], "docstring_tokens": ["libtiff", "tif_next", "c", "fix", "potential", "out", "of", "bound", "write", "in", "NeXTDecode"]}
{"code_tokens": ["*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "<nl>", "*", "<nl>", "*", "$", "Log", "$", "<nl>", "-", "*", "Revision", "1", ".", "11", "2005", "-", "09", "-", "13", "14", ":", "13", ":", "42", "dron", "<nl>", "+", "*", "Revision", "1", ".", "12", "2007", "-", "02", "-", "24", "17", ":", "14", ":", "14", "dron", "<nl>", "+", "*", "Properly", "handle", "tags", "with", "TIFF", "_", "VARIABLE", "writecount", ".", "As", "per", "bug", "<nl>", "+", "*", "http", ":", "/", "/", "bugzilla", ".", "remotesensing", ".", "org", "/", "show", "_", "bug", ".", "cgi", "?", "id", "=", "1350", "<nl>", "+", "*", "<nl>", "+", "*", "Revision", "1", ".", "11", "2005", "/", "09", "/", "13", "14", ":", "13", ":", "42", "dron", "<nl>", "*", "Avoid", "warnings", ".", "<nl>", "*", "<nl>", "*", "Revision", "1", ".", "10", "2005", "/", "02", "/", "24", "14", ":", "47", ":", "11", "fwarmerdam", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "if", "(", "TIFFSetField", "(", "tiff", ",", "fip", "-", ">", "field", "_", "tag", ",", "argv", "[", "arg", "_", "index", "]", ")", "!", "=", "1", ")", "<nl>", "fprintf", "(", "stderr", ",", "\"", "Failed", "to", "set", "%", "s", "=", "%", "s", "\\", "n", "\"", ",", "<nl>", "fip", "-", ">", "field", "_", "name", ",", "argv", "[", "arg", "_", "index", "]", ")", ";", "<nl>", "-", "}", "else", "if", "(", "fip", "-", ">", "field", "_", "writecount", ">", "0", ")", "{", "<nl>", "+", "}", "else", "if", "(", "fip", "-", ">", "field", "_", "writecount", ">", "0", "<nl>", "+", "|", "|", "fip", "-", ">", "field", "_", "writecount", "=", "=", "TIFF", "_", "VARIABLE", ")", "{", "<nl>", "int", "ret", "=", "1", ";", "<nl>", "short", "wc", ";", "<nl>"], "docstring_tokens": ["Properly", "handle", "tags", "with", "TIFF_VARIABLE", "writecount", "As", "per", "bug"]}
{"code_tokens": ["tsize", "_", "t", "t2p", "_", "readwrite", "_", "pdf", "_", "image", "_", "tile", "(", "T2P", "*", "t2p", ",", "TIFF", "*", "input", ",", "TIFF", "*", "output", ",", "ttile", "_", "<nl>", "return", "(", "0", ")", ";", "<nl>", "}", "<nl>", "if", "(", "TIFFGetField", "(", "input", ",", "TIFFTAG", "_", "JPEGTABLES", ",", "&", "count", ",", "&", "jpt", ")", "!", "=", "0", ")", "{", "<nl>", "-", "if", "(", "count", ">", "=", "4", ")", "{", "<nl>", "+", "if", "(", "count", ">", "4", ")", "{", "<nl>", "int", "retTIFFReadRawTile", ";", "<nl>", "/", "*", "Ignore", "EOI", "marker", "of", "JpegTables", "*", "/", "<nl>", "_", "TIFFmemcpy", "(", "buffer", ",", "jpt", ",", "count", "-", "2", ")", ";", "<nl>"], "docstring_tokens": ["tools", "tiff2pdf", "c", "avoid", "potential", "heap", "based", "overflow", "in"]}
{"code_tokens": ["JPEGVSetField", "(", "TIFF", "*", "tif", ",", "ttag", "_", "t", "tag", ",", "va", "_", "list", "ap", ")", "<nl>", "case", "TIFFTAG", "_", "JPEGTABLESMODE", ":", "<nl>", "sp", "-", ">", "jpegtablesmode", "=", "va", "_", "arg", "(", "ap", ",", "int", ")", ";", "<nl>", "return", "(", "1", ")", ";", "/", "*", "pseudo", "tag", "*", "/", "<nl>", "+", "case", "TIFFTAG", "_", "YCBCRSUBSAMPLING", ":", "<nl>", "+", "/", "*", "mark", "the", "fact", "that", "we", "have", "a", "real", "ycbcrsubsampling", "!", "*", "/", "<nl>", "+", "sp", "-", ">", "ycbcrsampling", "_", "fetched", "=", "1", ";", "<nl>", "+", "return", "(", "*", "sp", "-", ">", "vsetparent", ")", "(", "tif", ",", "tag", ",", "ap", ")", ";", "<nl>", "default", ":", "<nl>", "return", "(", "*", "sp", "-", ">", "vsetparent", ")", "(", "tif", ",", "tag", ",", "ap", ")", ";", "<nl>", "}", "<nl>", "JPEGVSetField", "(", "TIFF", "*", "tif", ",", "ttag", "_", "t", "tag", ",", "va", "_", "list", "ap", ")", "<nl>", "*", "loaded", "just", "to", "get", "the", "tags", "right", ",", "even", "if", "the", "imagery", "is", "never", "read", ".", "<nl>", "*", "It", "would", "be", "more", "efficient", "to", "just", "load", "a", "bit", "of", "the", "header", ",", "and", "<nl>", "*", "initialize", "things", "from", "that", ".", "<nl>", "-", "*", "o", "This", "code", "doesn", "'", "t", "know", "whether", "or", "not", "the", "tag", "actually", "did", "occur", "in", "<nl>", "-", "*", "the", "file", ".", "If", "it", "knew", "this", "it", "could", "skip", "the", "hack", "but", "this", "is", "hard", "to", "<nl>", "-", "*", "know", "since", "we", "have", "already", "set", "the", "\"", "field", "set", "\"", "bit", "for", "the", "subsampling", "<nl>", "-", "*", "TIFFInitJPEG", "(", ")", ".", "<nl>", "*", "<nl>", "*", "See", "the", "bug", "in", "bugzilla", "for", "details", ":", "<nl>", "*", "<nl>", "JPEGFixupTestSubsampling", "(", "TIFF", "*", "tif", ")", "<nl>", "*", "jpeg", "data", "to", "get", "the", "sampling", ".", "<nl>", "*", "/", "<nl>", "if", "(", "!", "sp", "-", ">", "cinfo", ".", "comm", ".", "is", "_", "decompressor", "<nl>", "-", "|", "|", "sp", "-", ">", "ycbcrsampling", "_", "fetched", ")", "<nl>", "+", "|", "|", "sp", "-", ">", "ycbcrsampling", "_", "fetched", "<nl>", "+", "|", "|", "sp", "-", ">", "photometric", "!", "=", "PHOTOMETRIC", "_", "YCBCR", ")", "<nl>", "return", ";", "<nl>", "<nl>", "sp", "-", ">", "ycbcrsampling", "_", "fetched", "=", "1", ";", "<nl>"], "docstring_tokens": ["Finished", "last", "change", "with", "regard", "to", "ycbcr", "subsampling", "See", "Bugzilla"]}
{"code_tokens": ["struct", "tiff", "{", "<nl>", "*", "/", "<nl>", "#", "ifndef", "ReadOK", "<nl>", "#", "define", "ReadOK", "(", "tif", ",", "buf", ",", "size", ")", "\\", "<nl>", "-", "(", "TIFFReadFile", "(", "tif", ",", "(", "tdata", "_", "t", ")", "buf", ",", "(", "tsize", "_", "t", ")", "size", ")", "=", "=", "(", "tsize", "_", "t", ")", "size", ")", "<nl>", "+", "(", "TIFFReadFile", "(", "tif", ",", "(", "tdata", "_", "t", ")", "buf", ",", "(", "tsize", "_", "t", ")", "(", "size", ")", ")", "=", "=", "(", "tsize", "_", "t", ")", "(", "size", ")", ")", "<nl>", "#", "endif", "<nl>", "#", "ifndef", "SeekOK", "<nl>", "#", "define", "SeekOK", "(", "tif", ",", "off", ")", "\\", "<nl>"], "docstring_tokens": ["fix", "ReadOK", "macro", "to", "avoid", "casting", "warnings"]}
{"code_tokens": ["process", "(", "register", "int", "code", ",", "unsigned", "char", "*", "*", "fill", ")", "<nl>", "}", "<nl>", "<nl>", "if", "(", "oldcode", "=", "=", "-", "1", ")", "{", "<nl>", "+", "if", "(", "code", ">", "=", "clear", ")", "{", "<nl>", "+", "fprintf", "(", "stderr", ",", "\"", "bad", "input", ":", "code", "=", "%", "d", "is", "larger", "than", "clear", "=", "%", "d", "\\", "n", "\"", ",", "code", ",", "clear", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "*", "(", "*", "fill", ")", "+", "+", "=", "suffix", "[", "code", "]", ";", "<nl>", "firstchar", "=", "oldcode", "=", "code", ";", "<nl>", "return", "1", ";", "<nl>"], "docstring_tokens": ["fix", "possible", "OOB", "write", "in", "gif2tiff", "c"]}
{"code_tokens": ["struct", "sess", ";", "<nl>", "typedef", "void", "*", "waiter", "_", "init", "_", "f", "(", "void", ")", ";", "<nl>", "typedef", "void", "waiter", "_", "pass", "_", "f", "(", "void", "*", "priv", ",", "const", "struct", "sess", "*", ")", ";", "<nl>", "<nl>", "-", "extern", "int", "vca", "_", "pipes", "[", "2", "]", ";", "<nl>", "-", "<nl>", "struct", "waiter", "{", "<nl>", "const", "char", "*", "name", ";", "<nl>", "waiter", "_", "init", "_", "f", "*", "init", ";", "mmm", "bin", "/", "varnishd", "/", "cache", "_", "acceptor", ".", "c", "<nl>", "struct", "sess", ";", "<nl>", "typedef", "void", "*", "waiter", "_", "init", "_", "f", "(", "void", ")", ";", "<nl>", "typedef", "void", "waiter", "_", "pass", "_", "f", "(", "void", "*", "priv", ",", "const", "struct", "sess", "*", ")", ";", "<nl>", "<nl>", "-", "extern", "int", "vca", "_", "pipes", "[", "2", "]", ";", "<nl>", "-", "<nl>", "struct", "waiter", "{", "<nl>", "const", "char", "*", "name", ";", "<nl>", "waiter", "_", "init", "_", "f", "*", "init", ";", "<nl>", "static", "const", "struct", "linger", "linger", "=", "{", "<nl>", "<nl>", "static", "unsigned", "char", "need", "_", "sndtimeo", ",", "need", "_", "rcvtimeo", ",", "need", "_", "linger", ",", "need", "_", "test", ";", "<nl>", "<nl>", "-", "int", "vca", "_", "pipes", "[", "2", "]", "=", "{", "-", "1", ",", "-", "1", "}", ";", "<nl>", "-", "<nl>", "static", "void", "<nl>", "sock", "_", "test", "(", "int", "fd", ")", "<nl>", "{", "<nl>", "ccf", "_", "start", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "AN", "(", "vca", "_", "act", "-", ">", "init", ")", ";", "<nl>", "AN", "(", "vca", "_", "act", "-", ">", "pass", ")", ";", "<nl>", "<nl>", "-", "AZ", "(", "pipe", "(", "vca", "_", "pipes", ")", ")", ";", "/", "*", "XXX", "*", "/", "<nl>", "waiter", "_", "priv", "=", "vca", "_", "act", "-", ">", "init", "(", ")", ";", "<nl>", "AZ", "(", "pthread", "_", "create", "(", "&", "VCA", "_", "thread", ",", "NULL", ",", "vca", "_", "acct", ",", "NULL", ")", ")", ";", "<nl>", "VSL", "(", "SLT", "_", "Debug", ",", "0", ",", "\"", "Acceptor", "is", "%", "s", "\"", ",", "vca", "_", "act", "-", ">", "name", ")", ";", "<nl>"], "docstring_tokens": ["Eliminate", "the", "global", "vca_pipes"]}
{"code_tokens": ["<nl>", "static", "pthread", "_", "t", "vca", "_", "poll", "_", "thread", ";", "<nl>", "static", "struct", "pollfd", "*", "pollfd", ";", "<nl>", "-", "static", "unsigned", "npoll", ";", "<nl>", "+", "static", "unsigned", "npoll", ",", "hpoll", ";", "<nl>", "<nl>", "static", "VTAILQ", "_", "HEAD", "(", ",", "sess", ")", "sesshead", "=", "VTAILQ", "_", "HEAD", "_", "INITIALIZER", "(", "sesshead", ")", ";", "<nl>", "<nl>", "vca", "_", "poll", "(", "int", "fd", ")", "<nl>", "<nl>", "assert", "(", "fd", ">", "=", "0", ")", ";", "<nl>", "vca", "_", "pollspace", "(", "(", "unsigned", ")", "fd", ")", ";", "<nl>", "+", "if", "(", "hpoll", "<", "fd", ")", "<nl>", "+", "hpoll", "=", "fd", ";", "<nl>", "pollfd", "[", "fd", "]", ".", "fd", "=", "fd", ";", "<nl>", "pollfd", "[", "fd", "]", ".", "events", "=", "POLLIN", ";", "<nl>", "}", "<nl>", "vca", "_", "unpoll", "(", "int", "fd", ")", "<nl>", "vca", "_", "pollspace", "(", "(", "unsigned", ")", "fd", ")", ";", "<nl>", "pollfd", "[", "fd", "]", ".", "fd", "=", "-", "1", ";", "<nl>", "pollfd", "[", "fd", "]", ".", "events", "=", "0", ";", "<nl>", "+", "if", "(", "hpoll", "=", "=", "fd", ")", "{", "<nl>", "+", "while", "(", "pollfd", "[", "-", "-", "hpoll", "]", ".", "fd", "=", "=", "-", "1", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "/", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "*", "/", "<nl>", "vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "vca", "_", "poll", "(", "vca", "_", "pipes", "[", "0", "]", ")", ";", "<nl>", "<nl>", "while", "(", "1", ")", "{", "<nl>", "-", "v", "=", "poll", "(", "pollfd", ",", "npoll", ",", "100", ")", ";", "<nl>", "+", "v", "=", "poll", "(", "pollfd", ",", "hpoll", "+", "1", ",", "100", ")", ";", "<nl>", "if", "(", "v", "&", "&", "pollfd", "[", "vca", "_", "pipes", "[", "0", "]", "]", ".", "revents", ")", "{", "<nl>", "v", "-", "-", ";", "<nl>", "i", "=", "read", "(", "vca", "_", "pipes", "[", "0", "]", ",", "&", "sp", ",", "sizeof", "sp", ")", ";", "<nl>"], "docstring_tokens": ["Keep", "track", "of", "the", "highest", "fd", "so", "we", "don", "t", "give", "poll", "2", "more", "pfd", "s", "to"]}
{"code_tokens": ["cnt", "_", "recv", "(", "struct", "sess", "*", "sp", ")", "<nl>", "return", "(", "0", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "params", "-", ">", "http", "_", "gzip", "_", "support", "&", "&", "<nl>", "+", "(", "recv", "_", "handling", "!", "=", "VCL", "_", "RET", "_", "PIPE", ")", "&", "&", "<nl>", "+", "(", "recv", "_", "handling", "!", "=", "VCL", "_", "RET", "_", "PASS", ")", ")", "{", "<nl>", "+", "if", "(", "RFC2616", "_", "Req", "_", "Gzip", "(", "sp", ")", ")", "{", "<nl>", "+", "http", "_", "Unset", "(", "sp", "-", ">", "http", ",", "H", "_", "Accept", "_", "Encoding", ")", ";", "<nl>", "+", "http", "_", "PrintfHeader", "(", "sp", "-", ">", "wrk", ",", "sp", "-", ">", "fd", ",", "sp", "-", ">", "http", ",", "<nl>", "+", "\"", "Accept", "-", "Encoding", ":", "gzip", "\"", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "http", "_", "Unset", "(", "sp", "-", ">", "http", ",", "H", "_", "Accept", "_", "Encoding", ")", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "SHA256", "_", "Init", "(", "sp", "-", ">", "wrk", "-", ">", "sha256ctx", ")", ";", "<nl>", "VCL", "_", "hash", "_", "method", "(", "sp", ")", ";", "<nl>", "assert", "(", "sp", "-", ">", "handling", "=", "=", "VCL", "_", "RET", "_", "HASH", ")", ";", "<nl>"], "docstring_tokens": ["Normalize", "requests", "Accept", "Encoding", "header", "if", "we", "are", "not", "pipe", "or", "pass"]}
{"code_tokens": ["cnt", "_", "miss", "(", "struct", "sess", "*", "sp", ")", "<nl>", "HSH", "_", "Unbusy", "(", "sp", "-", ">", "obj", ")", ";", "<nl>", "HSH", "_", "Deref", "(", "sp", "-", ">", "obj", ")", ";", "<nl>", "sp", "-", ">", "obj", "=", "NULL", ";", "<nl>", "+", "vbe", "_", "free", "_", "bereq", "(", "sp", "-", ">", "bereq", ")", ";", "<nl>", "+", "sp", "-", ">", "bereq", "=", "NULL", ";", "<nl>", "sp", "-", ">", "step", "=", "STP", "_", "ERROR", ";", "<nl>", "return", "(", "0", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["When", "vcl_miss", "take", "error", "action", "remember", "to", "discard", "backend", "request"]}
{"code_tokens": ["read", "_", "tmo", "(", "int", "fd", ",", "char", "*", "ptr", ",", "unsigned", "len", ",", "double", "tmo", ")", "<nl>", "pfd", ".", "events", "=", "POLLIN", ";", "<nl>", "for", "(", "j", "=", "0", ";", "len", ">", "0", ";", ")", "{", "<nl>", "i", "=", "poll", "(", "&", "pfd", ",", "1", ",", "to", ")", ";", "<nl>", "+", "if", "(", "i", "<", "0", ")", "{", "<nl>", "+", "errno", "=", "EINTR", ";", "<nl>", "+", "return", "(", "-", "1", ")", ";", "<nl>", "+", "}", "<nl>", "if", "(", "i", "=", "=", "0", ")", "{", "<nl>", "errno", "=", "ETIMEDOUT", ";", "<nl>", "return", "(", "-", "1", ")", ";", "<nl>"], "docstring_tokens": ["Bail", "out", "of", "CLI", "reads", "on", "signals"]}
{"code_tokens": ["<nl>", "static", "const", "char", "progname", "[", "]", "=", "\"", "varnishtop", "\"", ";", "<nl>", "static", "float", "period", "=", "60", ";", "/", "*", "seconds", "*", "/", "<nl>", "+", "static", "int", "end", "_", "of", "_", "file", "=", "0", ";", "<nl>", "<nl>", "struct", "top", "{", "<nl>", "uint8", "_", "t", "tag", ";", "<nl>", "update", "(", "int", "p", ")", "<nl>", "if", "(", "n", "<", "p", ")", "<nl>", "n", "+", "+", ";", "<nl>", "AC", "(", "erase", "(", ")", ")", ";", "<nl>", "-", "AC", "(", "mvprintw", "(", "0", ",", "0", ",", "\"", "%", "*", "s", "\"", ",", "COLS", "-", "1", ",", "VUT", ".", "name", ")", ")", ";", "<nl>", "+", "if", "(", "end", "_", "of", "_", "file", ")", "<nl>", "+", "AC", "(", "mvprintw", "(", "0", ",", "COLS", "-", "1", "-", "strlen", "(", "VUT", ".", "name", ")", "-", "5", ",", "\"", "%", "s", "(", "EOF", ")", "\"", ",", "<nl>", "+", "VUT", ".", "name", ")", ")", ";", "<nl>", "+", "else", "<nl>", "+", "AC", "(", "mvprintw", "(", "0", ",", "COLS", "-", "1", "-", "strlen", "(", "VUT", ".", "name", ")", ",", "\"", "%", "s", "\"", ",", "VUT", ".", "name", ")", ")", ";", "<nl>", "AC", "(", "mvprintw", "(", "0", ",", "0", ",", "\"", "list", "length", "%", "u", "\"", ",", "ntop", ")", ")", ";", "<nl>", "for", "(", "tp", "=", "VRB", "_", "MIN", "(", "top", "_", "tree", ",", "&", "top", "_", "tree", "_", "head", ")", ";", "tp", "!", "=", "NULL", ";", "tp", "=", "tp2", ")", "{", "<nl>", "tp2", "=", "VRB", "_", "NEXT", "(", "top", "_", "tree", ",", "&", "top", "_", "tree", "_", "head", ",", "tp", ")", ";", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "<nl>", "VUT", ".", "dispatch", "_", "f", "=", "&", "accumulate", ";", "<nl>", "VUT", ".", "dispatch", "_", "priv", "=", "NULL", ";", "<nl>", "VUT", "_", "Main", "(", ")", ";", "<nl>", "+", "end", "_", "of", "_", "file", "=", "1", ";", "<nl>", "if", "(", "once", ")", "<nl>", "dump", "(", ")", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["Display", "EOF", "upon", "hitting", "end", "of", "input"]}
{"code_tokens": ["EXP", "_", "Touch", "(", "const", "struct", "object", "*", "o", ",", "double", "now", ")", "<nl>", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "o", ",", "OBJECT", "_", "MAGIC", ")", ";", "<nl>", "oe", "=", "o", "-", ">", "objexp", ";", "<nl>", "+", "if", "(", "oe", "=", "=", "NULL", ")", "<nl>", "+", "return", ";", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "oe", ",", "OBJEXP", "_", "MAGIC", ")", ";", "<nl>", "if", "(", "oe", "-", ">", "lru", "_", "stamp", "+", "params", "-", ">", "lru", "_", "timeout", ">", "now", ")", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["Workaround", "ignore", "uncached", "objects", "in", "EXP_Touch"]}
{"code_tokens": ["vbf", "_", "stp", "_", "error", "(", "struct", "worker", "*", "wrk", ",", "struct", "busyobj", "*", "bo", ")", "<nl>", "l", "=", "ll", ";", "<nl>", "if", "(", "VFP", "_", "GetStorage", "(", "bo", "-", ">", "vfc", ",", "&", "l", ",", "&", "ptr", ")", "!", "=", "VFP", "_", "OK", ")", "<nl>", "break", ";", "<nl>", "+", "if", "(", "l", ">", "ll", ")", "<nl>", "+", "l", "=", "ll", ";", "<nl>", "memcpy", "(", "ptr", ",", "VSB", "_", "data", "(", "synth", "_", "body", ")", "+", "o", ",", "l", ")", ";", "<nl>", "VFP", "_", "Extend", "(", "bo", "-", ">", "vfc", ",", "l", ")", ";", "<nl>", "ll", "-", "=", "l", ";", "<nl>"], "docstring_tokens": ["Avoid", "buffer", "read", "overflow", "on", "vcl_error", "and", "sfile"]}
{"code_tokens": ["vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "if", "(", "pollfd", "[", "fd", "]", ".", "revents", ")", "{", "<nl>", "v", "-", "-", ";", "<nl>", "i", "=", "HTC", "_", "Rx", "(", "sp", "-", ">", "htc", ")", ";", "<nl>", "+", "if", "(", "pollfd", "[", "fd", "]", ".", "revents", "!", "=", "POLLIN", ")", "<nl>", "+", "VSL", "(", "SLT", "_", "Debug", ",", "fd", ",", "\"", "Poll", ":", "%", "x", "/", "%", "d", "\"", ",", "<nl>", "+", "pollfd", "[", "fd", "]", ".", "revents", ",", "i", ")", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "if", "(", "i", "=", "=", "0", ")", "{", "<nl>", "/", "*", "Mov", "to", "front", "of", "list", "for", "speed", "*", "/", "<nl>", "vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "assert", "(", "v", "=", "=", "0", ")", ";", "<nl>", "}", "<nl>", "NEEDLESS", "_", "RETURN", "(", "NULL", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Assert", "that", "we", "found", "all", "active", "fd", "s"]}
{"code_tokens": ["mgt", "_", "run", "(", "int", "dflag", ",", "const", "char", "*", "T", "_", "arg", ")", "<nl>", "<nl>", "setproctitle", "(", "\"", "Varnish", "-", "Mgr", "%", "s", "\"", ",", "heritage", ".", "name", ")", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "sac", ",", "0", ",", "sizeof", "sac", ")", ";", "<nl>", "sac", ".", "sa", "_", "handler", "=", "SIG", "_", "IGN", ";", "<nl>", "sac", ".", "sa", "_", "flags", "=", "SA", "_", "RESTART", ";", "<nl>"], "docstring_tokens": ["Initialize", "all", "bits", "in", "the", "sigaction"]}
{"code_tokens": ["struct", "smp", "_", "segptr", "{", "<nl>", "struct", "smp", "_", "object", "{", "<nl>", "uint8", "_", "t", "hash", "[", "32", "]", ";", "/", "*", "really", ":", "DIGEST", "_", "LEN", "*", "/", "<nl>", "struct", "exp", "exp", ";", "<nl>", "+", "uint32", "_", "t", "_", "_", "filler", "_", "_", ";", "/", "*", "-", ">", "align", "/", "8", "on", "32bit", "*", "/", "<nl>", "double", "ban", ";", "<nl>", "uint64", "_", "t", "ptr", ";", "/", "*", "rel", "to", "silo", "*", "/", "<nl>", "}", ";", "mmm", "bin", "/", "varnishd", "/", "storage", "/", "storage", "_", "persistent", "_", "mgt", ".", "c", "<nl>", "struct", "smp", "_", "segptr", "{", "<nl>", "struct", "smp", "_", "object", "{", "<nl>", "uint8", "_", "t", "hash", "[", "32", "]", ";", "/", "*", "really", ":", "DIGEST", "_", "LEN", "*", "/", "<nl>", "struct", "exp", "exp", ";", "<nl>", "+", "uint32", "_", "t", "_", "_", "filler", "_", "_", ";", "/", "*", "-", ">", "align", "/", "8", "on", "32bit", "*", "/", "<nl>", "double", "ban", ";", "<nl>", "uint64", "_", "t", "ptr", ";", "/", "*", "rel", "to", "silo", "*", "/", "<nl>", "}", ";", "<nl>", "smp", "_", "mgt", "_", "init", "(", "struct", "stevedore", "*", "parent", ",", "int", "ac", ",", "char", "*", "const", "*", "av", ")", "<nl>", "ASSERT", "_", "MGT", "(", ")", ";", "<nl>", "<nl>", "AZ", "(", "av", "[", "ac", "]", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Necessary", "alignment", ".", "See", "also", "smp", "_", "object", ":", ":", "_", "_", "filler", "_", "_", "*", "/", "<nl>", "+", "assert", "(", "sizeof", "(", "struct", "smp", "_", "object", ")", "%", "8", "=", "=", "0", ")", ";", "<nl>", "+", "<nl>", "#", "define", "SIZOF", "(", "foo", ")", "fprintf", "(", "stderr", ",", "\\", "<nl>", "\"", "sizeof", "(", "%", "s", ")", "=", "%", "zu", "=", "0x", "%", "zx", "\\", "n", "\"", ",", "#", "foo", ",", "sizeof", "(", "foo", ")", ",", "sizeof", "(", "foo", ")", ")", ";", "<nl>", "SIZOF", "(", "struct", "smp", "_", "ident", ")", ";", "<nl>"], "docstring_tokens": ["Ensure", "that", "smp_object", "always", "are", "a", "multiple", "of", "8", "bytes"]}
{"code_tokens": ["VRND", "_", "CryptoQuality", "(", "void", "*", "ptr", ",", "size", "_", "t", "len", ")", "<nl>", "ssize", "_", "t", "l", ";", "<nl>", "<nl>", "AN", "(", "ptr", ")", ";", "<nl>", "-", "fd", "=", "open", "(", "\"", "/", "dev", "/", "random", "\"", ",", "O", "_", "RDONLY", ")", ";", "<nl>", "+", "fd", "=", "open", "(", "\"", "/", "dev", "/", "urandom", "\"", ",", "O", "_", "RDONLY", ")", ";", "<nl>", "if", "(", "fd", "<", "0", ")", "<nl>", "return", "(", "-", "1", ")", ";", "<nl>", "for", "(", "p", "=", "ptr", ";", "len", ">", "0", ";", "len", "-", "-", ",", "p", "+", "+", ")", "{", "<nl>"], "docstring_tokens": ["Use", "dev", "urandom", "Linux", "kernels", "seems", "to", "be", "very", "short", "on", "entropy"]}
{"code_tokens": ["HSH", "_", "FindBan", "(", "struct", "sess", "*", "sp", ",", "struct", "objcore", "*", "*", "oc", ")", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "oc1", ",", "OBJCORE", "_", "MAGIC", ")", ";", "<nl>", "oh", "=", "oc1", "-", ">", "objhead", ";", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "oh", ",", "OBJHEAD", "_", "MAGIC", ")", ";", "<nl>", "-", "Lck", "_", "Lock", "(", "&", "oh", "-", ">", "mtx", ")", ";", "<nl>", "+", "if", "(", "Lck", "_", "Trylock", "(", "&", "oh", "-", ">", "mtx", ")", ")", "{", "<nl>", "+", "*", "oc", "=", "NULL", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "VTAILQ", "_", "FOREACH", "(", "oc2", ",", "&", "oh", "-", ">", "objcs", ",", "list", ")", "<nl>", "if", "(", "oc1", "=", "=", "oc2", ")", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["There", "is", "a", "potential", "lock", "order", "inversion", "between", "a", "worker", "thread"]}
{"code_tokens": ["vtx", "_", "set", "_", "parent", "(", "struct", "vtx", "*", "parent", ",", "struct", "vtx", "*", "child", ")", "<nl>", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "parent", ",", "VTX", "_", "MAGIC", ")", ";", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "child", ",", "VTX", "_", "MAGIC", ")", ";", "<nl>", "+", "assert", "(", "parent", "!", "=", "child", ")", ";", "<nl>", "AZ", "(", "parent", "-", ">", "flags", "&", "VTX", "_", "F", "_", "COMPLETE", ")", ";", "<nl>", "AZ", "(", "child", "-", ">", "flags", "&", "VTX", "_", "F", "_", "COMPLETE", ")", ";", "<nl>", "AZ", "(", "child", "-", ">", "parent", ")", ";", "<nl>", "vtx", "_", "scan", "_", "begin", "(", "struct", "VSLQ", "*", "vslq", ",", "struct", "vtx", "*", "vtx", ",", "const", "uint32", "_", "t", "*", "ptr", ")", "<nl>", "vtx", "-", ">", "reason", "=", "reason", ";", "<nl>", "<nl>", "if", "(", "p", "_", "vxid", "=", "=", "0", ")", "<nl>", "-", "/", "*", "No", "parent", "*", "/", "<nl>", "+", "/", "*", "Zero", "means", "no", "parent", "*", "/", "<nl>", "return", "(", "0", ")", ";", "<nl>", "+", "if", "(", "p", "_", "vxid", "=", "=", "vtx", "-", ">", "key", ".", "vxid", ")", "<nl>", "+", "return", "(", "vtx", "_", "diag", "_", "tag", "(", "vtx", ",", "ptr", ",", "\"", "link", "to", "self", "\"", ")", ")", ";", "<nl>", "<nl>", "if", "(", "vslq", "-", ">", "grouping", "=", "=", "VSL", "_", "g", "_", "vxid", ")", "<nl>", "return", "(", "0", ")", ";", "/", "*", "No", "links", "*", "/", "<nl>", "vtx", "_", "scan", "_", "link", "(", "struct", "VSLQ", "*", "vslq", ",", "struct", "vtx", "*", "vtx", ",", "const", "uint32", "_", "t", "*", "ptr", ")", "<nl>", "if", "(", "vslq", "-", ">", "grouping", "=", "=", "VSL", "_", "g", "_", "request", "&", "&", "vtx", "-", ">", "type", "=", "=", "VSL", "_", "t", "_", "sess", ")", "<nl>", "return", "(", "0", ")", ";", "/", "*", "No", "links", "*", "/", "<nl>", "<nl>", "+", "if", "(", "c", "_", "vxid", "=", "=", "0", ")", "<nl>", "+", "return", "(", "vtx", "_", "diag", "_", "tag", "(", "vtx", ",", "ptr", ",", "\"", "illegal", "link", "vxid", "\"", ")", ")", ";", "<nl>", "+", "if", "(", "c", "_", "vxid", "=", "=", "vtx", "-", ">", "key", ".", "vxid", ")", "<nl>", "+", "return", "(", "vtx", "_", "diag", "_", "tag", "(", "vtx", ",", "ptr", ",", "\"", "link", "to", "self", "\"", ")", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Lookup", "and", "check", "child", "vtx", "*", "/", "<nl>", "c", "_", "vtx", "=", "vtx", "_", "lookup", "(", "vslq", ",", "c", "_", "vxid", ")", ";", "<nl>", "if", "(", "c", "_", "vtx", "=", "=", "NULL", ")", "{", "<nl>"], "docstring_tokens": ["Strengten", "link", "checks", "against", "loops", "in", "the", "linked", "records"]}
{"code_tokens": ["smp", "_", "def", "_", "sign", "(", "const", "struct", "smp", "_", "sc", "*", "sc", ",", "struct", "smp", "_", "signctx", "*", "ctx", ",", "<nl>", "AZ", "(", "off", "&", "7", ")", ";", "/", "*", "Alignment", "*", "/", "<nl>", "assert", "(", "strlen", "(", "id", ")", "<", "sizeof", "ctx", "-", ">", "ss", "-", ">", "ident", ")", ";", "<nl>", "<nl>", "-", "memset", "(", "ctx", ",", "0", ",", "sizeof", "ctx", ")", ";", "<nl>", "+", "memset", "(", "ctx", ",", "0", ",", "sizeof", "*", "ctx", ")", ";", "<nl>", "ctx", "-", ">", "ss", "=", "(", "void", "*", ")", "(", "sc", "-", ">", "base", "+", "off", ")", ";", "<nl>", "ctx", "-", ">", "unique", "=", "sc", "-", ">", "unique", ";", "<nl>", "ctx", "-", ">", "id", "=", "id", ";", "<nl>"], "docstring_tokens": ["Another", "insufficiently", "wide", "memset", "spotted", "by", "LLVM"]}
{"code_tokens": ["DebugStunt", "(", "void", ")", "<nl>", "pipes", "[", "1", "]", "[", "1", "]", "=", "1", ";", "<nl>", "<nl>", "/", "*", "close", "the", "rest", "*", "/", "<nl>", "-", "for", "(", "i", "=", "5", ";", "i", "<", "getdtablesize", "(", ")", ";", "i", "+", "+", ")", "<nl>", "+", "j", "=", "getdtablesize", "(", ")", ";", "<nl>", "+", "for", "(", "i", "=", "5", ";", "i", "<", "j", ";", "i", "+", "+", ")", "<nl>", "(", "void", ")", "close", "(", "i", ")", ";", "<nl>", "<nl>", "pfd", "[", "0", "]", ".", "fd", "=", "pipes", "[", "0", "]", "[", "0", "]", ";", "mmm", "bin", "/", "varnishd", "/", "mgt", "_", "child", ".", "c", "<nl>", "DebugStunt", "(", "void", ")", "<nl>", "pipes", "[", "1", "]", "[", "1", "]", "=", "1", ";", "<nl>", "<nl>", "/", "*", "close", "the", "rest", "*", "/", "<nl>", "-", "for", "(", "i", "=", "5", ";", "i", "<", "getdtablesize", "(", ")", ";", "i", "+", "+", ")", "<nl>", "+", "j", "=", "getdtablesize", "(", ")", ";", "<nl>", "+", "for", "(", "i", "=", "5", ";", "i", "<", "j", ";", "i", "+", "+", ")", "<nl>", "(", "void", ")", "close", "(", "i", ")", ";", "<nl>", "<nl>", "pfd", "[", "0", "]", ".", "fd", "=", "pipes", "[", "0", "]", "[", "0", "]", ";", "<nl>", "start", "_", "child", "(", "struct", "cli", "*", "cli", ")", "<nl>", "unsigned", "u", ";", "<nl>", "char", "*", "p", ";", "<nl>", "struct", "vev", "*", "e", ";", "<nl>", "-", "int", "i", ",", "cp", "[", "2", "]", ";", "<nl>", "+", "int", "i", ",", "j", ",", "cp", "[", "2", "]", ";", "<nl>", "<nl>", "if", "(", "child", "_", "state", "!", "=", "CH", "_", "STOPPED", "&", "&", "child", "_", "state", "!", "=", "CH", "_", "DIED", ")", "<nl>", "return", ";", "<nl>", "start", "_", "child", "(", "struct", "cli", "*", "cli", ")", "<nl>", "/", "*", "Close", "anything", "we", "shouldn", "'", "t", "know", "about", "*", "/", "<nl>", "closelog", "(", ")", ";", "<nl>", "printf", "(", "\"", "Closed", "fds", ":", "\"", ")", ";", "<nl>", "-", "for", "(", "i", "=", "STDERR", "_", "FILENO", "+", "1", ";", "i", "<", "getdtablesize", "(", ")", ";", "i", "+", "+", ")", "{", "<nl>", "+", "j", "=", "getdtablesize", "(", ")", ";", "<nl>", "+", "for", "(", "i", "=", "STDERR", "_", "FILENO", "+", "1", ";", "i", "<", "j", ";", "i", "+", "+", ")", "{", "<nl>", "if", "(", "vbit", "_", "test", "(", "fd", "_", "map", ",", "i", ")", ")", "<nl>", "continue", ";", "<nl>", "if", "(", "close", "(", "i", ")", "=", "=", "0", ")", "<nl>"], "docstring_tokens": ["Factor", "getdtablesize", "out", "of", "close", "loop"]}
{"code_tokens": ["static", "int", "end", "_", "of", "_", "file", "=", "0", ";", "<nl>", "<nl>", "struct", "top", "{", "<nl>", "uint8", "_", "t", "tag", ";", "<nl>", "-", "char", "*", "rec", "_", "data", ";", "<nl>", "+", "const", "char", "*", "rec", "_", "data", ";", "<nl>", "+", "char", "*", "rec", "_", "buf", ";", "<nl>", "int", "clen", ";", "<nl>", "unsigned", "hash", ";", "<nl>", "VRB", "_", "ENTRY", "(", "top", ")", "e", "_", "order", ";", "<nl>", "accumulate", "(", "struct", "VSL", "_", "data", "*", "vsl", ",", "struct", "VSL", "_", "transaction", "*", "const", "pt", "[", "]", ",", "<nl>", "t", ".", "hash", "=", "u", ";", "<nl>", "t", ".", "tag", "=", "tag", ";", "<nl>", "t", ".", "clen", "=", "len", ";", "<nl>", "-", "t", ".", "rec", "_", "data", "=", "(", "char", "*", ")", "VSL", "_", "CDATA", "(", "tr", "-", ">", "c", "-", ">", "rec", ".", "ptr", ")", ";", "<nl>", "+", "t", ".", "rec", "_", "data", "=", "VSL", "_", "CDATA", "(", "tr", "-", ">", "c", "-", ">", "rec", ".", "ptr", ")", ";", "<nl>", "<nl>", "AZ", "(", "pthread", "_", "mutex", "_", "lock", "(", "&", "mtx", ")", ")", ";", "<nl>", "tp", "=", "VRB", "_", "FIND", "(", "t", "_", "key", ",", "&", "h", "_", "key", ",", "&", "t", ")", ";", "<nl>", "accumulate", "(", "struct", "VSL", "_", "data", "*", "vsl", ",", "struct", "VSL", "_", "transaction", "*", "const", "pt", "[", "]", ",", "<nl>", "tp", "-", ">", "count", "=", "1", ".", "0", ";", "<nl>", "tp", "-", ">", "clen", "=", "len", ";", "<nl>", "tp", "-", ">", "tag", "=", "tag", ";", "<nl>", "-", "tp", "-", ">", "rec", "_", "data", "=", "strdup", "(", "t", ".", "rec", "_", "data", ")", ";", "<nl>", "+", "tp", "-", ">", "rec", "_", "buf", "=", "strdup", "(", "t", ".", "rec", "_", "data", ")", ";", "<nl>", "+", "tp", "-", ">", "rec", "_", "data", "=", "tp", "-", ">", "rec", "_", "buf", ";", "<nl>", "AN", "(", "tp", "-", ">", "rec", "_", "data", ")", ";", "<nl>", "VRB", "_", "INSERT", "(", "t", "_", "key", ",", "&", "h", "_", "key", ",", "tp", ")", ";", "<nl>", "VRB", "_", "INSERT", "(", "t", "_", "order", ",", "&", "h", "_", "order", ",", "tp", ")", ";", "<nl>", "update", "(", "int", "p", ")", "<nl>", "if", "(", "tp", "-", ">", "count", "*", "10", "<", "t", "|", "|", "l", ">", "LINES", "*", "10", ")", "{", "<nl>", "VRB", "_", "REMOVE", "(", "t", "_", "key", ",", "&", "h", "_", "key", ",", "tp", ")", ";", "<nl>", "VRB", "_", "REMOVE", "(", "t", "_", "order", ",", "&", "h", "_", "order", ",", "tp", ")", ";", "<nl>", "-", "free", "(", "tp", "-", ">", "rec", "_", "data", ")", ";", "<nl>", "+", "free", "(", "tp", "-", ">", "rec", "_", "buf", ")", ";", "<nl>", "free", "(", "tp", ")", ";", "<nl>", "ntop", "-", "-", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Don", "t", "mix", "const", "and", "non", "const", "pointers", "This", "should", "make", "jenkins", "happy", "again"]}
{"code_tokens": ["CLI", "_", "Init", "(", "void", ")", "<nl>", "vsb", "_", "clear", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "cli", "_", "dispatch", "(", "cli", ",", "CLI", "_", "cmds", ",", "buf", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "i", "=", "cli", "_", "writeres", "(", "heritage", ".", "fds", "[", "1", "]", ",", "cli", ")", ";", "<nl>", "if", "(", "i", ")", "{", "<nl>", "VSL", "(", "SLT", "_", "Error", ",", "0", ",", "\"", "CLI", "write", "failed", "(", "errno", "=", "%", "d", ")", "\"", ",", "errno", ")", ";", "mmm", "bin", "/", "varnishd", "/", "cache", "_", "synthetic", ".", "c", "<nl>", "CLI", "_", "Init", "(", "void", ")", "<nl>", "vsb", "_", "clear", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "cli", "_", "dispatch", "(", "cli", ",", "CLI", "_", "cmds", ",", "buf", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "i", "=", "cli", "_", "writeres", "(", "heritage", ".", "fds", "[", "1", "]", ",", "cli", ")", ";", "<nl>", "if", "(", "i", ")", "{", "<nl>", "VSL", "(", "SLT", "_", "Error", ",", "0", ",", "\"", "CLI", "write", "failed", "(", "errno", "=", "%", "d", ")", "\"", ",", "errno", ")", ";", "<nl>", "SYN", "_", "ErrorPage", "(", "struct", "sess", "*", "sp", ",", "int", "status", ",", "const", "char", "*", "reason", ")", "<nl>", "\"", "<", "/", "body", ">", "\\", "n", "\"", "<nl>", "\"", "<", "/", "html", ">", "\\", "n", "\"", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "vsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "vsb", ")", ")", ";", "<nl>", "w", "-", ">", "acct", ".", "hdrbytes", "=", "WRK", "_", "Write", "(", "w", ",", "vsb", "_", "data", "(", "&", "vsb", ")", ",", "vsb", "_", "len", "(", "&", "vsb", ")", ")", ";", "<nl>", "(", "void", ")", "WRK", "_", "Flush", "(", "w", ")", ";", "<nl>", "vsb", "_", "delete", "(", "&", "vsb", ")", ";", "mmm", "bin", "/", "varnishd", "/", "mgt", "_", "vcc", ".", "c", "<nl>", "CLI", "_", "Init", "(", "void", ")", "<nl>", "vsb", "_", "clear", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "cli", "_", "dispatch", "(", "cli", ",", "CLI", "_", "cmds", ",", "buf", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "i", "=", "cli", "_", "writeres", "(", "heritage", ".", "fds", "[", "1", "]", ",", "cli", ")", ";", "<nl>", "if", "(", "i", ")", "{", "<nl>", "VSL", "(", "SLT", "_", "Error", ",", "0", ",", "\"", "CLI", "write", "failed", "(", "errno", "=", "%", "d", ")", "\"", ",", "errno", ")", ";", "<nl>", "SYN", "_", "ErrorPage", "(", "struct", "sess", "*", "sp", ",", "int", "status", ",", "const", "char", "*", "reason", ")", "<nl>", "\"", "<", "/", "body", ">", "\\", "n", "\"", "<nl>", "\"", "<", "/", "html", ">", "\\", "n", "\"", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "vsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "vsb", ")", ")", ";", "<nl>", "w", "-", ">", "acct", ".", "hdrbytes", "=", "WRK", "_", "Write", "(", "w", ",", "vsb", "_", "data", "(", "&", "vsb", ")", ",", "vsb", "_", "len", "(", "&", "vsb", ")", ")", ";", "<nl>", "(", "void", ")", "WRK", "_", "Flush", "(", "w", ")", ";", "<nl>", "vsb", "_", "delete", "(", "&", "vsb", ")", ";", "<nl>", "mgt", "_", "run", "_", "cc", "(", "const", "char", "*", "source", ",", "struct", "vsb", "*", "sb", ")", "<nl>", "vsb", "_", "new", "(", "&", "cmdsb", ",", "cmdline", ",", "sizeof", "cmdline", ",", "0", ")", ";", "<nl>", "mgt", "_", "make", "_", "cc", "_", "cmd", "(", "&", "cmdsb", ",", "sf", ",", "of", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "cmdsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "cmdsb", ")", ")", ";", "<nl>", "/", "*", "XXX", "check", "vsb", "state", "*", "/", "<nl>", "<nl>", "if", "(", "pipe", "(", "p", ")", "<", "0", ")", "{", "<nl>", "mgt", "_", "vcc", "_", "default", "(", "const", "char", "*", "b", "_", "arg", ",", "const", "char", "*", "f", "_", "arg", ",", "int", "f", "_", "fd", ",", "int", "C", "_", "flag", ")", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "f", "_", "arg", ",", "C", "_", "flag", ",", "f", "_", "fd", ")", ";", "<nl>", "}", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "fprintf", "(", "stderr", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mcf", "_", "config", "_", "inline", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "XXXAN", "(", "sb", ")", ";", "<nl>", "vf", "=", "mgt", "_", "VccCompile", "(", "sb", ",", "av", "[", "3", "]", ",", "NULL", ",", "0", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "cli", "_", "out", "(", "cli", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mcf", "_", "config", "_", "load", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "XXXAN", "(", "sb", ")", ";", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "av", "[", "3", "]", ",", "0", ",", "-", "1", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "cli", "_", "out", "(", "cli", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "mmm", "bin", "/", "varnishd", "/", "cache", "_", "vary", ".", "c", "<nl>", "CLI", "_", "Init", "(", "void", ")", "<nl>", "vsb", "_", "clear", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "cli", "_", "dispatch", "(", "cli", ",", "CLI", "_", "cmds", ",", "buf", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "i", "=", "cli", "_", "writeres", "(", "heritage", ".", "fds", "[", "1", "]", ",", "cli", ")", ";", "<nl>", "if", "(", "i", ")", "{", "<nl>", "VSL", "(", "SLT", "_", "Error", ",", "0", ",", "\"", "CLI", "write", "failed", "(", "errno", "=", "%", "d", ")", "\"", ",", "errno", ")", ";", "<nl>", "SYN", "_", "ErrorPage", "(", "struct", "sess", "*", "sp", ",", "int", "status", ",", "const", "char", "*", "reason", ")", "<nl>", "\"", "<", "/", "body", ">", "\\", "n", "\"", "<nl>", "\"", "<", "/", "html", ">", "\\", "n", "\"", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "vsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "vsb", ")", ")", ";", "<nl>", "w", "-", ">", "acct", ".", "hdrbytes", "=", "WRK", "_", "Write", "(", "w", ",", "vsb", "_", "data", "(", "&", "vsb", ")", ",", "vsb", "_", "len", "(", "&", "vsb", ")", ")", ";", "<nl>", "(", "void", ")", "WRK", "_", "Flush", "(", "w", ")", ";", "<nl>", "vsb", "_", "delete", "(", "&", "vsb", ")", ";", "<nl>", "mgt", "_", "run", "_", "cc", "(", "const", "char", "*", "source", ",", "struct", "vsb", "*", "sb", ")", "<nl>", "vsb", "_", "new", "(", "&", "cmdsb", ",", "cmdline", ",", "sizeof", "cmdline", ",", "0", ")", ";", "<nl>", "mgt", "_", "make", "_", "cc", "_", "cmd", "(", "&", "cmdsb", ",", "sf", ",", "of", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "cmdsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "cmdsb", ")", ")", ";", "<nl>", "/", "*", "XXX", "check", "vsb", "state", "*", "/", "<nl>", "<nl>", "if", "(", "pipe", "(", "p", ")", "<", "0", ")", "{", "<nl>", "mgt", "_", "vcc", "_", "default", "(", "const", "char", "*", "b", "_", "arg", ",", "const", "char", "*", "f", "_", "arg", ",", "int", "f", "_", "fd", ",", "int", "C", "_", "flag", ")", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "f", "_", "arg", ",", "C", "_", "flag", ",", "f", "_", "fd", ")", ";", "<nl>", "}", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "fprintf", "(", "stderr", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mcf", "_", "config", "_", "inline", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "XXXAN", "(", "sb", ")", ";", "<nl>", "vf", "=", "mgt", "_", "VccCompile", "(", "sb", ",", "av", "[", "3", "]", ",", "NULL", ",", "0", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "cli", "_", "out", "(", "cli", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mcf", "_", "config", "_", "load", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "XXXAN", "(", "sb", ")", ";", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "av", "[", "3", "]", ",", "0", ",", "-", "1", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "cli", "_", "out", "(", "cli", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "VRY", "_", "Create", "(", "const", "struct", "sess", "*", "sp", ")", "<nl>", "vsb", "_", "clear", "(", "sbh", ")", ";", "<nl>", "vsb", "_", "printf", "(", "sbh", ",", "\"", "%", "c", "%", ".", "*", "s", ":", "%", "c", "\"", ",", "1", "+", "(", "q", "-", "p", ")", ",", "q", "-", "p", ",", "p", ",", "0", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sbh", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sbh", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Append", "to", "vary", "matching", "string", "*", "/", "<nl>", "vsb", "_", "bcat", "(", "sb", ",", "vsb", "_", "data", "(", "sbh", ")", ",", "vsb", "_", "len", "(", "sbh", ")", ")", ";", "<nl>", "VRY", "_", "Create", "(", "const", "struct", "sess", "*", "sp", ")", "<nl>", "vsb", "_", "printf", "(", "sb", ",", "\"", "%", "c", "\"", ",", "0", ")", ";", "<nl>", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "l", "=", "vsb", "_", "len", "(", "sb", ")", ";", "<nl>", "sp", "-", ">", "obj", "-", ">", "vary", "=", "malloc", "(", "l", ")", ";", "<nl>", "AN", "(", "sp", "-", ">", "obj", "-", ">", "vary", ")", ";", "mmm", "bin", "/", "varnishd", "/", "mgt", "_", "cli", ".", "c", "<nl>", "CLI", "_", "Init", "(", "void", ")", "<nl>", "vsb", "_", "clear", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "cli", "_", "dispatch", "(", "cli", ",", "CLI", "_", "cmds", ",", "buf", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "i", "=", "cli", "_", "writeres", "(", "heritage", ".", "fds", "[", "1", "]", ",", "cli", ")", ";", "<nl>", "if", "(", "i", ")", "{", "<nl>", "VSL", "(", "SLT", "_", "Error", ",", "0", ",", "\"", "CLI", "write", "failed", "(", "errno", "=", "%", "d", ")", "\"", ",", "errno", ")", ";", "<nl>", "SYN", "_", "ErrorPage", "(", "struct", "sess", "*", "sp", ",", "int", "status", ",", "const", "char", "*", "reason", ")", "<nl>", "\"", "<", "/", "body", ">", "\\", "n", "\"", "<nl>", "\"", "<", "/", "html", ">", "\\", "n", "\"", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "vsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "vsb", ")", ")", ";", "<nl>", "w", "-", ">", "acct", ".", "hdrbytes", "=", "WRK", "_", "Write", "(", "w", ",", "vsb", "_", "data", "(", "&", "vsb", ")", ",", "vsb", "_", "len", "(", "&", "vsb", ")", ")", ";", "<nl>", "(", "void", ")", "WRK", "_", "Flush", "(", "w", ")", ";", "<nl>", "vsb", "_", "delete", "(", "&", "vsb", ")", ";", "<nl>", "mgt", "_", "run", "_", "cc", "(", "const", "char", "*", "source", ",", "struct", "vsb", "*", "sb", ")", "<nl>", "vsb", "_", "new", "(", "&", "cmdsb", ",", "cmdline", ",", "sizeof", "cmdline", ",", "0", ")", ";", "<nl>", "mgt", "_", "make", "_", "cc", "_", "cmd", "(", "&", "cmdsb", ",", "sf", ",", "of", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "cmdsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "cmdsb", ")", ")", ";", "<nl>", "/", "*", "XXX", "check", "vsb", "state", "*", "/", "<nl>", "<nl>", "if", "(", "pipe", "(", "p", ")", "<", "0", ")", "{", "<nl>", "mgt", "_", "vcc", "_", "default", "(", "const", "char", "*", "b", "_", "arg", ",", "const", "char", "*", "f", "_", "arg", ",", "int", "f", "_", "fd", ",", "int", "C", "_", "flag", ")", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "f", "_", "arg", ",", "C", "_", "flag", ",", "f", "_", "fd", ")", ";", "<nl>", "}", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "fprintf", "(", "stderr", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mcf", "_", "config", "_", "inline", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "XXXAN", "(", "sb", ")", ";", "<nl>", "vf", "=", "mgt", "_", "VccCompile", "(", "sb", ",", "av", "[", "3", "]", ",", "NULL", ",", "0", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "cli", "_", "out", "(", "cli", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mcf", "_", "config", "_", "load", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "XXXAN", "(", "sb", ")", ";", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "av", "[", "3", "]", ",", "0", ",", "-", "1", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "cli", "_", "out", "(", "cli", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "VRY", "_", "Create", "(", "const", "struct", "sess", "*", "sp", ")", "<nl>", "vsb", "_", "clear", "(", "sbh", ")", ";", "<nl>", "vsb", "_", "printf", "(", "sbh", ",", "\"", "%", "c", "%", ".", "*", "s", ":", "%", "c", "\"", ",", "1", "+", "(", "q", "-", "p", ")", ",", "q", "-", "p", ",", "p", ",", "0", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sbh", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sbh", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Append", "to", "vary", "matching", "string", "*", "/", "<nl>", "vsb", "_", "bcat", "(", "sb", ",", "vsb", "_", "data", "(", "sbh", ")", ",", "vsb", "_", "len", "(", "sbh", ")", ")", ";", "<nl>", "VRY", "_", "Create", "(", "const", "struct", "sess", "*", "sp", ")", "<nl>", "vsb", "_", "printf", "(", "sb", ",", "\"", "%", "c", "\"", ",", "0", ")", ";", "<nl>", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "l", "=", "vsb", "_", "len", "(", "sb", ")", ";", "<nl>", "sp", "-", ">", "obj", "-", ">", "vary", "=", "malloc", "(", "l", ")", ";", "<nl>", "AN", "(", "sp", "-", ">", "obj", "-", ">", "vary", ")", ";", "<nl>", "mcf", "_", "passthru", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "vsb", "_", "putc", "(", "sb", ",", "'", "\\", "n", "'", ")", ";", "<nl>", "xxxassert", "(", "!", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "i", "=", "write", "(", "cli", "_", "o", ",", "vsb", "_", "data", "(", "sb", ")", ",", "vsb", "_", "len", "(", "sb", ")", ")", ";", "<nl>", "xxxassert", "(", "i", "=", "=", "vsb", "_", "len", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mgt", "_", "cli", "_", "callback", "(", "const", "struct", "ev", "*", "e", ",", "int", "what", ")", "<nl>", "vsb", "_", "clear", "(", "cp", "-", ">", "cli", "-", ">", "sb", ")", ";", "<nl>", "cli", "_", "dispatch", "(", "cp", "-", ">", "cli", ",", "cli", "_", "proto", ",", "p", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cp", "-", ">", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cp", "-", ">", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "<nl>", "/", "*", "send", "the", "result", "back", "*", "/", "<nl>", "if", "(", "cli", "_", "writeres", "(", "cp", "-", ">", "fdo", ",", "cp", "-", ">", "cli", ")", ")", "mmm", "bin", "/", "varnishd", "/", "varnishd", ".", "c", "<nl>", "CLI", "_", "Init", "(", "void", ")", "<nl>", "vsb", "_", "clear", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "cli", "_", "dispatch", "(", "cli", ",", "CLI", "_", "cmds", ",", "buf", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "i", "=", "cli", "_", "writeres", "(", "heritage", ".", "fds", "[", "1", "]", ",", "cli", ")", ";", "<nl>", "if", "(", "i", ")", "{", "<nl>", "VSL", "(", "SLT", "_", "Error", ",", "0", ",", "\"", "CLI", "write", "failed", "(", "errno", "=", "%", "d", ")", "\"", ",", "errno", ")", ";", "<nl>", "SYN", "_", "ErrorPage", "(", "struct", "sess", "*", "sp", ",", "int", "status", ",", "const", "char", "*", "reason", ")", "<nl>", "\"", "<", "/", "body", ">", "\\", "n", "\"", "<nl>", "\"", "<", "/", "html", ">", "\\", "n", "\"", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "vsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "vsb", ")", ")", ";", "<nl>", "w", "-", ">", "acct", ".", "hdrbytes", "=", "WRK", "_", "Write", "(", "w", ",", "vsb", "_", "data", "(", "&", "vsb", ")", ",", "vsb", "_", "len", "(", "&", "vsb", ")", ")", ";", "<nl>", "(", "void", ")", "WRK", "_", "Flush", "(", "w", ")", ";", "<nl>", "vsb", "_", "delete", "(", "&", "vsb", ")", ";", "<nl>", "mgt", "_", "run", "_", "cc", "(", "const", "char", "*", "source", ",", "struct", "vsb", "*", "sb", ")", "<nl>", "vsb", "_", "new", "(", "&", "cmdsb", ",", "cmdline", ",", "sizeof", "cmdline", ",", "0", ")", ";", "<nl>", "mgt", "_", "make", "_", "cc", "_", "cmd", "(", "&", "cmdsb", ",", "sf", ",", "of", ")", ";", "<nl>", "vsb", "_", "finish", "(", "&", "cmdsb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "&", "cmdsb", ")", ")", ";", "<nl>", "/", "*", "XXX", "check", "vsb", "state", "*", "/", "<nl>", "<nl>", "if", "(", "pipe", "(", "p", ")", "<", "0", ")", "{", "<nl>", "mgt", "_", "vcc", "_", "default", "(", "const", "char", "*", "b", "_", "arg", ",", "const", "char", "*", "f", "_", "arg", ",", "int", "f", "_", "fd", ",", "int", "C", "_", "flag", ")", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "f", "_", "arg", ",", "C", "_", "flag", ",", "f", "_", "fd", ")", ";", "<nl>", "}", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "fprintf", "(", "stderr", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mcf", "_", "config", "_", "inline", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "XXXAN", "(", "sb", ")", ";", "<nl>", "vf", "=", "mgt", "_", "VccCompile", "(", "sb", ",", "av", "[", "3", "]", ",", "NULL", ",", "0", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "cli", "_", "out", "(", "cli", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mcf", "_", "config", "_", "load", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "XXXAN", "(", "sb", ")", ";", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "av", "[", "3", "]", ",", "0", ",", "-", "1", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "if", "(", "vsb", "_", "len", "(", "sb", ")", ">", "0", ")", "<nl>", "cli", "_", "out", "(", "cli", ",", "\"", "%", "s", "\"", ",", "vsb", "_", "data", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "VRY", "_", "Create", "(", "const", "struct", "sess", "*", "sp", ")", "<nl>", "vsb", "_", "clear", "(", "sbh", ")", ";", "<nl>", "vsb", "_", "printf", "(", "sbh", ",", "\"", "%", "c", "%", ".", "*", "s", ":", "%", "c", "\"", ",", "1", "+", "(", "q", "-", "p", ")", ",", "q", "-", "p", ",", "p", ",", "0", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sbh", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sbh", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Append", "to", "vary", "matching", "string", "*", "/", "<nl>", "vsb", "_", "bcat", "(", "sb", ",", "vsb", "_", "data", "(", "sbh", ")", ",", "vsb", "_", "len", "(", "sbh", ")", ")", ";", "<nl>", "VRY", "_", "Create", "(", "const", "struct", "sess", "*", "sp", ")", "<nl>", "vsb", "_", "printf", "(", "sb", ",", "\"", "%", "c", "\"", ",", "0", ")", ";", "<nl>", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "l", "=", "vsb", "_", "len", "(", "sb", ")", ";", "<nl>", "sp", "-", ">", "obj", "-", ">", "vary", "=", "malloc", "(", "l", ")", ";", "<nl>", "AN", "(", "sp", "-", ">", "obj", "-", ">", "vary", ")", ";", "<nl>", "mcf", "_", "passthru", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "vsb", "_", "putc", "(", "sb", ",", "'", "\\", "n", "'", ")", ";", "<nl>", "xxxassert", "(", "!", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "finish", "(", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "sb", ")", ")", ";", "<nl>", "i", "=", "write", "(", "cli", "_", "o", ",", "vsb", "_", "data", "(", "sb", ")", ",", "vsb", "_", "len", "(", "sb", ")", ")", ";", "<nl>", "xxxassert", "(", "i", "=", "=", "vsb", "_", "len", "(", "sb", ")", ")", ";", "<nl>", "vsb", "_", "delete", "(", "sb", ")", ";", "<nl>", "mgt", "_", "cli", "_", "callback", "(", "const", "struct", "ev", "*", "e", ",", "int", "what", ")", "<nl>", "vsb", "_", "clear", "(", "cp", "-", ">", "cli", "-", ">", "sb", ")", ";", "<nl>", "cli", "_", "dispatch", "(", "cp", "-", ">", "cli", ",", "cli", "_", "proto", ",", "p", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cp", "-", ">", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cp", "-", ">", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "<nl>", "/", "*", "send", "the", "result", "back", "*", "/", "<nl>", "if", "(", "cli", "_", "writeres", "(", "cp", "-", ">", "fdo", ",", "cp", "-", ">", "cli", ")", ")", "<nl>", "cli", "_", "check", "(", "const", "struct", "cli", "*", "cli", ")", "<nl>", "return", ";", "<nl>", "}", "<nl>", "vsb", "_", "finish", "(", "cli", "-", ">", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "fprintf", "(", "stderr", ",", "\"", "Error", ":", "\\", "n", "%", "s", "\\", "n", "\"", ",", "vsb", "_", "data", "(", "cli", "-", ">", "sb", ")", ")", ";", "<nl>", "exit", "(", "2", ")", ";", "<nl>", "}", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "if", "(", "cli", "[", "0", "]", ".", "result", "!", "=", "CLIS", "_", "OK", ")", "{", "<nl>", "fprintf", "(", "stderr", ",", "\"", "Parameter", "errors", ":", "\\", "n", "\"", ")", ";", "<nl>", "vsb", "_", "finish", "(", "cli", "[", "0", "]", ".", "sb", ")", ";", "<nl>", "+", "AZ", "(", "vsb", "_", "overflowed", "(", "cli", "[", "0", "]", ".", "sb", ")", ")", ";", "<nl>", "fprintf", "(", "stderr", ",", "\"", "%", "s", "\\", "n", "\"", ",", "vsb", "_", "data", "(", "cli", "[", "0", "]", ".", "sb", ")", ")", ";", "<nl>", "exit", "(", "1", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Protect", "all", "vsb", "s", "sbufs", "with", "an", "assert", "that", "they", "did", "not", "overflow"]}
{"code_tokens": ["cnt", "_", "fetch", "(", "struct", "sess", "*", "sp", ")", "<nl>", "*", "Space", "for", "producing", "a", "Content", "-", "Length", ":", "header", "including", "padding", "<nl>", "*", "A", "billion", "gigabytes", "is", "enough", "for", "anybody", ".", "<nl>", "*", "/", "<nl>", "-", "l", "+", "=", "strlen", "(", "\"", "Content", "-", "Length", ":", "XxxXxxXxxXxxXxxXxx", "\"", "+", "sizeof", "(", "void", "*", ")", ")", ";", "<nl>", "+", "l", "+", "=", "strlen", "(", "\"", "Content", "-", "Length", ":", "XxxXxxXxxXxxXxxXxx", "\"", ")", "+", "sizeof", "(", "void", "*", ")", ";", "<nl>", "<nl>", "if", "(", "sp", "-", ">", "wrk", "-", ">", "ttl", "<", "sp", "-", ">", "t", "_", "req", "+", "params", "-", ">", "shortlived", "|", "|", "<nl>", "sp", "-", ">", "objcore", "=", "=", "NULL", ")", "<nl>"], "docstring_tokens": ["Ohh", "man", "I", "should", "be", "too", "old", "to", "make", "this", "kind", "of", "mistake"]}
{"code_tokens": ["VCC", "_", "Symbol", "(", "struct", "vcc", "*", "tl", ",", "struct", "symbol", "*", "parent", ",", "<nl>", "assert", "(", "l", ">", "0", ")", ";", "<nl>", "<nl>", "VTAILQ", "_", "FOREACH", "(", "sym", ",", "&", "parent", "-", ">", "children", ",", "list", ")", "{", "<nl>", "-", "if", "(", "sym", "-", ">", "lorev", ">", "vhi", "|", "|", "sym", "-", ">", "hirev", "<", "vlo", ")", "<nl>", "-", "continue", ";", "<nl>", "i", "=", "strncasecmp", "(", "sym", "-", ">", "name", ",", "b", ",", "l", ")", ";", "<nl>", "if", "(", "i", "<", "0", ")", "<nl>", "continue", ";", "<nl>", "VCC", "_", "Symbol", "(", "struct", "vcc", "*", "tl", ",", "struct", "symbol", "*", "parent", ",", "<nl>", "}", "<nl>", "if", "(", "l", ">", "sym", "-", ">", "nlen", ")", "<nl>", "continue", ";", "<nl>", "+", "if", "(", "sym", "-", ">", "lorev", ">", "vhi", "|", "|", "sym", "-", ">", "hirev", "<", "vlo", ")", "<nl>", "+", "continue", ";", "<nl>", "if", "(", "q", "<", "e", ")", "<nl>", "break", ";", "<nl>", "if", "(", "(", "kind", "=", "=", "SYM", "_", "NONE", "&", "&", "kind", "=", "=", "sym", "-", ">", "kind", ")", ")", "<nl>", "static", "void", "<nl>", "vcc", "_", "walksymbols", "(", "struct", "vcc", "*", "tl", ",", "const", "struct", "symbol", "*", "root", ",", "<nl>", "symwalk", "_", "f", "*", "func", ",", "vcc", "_", "kind", "_", "t", "kind", ")", "<nl>", "{", "<nl>", "-", "struct", "symbol", "*", "sym", ";", "<nl>", "+", "struct", "symbol", "*", "sym", ",", "*", "sym2", "=", "NULL", ";", "<nl>", "<nl>", "VTAILQ", "_", "FOREACH", "(", "sym", ",", "&", "root", "-", ">", "children", ",", "list", ")", "{", "<nl>", "+", "if", "(", "sym2", "!", "=", "NULL", ")", "<nl>", "+", "assert", "(", "strcasecmp", "(", "sym", "-", ">", "name", ",", "sym2", "-", ">", "name", ")", ">", "=", "0", ")", ";", "<nl>", "+", "sym2", "=", "sym", ";", "<nl>", "if", "(", "kind", "=", "=", "SYM", "_", "NONE", "|", "|", "kind", "=", "=", "sym", "-", ">", "kind", ")", "<nl>", "func", "(", "tl", ",", "sym", ")", ";", "<nl>", "ERRCHK", "(", "tl", ")", ";", "<nl>"], "docstring_tokens": ["Keep", "the", "symbol", "table", "sorted", "also", "with", "versioned", "symbols"]}
{"code_tokens": ["replay", "_", "thread", "(", "void", "*", "arg", ")", "<nl>", "freez", "(", "df", "_", "c", ")", ";", "<nl>", "bogus", "=", "0", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "/", "*", "leftovers", "*", "/", "<nl>", "+", "freez", "(", "msg", "-", ">", "ptr", ")", ";", "<nl>", "+", "freez", "(", "msg", ")", ";", "<nl>", "+", "freez", "(", "df", "_", "H", ")", ";", "<nl>", "+", "freez", "(", "df", "_", "Host", ")", ";", "<nl>", "+", "freez", "(", "df", "_", "Uq", ")", ";", "<nl>", "+", "freez", "(", "df", "_", "m", ")", ";", "<nl>", "+", "freez", "(", "df", "_", "c", ")", ";", "<nl>", "+", "<nl>", "return", "(", "0", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Free", "leftover", "buffers", "when", "the", "loop", "ends", "Coverity", "CID", "10"]}
{"code_tokens": ["cli", "_", "backend", "_", "set", "_", "health", "(", "struct", "cli", "*", "cli", ",", "const", "char", "*", "const", "*", "av", ",", "void", "*", "priv", ")", "<nl>", "<nl>", "static", "struct", "cli", "_", "proto", "backend", "_", "cmds", "[", "]", "=", "{", "<nl>", "{", "\"", "backend", ".", "list", "\"", ",", "\"", "backend", ".", "list", "\"", ",", "<nl>", "-", "\"", "\\", "tList", "all", "backends", "\\", "n", "\"", ",", "0", ",", "1", ",", "\"", "d", "\"", ",", "cli", "_", "backend", "_", "list", "}", ",", "<nl>", "+", "\"", "\\", "tList", "all", "backends", "\\", "n", "\"", ",", "0", ",", "1", ",", "\"", "\"", ",", "cli", "_", "backend", "_", "list", "}", ",", "<nl>", "{", "\"", "backend", ".", "set", "_", "health", "\"", ",", "\"", "backend", ".", "set", "_", "health", "matcher", "state", "\"", ",", "<nl>", "-", "\"", "\\", "tShow", "a", "backend", "\\", "n", "\"", ",", "2", ",", "2", ",", "\"", "d", "\"", ",", "cli", "_", "backend", "_", "set", "_", "health", "}", ",", "<nl>", "+", "\"", "\\", "tShow", "a", "backend", "\\", "n", "\"", ",", "2", ",", "2", ",", "\"", "\"", ",", "cli", "_", "backend", "_", "set", "_", "health", "}", ",", "<nl>", "{", "NULL", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["These", "are", "not", "debug", "commands"]}
{"code_tokens": ["mgt", "_", "CallCc", "(", "const", "char", "*", "source", ",", "struct", "vsb", "*", "sb", ")", "<nl>", "vsb", "_", "printf", "(", "sb", ",", "<nl>", "\"", "Cannot", "open", "temporary", "source", "file", "\\", "\"", "%", "s", "\\", "\"", ":", "%", "s", "\\", "n", "\"", ",", "<nl>", "sf", ",", "strerror", "(", "errno", ")", ")", ";", "<nl>", "-", "free", "(", "sf", ")", ";", "<nl>", "return", "(", "NULL", ")", ";", "<nl>", "}", "<nl>", "fs", "=", "fdopen", "(", "sfd", ",", "\"", "r", "+", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Dont", "free", "3", "stack", "variables"]}
{"code_tokens": ["trimline", "(", "const", "char", "*", "str", ",", "const", "char", "*", "end", ")", "<nl>", "/", "*", "nothing", "*", "/", ";", "<nl>", "<nl>", "/", "*", "trim", "trailing", "space", "*", "/", "<nl>", "-", "while", "(", "str", "[", "len", "-", "1", "]", "=", "=", "'", "'", ")", "<nl>", "+", "while", "(", "len", "&", "&", "str", "[", "len", "-", "1", "]", "=", "=", "'", "'", ")", "<nl>", "-", "-", "len", ";", "<nl>", "<nl>", "/", "*", "copy", "and", "return", "*", "/", "<nl>"], "docstring_tokens": ["Don", "t", "allow", "len", "to", "go", "negative", "if", "the", "header", "is", "empty"]}
{"code_tokens": ["main", "(", "int", "argc", ",", "char", "*", "const", "*", "argv", ")", "<nl>", "if", "(", "b", "_", "arg", "!", "=", "NULL", "&", "&", "f", "_", "arg", "!", "=", "NULL", ")", "{", "<nl>", "fprintf", "(", "stderr", ",", "\"", "Only", "one", "of", "-", "b", "or", "-", "f", "can", "be", "specified", "\\", "n", "\"", ")", ";", "<nl>", "usage", "(", ")", ";", "<nl>", "-", "}", "else", "if", "(", "S", "_", "arg", "=", "=", "NULL", "&", "&", "T", "_", "arg", "=", "=", "NULL", ")", "{", "<nl>", "+", "}", "<nl>", "+", "if", "(", "S", "_", "arg", "=", "=", "NULL", "&", "&", "T", "_", "arg", "=", "=", "NULL", "&", "&", "d", "_", "flag", "=", "=", "0", "&", "&", "b", "_", "arg", "=", "=", "NULL", "&", "&", "<nl>", "+", "f", "_", "arg", "=", "=", "NULL", ")", "{", "<nl>", "fprintf", "(", "stderr", ",", "<nl>", "\"", "At", "least", "one", "of", "-", "d", ",", "-", "b", ",", "-", "f", ",", "-", "S", "or", "-", "T", "must", "be", "specified", "\\", "n", "\"", ")", ";", "<nl>", "usage", "(", ")", ";", "<nl>"], "docstring_tokens": ["Ok", "make", "code", "and", "error", "message", "somewhat", "consistent"]}
{"code_tokens": ["vcl", "_", "call", "_", "method", "(", "struct", "worker", "*", "wrk", ",", "struct", "req", "*", "req", ",", "struct", "busyobj", "*", "bo", ",", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "bo", ",", "BUSYOBJ", "_", "MAGIC", ")", ";", "<nl>", "vsl", "=", "bo", "-", ">", "vsl", ";", "<nl>", "}", "<nl>", "+", "if", "(", "method", "=", "=", "VCL", "_", "MET", "_", "BACKEND", "_", "FETCH", "|", "|", "<nl>", "+", "method", "=", "=", "VCL", "_", "MET", "_", "PASS", "|", "|", "<nl>", "+", "method", "=", "=", "VCL", "_", "MET", "_", "MISS", "|", "|", "<nl>", "+", "method", "=", "=", "VCL", "_", "MET", "_", "PIPE", "|", "|", "<nl>", "+", "method", "=", "=", "VCL", "_", "MET", "_", "BACKEND", "_", "RESPONSE", ")", "{", "<nl>", "+", "/", "*", "XXX", ":", "temporary", "workaround", "*", "/", "<nl>", "+", "AN", "(", "req", ")", ";", "<nl>", "+", "bo", "=", "req", "-", ">", "busyobj", ";", "<nl>", "+", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "bo", ",", "BUSYOBJ", "_", "MAGIC", ")", ";", "<nl>", "+", "}", "<nl>", "aws", "=", "WS", "_", "Snapshot", "(", "wrk", "-", ">", "aws", ")", ";", "<nl>", "wrk", "-", ">", "handling", "=", "0", ";", "<nl>", "wrk", "-", ">", "cur", "_", "method", "=", "method", ";", "<nl>", "VSLb", "(", "vsl", ",", "SLT", "_", "VCL", "_", "call", ",", "\"", "%", "s", "\"", ",", "VCL", "_", "Method", "_", "Name", "(", "method", ")", ")", ";", "<nl>", "-", "(", "void", ")", "func", "(", "wrk", ",", "req", ",", "NULL", ",", "ws", ")", ";", "<nl>", "+", "(", "void", ")", "func", "(", "wrk", ",", "req", ",", "bo", ",", "ws", ")", ";", "<nl>", "VSLb", "(", "vsl", ",", "SLT", "_", "VCL", "_", "return", ",", "\"", "%", "s", "\"", ",", "VCL", "_", "Return", "_", "Name", "(", "wrk", "-", ">", "handling", ")", ")", ";", "<nl>", "wrk", "-", ">", "cur", "_", "method", "=", "0", ";", "<nl>", "WS", "_", "Reset", "(", "wrk", "-", ">", "aws", ",", "aws", ")", ";", "<nl>"], "docstring_tokens": ["Add", "a", "band", "aid", "for", "now", "and", "pass", "the", "bo", "with", "the", "req", "where", "bereq", "beresp"]}
{"code_tokens": ["SES", "_", "RefSrcAddr", "(", "struct", "sess", "*", "sp", ")", "<nl>", "c3", "=", "c", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "-", "TAILQ", "_", "REMOVE", "(", "ch", ",", "c2", ",", "list", ")", ";", "<nl>", "-", "free", "(", "c2", ")", ";", "<nl>", "+", "TAILQ", "_", "REMOVE", "(", "ch", ",", "c", ",", "list", ")", ";", "<nl>", "+", "free", "(", "c", ")", ";", "<nl>", "VSL", "_", "stats", "-", ">", "n", "_", "srcaddr", "-", "-", ";", "<nl>", "}", "<nl>", "if", "(", "c3", "=", "=", "NULL", ")", "{", "<nl>"], "docstring_tokens": ["Delete", "the", "right", "list", "item"]}
{"code_tokens": ["HttpdAnalyze", "(", "struct", "sess", "*", "sp", ")", "<nl>", "<nl>", "sp", "-", ">", "handling", "=", "HND", "_", "Unclass", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "sp", "-", ">", "http", ",", "0", ",", "sizeof", "sp", "-", ">", "http", ")", ";", "<nl>", "+", "<nl>", "/", "*", "First", ",", "isolate", "and", "possibly", "identify", "request", "type", "*", "/", "<nl>", "sp", "-", ">", "http", ".", "req", "=", "sp", "-", ">", "rcv", ";", "<nl>", "for", "(", "p", "=", "sp", "-", ">", "rcv", ";", "isalpha", "(", "*", "p", ")", ";", "p", "+", "+", ")", "<nl>", "HttpdAnalyze", "(", "struct", "sess", "*", "sp", ")", "<nl>", "if", "(", "*", "p", "=", "=", "'", "\\", "r", "'", ")", "<nl>", "p", "+", "+", ";", "<nl>", "<nl>", "-", "memset", "(", "&", "sp", "-", ">", "http", ",", "0", ",", "sizeof", "sp", "-", ">", "http", ")", ";", "<nl>", "-", "<nl>", "for", "(", ";", "p", "<", "sp", "-", ">", "rcv", "+", "sp", "-", ">", "rcv", "_", "len", ";", "p", "=", "r", ")", "{", "<nl>", "q", "=", "strchr", "(", "p", ",", "'", "\\", "n", "'", ")", ";", "<nl>", "r", "=", "q", "+", "1", ";", "<nl>"], "docstring_tokens": ["Move", "memset", "further", "up"]}
{"code_tokens": ["CNT", "_", "AcctLogCharge", "(", "struct", "dstat", "*", "ds", ",", "struct", "req", "*", "req", ")", "<nl>", "<nl>", "a", "=", "&", "req", "-", ">", "acct", ";", "<nl>", "<nl>", "-", "if", "(", "!", "(", "req", "-", ">", "res", "_", "mode", "&", "RES", "_", "PIPE", ")", ")", "{", "<nl>", "+", "if", "(", "req", "-", ">", "vsl", "-", ">", "wid", "&", "&", "!", "(", "req", "-", ">", "res", "_", "mode", "&", "RES", "_", "PIPE", ")", ")", "{", "<nl>", "VSLb", "(", "req", "-", ">", "vsl", ",", "SLT", "_", "ReqAcct", ",", "\"", "%", "ju", "%", "ju", "%", "ju", "%", "ju", "%", "ju", "%", "ju", "\"", ",", "<nl>", "(", "uintmax", "_", "t", ")", "a", "-", ">", "req", "_", "hdrbytes", ",", "<nl>", "(", "uintmax", "_", "t", ")", "a", "-", ">", "req", "_", "bodybytes", ",", "<nl>"], "docstring_tokens": ["Don", "t", "log", "SLT_ReqAcct", "when", "we", "don", "t", "have", "assigned", "a", "VXID", "yet"]}
{"code_tokens": ["main", "(", "int", "argc", ",", "char", "*", "const", "*", "argv", ")", "<nl>", "assert", "(", "VTIM", "_", "parse", "(", "\"", "Sunday", ",", "06", "-", "Nov", "-", "94", "08", ":", "49", ":", "37", "GMT", "\"", ")", "=", "=", "784111777", ")", ";", "<nl>", "assert", "(", "VTIM", "_", "parse", "(", "\"", "Sun", "Nov", "6", "08", ":", "49", ":", "37", "1994", "\"", ")", "=", "=", "784111777", ")", ";", "<nl>", "<nl>", "-", "/", "*", "<nl>", "-", "*", "Check", "that", "our", "SHA256", "works", "<nl>", "-", "*", "/", "<nl>", "+", "/", "*", "Check", "that", "our", "SHA256", "works", "*", "/", "<nl>", "SHA256", "_", "Test", "(", ")", ";", "<nl>", "<nl>", "-", "/", "*", "<nl>", "-", "*", "Create", "a", "cli", "for", "convenience", "in", "otherwise", "CLI", "functions", "<nl>", "-", "*", "/", "<nl>", "-", "<nl>", "+", "/", "*", "Create", "a", "cli", "for", "convenience", "in", "otherwise", "CLI", "functions", "*", "/", "<nl>", "INIT", "_", "OBJ", "(", "cli", ",", "CLI", "_", "MAGIC", ")", ";", "<nl>", "cli", "[", "0", "]", ".", "sb", "=", "VSB", "_", "new", "_", "auto", "(", ")", ";", "<nl>", "XXXAN", "(", "cli", "[", "0", "]", ".", "sb", ")", ";", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "const", "*", "argv", ")", "<nl>", "clilim", "=", "32768", ";", "<nl>", "cli", "[", "0", "]", ".", "limit", "=", "&", "clilim", ";", "<nl>", "<nl>", "+", "/", "*", "Various", "initializations", "*", "/", "<nl>", "VTAILQ", "_", "INIT", "(", "&", "heritage", ".", "socks", ")", ";", "<nl>", "+", "mgt", "_", "evb", "=", "vev", "_", "new", "_", "base", "(", ")", ";", "<nl>", "+", "AN", "(", "mgt", "_", "evb", ")", ";", "<nl>", "<nl>", "init", "_", "params", "(", "cli", ")", ";", "<nl>", "cli", "_", "check", "(", "cli", ")", ";", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "const", "*", "argv", ")", "<nl>", "<nl>", "mgt", "_", "pid", "=", "getpid", "(", ")", ";", "/", "*", "daemon", "(", ")", "changed", "this", "*", "/", "<nl>", "<nl>", "-", "mgt", "_", "evb", "=", "vev", "_", "new", "_", "base", "(", ")", ";", "<nl>", "-", "XXXAN", "(", "mgt", "_", "evb", ")", ";", "<nl>", "-", "<nl>", "if", "(", "d", "_", "flag", ")", "<nl>", "mgt", "_", "cli", "_", "setup", "(", "0", ",", "1", ",", "1", ",", "\"", "debug", "\"", ",", "cli", "_", "stdin", "_", "close", ",", "NULL", ")", ";", "<nl>"], "docstring_tokens": ["Create", "the", "event", "base", "early", "enough", "that", "VCL", "stuff", "can", "use", "it"]}
{"code_tokens": ["WRK", "_", "QueueSession", "(", "struct", "sess", "*", "sp", ")", "<nl>", "unsigned", "onq", ";", "<nl>", "<nl>", "onq", "=", "nq", "+", "1", ";", "<nl>", "-", "if", "(", "onq", ">", "nwq", ")", "<nl>", "+", "if", "(", "onq", ">", "=", "nwq", ")", "<nl>", "onq", "=", "0", ";", "<nl>", "sp", "-", ">", "workreq", ".", "sess", "=", "sp", ";", "<nl>", "qp", "=", "wq", "[", "onq", "]", ";", "<nl>"], "docstring_tokens": ["Oops", "off", "by", "one"]}
{"code_tokens": ["mgt", "_", "sigchld", "(", "struct", "ev", "*", "e", ",", "int", "what", ")", "<nl>", "ev", "_", "poker", "=", "NULL", ";", "<nl>", "<nl>", "r", "=", "wait4", "(", "-", "1", ",", "&", "status", ",", "WNOHANG", ",", "NULL", ")", ";", "<nl>", "-", "if", "(", "r", "!", "=", "child", "_", "pid", ")", "{", "<nl>", "+", "if", "(", "r", "!", "=", "child", "_", "pid", "|", "|", "r", "=", "=", "-", "1", ")", "{", "<nl>", "fprintf", "(", "stderr", ",", "\"", "Unknown", "child", "died", "pid", "=", "%", "d", "status", "=", "0x", "%", "x", "\\", "n", "\"", ",", "<nl>", "r", ",", "status", ")", ";", "<nl>", "return", "(", "0", ")", ";", "<nl>"], "docstring_tokens": ["pid", "1", "is", "not", "our", "child"]}
{"code_tokens": ["HSH", "_", "Deref", "(", "struct", "object", "*", "o", ")", "<nl>", "}", "<nl>", "assert", "(", "o", "-", ">", "refcnt", ">", "0", ")", ";", "<nl>", "r", "=", "-", "-", "o", "-", ">", "refcnt", ";", "<nl>", "-", "hsh", "_", "rush", "(", "oh", ")", ";", "<nl>", "+", "if", "(", "oh", "!", "=", "NULL", ")", "<nl>", "+", "hsh", "_", "rush", "(", "oh", ")", ";", "<nl>", "if", "(", "oh", "!", "=", "NULL", ")", "{", "<nl>", "if", "(", "!", "r", ")", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "oh", "-", ">", "objects", ",", "o", ",", "list", ")", ";", "<nl>"], "docstring_tokens": ["Close", "another", "possible", "NULL", "dereference"]}
{"code_tokens": ["shardcfg", "_", "backend", "_", "cmp", "(", "const", "struct", "shard", "_", "backend", "*", "a", ",", "<nl>", "ai", "=", "a", "-", ">", "ident", ";", "<nl>", "bi", "=", "b", "-", ">", "ident", ";", "<nl>", "<nl>", "+", "assert", "(", "ai", "|", "|", "a", "-", ">", "backend", ")", ";", "<nl>", "+", "assert", "(", "bi", "|", "|", "b", "-", ">", "backend", ")", ";", "<nl>", "+", "<nl>", "/", "*", "vcl", "_", "names", "are", "unique", ",", "so", "we", "can", "compare", "the", "backend", "pointers", "*", "/", "<nl>", "if", "(", "ai", "=", "=", "NULL", "&", "&", "bi", "=", "=", "NULL", ")", "<nl>", "return", "a", "-", ">", "backend", "!", "=", "b", "-", ">", "backend", ";", "<nl>", "static", "int", "<nl>", "shardcfg", "_", "backend", "_", "del", "_", "cmp", "(", "const", "struct", "shard", "_", "backend", "*", "task", ",", "<nl>", "const", "struct", "shard", "_", "backend", "*", "b", ")", "<nl>", "{", "<nl>", "-", "if", "(", "task", "-", ">", "backend", "&", "&", "task", "-", ">", "ident", "=", "=", "NULL", ")", "<nl>", "+", "assert", "(", "task", "-", ">", "backend", "|", "|", "task", "-", ">", "ident", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "task", "-", ">", "ident", "=", "=", "NULL", ")", "<nl>", "return", "task", "-", ">", "backend", "!", "=", "b", "-", ">", "backend", ";", "<nl>", "<nl>", "return", "shardcfg", "_", "backend", "_", "cmp", "(", "task", ",", "b", ")", ";", "<nl>"], "docstring_tokens": ["try", "to", "make", "coverty", "happy"]}
{"code_tokens": ["ev", "_", "compact", "_", "pfd", "(", "struct", "evbase", "*", "evb", ")", "<nl>", "DBG", "(", "evb", ",", "\"", ".", ".", ".", "[", "%", "d", "]", "fd", "=", "%", "d", "\\", "n", "\"", ",", "u", ",", "p", "-", ">", "fd", ")", ";", "<nl>", "if", "(", "p", "-", ">", "fd", ">", "=", "0", ")", "<nl>", "continue", ";", "<nl>", "+", "if", "(", "u", "=", "=", "evb", "-", ">", "lpfd", "-", "1", ")", "<nl>", "+", "break", ";", "<nl>", "lfd", "=", "evb", "-", ">", "pfd", "[", "evb", "-", ">", "lpfd", "-", "1", "]", ".", "fd", ";", "<nl>", "VTAILQ", "_", "FOREACH", "(", "ep", ",", "&", "evb", "-", ">", "events", ",", "_", "_", "list", ")", "<nl>", "if", "(", "ep", "-", ">", "fd", "=", "=", "lfd", ")", "<nl>"], "docstring_tokens": ["Fix", "another", "corner", "case", "in", "teardown", "of", "the", "event", "manager"]}
{"code_tokens": ["VRT", "_", "acl", "_", "log", "(", "VRT", "_", "CTX", ",", "const", "char", "*", "msg", ")", "<nl>", "{", "<nl>", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "ctx", ",", "VRT", "_", "CTX", "_", "MAGIC", ")", ";", "<nl>", "-", "VSLb", "(", "ctx", "-", ">", "vsl", ",", "SLT", "_", "VCL", "_", "acl", ",", "\"", "%", "s", "\"", ",", "msg", ")", ";", "<nl>", "+", "AN", "(", "msg", ")", ";", "<nl>", "+", "if", "(", "ctx", "-", ">", "vsl", "!", "=", "NULL", ")", "<nl>", "+", "VSLb", "(", "ctx", "-", ">", "vsl", ",", "SLT", "_", "VCL", "_", "acl", ",", "\"", "%", "s", "\"", ",", "msg", ")", ";", "<nl>", "+", "else", "<nl>", "+", "VSL", "(", "SLT", "_", "VCL", "_", "acl", ",", "0", ",", "\"", "%", "s", "\"", ",", "msg", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "*", "/", "<nl>"], "docstring_tokens": ["Allow", "ACLs", "to", "be", "used", "outside", "of", "transactions"]}
{"code_tokens": ["FetchBody", "(", "struct", "sess", "*", "sp", ")", "<nl>", "}", "else", "<nl>", "cls", "=", "0", ";", "<nl>", "<nl>", "+", "{", "<nl>", "+", "/", "*", "Sanity", "check", "fetch", "methods", "accounting", "*", "/", "<nl>", "+", "struct", "storage", "*", "st", ";", "<nl>", "+", "unsigned", "uu", ";", "<nl>", "+", "<nl>", "+", "uu", "=", "0", ";", "<nl>", "+", "TAILQ", "_", "FOREACH", "(", "st", ",", "&", "sp", "-", ">", "obj", "-", ">", "store", ",", "list", ")", "<nl>", "+", "uu", "+", "=", "st", "-", ">", "len", ";", "<nl>", "+", "assert", "(", "uu", "=", "=", "sp", "-", ">", "obj", "-", ">", "len", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "http", "_", "CopyHttp", "(", "&", "sp", "-", ">", "obj", "-", ">", "http", ",", "hp", ")", ";", "<nl>", "<nl>", "if", "(", "http", "_", "GetHdr", "(", "vc", "-", ">", "http", ",", "H", "_", "Connection", ",", "&", "b", ")", "&", "&", "!", "strcasecmp", "(", "b", ",", "\"", "close", "\"", ")", ")", "<nl>"], "docstring_tokens": ["Sanitycheck", "that", "the", "length", "of", "an", "object", "adds", "up", "right", "when", "we"]}
{"code_tokens": ["r", "_", "hist", "(", "void", ")", "<nl>", "r", "=", "y", "*", "m", ";", "<nl>", "for", "(", "x", "=", "0", ";", "x", "<", "HIST", "_", "W", ";", "x", "+", "+", ")", "{", "<nl>", "if", "(", "bucket", "_", "miss", "[", "x", "]", ">", "r", ")", "<nl>", "-", "addch", "(", "'", "|", "'", ")", ";", "<nl>", "-", "else", "if", "(", "bucket", "_", "hit", "[", "x", "]", "+", "bucket", "_", "miss", "[", "x", "]", ">", "r", ")", "<nl>", "addch", "(", "'", "#", "'", ")", ";", "<nl>", "+", "else", "if", "(", "bucket", "_", "hit", "[", "x", "]", "+", "bucket", "_", "miss", "[", "x", "]", ">", "r", ")", "<nl>", "+", "addch", "(", "'", "|", "'", ")", ";", "<nl>", "else", "<nl>", "addch", "(", "'", "'", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Swap", "the", "and", "symbols", "so", "means", "miss", "that", "s", "much", "more"]}
{"code_tokens": ["vwk", "_", "fini", "(", "struct", "waiter", "*", "w", ")", "<nl>", "vwk", "-", ">", "kq", "=", "-", "1", ";", "<nl>", "Lck", "_", "Unlock", "(", "&", "vwk", "-", ">", "mtx", ")", ";", "<nl>", "AZ", "(", "pthread", "_", "join", "(", "vwk", "-", ">", "thread", ",", "&", "vp", ")", ")", ";", "<nl>", "+", "Lck", "_", "Delete", "(", "&", "vwk", "-", ">", "mtx", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "*", "/", "<nl>"], "docstring_tokens": ["Also", "delete", "the", "mutex"]}
{"code_tokens": ["DebugStunt", "(", "void", ")", "<nl>", "d", "_", "child", "=", "strtoul", "(", "buf", ",", "&", "p", ",", "0", ")", ";", "<nl>", "assert", "(", "p", "!", "=", "NULL", ")", ";", "<nl>", "printf", "(", "\"", "New", "Pid", "%", "d", "\\", "n", "\"", ",", "d", "_", "child", ")", ";", "<nl>", "+", "assert", "(", "d", "_", "child", "!", "=", "0", ")", ";", "<nl>", "i", "=", "strlen", "(", "p", ")", ";", "<nl>", "j", "=", "write", "(", "pipes", "[", "1", "]", "[", "1", "]", ",", "p", ",", "i", ")", ";", "<nl>", "assert", "(", "j", "=", "=", "i", ")", ";", "<nl>"], "docstring_tokens": ["An", "assert", "to", "catch", "silly", "errors"]}
{"code_tokens": ["mgt", "_", "vcc", "_", "default", "(", "const", "char", "*", "b", "_", "arg", ",", "const", "char", "*", "f", "_", "arg", ",", "int", "C", "_", "flag", ")", "<nl>", "if", "(", "C", "_", "flag", ")", "{", "<nl>", "csrc", "=", "VCC", "_", "Compile", "(", "sb", ",", "buf", ",", "NULL", ")", ";", "<nl>", "fputs", "(", "csrc", ",", "stdout", ")", ";", "<nl>", "-", "exit", "(", "0", ")", ";", "<nl>", "+", "return", "(", "0", ")", ";", "<nl>", "}", "<nl>", "vf", "=", "mgt", "_", "VccCompile", "(", "sb", ",", "buf", ",", "NULL", ")", ";", "<nl>", "free", "(", "buf", ")", ";", "<nl>", "}", "else", "if", "(", "C", "_", "flag", ")", "{", "<nl>", "csrc", "=", "VCC", "_", "CompileFile", "(", "sb", ",", "f", "_", "arg", ")", ";", "<nl>", "fputs", "(", "csrc", ",", "stdout", ")", ";", "<nl>", "-", "exit", "(", "0", ")", ";", "<nl>", "+", "return", "(", "0", ")", ";", "<nl>", "}", "else", "{", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "f", "_", "arg", ")", ";", "<nl>", "}", "mmm", "bin", "/", "varnishd", "/", "varnishd", ".", "c", "<nl>", "mgt", "_", "vcc", "_", "default", "(", "const", "char", "*", "b", "_", "arg", ",", "const", "char", "*", "f", "_", "arg", ",", "int", "C", "_", "flag", ")", "<nl>", "if", "(", "C", "_", "flag", ")", "{", "<nl>", "csrc", "=", "VCC", "_", "Compile", "(", "sb", ",", "buf", ",", "NULL", ")", ";", "<nl>", "fputs", "(", "csrc", ",", "stdout", ")", ";", "<nl>", "-", "exit", "(", "0", ")", ";", "<nl>", "+", "return", "(", "0", ")", ";", "<nl>", "}", "<nl>", "vf", "=", "mgt", "_", "VccCompile", "(", "sb", ",", "buf", ",", "NULL", ")", ";", "<nl>", "free", "(", "buf", ")", ";", "<nl>", "}", "else", "if", "(", "C", "_", "flag", ")", "{", "<nl>", "csrc", "=", "VCC", "_", "CompileFile", "(", "sb", ",", "f", "_", "arg", ")", ";", "<nl>", "fputs", "(", "csrc", ",", "stdout", ")", ";", "<nl>", "-", "exit", "(", "0", ")", ";", "<nl>", "+", "return", "(", "0", ")", ";", "<nl>", "}", "else", "{", "<nl>", "vf", "=", "mgt", "_", "VccCompileFile", "(", "sb", ",", "f", "_", "arg", ")", ";", "<nl>", "}", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "const", "char", "*", "h", "_", "flag", "=", "\"", "classic", "\"", ";", "<nl>", "const", "char", "*", "s", "_", "arg", "=", "\"", "file", "\"", ";", "<nl>", "const", "char", "*", "T", "_", "arg", "=", "NULL", ";", "<nl>", "-", "unsigned", "C", "_", "flag", ";", "<nl>", "+", "unsigned", "C", "_", "flag", "=", "0", ";", "<nl>", "char", "*", "p", ";", "<nl>", "struct", "params", "param", ";", "<nl>", "struct", "cli", "cli", "[", "1", "]", ";", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "<nl>", "if", "(", "mgt", "_", "vcc", "_", "default", "(", "b", "_", "arg", ",", "f", "_", "arg", ",", "C", "_", "flag", ")", ")", "<nl>", "exit", "(", "2", ")", ";", "<nl>", "+", "if", "(", "C", "_", "flag", ")", "<nl>", "+", "exit", "(", "0", ")", ";", "<nl>", "<nl>", "setup", "_", "storage", "(", "s", "_", "arg", ")", ";", "<nl>", "setup", "_", "hash", "(", "h", "_", "flag", ")", ";", "<nl>"], "docstring_tokens": ["Remember", "to", "initialize", "C_flag", "and", "don", "t", "exit", "in", "far", "away", "code"]}
{"code_tokens": ["CNT", "_", "Request", "(", "struct", "worker", "*", "wrk", ",", "struct", "req", "*", "req", ")", "<nl>", "CHECK", "_", "OBJ", "_", "ORNULL", "(", "wrk", "-", ">", "nobjhead", ",", "OBJHEAD", "_", "MAGIC", ")", ";", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "req", ",", "REQ", "_", "MAGIC", ")", ";", "<nl>", "<nl>", "-", "/", "*", "<nl>", "-", "*", "We", "don", "'", "t", "want", "the", "thread", "workspace", "to", "be", "used", "for", "<nl>", "-", "*", "anything", "of", "long", "duration", ",", "so", "mandate", "that", "it", "be", "<nl>", "-", "*", "empty", "on", "state", "-", "transitions", ".", "<nl>", "-", "*", "/", "<nl>", "-", "WS", "_", "Assert", "(", "wrk", "-", ">", "aws", ")", ";", "<nl>", "-", "AZ", "(", "WS", "_", "Snapshot", "(", "wrk", "-", ">", "aws", ")", ")", ";", "<nl>", "-", "<nl>", "switch", "(", "req", "-", ">", "req", "_", "step", ")", "{", "<nl>", "#", "define", "REQ", "_", "STEP", "(", "l", ",", "u", ",", "arg", ")", "\\", "<nl>", "case", "R", "_", "STP", "_", "#", "#", "u", ":", "\\", "<nl>", "CNT", "_", "Request", "(", "struct", "worker", "*", "wrk", ",", "struct", "req", "*", "req", ")", "<nl>", "default", ":", "<nl>", "WRONG", "(", "\"", "State", "engine", "misfire", "\"", ")", ";", "<nl>", "}", "<nl>", "-", "WS", "_", "Assert", "(", "wrk", "-", ">", "aws", ")", ";", "<nl>", "CHECK", "_", "OBJ", "_", "ORNULL", "(", "wrk", "-", ">", "nobjhead", ",", "OBJHEAD", "_", "MAGIC", ")", ";", "<nl>", "}", "<nl>", "wrk", "-", ">", "vsl", "=", "NULL", ";", "mmm", "bin", "/", "varnishd", "/", "cache", "/", "cache", "_", "req", ".", "c", "<nl>", "CNT", "_", "Request", "(", "struct", "worker", "*", "wrk", ",", "struct", "req", "*", "req", ")", "<nl>", "CHECK", "_", "OBJ", "_", "ORNULL", "(", "wrk", "-", ">", "nobjhead", ",", "OBJHEAD", "_", "MAGIC", ")", ";", "<nl>", "CHECK", "_", "OBJ", "_", "NOTNULL", "(", "req", ",", "REQ", "_", "MAGIC", ")", ";", "<nl>", "<nl>", "-", "/", "*", "<nl>", "-", "*", "We", "don", "'", "t", "want", "the", "thread", "workspace", "to", "be", "used", "for", "<nl>", "-", "*", "anything", "of", "long", "duration", ",", "so", "mandate", "that", "it", "be", "<nl>", "-", "*", "empty", "on", "state", "-", "transitions", ".", "<nl>", "-", "*", "/", "<nl>", "-", "WS", "_", "Assert", "(", "wrk", "-", ">", "aws", ")", ";", "<nl>", "-", "AZ", "(", "WS", "_", "Snapshot", "(", "wrk", "-", ">", "aws", ")", ")", ";", "<nl>", "-", "<nl>", "switch", "(", "req", "-", ">", "req", "_", "step", ")", "{", "<nl>", "#", "define", "REQ", "_", "STEP", "(", "l", ",", "u", ",", "arg", ")", "\\", "<nl>", "case", "R", "_", "STP", "_", "#", "#", "u", ":", "\\", "<nl>", "CNT", "_", "Request", "(", "struct", "worker", "*", "wrk", ",", "struct", "req", "*", "req", ")", "<nl>", "default", ":", "<nl>", "WRONG", "(", "\"", "State", "engine", "misfire", "\"", ")", ";", "<nl>", "}", "<nl>", "-", "WS", "_", "Assert", "(", "wrk", "-", ">", "aws", ")", ";", "<nl>", "CHECK", "_", "OBJ", "_", "ORNULL", "(", "wrk", "-", ">", "nobjhead", ",", "OBJHEAD", "_", "MAGIC", ")", ";", "<nl>", "}", "<nl>", "wrk", "-", ">", "vsl", "=", "NULL", ";", "<nl>", "Req", "_", "Cleanup", "(", "struct", "sess", "*", "sp", ",", "struct", "worker", "*", "wrk", ",", "struct", "req", "*", "req", ")", "<nl>", "req", "-", ">", "is", "_", "hit", "=", "0", ";", "<nl>", "<nl>", "WS", "_", "Reset", "(", "req", "-", ">", "ws", ",", "0", ")", ";", "<nl>", "-", "WS", "_", "Reset", "(", "wrk", "-", ">", "aws", ",", "0", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "<nl>"], "docstring_tokens": ["remove", "the", "thread", "workspace", "check", "at", "the", "fsm", "level"]}
{"code_tokens": ["REQ", "_", "BODY", "(", "PRESENT", ")", "<nl>", "REQ", "_", "BODY", "(", "CHUNKED", ")", "<nl>", "REQ", "_", "BODY", "(", "TAKEN", ")", "<nl>", "REQ", "_", "BODY", "(", "CACHED", ")", "<nl>", "-", "REQ", "_", "BODY", "(", "DONE", ")", "<nl>", "REQ", "_", "BODY", "(", "FAIL", ")", "<nl>", "REQ", "_", "BODY", "(", "NONE", ")", "<nl>", "REQ", "_", "BODY", "(", "PRESENT", ")", "<nl>", "REQ", "_", "BODY", "(", "CHUNKED", ")", "<nl>", "REQ", "_", "BODY", "(", "TAKEN", ")", "<nl>", "REQ", "_", "BODY", "(", "CACHED", ")", "<nl>", "-", "REQ", "_", "BODY", "(", "DONE", ")", "<nl>", "REQ", "_", "BODY", "(", "FAIL", ")", "<nl>", "REQ", "_", "BODY", "(", "NONE", ")", "<nl>", "<nl>", "HTTP1", "_", "IterateReqBody", "(", "struct", "req", "*", "req", ",", "req", "_", "body", "_", "iter", "_", "f", "*", "func", ",", "void", "*", "priv", ")", "<nl>", "case", "REQ", "_", "BODY", "_", "PRESENT", ":", "<nl>", "case", "REQ", "_", "BODY", "_", "CHUNKED", ":", "<nl>", "break", ";", "<nl>", "-", "case", "REQ", "_", "BODY", "_", "DONE", ":", "<nl>", "case", "REQ", "_", "BODY", "_", "TAKEN", ":", "<nl>", "VSLb", "(", "req", "-", ">", "vsl", ",", "SLT", "_", "VCL", "_", "Error", ",", "<nl>", "\"", "Uncached", "req", ".", "body", "can", "only", "be", "consumed", "once", ".", "\"", ")", ";", "<nl>", "int", "<nl>", "HTTP1", "_", "DiscardReqBody", "(", "struct", "req", "*", "req", ")", "<nl>", "{", "<nl>", "<nl>", "-", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "DONE", ")", "<nl>", "-", "return", "(", "0", ")", ";", "<nl>", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "FAIL", ")", "<nl>", "return", "(", "0", ")", ";", "<nl>", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "TAKEN", ")", "mmm", "bin", "/", "varnishd", "/", "cache", "/", "cache", "_", "http1", "_", "fetch", ".", "c", "<nl>", "REQ", "_", "BODY", "(", "PRESENT", ")", "<nl>", "REQ", "_", "BODY", "(", "CHUNKED", ")", "<nl>", "REQ", "_", "BODY", "(", "TAKEN", ")", "<nl>", "REQ", "_", "BODY", "(", "CACHED", ")", "<nl>", "-", "REQ", "_", "BODY", "(", "DONE", ")", "<nl>", "REQ", "_", "BODY", "(", "FAIL", ")", "<nl>", "REQ", "_", "BODY", "(", "NONE", ")", "<nl>", "<nl>", "HTTP1", "_", "IterateReqBody", "(", "struct", "req", "*", "req", ",", "req", "_", "body", "_", "iter", "_", "f", "*", "func", ",", "void", "*", "priv", ")", "<nl>", "case", "REQ", "_", "BODY", "_", "PRESENT", ":", "<nl>", "case", "REQ", "_", "BODY", "_", "CHUNKED", ":", "<nl>", "break", ";", "<nl>", "-", "case", "REQ", "_", "BODY", "_", "DONE", ":", "<nl>", "case", "REQ", "_", "BODY", "_", "TAKEN", ":", "<nl>", "VSLb", "(", "req", "-", ">", "vsl", ",", "SLT", "_", "VCL", "_", "Error", ",", "<nl>", "\"", "Uncached", "req", ".", "body", "can", "only", "be", "consumed", "once", ".", "\"", ")", ";", "<nl>", "int", "<nl>", "HTTP1", "_", "DiscardReqBody", "(", "struct", "req", "*", "req", ")", "<nl>", "{", "<nl>", "<nl>", "-", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "DONE", ")", "<nl>", "-", "return", "(", "0", ")", ";", "<nl>", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "FAIL", ")", "<nl>", "return", "(", "0", ")", ";", "<nl>", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "TAKEN", ")", "<nl>", "V1F", "_", "fetch", "_", "hdr", "(", "struct", "worker", "*", "wrk", ",", "struct", "busyobj", "*", "bo", ",", "struct", "req", "*", "req", ")", "<nl>", "}", "else", "{", "<nl>", "i", "=", "HTTP1", "_", "IterateReqBody", "(", "req", ",", "vbf", "_", "iter", "_", "req", "_", "body", ",", "wrk", ")", ";", "<nl>", "}", "<nl>", "-", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "DONE", ")", "{", "<nl>", "+", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "TAKEN", ")", "{", "<nl>", "retry", "=", "-", "1", ";", "<nl>", "}", "else", "if", "(", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "FAIL", ")", "{", "<nl>", "VSLb", "(", "bo", "-", ">", "vsl", ",", "SLT", "_", "FetchError", ",", "<nl>"], "docstring_tokens": ["Eliminate", "a", "unused", "REQ_BODY", "state"]}
{"code_tokens": ["void", "<nl>", "mgt", "_", "shm", "_", "atexit", "(", "void", ")", "<nl>", "{", "<nl>", "<nl>", "+", "/", "*", "Do", "not", "let", "VCC", "kill", "our", "VSM", "*", "/", "<nl>", "+", "if", "(", "getpid", "(", ")", "!", "=", "mgt", "_", "pid", ")", "<nl>", "+", "return", ";", "<nl>", "if", "(", "heritage", ".", "vsm", "!", "=", "NULL", ")", "<nl>", "VSM", "_", "common", "_", "delete", "(", "&", "heritage", ".", "vsm", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Don", "t", "let", "VCC", "compilers", "or", "other", "subprocesses", "kill", "our", "VSM"]}
{"code_tokens": ["VRY", "_", "Match", "(", "struct", "req", "*", "req", ",", "const", "uint8", "_", "t", "*", "vary", ")", "<nl>", "vsp", "[", "ln", "+", "1", "]", "=", "0xff", ";", "<nl>", "vsp", "[", "ln", "+", "2", "]", "=", "0", ";", "<nl>", "VRY", "_", "Validate", "(", "vsp", ")", ";", "<nl>", "-", "req", "-", ">", "vary", "_", "l", "=", "vsp", "+", "3", ";", "<nl>", "+", "req", "-", ">", "vary", "_", "l", "=", "vsp", "+", "ln", "+", "3", ";", "<nl>", "<nl>", "i", "=", "vry", "_", "cmp", "(", "vary", ",", "vsp", ")", ";", "<nl>", "assert", "(", "i", "=", "=", "0", "|", "|", "i", "=", "=", "2", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "an", "off", "by", "quite", "a", "lot", "error", "which", "neutered", "most", "of", "the", "good"]}
{"code_tokens": ["cnt", "_", "prepresp", "(", "struct", "sess", "*", "sp", ",", "struct", "worker", "*", "wrk", ",", "struct", "req", "*", "req", ")", "<nl>", "break", ";", "<nl>", "if", "(", "bo", "!", "=", "NULL", ")", "{", "<nl>", "AN", "(", "bo", "-", ">", "do", "_", "stream", ")", ";", "<nl>", "-", "VDI", "_", "CloseFd", "(", "&", "bo", "-", ">", "vbc", ")", ";", "<nl>", "HSH", "_", "Drop", "(", "wrk", ",", "&", "sp", "-", ">", "req", "-", ">", "obj", ")", ";", "<nl>", "VBO", "_", "DerefBusyObj", "(", "wrk", ",", "&", "bo", ")", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["In", "the", "current", "scheme", "of", "things", "this", "can", "never", "be", "the", "right", "thing"]}
{"code_tokens": ["parse", "_", "new", "(", "struct", "vcc", "*", "tl", ")", "<nl>", "vcc", "_", "ErrWhere", "(", "tl", ",", "tl", "-", ">", "t", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "-", "XXXAZ", "(", "sy1", ")", ";", "<nl>", "<nl>", "sy1", "=", "VCC", "_", "AddSymbolTok", "(", "tl", ",", "tl", "-", ">", "t", ",", "SYM", "_", "NONE", ")", ";", "/", "/", "XXX", ":", "NONE", "?", "<nl>", "XXXAN", "(", "sy1", ")", ";", "<nl>"], "docstring_tokens": ["Remove", "a", "now", "pointless", "assert"]}
{"code_tokens": ["vca", "_", "write", "_", "obj", "(", "struct", "worker", "*", "w", ",", "struct", "sess", "*", "sp", ")", "<nl>", "sp", "-", ">", "obj", "-", ">", "age", "+", "sp", "-", ">", "t", "_", "req", "-", "sp", "-", ">", "obj", "-", ">", "entered", ")", ";", "<nl>", "sbuf", "_", "printf", "(", "w", "-", ">", "sb", ",", "\"", "Via", ":", "1", ".", "1", "varnish", "\\", "r", "\\", "n", "\"", ")", ";", "<nl>", "sbuf", "_", "printf", "(", "w", "-", ">", "sb", ",", "\"", "X", "-", "Varnish", ":", "xid", "%", "u", "\\", "r", "\\", "n", "\"", ",", "sp", "-", ">", "obj", "-", ">", "xid", ")", ";", "<nl>", "+", "if", "(", "http", "_", "GetProto", "(", "sp", "-", ">", "http", ",", "&", "r", ")", "&", "&", "strcmp", "(", "r", ",", "\"", "HTTP", "/", "1", ".", "1", "\"", ")", ")", "<nl>", "+", "sbuf", "_", "printf", "(", "w", "-", ">", "sb", ",", "\"", "Connection", ":", "close", "\\", "r", "\\", "n", "\"", ")", ";", "<nl>", "sbuf", "_", "printf", "(", "w", "-", ">", "sb", ",", "\"", "\\", "r", "\\", "n", "\"", ")", ";", "<nl>", "sbuf", "_", "finish", "(", "w", "-", ">", "sb", ")", ";", "<nl>", "vca", "_", "write", "(", "sp", ",", "sbuf", "_", "data", "(", "w", "-", ">", "sb", ")", ",", "sbuf", "_", "len", "(", "w", "-", ">", "sb", ")", ")", ";", "<nl>"], "docstring_tokens": ["Send", "Connection", "close", "if", "not", "HTTP", "1", "1"]}
{"code_tokens": ["#", "include", "<", "errno", ".", "h", ">", "<nl>", "#", "include", "<", "netdb", ".", "h", ">", "<nl>", "#", "include", "<", "stdio", ".", "h", ">", "<nl>", "+", "#", "include", "<", "stdlib", ".", "h", ">", "<nl>", "#", "include", "<", "string", ".", "h", ">", "<nl>", "#", "include", "<", "unistd", ".", "h", ">", "<nl>", "<nl>", "accept", "_", "filter", "(", "int", "fd", ")", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "<nl>", "+", "static", "char", "*", "<nl>", "+", "strndup", "(", "const", "char", "*", "p", ",", "unsigned", "n", ")", "<nl>", "+", "{", "<nl>", "+", "char", "*", "q", ";", "<nl>", "+", "<nl>", "+", "q", "=", "malloc", "(", "n", "+", "1", ")", ";", "<nl>", "+", "if", "(", "q", "!", "=", "NULL", ")", "{", "<nl>", "+", "memcpy", "(", "q", ",", "p", ",", "n", ")", ";", "<nl>", "+", "q", "[", "n", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "+", "}", "<nl>", "+", "return", "(", "q", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "int", "<nl>", "TCP", "_", "parse", "(", "const", "char", "*", "str", ",", "char", "*", "*", "addr", ",", "char", "*", "*", "port", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["Bandaid", "until", "Dag", "Erling", "does", "what", "s", "necessary"]}
{"code_tokens": ["h", "_", "ncsa", "(", "void", "*", "priv", ",", "enum", "VSL", "_", "tag", "_", "e", "tag", ",", "unsigned", "fd", ",", "<nl>", "const", "char", "*", "p", ";", "<nl>", "struct", "vsb", "*", "os", ";", "<nl>", "<nl>", "+", "/", "*", "XXX", ":", "Ignore", "fd", "'", "s", "outside", "65536", "*", "/", "<nl>", "+", "if", "(", "fd", ">", "=", "65536", ")", "<nl>", "+", "return", "(", "reopen", ")", ";", "<nl>", "+", "<nl>", "if", "(", "fd", ">", "=", "nll", ")", "{", "<nl>", "struct", "logline", "*", "*", "newll", "=", "ll", ";", "<nl>", "size", "_", "t", "newnll", "=", "nll", ";", "<nl>"], "docstring_tokens": ["Ignore", "fd", "s", "larger", "than", "65536", "in", "varnishncsa"]}
{"code_tokens": ["cli", "_", "readres", "(", "int", "fd", ",", "unsigned", "*", "status", ",", "char", "*", "*", "ptr", ",", "double", "tmo", ")", "<nl>", "*", "status", "=", "CLIS", "_", "COMMS", ";", "<nl>", "if", "(", "ptr", "!", "=", "NULL", ")", "<nl>", "*", "ptr", "=", "strdup", "(", "\"", "CLI", "communication", "error", "(", "hdr", ")", "\"", ")", ";", "<nl>", "-", "return", "(", "1", ")", ";", "<nl>", "+", "if", "(", "i", "!", "=", "0", ")", "<nl>", "+", "return", "(", "i", ")", ";", "<nl>", "+", "return", "(", "400", ")", ";", "<nl>", "}", "<nl>", "assert", "(", "i", "=", "=", "CLI", "_", "LINE0", "_", "LEN", ")", ";", "<nl>", "assert", "(", "res", "[", "3", "]", "=", "=", "'", "'", ")", ";", "mmm", "bin", "/", "varnishtest", "/", "vtc", "_", "varnish", ".", "c", "<nl>", "cli", "_", "readres", "(", "int", "fd", ",", "unsigned", "*", "status", ",", "char", "*", "*", "ptr", ",", "double", "tmo", ")", "<nl>", "*", "status", "=", "CLIS", "_", "COMMS", ";", "<nl>", "if", "(", "ptr", "!", "=", "NULL", ")", "<nl>", "*", "ptr", "=", "strdup", "(", "\"", "CLI", "communication", "error", "(", "hdr", ")", "\"", ")", ";", "<nl>", "-", "return", "(", "1", ")", ";", "<nl>", "+", "if", "(", "i", "!", "=", "0", ")", "<nl>", "+", "return", "(", "i", ")", ";", "<nl>", "+", "return", "(", "400", ")", ";", "<nl>", "}", "<nl>", "assert", "(", "i", "=", "=", "CLI", "_", "LINE0", "_", "LEN", ")", ";", "<nl>", "assert", "(", "res", "[", "3", "]", "=", "=", "'", "'", ")", ";", "<nl>", "varnish", "_", "ask", "_", "cli", "(", "const", "struct", "varnish", "*", "v", ",", "const", "char", "*", "cmd", ",", "char", "*", "*", "repl", ")", "<nl>", "assert", "(", "i", "=", "=", "strlen", "(", "cmd", ")", ")", ";", "<nl>", "i", "=", "write", "(", "v", "-", ">", "cli", "_", "fd", ",", "\"", "\\", "n", "\"", ",", "1", ")", ";", "<nl>", "assert", "(", "i", "=", "=", "1", ")", ";", "<nl>", "-", "i", "=", "cli", "_", "readres", "(", "v", "-", ">", "cli", "_", "fd", ",", "&", "retval", ",", "&", "r", ",", "10", ".", "0", ")", ";", "<nl>", "+", "i", "=", "cli", "_", "readres", "(", "v", "-", ">", "cli", "_", "fd", ",", "&", "retval", ",", "&", "r", ",", "20", ".", "0", ")", ";", "<nl>", "if", "(", "i", "!", "=", "0", ")", "{", "<nl>", "vtc", "_", "log", "(", "v", "-", ">", "vl", ",", "0", ",", "\"", "CLI", "failed", "(", "%", "s", ")", "=", "%", "d", "%", "u", "%", "s", "\"", ",", "<nl>", "cmd", ",", "i", ",", "retval", ",", "r", ")", ";", "<nl>", "varnish", "_", "start", "(", "struct", "varnish", "*", "v", ")", "<nl>", "return", ";", "<nl>", "vtc", "_", "log", "(", "v", "-", ">", "vl", ",", "2", ",", "\"", "Start", "\"", ")", ";", "<nl>", "u", "=", "varnish", "_", "ask", "_", "cli", "(", "v", ",", "\"", "start", "\"", ",", "NULL", ")", ";", "<nl>", "+", "if", "(", "vtc", "_", "error", ")", "<nl>", "+", "return", ";", "<nl>", "assert", "(", "u", "=", "=", "CLIS", "_", "OK", ")", ";", "<nl>", "u", "=", "varnish", "_", "ask", "_", "cli", "(", "v", ",", "\"", "debug", ".", "xid", "1000", "\"", ",", "NULL", ")", ";", "<nl>", "+", "if", "(", "vtc", "_", "error", ")", "<nl>", "+", "return", ";", "<nl>", "assert", "(", "u", "=", "=", "CLIS", "_", "OK", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Attempt", "even", "harder", "to", "get", "diag", "on", "cli", "issues"]}
{"code_tokens": ["h2", "_", "end", "_", "headers", "(", "struct", "worker", "*", "wrk", ",", "struct", "h2", "_", "sess", "*", "h2", ",", "<nl>", "assert", "(", "r2", "-", ">", "state", "=", "=", "H2", "_", "S", "_", "OPEN", ")", ";", "<nl>", "h2e", "=", "h2h", "_", "decode", "_", "fini", "(", "h2", ",", "r2", "-", ">", "decode", ")", ";", "<nl>", "FREE", "_", "OBJ", "(", "r2", "-", ">", "decode", ")", ";", "<nl>", "-", "if", "(", "h2", "-", ">", "rxf", "_", "flags", "&", "H2FF", "_", "HEADERS", "_", "END", "_", "STREAM", ")", "<nl>", "-", "r2", "-", ">", "state", "=", "H2", "_", "S", "_", "CLOS", "_", "REM", ";", "<nl>", "h2", "-", ">", "new", "_", "req", "=", "NULL", ";", "<nl>", "+", "if", "(", "r2", "-", ">", "req", "-", ">", "req", "_", "body", "_", "status", "=", "=", "REQ", "_", "BODY", "_", "NONE", ")", "{", "<nl>", "+", "/", "*", "REQ", "_", "BODY", "_", "NONE", "implies", "one", "of", "the", "frames", "in", "the", "<nl>", "+", "*", "header", "block", "contained", "END", "_", "STREAM", "*", "/", "<nl>", "+", "r2", "-", ">", "state", "=", "H2", "_", "S", "_", "CLOS", "_", "REM", ";", "<nl>", "+", "}", "<nl>", "if", "(", "h2e", "!", "=", "NULL", ")", "{", "<nl>", "Lck", "_", "Lock", "(", "&", "h2", "-", ">", "sess", "-", ">", "mtx", ")", ";", "<nl>", "VSLb", "(", "h2", "-", ">", "vsl", ",", "SLT", "_", "Debug", ",", "\"", "HPACK", "/", "FINI", "%", "s", "\"", ",", "h2e", "-", ">", "name", ")", ";", "<nl>"], "docstring_tokens": ["Proper", "END_STREAM", "handling"]}
{"code_tokens": ["static", "void", "v", "_", "matchproto", "_", "(", "storage", "_", "open", "_", "f", ")", "<nl>", "smu", "_", "open", "(", "struct", "stevedore", "*", "st", ")", "<nl>", "{", "<nl>", "struct", "smu", "_", "sc", "*", "smu", "_", "sc", ";", "<nl>", "+", "char", "ident", "[", "strlen", "(", "st", "-", ">", "ident", ")", "+", "1", "]", ";", "<nl>", "<nl>", "ASSERT", "_", "CLI", "(", ")", ";", "<nl>", "st", "-", ">", "lru", "=", "LRU", "_", "Alloc", "(", ")", ";", "<nl>", "smu", "_", "open", "(", "struct", "stevedore", "*", "st", ")", "<nl>", "<nl>", "smu", "_", "open", "_", "init", "(", ")", ";", "<nl>", "<nl>", "-", "smu", "_", "sc", "-", ">", "smu", "_", "cache", "=", "umem", "_", "cache", "_", "createf", "(", "st", "-", ">", "ident", ",", "<nl>", "+", "AN", "(", "strcpy", "(", "ident", ",", "st", "-", ">", "ident", ")", ")", ";", "<nl>", "+", "smu", "_", "sc", "-", ">", "smu", "_", "cache", "=", "umem", "_", "cache", "_", "createf", "(", "ident", ",", "<nl>", "sizeof", "(", "struct", "smu", ")", ",", "<nl>", "0", ",", "/", "/", "align", "<nl>", "smu", "_", "smu", "_", "constructor", ",", "<nl>"], "docstring_tokens": ["create", "a", "char", "argument", "for", "umem_cache_create"]}
{"code_tokens": ["vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "continue", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "vca", "_", "unpoll", "(", "fd", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "mmm", "bin", "/", "varnishd", "/", "cache", "_", "waiter", "_", "kqueue", ".", "c", "<nl>", "vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "continue", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "vca", "_", "unpoll", "(", "fd", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "<nl>", "vca", "_", "kqueue", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "if", "(", "sp", "-", ">", "t", "_", "open", ">", "deadline", ")", "<nl>", "break", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "mmm", "bin", "/", "varnishd", "/", "cache", "_", "waiter", "_", "epoll", ".", "c", "<nl>", "vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "continue", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "vca", "_", "unpoll", "(", "fd", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "<nl>", "vca", "_", "kqueue", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "if", "(", "sp", "-", ">", "t", "_", "open", ">", "deadline", ")", "<nl>", "break", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "<nl>", "vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "if", "(", "sp", "-", ">", "t", "_", "open", ">", "deadline", ")", "<nl>", "break", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "mmm", "bin", "/", "varnishd", "/", "cache", "_", "waiter", "_", "ports", ".", "c", "<nl>", "vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "continue", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "vca", "_", "unpoll", "(", "fd", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "<nl>", "vca", "_", "kqueue", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "if", "(", "sp", "-", ">", "t", "_", "open", ">", "deadline", ")", "<nl>", "break", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "<nl>", "vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "if", "(", "sp", "-", ">", "t", "_", "open", ">", "deadline", ")", "<nl>", "break", ";", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "<nl>", "vca", "_", "main", "(", "void", "*", "arg", ")", "<nl>", "VTAILQ", "_", "REMOVE", "(", "&", "sesshead", ",", "sp", ",", "list", ")", ";", "<nl>", "if", "(", "sp", "-", ">", "fd", "!", "=", "-", "1", ")", "<nl>", "vca", "_", "del", "(", "sp", "-", ">", "fd", ")", ";", "<nl>", "+", "TCP", "_", "linger", "(", "sp", "-", ">", "fd", ",", "0", ")", ";", "<nl>", "vca", "_", "close", "_", "session", "(", "sp", ",", "\"", "timeout", "\"", ")", ";", "<nl>", "SES", "_", "Delete", "(", "sp", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Disable", "SO_LINGER", "when", "we", "time", "out", "a", "connection", "due", "to", "sess_timeout"]}
{"code_tokens": ["do", "_", "list", "(", "struct", "cli", "*", "cli", ",", "struct", "director", "*", "d", ",", "void", "*", "priv", ")", "<nl>", "if", "(", "d", "-", ">", "vdir", "-", ">", "admin", "_", "health", "=", "=", "VDI", "_", "AH", "_", "DELETED", ")", "<nl>", "return", "(", "0", ")", ";", "<nl>", "<nl>", "+", "/", "/", "XXX", "admin", "health", "\"", "probe", "\"", "for", "the", "no", "-", "probe", "case", "is", "confusing", "<nl>", "VCLI", "_", "Out", "(", "cli", ",", "\"", "\\", "n", "%", "-", "30s", "%", "-", "7s", "\"", ",", "d", "-", ">", "vdir", "-", ">", "cli", "_", "name", ",", "VDI", "_", "Ahealth", "(", "d", ")", ")", ";", "<nl>", "<nl>", "if", "(", "d", "-", ">", "vdir", "-", ">", "methods", "-", ">", "list", "!", "=", "NULL", ")", "<nl>"], "docstring_tokens": ["note", "a", "TODO"]}
{"code_tokens": ["http", "_", "Read", "(", "struct", "http", "*", "hp", ",", "int", "fd", ",", "void", "*", "p", ",", "unsigned", "len", ")", "<nl>", "b", "+", "=", "u", ";", "<nl>", "len", "-", "=", "u", ";", "<nl>", "}", "<nl>", "-", "if", "(", "len", ">", "0", ")", "{", "<nl>", "+", "while", "(", "len", ">", "0", ")", "{", "<nl>", "i", "=", "read", "(", "fd", ",", "b", ",", "len", ")", ";", "<nl>", "-", "if", "(", "i", "<", "0", ")", "<nl>", "+", "if", "(", "i", "<", "=", "0", ")", "<nl>", "return", "(", "i", ")", ";", "<nl>", "u", "+", "=", "i", ";", "<nl>", "+", "len", "-", "=", "u", ";", "<nl>", "}", "<nl>", "return", "(", "u", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Loop", "till", "we", "have", "everything"]}
{"code_tokens": ["dispatch", "_", "f", "(", "struct", "VSL", "_", "data", "*", "vsl", ",", "struct", "VSL", "_", "transaction", "*", "const", "pt", "[", "]", ",", "<nl>", "for", "(", "t", "=", "pt", "[", "0", "]", ";", "t", "!", "=", "NULL", ";", "t", "=", "*", "+", "+", "pt", ")", "{", "<nl>", "CTX", ".", "gen", "+", "+", ";", "<nl>", "if", "(", "t", "-", ">", "type", "!", "=", "VSL", "_", "t", "_", "req", ")", "<nl>", "+", "/", "*", "Only", "look", "at", "client", "requests", "*", "/", "<nl>", "+", "continue", ";", "<nl>", "+", "if", "(", "t", "-", ">", "reason", "=", "=", "VSL", "_", "r", "_", "esi", ")", "<nl>", "+", "/", "*", "Skip", "ESI", "requests", "*", "/", "<nl>", "continue", ";", "<nl>", "CTX", ".", "hitmiss", "=", "\"", "-", "\"", ";", "<nl>", "CTX", ".", "handling", "=", "\"", "-", "\"", ";", "<nl>"], "docstring_tokens": ["varnishncsa", "Don", "t", "output", "ESI", "subrequests"]}
{"code_tokens": ["Nan", ":", ":", "NAN", "_", "METHOD", "_", "RETURN", "_", "TYPE", "TxnWrap", ":", ":", "putCommon", "(", "Nan", ":", ":", "NAN", "_", "METHOD", "_", "ARGS", "_", "TYPE", "info", ",", "v", "<nl>", "}", "<nl>", "<nl>", "NAN", "_", "METHOD", "(", "TxnWrap", ":", ":", "putString", ")", "{", "<nl>", "+", "if", "(", "!", "info", "[", "2", "]", "-", ">", "IsString", "(", ")", ")", "<nl>", "+", "return", "Nan", ":", ":", "ThrowError", "(", "\"", "Value", "must", "be", "a", "string", ".", "\"", ")", ";", "<nl>", "return", "putCommon", "(", "info", ",", "[", "]", "(", "Nan", ":", ":", "NAN", "_", "METHOD", "_", "ARGS", "_", "TYPE", "info", ",", "MDB", "_", "val", "&", "data", ")", "-", ">", "void", "{", "<nl>", "CustomExternalStringResource", ":", ":", "writeTo", "(", "Local", "<", "String", ">", ":", ":", "Cast", "(", "info", "[", "2", "]", ")", ",", "&", "data", ")", ";", "<nl>", "}", ",", "[", "]", "(", "MDB", "_", "val", "&", "data", ")", "-", ">", "void", "{", "<nl>"], "docstring_tokens": ["Perform", "argument", "check", "for", "putString"]}
{"code_tokens": ["mapi", "_", "attr", "_", "read", "(", "size", "_", "t", "len", ",", "unsigned", "char", "*", "buf", ")", "<nl>", "uint32", "i", ",", "j", ";", "<nl>", "assert", "(", "len", ">", "4", ")", ";", "<nl>", "uint32", "num", "_", "properties", "=", "GETINT32", "(", "buf", "+", "idx", ")", ";", "<nl>", "+", "assert", "(", "(", "num", "_", "properties", "+", "1", ")", "!", "=", "0", ")", ";", "<nl>", "MAPI", "_", "Attr", "*", "*", "attrs", "=", "CHECKED", "_", "XMALLOC", "(", "MAPI", "_", "Attr", "*", ",", "(", "num", "_", "properties", "+", "1", ")", ")", ";", "<nl>", "<nl>", "idx", "+", "=", "4", ";", "<nl>", "mapi", "_", "attr", "_", "read", "(", "size", "_", "t", "len", ",", "unsigned", "char", "*", "buf", ")", "<nl>", "/", "*", "read", "the", "data", "into", "a", "buffer", "*", "/", "<nl>", "a", "-", ">", "names", "[", "i", "]", ".", "data", "<nl>", "=", "CHECKED", "_", "XMALLOC", "(", "unsigned", "char", ",", "a", "-", ">", "names", "[", "i", "]", ".", "len", ")", ";", "<nl>", "+", "assert", "(", "(", "idx", "+", "(", "a", "-", ">", "names", "[", "i", "]", ".", "len", "*", "2", ")", ")", "<", "=", "len", ")", ";", "<nl>", "for", "(", "j", "=", "0", ";", "j", "<", "(", "a", "-", ">", "names", "[", "i", "]", ".", "len", ">", ">", "1", ")", ";", "j", "+", "+", ")", "<nl>", "a", "-", ">", "names", "[", "i", "]", ".", "data", "[", "j", "]", "=", "(", "buf", "+", "idx", ")", "[", "j", "*", "2", "]", ";", "<nl>", "<nl>", "mapi", "_", "attr", "_", "read", "(", "size", "_", "t", "len", ",", "unsigned", "char", "*", "buf", ")", "<nl>", "case", "szMAPI", "_", "BINARY", ":", "<nl>", "CHECKINT32", "(", "idx", ",", "len", ")", ";", "v", "-", ">", "len", "=", "GETINT32", "(", "buf", "+", "idx", ")", ";", "idx", "+", "=", "4", ";", "<nl>", "<nl>", "+", "assert", "(", "v", "-", ">", "len", "+", "idx", "<", "=", "len", ")", ";", "<nl>", "+", "<nl>", "if", "(", "a", "-", ">", "type", "=", "=", "szMAPI", "_", "UNICODE", "_", "STRING", ")", "<nl>", "{", "<nl>", "+", "assert", "(", "v", "-", ">", "len", "!", "=", "0", ")", ";", "<nl>", "v", "-", ">", "data", ".", "buf", "=", "(", "unsigned", "char", "*", ")", "unicode", "_", "to", "_", "utf8", "(", "v", "-", ">", "len", ",", "buf", "+", "idx", ")", ";", "<nl>", "}", "<nl>", "else", "<nl>"], "docstring_tokens": ["Use", "asserts", "on", "lengths", "to", "prevent", "invalid", "reads", "writes"]}
{"code_tokens": ["int", "rtp", "_", "packetize", "_", "xiph", "_", "config", "(", "sout", "_", "stream", "_", "id", "_", "sys", "_", "t", "*", "id", ",", "const", "char", "*", "fmtp", ",", "<nl>", "char", "*", "end", "=", "strchr", "(", "start", ",", "'", ";", "'", ")", ";", "<nl>", "assert", "(", "end", "!", "=", "NULL", ")", ";", "<nl>", "size", "_", "t", "len", "=", "end", "-", "start", ";", "<nl>", "-", "char", "b64", "[", "len", "+", "1", "]", ";", "<nl>", "+", "<nl>", "+", "char", "*", "b64", "=", "malloc", "(", "len", "+", "1", ")", ";", "<nl>", "+", "if", "(", "!", "b64", ")", "<nl>", "+", "return", "VLC", "_", "EGENERIC", ";", "<nl>", "+", "<nl>", "memcpy", "(", "b64", ",", "start", ",", "len", ")", ";", "<nl>", "b64", "[", "len", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "<nl>", "int", "rtp", "_", "packetize", "_", "xiph", "_", "config", "(", "sout", "_", "stream", "_", "id", "_", "sys", "_", "t", "*", "id", ",", "const", "char", "*", "fmtp", ",", "<nl>", "int", "i", "_", "data", ";", "<nl>", "<nl>", "i", "_", "data", "=", "vlc", "_", "b64", "_", "decode", "_", "binary", "(", "&", "p", "_", "orig", ",", "b64", ")", ";", "<nl>", "+", "free", "(", "b64", ")", ";", "<nl>", "if", "(", "i", "_", "data", "<", "=", "9", ")", "<nl>", "{", "<nl>", "free", "(", "p", "_", "orig", ")", ";", "<nl>"], "docstring_tokens": ["stream_out", "rtp", "don", "t", "use", "VLA", "for", "user", "controlled", "data"]}
{"code_tokens": ["static", "int", "MP4", "_", "ReadBox", "_", "String", "(", "stream", "_", "t", "*", "p", "_", "stream", ",", "MP4", "_", "Box", "_", "t", "*", "p", "_", "box", ")", "<nl>", "{", "<nl>", "MP4", "_", "READBOX", "_", "ENTER", "(", "MP4", "_", "Box", "_", "data", "_", "string", "_", "t", ")", ";", "<nl>", "<nl>", "+", "if", "(", "p", "_", "box", "-", ">", "i", "_", "size", "<", "8", "|", "|", "p", "_", "box", "-", ">", "i", "_", "size", ">", "SIZE", "_", "MAX", ")", "<nl>", "+", "MP4", "_", "READBOX", "_", "EXIT", "(", "0", ")", ";", "<nl>", "+", "<nl>", "p", "_", "box", "-", ">", "data", ".", "p", "_", "string", "-", ">", "psz", "_", "text", "=", "malloc", "(", "p", "_", "box", "-", ">", "i", "_", "size", "+", "1", "-", "8", ")", ";", "/", "*", "+", "\\", "0", ",", "-", "name", ",", "-", "size", "*", "/", "<nl>", "if", "(", "p", "_", "box", "-", ">", "data", ".", "p", "_", "string", "-", ">", "psz", "_", "text", "=", "=", "NULL", ")", "<nl>", "MP4", "_", "READBOX", "_", "EXIT", "(", "0", ")", ";", "<nl>"], "docstring_tokens": ["demux", "mp4", "fix", "buffer", "overflow", "in", "parsing", "of", "string", "boxes"]}
{"code_tokens": ["static", "block", "_", "t", "*", "Encode", "(", "encoder", "_", "t", "*", "p", "_", "enc", ",", "picture", "_", "t", "*", "p", "_", "pic", ")", "<nl>", "*", "is", "appended", "to", "the", "sequence", "header", "to", "allow", "guard", "<nl>", "*", "against", "poor", "streaming", "servers", "*", "/", "<nl>", "/", "*", "XXX", ",", "should", "this", "be", "done", "using", "the", "packetizer", "?", "*", "/", "<nl>", "+", "<nl>", "+", "if", "(", "len", ">", "UINT32", "_", "MAX", "-", "sizeof", "(", "eos", ")", ")", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "<nl>", "p", "_", "enc", "-", ">", "fmt", "_", "out", ".", "p", "_", "extra", "=", "malloc", "(", "len", "+", "sizeof", "(", "eos", ")", ")", ";", "<nl>", "if", "(", "!", "p", "_", "enc", "-", ">", "fmt", "_", "out", ".", "p", "_", "extra", ")", "<nl>", "return", "NULL", ";", "<nl>"], "docstring_tokens": ["codec", "schroedinger", "fix", "potential", "buffer", "overflow"]}
{"code_tokens": ["static", "bool", "GetUpdateFile", "(", "update", "_", "t", "*", "p", "_", "update", ")", "<nl>", "}", "<nl>", "<nl>", "const", "int64", "_", "t", "i", "_", "read", "=", "stream", "_", "Size", "(", "p", "_", "stream", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "i", "_", "read", "<", "0", "|", "|", "i", "_", "read", ">", "=", "UINT16", "_", "MAX", ")", "<nl>", "+", "{", "<nl>", "+", "msg", "_", "Err", "(", "p", "_", "update", "-", ">", "p", "_", "libvlc", ",", "\"", "Status", "file", "too", "large", "\"", ")", ";", "<nl>", "+", "goto", "error", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "psz", "_", "update", "_", "data", "=", "malloc", "(", "i", "_", "read", "+", "1", ")", ";", "/", "*", "terminating", "'", "\\", "0", "'", "*", "/", "<nl>", "if", "(", "!", "psz", "_", "update", "_", "data", ")", "<nl>", "goto", "error", ";", "<nl>"], "docstring_tokens": ["misc", "update", "fix", "buffer", "overflow", "in", "updater"]}
{"code_tokens": ["win", "_", "exchange", "(", "long", "Prenum", ")", "<nl>", "<nl>", "(", "void", ")", "win", "_", "comp", "_", "pos", "(", ")", ";", "/", "/", "recompute", "window", "positions", "<nl>", "<nl>", "+", "if", "(", "wp", "-", ">", "w", "_", "buffer", "!", "=", "curbuf", ")", "<nl>", "+", "reset", "_", "VIsual", "_", "and", "_", "resel", "(", ")", ";", "<nl>", "+", "else", "if", "(", "VIsual", "_", "active", ")", "<nl>", "+", "wp", "-", ">", "w", "_", "cursor", "=", "curwin", "-", ">", "w", "_", "cursor", ";", "<nl>", "+", "<nl>", "win", "_", "enter", "(", "wp", ",", "TRUE", ")", ";", "<nl>", "redraw", "_", "all", "_", "later", "(", "NOT", "_", "VALID", ")", ";", "<nl>", "}", "<nl>", "frame", "_", "remove", "(", "frame", "_", "T", "*", "frp", ")", "<nl>", "win", "_", "alloc", "_", "lines", "(", "win", "_", "T", "*", "wp", ")", "<nl>", "{", "<nl>", "wp", "-", ">", "w", "_", "lines", "_", "valid", "=", "0", ";", "<nl>", "-", "wp", "-", ">", "w", "_", "lines", "=", "ALLOC", "_", "CLEAR", "_", "MULT", "(", "wline", "_", "T", ",", "Rows", ")", ";", "<nl>", "+", "wp", "-", ">", "w", "_", "lines", "=", "ALLOC", "_", "CLEAR", "_", "MULT", "(", "wline", "_", "T", ",", "Rows", ")", ";", "<nl>", "if", "(", "wp", "-", ">", "w", "_", "lines", "=", "=", "NULL", ")", "<nl>", "return", "FAIL", ";", "<nl>", "return", "OK", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "win", "_", "exchange", "(", "long", "Prenum", ")", "<nl>", "<nl>", "(", "void", ")", "win", "_", "comp", "_", "pos", "(", ")", ";", "/", "/", "recompute", "window", "positions", "<nl>", "<nl>", "+", "if", "(", "wp", "-", ">", "w", "_", "buffer", "!", "=", "curbuf", ")", "<nl>", "+", "reset", "_", "VIsual", "_", "and", "_", "resel", "(", ")", ";", "<nl>", "+", "else", "if", "(", "VIsual", "_", "active", ")", "<nl>", "+", "wp", "-", ">", "w", "_", "cursor", "=", "curwin", "-", ">", "w", "_", "cursor", ";", "<nl>", "+", "<nl>", "win", "_", "enter", "(", "wp", ",", "TRUE", ")", ";", "<nl>", "redraw", "_", "all", "_", "later", "(", "NOT", "_", "VALID", ")", ";", "<nl>", "}", "<nl>", "frame", "_", "remove", "(", "frame", "_", "T", "*", "frp", ")", "<nl>", "win", "_", "alloc", "_", "lines", "(", "win", "_", "T", "*", "wp", ")", "<nl>", "{", "<nl>", "wp", "-", ">", "w", "_", "lines", "_", "valid", "=", "0", ";", "<nl>", "-", "wp", "-", ">", "w", "_", "lines", "=", "ALLOC", "_", "CLEAR", "_", "MULT", "(", "wline", "_", "T", ",", "Rows", ")", ";", "<nl>", "+", "wp", "-", ">", "w", "_", "lines", "=", "ALLOC", "_", "CLEAR", "_", "MULT", "(", "wline", "_", "T", ",", "Rows", ")", ";", "<nl>", "if", "(", "wp", "-", ">", "w", "_", "lines", "=", "=", "NULL", ")", "<nl>", "return", "FAIL", ";", "<nl>", "return", "OK", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4154", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4153", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4154", "ml_get", "error", "when", "exchanging", "windows", "in", "Visual", "mode"]}
{"code_tokens": ["str2special", "(", "<nl>", "*", "sp", "=", "str", "+", "1", ";", "<nl>", "}", "<nl>", "else", "<nl>", "-", "/", "/", "single", "-", "byte", "character", "or", "illegal", "byte", "<nl>", "-", "*", "sp", "=", "str", "+", "1", ";", "<nl>", "+", "/", "/", "single", "-", "byte", "character", ",", "NUL", "or", "illegal", "byte", "<nl>", "+", "*", "sp", "=", "str", "+", "(", "*", "str", "=", "=", "NUL", "?", "0", ":", "1", ")", ";", "<nl>", "<nl>", "/", "/", "Make", "special", "keys", "and", "C0", "control", "characters", "in", "<", ">", "form", ",", "also", "<", "M", "-", "Space", ">", ".", "<nl>", "/", "/", "Use", "<", "Space", ">", "only", "for", "lhs", "of", "a", "mapping", ".", "mmm", "src", "/", "version", ".", "c", "<nl>", "str2special", "(", "<nl>", "*", "sp", "=", "str", "+", "1", ";", "<nl>", "}", "<nl>", "else", "<nl>", "-", "/", "/", "single", "-", "byte", "character", "or", "illegal", "byte", "<nl>", "-", "*", "sp", "=", "str", "+", "1", ";", "<nl>", "+", "/", "/", "single", "-", "byte", "character", ",", "NUL", "or", "illegal", "byte", "<nl>", "+", "*", "sp", "=", "str", "+", "(", "*", "str", "=", "=", "NUL", "?", "0", ":", "1", ")", ";", "<nl>", "<nl>", "/", "/", "Make", "special", "keys", "and", "C0", "control", "characters", "in", "<", ">", "form", ",", "also", "<", "M", "-", "Space", ">", ".", "<nl>", "/", "/", "Use", "<", "Space", ">", "only", "for", "lhs", "of", "a", "mapping", ".", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "9", ",", "<nl>", "/", "*", "*", "/", "<nl>", "8", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0009", "going", "past", "the", "end", "of", "a", "menu", "item", "with", "only", "modifier"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5162", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5161", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "edit", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5162", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5161", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ins", "_", "bs", "(", "<nl>", "#", "endif", "<nl>", "<nl>", "/", "/", "delete", "characters", "until", "we", "are", "at", "or", "before", "want", "_", "vcol", "<nl>", "-", "while", "(", "vcol", ">", "want", "_", "vcol", "<nl>", "+", "while", "(", "vcol", ">", "want", "_", "vcol", "&", "&", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ">", "0", "<nl>", "&", "&", "(", "cc", "=", "*", "(", "ml", "_", "get", "_", "cursor", "(", ")", "-", "1", ")", ",", "VIM", "_", "ISWHITE", "(", "cc", ")", ")", ")", "<nl>", "ins", "_", "bs", "_", "one", "(", "&", "vcol", ")", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5162", "reading", "before", "the", "start", "of", "the", "line", "with", "BS", "in", "Replace", "mode"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3581", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3580", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3581", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3580", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ex", "_", "put", "(", "exarg", "_", "T", "*", "eap", ")", "<nl>", "eap", "-", ">", "forceit", "=", "TRUE", ";", "<nl>", "}", "<nl>", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "eap", "-", ">", "line2", ";", "<nl>", "+", "check", "_", "cursor", "_", "col", "(", ")", ";", "<nl>", "do", "_", "put", "(", "eap", "-", ">", "regname", ",", "NULL", ",", "eap", "-", ">", "forceit", "?", "BACKWARD", ":", "FORWARD", ",", "1L", ",", "<nl>", "PUT", "_", "LINE", "|", "PUT", "_", "CURSLINE", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3581", "reading", "character", "past", "end", "of", "line"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "378", ",", "<nl>", "/", "*", "*", "/", "<nl>", "377", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "undo", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "378", ",", "<nl>", "/", "*", "*", "/", "<nl>", "377", ",", "<nl>", "/", "*", "*", "/", "<nl>", "unserialize", "_", "uep", "(", "bufinfo", "_", "T", "*", "bi", ",", "int", "*", "error", ",", "char", "_", "u", "*", "file", "_", "name", ")", "<nl>", "{", "<nl>", "int", "i", ";", "<nl>", "u", "_", "entry", "_", "T", "*", "uep", ";", "<nl>", "-", "char", "_", "u", "*", "*", "array", ";", "<nl>", "+", "char", "_", "u", "*", "*", "array", "=", "NULL", ";", "<nl>", "char", "_", "u", "*", "line", ";", "<nl>", "int", "line", "_", "len", ";", "<nl>", "<nl>", "unserialize", "_", "uep", "(", "bufinfo", "_", "T", "*", "bi", ",", "int", "*", "error", ",", "char", "_", "u", "*", "file", "_", "name", ")", "<nl>", "uep", "-", ">", "ue", "_", "size", "=", "undo", "_", "read", "_", "4c", "(", "bi", ")", ";", "<nl>", "if", "(", "uep", "-", ">", "ue", "_", "size", ">", "0", ")", "<nl>", "{", "<nl>", "-", "array", "=", "(", "char", "_", "u", "*", "*", ")", "U", "_", "ALLOC", "_", "LINE", "(", "sizeof", "(", "char", "_", "u", "*", ")", "*", "uep", "-", ">", "ue", "_", "size", ")", ";", "<nl>", "+", "if", "(", "uep", "-", ">", "ue", "_", "size", "<", "LONG", "_", "MAX", "/", "(", "int", ")", "sizeof", "(", "char", "_", "u", "*", ")", ")", "<nl>", "+", "array", "=", "(", "char", "_", "u", "*", "*", ")", "U", "_", "ALLOC", "_", "LINE", "(", "sizeof", "(", "char", "_", "u", "*", ")", "*", "uep", "-", ">", "ue", "_", "size", ")", ";", "<nl>", "if", "(", "array", "=", "=", "NULL", ")", "<nl>", "{", "<nl>", "*", "error", "=", "TRUE", ";", "<nl>", "unserialize", "_", "uep", "(", "bufinfo", "_", "T", "*", "bi", ",", "int", "*", "error", ",", "char", "_", "u", "*", "file", "_", "name", ")", "<nl>", "}", "<nl>", "vim", "_", "memset", "(", "array", ",", "0", ",", "sizeof", "(", "char", "_", "u", "*", ")", "*", "uep", "-", ">", "ue", "_", "size", ")", ";", "<nl>", "}", "<nl>", "-", "else", "<nl>", "-", "array", "=", "NULL", ";", "<nl>", "uep", "-", ">", "ue", "_", "array", "=", "array", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "uep", "-", ">", "ue", "_", "size", ";", "+", "+", "i", ")", "<nl>"], "docstring_tokens": ["patch", "8", "0", "0378", "possible", "overflow", "when", "reading", "corrupted", "undo", "file"]}
{"code_tokens": ["get", "_", "lisp", "_", "indent", "(", "void", ")", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>", "+", "if", "(", "*", "that", "=", "=", "NUL", ")", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "if", "(", "*", "that", "=", "=", "'", "(", "'", "|", "|", "*", "that", "=", "=", "'", "[", "'", ")", "<nl>", "+", "+", "parencount", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "get", "_", "lisp", "_", "indent", "(", "void", ")", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>", "+", "if", "(", "*", "that", "=", "=", "NUL", ")", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "if", "(", "*", "that", "=", "=", "'", "(", "'", "|", "|", "*", "that", "=", "=", "'", "[", "'", ")", "<nl>", "+", "+", "parencount", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5122", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5121", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5122", "lisp", "indenting", "my", "run", "over", "the", "end", "of", "the", "line"]}
{"code_tokens": ["same", "_", "leader", "(", "<nl>", "if", "(", "leader1", "_", "len", "=", "=", "0", ")", "<nl>", "return", "(", "leader2", "_", "len", "=", "=", "0", ")", ";", "<nl>", "<nl>", "+", "char", "_", "u", "*", "lnum", "_", "line", "=", "NULL", ";", "<nl>", "+", "int", "line", "_", "len", "=", "0", ";", "<nl>", "+", "<nl>", "/", "/", "If", "first", "leader", "has", "'", "f", "'", "flag", ",", "the", "lines", "can", "be", "joined", "only", "if", "the", "<nl>", "/", "/", "second", "line", "does", "not", "have", "a", "leader", ".", "<nl>", "/", "/", "If", "first", "leader", "has", "'", "e", "'", "flag", ",", "the", "lines", "can", "never", "be", "joined", ".", "<nl>", "same", "_", "leader", "(", "<nl>", "return", "FALSE", ";", "<nl>", "if", "(", "*", "p", "=", "=", "COM", "_", "START", ")", "<nl>", "{", "<nl>", "-", "if", "(", "*", "(", "ml", "_", "get", "(", "lnum", ")", "+", "leader1", "_", "len", ")", "=", "=", "NUL", ")", "<nl>", "+", "if", "(", "lnum", "_", "line", "=", "=", "NULL", ")", "<nl>", "+", "{", "<nl>", "+", "lnum", "_", "line", "=", "ml", "_", "get", "(", "lnum", ")", ";", "<nl>", "+", "line", "_", "len", "=", "(", "int", ")", "STRLEN", "(", "lnum", "_", "line", ")", ";", "<nl>", "+", "}", "<nl>", "+", "if", "(", "line", "_", "len", "<", "=", "leader1", "_", "len", ")", "<nl>", "return", "FALSE", ";", "<nl>", "if", "(", "leader2", "_", "flags", "=", "=", "NULL", "|", "|", "leader2", "_", "len", "=", "=", "0", ")", "<nl>", "return", "FALSE", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "same", "_", "leader", "(", "<nl>", "if", "(", "leader1", "_", "len", "=", "=", "0", ")", "<nl>", "return", "(", "leader2", "_", "len", "=", "=", "0", ")", ";", "<nl>", "<nl>", "+", "char", "_", "u", "*", "lnum", "_", "line", "=", "NULL", ";", "<nl>", "+", "int", "line", "_", "len", "=", "0", ";", "<nl>", "+", "<nl>", "/", "/", "If", "first", "leader", "has", "'", "f", "'", "flag", ",", "the", "lines", "can", "be", "joined", "only", "if", "the", "<nl>", "/", "/", "second", "line", "does", "not", "have", "a", "leader", ".", "<nl>", "/", "/", "If", "first", "leader", "has", "'", "e", "'", "flag", ",", "the", "lines", "can", "never", "be", "joined", ".", "<nl>", "same", "_", "leader", "(", "<nl>", "return", "FALSE", ";", "<nl>", "if", "(", "*", "p", "=", "=", "COM", "_", "START", ")", "<nl>", "{", "<nl>", "-", "if", "(", "*", "(", "ml", "_", "get", "(", "lnum", ")", "+", "leader1", "_", "len", ")", "=", "=", "NUL", ")", "<nl>", "+", "if", "(", "lnum", "_", "line", "=", "=", "NULL", ")", "<nl>", "+", "{", "<nl>", "+", "lnum", "_", "line", "=", "ml", "_", "get", "(", "lnum", ")", ";", "<nl>", "+", "line", "_", "len", "=", "(", "int", ")", "STRLEN", "(", "lnum", "_", "line", ")", ";", "<nl>", "+", "}", "<nl>", "+", "if", "(", "line", "_", "len", "<", "=", "leader1", "_", "len", ")", "<nl>", "return", "FALSE", ";", "<nl>", "if", "(", "leader2", "_", "flags", "=", "=", "NULL", "|", "|", "leader2", "_", "len", "=", "=", "0", ")", "<nl>", "return", "FALSE", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1225", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1224", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1225", "reading", "past", "the", "end", "of", "a", "line", "when", "formatting", "text"]}
{"code_tokens": ["f", "_", "assert", "_", "fails", "(", "typval", "_", "T", "*", "argvars", ",", "typval", "_", "T", "*", "rettv", ")", "<nl>", "in", "_", "assert", "_", "fails", "=", "TRUE", ";", "<nl>", "<nl>", "do", "_", "cmdline", "_", "cmd", "(", "cmd", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "reset", "here", "for", "any", "errors", "reported", "below", "<nl>", "+", "trylevel", "=", "save", "_", "trylevel", ";", "<nl>", "+", "suppress", "_", "errthrow", "=", "FALSE", ";", "<nl>", "+", "<nl>", "if", "(", "called", "_", "emsg", "=", "=", "called", "_", "emsg", "_", "before", ")", "<nl>", "{", "<nl>", "prepare", "_", "assert", "_", "error", "(", "&", "ga", ")", ";", "<nl>", "f", "_", "assert", "_", "fails", "(", "typval", "_", "T", "*", "argvars", ",", "typval", "_", "T", "*", "rettv", ")", "<nl>", "CHECK", "_", "LIST", "_", "MATERIALIZE", "(", "list", ")", ";", "<nl>", "tv", "=", "&", "list", "-", ">", "lv", "_", "first", "-", ">", "li", "_", "tv", ";", "<nl>", "expected", "=", "tv", "_", "get", "_", "string", "_", "buf", "_", "chk", "(", "tv", ",", "buf", ")", ";", "<nl>", "+", "if", "(", "expected", "=", "=", "NULL", ")", "<nl>", "+", "goto", "theend", ";", "<nl>", "if", "(", "!", "pattern", "_", "match", "(", "expected", ",", "actual", ",", "FALSE", ")", ")", "<nl>", "{", "<nl>", "error", "_", "found", "=", "TRUE", ";", "<nl>", "f", "_", "assert", "_", "fails", "(", "typval", "_", "T", "*", "argvars", ",", "typval", "_", "T", "*", "rettv", ")", "<nl>", "{", "<nl>", "tv", "=", "&", "list", "-", ">", "lv", "_", "u", ".", "mat", ".", "lv", "_", "last", "-", ">", "li", "_", "tv", ";", "<nl>", "expected", "=", "tv", "_", "get", "_", "string", "_", "buf", "_", "chk", "(", "tv", ",", "buf", ")", ";", "<nl>", "+", "if", "(", "expected", "=", "=", "NULL", ")", "<nl>", "+", "goto", "theend", ";", "<nl>", "if", "(", "!", "pattern", "_", "match", "(", "expected", ",", "actual", ",", "FALSE", ")", ")", "<nl>", "{", "<nl>", "error", "_", "found", "=", "TRUE", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "f", "_", "assert", "_", "fails", "(", "typval", "_", "T", "*", "argvars", ",", "typval", "_", "T", "*", "rettv", ")", "<nl>", "in", "_", "assert", "_", "fails", "=", "TRUE", ";", "<nl>", "<nl>", "do", "_", "cmdline", "_", "cmd", "(", "cmd", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "reset", "here", "for", "any", "errors", "reported", "below", "<nl>", "+", "trylevel", "=", "save", "_", "trylevel", ";", "<nl>", "+", "suppress", "_", "errthrow", "=", "FALSE", ";", "<nl>", "+", "<nl>", "if", "(", "called", "_", "emsg", "=", "=", "called", "_", "emsg", "_", "before", ")", "<nl>", "{", "<nl>", "prepare", "_", "assert", "_", "error", "(", "&", "ga", ")", ";", "<nl>", "f", "_", "assert", "_", "fails", "(", "typval", "_", "T", "*", "argvars", ",", "typval", "_", "T", "*", "rettv", ")", "<nl>", "CHECK", "_", "LIST", "_", "MATERIALIZE", "(", "list", ")", ";", "<nl>", "tv", "=", "&", "list", "-", ">", "lv", "_", "first", "-", ">", "li", "_", "tv", ";", "<nl>", "expected", "=", "tv", "_", "get", "_", "string", "_", "buf", "_", "chk", "(", "tv", ",", "buf", ")", ";", "<nl>", "+", "if", "(", "expected", "=", "=", "NULL", ")", "<nl>", "+", "goto", "theend", ";", "<nl>", "if", "(", "!", "pattern", "_", "match", "(", "expected", ",", "actual", ",", "FALSE", ")", ")", "<nl>", "{", "<nl>", "error", "_", "found", "=", "TRUE", ";", "<nl>", "f", "_", "assert", "_", "fails", "(", "typval", "_", "T", "*", "argvars", ",", "typval", "_", "T", "*", "rettv", ")", "<nl>", "{", "<nl>", "tv", "=", "&", "list", "-", ">", "lv", "_", "u", ".", "mat", ".", "lv", "_", "last", "-", ">", "li", "_", "tv", ";", "<nl>", "expected", "=", "tv", "_", "get", "_", "string", "_", "buf", "_", "chk", "(", "tv", ",", "buf", ")", ";", "<nl>", "+", "if", "(", "expected", "=", "=", "NULL", ")", "<nl>", "+", "goto", "theend", ";", "<nl>", "if", "(", "!", "pattern", "_", "match", "(", "expected", ",", "actual", ",", "FALSE", ")", ")", "<nl>", "{", "<nl>", "error", "_", "found", "=", "TRUE", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "404", ",", "<nl>", "/", "*", "*", "/", "<nl>", "403", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0404", "crash", "when", "passing", "invalid", "arguments", "to", "assert_fails"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5123", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5122", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "spellsuggest", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5123", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5122", ",", "<nl>", "/", "*", "*", "/", "<nl>", "suggest", "_", "trie", "_", "walk", "(", "<nl>", "sp", "-", ">", "ts", "_", "isdiff", "=", "(", "newscore", "!", "=", "0", ")", "<nl>", "?", "DIFF", "_", "YES", ":", "DIFF", "_", "NONE", ";", "<nl>", "}", "<nl>", "-", "else", "if", "(", "sp", "-", ">", "ts", "_", "isdiff", "=", "=", "DIFF", "_", "INSERT", ")", "<nl>", "+", "else", "if", "(", "sp", "-", ">", "ts", "_", "isdiff", "=", "=", "DIFF", "_", "INSERT", "<nl>", "+", "&", "&", "sp", "-", ">", "ts", "_", "fidx", ">", "0", ")", "<nl>", "/", "/", "When", "inserting", "trail", "bytes", "don", "'", "t", "advance", "in", "the", "<nl>", "/", "/", "bad", "word", ".", "<nl>", "-", "-", "sp", "-", ">", "ts", "_", "fidx", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5123", "using", "invalid", "index", "when", "looking", "for", "spell", "suggestions"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3582", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3581", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "spellsuggest", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3582", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3581", ",", "<nl>", "/", "*", "*", "/", "<nl>", "suggest", "_", "trie", "_", "walk", "(", "<nl>", "/", "/", "char", ",", "e", ".", "g", ".", ",", "\"", "thes", ",", "\"", "-", ">", "\"", "these", "\"", ".", "<nl>", "p", "=", "fword", "+", "sp", "-", ">", "ts", "_", "fidx", ";", "<nl>", "MB", "_", "PTR", "_", "BACK", "(", "fword", ",", "p", ")", ";", "<nl>", "-", "if", "(", "!", "spell", "_", "iswordp", "(", "p", ",", "curwin", ")", ")", "<nl>", "+", "if", "(", "!", "spell", "_", "iswordp", "(", "p", ",", "curwin", ")", "&", "&", "*", "preword", "!", "=", "NUL", ")", "<nl>", "{", "<nl>", "p", "=", "preword", "+", "STRLEN", "(", "preword", ")", ";", "<nl>", "MB", "_", "PTR", "_", "BACK", "(", "preword", ",", "p", ")", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3582", "reading", "uninitialized", "memory", "when", "giving", "spell", "suggestions"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "580", ",", "<nl>", "/", "*", "*", "/", "<nl>", "579", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "580", ",", "<nl>", "/", "*", "*", "/", "<nl>", "579", ",", "<nl>", "/", "*", "*", "/", "<nl>", "do", "_", "one", "_", "cmd", "(", "cmdlinep", ",", "sourcing", ",", "<nl>", "<nl>", "#", "ifdef", "FEAT", "_", "WINDOWS", "<nl>", "/", "*", ":", "wincmd", "range", "depends", "on", "the", "argument", ".", "*", "/", "<nl>", "-", "if", "(", "ea", ".", "cmdidx", "=", "=", "CMD", "_", "wincmd", ")", "<nl>", "-", "get", "_", "wincmd", "_", "addr", "_", "type", "(", "p", ",", "&", "ea", ")", ";", "<nl>", "+", "if", "(", "ea", ".", "cmdidx", "=", "=", "CMD", "_", "wincmd", "&", "&", "p", "!", "=", "NULL", ")", "<nl>", "+", "get", "_", "wincmd", "_", "addr", "_", "type", "(", "skipwhite", "(", "p", ")", ",", "&", "ea", ")", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "4", "580"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "221", ",", "<nl>", "/", "*", "*", "/", "<nl>", "220", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "vim9compile", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "221", ",", "<nl>", "/", "*", "*", "/", "<nl>", "220", ",", "<nl>", "/", "*", "*", "/", "<nl>", "compile", "_", "nested", "_", "function", "(", "exarg", "_", "T", "*", "eap", ",", "cctx", "_", "T", "*", "cctx", ",", "garray", "_", "T", "*", "lines", "_", "to", "_", "free", ")", "<nl>", "int", "r", "=", "FAIL", ";", "<nl>", "compiletype", "_", "T", "compile", "_", "type", ";", "<nl>", "isn", "_", "T", "*", "funcref", "_", "isn", "=", "NULL", ";", "<nl>", "+", "lvar", "_", "T", "*", "lvar", "=", "NULL", ";", "<nl>", "<nl>", "if", "(", "eap", "-", ">", "forceit", ")", "<nl>", "{", "<nl>", "compile", "_", "nested", "_", "function", "(", "exarg", "_", "T", "*", "eap", ",", "cctx", "_", "T", "*", "cctx", ",", "garray", "_", "T", "*", "lines", "_", "to", "_", "free", ")", "<nl>", "else", "<nl>", "{", "<nl>", "/", "/", "Define", "a", "local", "variable", "for", "the", "function", "reference", ".", "<nl>", "-", "lvar", "_", "T", "*", "lvar", "=", "reserve", "_", "local", "(", "cctx", ",", "func", "_", "name", ",", "name", "_", "end", "-", "name", "_", "start", ",", "<nl>", "+", "lvar", "=", "reserve", "_", "local", "(", "cctx", ",", "func", "_", "name", ",", "name", "_", "end", "-", "name", "_", "start", ",", "<nl>", "TRUE", ",", "ufunc", "-", ">", "uf", "_", "func", "_", "type", ")", ";", "<nl>", "-", "<nl>", "if", "(", "lvar", "=", "=", "NULL", ")", "<nl>", "goto", "theend", ";", "<nl>", "if", "(", "generate", "_", "FUNCREF", "(", "cctx", ",", "ufunc", ",", "&", "funcref", "_", "isn", ")", "=", "=", "FAIL", ")", "<nl>", "compile", "_", "nested", "_", "function", "(", "exarg", "_", "T", "*", "eap", ",", "cctx", "_", "T", "*", "cctx", ",", "garray", "_", "T", "*", "lines", "_", "to", "_", "free", ")", "<nl>", "&", "&", "compile", "_", "def", "_", "function", "(", "ufunc", ",", "TRUE", ",", "compile", "_", "type", ",", "cctx", ")", "=", "=", "FAIL", ")", "<nl>", "{", "<nl>", "func", "_", "ptr", "_", "unref", "(", "ufunc", ")", ";", "<nl>", "+", "if", "(", "lvar", "!", "=", "NULL", ")", "<nl>", "+", "/", "/", "Now", "the", "local", "variable", "can", "'", "t", "be", "used", ".", "<nl>", "+", "*", "lvar", "-", ">", "lv", "_", "name", "=", "'", "/", "'", ";", "/", "/", "impossible", "value", "<nl>", "goto", "theend", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0221", "accessing", "freed", "memory", "if", "compiling", "nested", "function", "fails"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "490", ",", "<nl>", "/", "*", "*", "/", "<nl>", "489", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "getln", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "490", ",", "<nl>", "/", "*", "*", "/", "<nl>", "489", ",", "<nl>", "/", "*", "*", "/", "<nl>", "getcmdline", "_", "int", "(", "<nl>", "#", "endif", "<nl>", "expand", "_", "T", "xpc", ";", "<nl>", "long", "*", "b", "_", "im", "_", "ptr", "=", "NULL", ";", "<nl>", "+", "buf", "_", "T", "*", "b", "_", "im", "_", "ptr", "_", "buf", "=", "NULL", ";", "/", "/", "buffer", "where", "b", "_", "im", "_", "ptr", "is", "valid", "<nl>", "cmdline", "_", "info", "_", "T", "save", "_", "ccline", ";", "<nl>", "int", "did", "_", "save", "_", "ccline", "=", "FALSE", ";", "<nl>", "int", "cmdline", "_", "type", ";", "<nl>", "getcmdline", "_", "int", "(", "<nl>", "b", "_", "im", "_", "ptr", "=", "&", "curbuf", "-", ">", "b", "_", "p", "_", "iminsert", ";", "<nl>", "else", "<nl>", "b", "_", "im", "_", "ptr", "=", "&", "curbuf", "-", ">", "b", "_", "p", "_", "imsearch", ";", "<nl>", "+", "b", "_", "im", "_", "ptr", "_", "buf", "=", "curbuf", ";", "<nl>", "if", "(", "*", "b", "_", "im", "_", "ptr", "=", "=", "B", "_", "IMODE", "_", "LMAP", ")", "<nl>", "State", "|", "=", "MODE", "_", "LANGMAP", ";", "<nl>", "#", "ifdef", "HAVE", "_", "INPUT", "_", "METHOD", "<nl>", "getcmdline", "_", "int", "(", "<nl>", "goto", "cmdline", "_", "not", "_", "changed", ";", "<nl>", "<nl>", "case", "Ctrl", "_", "HAT", ":", "<nl>", "-", "cmdline", "_", "toggle", "_", "langmap", "(", "b", "_", "im", "_", "ptr", ")", ";", "<nl>", "+", "cmdline", "_", "toggle", "_", "langmap", "(", "<nl>", "+", "buf", "_", "valid", "(", "b", "_", "im", "_", "ptr", "_", "buf", ")", "?", "b", "_", "im", "_", "ptr", ":", "NULL", ")", ";", "<nl>", "goto", "cmdline", "_", "not", "_", "changed", ";", "<nl>", "<nl>", "/", "/", "case", "'", "@", "'", ":", "only", "in", "very", "old", "vi", "<nl>", "returncmd", ":", "<nl>", "#", "endif", "<nl>", "<nl>", "#", "ifdef", "HAVE", "_", "INPUT", "_", "METHOD", "<nl>", "-", "if", "(", "b", "_", "im", "_", "ptr", "!", "=", "NULL", "&", "&", "*", "b", "_", "im", "_", "ptr", "!", "=", "B", "_", "IMODE", "_", "LMAP", ")", "<nl>", "+", "if", "(", "b", "_", "im", "_", "ptr", "!", "=", "NULL", "&", "&", "buf", "_", "valid", "(", "b", "_", "im", "_", "ptr", "_", "buf", ")", "<nl>", "+", "&", "&", "*", "b", "_", "im", "_", "ptr", "!", "=", "B", "_", "IMODE", "_", "LMAP", ")", "<nl>", "im", "_", "save", "_", "status", "(", "b", "_", "im", "_", "ptr", ")", ";", "<nl>", "im", "_", "set", "_", "active", "(", "FALSE", ")", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0490", "using", "freed", "memory", "with", "cmdwin", "and", "BufEnter", "autocmd"]}
{"code_tokens": ["do", "_", "put", "(", "<nl>", "ptr", "+", "=", "yanklen", ";", "<nl>", "<nl>", "/", "/", "insert", "block", "'", "s", "trailing", "spaces", "only", "if", "there", "'", "s", "text", "behind", "<nl>", "-", "if", "(", "(", "j", "<", "count", "-", "1", "|", "|", "!", "shortline", ")", "&", "&", "spaces", ")", "<nl>", "+", "if", "(", "(", "j", "<", "count", "-", "1", "|", "|", "!", "shortline", ")", "&", "&", "spaces", ">", "0", ")", "<nl>", "{", "<nl>", "vim", "_", "memset", "(", "ptr", ",", "'", "'", ",", "(", "size", "_", "t", ")", "spaces", ")", ";", "<nl>", "ptr", "+", "=", "spaces", ";", "<nl>", "error", ":", "<nl>", "msgmore", "(", "nr", "_", "lines", ")", ";", "<nl>", "curwin", "-", ">", "w", "_", "set", "_", "curswant", "=", "TRUE", ";", "<nl>", "<nl>", "+", "/", "/", "Make", "sure", "the", "cursor", "is", "not", "after", "the", "NUL", ".", "<nl>", "+", "int", "len", "=", "(", "int", ")", "STRLEN", "(", "ml", "_", "get", "_", "curline", "(", ")", ")", ";", "<nl>", "+", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ">", "len", ")", "<nl>", "+", "{", "<nl>", "+", "if", "(", "cur", "_", "ve", "_", "flags", "=", "=", "VE", "_", "ALL", ")", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "coladd", "=", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "-", "len", ";", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "=", "len", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "end", ":", "<nl>", "if", "(", "cmdmod", ".", "cmod", "_", "flags", "&", "CMOD", "_", "LOCKMARKS", ")", "<nl>", "{", "mmm", "src", "/", "version", ".", "c", "<nl>", "do", "_", "put", "(", "<nl>", "ptr", "+", "=", "yanklen", ";", "<nl>", "<nl>", "/", "/", "insert", "block", "'", "s", "trailing", "spaces", "only", "if", "there", "'", "s", "text", "behind", "<nl>", "-", "if", "(", "(", "j", "<", "count", "-", "1", "|", "|", "!", "shortline", ")", "&", "&", "spaces", ")", "<nl>", "+", "if", "(", "(", "j", "<", "count", "-", "1", "|", "|", "!", "shortline", ")", "&", "&", "spaces", ">", "0", ")", "<nl>", "{", "<nl>", "vim", "_", "memset", "(", "ptr", ",", "'", "'", ",", "(", "size", "_", "t", ")", "spaces", ")", ";", "<nl>", "ptr", "+", "=", "spaces", ";", "<nl>", "error", ":", "<nl>", "msgmore", "(", "nr", "_", "lines", ")", ";", "<nl>", "curwin", "-", ">", "w", "_", "set", "_", "curswant", "=", "TRUE", ";", "<nl>", "<nl>", "+", "/", "/", "Make", "sure", "the", "cursor", "is", "not", "after", "the", "NUL", ".", "<nl>", "+", "int", "len", "=", "(", "int", ")", "STRLEN", "(", "ml", "_", "get", "_", "curline", "(", ")", ")", ";", "<nl>", "+", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ">", "len", ")", "<nl>", "+", "{", "<nl>", "+", "if", "(", "cur", "_", "ve", "_", "flags", "=", "=", "VE", "_", "ALL", ")", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "coladd", "=", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "-", "len", ";", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "=", "len", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "end", ":", "<nl>", "if", "(", "cmdmod", ".", "cmod", "_", "flags", "&", "CMOD", "_", "LOCKMARKS", ")", "<nl>", "{", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1376", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1375", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1376", "accessing", "invalid", "memory", "with", "put", "in", "Visual", "block", "mode"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "104", ",", "<nl>", "/", "*", "*", "/", "<nl>", "103", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "typval", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "104", ",", "<nl>", "/", "*", "*", "/", "<nl>", "103", ",", "<nl>", "/", "*", "*", "/", "<nl>", "eval", "_", "string", "(", "char", "_", "u", "*", "*", "arg", ",", "typval", "_", "T", "*", "rettv", ",", "int", "evaluate", ",", "int", "interpolate", ")", "<nl>", "/", "/", "to", "9", "characters", "(", "6", "for", "the", "char", "and", "3", "for", "a", "modifier", ")", ":", "<nl>", "/", "/", "reserve", "space", "for", "5", "extra", ".", "<nl>", "if", "(", "*", "p", "=", "=", "'", "<", "'", ")", "<nl>", "+", "{", "<nl>", "+", "int", "modifiers", "=", "0", ";", "<nl>", "+", "int", "flags", "=", "FSK", "_", "KEYCODE", "|", "FSK", "_", "IN", "_", "STRING", ";", "<nl>", "+", "<nl>", "extra", "+", "=", "5", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Skip", "to", "the", "'", ">", "'", "to", "avoid", "using", "'", "{", "'", "inside", "for", "string", "<nl>", "+", "/", "/", "interpolation", ".", "<nl>", "+", "if", "(", "p", "[", "1", "]", "!", "=", "'", "*", "'", ")", "<nl>", "+", "flags", "|", "=", "FSK", "_", "SIMPLIFY", ";", "<nl>", "+", "if", "(", "find", "_", "special", "_", "key", "(", "&", "p", ",", "&", "modifiers", ",", "flags", ",", "NULL", ")", "!", "=", "0", ")", "<nl>", "+", "-", "-", "p", ";", "/", "/", "leave", "\"", "p", "\"", "on", "the", "\"", ">", "\"", "<nl>", "+", "}", "<nl>", "}", "<nl>", "else", "if", "(", "interpolate", "&", "&", "(", "*", "p", "=", "=", "'", "{", "'", "|", "|", "*", "p", "=", "=", "'", "}", "'", ")", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0104", "going", "beyond", "allocated", "memory", "when", "evaluating", "string", "constant"]}
{"code_tokens": ["nv", "_", "scroll", "(", "cmdarg", "_", "T", "*", "cap", ")", "<nl>", "{", "<nl>", "(", "void", ")", "hasFolding", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ",", "<nl>", "&", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ",", "NULL", ")", ";", "<nl>", "-", "-", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ";", "<nl>", "+", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ">", "curwin", "-", ">", "w", "_", "topline", ")", "<nl>", "+", "-", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ";", "<nl>", "}", "<nl>", "}", "<nl>", "elsemmm", "src", "/", "version", ".", "c", "<nl>", "nv", "_", "scroll", "(", "cmdarg", "_", "T", "*", "cap", ")", "<nl>", "{", "<nl>", "(", "void", ")", "hasFolding", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ",", "<nl>", "&", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ",", "NULL", ")", ";", "<nl>", "-", "-", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ";", "<nl>", "+", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ">", "curwin", "-", ">", "w", "_", "topline", ")", "<nl>", "+", "-", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ";", "<nl>", "}", "<nl>", "}", "<nl>", "else", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1189", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1188", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1189", "invalid", "memory", "access", "with", "folding", "and", "using", "L"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "18", ",", "<nl>", "/", "*", "*", "/", "<nl>", "17", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "term", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "18", ",", "<nl>", "/", "*", "*", "/", "<nl>", "17", ",", "<nl>", "/", "*", "*", "/", "<nl>", "check", "_", "termcode", "(", "<nl>", "if", "(", "*", "tp", "=", "=", "ESC", "&", "&", "!", "p", "_", "ek", "&", "&", "(", "State", "&", "MODE", "_", "INSERT", ")", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "+", "tp", "[", "len", "]", "=", "NUL", ";", "<nl>", "key", "_", "name", "[", "0", "]", "=", "NUL", ";", "/", "/", "no", "key", "name", "found", "yet", "<nl>", "key", "_", "name", "[", "1", "]", "=", "NUL", ";", "/", "/", "no", "key", "name", "found", "yet", "<nl>", "modifiers", "=", "0", ";", "/", "/", "no", "modifiers", "yet", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0018", "going", "over", "the", "end", "of", "the", "typahead"]}
{"code_tokens": ["spell", "_", "move", "_", "to", "(", "<nl>", "char", "_", "u", "*", "line", ";", "<nl>", "char", "_", "u", "*", "p", ";", "<nl>", "char", "_", "u", "*", "endp", ";", "<nl>", "-", "hlf", "_", "T", "attr", ";", "<nl>", "+", "hlf", "_", "T", "attr", "=", "0", ";", "<nl>", "int", "len", ";", "<nl>", "#", "ifdef", "FEAT", "_", "SYN", "_", "HL", "<nl>", "int", "has", "_", "syntax", "=", "syntax", "_", "present", "(", "wp", ")", ";", "<nl>", "spell", "_", "move", "_", "to", "(", "<nl>", "<nl>", "while", "(", "!", "got", "_", "int", ")", "<nl>", "{", "<nl>", "+", "int", "empty", "_", "line", ";", "<nl>", "+", "<nl>", "line", "=", "ml", "_", "get", "_", "buf", "(", "wp", "-", ">", "w", "_", "buffer", ",", "lnum", ",", "FALSE", ")", ";", "<nl>", "<nl>", "len", "=", "(", "int", ")", "STRLEN", "(", "line", ")", ";", "<nl>", "spell", "_", "move", "_", "to", "(", "<nl>", "}", "<nl>", "<nl>", "/", "/", "Copy", "the", "line", "into", "\"", "buf", "\"", "and", "append", "the", "start", "of", "the", "next", "line", "if", "<nl>", "-", "/", "/", "possible", ".", "<nl>", "+", "/", "/", "possible", ".", "Note", ":", "this", "ml", "_", "get", "_", "buf", "(", ")", "may", "make", "\"", "line", "\"", "invalid", ",", "check", "<nl>", "+", "/", "/", "for", "empty", "line", "first", ".", "<nl>", "+", "empty", "_", "line", "=", "*", "skipwhite", "(", "line", ")", "=", "=", "NUL", ";", "<nl>", "STRCPY", "(", "buf", ",", "line", ")", ";", "<nl>", "if", "(", "lnum", "<", "wp", "-", ">", "w", "_", "buffer", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", ")", "<nl>", "spell", "_", "cat", "_", "line", "(", "buf", "+", "STRLEN", "(", "buf", ")", ",", "<nl>", "spell", "_", "move", "_", "to", "(", "<nl>", "-", "-", "capcol", ";", "<nl>", "<nl>", "/", "/", "But", "after", "empty", "line", "check", "first", "word", "in", "next", "line", "<nl>", "-", "if", "(", "*", "skipwhite", "(", "line", ")", "=", "=", "NUL", ")", "<nl>", "+", "if", "(", "empty", "_", "line", ")", "<nl>", "capcol", "=", "0", ";", "<nl>", "}", "<nl>", "spell", "_", "move", "_", "to", "(", "<nl>", "char", "_", "u", "*", "line", ";", "<nl>", "char", "_", "u", "*", "p", ";", "<nl>", "char", "_", "u", "*", "endp", ";", "<nl>", "-", "hlf", "_", "T", "attr", ";", "<nl>", "+", "hlf", "_", "T", "attr", "=", "0", ";", "<nl>", "int", "len", ";", "<nl>", "#", "ifdef", "FEAT", "_", "SYN", "_", "HL", "<nl>", "int", "has", "_", "syntax", "=", "syntax", "_", "present", "(", "wp", ")", ";", "<nl>", "spell", "_", "move", "_", "to", "(", "<nl>", "<nl>", "while", "(", "!", "got", "_", "int", ")", "<nl>", "{", "<nl>", "+", "int", "empty", "_", "line", ";", "<nl>", "+", "<nl>", "line", "=", "ml", "_", "get", "_", "buf", "(", "wp", "-", ">", "w", "_", "buffer", ",", "lnum", ",", "FALSE", ")", ";", "<nl>", "<nl>", "len", "=", "(", "int", ")", "STRLEN", "(", "line", ")", ";", "<nl>", "spell", "_", "move", "_", "to", "(", "<nl>", "}", "<nl>", "<nl>", "/", "/", "Copy", "the", "line", "into", "\"", "buf", "\"", "and", "append", "the", "start", "of", "the", "next", "line", "if", "<nl>", "-", "/", "/", "possible", ".", "<nl>", "+", "/", "/", "possible", ".", "Note", ":", "this", "ml", "_", "get", "_", "buf", "(", ")", "may", "make", "\"", "line", "\"", "invalid", ",", "check", "<nl>", "+", "/", "/", "for", "empty", "line", "first", ".", "<nl>", "+", "empty", "_", "line", "=", "*", "skipwhite", "(", "line", ")", "=", "=", "NUL", ";", "<nl>", "STRCPY", "(", "buf", ",", "line", ")", ";", "<nl>", "if", "(", "lnum", "<", "wp", "-", ">", "w", "_", "buffer", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", ")", "<nl>", "spell", "_", "cat", "_", "line", "(", "buf", "+", "STRLEN", "(", "buf", ")", ",", "<nl>", "spell", "_", "move", "_", "to", "(", "<nl>", "-", "-", "capcol", ";", "<nl>", "<nl>", "/", "/", "But", "after", "empty", "line", "check", "first", "word", "in", "next", "line", "<nl>", "-", "if", "(", "*", "skipwhite", "(", "line", ")", "=", "=", "NUL", ")", "<nl>", "+", "if", "(", "empty", "_", "line", ")", "<nl>", "capcol", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5072", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5071", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5072", "using", "uninitialized", "value", "and", "freed", "memory", "in", "spell", "command"]}
{"code_tokens": ["wingotofile", ":", "<nl>", "CHECK", "_", "CMDWIN", ";", "<nl>", "if", "(", "(", "len", "=", "find", "_", "ident", "_", "under", "_", "cursor", "(", "&", "ptr", ",", "FIND", "_", "IDENT", ")", ")", "=", "=", "0", ")", "<nl>", "break", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Make", "a", "copy", ",", "if", "the", "line", "was", "changed", "it", "will", "be", "freed", ".", "<nl>", "+", "ptr", "=", "vim", "_", "strnsave", "(", "ptr", ",", "len", ")", ";", "<nl>", "+", "if", "(", "ptr", "=", "=", "NULL", ")", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "find", "_", "pattern", "_", "in", "_", "path", "(", "ptr", ",", "0", ",", "len", ",", "TRUE", ",", "<nl>", "Prenum", "=", "=", "0", "?", "TRUE", ":", "FALSE", ",", "type", ",", "<nl>", "Prenum1", ",", "ACTION", "_", "SPLIT", ",", "(", "linenr", "_", "T", ")", "1", ",", "(", "linenr", "_", "T", ")", "MAXLNUM", ")", ";", "<nl>", "+", "vim", "_", "free", "(", "ptr", ")", ";", "<nl>", "curwin", "-", ">", "w", "_", "set", "_", "curswant", "=", "TRUE", ";", "<nl>", "break", ";", "<nl>", "#", "endifmmm", "src", "/", "version", ".", "c", "<nl>", "wingotofile", ":", "<nl>", "CHECK", "_", "CMDWIN", ";", "<nl>", "if", "(", "(", "len", "=", "find", "_", "ident", "_", "under", "_", "cursor", "(", "&", "ptr", ",", "FIND", "_", "IDENT", ")", ")", "=", "=", "0", ")", "<nl>", "break", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Make", "a", "copy", ",", "if", "the", "line", "was", "changed", "it", "will", "be", "freed", ".", "<nl>", "+", "ptr", "=", "vim", "_", "strnsave", "(", "ptr", ",", "len", ")", ";", "<nl>", "+", "if", "(", "ptr", "=", "=", "NULL", ")", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "find", "_", "pattern", "_", "in", "_", "path", "(", "ptr", ",", "0", ",", "len", ",", "TRUE", ",", "<nl>", "Prenum", "=", "=", "0", "?", "TRUE", ":", "FALSE", ",", "type", ",", "<nl>", "Prenum1", ",", "ACTION", "_", "SPLIT", ",", "(", "linenr", "_", "T", ")", "1", ",", "(", "linenr", "_", "T", ")", "MAXLNUM", ")", ";", "<nl>", "+", "vim", "_", "free", "(", "ptr", ")", ";", "<nl>", "curwin", "-", ">", "w", "_", "set", "_", "curswant", "=", "TRUE", ";", "<nl>", "break", ";", "<nl>", "#", "endif", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4979", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4978", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4979", "accessing", "freed", "memory", "when", "line", "is", "flushed"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "98", ",", "<nl>", "/", "*", "*", "/", "<nl>", "97", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "98", ",", "<nl>", "/", "*", "*", "/", "<nl>", "97", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ex", "_", "redir", "(", "eap", ")", "<nl>", "else", "<nl>", "EMSG2", "(", "_", "(", "e", "_", "invarg2", ")", ",", "eap", "-", ">", "arg", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "/", "*", "Make", "sure", "redirection", "is", "not", "off", ".", "Can", "happen", "for", "cmdline", "completion", "<nl>", "+", "*", "that", "indirectly", "invokes", "a", "command", "to", "catch", "its", "output", ".", "*", "/", "<nl>", "+", "if", "(", "redir", "_", "fd", "!", "=", "NULL", "<nl>", "+", "#", "ifdef", "FEAT", "_", "EVAL", "<nl>", "+", "|", "|", "redir", "_", "reg", "|", "|", "redir", "_", "vname", "<nl>", "+", "#", "endif", "<nl>", "+", ")", "<nl>", "+", "redir", "_", "off", "=", "FALSE", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "mmm", "src", "/", "ex", "_", "getln", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "98", ",", "<nl>", "/", "*", "*", "/", "<nl>", "97", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ex", "_", "redir", "(", "eap", ")", "<nl>", "else", "<nl>", "EMSG2", "(", "_", "(", "e", "_", "invarg2", ")", ",", "eap", "-", ">", "arg", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "/", "*", "Make", "sure", "redirection", "is", "not", "off", ".", "Can", "happen", "for", "cmdline", "completion", "<nl>", "+", "*", "that", "indirectly", "invokes", "a", "command", "to", "catch", "its", "output", ".", "*", "/", "<nl>", "+", "if", "(", "redir", "_", "fd", "!", "=", "NULL", "<nl>", "+", "#", "ifdef", "FEAT", "_", "EVAL", "<nl>", "+", "|", "|", "redir", "_", "reg", "|", "|", "redir", "_", "vname", "<nl>", "+", "#", "endif", "<nl>", "+", ")", "<nl>", "+", "redir", "_", "off", "=", "FALSE", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>", "getcmdline", "(", "firstc", ",", "count", ",", "indent", ")", "<nl>", "*", "/", "<nl>", "for", "(", ";", ";", ")", "<nl>", "{", "<nl>", "+", "redir", "_", "off", "=", "TRUE", ";", "/", "*", "Don", "'", "t", "redirect", "the", "typed", "command", ".", "<nl>", "+", "Repeated", ",", "because", "a", "\"", ":", "redir", "\"", "inside", "<nl>", "+", "completion", "may", "switch", "it", "on", ".", "*", "/", "<nl>", "#", "ifdef", "USE", "_", "ON", "_", "FLY", "_", "SCROLL", "<nl>", "dont", "_", "scroll", "=", "FALSE", ";", "/", "*", "allow", "scrolling", "here", "*", "/", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "0", "098"]}
{"code_tokens": ["error", ":", "<nl>", "len", "=", "STRLEN", "(", "y", "_", "array", "[", "y", "_", "size", "-", "1", "]", ")", ";", "<nl>", "col", "=", "(", "colnr", "_", "T", ")", "len", "-", "lendiff", ";", "<nl>", "if", "(", "col", ">", "1", ")", "<nl>", "-", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "col", "-", "1", "<nl>", "-", "-", "mb", "_", "head", "_", "off", "(", "y", "_", "array", "[", "y", "_", "size", "-", "1", "]", ",", "<nl>", "+", "{", "<nl>", "+", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "col", "-", "1", ";", "<nl>", "+", "if", "(", "len", ">", "0", ")", "<nl>", "+", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "-", "=", "mb", "_", "head", "_", "off", "(", "y", "_", "array", "[", "y", "_", "size", "-", "1", "]", ",", "<nl>", "y", "_", "array", "[", "y", "_", "size", "-", "1", "]", "+", "len", "-", "1", ")", ";", "<nl>", "+", "}", "<nl>", "else", "<nl>", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "0", ";", "<nl>", "error", ":", "<nl>", "len", "=", "STRLEN", "(", "y", "_", "array", "[", "y", "_", "size", "-", "1", "]", ")", ";", "<nl>", "col", "=", "(", "colnr", "_", "T", ")", "len", "-", "lendiff", ";", "<nl>", "if", "(", "col", ">", "1", ")", "<nl>", "-", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "col", "-", "1", "<nl>", "-", "-", "mb", "_", "head", "_", "off", "(", "y", "_", "array", "[", "y", "_", "size", "-", "1", "]", ",", "<nl>", "+", "{", "<nl>", "+", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "col", "-", "1", ";", "<nl>", "+", "if", "(", "len", ">", "0", ")", "<nl>", "+", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "-", "=", "mb", "_", "head", "_", "off", "(", "y", "_", "array", "[", "y", "_", "size", "-", "1", "]", ",", "<nl>", "y", "_", "array", "[", "y", "_", "size", "-", "1", "]", "+", "len", "-", "1", ")", ";", "<nl>", "+", "}", "<nl>", "else", "<nl>", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "0", ";", "<nl>", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5016", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5015", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5016", "access", "before", "start", "of", "text", "with", "a", "put", "command"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4647", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4646", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "scriptfile", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4647", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4646", ",", "<nl>", "/", "*", "*", "/", "<nl>", "get", "_", "one", "_", "sourceline", "(", "source", "_", "cookie", "_", "T", "*", "sp", ")", "<nl>", "break", ";", "/", "/", "all", "the", "lines", "are", "processed", "<nl>", "ga", "_", "concat", "(", "&", "ga", ",", "(", "(", "char", "_", "u", "*", "*", ")", "sp", "-", ">", "buflines", ".", "ga", "_", "data", ")", "[", "sp", "-", ">", "buf", "_", "lnum", "]", ")", ";", "<nl>", "sp", "-", ">", "buf", "_", "lnum", "+", "+", ";", "<nl>", "+", "if", "(", "ga", "_", "grow", "(", "&", "ga", ",", "1", ")", "=", "=", "FAIL", ")", "<nl>", "+", "break", ";", "<nl>", "buf", "=", "(", "char", "_", "u", "*", ")", "ga", ".", "ga", "_", "data", ";", "<nl>", "+", "buf", "[", "ga", ".", "ga", "_", "len", "+", "+", "]", "=", "NUL", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4647", "source", "can", "read", "past", "end", "of", "copied", "line"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3625", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3624", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "cindent", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3625", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3624", ",", "<nl>", "/", "*", "*", "/", "<nl>", "get", "_", "baseclass", "_", "amount", "(", "int", "col", ")", "<nl>", "static", "pos", "_", "T", "*", "<nl>", "find", "_", "start", "_", "brace", "(", "void", ")", "/", "/", "XXX", "<nl>", "{", "<nl>", "-", "pos", "_", "T", "cursor", "_", "save", ";", "<nl>", "-", "pos", "_", "T", "*", "trypos", ";", "<nl>", "-", "pos", "_", "T", "*", "pos", ";", "<nl>", "-", "static", "pos", "_", "T", "pos", "_", "copy", ";", "<nl>", "+", "pos", "_", "T", "cursor", "_", "save", ";", "<nl>", "+", "pos", "_", "T", "*", "trypos", ";", "<nl>", "+", "pos", "_", "T", "*", "pos", ";", "<nl>", "+", "static", "pos", "_", "T", "pos", "_", "copy", ";", "<nl>", "<nl>", "cursor", "_", "save", "=", "curwin", "-", ">", "w", "_", "cursor", ";", "<nl>", "while", "(", "(", "trypos", "=", "findmatchlimit", "(", "NULL", ",", "'", "{", "'", ",", "FM", "_", "BLOCKSTOP", ",", "0", ")", ")", "!", "=", "NULL", ")", "<nl>", "find", "_", "start", "_", "brace", "(", "void", ")", "/", "/", "XXX", "<nl>", "&", "&", "(", "pos", "=", "ind", "_", "find", "_", "start", "_", "CORS", "(", "NULL", ")", ")", "=", "=", "NULL", ")", "/", "/", "XXX", "<nl>", "break", ";", "<nl>", "if", "(", "pos", "!", "=", "NULL", ")", "<nl>", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "pos", "-", ">", "lnum", ";", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", "=", "*", "pos", ";", "<nl>", "}", "<nl>", "curwin", "-", ">", "w", "_", "cursor", "=", "cursor", "_", "save", ";", "<nl>", "return", "trypos", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3625", "illegal", "memory", "access", "when", "C", "indenting"]}
{"code_tokens": ["current", "_", "quote", "(", "<nl>", "<nl>", "/", "/", "Find", "out", "if", "we", "have", "a", "quote", "in", "the", "selection", ".", "<nl>", "while", "(", "i", "<", "=", "col", "_", "end", ")", "<nl>", "+", "{", "<nl>", "+", "/", "/", "check", "for", "going", "over", "the", "end", "of", "the", "line", ",", "which", "can", "happen", "if", "<nl>", "+", "/", "/", "the", "line", "was", "changed", "after", "the", "Visual", "area", "was", "selected", ".", "<nl>", "+", "if", "(", "line", "[", "i", "]", "=", "=", "NUL", ")", "<nl>", "+", "break", ";", "<nl>", "if", "(", "line", "[", "i", "+", "+", "]", "=", "=", "quotechar", ")", "<nl>", "{", "<nl>", "selected", "_", "quote", "=", "TRUE", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "if", "(", "!", "vis", "_", "empty", "&", "&", "line", "[", "col", "_", "start", "]", "=", "=", "quotechar", ")", "mmm", "src", "/", "version", ".", "c", "<nl>", "current", "_", "quote", "(", "<nl>", "<nl>", "/", "/", "Find", "out", "if", "we", "have", "a", "quote", "in", "the", "selection", ".", "<nl>", "while", "(", "i", "<", "=", "col", "_", "end", ")", "<nl>", "+", "{", "<nl>", "+", "/", "/", "check", "for", "going", "over", "the", "end", "of", "the", "line", ",", "which", "can", "happen", "if", "<nl>", "+", "/", "/", "the", "line", "was", "changed", "after", "the", "Visual", "area", "was", "selected", ".", "<nl>", "+", "if", "(", "line", "[", "i", "]", "=", "=", "NUL", ")", "<nl>", "+", "break", ";", "<nl>", "if", "(", "line", "[", "i", "+", "+", "]", "=", "=", "quotechar", ")", "<nl>", "{", "<nl>", "selected", "_", "quote", "=", "TRUE", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "if", "(", "!", "vis", "_", "empty", "&", "&", "line", "[", "col", "_", "start", "]", "=", "=", "quotechar", ")", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5120", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5119", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5120", "searching", "for", "quotes", "may", "go", "over", "the", "end", "of", "the", "line"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "151", ",", "<nl>", "/", "*", "*", "/", "<nl>", "150", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ops", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "151", ",", "<nl>", "/", "*", "*", "/", "<nl>", "150", ",", "<nl>", "/", "*", "*", "/", "<nl>", "op", "_", "yank", "(", "oap", ",", "deleting", ",", "mess", ")", "<nl>", "/", "*", "Copy", "the", "text", "from", "register", "0", "to", "the", "clipboard", "register", ".", "*", "/", "<nl>", "copy", "_", "yank", "_", "reg", "(", "&", "(", "y", "_", "regs", "[", "PLUS", "_", "REGISTER", "]", ")", ")", ";", "<nl>", "<nl>", "-", "/", "*", "No", "need", "to", "copy", "to", "*", "register", "upon", "'", "unnamed", "'", "now", "-", "see", "below", "*", "/", "<nl>", "clip", "_", "own", "_", "selection", "(", "&", "clip", "_", "plus", ")", ";", "<nl>", "clip", "_", "gen", "_", "set", "_", "selection", "(", "&", "clip", "_", "plus", ")", ";", "<nl>", "-", "if", "(", "!", "clip", "_", "isautosel", "(", ")", "&", "&", "!", "did", "_", "star", ")", "<nl>", "+", "if", "(", "!", "clip", "_", "isautosel", "(", ")", "&", "&", "!", "did", "_", "star", "&", "&", "curr", "=", "=", "&", "(", "y", "_", "regs", "[", "PLUS", "_", "REGISTER", "]", ")", ")", "<nl>", "{", "<nl>", "copy", "_", "yank", "_", "reg", "(", "&", "(", "y", "_", "regs", "[", "STAR", "_", "REGISTER", "]", ")", ")", ";", "<nl>", "clip", "_", "own", "_", "selection", "(", "&", "clip", "_", "star", ")", ";", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "3", "151"]}
{"code_tokens": ["ga", "_", "concat", "_", "shorten", "_", "esc", "(", "garray", "_", "T", "*", "gap", ",", "char", "_", "u", "*", "str", ")", "<nl>", "{", "<nl>", "same", "_", "len", "=", "1", ";", "<nl>", "s", "=", "p", ";", "<nl>", "-", "c", "=", "mb", "_", "ptr2char", "_", "adv", "(", "&", "s", ")", ";", "<nl>", "+", "c", "=", "mb", "_", "cptr2char", "_", "adv", "(", "&", "s", ")", ";", "<nl>", "clen", "=", "s", "-", "p", ";", "<nl>", "while", "(", "*", "s", "!", "=", "NUL", "&", "&", "c", "=", "=", "mb", "_", "ptr2char", "(", "s", ")", ")", "<nl>", "{", "mmm", "src", "/", "version", ".", "c", "<nl>", "ga", "_", "concat", "_", "shorten", "_", "esc", "(", "garray", "_", "T", "*", "gap", ",", "char", "_", "u", "*", "str", ")", "<nl>", "{", "<nl>", "same", "_", "len", "=", "1", ";", "<nl>", "s", "=", "p", ";", "<nl>", "-", "c", "=", "mb", "_", "ptr2char", "_", "adv", "(", "&", "s", ")", ";", "<nl>", "+", "c", "=", "mb", "_", "cptr2char", "_", "adv", "(", "&", "s", ")", ";", "<nl>", "clen", "=", "s", "-", "p", ";", "<nl>", "while", "(", "*", "s", "!", "=", "NUL", "&", "&", "c", "=", "=", "mb", "_", "ptr2char", "(", "s", ")", ")", "<nl>", "{", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4397", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4396", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4397", "crash", "when", "using", "many", "composing", "characters", "in", "error", "message"]}
{"code_tokens": ["get", "_", "address", "(", "<nl>", "<nl>", "/", "/", "When", "'", "/", "'", "or", "'", "?", "'", "follows", "another", "address", ",", "start", "from", "<nl>", "/", "/", "there", ".", "<nl>", "-", "if", "(", "lnum", "!", "=", "MAXLNUM", ")", "<nl>", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "lnum", ";", "<nl>", "+", "if", "(", "lnum", ">", "0", "&", "&", "lnum", "!", "=", "MAXLNUM", ")", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "<nl>", "+", "lnum", ">", "curbuf", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", "<nl>", "+", "?", "curbuf", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", ":", "lnum", ";", "<nl>", "<nl>", "/", "/", "Start", "a", "forward", "search", "at", "the", "end", "of", "the", "line", "(", "unless", "<nl>", "/", "/", "before", "the", "first", "line", ")", ".", "mmm", "src", "/", "version", ".", "c", "<nl>", "get", "_", "address", "(", "<nl>", "<nl>", "/", "/", "When", "'", "/", "'", "or", "'", "?", "'", "follows", "another", "address", ",", "start", "from", "<nl>", "/", "/", "there", ".", "<nl>", "-", "if", "(", "lnum", "!", "=", "MAXLNUM", ")", "<nl>", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "lnum", ";", "<nl>", "+", "if", "(", "lnum", ">", "0", "&", "&", "lnum", "!", "=", "MAXLNUM", ")", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "<nl>", "+", "lnum", ">", "curbuf", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", "<nl>", "+", "?", "curbuf", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", ":", "lnum", ";", "<nl>", "<nl>", "/", "/", "Start", "a", "forward", "search", "at", "the", "end", "of", "the", "line", "(", "unless", "<nl>", "/", "/", "before", "the", "first", "line", ")", ".", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3489", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3488", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3489", "ml_get", "error", "after", "search", "with", "range"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3428", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3427", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "normal", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3428", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3427", ",", "<nl>", "/", "*", "*", "/", "<nl>", "nv", "_", "replace", "(", "cmdarg", "_", "T", "*", "cap", ")", "<nl>", "{", "<nl>", "/", "*", "<nl>", "*", "Get", "ptr", "again", ",", "because", "u", "_", "save", "and", "/", "or", "showmatch", "(", ")", "will", "have", "<nl>", "-", "*", "released", "the", "line", ".", "At", "the", "same", "time", "we", "let", "know", "that", "the", "<nl>", "-", "*", "line", "will", "be", "changed", ".", "<nl>", "+", "*", "released", "the", "line", ".", "This", "may", "also", "happen", "in", "ins", "_", "copychar", "(", ")", ".", "<nl>", "+", "*", "At", "the", "same", "time", "we", "let", "know", "that", "the", "line", "will", "be", "changed", ".", "<nl>", "*", "/", "<nl>", "-", "ptr", "=", "ml", "_", "get", "_", "buf", "(", "curbuf", ",", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ",", "TRUE", ")", ";", "<nl>", "if", "(", "cap", "-", ">", "nchar", "=", "=", "Ctrl", "_", "E", "|", "|", "cap", "-", ">", "nchar", "=", "=", "Ctrl", "_", "Y", ")", "<nl>", "{", "<nl>", "int", "c", "=", "ins", "_", "copychar", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "<nl>", "+", "(", "cap", "-", ">", "nchar", "=", "=", "Ctrl", "_", "Y", "?", "-", "1", ":", "1", ")", ")", ";", "<nl>", "+", "<nl>", "+", "ptr", "=", "ml", "_", "get", "_", "buf", "(", "curbuf", ",", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ",", "TRUE", ")", ";", "<nl>", "if", "(", "c", "!", "=", "NUL", ")", "<nl>", "ptr", "[", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "]", "=", "c", ";", "<nl>", "}", "<nl>", "else", "<nl>", "+", "{", "<nl>", "+", "ptr", "=", "ml", "_", "get", "_", "buf", "(", "curbuf", ",", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ",", "TRUE", ")", ";", "<nl>", "ptr", "[", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "]", "=", "cap", "-", ">", "nchar", ";", "<nl>", "+", "}", "<nl>", "if", "(", "p", "_", "sm", "&", "&", "msg", "_", "silent", "=", "=", "0", ")", "<nl>", "showmatch", "(", "cap", "-", ">", "nchar", ")", ";", "<nl>", "+", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3428", "using", "freed", "memory", "when", "replacing"]}
{"code_tokens": ["do", "_", "cmdline", "(", "<nl>", "<nl>", "/", "/", "Check", "for", "the", "next", "breakpoint", "at", "or", "after", "the", "\"", ":", "while", "\"", "<nl>", "/", "/", "or", "\"", ":", "for", "\"", ".", "<nl>", "-", "if", "(", "breakpoint", "!", "=", "NULL", ")", "<nl>", "+", "if", "(", "breakpoint", "!", "=", "NULL", "&", "&", "lines", "_", "ga", ".", "ga", "_", "len", ">", "current", "_", "line", ")", "<nl>", "{", "<nl>", "*", "breakpoint", "=", "dbg", "_", "find", "_", "breakpoint", "(", "<nl>", "getline", "_", "equal", "(", "fgetline", ",", "cookie", ",", "getsourceline", ")", ",", "mmm", "src", "/", "version", ".", "c", "<nl>", "do", "_", "cmdline", "(", "<nl>", "<nl>", "/", "/", "Check", "for", "the", "next", "breakpoint", "at", "or", "after", "the", "\"", ":", "while", "\"", "<nl>", "/", "/", "or", "\"", ":", "for", "\"", ".", "<nl>", "-", "if", "(", "breakpoint", "!", "=", "NULL", ")", "<nl>", "+", "if", "(", "breakpoint", "!", "=", "NULL", "&", "&", "lines", "_", "ga", ".", "ga", "_", "len", ">", "current", "_", "line", ")", "<nl>", "{", "<nl>", "*", "breakpoint", "=", "dbg", "_", "find", "_", "breakpoint", "(", "<nl>", "getline", "_", "equal", "(", "fgetline", ",", "cookie", ",", "getsourceline", ")", ",", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "360", ",", "<nl>", "/", "*", "*", "/", "<nl>", "359", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0360", "crash", "when", "invalid", "line", "number", "on", "for", "is", "ignored"]}
{"code_tokens": ["do", "_", "put", "(", "<nl>", "/", "/", "adjust", "'", "]", "mark", "<nl>", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "lnum", "=", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "-", "1", ";", "<nl>", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "bd", ".", "textcol", "+", "totlen", "-", "1", ";", "<nl>", "+", "if", "(", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "<", "0", ")", "<nl>", "+", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "0", ";", "<nl>", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "coladd", "=", "0", ";", "<nl>", "if", "(", "flags", "&", "PUT", "_", "CURSEND", ")", "<nl>", "{", "mmm", "src", "/", "version", ".", "c", "<nl>", "do", "_", "put", "(", "<nl>", "/", "/", "adjust", "'", "]", "mark", "<nl>", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "lnum", "=", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "-", "1", ";", "<nl>", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "bd", ".", "textcol", "+", "totlen", "-", "1", ";", "<nl>", "+", "if", "(", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "<", "0", ")", "<nl>", "+", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "col", "=", "0", ";", "<nl>", "curbuf", "-", ">", "b", "_", "op", "_", "end", ".", "coladd", "=", "0", ";", "<nl>", "if", "(", "flags", "&", "PUT", "_", "CURSEND", ")", "<nl>", "{", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "765", ",", "<nl>", "/", "*", "*", "/", "<nl>", "764", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0765", "with", "a", "Visual", "block", "a", "put", "command", "column", "may", "go", "negative"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "22", ",", "<nl>", "/", "*", "*", "/", "<nl>", "21", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "globals", ".", "h", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "22", ",", "<nl>", "/", "*", "*", "/", "<nl>", "21", ",", "<nl>", "/", "*", "*", "/", "<nl>", "EXTERN", "int", "State", "INIT", "(", "=", "NORMAL", ")", ";", "/", "*", "This", "is", "the", "current", "state", "of", "the", "<nl>", "*", "command", "interpreter", ".", "*", "/", "<nl>", "<nl>", "EXTERN", "int", "finish", "_", "op", "INIT", "(", "=", "FALSE", ")", ";", "/", "*", "TRUE", "while", "an", "operator", "is", "pending", "*", "/", "<nl>", "+", "EXTERN", "int", "opcount", "INIT", "(", "=", "0", ")", ";", "/", "*", "count", "for", "pending", "operator", "*", "/", "<nl>", "<nl>", "/", "*", "<nl>", "*", "ex", "mode", "(", "Q", ")", "statemmm", "src", "/", "normal", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "22", ",", "<nl>", "/", "*", "*", "/", "<nl>", "21", ",", "<nl>", "/", "*", "*", "/", "<nl>", "EXTERN", "int", "State", "INIT", "(", "=", "NORMAL", ")", ";", "/", "*", "This", "is", "the", "current", "state", "of", "the", "<nl>", "*", "command", "interpreter", ".", "*", "/", "<nl>", "<nl>", "EXTERN", "int", "finish", "_", "op", "INIT", "(", "=", "FALSE", ")", ";", "/", "*", "TRUE", "while", "an", "operator", "is", "pending", "*", "/", "<nl>", "+", "EXTERN", "int", "opcount", "INIT", "(", "=", "0", ")", ";", "/", "*", "count", "for", "pending", "operator", "*", "/", "<nl>", "<nl>", "/", "*", "<nl>", "*", "ex", "mode", "(", "Q", ")", "state", "<nl>", "normal", "_", "cmd", "(", "oap", ",", "toplevel", ")", "<nl>", "oparg", "_", "T", "*", "oap", ";", "<nl>", "int", "toplevel", ";", "/", "*", "TRUE", "when", "called", "from", "main", "(", ")", "*", "/", "<nl>", "{", "<nl>", "-", "static", "long", "opcount", "=", "0", ";", "/", "*", "ca", ".", "opcount", "saved", "here", "*", "/", "<nl>", "cmdarg", "_", "T", "ca", ";", "/", "*", "command", "arguments", "*", "/", "<nl>", "int", "c", ";", "<nl>", "int", "ctrl", "_", "w", "=", "FALSE", ";", "/", "*", "got", "CTRL", "-", "W", "command", "*", "/", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "22", ",", "<nl>", "/", "*", "*", "/", "<nl>", "21", ",", "<nl>", "/", "*", "*", "/", "<nl>", "EXTERN", "int", "State", "INIT", "(", "=", "NORMAL", ")", ";", "/", "*", "This", "is", "the", "current", "state", "of", "the", "<nl>", "*", "command", "interpreter", ".", "*", "/", "<nl>", "<nl>", "EXTERN", "int", "finish", "_", "op", "INIT", "(", "=", "FALSE", ")", ";", "/", "*", "TRUE", "while", "an", "operator", "is", "pending", "*", "/", "<nl>", "+", "EXTERN", "int", "opcount", "INIT", "(", "=", "0", ")", ";", "/", "*", "count", "for", "pending", "operator", "*", "/", "<nl>", "<nl>", "/", "*", "<nl>", "*", "ex", "mode", "(", "Q", ")", "state", "<nl>", "normal", "_", "cmd", "(", "oap", ",", "toplevel", ")", "<nl>", "oparg", "_", "T", "*", "oap", ";", "<nl>", "int", "toplevel", ";", "/", "*", "TRUE", "when", "called", "from", "main", "(", ")", "*", "/", "<nl>", "{", "<nl>", "-", "static", "long", "opcount", "=", "0", ";", "/", "*", "ca", ".", "opcount", "saved", "here", "*", "/", "<nl>", "cmdarg", "_", "T", "ca", ";", "/", "*", "command", "arguments", "*", "/", "<nl>", "int", "c", ";", "<nl>", "int", "ctrl", "_", "w", "=", "FALSE", ";", "/", "*", "got", "CTRL", "-", "W", "command", "*", "/", "<nl>", "ex", "_", "normal", "(", "eap", ")", "<nl>", "tasave", "_", "T", "tabuf", ";", "<nl>", "int", "save", "_", "insertmode", "=", "p", "_", "im", ";", "<nl>", "int", "save", "_", "finish", "_", "op", "=", "finish", "_", "op", ";", "<nl>", "+", "int", "save", "_", "opcount", "=", "opcount", ";", "<nl>", "#", "ifdef", "FEAT", "_", "MBYTE", "<nl>", "char", "_", "u", "*", "arg", "=", "NULL", ";", "<nl>", "int", "l", ";", "<nl>", "ex", "_", "normal", "(", "eap", ")", "<nl>", "restart", "_", "edit", "=", "save", "_", "restart", "_", "edit", ";", "<nl>", "p", "_", "im", "=", "save", "_", "insertmode", ";", "<nl>", "finish", "_", "op", "=", "save", "_", "finish", "_", "op", ";", "<nl>", "+", "opcount", "=", "save", "_", "opcount", ";", "<nl>", "msg", "_", "didout", "|", "=", "save", "_", "msg", "_", "didout", ";", "/", "*", "don", "'", "t", "reset", "msg", "_", "didout", "now", "*", "/", "<nl>", "<nl>", "/", "*", "Restore", "the", "state", "(", "needed", "when", "called", "from", "a", "function", "executed", "for", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "2b", "022"]}
{"code_tokens": ["get", "_", "visual", "_", "text", "(", "<nl>", "}", "<nl>", "if", "(", "*", "*", "pp", "=", "=", "NUL", ")", "<nl>", "*", "lenp", "=", "0", ";", "<nl>", "-", "if", "(", "has", "_", "mbyte", "&", "&", "*", "lenp", ">", "0", ")", "<nl>", "-", "/", "/", "Correct", "the", "length", "to", "include", "all", "bytes", "of", "the", "last", "character", ".", "<nl>", "-", "*", "lenp", "+", "=", "(", "*", "mb", "_", "ptr2len", ")", "(", "*", "pp", "+", "(", "*", "lenp", "-", "1", ")", ")", "-", "1", ";", "<nl>", "+", "if", "(", "*", "lenp", ">", "0", ")", "<nl>", "+", "{", "<nl>", "+", "if", "(", "has", "_", "mbyte", ")", "<nl>", "+", "/", "/", "Correct", "the", "length", "to", "include", "all", "bytes", "of", "the", "last", "<nl>", "+", "/", "/", "character", ".", "<nl>", "+", "*", "lenp", "+", "=", "(", "*", "mb", "_", "ptr2len", ")", "(", "*", "pp", "+", "(", "*", "lenp", "-", "1", ")", ")", "-", "1", ";", "<nl>", "+", "else", "if", "(", "(", "*", "pp", ")", "[", "*", "lenp", "-", "1", "]", "=", "=", "NUL", ")", "<nl>", "+", "/", "/", "Do", "not", "include", "a", "trailing", "NUL", ".", "<nl>", "+", "*", "lenp", "-", "=", "1", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "reset", "_", "VIsual", "_", "and", "_", "resel", "(", ")", ";", "<nl>", "return", "OK", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "get", "_", "visual", "_", "text", "(", "<nl>", "}", "<nl>", "if", "(", "*", "*", "pp", "=", "=", "NUL", ")", "<nl>", "*", "lenp", "=", "0", ";", "<nl>", "-", "if", "(", "has", "_", "mbyte", "&", "&", "*", "lenp", ">", "0", ")", "<nl>", "-", "/", "/", "Correct", "the", "length", "to", "include", "all", "bytes", "of", "the", "last", "character", ".", "<nl>", "-", "*", "lenp", "+", "=", "(", "*", "mb", "_", "ptr2len", ")", "(", "*", "pp", "+", "(", "*", "lenp", "-", "1", ")", ")", "-", "1", ";", "<nl>", "+", "if", "(", "*", "lenp", ">", "0", ")", "<nl>", "+", "{", "<nl>", "+", "if", "(", "has", "_", "mbyte", ")", "<nl>", "+", "/", "/", "Correct", "the", "length", "to", "include", "all", "bytes", "of", "the", "last", "<nl>", "+", "/", "/", "character", ".", "<nl>", "+", "*", "lenp", "+", "=", "(", "*", "mb", "_", "ptr2len", ")", "(", "*", "pp", "+", "(", "*", "lenp", "-", "1", ")", ")", "-", "1", ";", "<nl>", "+", "else", "if", "(", "(", "*", "pp", ")", "[", "*", "lenp", "-", "1", "]", "=", "=", "NUL", ")", "<nl>", "+", "/", "/", "Do", "not", "include", "a", "trailing", "NUL", ".", "<nl>", "+", "*", "lenp", "-", "=", "1", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "reset", "_", "VIsual", "_", "and", "_", "resel", "(", ")", ";", "<nl>", "return", "OK", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4956", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4955", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4956", "reading", "past", "end", "of", "line", "with", "gf", "in", "Visual", "block", "mode"]}
{"code_tokens": ["spell", "_", "read", "_", "tree", "(", "<nl>", "len", "=", "get4c", "(", "fd", ")", ";", "<nl>", "if", "(", "len", "<", "0", ")", "<nl>", "return", "SP", "_", "TRUNCERROR", ";", "<nl>", "+", "if", "(", "len", ">", "=", "0x3ffffff", ")", "<nl>", "+", "/", "*", "Invalid", "length", ",", "multiply", "with", "sizeof", "(", "int", ")", "would", "overflow", ".", "*", "/", "<nl>", "+", "return", "SP", "_", "FORMERROR", ";", "<nl>", "if", "(", "len", ">", "0", ")", "<nl>", "{", "<nl>", "/", "*", "Allocate", "the", "byte", "array", ".", "*", "/", "mmm", "src", "/", "version", ".", "c", "<nl>", "spell", "_", "read", "_", "tree", "(", "<nl>", "len", "=", "get4c", "(", "fd", ")", ";", "<nl>", "if", "(", "len", "<", "0", ")", "<nl>", "return", "SP", "_", "TRUNCERROR", ";", "<nl>", "+", "if", "(", "len", ">", "=", "0x3ffffff", ")", "<nl>", "+", "/", "*", "Invalid", "length", ",", "multiply", "with", "sizeof", "(", "int", ")", "would", "overflow", ".", "*", "/", "<nl>", "+", "return", "SP", "_", "FORMERROR", ";", "<nl>", "if", "(", "len", ">", "0", ")", "<nl>", "{", "<nl>", "/", "*", "Allocate", "the", "byte", "array", ".", "*", "/", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "322", ",", "<nl>", "/", "*", "*", "/", "<nl>", "321", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "0", "0322", "possible", "overflow", "with", "corrupted", "spell", "file"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1145", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1144", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "eval", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1145", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1144", ",", "<nl>", "/", "*", "*", "/", "<nl>", "do", "_", "string", "_", "sub", "(", "<nl>", "*", "-", "The", "text", "after", "the", "match", ".", "<nl>", "*", "/", "<nl>", "sublen", "=", "vim", "_", "regsub", "(", "&", "regmatch", ",", "sub", ",", "expr", ",", "tail", ",", "0", ",", "REGSUB", "_", "MAGIC", ")", ";", "<nl>", "+", "if", "(", "sublen", "<", "=", "0", ")", "<nl>", "+", "{", "<nl>", "+", "ga", "_", "clear", "(", "&", "ga", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "if", "(", "ga", "_", "grow", "(", "&", "ga", ",", "(", "int", ")", "(", "(", "end", "-", "tail", ")", "+", "sublen", "-", "<nl>", "(", "regmatch", ".", "endp", "[", "0", "]", "-", "regmatch", ".", "startp", "[", "0", "]", ")", ")", ")", "=", "=", "FAIL", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1145", "invalid", "memory", "access", "with", "recursive", "substitute", "expression"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "17", ",", "<nl>", "/", "*", "*", "/", "<nl>", "16", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "window", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "17", ",", "<nl>", "/", "*", "*", "/", "<nl>", "16", ",", "<nl>", "/", "*", "*", "/", "<nl>", "win", "_", "close", "(", "win", "_", "T", "*", "win", ",", "int", "free", "_", "buf", ")", "<nl>", "*", "/", "<nl>", "if", "(", "wp", "-", ">", "w", "_", "buffer", "!", "=", "curbuf", ")", "<nl>", "{", "<nl>", "+", "reset", "_", "VIsual", "_", "and", "_", "resel", "(", ")", ";", "/", "/", "stop", "Visual", "mode", "<nl>", "+", "<nl>", "other", "_", "buffer", "=", "TRUE", ";", "<nl>", "win", "-", ">", "w", "_", "closing", "=", "TRUE", ";", "<nl>", "apply", "_", "autocmds", "(", "EVENT", "_", "BUFLEAVE", ",", "NULL", ",", "NULL", ",", "FALSE", ",", "curbuf", ")", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0017", "accessing", "memory", "beyond", "the", "end", "of", "the", "line"]}
{"code_tokens": ["u", "_", "read", "_", "undo", "(", "char", "_", "u", "*", "name", ",", "char", "_", "u", "*", "hash", ",", "char", "_", "u", "*", "orig", "_", "name", ")", "<nl>", "linenr", "_", "T", "line", "_", "lnum", ";", "<nl>", "colnr", "_", "T", "line", "_", "colnr", ";", "<nl>", "linenr", "_", "T", "line", "_", "count", ";", "<nl>", "-", "int", "num", "_", "head", "=", "0", ";", "<nl>", "+", "long", "num", "_", "head", "=", "0", ";", "<nl>", "long", "old", "_", "header", "_", "seq", ",", "new", "_", "header", "_", "seq", ",", "cur", "_", "header", "_", "seq", ";", "<nl>", "long", "seq", "_", "last", ",", "seq", "_", "cur", ";", "<nl>", "long", "last", "_", "save", "_", "nr", "=", "0", ";", "<nl>", "u", "_", "read", "_", "undo", "(", "char", "_", "u", "*", "name", ",", "char", "_", "u", "*", "hash", ",", "char", "_", "u", "*", "orig", "_", "name", ")", "<nl>", "*", "When", "there", "are", "no", "headers", "uhp", "_", "table", "is", "NULL", ".", "*", "/", "<nl>", "if", "(", "num", "_", "head", ">", "0", ")", "<nl>", "{", "<nl>", "-", "uhp", "_", "table", "=", "(", "u", "_", "header", "_", "T", "*", "*", ")", "U", "_", "ALLOC", "_", "LINE", "(", "<nl>", "+", "if", "(", "num", "_", "head", "<", "LONG", "_", "MAX", "/", "(", "long", ")", "sizeof", "(", "u", "_", "header", "_", "T", "*", ")", ")", "<nl>", "+", "uhp", "_", "table", "=", "(", "u", "_", "header", "_", "T", "*", "*", ")", "U", "_", "ALLOC", "_", "LINE", "(", "<nl>", "num", "_", "head", "*", "sizeof", "(", "u", "_", "header", "_", "T", "*", ")", ")", ";", "<nl>", "if", "(", "uhp", "_", "table", "=", "=", "NULL", ")", "<nl>", "goto", "error", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "u", "_", "read", "_", "undo", "(", "char", "_", "u", "*", "name", ",", "char", "_", "u", "*", "hash", ",", "char", "_", "u", "*", "orig", "_", "name", ")", "<nl>", "linenr", "_", "T", "line", "_", "lnum", ";", "<nl>", "colnr", "_", "T", "line", "_", "colnr", ";", "<nl>", "linenr", "_", "T", "line", "_", "count", ";", "<nl>", "-", "int", "num", "_", "head", "=", "0", ";", "<nl>", "+", "long", "num", "_", "head", "=", "0", ";", "<nl>", "long", "old", "_", "header", "_", "seq", ",", "new", "_", "header", "_", "seq", ",", "cur", "_", "header", "_", "seq", ";", "<nl>", "long", "seq", "_", "last", ",", "seq", "_", "cur", ";", "<nl>", "long", "last", "_", "save", "_", "nr", "=", "0", ";", "<nl>", "u", "_", "read", "_", "undo", "(", "char", "_", "u", "*", "name", ",", "char", "_", "u", "*", "hash", ",", "char", "_", "u", "*", "orig", "_", "name", ")", "<nl>", "*", "When", "there", "are", "no", "headers", "uhp", "_", "table", "is", "NULL", ".", "*", "/", "<nl>", "if", "(", "num", "_", "head", ">", "0", ")", "<nl>", "{", "<nl>", "-", "uhp", "_", "table", "=", "(", "u", "_", "header", "_", "T", "*", "*", ")", "U", "_", "ALLOC", "_", "LINE", "(", "<nl>", "+", "if", "(", "num", "_", "head", "<", "LONG", "_", "MAX", "/", "(", "long", ")", "sizeof", "(", "u", "_", "header", "_", "T", "*", ")", ")", "<nl>", "+", "uhp", "_", "table", "=", "(", "u", "_", "header", "_", "T", "*", "*", ")", "U", "_", "ALLOC", "_", "LINE", "(", "<nl>", "num", "_", "head", "*", "sizeof", "(", "u", "_", "header", "_", "T", "*", ")", ")", ";", "<nl>", "if", "(", "uhp", "_", "table", "=", "=", "NULL", ")", "<nl>", "goto", "error", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "377", ",", "<nl>", "/", "*", "*", "/", "<nl>", "376", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "0", "0377", "possible", "overflow", "when", "reading", "corrupted", "undo", "file"]}
{"code_tokens": ["regmatch", "(", "scan", ")", "<nl>", "*", "/", "<nl>", "for", "(", ";", ";", ")", "<nl>", "{", "<nl>", "-", "/", "*", "Some", "patterns", "may", "cause", "a", "long", "time", "to", "match", ",", "even", "though", "they", "are", "not", "<nl>", "-", "*", "illegal", ".", "E", ".", "g", ".", ",", "\"", "\\", "(", "[", "a", "-", "z", "]", "\\", "+", "\\", ")", "\\", "+", "Q", "\"", ".", "Allow", "breaking", "them", "with", "CTRL", "-", "C", ".", "*", "/", "<nl>", "+", "/", "*", "Some", "patterns", "may", "take", "a", "long", "time", "to", "match", ",", "e", ".", "g", ".", ",", "\"", "\\", "(", "[", "a", "-", "z", "]", "\\", "+", "\\", ")", "\\", "+", "Q", "\"", ".", "<nl>", "+", "*", "Allow", "interrupting", "them", "with", "CTRL", "-", "C", ".", "*", "/", "<nl>", "fast", "_", "breakcheck", "(", ")", ";", "<nl>", "<nl>", "#", "ifdef", "DEBUGmmm", "src", "/", "version", ".", "c", "<nl>", "regmatch", "(", "scan", ")", "<nl>", "*", "/", "<nl>", "for", "(", ";", ";", ")", "<nl>", "{", "<nl>", "-", "/", "*", "Some", "patterns", "may", "cause", "a", "long", "time", "to", "match", ",", "even", "though", "they", "are", "not", "<nl>", "-", "*", "illegal", ".", "E", ".", "g", ".", ",", "\"", "\\", "(", "[", "a", "-", "z", "]", "\\", "+", "\\", ")", "\\", "+", "Q", "\"", ".", "Allow", "breaking", "them", "with", "CTRL", "-", "C", ".", "*", "/", "<nl>", "+", "/", "*", "Some", "patterns", "may", "take", "a", "long", "time", "to", "match", ",", "e", ".", "g", ".", ",", "\"", "\\", "(", "[", "a", "-", "z", "]", "\\", "+", "\\", ")", "\\", "+", "Q", "\"", ".", "<nl>", "+", "*", "Allow", "interrupting", "them", "with", "CTRL", "-", "C", ".", "*", "/", "<nl>", "fast", "_", "breakcheck", "(", ")", ";", "<nl>", "<nl>", "#", "ifdef", "DEBUG", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "8", ",", "<nl>", "/", "*", "*", "/", "<nl>", "7", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "regexp", "_", "nfa", ".", "c", "<nl>", "regmatch", "(", "scan", ")", "<nl>", "*", "/", "<nl>", "for", "(", ";", ";", ")", "<nl>", "{", "<nl>", "-", "/", "*", "Some", "patterns", "may", "cause", "a", "long", "time", "to", "match", ",", "even", "though", "they", "are", "not", "<nl>", "-", "*", "illegal", ".", "E", ".", "g", ".", ",", "\"", "\\", "(", "[", "a", "-", "z", "]", "\\", "+", "\\", ")", "\\", "+", "Q", "\"", ".", "Allow", "breaking", "them", "with", "CTRL", "-", "C", ".", "*", "/", "<nl>", "+", "/", "*", "Some", "patterns", "may", "take", "a", "long", "time", "to", "match", ",", "e", ".", "g", ".", ",", "\"", "\\", "(", "[", "a", "-", "z", "]", "\\", "+", "\\", ")", "\\", "+", "Q", "\"", ".", "<nl>", "+", "*", "Allow", "interrupting", "them", "with", "CTRL", "-", "C", ".", "*", "/", "<nl>", "fast", "_", "breakcheck", "(", ")", ";", "<nl>", "<nl>", "#", "ifdef", "DEBUG", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "8", ",", "<nl>", "/", "*", "*", "/", "<nl>", "7", ",", "<nl>", "/", "*", "*", "/", "<nl>", "nfa", "_", "regmatch", "(", "prog", ",", "start", ",", "submatch", ",", "m", ")", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "+", "/", "*", "Some", "patterns", "may", "take", "a", "long", "time", "to", "match", ",", "especially", "when", "using", "<nl>", "+", "*", "recursive", "_", "regmatch", "(", ")", ".", "Allow", "interrupting", "them", "with", "CTRL", "-", "C", ".", "*", "/", "<nl>", "+", "fast", "_", "breakcheck", "(", ")", ";", "<nl>", "+", "if", "(", "got", "_", "int", ")", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "<nl>", "nfa", "_", "match", "=", "FALSE", ";", "<nl>", "<nl>", "/", "*", "Allocate", "memory", "for", "the", "lists", "of", "nodes", ".", "*", "/", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "4", "008"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5063", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5062", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5063", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5062", ",", "<nl>", "/", "*", "*", "/", "<nl>", "theend", ":", "<nl>", "static", "void", "<nl>", "append", "_", "command", "(", "char", "_", "u", "*", "cmd", ")", "<nl>", "{", "<nl>", "-", "char", "_", "u", "*", "s", "=", "cmd", ";", "<nl>", "-", "char", "_", "u", "*", "d", ";", "<nl>", "+", "size", "_", "t", "len", "=", "STRLEN", "(", "IObuff", ")", ";", "<nl>", "+", "char", "_", "u", "*", "s", "=", "cmd", ";", "<nl>", "+", "char", "_", "u", "*", "d", ";", "<nl>", "<nl>", "+", "if", "(", "len", ">", "IOSIZE", "-", "100", ")", "<nl>", "+", "{", "<nl>", "+", "/", "/", "Not", "enough", "space", ",", "truncate", "and", "put", "in", "\"", ".", ".", ".", "\"", ".", "<nl>", "+", "d", "=", "IObuff", "+", "IOSIZE", "-", "100", ";", "<nl>", "+", "d", "-", "=", "mb", "_", "head", "_", "off", "(", "IObuff", ",", "d", ")", ";", "<nl>", "+", "STRCPY", "(", "d", ",", "\"", ".", ".", ".", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "STRCAT", "(", "IObuff", ",", "\"", ":", "\"", ")", ";", "<nl>", "d", "=", "IObuff", "+", "STRLEN", "(", "IObuff", ")", ";", "<nl>", "while", "(", "*", "s", "!", "=", "NUL", "&", "&", "d", "-", "IObuff", "+", "5", "<", "IOSIZE", ")", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5063", "error", "for", "a", "command", "may", "go", "over", "the", "end", "of", "IObuff"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4219", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4218", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "register", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4219", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4218", ",", "<nl>", "/", "*", "*", "/", "<nl>", "yank", "_", "copy", "_", "line", "(", "struct", "block", "_", "def", "*", "bd", ",", "long", "y", "_", "idx", ",", "int", "exclude", "_", "trailing", "_", "space", ")", "<nl>", "{", "<nl>", "int", "s", "=", "bd", "-", ">", "textlen", "+", "bd", "-", ">", "endspaces", ";", "<nl>", "<nl>", "-", "while", "(", "VIM", "_", "ISWHITE", "(", "*", "(", "bd", "-", ">", "textstart", "+", "s", "-", "1", ")", ")", "&", "&", "s", ">", "0", ")", "<nl>", "+", "while", "(", "s", ">", "0", "&", "&", "VIM", "_", "ISWHITE", "(", "*", "(", "bd", "-", ">", "textstart", "+", "s", "-", "1", ")", ")", ")", "<nl>", "{", "<nl>", "s", "=", "s", "-", "(", "*", "mb", "_", "head", "_", "off", ")", "(", "bd", "-", ">", "textstart", ",", "bd", "-", ">", "textstart", "+", "s", "-", "1", ")", "-", "1", ";", "<nl>", "pnew", "-", "-", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4219", "reading", "before", "the", "start", "of", "the", "line"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "209", ",", "<nl>", "/", "*", "*", "/", "<nl>", "208", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "if", "_", "python", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "209", ",", "<nl>", "/", "*", "*", "/", "<nl>", "208", ",", "<nl>", "/", "*", "*", "/", "<nl>", "py", "_", "fix", "_", "cursor", "(", "int", "lo", ",", "int", "hi", ",", "int", "extra", ")", "<nl>", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "lo", ";", "<nl>", "check", "_", "cursor", "(", ")", ";", "<nl>", "}", "<nl>", "+", "else", "<nl>", "+", "check", "_", "cursor", "_", "col", "(", ")", ";", "<nl>", "changed", "_", "cline", "_", "bef", "_", "curs", "(", ")", ";", "<nl>", "}", "<nl>", "invalidate", "_", "botline", "(", ")", ";", "<nl>", "SetBufferLine", "(", "buf", "_", "T", "*", "buf", ",", "int", "n", ",", "PyObject", "*", "line", ",", "int", "*", "len", "_", "change", ")", "<nl>", "<nl>", "curbuf", "=", "savebuf", ";", "<nl>", "<nl>", "+", "/", "*", "Check", "that", "the", "cursor", "is", "not", "beyond", "the", "end", "of", "the", "line", "now", ".", "*", "/", "<nl>", "+", "if", "(", "buf", "=", "=", "curwin", "-", ">", "w", "_", "buffer", ")", "<nl>", "+", "check", "_", "cursor", "_", "col", "(", ")", ";", "<nl>", "+", "<nl>", "if", "(", "PyErr", "_", "Occurred", "(", ")", "|", "|", "VimErrorCheck", "(", ")", ")", "<nl>", "return", "FAIL", ";", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "0", "209"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "946", ",", "<nl>", "/", "*", "*", "/", "<nl>", "945", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "term", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "946", ",", "<nl>", "/", "*", "*", "/", "<nl>", "945", ",", "<nl>", "/", "*", "*", "/", "<nl>", "check", "_", "termcode", "(", "max", "_", "offset", ",", "buf", ",", "bufsize", ",", "buflen", ")", "<nl>", "*", "The", "final", "byte", "is", "'", "R", "'", ".", "now", "it", "is", "only", "used", "for", "checking", "for", "<nl>", "*", "ambiguous", "-", "width", "character", "state", ".", "<nl>", "*", "/", "<nl>", "+", "p", "=", "tp", "[", "0", "]", "=", "=", "CSI", "?", "tp", "+", "1", ":", "tp", "+", "2", ";", "<nl>", "if", "(", "(", "*", "T", "_", "CRV", "!", "=", "NUL", "|", "|", "*", "T", "_", "U7", "!", "=", "NUL", ")", "<nl>", "&", "&", "(", "(", "tp", "[", "0", "]", "=", "=", "ESC", "&", "&", "tp", "[", "1", "]", "=", "=", "'", "[", "'", "&", "&", "len", ">", "=", "3", ")", "<nl>", "-", "|", "|", "(", "tp", "[", "0", "]", "=", "=", "CSI", "&", "&", "len", ">", "=", "2", ")", ")", ")", "<nl>", "+", "|", "|", "(", "tp", "[", "0", "]", "=", "=", "CSI", "&", "&", "len", ">", "=", "2", ")", ")", "<nl>", "+", "&", "&", "(", "VIM", "_", "ISDIGIT", "(", "*", "p", ")", "|", "|", "*", "p", "=", "=", "'", ">", "'", "|", "|", "*", "p", "=", "=", "'", "?", "'", ")", ")", "<nl>", "{", "<nl>", "j", "=", "0", ";", "<nl>", "extra", "=", "0", ";", "<nl>", "check", "_", "termcode", "(", "max", "_", "offset", ",", "buf", ",", "bufsize", ",", "buflen", ")", "<nl>", "&", "&", "!", "(", "tp", "[", "i", "]", ">", "=", "'", "{", "'", "&", "&", "tp", "[", "i", "]", "<", "=", "'", "~", "'", ")", "<nl>", "&", "&", "!", "ASCII", "_", "ISALPHA", "(", "tp", "[", "i", "]", ")", ";", "+", "+", "i", ")", "<nl>", "if", "(", "tp", "[", "i", "]", "=", "=", "'", ";", "'", "&", "&", "+", "+", "j", "=", "=", "1", ")", "<nl>", "-", "extra", "=", "atoi", "(", "(", "char", "*", ")", "tp", "+", "i", "+", "1", ")", ";", "<nl>", "+", "extra", "=", "i", "+", "1", ";", "<nl>", "if", "(", "i", "=", "=", "len", ")", "<nl>", "return", "-", "1", ";", "/", "*", "not", "enough", "characters", "*", "/", "<nl>", "<nl>", "check", "_", "termcode", "(", "max", "_", "offset", ",", "buf", ",", "bufsize", ",", "buflen", ")", "<nl>", "#", "ifdef", "FEAT", "_", "AUTOCMD", "<nl>", "did", "_", "cursorhold", "=", "TRUE", ";", "<nl>", "#", "endif", "<nl>", "+", "if", "(", "extra", ">", "0", ")", "<nl>", "+", "extra", "=", "atoi", "(", "(", "char", "*", ")", "tp", "+", "extra", ")", ";", "<nl>", "if", "(", "extra", "=", "=", "2", ")", "<nl>", "aw", "=", "\"", "single", "\"", ";", "<nl>", "else", "if", "(", "extra", "=", "=", "3", ")", "<nl>", "check", "_", "termcode", "(", "max", "_", "offset", ",", "buf", ",", "bufsize", ",", "buflen", ")", "<nl>", "/", "*", "rxvt", "sends", "its", "version", "number", ":", "\"", "20703", "\"", "is", "2", ".", "7", ".", "3", ".", "<nl>", "*", "Ignore", "it", "for", "when", "the", "user", "has", "set", "'", "term", "'", "to", "xterm", ",", "<nl>", "*", "even", "though", "it", "'", "s", "an", "rxvt", ".", "*", "/", "<nl>", "+", "if", "(", "extra", ">", "0", ")", "<nl>", "+", "extra", "=", "atoi", "(", "(", "char", "*", ")", "tp", "+", "extra", ")", ";", "<nl>", "if", "(", "extra", ">", "20000", ")", "<nl>", "extra", "=", "0", ";", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "3", "946"]}
{"code_tokens": ["get", "_", "one", "_", "sourceline", "(", "source", "_", "cookie", "_", "T", "*", "sp", ")", "<nl>", "break", ";", "<nl>", "buf", "=", "(", "char", "_", "u", "*", ")", "ga", ".", "ga", "_", "data", ";", "<nl>", "buf", "[", "ga", ".", "ga", "_", "len", "+", "+", "]", "=", "NUL", ";", "<nl>", "+", "len", "=", "ga", ".", "ga", "_", "len", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "get", "_", "one", "_", "sourceline", "(", "source", "_", "cookie", "_", "T", "*", "sp", ")", "<nl>", "if", "(", "fgets", "(", "(", "char", "*", ")", "buf", "+", "ga", ".", "ga", "_", "len", ",", "ga", ".", "ga", "_", "maxlen", "-", "ga", ".", "ga", "_", "len", ",", "<nl>", "sp", "-", ">", "fp", ")", "=", "=", "NULL", ")", "<nl>", "break", ";", "<nl>", "+", "len", "=", "ga", ".", "ga", "_", "len", "+", "(", "int", ")", "STRLEN", "(", "buf", "+", "ga", ".", "ga", "_", "len", ")", ";", "<nl>", "}", "<nl>", "-", "len", "=", "ga", ".", "ga", "_", "len", "+", "(", "int", ")", "STRLEN", "(", "buf", "+", "ga", ".", "ga", "_", "len", ")", ";", "<nl>", "#", "ifdef", "USE", "_", "CRNL", "<nl>", "/", "/", "Ignore", "a", "trailing", "CTRL", "-", "Z", ",", "when", "in", "Dos", "mode", ".", "Only", "recognize", "the", "<nl>", "/", "/", "CTRL", "-", "Z", "by", "its", "own", ",", "or", "after", "a", "NL", ".", "mmm", "src", "/", "version", ".", "c", "<nl>", "get", "_", "one", "_", "sourceline", "(", "source", "_", "cookie", "_", "T", "*", "sp", ")", "<nl>", "break", ";", "<nl>", "buf", "=", "(", "char", "_", "u", "*", ")", "ga", ".", "ga", "_", "data", ";", "<nl>", "buf", "[", "ga", ".", "ga", "_", "len", "+", "+", "]", "=", "NUL", ";", "<nl>", "+", "len", "=", "ga", ".", "ga", "_", "len", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "get", "_", "one", "_", "sourceline", "(", "source", "_", "cookie", "_", "T", "*", "sp", ")", "<nl>", "if", "(", "fgets", "(", "(", "char", "*", ")", "buf", "+", "ga", ".", "ga", "_", "len", ",", "ga", ".", "ga", "_", "maxlen", "-", "ga", ".", "ga", "_", "len", ",", "<nl>", "sp", "-", ">", "fp", ")", "=", "=", "NULL", ")", "<nl>", "break", ";", "<nl>", "+", "len", "=", "ga", ".", "ga", "_", "len", "+", "(", "int", ")", "STRLEN", "(", "buf", "+", "ga", ".", "ga", "_", "len", ")", ";", "<nl>", "}", "<nl>", "-", "len", "=", "ga", ".", "ga", "_", "len", "+", "(", "int", ")", "STRLEN", "(", "buf", "+", "ga", ".", "ga", "_", "len", ")", ";", "<nl>", "#", "ifdef", "USE", "_", "CRNL", "<nl>", "/", "/", "Ignore", "a", "trailing", "CTRL", "-", "Z", ",", "when", "in", "Dos", "mode", ".", "Only", "recognize", "the", "<nl>", "/", "/", "CTRL", "-", "Z", "by", "its", "own", ",", "or", "after", "a", "NL", ".", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4974", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4973", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4974", "so", "command", "may", "read", "after", "end", "of", "buffer"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3923", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3922", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "userfunc", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3923", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3922", ",", "<nl>", "/", "*", "*", "/", "<nl>", "get", "_", "function", "_", "args", "(", "<nl>", "if", "(", "theline", "=", "=", "NULL", ")", "<nl>", "break", ";", "<nl>", "vim", "_", "free", "(", "*", "line", "_", "to", "_", "free", ")", ";", "<nl>", "+", "if", "(", "*", "eap", "-", ">", "cmdlinep", "=", "=", "*", "line", "_", "to", "_", "free", ")", "<nl>", "+", "*", "eap", "-", ">", "cmdlinep", "=", "theline", ";", "<nl>", "*", "line", "_", "to", "_", "free", "=", "theline", ";", "<nl>", "whitep", "=", "(", "char", "_", "u", "*", ")", "\"", "\"", ";", "<nl>", "p", "=", "skipwhite", "(", "theline", ")", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3923", "Vim9", "double", "free", "with", "split", "argument", "list", "in", "nested", "function"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3949", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3948", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "regexp", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3949", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3948", ",", "<nl>", "/", "*", "*", "/", "<nl>", "reg", "_", "match", "_", "visual", "(", "void", ")", "<nl>", "if", "(", "lnum", "<", "top", ".", "lnum", "|", "|", "lnum", ">", "bot", ".", "lnum", ")", "<nl>", "return", "FALSE", ";", "<nl>", "<nl>", "+", "col", "=", "(", "colnr", "_", "T", ")", "(", "rex", ".", "input", "-", "rex", ".", "line", ")", ";", "<nl>", "if", "(", "mode", "=", "=", "'", "v", "'", ")", "<nl>", "{", "<nl>", "-", "col", "=", "(", "colnr", "_", "T", ")", "(", "rex", ".", "input", "-", "rex", ".", "line", ")", ";", "<nl>", "if", "(", "(", "lnum", "=", "=", "top", ".", "lnum", "&", "&", "col", "<", "top", ".", "col", ")", "<nl>", "|", "|", "(", "lnum", "=", "=", "bot", ".", "lnum", "&", "&", "col", ">", "=", "bot", ".", "col", "+", "(", "*", "p", "_", "sel", "!", "=", "'", "e", "'", ")", ")", ")", "<nl>", "return", "FALSE", ";", "<nl>", "reg", "_", "match", "_", "visual", "(", "void", ")", "<nl>", "end", "=", "end2", ";", "<nl>", "if", "(", "top", ".", "col", "=", "=", "MAXCOL", "|", "|", "bot", ".", "col", "=", "=", "MAXCOL", "|", "|", "curswant", "=", "=", "MAXCOL", ")", "<nl>", "end", "=", "MAXCOL", ";", "<nl>", "-", "cols", "=", "win", "_", "linetabsize", "(", "wp", ",", "rex", ".", "line", ",", "(", "colnr", "_", "T", ")", "(", "rex", ".", "input", "-", "rex", ".", "line", ")", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "getvvcol", "(", ")", "flushes", "rex", ".", "line", ",", "need", "to", "get", "it", "again", "<nl>", "+", "rex", ".", "line", "=", "reg", "_", "getline", "(", "rex", ".", "lnum", ")", ";", "<nl>", "+", "rex", ".", "input", "=", "rex", ".", "line", "+", "col", ";", "<nl>", "+", "<nl>", "+", "cols", "=", "win", "_", "linetabsize", "(", "wp", ",", "rex", ".", "line", ",", "col", ")", ";", "<nl>", "if", "(", "cols", "<", "start", "|", "|", "cols", ">", "end", "-", "(", "*", "p", "_", "sel", "=", "=", "'", "e", "'", ")", ")", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3949", "using", "freed", "memory", "with", "V"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "352", ",", "<nl>", "/", "*", "*", "/", "<nl>", "351", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "gui", "_", "w48", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "352", ",", "<nl>", "/", "*", "*", "/", "<nl>", "351", ",", "<nl>", "/", "*", "*", "/", "<nl>", "_", "TextAreaWndProc", "(", "<nl>", "case", "WM", "_", "NOTIFY", ":", "Handle", "_", "WM", "_", "Notify", "(", "hwnd", ",", "(", "LPNMHDR", ")", "lParam", ")", ";", "<nl>", "return", "TRUE", ";", "<nl>", "#", "endif", "<nl>", "+", "/", "*", "Workaround", "for", "the", "problem", "that", "MyWindowProc", "(", ")", "returns", "FALSE", "on", "64", "<nl>", "+", "*", "bit", "windows", "when", "cross", "-", "compiled", "using", "Mingw", "libraries", ".", "(", "Andy", "<nl>", "+", "*", "Kittner", ")", "*", "/", "<nl>", "+", "case", "WM", "_", "NCCREATE", ":", "<nl>", "+", "MyWindowProc", "(", "hwnd", ",", "uMsg", ",", "wParam", ",", "lParam", ")", ";", "<nl>", "+", "return", "TRUE", ";", "<nl>", "<nl>", "-", "default", ":", "<nl>", "-", "return", "MyWindowProc", "(", "hwnd", ",", "uMsg", ",", "wParam", ",", "lParam", ")", ";", "<nl>", "+", "default", ":", "<nl>", "+", "return", "MyWindowProc", "(", "hwnd", ",", "uMsg", ",", "wParam", ",", "lParam", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "2", "352"]}
{"code_tokens": ["diff", "_", "mark", "_", "adjust", "_", "tp", "(", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "DB", "_", "COUNT", ";", "+", "+", "i", ")", "<nl>", "if", "(", "tp", "-", ">", "tp", "_", "diffbuf", "[", "i", "]", "!", "=", "NULL", "&", "&", "i", "!", "=", "idx", ")", "<nl>", "{", "<nl>", "-", "dp", "-", ">", "df", "_", "lnum", "[", "i", "]", "-", "=", "off", ";", "<nl>", "+", "if", "(", "dp", "-", ">", "df", "_", "lnum", "[", "i", "]", ">", "off", ")", "<nl>", "+", "dp", "-", ">", "df", "_", "lnum", "[", "i", "]", "-", "=", "off", ";", "<nl>", "+", "else", "<nl>", "+", "dp", "-", ">", "df", "_", "lnum", "[", "i", "]", "=", "1", ";", "<nl>", "dp", "-", ">", "df", "_", "count", "[", "i", "]", "+", "=", "n", ";", "<nl>", "}", "<nl>", "}", "<nl>", "ex", "_", "diffgetput", "(", "exarg", "_", "T", "*", "eap", ")", "<nl>", "{", "<nl>", "/", "/", "remember", "deleting", "the", "last", "line", "of", "the", "buffer", "<nl>", "buf", "_", "empty", "=", "curbuf", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", "=", "=", "1", ";", "<nl>", "-", "ml", "_", "delete", "(", "lnum", ")", ";", "<nl>", "-", "-", "-", "added", ";", "<nl>", "+", "if", "(", "ml", "_", "delete", "(", "lnum", ")", "=", "=", "OK", ")", "<nl>", "+", "-", "-", "added", ";", "<nl>", "}", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "dp", "-", ">", "df", "_", "count", "[", "idx", "_", "from", "]", "-", "start", "_", "skip", "-", "end", "_", "skip", ";", "+", "+", "i", ")", "<nl>", "{", "mmm", "src", "/", "version", ".", "c", "<nl>", "diff", "_", "mark", "_", "adjust", "_", "tp", "(", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "DB", "_", "COUNT", ";", "+", "+", "i", ")", "<nl>", "if", "(", "tp", "-", ">", "tp", "_", "diffbuf", "[", "i", "]", "!", "=", "NULL", "&", "&", "i", "!", "=", "idx", ")", "<nl>", "{", "<nl>", "-", "dp", "-", ">", "df", "_", "lnum", "[", "i", "]", "-", "=", "off", ";", "<nl>", "+", "if", "(", "dp", "-", ">", "df", "_", "lnum", "[", "i", "]", ">", "off", ")", "<nl>", "+", "dp", "-", ">", "df", "_", "lnum", "[", "i", "]", "-", "=", "off", ";", "<nl>", "+", "else", "<nl>", "+", "dp", "-", ">", "df", "_", "lnum", "[", "i", "]", "=", "1", ";", "<nl>", "dp", "-", ">", "df", "_", "count", "[", "i", "]", "+", "=", "n", ";", "<nl>", "}", "<nl>", "}", "<nl>", "ex", "_", "diffgetput", "(", "exarg", "_", "T", "*", "eap", ")", "<nl>", "{", "<nl>", "/", "/", "remember", "deleting", "the", "last", "line", "of", "the", "buffer", "<nl>", "buf", "_", "empty", "=", "curbuf", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", "=", "=", "1", ";", "<nl>", "-", "ml", "_", "delete", "(", "lnum", ")", ";", "<nl>", "-", "-", "-", "added", ";", "<nl>", "+", "if", "(", "ml", "_", "delete", "(", "lnum", ")", "=", "=", "OK", ")", "<nl>", "+", "-", "-", "added", ";", "<nl>", "}", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "dp", "-", ">", "df", "_", "count", "[", "idx", "_", "from", "]", "-", "start", "_", "skip", "-", "end", "_", "skip", ";", "+", "+", "i", ")", "<nl>", "{", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "101", ",", "<nl>", "/", "*", "*", "/", "<nl>", "100", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0101", "invalid", "memory", "access", "in", "diff", "mode", "with", "dp", "and", "undo"]}
{"code_tokens": ["change", "_", "indent", "(", "<nl>", "new", "_", "cursor", "_", "col", "+", "=", "(", "*", "mb", "_", "ptr2len", ")", "(", "ptr", "+", "new", "_", "cursor", "_", "col", ")", ";", "<nl>", "else", "<nl>", "+", "+", "new", "_", "cursor", "_", "col", ";", "<nl>", "+", "if", "(", "ptr", "[", "new", "_", "cursor", "_", "col", "]", "=", "=", "NUL", ")", "<nl>", "+", "break", ";", "<nl>", "vcol", "+", "=", "lbr", "_", "chartabsize", "(", "ptr", ",", "ptr", "+", "new", "_", "cursor", "_", "col", ",", "(", "colnr", "_", "T", ")", "vcol", ")", ";", "<nl>", "}", "<nl>", "vcol", "=", "last", "_", "vcol", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "change", "_", "indent", "(", "<nl>", "new", "_", "cursor", "_", "col", "+", "=", "(", "*", "mb", "_", "ptr2len", ")", "(", "ptr", "+", "new", "_", "cursor", "_", "col", ")", ";", "<nl>", "else", "<nl>", "+", "+", "new", "_", "cursor", "_", "col", ";", "<nl>", "+", "if", "(", "ptr", "[", "new", "_", "cursor", "_", "col", "]", "=", "=", "NUL", ")", "<nl>", "+", "break", ";", "<nl>", "vcol", "+", "=", "lbr", "_", "chartabsize", "(", "ptr", ",", "ptr", "+", "new", "_", "cursor", "_", "col", ",", "(", "colnr", "_", "T", ")", "vcol", ")", ";", "<nl>", "}", "<nl>", "vcol", "=", "last", "_", "vcol", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4436", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4435", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4436", "crash", "with", "weird", "vartabstop", "value"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "322", ",", "<nl>", "/", "*", "*", "/", "<nl>", "321", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "quickfix", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "322", ",", "<nl>", "/", "*", "*", "/", "<nl>", "321", ",", "<nl>", "/", "*", "*", "/", "<nl>", "qf", "_", "fill", "_", "buffer", "(", "qf", "_", "list", "_", "T", "*", "qfl", ",", "buf", "_", "T", "*", "buf", ",", "qfline", "_", "T", "*", "old", "_", "last", ",", "int", "qf", "_", "winid", ")", "<nl>", "}", "<nl>", "<nl>", "/", "/", "Check", "if", "there", "is", "anything", "to", "display", "<nl>", "-", "if", "(", "qfl", "!", "=", "NULL", ")", "<nl>", "+", "if", "(", "qfl", "!", "=", "NULL", "&", "&", "qfl", "-", ">", "qf", "_", "start", "!", "=", "NULL", ")", "<nl>", "{", "<nl>", "char", "_", "u", "dirname", "[", "MAXPATHL", "]", ";", "<nl>", "int", "invalid", "_", "val", "=", "FALSE", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0322", "crash", "when", "no", "errors", "and", "quickfixtextfunc", "is", "set"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "316", ",", "<nl>", "/", "*", "*", "/", "<nl>", "315", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "option", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "316", ",", "<nl>", "/", "*", "*", "/", "<nl>", "315", ",", "<nl>", "/", "*", "*", "/", "<nl>", "check", "_", "colorcolumn", "(", "wp", ")", "<nl>", "int", "i", ";", "<nl>", "int", "j", "=", "0", ";", "<nl>", "<nl>", "+", "if", "(", "wp", "-", ">", "w", "_", "buffer", "=", "=", "NULL", ")", "<nl>", "+", "return", "NULL", ";", "/", "*", "buffer", "was", "closed", "*", "/", "<nl>", "+", "<nl>", "for", "(", "s", "=", "wp", "-", ">", "w", "_", "p", "_", "cc", ";", "*", "s", "!", "=", "NUL", "&", "&", "count", "<", "255", ";", ")", "<nl>", "{", "<nl>", "if", "(", "*", "s", "=", "=", "'", "-", "'", "|", "|", "*", "s", "=", "=", "'", "+", "'", ")", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "3", "316"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4975", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4974", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "getln", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4975", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4974", ",", "<nl>", "/", "*", "*", "/", "<nl>", "getcmdline", "_", "int", "(", "<nl>", "int", "indent", ",", "/", "/", "indent", "for", "inside", "conditionals", "<nl>", "int", "clear", "_", "ccline", ")", "/", "/", "clear", "ccline", "first", "<nl>", "{", "<nl>", "+", "static", "int", "depth", "=", "0", ";", "/", "/", "call", "depth", "<nl>", "int", "c", ";", "<nl>", "int", "i", ";", "<nl>", "int", "j", ";", "<nl>", "getcmdline", "_", "int", "(", "<nl>", "int", "cmdline", "_", "type", ";", "<nl>", "int", "wild", "_", "type", ";", "<nl>", "<nl>", "+", "/", "/", "one", "recursion", "level", "deeper", "<nl>", "+", "+", "+", "depth", ";", "<nl>", "+", "<nl>", "if", "(", "ccline", ".", "cmdbuff", "!", "=", "NULL", ")", "<nl>", "{", "<nl>", "/", "/", "Being", "called", "recursively", ".", "Since", "ccline", "is", "global", ",", "we", "need", "to", "save", "<nl>", "getcmdline", "_", "int", "(", "<nl>", "if", "(", "init", "_", "ccline", "(", "firstc", ",", "indent", ")", "!", "=", "OK", ")", "<nl>", "goto", "theend", ";", "/", "/", "out", "of", "memory", "<nl>", "<nl>", "+", "if", "(", "depth", "=", "=", "50", ")", "<nl>", "+", "{", "<nl>", "+", "/", "/", "Somehow", "got", "into", "a", "loop", "recursively", "calling", "getcmdline", "(", ")", ",", "bail", "out", ".", "<nl>", "+", "emsg", "(", "_", "(", "e", "_", "command", "_", "too", "_", "recursive", ")", ")", ";", "<nl>", "+", "goto", "theend", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "ExpandInit", "(", "&", "xpc", ")", ";", "<nl>", "ccline", ".", "xpc", "=", "&", "xpc", ";", "<nl>", "<nl>", "theend", ":", "<nl>", "{", "<nl>", "char", "_", "u", "*", "p", "=", "ccline", ".", "cmdbuff", ";", "<nl>", "<nl>", "+", "-", "-", "depth", ";", "<nl>", "if", "(", "did", "_", "save", "_", "ccline", ")", "<nl>", "restore", "_", "cmdline", "(", "&", "save", "_", "ccline", ")", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4975", "recursive", "command", "line", "loop", "may", "cause", "a", "crash"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "801", ",", "<nl>", "/", "*", "*", "/", "<nl>", "800", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "window", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "801", ",", "<nl>", "/", "*", "*", "/", "<nl>", "800", ",", "<nl>", "/", "*", "*", "/", "<nl>", "win", "_", "goto", "(", "wp", ")", "<nl>", "<nl>", "#", "ifdef", "FEAT", "_", "CONCEAL", "<nl>", "/", "*", "Conceal", "cursor", "line", "in", "previous", "window", ",", "unconceal", "in", "current", "window", ".", "*", "/", "<nl>", "-", "if", "(", "win", "_", "valid", "(", "owp", ")", ")", "<nl>", "+", "if", "(", "win", "_", "valid", "(", "owp", ")", "&", "&", "owp", "-", ">", "w", "_", "p", "_", "cole", ">", "0", "&", "&", "!", "msg", "_", "scrolled", ")", "<nl>", "update", "_", "single", "_", "line", "(", "owp", ",", "owp", "-", ">", "w", "_", "cursor", ".", "lnum", ")", ";", "<nl>", "-", "update", "_", "single", "_", "line", "(", "curwin", ",", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ")", ";", "<nl>", "+", "if", "(", "curwin", "-", ">", "w", "_", "p", "_", "cole", ">", "0", "&", "&", "!", "msg", "_", "scrolled", ")", "<nl>", "+", "need", "_", "cursor", "_", "line", "_", "redraw", "=", "TRUE", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "3", "801"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1365", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1364", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "getchar", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1365", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1364", ",", "<nl>", "/", "*", "*", "/", "<nl>", "openscript", "(", "<nl>", "emsg", "(", "_", "(", "e", "_", "nesting", ")", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "/", "/", "Disallow", "sourcing", "a", "file", "in", "the", "sandbox", ",", "the", "commands", "would", "be", "executed", "<nl>", "+", "/", "/", "later", ",", "possibly", "outside", "of", "the", "sandbox", ".", "<nl>", "+", "if", "(", "check", "_", "secure", "(", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "#", "ifdef", "FEAT", "_", "EVAL", "<nl>", "if", "(", "ignore", "_", "script", ")", "<nl>", "/", "*", "Not", "reading", "from", "script", ",", "also", "don", "'", "t", "open", "one", ".", "Warning", "message", "?", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "1", "1365", "source", "command", "doesn", "t", "check", "for", "the", "sandbox"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4925", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4924", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "textobject", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4925", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4924", ",", "<nl>", "/", "*", "*", "/", "<nl>", "find", "_", "next", "_", "quote", "(", "<nl>", "if", "(", "c", "=", "=", "NUL", ")", "<nl>", "return", "-", "1", ";", "<nl>", "else", "if", "(", "escape", "!", "=", "NULL", "&", "&", "vim", "_", "strchr", "(", "escape", ",", "c", ")", ")", "<nl>", "+", "{", "<nl>", "+", "+", "col", ";", "<nl>", "+", "if", "(", "line", "[", "col", "]", "=", "=", "NUL", ")", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "}", "<nl>", "else", "if", "(", "c", "=", "=", "quotechar", ")", "<nl>", "break", ";", "<nl>", "if", "(", "has", "_", "mbyte", ")", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4925", "trailing", "backslash", "may", "cause", "reading", "past", "end", "of", "line"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "35", ",", "<nl>", "/", "*", "*", "/", "<nl>", "34", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "spell", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "35", ",", "<nl>", "/", "*", "*", "/", "<nl>", "34", ",", "<nl>", "/", "*", "*", "/", "<nl>", "spell", "_", "dump", "_", "compl", "(", "<nl>", "n", "=", "arridx", "[", "depth", "]", "+", "curi", "[", "depth", "]", ";", "<nl>", "+", "+", "curi", "[", "depth", "]", ";", "<nl>", "c", "=", "byts", "[", "n", "]", ";", "<nl>", "-", "if", "(", "c", "=", "=", "0", ")", "<nl>", "+", "if", "(", "c", "=", "=", "0", "|", "|", "depth", ">", "=", "MAXWLEN", "-", "1", ")", "<nl>", "{", "<nl>", "-", "/", "/", "End", "of", "word", ",", "deal", "with", "the", "word", ".", "<nl>", "+", "/", "/", "End", "of", "word", "or", "reached", "maximum", "length", ",", "deal", "with", "the", "<nl>", "+", "/", "/", "word", ".", "<nl>", "/", "/", "Don", "'", "t", "use", "keep", "-", "case", "words", "in", "the", "fold", "-", "case", "tree", ",", "<nl>", "/", "/", "they", "will", "appear", "in", "the", "keep", "-", "case", "tree", ".", "<nl>", "/", "/", "Only", "use", "the", "word", "when", "the", "region", "matches", ".", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0035", "spell", "dump", "may", "go", "beyond", "end", "of", "an", "array"]}
{"code_tokens": ["vim", "_", "isupper", "(", "int", "c", ")", "<nl>", "return", "isupper", "(", "c", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "int", "<nl>", "+", "vim", "_", "isalpha", "(", "int", "c", ")", "<nl>", "+", "{", "<nl>", "+", "return", "vim", "_", "islower", "(", "c", ")", "|", "|", "vim", "_", "isupper", "(", "c", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "int", "<nl>", "vim", "_", "toupper", "(", "int", "c", ")", "<nl>", "{", "mmm", "src", "/", "filepath", ".", "c", "<nl>", "vim", "_", "isupper", "(", "int", "c", ")", "<nl>", "return", "isupper", "(", "c", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "int", "<nl>", "+", "vim", "_", "isalpha", "(", "int", "c", ")", "<nl>", "+", "{", "<nl>", "+", "return", "vim", "_", "islower", "(", "c", ")", "|", "|", "vim", "_", "isupper", "(", "c", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "int", "<nl>", "vim", "_", "toupper", "(", "int", "c", ")", "<nl>", "{", "<nl>", "unix", "_", "expandpath", "(", "<nl>", "else", "if", "(", "path", "_", "end", ">", "=", "path", "+", "wildoff", "<nl>", "&", "&", "(", "vim", "_", "strchr", "(", "(", "char", "_", "u", "*", ")", "\"", "*", "?", "[", "{", "~", "$", "\"", ",", "*", "path", "_", "end", ")", "!", "=", "NULL", "<nl>", "|", "|", "(", "!", "p", "_", "fic", "&", "&", "(", "flags", "&", "EW", "_", "ICASE", ")", "<nl>", "-", "&", "&", "isalpha", "(", "PTR2CHAR", "(", "path", "_", "end", ")", ")", ")", ")", ")", "<nl>", "+", "&", "&", "vim", "_", "isalpha", "(", "PTR2CHAR", "(", "path", "_", "end", ")", ")", ")", ")", ")", "<nl>", "e", "=", "p", ";", "<nl>", "if", "(", "has", "_", "mbyte", ")", "<nl>", "{", "mmm", "src", "/", "version", ".", "c", "<nl>", "vim", "_", "isupper", "(", "int", "c", ")", "<nl>", "return", "isupper", "(", "c", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "int", "<nl>", "+", "vim", "_", "isalpha", "(", "int", "c", ")", "<nl>", "+", "{", "<nl>", "+", "return", "vim", "_", "islower", "(", "c", ")", "|", "|", "vim", "_", "isupper", "(", "c", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "int", "<nl>", "vim", "_", "toupper", "(", "int", "c", ")", "<nl>", "{", "<nl>", "unix", "_", "expandpath", "(", "<nl>", "else", "if", "(", "path", "_", "end", ">", "=", "path", "+", "wildoff", "<nl>", "&", "&", "(", "vim", "_", "strchr", "(", "(", "char", "_", "u", "*", ")", "\"", "*", "?", "[", "{", "~", "$", "\"", ",", "*", "path", "_", "end", ")", "!", "=", "NULL", "<nl>", "|", "|", "(", "!", "p", "_", "fic", "&", "&", "(", "flags", "&", "EW", "_", "ICASE", ")", "<nl>", "-", "&", "&", "isalpha", "(", "PTR2CHAR", "(", "path", "_", "end", ")", ")", ")", ")", ")", "<nl>", "+", "&", "&", "vim", "_", "isalpha", "(", "PTR2CHAR", "(", "path", "_", "end", ")", ")", ")", ")", ")", "<nl>", "e", "=", "p", ";", "<nl>", "if", "(", "has", "_", "mbyte", ")", "<nl>", "{", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4418", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4417", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4418", "crash", "when", "using", "special", "multi", "byte", "character"]}
{"code_tokens": ["spell", "_", "suggest", "(", "int", "count", ")", "<nl>", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "=", "VIsual", ".", "col", ";", "<nl>", "+", "+", "badlen", ";", "<nl>", "end", "_", "visual", "_", "mode", "(", ")", ";", "<nl>", "+", "/", "/", "make", "sure", "we", "don", "'", "t", "include", "the", "NUL", "at", "the", "end", "of", "the", "line", "<nl>", "+", "line", "=", "ml", "_", "get", "_", "curline", "(", ")", ";", "<nl>", "+", "if", "(", "badlen", ">", "STRLEN", "(", "line", ")", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ")", "<nl>", "+", "badlen", "=", "STRLEN", "(", "line", ")", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ";", "<nl>", "}", "<nl>", "/", "/", "Find", "the", "start", "of", "the", "badly", "spelled", "word", ".", "<nl>", "else", "if", "(", "spell", "_", "move", "_", "to", "(", "curwin", ",", "FORWARD", ",", "TRUE", ",", "TRUE", ",", "NULL", ")", "=", "=", "0", "mmm", "src", "/", "version", ".", "c", "<nl>", "spell", "_", "suggest", "(", "int", "count", ")", "<nl>", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "=", "VIsual", ".", "col", ";", "<nl>", "+", "+", "badlen", ";", "<nl>", "end", "_", "visual", "_", "mode", "(", ")", ";", "<nl>", "+", "/", "/", "make", "sure", "we", "don", "'", "t", "include", "the", "NUL", "at", "the", "end", "of", "the", "line", "<nl>", "+", "line", "=", "ml", "_", "get", "_", "curline", "(", ")", ";", "<nl>", "+", "if", "(", "badlen", ">", "STRLEN", "(", "line", ")", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ")", "<nl>", "+", "badlen", "=", "STRLEN", "(", "line", ")", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ";", "<nl>", "}", "<nl>", "/", "/", "Find", "the", "start", "of", "the", "badly", "spelled", "word", ".", "<nl>", "else", "if", "(", "spell", "_", "move", "_", "to", "(", "curwin", ",", "FORWARD", ",", "TRUE", ",", "TRUE", ",", "NULL", ")", "=", "=", "0", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4563", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4562", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4563", "z", "in", "Visual", "mode", "may", "go", "beyond", "the", "end", "of", "the", "line"]}
{"code_tokens": ["compile", "_", "get", "_", "env", "(", "char", "_", "u", "*", "*", "arg", ",", "cctx", "_", "T", "*", "cctx", ")", "<nl>", "len", "=", "get", "_", "env", "_", "len", "(", "arg", ")", ";", "<nl>", "if", "(", "len", "=", "=", "0", ")", "<nl>", "{", "<nl>", "-", "semsg", "(", "_", "(", "e", "_", "syntax", "_", "error", "_", "at", "_", "str", ")", ",", "start", "-", "1", ")", ";", "<nl>", "+", "semsg", "(", "_", "(", "e", "_", "syntax", "_", "error", "_", "at", "_", "str", ")", ",", "start", ")", ";", "<nl>", "return", "FAIL", ";", "<nl>", "}", "<nl>", "compile", "_", "get", "_", "env", "(", "char", "_", "u", "*", "*", "arg", ",", "cctx", "_", "T", "*", "cctx", ")", "<nl>", "len", "=", "get", "_", "env", "_", "len", "(", "arg", ")", ";", "<nl>", "if", "(", "len", "=", "=", "0", ")", "<nl>", "{", "<nl>", "-", "semsg", "(", "_", "(", "e", "_", "syntax", "_", "error", "_", "at", "_", "str", ")", ",", "start", "-", "1", ")", ";", "<nl>", "+", "semsg", "(", "_", "(", "e", "_", "syntax", "_", "error", "_", "at", "_", "str", ")", ",", "start", ")", ";", "<nl>", "return", "FAIL", ";", "<nl>", "}", "<nl>", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4049", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4048", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4049", "Vim9", "reading", "before", "the", "start", "of", "the", "line", "with"]}
{"code_tokens": ["cmdline", "_", "insert", "_", "reg", "(", "int", "*", "gotesc", "UNUSED", ")", "<nl>", "{", "<nl>", "int", "i", ";", "<nl>", "int", "c", ";", "<nl>", "+", "int", "save", "_", "new", "_", "cmdpos", "=", "new", "_", "cmdpos", ";", "<nl>", "<nl>", "#", "ifdef", "USE", "_", "ON", "_", "FLY", "_", "SCROLL", "<nl>", "dont", "_", "scroll", "=", "TRUE", ";", "/", "/", "disallow", "scrolling", "here", "<nl>", "cmdline", "_", "insert", "_", "reg", "(", "int", "*", "gotesc", "UNUSED", ")", "<nl>", "#", "ifdef", "FEAT", "_", "EVAL", "<nl>", "/", "*", "<nl>", "*", "Insert", "the", "result", "of", "an", "expression", ".", "<nl>", "-", "*", "Need", "to", "save", "the", "current", "command", "line", ",", "to", "be", "able", "to", "enter", "<nl>", "-", "*", "a", "new", "one", ".", ".", ".", "<nl>", "*", "/", "<nl>", "new", "_", "cmdpos", "=", "-", "1", ";", "<nl>", "if", "(", "c", "=", "=", "'", "=", "'", ")", "<nl>", "cmdline", "_", "insert", "_", "reg", "(", "int", "*", "gotesc", "UNUSED", ")", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "+", "new", "_", "cmdpos", "=", "save", "_", "new", "_", "cmdpos", ";", "<nl>", "+", "<nl>", "/", "/", "remove", "the", "double", "quote", "<nl>", "redrawcmd", "(", ")", ";", "<nl>", "cmdline", "_", "insert", "_", "reg", "(", "int", "*", "gotesc", "UNUSED", ")", "<nl>", "{", "<nl>", "int", "i", ";", "<nl>", "int", "c", ";", "<nl>", "+", "int", "save", "_", "new", "_", "cmdpos", "=", "new", "_", "cmdpos", ";", "<nl>", "<nl>", "#", "ifdef", "USE", "_", "ON", "_", "FLY", "_", "SCROLL", "<nl>", "dont", "_", "scroll", "=", "TRUE", ";", "/", "/", "disallow", "scrolling", "here", "<nl>", "cmdline", "_", "insert", "_", "reg", "(", "int", "*", "gotesc", "UNUSED", ")", "<nl>", "#", "ifdef", "FEAT", "_", "EVAL", "<nl>", "/", "*", "<nl>", "*", "Insert", "the", "result", "of", "an", "expression", ".", "<nl>", "-", "*", "Need", "to", "save", "the", "current", "command", "line", ",", "to", "be", "able", "to", "enter", "<nl>", "-", "*", "a", "new", "one", ".", ".", ".", "<nl>", "*", "/", "<nl>", "new", "_", "cmdpos", "=", "-", "1", ";", "<nl>", "if", "(", "c", "=", "=", "'", "=", "'", ")", "<nl>", "cmdline", "_", "insert", "_", "reg", "(", "int", "*", "gotesc", "UNUSED", ")", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "+", "new", "_", "cmdpos", "=", "save", "_", "new", "_", "cmdpos", ";", "<nl>", "+", "<nl>", "/", "/", "remove", "the", "double", "quote", "<nl>", "redrawcmd", "(", ")", ";", "<nl>", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5148", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5147", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5148", "invalid", "memory", "access", "when", "using", "expression", "on", "command", "line"]}
{"code_tokens": ["eval", "_", "lambda", "(", "<nl>", "+", "+", "*", "arg", ";", "<nl>", "ret", "=", "eval1", "(", "arg", ",", "rettv", ",", "evalarg", ")", ";", "<nl>", "*", "arg", "=", "skipwhite", "_", "and", "_", "linebreak", "(", "*", "arg", ",", "evalarg", ")", ";", "<nl>", "-", "if", "(", "*", "*", "arg", "!", "=", "'", ")", "'", ")", "<nl>", "+", "if", "(", "*", "*", "arg", "=", "=", "'", ")", "'", ")", "<nl>", "+", "{", "<nl>", "+", "+", "+", "*", "arg", ";", "<nl>", "+", "}", "<nl>", "+", "else", "<nl>", "{", "<nl>", "emsg", "(", "_", "(", "e", "_", "missing", "_", "closing", "_", "paren", ")", ")", ";", "<nl>", "ret", "=", "FAIL", ";", "<nl>", "}", "<nl>", "-", "+", "+", "*", "arg", ";", "<nl>", "}", "<nl>", "if", "(", "ret", "!", "=", "OK", ")", "<nl>", "return", "FAIL", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "eval", "_", "lambda", "(", "<nl>", "+", "+", "*", "arg", ";", "<nl>", "ret", "=", "eval1", "(", "arg", ",", "rettv", ",", "evalarg", ")", ";", "<nl>", "*", "arg", "=", "skipwhite", "_", "and", "_", "linebreak", "(", "*", "arg", ",", "evalarg", ")", ";", "<nl>", "-", "if", "(", "*", "*", "arg", "!", "=", "'", ")", "'", ")", "<nl>", "+", "if", "(", "*", "*", "arg", "=", "=", "'", ")", "'", ")", "<nl>", "+", "{", "<nl>", "+", "+", "+", "*", "arg", ";", "<nl>", "+", "}", "<nl>", "+", "else", "<nl>", "{", "<nl>", "emsg", "(", "_", "(", "e", "_", "missing", "_", "closing", "_", "paren", ")", ")", ";", "<nl>", "ret", "=", "FAIL", ";", "<nl>", "}", "<nl>", "-", "+", "+", "*", "arg", ";", "<nl>", "}", "<nl>", "if", "(", "ret", "!", "=", "OK", ")", "<nl>", "return", "FAIL", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3847", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3846", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3847", "illegal", "memory", "access", "when", "using", "a", "lambda", "with", "an", "error"]}
{"code_tokens": ["skip", "_", "string", "(", "char", "_", "u", "*", "p", ")", "<nl>", "while", "(", "vim", "_", "isdigit", "(", "p", "[", "i", "-", "1", "]", ")", ")", "/", "/", "'", "\\", "000", "'", "<nl>", "+", "+", "i", ";", "<nl>", "}", "<nl>", "-", "if", "(", "p", "[", "i", "]", "=", "=", "'", "\\", "'", "'", ")", "/", "/", "check", "for", "trailing", "'", "<nl>", "+", "if", "(", "p", "[", "i", "-", "1", "]", "!", "=", "NUL", "&", "&", "p", "[", "i", "]", "=", "=", "'", "\\", "'", "'", ")", "/", "/", "check", "for", "trailing", "'", "<nl>", "{", "<nl>", "p", "+", "=", "i", ";", "<nl>", "continue", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "skip", "_", "string", "(", "char", "_", "u", "*", "p", ")", "<nl>", "while", "(", "vim", "_", "isdigit", "(", "p", "[", "i", "-", "1", "]", ")", ")", "/", "/", "'", "\\", "000", "'", "<nl>", "+", "+", "i", ";", "<nl>", "}", "<nl>", "-", "if", "(", "p", "[", "i", "]", "=", "=", "'", "\\", "'", "'", ")", "/", "/", "check", "for", "trailing", "'", "<nl>", "+", "if", "(", "p", "[", "i", "-", "1", "]", "!", "=", "NUL", "&", "&", "p", "[", "i", "]", "=", "=", "'", "\\", "'", "'", ")", "/", "/", "check", "for", "trailing", "'", "<nl>", "{", "<nl>", "p", "+", "=", "i", ";", "<nl>", "continue", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4968", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4967", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4968", "reading", "past", "end", "of", "the", "line", "when", "C", "indenting"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3612", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3611", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "regexp", "_", "nfa", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3612", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3611", ",", "<nl>", "/", "*", "*", "/", "<nl>", "nfa", "_", "regmatch", "(", "<nl>", "case", "NFA", "_", "MARK", "_", "GT", ":", "<nl>", "case", "NFA", "_", "MARK", "_", "LT", ":", "<nl>", "{", "<nl>", "+", "size", "_", "t", "col", "=", "rex", ".", "input", "-", "rex", ".", "line", ";", "<nl>", "pos", "_", "T", "*", "pos", "=", "getmark", "_", "buf", "(", "rex", ".", "reg", "_", "buf", ",", "t", "-", ">", "state", "-", ">", "val", ",", "FALSE", ")", ";", "<nl>", "<nl>", "+", "/", "/", "Line", "may", "have", "been", "freed", ",", "get", "it", "again", ".", "<nl>", "+", "if", "(", "REG", "_", "MULTI", ")", "<nl>", "+", "{", "<nl>", "+", "rex", ".", "line", "=", "reg", "_", "getline", "(", "rex", ".", "lnum", ")", ";", "<nl>", "+", "rex", ".", "input", "=", "rex", ".", "line", "+", "col", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "/", "Compare", "the", "mark", "position", "to", "the", "match", "position", ",", "if", "the", "mark", "<nl>", "/", "/", "exists", "and", "mark", "is", "set", "in", "reg", "_", "buf", ".", "<nl>", "if", "(", "pos", "!", "=", "NULL", "&", "&", "pos", "-", ">", "lnum", ">", "0", ")", "mmm", "src", "/", "regexp", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3612", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3611", ",", "<nl>", "/", "*", "*", "/", "<nl>", "nfa", "_", "regmatch", "(", "<nl>", "case", "NFA", "_", "MARK", "_", "GT", ":", "<nl>", "case", "NFA", "_", "MARK", "_", "LT", ":", "<nl>", "{", "<nl>", "+", "size", "_", "t", "col", "=", "rex", ".", "input", "-", "rex", ".", "line", ";", "<nl>", "pos", "_", "T", "*", "pos", "=", "getmark", "_", "buf", "(", "rex", ".", "reg", "_", "buf", ",", "t", "-", ">", "state", "-", ">", "val", ",", "FALSE", ")", ";", "<nl>", "<nl>", "+", "/", "/", "Line", "may", "have", "been", "freed", ",", "get", "it", "again", ".", "<nl>", "+", "if", "(", "REG", "_", "MULTI", ")", "<nl>", "+", "{", "<nl>", "+", "rex", ".", "line", "=", "reg", "_", "getline", "(", "rex", ".", "lnum", ")", ";", "<nl>", "+", "rex", ".", "input", "=", "rex", ".", "line", "+", "col", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "/", "Compare", "the", "mark", "position", "to", "the", "match", "position", ",", "if", "the", "mark", "<nl>", "/", "/", "exists", "and", "mark", "is", "set", "in", "reg", "_", "buf", ".", "<nl>", "if", "(", "pos", "!", "=", "NULL", "&", "&", "pos", "-", ">", "lnum", ">", "0", ")", "<nl>", "typedef", "struct", "{", "<nl>", "/", "/", "The", "current", "match", "-", "position", "is", "stord", "in", "these", "variables", ":", "<nl>", "linenr", "_", "T", "lnum", ";", "/", "/", "line", "number", ",", "relative", "to", "first", "line", "<nl>", "char", "_", "u", "*", "line", ";", "/", "/", "start", "of", "current", "line", "<nl>", "-", "char", "_", "u", "*", "input", ";", "/", "/", "current", "input", ",", "points", "into", "\"", "regline", "\"", "<nl>", "+", "char", "_", "u", "*", "input", ";", "/", "/", "current", "input", ",", "points", "into", "\"", "line", "\"", "<nl>", "<nl>", "int", "need", "_", "clear", "_", "subexpr", ";", "/", "/", "subexpressions", "still", "need", "to", "be", "cleared", "<nl>", "#", "ifdef", "FEAT", "_", "SYN", "_", "HL", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3612", "using", "freed", "memory", "with", "regexp", "using", "a", "mark"]}
{"code_tokens": ["regmatch", "(", "<nl>", "if", "(", "rex", ".", "input", "=", "=", "rex", ".", "line", ")", "<nl>", "{", "<nl>", "/", "/", "backup", "to", "last", "char", "of", "previous", "line", "<nl>", "+", "if", "(", "rex", ".", "lnum", "=", "=", "0", ")", "<nl>", "+", "{", "<nl>", "+", "status", "=", "RA", "_", "NOMATCH", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "-", "-", "rex", ".", "lnum", ";", "<nl>", "rex", ".", "line", "=", "reg", "_", "getline", "(", "rex", ".", "lnum", ")", ";", "<nl>", "/", "/", "Just", "in", "case", "regrepeat", "(", ")", "didn", "'", "t", "countmmm", "src", "/", "version", ".", "c", "<nl>", "regmatch", "(", "<nl>", "if", "(", "rex", ".", "input", "=", "=", "rex", ".", "line", ")", "<nl>", "{", "<nl>", "/", "/", "backup", "to", "last", "char", "of", "previous", "line", "<nl>", "+", "if", "(", "rex", ".", "lnum", "=", "=", "0", ")", "<nl>", "+", "{", "<nl>", "+", "status", "=", "RA", "_", "NOMATCH", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "-", "-", "rex", ".", "lnum", ";", "<nl>", "rex", ".", "line", "=", "reg", "_", "getline", "(", "rex", ".", "lnum", ")", ";", "<nl>", "/", "/", "Just", "in", "case", "regrepeat", "(", ")", "didn", "'", "t", "count", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4440", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4439", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4440", "crash", "with", "specific", "regexp", "pattern", "and", "string"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3409", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3408", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "regexp", "_", "nfa", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3409", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3408", ",", "<nl>", "/", "*", "*", "/", "<nl>", "find", "_", "match", "_", "text", "(", "colnr", "_", "T", "startcol", ",", "int", "regstart", ",", "char", "_", "u", "*", "match", "_", "text", ")", "<nl>", "match", "=", "FALSE", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "-", "len2", "+", "=", "MB", "_", "CHAR2LEN", "(", "c2", ")", ";", "<nl>", "+", "len2", "+", "=", "enc", "_", "utf8", "?", "utf", "_", "ptr2len", "(", "rex", ".", "line", "+", "col", "+", "len2", ")", "<nl>", "+", ":", "MB", "_", "CHAR2LEN", "(", "c2", ")", ";", "<nl>", "}", "<nl>", "if", "(", "match", "<nl>", "/", "/", "check", "that", "no", "composing", "char", "follows", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3409", "reading", "beyond", "end", "of", "line", "with", "invalid", "utf", "8", "character"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "240", ",", "<nl>", "/", "*", "*", "/", "<nl>", "239", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "spellfile", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "240", ",", "<nl>", "/", "*", "*", "/", "<nl>", "239", ",", "<nl>", "/", "*", "*", "/", "<nl>", "sug", "_", "filltree", "(", "spellinfo", "_", "T", "*", "spin", ",", "slang", "_", "T", "*", "slang", ")", "<nl>", "<nl>", "/", "*", "<nl>", "*", "Go", "through", "the", "whole", "case", "-", "folded", "tree", ",", "soundfold", "each", "word", "and", "put", "it", "<nl>", "-", "*", "in", "the", "trie", ".", "<nl>", "+", "*", "in", "the", "trie", ".", "Bail", "out", "if", "the", "tree", "is", "empty", ".", "<nl>", "*", "/", "<nl>", "byts", "=", "slang", "-", ">", "sl", "_", "fbyts", ";", "<nl>", "idxs", "=", "slang", "-", ">", "sl", "_", "fidxs", ";", "<nl>", "+", "if", "(", "byts", "=", "=", "NULL", "|", "|", "idxs", "=", "=", "NULL", ")", "<nl>", "+", "return", "FAIL", ";", "<nl>", "<nl>", "arridx", "[", "0", "]", "=", "0", ";", "<nl>", "curi", "[", "0", "]", "=", "1", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0240", "crash", "when", "using", "mkspell", "with", "an", "empty", "dic", "file"]}
{"code_tokens": ["eval", "_", "expr", "_", "typval", "(", "typval", "_", "T", "*", "expr", ",", "typval", "_", "T", "*", "argv", ",", "int", "argc", ",", "typval", "_", "T", "*", "rettv", ")", "<nl>", "if", "(", "fc", "=", "=", "NULL", ")", "<nl>", "return", "FAIL", ";", "<nl>", "<nl>", "-", "/", "/", "Shortcut", "to", "call", "a", "compiled", "function", "without", "overhead", ".", "<nl>", "+", "/", "/", "Shortcut", "to", "call", "a", "compiled", "function", "with", "minimal", "overhead", ".", "<nl>", "r", "=", "call", "_", "def", "_", "function", "(", "partial", "-", ">", "pt", "_", "func", ",", "argc", ",", "argv", ",", "<nl>", "DEF", "_", "USE", "_", "PT", "_", "ARGV", ",", "partial", ",", "fc", ",", "rettv", ")", ";", "<nl>", "remove", "_", "funccal", "(", ")", ";", "<nl>", "eval", "_", "next", "_", "non", "_", "blank", "(", "char", "_", "u", "*", "arg", ",", "evalarg", "_", "T", "*", "evalarg", ",", "int", "*", "getnext", ")", "<nl>", "<nl>", "if", "(", "next", "!", "=", "NULL", ")", "<nl>", "{", "<nl>", "-", "*", "getnext", "=", "TRUE", ";", "<nl>", "+", "*", "getnext", "=", "*", "p", "!", "=", "NL", ";", "<nl>", "return", "skipwhite", "(", "next", ")", ";", "<nl>", "}", "<nl>", "}", "mmm", "src", "/", "version", ".", "c", "<nl>", "eval", "_", "expr", "_", "typval", "(", "typval", "_", "T", "*", "expr", ",", "typval", "_", "T", "*", "argv", ",", "int", "argc", ",", "typval", "_", "T", "*", "rettv", ")", "<nl>", "if", "(", "fc", "=", "=", "NULL", ")", "<nl>", "return", "FAIL", ";", "<nl>", "<nl>", "-", "/", "/", "Shortcut", "to", "call", "a", "compiled", "function", "without", "overhead", ".", "<nl>", "+", "/", "/", "Shortcut", "to", "call", "a", "compiled", "function", "with", "minimal", "overhead", ".", "<nl>", "r", "=", "call", "_", "def", "_", "function", "(", "partial", "-", ">", "pt", "_", "func", ",", "argc", ",", "argv", ",", "<nl>", "DEF", "_", "USE", "_", "PT", "_", "ARGV", ",", "partial", ",", "fc", ",", "rettv", ")", ";", "<nl>", "remove", "_", "funccal", "(", ")", ";", "<nl>", "eval", "_", "next", "_", "non", "_", "blank", "(", "char", "_", "u", "*", "arg", ",", "evalarg", "_", "T", "*", "evalarg", ",", "int", "*", "getnext", ")", "<nl>", "<nl>", "if", "(", "next", "!", "=", "NULL", ")", "<nl>", "{", "<nl>", "-", "*", "getnext", "=", "TRUE", ";", "<nl>", "+", "*", "getnext", "=", "*", "p", "!", "=", "NL", ";", "<nl>", "return", "skipwhite", "(", "next", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "552", ",", "<nl>", "/", "*", "*", "/", "<nl>", "551", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0552", "crash", "when", "using", "NUL", "in", "buffer", "that", "uses", "source"]}
{"code_tokens": ["ex", "_", "retab", "(", "exarg", "_", "T", "*", "eap", ")", "<nl>", "if", "(", "ptr", "[", "col", "]", "=", "=", "NUL", ")", "<nl>", "break", ";", "<nl>", "vcol", "+", "=", "chartabsize", "(", "ptr", "+", "col", ",", "(", "colnr", "_", "T", ")", "vcol", ")", ";", "<nl>", "+", "if", "(", "vcol", ">", "=", "MAXCOL", ")", "<nl>", "+", "{", "<nl>", "+", "emsg", "(", "_", "(", "e", "_", "resulting", "_", "text", "_", "too", "_", "long", ")", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "if", "(", "has", "_", "mbyte", ")", "<nl>", "col", "+", "=", "(", "*", "mb", "_", "ptr2len", ")", "(", "ptr", "+", "col", ")", ";", "<nl>", "elsemmm", "src", "/", "version", ".", "c", "<nl>", "ex", "_", "retab", "(", "exarg", "_", "T", "*", "eap", ")", "<nl>", "if", "(", "ptr", "[", "col", "]", "=", "=", "NUL", ")", "<nl>", "break", ";", "<nl>", "vcol", "+", "=", "chartabsize", "(", "ptr", "+", "col", ",", "(", "colnr", "_", "T", ")", "vcol", ")", ";", "<nl>", "+", "if", "(", "vcol", ">", "=", "MAXCOL", ")", "<nl>", "+", "{", "<nl>", "+", "emsg", "(", "_", "(", "e", "_", "resulting", "_", "text", "_", "too", "_", "long", ")", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "if", "(", "has", "_", "mbyte", ")", "<nl>", "col", "+", "=", "(", "*", "mb", "_", "ptr2len", ")", "(", "ptr", "+", "col", ")", ";", "<nl>", "else", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4359", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4358", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4359", "crash", "when", "repeatedly", "using", "retab"]}
{"code_tokens": ["do", "_", "arg", "_", "all", "(", "<nl>", "tabpage", "_", "T", "*", "old", "_", "curtab", ",", "*", "last", "_", "curtab", ";", "<nl>", "win", "_", "T", "*", "new", "_", "curwin", "=", "NULL", ";", "<nl>", "tabpage", "_", "T", "*", "new", "_", "curtab", "=", "NULL", ";", "<nl>", "+", "int", "prev", "_", "arglist", "_", "locked", "=", "arglist", "_", "locked", ";", "<nl>", "<nl>", "#", "ifdef", "FEAT", "_", "CMDWIN", "<nl>", "if", "(", "cmdwin", "_", "type", "!", "=", "0", ")", "<nl>", "do", "_", "arg", "_", "all", "(", "<nl>", "/", "/", "watch", "out", "for", "its", "size", "to", "be", "changed", ".", "<nl>", "alist", "=", "curwin", "-", ">", "w", "_", "alist", ";", "<nl>", "+", "+", "alist", "-", ">", "al", "_", "refcount", ";", "<nl>", "+", "arglist", "_", "locked", "=", "TRUE", ";", "<nl>", "<nl>", "old", "_", "curwin", "=", "curwin", ";", "<nl>", "old", "_", "curtab", "=", "curtab", ";", "<nl>", "do", "_", "arg", "_", "all", "(", "<nl>", "<nl>", "/", "/", "Remove", "the", "\"", "lock", "\"", "on", "the", "argument", "list", ".", "<nl>", "alist", "_", "unlink", "(", "alist", ")", ";", "<nl>", "+", "arglist", "_", "locked", "=", "prev", "_", "arglist", "_", "locked", ";", "<nl>", "<nl>", "-", "-", "autocmd", "_", "no", "_", "enter", ";", "<nl>", "do", "_", "arg", "_", "all", "(", "<nl>", "tabpage", "_", "T", "*", "old", "_", "curtab", ",", "*", "last", "_", "curtab", ";", "<nl>", "win", "_", "T", "*", "new", "_", "curwin", "=", "NULL", ";", "<nl>", "tabpage", "_", "T", "*", "new", "_", "curtab", "=", "NULL", ";", "<nl>", "+", "int", "prev", "_", "arglist", "_", "locked", "=", "arglist", "_", "locked", ";", "<nl>", "<nl>", "#", "ifdef", "FEAT", "_", "CMDWIN", "<nl>", "if", "(", "cmdwin", "_", "type", "!", "=", "0", ")", "<nl>", "do", "_", "arg", "_", "all", "(", "<nl>", "/", "/", "watch", "out", "for", "its", "size", "to", "be", "changed", ".", "<nl>", "alist", "=", "curwin", "-", ">", "w", "_", "alist", ";", "<nl>", "+", "+", "alist", "-", ">", "al", "_", "refcount", ";", "<nl>", "+", "arglist", "_", "locked", "=", "TRUE", ";", "<nl>", "<nl>", "old", "_", "curwin", "=", "curwin", ";", "<nl>", "old", "_", "curtab", "=", "curtab", ";", "<nl>", "do", "_", "arg", "_", "all", "(", "<nl>", "<nl>", "/", "/", "Remove", "the", "\"", "lock", "\"", "on", "the", "argument", "list", ".", "<nl>", "alist", "_", "unlink", "(", "alist", ")", ";", "<nl>", "+", "arglist", "_", "locked", "=", "prev", "_", "arglist", "_", "locked", ";", "<nl>", "<nl>", "-", "-", "autocmd", "_", "no", "_", "enter", ";", "<nl>", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3884", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3883", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3884", "crash", "when", "clearing", "the", "argument", "list", "while", "using", "it"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3564", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3563", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "move", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3564", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3563", ",", "<nl>", "/", "*", "*", "/", "<nl>", "update", "_", "topline", "(", "void", ")", "<nl>", "check", "_", "cursor", "_", "lnum", "(", ")", ";", "<nl>", "curwin", "-", ">", "w", "_", "topline", "=", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ";", "<nl>", "curwin", "-", ">", "w", "_", "botline", "=", "curwin", "-", ">", "w", "_", "topline", ";", "<nl>", "-", "curwin", "-", ">", "w", "_", "valid", "|", "=", "VALID", "_", "BOTLINE", "|", "VALID", "_", "BOTLINE", "_", "AP", ";", "<nl>", "curwin", "-", ">", "w", "_", "scbind", "_", "pos", "=", "1", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3564", "invalid", "memory", "access", "when", "scrolling", "without", "valid", "screen"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1800", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1799", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "gui", "_", "x11", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1800", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1799", ",", "<nl>", "/", "*", "*", "/", "<nl>", "gui", "_", "mch", "_", "get", "_", "color", "(", "char", "_", "u", "*", "name", ")", "<nl>", "guicolor", "_", "T", "<nl>", "gui", "_", "mch", "_", "get", "_", "rgb", "_", "color", "(", "int", "r", ",", "int", "g", ",", "int", "b", ")", "<nl>", "{", "<nl>", "-", "char", "spec", "[", "8", "]", ";", "/", "*", "space", "enough", "to", "hold", "\"", "#", "RRGGBB", "\"", "*", "/", "<nl>", "XColor", "available", ";", "<nl>", "Colormap", "colormap", ";", "<nl>", "<nl>", "+", "/", "*", "Using", "XParseColor", "(", ")", "is", "very", "slow", ",", "put", "rgb", "in", "XColor", "directly", ".", "<nl>", "+", "<nl>", "+", "char", "spec", "[", "8", "]", ";", "/", "/", "space", "enough", "to", "hold", "\"", "#", "RRGGBB", "\"", "<nl>", "vim", "_", "snprintf", "(", "spec", ",", "sizeof", "(", "spec", ")", ",", "\"", "#", "%", ".", "2x", "%", ".", "2x", "%", ".", "2x", "\"", ",", "r", ",", "g", ",", "b", ")", ";", "<nl>", "-", "colormap", "=", "DefaultColormap", "(", "gui", ".", "dpy", ",", "DefaultScreen", "(", "gui", ".", "dpy", ")", ")", ";", "<nl>", "if", "(", "XParseColor", "(", "gui", ".", "dpy", ",", "colormap", ",", "(", "char", "*", ")", "spec", ",", "&", "available", ")", "!", "=", "0", "<nl>", "&", "&", "XAllocColor", "(", "gui", ".", "dpy", ",", "colormap", ",", "&", "available", ")", "!", "=", "0", ")", "<nl>", "return", "(", "guicolor", "_", "T", ")", "available", ".", "pixel", ";", "<nl>", "+", "*", "/", "<nl>", "+", "colormap", "=", "DefaultColormap", "(", "gui", ".", "dpy", ",", "DefaultScreen", "(", "gui", ".", "dpy", ")", ")", ";", "<nl>", "+", "vim", "_", "memset", "(", "&", "available", ",", "0", ",", "sizeof", "(", "XColor", ")", ")", ";", "<nl>", "+", "available", ".", "red", "=", "r", "<", "<", "8", ";", "<nl>", "+", "available", ".", "green", "=", "g", "<", "<", "8", ";", "<nl>", "+", "available", ".", "blue", "=", "b", "<", "<", "8", ";", "<nl>", "+", "if", "(", "XAllocColor", "(", "gui", ".", "dpy", ",", "colormap", ",", "&", "available", ")", "!", "=", "0", ")", "<nl>", "+", "return", "(", "guicolor", "_", "T", ")", "available", ".", "pixel", ";", "<nl>", "<nl>", "return", "INVALCOLOR", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "8", "0", "1800", "X11", "getting", "color", "is", "slow"]}
{"code_tokens": ["op", "_", "format", "(", "<nl>", "{", "<nl>", "curwin", "-", ">", "w", "_", "cursor", "=", "saved", "_", "cursor", ";", "<nl>", "saved", "_", "cursor", ".", "lnum", "=", "0", ";", "<nl>", "+", "<nl>", "+", "/", "/", "formatting", "may", "have", "made", "the", "cursor", "position", "invalid", "<nl>", "+", "check", "_", "cursor", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "oap", "-", ">", "is", "_", "VIsual", ")", "mmm", "src", "/", "version", ".", "c", "<nl>", "op", "_", "format", "(", "<nl>", "{", "<nl>", "curwin", "-", ">", "w", "_", "cursor", "=", "saved", "_", "cursor", ";", "<nl>", "saved", "_", "cursor", ".", "lnum", "=", "0", ";", "<nl>", "+", "<nl>", "+", "/", "/", "formatting", "may", "have", "made", "the", "cursor", "position", "invalid", "<nl>", "+", "check", "_", "cursor", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "oap", "-", ">", "is", "_", "VIsual", ")", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5013", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5012", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5013", "after", "text", "formatting", "cursor", "may", "be", "in", "an", "invalid", "position"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1143", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1142", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "buffer", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1143", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1142", ",", "<nl>", "/", "*", "*", "/", "<nl>", "build", "_", "stl", "_", "str", "_", "hl", "(", "<nl>", "#", "endif", "<nl>", "if", "(", "vim", "_", "strchr", "(", "STL", "_", "ALL", ",", "*", "s", ")", "=", "=", "NULL", ")", "<nl>", "{", "<nl>", "+", "if", "(", "*", "s", "=", "=", "NUL", ")", "/", "/", "can", "happen", "with", "\"", "%", "0", "\"", "<nl>", "+", "break", ";", "<nl>", "s", "+", "+", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1143", "invalid", "memory", "access", "with", "bad", "statusline", "value"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4218", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4217", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "edit", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4218", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4217", ",", "<nl>", "/", "*", "*", "/", "<nl>", "bracketed", "_", "paste", "(", "paste", "_", "mode", "_", "T", "mode", ",", "int", "drop", ",", "garray", "_", "T", "*", "gap", ")", "<nl>", "break", ";", "<nl>", "<nl>", "case", "PASTE", "_", "EX", ":", "<nl>", "-", "if", "(", "gap", "!", "=", "NULL", "&", "&", "ga", "_", "grow", "(", "gap", ",", "idx", ")", "=", "=", "OK", ")", "<nl>", "+", "/", "/", "add", "one", "for", "the", "NUL", "that", "is", "going", "to", "be", "appended", "<nl>", "+", "if", "(", "gap", "!", "=", "NULL", "&", "&", "ga", "_", "grow", "(", "gap", ",", "idx", "+", "1", ")", "=", "=", "OK", ")", "<nl>", "{", "<nl>", "mch", "_", "memmove", "(", "(", "char", "*", ")", "gap", "-", ">", "ga", "_", "data", "+", "gap", "-", ">", "ga", "_", "len", ",", "<nl>", "buf", ",", "(", "size", "_", "t", ")", "idx", ")", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4218", "illegal", "memory", "access", "with", "bracketed", "paste", "in", "Ex", "mode"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3487", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3486", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "drawscreen", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3487", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3486", ",", "<nl>", "/", "*", "*", "/", "<nl>", "win", "_", "redr", "_", "status", "(", "win", "_", "T", "*", "wp", ",", "int", "ignore", "_", "pum", "UNUSED", ")", "<nl>", "*", "(", "p", "+", "len", "+", "+", ")", "=", "'", "'", ";", "<nl>", "if", "(", "bt", "_", "help", "(", "wp", "-", ">", "w", "_", "buffer", ")", ")", "<nl>", "{", "<nl>", "-", "STRCPY", "(", "p", "+", "len", ",", "_", "(", "\"", "[", "Help", "]", "\"", ")", ")", ";", "<nl>", "+", "vim", "_", "snprintf", "(", "(", "char", "*", ")", "p", "+", "len", ",", "MAXPATHL", "-", "len", ",", "\"", "%", "s", "\"", ",", "_", "(", "\"", "[", "Help", "]", "\"", ")", ")", ";", "<nl>", "len", "+", "=", "(", "int", ")", "STRLEN", "(", "p", "+", "len", ")", ";", "<nl>", "}", "<nl>", "#", "ifdef", "FEAT", "_", "QUICKFIX", "<nl>", "if", "(", "wp", "-", ">", "w", "_", "p", "_", "pvw", ")", "<nl>", "{", "<nl>", "-", "STRCPY", "(", "p", "+", "len", ",", "_", "(", "\"", "[", "Preview", "]", "\"", ")", ")", ";", "<nl>", "+", "vim", "_", "snprintf", "(", "(", "char", "*", ")", "p", "+", "len", ",", "MAXPATHL", "-", "len", ",", "\"", "%", "s", "\"", ",", "_", "(", "\"", "[", "Preview", "]", "\"", ")", ")", ";", "<nl>", "len", "+", "=", "(", "int", ")", "STRLEN", "(", "p", "+", "len", ")", ";", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "win", "_", "redr", "_", "status", "(", "win", "_", "T", "*", "wp", ",", "int", "ignore", "_", "pum", "UNUSED", ")", "<nl>", "#", "endif", "<nl>", ")", "<nl>", "{", "<nl>", "-", "STRCPY", "(", "p", "+", "len", ",", "\"", "[", "+", "]", "\"", ")", ";", "<nl>", "-", "len", "+", "=", "3", ";", "<nl>", "+", "vim", "_", "snprintf", "(", "(", "char", "*", ")", "p", "+", "len", ",", "MAXPATHL", "-", "len", ",", "\"", "%", "s", "\"", ",", "\"", "[", "+", "]", "\"", ")", ";", "<nl>", "+", "len", "+", "=", "(", "int", ")", "STRLEN", "(", "p", "+", "len", ")", ";", "<nl>", "}", "<nl>", "if", "(", "wp", "-", ">", "w", "_", "buffer", "-", ">", "b", "_", "p", "_", "ro", ")", "<nl>", "{", "<nl>", "-", "STRCPY", "(", "p", "+", "len", ",", "_", "(", "\"", "[", "RO", "]", "\"", ")", ")", ";", "<nl>", "+", "vim", "_", "snprintf", "(", "(", "char", "*", ")", "p", "+", "len", ",", "MAXPATHL", "-", "len", ",", "\"", "%", "s", "\"", ",", "_", "(", "\"", "[", "RO", "]", "\"", ")", ")", ";", "<nl>", "len", "+", "=", "(", "int", ")", "STRLEN", "(", "p", "+", "len", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3487", "illegal", "memory", "access", "if", "buffer", "name", "is", "very", "long"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "598", ",", "<nl>", "/", "*", "*", "/", "<nl>", "597", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "window", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "598", ",", "<nl>", "/", "*", "*", "/", "<nl>", "597", ",", "<nl>", "/", "*", "*", "/", "<nl>", "win", "_", "equal", "_", "rec", "(", "<nl>", "if", "(", "hnc", ")", "/", "/", "add", "next", "_", "curwin", "size", "<nl>", "{", "<nl>", "next", "_", "curwin", "_", "size", "-", "=", "p", "_", "wiw", "-", "(", "m", "-", "n", ")", ";", "<nl>", "+", "if", "(", "next", "_", "curwin", "_", "size", "<", "0", ")", "<nl>", "+", "next", "_", "curwin", "_", "size", "=", "0", ";", "<nl>", "new", "_", "size", "+", "=", "next", "_", "curwin", "_", "size", ";", "<nl>", "room", "-", "=", "new", "_", "size", "-", "next", "_", "curwin", "_", "size", ";", "<nl>", "}", "<nl>", "scroll", "_", "to", "_", "fraction", "(", "win", "_", "T", "*", "wp", ",", "int", "prev", "_", "height", ")", "<nl>", "void", "<nl>", "win", "_", "new", "_", "width", "(", "win", "_", "T", "*", "wp", ",", "int", "width", ")", "<nl>", "{", "<nl>", "-", "wp", "-", ">", "w", "_", "width", "=", "width", ";", "<nl>", "+", "/", "/", "Should", "we", "give", "an", "error", "if", "width", "<", "0", "?", "<nl>", "+", "wp", "-", ">", "w", "_", "width", "=", "width", "<", "0", "?", "0", ":", "width", ";", "<nl>", "wp", "-", ">", "w", "_", "lines", "_", "valid", "=", "0", ";", "<nl>", "changed", "_", "line", "_", "abv", "_", "curs", "_", "win", "(", "wp", ")", ";", "<nl>", "/", "/", "Handled", "in", "win", "_", "fix", "_", "scroll", "(", ")", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0598", "using", "negative", "array", "index", "with", "negative", "width", "window"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "498", ",", "<nl>", "/", "*", "*", "/", "<nl>", "497", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ops", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "498", ",", "<nl>", "/", "*", "*", "/", "<nl>", "497", ",", "<nl>", "/", "*", "*", "/", "<nl>", "op", "_", "delete", "(", "oap", ")", "<nl>", "did", "_", "yank", "=", "TRUE", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "Yank", "into", "small", "delete", "register", "when", "no", "register", "specified", "and", "the", "<nl>", "-", "*", "delete", "is", "within", "one", "line", ".", "*", "/", "<nl>", "-", "if", "(", "oap", "-", ">", "regname", "=", "=", "0", "&", "&", "oap", "-", ">", "motion", "_", "type", "!", "=", "MLINE", "<nl>", "+", "/", "*", "Yank", "into", "small", "delete", "register", "when", "no", "named", "register", "specified", "<nl>", "+", "*", "and", "the", "delete", "is", "within", "one", "line", ".", "*", "/", "<nl>", "+", "if", "(", "(", "<nl>", "+", "#", "ifdef", "FEAT", "_", "CLIPBOARD", "<nl>", "+", "(", "(", "clip", "_", "unnamed", "&", "CLIP", "_", "UNNAMED", ")", "&", "&", "oap", "-", ">", "regname", "=", "=", "'", "*", "'", ")", "|", "|", "<nl>", "+", "(", "(", "clip", "_", "unnamed", "&", "CLIP", "_", "UNNAMED", "_", "PLUS", ")", "&", "&", "oap", "-", ">", "regname", "=", "=", "'", "+", "'", ")", "|", "|", "<nl>", "+", "#", "endif", "<nl>", "+", "oap", "-", ">", "regname", "=", "=", "0", ")", "&", "&", "oap", "-", ">", "motion", "_", "type", "!", "=", "MLINE", "<nl>", "&", "&", "oap", "-", ">", "line", "_", "count", "=", "=", "1", ")", "<nl>", "{", "<nl>", "oap", "-", ">", "regname", "=", "'", "-", "'", ";", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "3", "498"]}
{"code_tokens": ["init", "_", "ccline", "(", "int", "firstc", ",", "int", "indent", ")", "<nl>", "ccline", ".", "cmdindent", "=", "(", "firstc", ">", "0", "?", "indent", ":", "0", ")", ";", "<nl>", "<nl>", "/", "/", "alloc", "initial", "ccline", ".", "cmdbuff", "<nl>", "-", "alloc", "_", "cmdbuff", "(", "exmode", "_", "active", "?", "250", ":", "indent", "+", "1", ")", ";", "<nl>", "+", "alloc", "_", "cmdbuff", "(", "indent", "+", "50", ")", ";", "<nl>", "if", "(", "ccline", ".", "cmdbuff", "=", "=", "NULL", ")", "<nl>", "return", "FAIL", ";", "<nl>", "ccline", ".", "cmdlen", "=", "ccline", ".", "cmdpos", "=", "0", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "init", "_", "ccline", "(", "int", "firstc", ",", "int", "indent", ")", "<nl>", "ccline", ".", "cmdindent", "=", "(", "firstc", ">", "0", "?", "indent", ":", "0", ")", ";", "<nl>", "<nl>", "/", "/", "alloc", "initial", "ccline", ".", "cmdbuff", "<nl>", "-", "alloc", "_", "cmdbuff", "(", "exmode", "_", "active", "?", "250", ":", "indent", "+", "1", ")", ";", "<nl>", "+", "alloc", "_", "cmdbuff", "(", "indent", "+", "50", ")", ";", "<nl>", "if", "(", "ccline", ".", "cmdbuff", "=", "=", "NULL", ")", "<nl>", "return", "FAIL", ";", "<nl>", "ccline", ".", "cmdlen", "=", "ccline", ".", "cmdpos", "=", "0", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4214", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4213", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4214", "illegal", "memory", "access", "with", "large", "tabstop", "in", "Ex", "mode"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1247", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1246", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "move", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1247", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1246", ",", "<nl>", "/", "*", "*", "/", "<nl>", "adjust", "_", "skipcol", "(", "void", ")", "<nl>", "return", ";", "<nl>", "<nl>", "int", "width1", "=", "curwin", "-", ">", "w", "_", "width", "-", "curwin", "_", "col", "_", "off", "(", ")", ";", "<nl>", "+", "if", "(", "width1", "<", "=", "0", ")", "<nl>", "+", "return", ";", "/", "/", "no", "text", "will", "be", "displayed", "<nl>", "+", "<nl>", "int", "width2", "=", "width1", "+", "curwin", "_", "col", "_", "off2", "(", ")", ";", "<nl>", "long", "so", "=", "get", "_", "scrolloff", "_", "value", "(", ")", ";", "<nl>", "int", "scrolloff", "_", "cols", "=", "so", "=", "=", "0", "?", "0", ":", "width1", "+", "(", "so", "-", "1", ")", "*", "width2", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1247", "divide", "by", "zero", "with", "smoothscroll", "set", "and", "a", "narrow", "window"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "35", ",", "<nl>", "/", "*", "*", "/", "<nl>", "34", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "os", "_", "win32", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "35", ",", "<nl>", "/", "*", "*", "/", "<nl>", "34", ",", "<nl>", "/", "*", "*", "/", "<nl>", "get", "_", "exe", "_", "name", "(", "void", ")", "<nl>", "*", "\"", "!", "xxd", "\"", "it", "'", "s", "found", "in", "our", "starting", "directory", ".", "Needed", "because", "<nl>", "*", "SearchPath", "(", ")", "also", "looks", "there", ".", "*", "/", "<nl>", "p", "=", "mch", "_", "getenv", "(", "\"", "PATH", "\"", ")", ";", "<nl>", "-", "if", "(", "STRLEN", "(", "p", ")", "+", "STRLEN", "(", "exe", "_", "path", ")", "+", "2", "<", "MAXPATHL", ")", ";", "<nl>", "+", "if", "(", "STRLEN", "(", "p", ")", "+", "STRLEN", "(", "exe", "_", "path", ")", "+", "2", "<", "MAXPATHL", ")", "<nl>", "{", "<nl>", "STRCPY", "(", "temp", ",", "p", ")", ";", "<nl>", "STRCAT", "(", "temp", ",", "\"", ";", "\"", ")", ";", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "3", "035"]}
{"code_tokens": ["u", "_", "undo", "_", "end", "(", "<nl>", "}", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "+", "if", "(", "VIsual", "_", "active", ")", "<nl>", "+", "check", "_", "pos", "(", "curbuf", ",", "&", "VIsual", ")", ";", "<nl>", "<nl>", "smsg", "_", "attr", "_", "keep", "(", "0", ",", "_", "(", "\"", "%", "ld", "%", "s", ";", "%", "s", "#", "%", "ld", "%", "s", "\"", ")", ",", "<nl>", "u", "_", "oldcount", "<", "0", "?", "-", "u", "_", "oldcount", ":", "u", "_", "oldcount", ",", "mmm", "src", "/", "version", ".", "c", "<nl>", "u", "_", "undo", "_", "end", "(", "<nl>", "}", "<nl>", "}", "<nl>", "#", "endif", "<nl>", "+", "if", "(", "VIsual", "_", "active", ")", "<nl>", "+", "check", "_", "pos", "(", "curbuf", ",", "&", "VIsual", ")", ";", "<nl>", "<nl>", "smsg", "_", "attr", "_", "keep", "(", "0", ",", "_", "(", "\"", "%", "ld", "%", "s", ";", "%", "s", "#", "%", "ld", "%", "s", "\"", ")", ",", "<nl>", "u", "_", "oldcount", "<", "0", "?", "-", "u", "_", "oldcount", ":", "u", "_", "oldcount", ",", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4217", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4216", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4217", "illegal", "memory", "access", "when", "undo", "makes", "Visual", "area", "invalid"]}
{"code_tokens": ["fname", "_", "match", "(", "<nl>", "rmp", "-", ">", "rm", "_", "ic", "=", "p", "_", "fic", "|", "|", "ignore", "_", "case", ";", "<nl>", "if", "(", "vim", "_", "regexec", "(", "rmp", ",", "name", ",", "(", "colnr", "_", "T", ")", "0", ")", ")", "<nl>", "match", "=", "name", ";", "<nl>", "-", "else", "<nl>", "+", "else", "if", "(", "rmp", "-", ">", "regprog", "!", "=", "NULL", ")", "<nl>", "{", "<nl>", "/", "/", "Replace", "$", "(", "HOME", ")", "with", "'", "~", "'", "and", "try", "matching", "again", ".", "<nl>", "p", "=", "home", "_", "replace", "_", "save", "(", "NULL", ",", "name", ")", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "fname", "_", "match", "(", "<nl>", "rmp", "-", ">", "rm", "_", "ic", "=", "p", "_", "fic", "|", "|", "ignore", "_", "case", ";", "<nl>", "if", "(", "vim", "_", "regexec", "(", "rmp", ",", "name", ",", "(", "colnr", "_", "T", ")", "0", ")", ")", "<nl>", "match", "=", "name", ";", "<nl>", "-", "else", "<nl>", "+", "else", "if", "(", "rmp", "-", ">", "regprog", "!", "=", "NULL", ")", "<nl>", "{", "<nl>", "/", "/", "Replace", "$", "(", "HOME", ")", "with", "'", "~", "'", "and", "try", "matching", "again", ".", "<nl>", "p", "=", "home", "_", "replace", "_", "save", "(", "NULL", ",", "name", ")", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4901", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4900", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4901", "NULL", "pointer", "access", "when", "using", "invalid", "pattern"]}
{"code_tokens": ["get", "_", "lisp", "_", "indent", "(", "void", ")", "<nl>", "amount", "+", "=", "2", ";", "<nl>", "else", "<nl>", "{", "<nl>", "-", "that", "+", "+", ";", "<nl>", "-", "amount", "+", "+", ";", "<nl>", "+", "if", "(", "*", "that", "!", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "that", "+", "+", ";", "<nl>", "+", "amount", "+", "+", ";", "<nl>", "+", "}", "<nl>", "firsttry", "=", "amount", ";", "<nl>", "<nl>", "while", "(", "VIM", "_", "ISWHITE", "(", "*", "that", ")", ")", "mmm", "src", "/", "version", ".", "c", "<nl>", "get", "_", "lisp", "_", "indent", "(", "void", ")", "<nl>", "amount", "+", "=", "2", ";", "<nl>", "else", "<nl>", "{", "<nl>", "-", "that", "+", "+", ";", "<nl>", "-", "amount", "+", "+", ";", "<nl>", "+", "if", "(", "*", "that", "!", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "that", "+", "+", ";", "<nl>", "+", "amount", "+", "+", ";", "<nl>", "+", "}", "<nl>", "firsttry", "=", "amount", ";", "<nl>", "<nl>", "while", "(", "VIM", "_", "ISWHITE", "(", "*", "that", ")", ")", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5151", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5150", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5151", "reading", "beyond", "the", "end", "of", "the", "line", "with", "lisp", "indenting"]}
{"code_tokens": ["movemark", "(", "int", "count", ")", "<nl>", "fname2fnum", "(", "jmp", ")", ";", "<nl>", "if", "(", "jmp", "-", ">", "fmark", ".", "fnum", "!", "=", "curbuf", "-", ">", "b", "_", "fnum", ")", "<nl>", "{", "<nl>", "-", "/", "/", "jump", "to", "other", "file", "<nl>", "-", "if", "(", "buflist", "_", "findnr", "(", "jmp", "-", ">", "fmark", ".", "fnum", ")", "=", "=", "NULL", ")", "<nl>", "+", "/", "/", "Make", "a", "copy", ",", "an", "autocommand", "may", "make", "\"", "jmp", "\"", "invalid", ".", "<nl>", "+", "fmark", "_", "T", "fmark", "=", "jmp", "-", ">", "fmark", ";", "<nl>", "+", "<nl>", "+", "/", "/", "jump", "to", "the", "file", "with", "the", "mark", "<nl>", "+", "if", "(", "buflist", "_", "findnr", "(", "fmark", ".", "fnum", ")", "=", "=", "NULL", ")", "<nl>", "{", "/", "/", "Skip", "this", "one", ".", ".", "<nl>", "count", "+", "=", "count", "<", "0", "?", "-", "1", ":", "1", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "-", "if", "(", "buflist", "_", "getfile", "(", "jmp", "-", ">", "fmark", ".", "fnum", ",", "jmp", "-", ">", "fmark", ".", "mark", ".", "lnum", ",", "<nl>", "-", "0", ",", "FALSE", ")", "=", "=", "FAIL", ")", "<nl>", "+", "if", "(", "buflist", "_", "getfile", "(", "fmark", ".", "fnum", ",", "fmark", ".", "mark", ".", "lnum", ",", "0", ",", "FALSE", ")", "=", "=", "FAIL", ")", "<nl>", "return", "(", "pos", "_", "T", "*", ")", "NULL", ";", "<nl>", "/", "/", "Set", "lnum", "again", ",", "autocommands", "my", "have", "changed", "it", "<nl>", "-", "curwin", "-", ">", "w", "_", "cursor", "=", "jmp", "-", ">", "fmark", ".", "mark", ";", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", "=", "fmark", ".", "mark", ";", "<nl>", "pos", "=", "(", "pos", "_", "T", "*", ")", "-", "1", ";", "<nl>", "}", "<nl>", "elsemmm", "src", "/", "version", ".", "c", "<nl>", "movemark", "(", "int", "count", ")", "<nl>", "fname2fnum", "(", "jmp", ")", ";", "<nl>", "if", "(", "jmp", "-", ">", "fmark", ".", "fnum", "!", "=", "curbuf", "-", ">", "b", "_", "fnum", ")", "<nl>", "{", "<nl>", "-", "/", "/", "jump", "to", "other", "file", "<nl>", "-", "if", "(", "buflist", "_", "findnr", "(", "jmp", "-", ">", "fmark", ".", "fnum", ")", "=", "=", "NULL", ")", "<nl>", "+", "/", "/", "Make", "a", "copy", ",", "an", "autocommand", "may", "make", "\"", "jmp", "\"", "invalid", ".", "<nl>", "+", "fmark", "_", "T", "fmark", "=", "jmp", "-", ">", "fmark", ";", "<nl>", "+", "<nl>", "+", "/", "/", "jump", "to", "the", "file", "with", "the", "mark", "<nl>", "+", "if", "(", "buflist", "_", "findnr", "(", "fmark", ".", "fnum", ")", "=", "=", "NULL", ")", "<nl>", "{", "/", "/", "Skip", "this", "one", ".", ".", "<nl>", "count", "+", "=", "count", "<", "0", "?", "-", "1", ":", "1", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "-", "if", "(", "buflist", "_", "getfile", "(", "jmp", "-", ">", "fmark", ".", "fnum", ",", "jmp", "-", ">", "fmark", ".", "mark", ".", "lnum", ",", "<nl>", "-", "0", ",", "FALSE", ")", "=", "=", "FAIL", ")", "<nl>", "+", "if", "(", "buflist", "_", "getfile", "(", "fmark", ".", "fnum", ",", "fmark", ".", "mark", ".", "lnum", ",", "0", ",", "FALSE", ")", "=", "=", "FAIL", ")", "<nl>", "return", "(", "pos", "_", "T", "*", ")", "NULL", ";", "<nl>", "/", "/", "Set", "lnum", "again", ",", "autocommands", "my", "have", "changed", "it", "<nl>", "-", "curwin", "-", ">", "w", "_", "cursor", "=", "jmp", "-", ">", "fmark", ".", "mark", ";", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", "=", "fmark", ".", "mark", ";", "<nl>", "pos", "=", "(", "pos", "_", "T", "*", ")", "-", "1", ";", "<nl>", "}", "<nl>", "else", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "530", ",", "<nl>", "/", "*", "*", "/", "<nl>", "529", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0530", "using", "freed", "memory", "when", "autocmd", "changes", "mark"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "789", ",", "<nl>", "/", "*", "*", "/", "<nl>", "788", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "buffer", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "789", ",", "<nl>", "/", "*", "*", "/", "<nl>", "788", ",", "<nl>", "/", "*", "*", "/", "<nl>", "do", "_", "buffer", "_", "ext", "(", "<nl>", "if", "(", "(", "flags", "&", "DOBUF", "_", "NOPOPUP", ")", "&", "&", "bt", "_", "popup", "(", "buf", ")", "&", "&", "!", "bt", "_", "terminal", "(", "buf", ")", ")", "<nl>", "return", "OK", ";", "<nl>", "#", "endif", "<nl>", "+", "if", "(", "(", "action", "=", "=", "DOBUF", "_", "GOTO", "|", "|", "action", "=", "=", "DOBUF", "_", "SPLIT", ")", "<nl>", "+", "&", "&", "(", "buf", "-", ">", "b", "_", "flags", "&", "BF", "_", "DUMMY", ")", ")", "<nl>", "+", "{", "<nl>", "+", "/", "/", "disallow", "navigating", "to", "the", "dummy", "buffer", "<nl>", "+", "semsg", "(", "_", "(", "e", "_", "buffer", "_", "nr", "_", "does", "_", "not", "_", "exist", ")", ",", "count", ")", ";", "<nl>", "+", "return", "FAIL", ";", "<nl>", "+", "}", "<nl>", "<nl>", "#", "ifdef", "FEAT", "_", "GUI", "<nl>", "need", "_", "mouse", "_", "correct", "=", "TRUE", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0789", "dummy", "buffer", "ends", "up", "in", "a", "window"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "148", ",", "<nl>", "/", "*", "*", "/", "<nl>", "147", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "if", "_", "tcl", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "148", ",", "<nl>", "/", "*", "*", "/", "<nl>", "147", ",", "<nl>", "/", "*", "*", "/", "<nl>", "tclvimexpr", "(", "<nl>", "if", "(", "str", "=", "=", "NULL", ")", "<nl>", "Tcl", "_", "SetResult", "(", "interp", ",", "_", "(", "\"", "invalid", "expression", "\"", ")", ",", "TCL", "_", "STATIC", ")", ";", "<nl>", "else", "<nl>", "+", "{", "<nl>", "Tcl", "_", "SetResult", "(", "interp", ",", "str", ",", "TCL", "_", "VOLATILE", ")", ";", "<nl>", "+", "vim", "_", "free", "(", "str", ")", ";", "<nl>", "+", "}", "<nl>", "err", "=", "vimerror", "(", "interp", ")", ";", "<nl>", "#", "else", "<nl>", "Tcl", "_", "SetResult", "(", "interp", ",", "_", "(", "\"", "expressions", "disabled", "at", "compile", "time", "\"", ")", ",", "TCL", "_", "STATIC", ")", ";", "<nl>"], "docstring_tokens": ["patch", "8", "1", "0148", "memory", "leak", "when", "using", "tcl", "expr", "command"]}
{"code_tokens": ["getvcol", "(", "<nl>", "posptr", "=", "NULL", ";", "/", "/", "continue", "until", "the", "NUL", "<nl>", "else", "<nl>", "{", "<nl>", "-", "/", "/", "Special", "check", "for", "an", "empty", "line", ",", "which", "can", "happen", "on", "exit", ",", "when", "<nl>", "-", "/", "/", "ml", "_", "get", "_", "buf", "(", ")", "always", "returns", "an", "empty", "string", ".", "<nl>", "-", "if", "(", "*", "ptr", "=", "=", "NUL", ")", "<nl>", "-", "pos", "-", ">", "col", "=", "0", ";", "<nl>", "+", "colnr", "_", "T", "i", ";", "<nl>", "+", "<nl>", "+", "/", "/", "In", "a", "few", "cases", "the", "position", "can", "be", "beyond", "the", "end", "of", "the", "line", ".", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "pos", "-", ">", "col", ";", "+", "+", "i", ")", "<nl>", "+", "if", "(", "ptr", "[", "i", "]", "=", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "pos", "-", ">", "col", "=", "i", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "posptr", "=", "ptr", "+", "pos", "-", ">", "col", ";", "<nl>", "if", "(", "has", "_", "mbyte", ")", "<nl>", "/", "/", "always", "start", "on", "the", "first", "bytemmm", "src", "/", "version", ".", "c", "<nl>", "getvcol", "(", "<nl>", "posptr", "=", "NULL", ";", "/", "/", "continue", "until", "the", "NUL", "<nl>", "else", "<nl>", "{", "<nl>", "-", "/", "/", "Special", "check", "for", "an", "empty", "line", ",", "which", "can", "happen", "on", "exit", ",", "when", "<nl>", "-", "/", "/", "ml", "_", "get", "_", "buf", "(", ")", "always", "returns", "an", "empty", "string", ".", "<nl>", "-", "if", "(", "*", "ptr", "=", "=", "NUL", ")", "<nl>", "-", "pos", "-", ">", "col", "=", "0", ";", "<nl>", "+", "colnr", "_", "T", "i", ";", "<nl>", "+", "<nl>", "+", "/", "/", "In", "a", "few", "cases", "the", "position", "can", "be", "beyond", "the", "end", "of", "the", "line", ".", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "pos", "-", ">", "col", ";", "+", "+", "i", ")", "<nl>", "+", "if", "(", "ptr", "[", "i", "]", "=", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "pos", "-", ">", "col", "=", "i", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "posptr", "=", "ptr", "+", "pos", "-", ">", "col", ";", "<nl>", "if", "(", "has", "_", "mbyte", ")", "<nl>", "/", "/", "always", "start", "on", "the", "first", "byte", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3950", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3949", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3950", "going", "beyond", "the", "end", "of", "the", "line", "with", "V"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "193", ",", "<nl>", "/", "*", "*", "/", "<nl>", "192", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "getln", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "193", ",", "<nl>", "/", "*", "*", "/", "<nl>", "192", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ex", "_", "window", "(", ")", "<nl>", "ccline", ".", "cmdbuff", "=", "vim", "_", "strsave", "(", "(", "char", "_", "u", "*", ")", "\"", "qa", "\"", ")", ";", "<nl>", "cmdwin", "_", "result", "=", "CAR", ";", "<nl>", "}", "<nl>", "+", "else", "if", "(", "cmdwin", "_", "result", "=", "=", "Ctrl", "_", "C", ")", "<nl>", "+", "{", "<nl>", "+", "/", "*", ":", "q", "or", ":", "close", ",", "don", "'", "t", "execute", "any", "command", "<nl>", "+", "*", "and", "don", "'", "t", "modify", "the", "cmd", "window", ".", "*", "/", "<nl>", "+", "ccline", ".", "cmdbuff", "=", "NULL", ";", "<nl>", "+", "}", "<nl>", "else", "<nl>", "ccline", ".", "cmdbuff", "=", "vim", "_", "strsave", "(", "ml", "_", "get", "_", "curline", "(", ")", ")", ";", "<nl>", "if", "(", "ccline", ".", "cmdbuff", "=", "=", "NULL", ")", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "193", ",", "<nl>", "/", "*", "*", "/", "<nl>", "192", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ex", "_", "window", "(", ")", "<nl>", "ccline", ".", "cmdbuff", "=", "vim", "_", "strsave", "(", "(", "char", "_", "u", "*", ")", "\"", "qa", "\"", ")", ";", "<nl>", "cmdwin", "_", "result", "=", "CAR", ";", "<nl>", "}", "<nl>", "+", "else", "if", "(", "cmdwin", "_", "result", "=", "=", "Ctrl", "_", "C", ")", "<nl>", "+", "{", "<nl>", "+", "/", "*", ":", "q", "or", ":", "close", ",", "don", "'", "t", "execute", "any", "command", "<nl>", "+", "*", "and", "don", "'", "t", "modify", "the", "cmd", "window", ".", "*", "/", "<nl>", "+", "ccline", ".", "cmdbuff", "=", "NULL", ";", "<nl>", "+", "}", "<nl>", "else", "<nl>", "ccline", ".", "cmdbuff", "=", "vim", "_", "strsave", "(", "ml", "_", "get", "_", "curline", "(", ")", ")", ";", "<nl>", "if", "(", "ccline", ".", "cmdbuff", "=", "=", "NULL", ")", "<nl>", "ex", "_", "close", "(", "eap", ")", "<nl>", "{", "<nl>", "#", "ifdef", "FEAT", "_", "CMDWIN", "<nl>", "if", "(", "cmdwin", "_", "type", "!", "=", "0", ")", "<nl>", "-", "cmdwin", "_", "result", "=", "K", "_", "IGNORE", ";", "<nl>", "+", "cmdwin", "_", "result", "=", "Ctrl", "_", "C", ";", "<nl>", "else", "<nl>", "#", "endif", "<nl>", "if", "(", "!", "text", "_", "locked", "(", ")", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "3", "193"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "466", ",", "<nl>", "/", "*", "*", "/", "<nl>", "465", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ops", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "466", ",", "<nl>", "/", "*", "*", "/", "<nl>", "465", ",", "<nl>", "/", "*", "*", "/", "<nl>", "op", "_", "delete", "(", "oap", ")", "<nl>", "+", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", ";", "<nl>", "del", "_", "lines", "(", "(", "long", ")", "(", "oap", "-", ">", "line", "_", "count", "-", "2", ")", ",", "FALSE", ")", ";", "<nl>", "<nl>", "+", "if", "(", "delete", "_", "last", "_", "line", ")", "<nl>", "+", "oap", "-", ">", "end", ".", "lnum", "=", "curbuf", "-", ">", "b", "_", "ml", ".", "ml", "_", "line", "_", "count", ";", "<nl>", "+", "<nl>", "n", "=", "(", "oap", "-", ">", "end", ".", "col", "+", "1", "-", "!", "oap", "-", ">", "inclusive", ")", ";", "<nl>", "if", "(", "oap", "-", ">", "inclusive", "&", "&", "delete", "_", "last", "_", "line", "<nl>", "&", "&", "n", ">", "(", "int", ")", "STRLEN", "(", "ml", "_", "get", "(", "oap", "-", ">", "end", ".", "lnum", ")", ")", ")", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "3", "466"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "190", ",", "<nl>", "/", "*", "*", "/", "<nl>", "189", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "normal", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "190", ",", "<nl>", "/", "*", "*", "/", "<nl>", "189", ",", "<nl>", "/", "*", "*", "/", "<nl>", "nv", "_", "brace", "(", "cap", ")", "<nl>", "clearopbeep", "(", "cap", "-", ">", "oap", ")", ";", "<nl>", "else", "<nl>", "{", "<nl>", "+", "/", "*", "Don", "'", "t", "leave", "the", "cursor", "on", "the", "NUL", "past", "a", "line", "*", "/", "<nl>", "+", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ">", "0", "&", "&", "gchar", "_", "cursor", "(", ")", "=", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "-", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "col", ";", "<nl>", "+", "cap", "-", ">", "oap", "-", ">", "inclusive", "=", "TRUE", ";", "<nl>", "+", "}", "<nl>", "#", "ifdef", "FEAT", "_", "VIRTUALEDIT", "<nl>", "curwin", "-", ">", "w", "_", "cursor", ".", "coladd", "=", "0", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "1", "190"]}
{"code_tokens": ["n", "_", "start", "_", "visual", "_", "mode", "(", "int", "c", ")", "<nl>", "VIsual", "_", "mode", "=", "c", ";", "<nl>", "VIsual", "_", "active", "=", "TRUE", ";", "<nl>", "VIsual", "_", "reselect", "=", "TRUE", ";", "<nl>", "-", "trigger", "_", "modechanged", "(", ")", ";", "<nl>", "<nl>", "/", "/", "Corner", "case", ":", "the", "0", "position", "in", "a", "tab", "may", "change", "when", "going", "into", "<nl>", "/", "/", "virtualedit", ".", "Recalculate", "curwin", "-", ">", "w", "_", "cursor", "to", "avoid", "bad", "highlighting", ".", "<nl>", "n", "_", "start", "_", "visual", "_", "mode", "(", "int", "c", ")", "<nl>", "foldAdjustVisual", "(", ")", ";", "<nl>", "#", "endif", "<nl>", "<nl>", "+", "trigger", "_", "modechanged", "(", ")", ";", "<nl>", "setmouse", "(", ")", ";", "<nl>", "#", "ifdef", "FEAT", "_", "CONCEAL", "<nl>", "/", "/", "Check", "if", "redraw", "is", "needed", "after", "changing", "the", "state", ".", "mmm", "src", "/", "version", ".", "c", "<nl>", "n", "_", "start", "_", "visual", "_", "mode", "(", "int", "c", ")", "<nl>", "VIsual", "_", "mode", "=", "c", ";", "<nl>", "VIsual", "_", "active", "=", "TRUE", ";", "<nl>", "VIsual", "_", "reselect", "=", "TRUE", ";", "<nl>", "-", "trigger", "_", "modechanged", "(", ")", ";", "<nl>", "<nl>", "/", "/", "Corner", "case", ":", "the", "0", "position", "in", "a", "tab", "may", "change", "when", "going", "into", "<nl>", "/", "/", "virtualedit", ".", "Recalculate", "curwin", "-", ">", "w", "_", "cursor", "to", "avoid", "bad", "highlighting", ".", "<nl>", "n", "_", "start", "_", "visual", "_", "mode", "(", "int", "c", ")", "<nl>", "foldAdjustVisual", "(", ")", ";", "<nl>", "#", "endif", "<nl>", "<nl>", "+", "trigger", "_", "modechanged", "(", ")", ";", "<nl>", "setmouse", "(", ")", ";", "<nl>", "#", "ifdef", "FEAT", "_", "CONCEAL", "<nl>", "/", "/", "Check", "if", "redraw", "is", "needed", "after", "changing", "the", "state", ".", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3610", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3609", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3610", "crash", "when", "ModeChanged", "triggered", "too", "early"]}
{"code_tokens": ["add", "_", "buff", "(", "<nl>", "static", "void", "<nl>", "delete", "_", "buff", "_", "tail", "(", "buffheader", "_", "T", "*", "buf", ",", "int", "slen", ")", "<nl>", "{", "<nl>", "-", "int", "len", "=", "(", "int", ")", "STRLEN", "(", "buf", "-", ">", "bh", "_", "curr", "-", ">", "b", "_", "str", ")", ";", "<nl>", "+", "int", "len", ";", "<nl>", "<nl>", "+", "if", "(", "buf", "-", ">", "bh", "_", "curr", "=", "=", "NULL", "|", "|", "buf", "-", ">", "bh", "_", "curr", "-", ">", "b", "_", "str", "=", "=", "NULL", ")", "<nl>", "+", "return", ";", "/", "/", "nothing", "to", "delete", "<nl>", "+", "len", "=", "(", "int", ")", "STRLEN", "(", "buf", "-", ">", "bh", "_", "curr", "-", ">", "b", "_", "str", ")", ";", "<nl>", "if", "(", "len", ">", "=", "slen", ")", "<nl>", "{", "<nl>", "buf", "-", ">", "bh", "_", "curr", "-", ">", "b", "_", "str", "[", "len", "-", "slen", "]", "=", "NUL", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "add", "_", "buff", "(", "<nl>", "static", "void", "<nl>", "delete", "_", "buff", "_", "tail", "(", "buffheader", "_", "T", "*", "buf", ",", "int", "slen", ")", "<nl>", "{", "<nl>", "-", "int", "len", "=", "(", "int", ")", "STRLEN", "(", "buf", "-", ">", "bh", "_", "curr", "-", ">", "b", "_", "str", ")", ";", "<nl>", "+", "int", "len", ";", "<nl>", "<nl>", "+", "if", "(", "buf", "-", ">", "bh", "_", "curr", "=", "=", "NULL", "|", "|", "buf", "-", ">", "bh", "_", "curr", "-", ">", "b", "_", "str", "=", "=", "NULL", ")", "<nl>", "+", "return", ";", "/", "/", "nothing", "to", "delete", "<nl>", "+", "len", "=", "(", "int", ")", "STRLEN", "(", "buf", "-", ">", "bh", "_", "curr", "-", ">", "b", "_", "str", ")", ";", "<nl>", "if", "(", "len", ">", "=", "slen", ")", "<nl>", "{", "<nl>", "buf", "-", ">", "bh", "_", "curr", "-", ">", "b", "_", "str", "[", "len", "-", "slen", "]", "=", "NUL", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4233", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4232", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4233", "crash", "when", "recording", "and", "using", "Select", "mode"]}
{"code_tokens": ["buflist", "_", "match", "(", "<nl>", "<nl>", "/", "/", "First", "try", "the", "short", "file", "name", ",", "then", "the", "long", "file", "name", ".", "<nl>", "match", "=", "fname", "_", "match", "(", "rmp", ",", "buf", "-", ">", "b", "_", "sfname", ",", "ignore", "_", "case", ")", ";", "<nl>", "-", "if", "(", "match", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "match", "=", "=", "NULL", "&", "&", "rmp", "-", ">", "regprog", "!", "=", "NULL", ")", "<nl>", "match", "=", "fname", "_", "match", "(", "rmp", ",", "buf", "-", ">", "b", "_", "ffname", ",", "ignore", "_", "case", ")", ";", "<nl>", "<nl>", "return", "match", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "buflist", "_", "match", "(", "<nl>", "<nl>", "/", "/", "First", "try", "the", "short", "file", "name", ",", "then", "the", "long", "file", "name", ".", "<nl>", "match", "=", "fname", "_", "match", "(", "rmp", ",", "buf", "-", ">", "b", "_", "sfname", ",", "ignore", "_", "case", ")", ";", "<nl>", "-", "if", "(", "match", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "match", "=", "=", "NULL", "&", "&", "rmp", "-", ">", "regprog", "!", "=", "NULL", ")", "<nl>", "match", "=", "fname", "_", "match", "(", "rmp", ",", "buf", "-", ">", "b", "_", "ffname", ",", "ignore", "_", "case", ")", ";", "<nl>", "<nl>", "return", "match", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4938", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4937", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4938", "crash", "when", "matching", "buffer", "with", "invalid", "pattern"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "339", ",", "<nl>", "/", "*", "*", "/", "<nl>", "338", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "gui", "_", "x11", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "339", ",", "<nl>", "/", "*", "*", "/", "<nl>", "338", ",", "<nl>", "/", "*", "*", "/", "<nl>", "gui", "_", "x11", "_", "create", "_", "blank", "_", "mouse", "(", "void", ")", "<nl>", "{", "<nl>", "Pixmap", "blank", "_", "pixmap", "=", "XCreatePixmap", "(", "gui", ".", "dpy", ",", "gui", ".", "wid", ",", "1", ",", "1", ",", "1", ")", ";", "<nl>", "GC", "gc", "=", "XCreateGC", "(", "gui", ".", "dpy", ",", "blank", "_", "pixmap", ",", "(", "unsigned", "long", ")", "0", ",", "(", "XGCValues", "*", ")", "0", ")", ";", "<nl>", "-", "XDrawPoint", "(", "gui", ".", "dpy", ",", "blank", "_", "pixmap", ",", "gc", ",", "0", ",", "0", ")", ";", "<nl>", "-", "XFreeGC", "(", "gui", ".", "dpy", ",", "gc", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "gc", "!", "=", "NULL", ")", "<nl>", "+", "{", "<nl>", "+", "XDrawPoint", "(", "gui", ".", "dpy", ",", "blank", "_", "pixmap", ",", "gc", ",", "0", ",", "0", ")", ";", "<nl>", "+", "XFreeGC", "(", "gui", ".", "dpy", ",", "gc", ")", ";", "<nl>", "+", "}", "<nl>", "return", "XCreatePixmapCursor", "(", "gui", ".", "dpy", ",", "blank", "_", "pixmap", ",", "blank", "_", "pixmap", ",", "<nl>", "-", "(", "XColor", "*", ")", "&", "gui", ".", "norm", "_", "pixel", ",", "(", "XColor", "*", ")", "&", "gui", ".", "norm", "_", "pixel", ",", "0", ",", "0", ")", ";", "<nl>", "+", "(", "XColor", "*", ")", "&", "gui", ".", "norm", "_", "pixel", ",", "(", "XColor", "*", ")", "&", "gui", ".", "norm", "_", "pixel", ",", "0", ",", "0", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0339", "no", "check", "if", "the", "return", "value", "of", "XChangeGC", "is", "NULL"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "102", ",", "<nl>", "/", "*", "*", "/", "<nl>", "101", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "insexpand", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "102", ",", "<nl>", "/", "*", "*", "/", "<nl>", "101", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ins", "_", "comp", "_", "get", "_", "next", "_", "word", "_", "or", "_", "line", "(", "<nl>", "{", "<nl>", "char", "_", "u", "*", "tmp", "_", "ptr", "=", "ptr", ";", "<nl>", "<nl>", "-", "if", "(", "compl", "_", "status", "_", "adding", "(", ")", ")", "<nl>", "+", "if", "(", "compl", "_", "status", "_", "adding", "(", ")", "&", "&", "compl", "_", "length", "<", "=", "(", "int", ")", "STRLEN", "(", "tmp", "_", "ptr", ")", ")", "<nl>", "{", "<nl>", "tmp", "_", "ptr", "+", "=", "compl", "_", "length", ";", "<nl>", "/", "/", "Skip", "if", "already", "inside", "a", "word", ".", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0102", "reading", "past", "end", "of", "line", "with", "insert", "mode", "completion"]}
{"code_tokens": ["do", "_", "tag", "(", "<nl>", "char", "_", "u", "*", "buf", "_", "ffname", "=", "curbuf", "-", ">", "b", "_", "ffname", ";", "/", "/", "name", "to", "use", "for", "<nl>", "/", "/", "priority", "computation", "<nl>", "int", "use", "_", "tfu", "=", "1", ";", "<nl>", "+", "char", "_", "u", "*", "tofree", "=", "NULL", ";", "<nl>", "<nl>", "/", "/", "remember", "the", "matches", "for", "the", "last", "used", "tag", "<nl>", "static", "int", "num", "_", "matches", "=", "0", ";", "<nl>", "do", "_", "tag", "(", "<nl>", "*", "When", "desired", "match", "not", "found", "yet", ",", "try", "to", "find", "it", "(", "and", "others", ")", ".", "<nl>", "*", "/", "<nl>", "if", "(", "use", "_", "tagstack", ")", "<nl>", "-", "name", "=", "tagstack", "[", "tagstackidx", "]", ".", "tagname", ";", "<nl>", "+", "{", "<nl>", "+", "/", "/", "make", "a", "copy", ",", "the", "tagstack", "may", "change", "in", "'", "tagfunc", "'", "<nl>", "+", "name", "=", "vim", "_", "strsave", "(", "tagstack", "[", "tagstackidx", "]", ".", "tagname", ")", ";", "<nl>", "+", "vim", "_", "free", "(", "tofree", ")", ";", "<nl>", "+", "tofree", "=", "name", ";", "<nl>", "+", "}", "<nl>", "#", "if", "defined", "(", "FEAT", "_", "QUICKFIX", ")", "<nl>", "else", "if", "(", "g", "_", "do", "_", "tagpreview", "!", "=", "0", ")", "<nl>", "name", "=", "ptag", "_", "entry", ".", "tagname", ";", "<nl>", "end", "_", "do", "_", "tag", ":", "<nl>", "g", "_", "do", "_", "tagpreview", "=", "0", ";", "/", "/", "don", "'", "t", "do", "tag", "preview", "next", "time", "<nl>", "#", "endif", "<nl>", "<nl>", "+", "vim", "_", "free", "(", "tofree", ")", ";", "<nl>", "#", "ifdef", "FEAT", "_", "CSCOPE", "<nl>", "return", "jumped", "_", "to", "_", "tag", ";", "<nl>", "#", "elsemmm", "src", "/", "version", ".", "c", "<nl>", "do", "_", "tag", "(", "<nl>", "char", "_", "u", "*", "buf", "_", "ffname", "=", "curbuf", "-", ">", "b", "_", "ffname", ";", "/", "/", "name", "to", "use", "for", "<nl>", "/", "/", "priority", "computation", "<nl>", "int", "use", "_", "tfu", "=", "1", ";", "<nl>", "+", "char", "_", "u", "*", "tofree", "=", "NULL", ";", "<nl>", "<nl>", "/", "/", "remember", "the", "matches", "for", "the", "last", "used", "tag", "<nl>", "static", "int", "num", "_", "matches", "=", "0", ";", "<nl>", "do", "_", "tag", "(", "<nl>", "*", "When", "desired", "match", "not", "found", "yet", ",", "try", "to", "find", "it", "(", "and", "others", ")", ".", "<nl>", "*", "/", "<nl>", "if", "(", "use", "_", "tagstack", ")", "<nl>", "-", "name", "=", "tagstack", "[", "tagstackidx", "]", ".", "tagname", ";", "<nl>", "+", "{", "<nl>", "+", "/", "/", "make", "a", "copy", ",", "the", "tagstack", "may", "change", "in", "'", "tagfunc", "'", "<nl>", "+", "name", "=", "vim", "_", "strsave", "(", "tagstack", "[", "tagstackidx", "]", ".", "tagname", ")", ";", "<nl>", "+", "vim", "_", "free", "(", "tofree", ")", ";", "<nl>", "+", "tofree", "=", "name", ";", "<nl>", "+", "}", "<nl>", "#", "if", "defined", "(", "FEAT", "_", "QUICKFIX", ")", "<nl>", "else", "if", "(", "g", "_", "do", "_", "tagpreview", "!", "=", "0", ")", "<nl>", "name", "=", "ptag", "_", "entry", ".", "tagname", ";", "<nl>", "end", "_", "do", "_", "tag", ":", "<nl>", "g", "_", "do", "_", "tagpreview", "=", "0", ";", "/", "/", "don", "'", "t", "do", "tag", "preview", "next", "time", "<nl>", "#", "endif", "<nl>", "<nl>", "+", "vim", "_", "free", "(", "tofree", ")", ";", "<nl>", "#", "ifdef", "FEAT", "_", "CSCOPE", "<nl>", "return", "jumped", "_", "to", "_", "tag", ";", "<nl>", "#", "else", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "246", ",", "<nl>", "/", "*", "*", "/", "<nl>", "245", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0246", "using", "freed", "memory", "when", "tagfunc", "deletes", "the", "buffer"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4646", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4645", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "regexp", "_", "bt", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4646", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4645", ",", "<nl>", "/", "*", "*", "/", "<nl>", "regmatch", "(", "<nl>", "int", "mark", "=", "OPERAND", "(", "scan", ")", "[", "0", "]", ";", "<nl>", "int", "cmp", "=", "OPERAND", "(", "scan", ")", "[", "1", "]", ";", "<nl>", "pos", "_", "T", "*", "pos", ";", "<nl>", "+", "size", "_", "t", "col", "=", "REG", "_", "MULTI", "?", "rex", ".", "input", "-", "rex", ".", "line", ":", "0", ";", "<nl>", "<nl>", "pos", "=", "getmark", "_", "buf", "(", "rex", ".", "reg", "_", "buf", ",", "mark", ",", "FALSE", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Line", "may", "have", "been", "freed", ",", "get", "it", "again", ".", "<nl>", "+", "if", "(", "REG", "_", "MULTI", ")", "<nl>", "+", "{", "<nl>", "+", "rex", ".", "line", "=", "reg", "_", "getline", "(", "rex", ".", "lnum", ")", ";", "<nl>", "+", "rex", ".", "input", "=", "rex", ".", "line", "+", "col", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "pos", "=", "=", "NULL", "/", "/", "mark", "doesn", "'", "t", "exist", "<nl>", "|", "|", "pos", "-", ">", "lnum", "<", "=", "0", ")", "/", "/", "mark", "isn", "'", "t", "set", "in", "reg", "_", "buf", "<nl>", "{", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4646", "using", "buffer", "line", "after", "it", "has", "been", "freed"]}
{"code_tokens": ["ins", "_", "compl", "_", "infercase", "_", "gettext", "(", "<nl>", "/", "/", "growarray", ".", "Add", "the", "character", "in", "the", "next", "round", ".", "<nl>", "if", "(", "ga", "_", "grow", "(", "&", "gap", ",", "IOSIZE", ")", "=", "=", "FAIL", ")", "<nl>", "return", "(", "char", "_", "u", "*", ")", "\"", "[", "failed", "]", "\"", ";", "<nl>", "+", "*", "p", "=", "NUL", ";", "<nl>", "STRCPY", "(", "gap", ".", "ga", "_", "data", ",", "IObuff", ")", ";", "<nl>", "gap", ".", "ga", "_", "len", "=", "(", "int", ")", "STRLEN", "(", "IObuff", ")", ";", "<nl>", "}", "mmm", "src", "/", "version", ".", "c", "<nl>", "ins", "_", "compl", "_", "infercase", "_", "gettext", "(", "<nl>", "/", "/", "growarray", ".", "Add", "the", "character", "in", "the", "next", "round", ".", "<nl>", "if", "(", "ga", "_", "grow", "(", "&", "gap", ",", "IOSIZE", ")", "=", "=", "FAIL", ")", "<nl>", "return", "(", "char", "_", "u", "*", ")", "\"", "[", "failed", "]", "\"", ";", "<nl>", "+", "*", "p", "=", "NUL", ";", "<nl>", "STRCPY", "(", "gap", ".", "ga", "_", "data", ",", "IObuff", ")", ";", "<nl>", "gap", ".", "ga", "_", "len", "=", "(", "int", ")", "STRLEN", "(", "IObuff", ")", ";", "<nl>", "}", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "60", ",", "<nl>", "/", "*", "*", "/", "<nl>", "59", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0060", "accessing", "uninitialized", "memory", "when", "completing", "long", "line"]}
{"code_tokens": ["|", "|", "defined", "(", "FEAT", "_", "GUI", "_", "MAC", ")", "\\", "<nl>", "|", "|", "defined", "(", "FEAT", "_", "GUI", "_", "W32", ")", "\\", "<nl>", "|", "|", "defined", "(", "FEAT", "_", "GUI", "_", "W16", ")", "\\", "<nl>", "-", "|", "|", "defined", "(", "FEAT", "_", "GUI", "_", "BEOS", ")", "\\", "<nl>", "-", "|", "|", "defined", "(", "FEAT", "_", "GUI", "_", "AMIGA", ")", "\\", "<nl>", "|", "|", "defined", "(", "FEAT", "_", "GUI", "_", "PHOTON", ")", "\\", "<nl>", "|", "|", "defined", "(", "FEAT", "_", "GUI", "_", "KDE", ")", "<nl>", "#", "if", "!", "defined", "(", "FEAT", "_", "GUI", ")", "&", "&", "!", "defined", "(", "NO", "_", "X11", "_", "INCLUDES", ")", "<nl>", "typedef", "struct", "VimClipboard", "<nl>", "int", "_", "u", "format", ";", "/", "*", "Vim", "'", "s", "own", "special", "clipboard", "format", "*", "/", "<nl>", "int", "_", "u", "format", "_", "raw", ";", "/", "*", "Vim", "'", "s", "raw", "text", "clipboard", "format", "*", "/", "<nl>", "#", "endif", "<nl>", "-", "#", "ifdef", "FEAT", "_", "GUI", "_", "BEOS", "<nl>", "-", "/", "*", "no", "clipboard", "at", "the", "moment", "*", "/", "<nl>", "-", "#", "endif", "<nl>", "}", "VimClipboard", ";", "<nl>", "#", "else", "<nl>", "typedef", "int", "VimClipboard", ";", "/", "*", "This", "is", "required", "for", "the", "prototypes", ".", "*", "/", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "0030"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "46", ",", "<nl>", "/", "*", "*", "/", "<nl>", "45", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "insexpand", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "46", ",", "<nl>", "/", "*", "*", "/", "<nl>", "45", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ins", "_", "compl", "_", "add", "(", "<nl>", "{", "<nl>", "if", "(", "!", "match", "_", "at", "_", "original", "_", "text", "(", "match", ")", "<nl>", "&", "&", "STRNCMP", "(", "match", "-", ">", "cp", "_", "str", ",", "str", ",", "len", ")", "=", "=", "0", "<nl>", "-", "&", "&", "match", "-", ">", "cp", "_", "str", "[", "len", "]", "=", "=", "NUL", ")", "<nl>", "+", "&", "&", "(", "(", "int", ")", "STRLEN", "(", "match", "-", ">", "cp", "_", "str", ")", "<", "=", "len", "<nl>", "+", "|", "|", "match", "-", ">", "cp", "_", "str", "[", "len", "]", "=", "=", "NUL", ")", ")", "<nl>", "return", "NOTDONE", ";", "<nl>", "match", "=", "match", "-", ">", "cp", "_", "next", ";", "<nl>", "}", "while", "(", "match", "!", "=", "NULL", "&", "&", "!", "is", "_", "first", "_", "match", "(", "match", ")", ")", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0046", "reading", "past", "end", "of", "completion", "with", "duplicate", "match"]}
{"code_tokens": ["find", "_", "help", "_", "tags", "(", "<nl>", "|", "|", "(", "vim", "_", "strchr", "(", "(", "char", "_", "u", "*", ")", "\"", "%", "_", "z", "@", "\"", ",", "arg", "[", "1", "]", ")", "!", "=", "NULL", "<nl>", "&", "&", "arg", "[", "2", "]", "!", "=", "NUL", ")", ")", ")", "<nl>", "{", "<nl>", "-", "STRCPY", "(", "d", ",", "\"", "/", "\\", "\\", "\\", "\\", "\"", ")", ";", "<nl>", "-", "STRCPY", "(", "d", "+", "3", ",", "arg", "+", "1", ")", ";", "<nl>", "+", "vim", "_", "snprintf", "(", "(", "char", "*", ")", "d", ",", "IOSIZE", ",", "\"", "/", "\\", "\\", "\\", "\\", "%", "s", "\"", ",", "arg", "+", "1", ")", ";", "<nl>", "/", "/", "Check", "for", "\"", "/", "\\", "\\", "_", "$", "\"", ",", "should", "be", "\"", "/", "\\", "\\", "_", "\\", "$", "\"", "<nl>", "if", "(", "d", "[", "3", "]", "=", "=", "'", "_", "'", "&", "&", "d", "[", "4", "]", "=", "=", "'", "$", "'", ")", "<nl>", "STRCPY", "(", "d", "+", "4", ",", "\"", "\\", "\\", "$", "\"", ")", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "find", "_", "help", "_", "tags", "(", "<nl>", "|", "|", "(", "vim", "_", "strchr", "(", "(", "char", "_", "u", "*", ")", "\"", "%", "_", "z", "@", "\"", ",", "arg", "[", "1", "]", ")", "!", "=", "NULL", "<nl>", "&", "&", "arg", "[", "2", "]", "!", "=", "NUL", ")", ")", ")", "<nl>", "{", "<nl>", "-", "STRCPY", "(", "d", ",", "\"", "/", "\\", "\\", "\\", "\\", "\"", ")", ";", "<nl>", "-", "STRCPY", "(", "d", "+", "3", ",", "arg", "+", "1", ")", ";", "<nl>", "+", "vim", "_", "snprintf", "(", "(", "char", "*", ")", "d", ",", "IOSIZE", ",", "\"", "/", "\\", "\\", "\\", "\\", "%", "s", "\"", ",", "arg", "+", "1", ")", ";", "<nl>", "/", "/", "Check", "for", "\"", "/", "\\", "\\", "_", "$", "\"", ",", "should", "be", "\"", "/", "\\", "\\", "_", "\\", "$", "\"", "<nl>", "if", "(", "d", "[", "3", "]", "=", "=", "'", "_", "'", "&", "&", "d", "[", "4", "]", "=", "=", "'", "$", "'", ")", "<nl>", "STRCPY", "(", "d", "+", "4", ",", "\"", "\\", "\\", "$", "\"", ")", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3669", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3668", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3669", "buffer", "overflow", "with", "long", "help", "argument"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5164", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5163", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "diff", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5164", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5163", ",", "<nl>", "/", "*", "*", "/", "<nl>", "diff", "_", "mark", "_", "adjust", "_", "tp", "(", "<nl>", "/", "/", "2", ".", "3", ".", "4", ".", "5", ".", ":", "inserted", "/", "deleted", "lines", "touching", "this", "diff", ".", "<nl>", "if", "(", "deleted", ">", "0", ")", "<nl>", "{", "<nl>", "+", "off", "=", "0", ";", "<nl>", "if", "(", "dp", "-", ">", "df", "_", "lnum", "[", "idx", "]", ">", "=", "line1", ")", "<nl>", "{", "<nl>", "-", "off", "=", "dp", "-", ">", "df", "_", "lnum", "[", "idx", "]", "-", "lnum", "_", "deleted", ";", "<nl>", "if", "(", "last", "<", "=", "line2", ")", "<nl>", "{", "<nl>", "/", "/", "4", ".", "delete", "all", "lines", "of", "diff", "<nl>", "diff", "_", "mark", "_", "adjust", "_", "tp", "(", "<nl>", "else", "<nl>", "{", "<nl>", "/", "/", "5", ".", "delete", "lines", "at", "or", "just", "before", "top", "of", "diff", "<nl>", "+", "off", "=", "dp", "-", ">", "df", "_", "lnum", "[", "idx", "]", "-", "lnum", "_", "deleted", ";", "<nl>", "n", "=", "off", ";", "<nl>", "dp", "-", ">", "df", "_", "count", "[", "idx", "]", "-", "=", "line2", "-", "dp", "-", ">", "df", "_", "lnum", "[", "idx", "]", "+", "1", ";", "<nl>", "check", "_", "unchanged", "=", "TRUE", ";", "<nl>", "diff", "_", "mark", "_", "adjust", "_", "tp", "(", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "-", "off", "=", "0", ";", "<nl>", "if", "(", "last", "<", "line2", ")", "<nl>", "{", "<nl>", "/", "/", "2", ".", "delete", "at", "end", "of", "diff", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5164", "invalid", "memory", "access", "after", "diff", "buffer", "manipulations"]}
{"code_tokens": ["op", "_", "replace", "(", "oparg", "_", "T", "*", "oap", ",", "int", "c", ")", "<nl>", "<nl>", "while", "(", "LTOREQ", "_", "POS", "(", "curwin", "-", ">", "w", "_", "cursor", ",", "oap", "-", ">", "end", ")", ")", "<nl>", "{", "<nl>", "+", "int", "done", "=", "FALSE", ";", "<nl>", "+", "<nl>", "n", "=", "gchar", "_", "cursor", "(", ")", ";", "<nl>", "if", "(", "n", "!", "=", "NUL", ")", "<nl>", "{", "<nl>", "op", "_", "replace", "(", "oparg", "_", "T", "*", "oap", ",", "int", "c", ")", "<nl>", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "=", "oap", "-", ">", "end", ".", "lnum", ")", "<nl>", "oap", "-", ">", "end", ".", "col", "+", "=", "new", "_", "byte", "_", "len", "-", "old", "_", "byte", "_", "len", ";", "<nl>", "replace", "_", "character", "(", "c", ")", ";", "<nl>", "+", "done", "=", "TRUE", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "op", "_", "replace", "(", "oparg", "_", "T", "*", "oap", ",", "int", "c", ")", "<nl>", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "=", "oap", "-", ">", "end", ".", "lnum", ")", "<nl>", "getvpos", "(", "&", "oap", "-", ">", "end", ",", "end", "_", "vcol", ")", ";", "<nl>", "}", "<nl>", "-", "PBYTE", "(", "curwin", "-", ">", "w", "_", "cursor", ",", "c", ")", ";", "<nl>", "+", "/", "/", "with", "\"", "coladd", "\"", "set", "may", "move", "to", "just", "after", "a", "TAB", "<nl>", "+", "if", "(", "gchar", "_", "cursor", "(", ")", "!", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "PBYTE", "(", "curwin", "-", ">", "w", "_", "cursor", ",", "c", ")", ";", "<nl>", "+", "done", "=", "TRUE", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "<nl>", "-", "else", "if", "(", "virtual", "_", "op", "&", "&", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "=", "oap", "-", ">", "end", ".", "lnum", ")", "<nl>", "+", "if", "(", "!", "done", "&", "&", "virtual", "_", "op", "&", "&", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "=", "oap", "-", ">", "end", ".", "lnum", ")", "<nl>", "{", "<nl>", "int", "virtcols", "=", "oap", "-", ">", "end", ".", "coladd", ";", "<nl>", "op", "_", "replace", "(", "oparg", "_", "T", "*", "oap", ",", "int", "c", ")", "<nl>", "<nl>", "while", "(", "LTOREQ", "_", "POS", "(", "curwin", "-", ">", "w", "_", "cursor", ",", "oap", "-", ">", "end", ")", ")", "<nl>", "{", "<nl>", "+", "int", "done", "=", "FALSE", ";", "<nl>", "+", "<nl>", "n", "=", "gchar", "_", "cursor", "(", ")", ";", "<nl>", "if", "(", "n", "!", "=", "NUL", ")", "<nl>", "{", "<nl>", "op", "_", "replace", "(", "oparg", "_", "T", "*", "oap", ",", "int", "c", ")", "<nl>", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "=", "oap", "-", ">", "end", ".", "lnum", ")", "<nl>", "oap", "-", ">", "end", ".", "col", "+", "=", "new", "_", "byte", "_", "len", "-", "old", "_", "byte", "_", "len", ";", "<nl>", "replace", "_", "character", "(", "c", ")", ";", "<nl>", "+", "done", "=", "TRUE", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "op", "_", "replace", "(", "oparg", "_", "T", "*", "oap", ",", "int", "c", ")", "<nl>", "if", "(", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "=", "oap", "-", ">", "end", ".", "lnum", ")", "<nl>", "getvpos", "(", "&", "oap", "-", ">", "end", ",", "end", "_", "vcol", ")", ";", "<nl>", "}", "<nl>", "-", "PBYTE", "(", "curwin", "-", ">", "w", "_", "cursor", ",", "c", ")", ";", "<nl>", "+", "/", "/", "with", "\"", "coladd", "\"", "set", "may", "move", "to", "just", "after", "a", "TAB", "<nl>", "+", "if", "(", "gchar", "_", "cursor", "(", ")", "!", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "PBYTE", "(", "curwin", "-", ">", "w", "_", "cursor", ",", "c", ")", ";", "<nl>", "+", "done", "=", "TRUE", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "<nl>", "-", "else", "if", "(", "virtual", "_", "op", "&", "&", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "=", "oap", "-", ">", "end", ".", "lnum", ")", "<nl>", "+", "if", "(", "!", "done", "&", "&", "virtual", "_", "op", "&", "&", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "=", "oap", "-", ">", "end", ".", "lnum", ")", "<nl>", "{", "<nl>", "int", "virtcols", "=", "oap", "-", ">", "end", ".", "coladd", ";", "<nl>", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "483", ",", "<nl>", "/", "*", "*", "/", "<nl>", "482", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0483", "illegal", "memory", "access", "when", "replacing", "in", "virtualedit", "mode"]}
{"code_tokens": ["did", "_", "set", "_", "spelllang", "(", "win", "_", "T", "*", "wp", ")", "<nl>", "{", "<nl>", "spell", "_", "load", "_", "lang", "(", "lang", ")", ";", "<nl>", "/", "/", "SpellFileMissing", "autocommands", "may", "do", "anything", ",", "including", "<nl>", "-", "/", "/", "destroying", "the", "buffer", "we", "are", "using", ".", ".", ".", "<nl>", "-", "if", "(", "!", "bufref", "_", "valid", "(", "&", "bufref", ")", ")", "<nl>", "+", "/", "/", "destroying", "the", "buffer", "we", "are", "using", "or", "closing", "the", "window", ".", "<nl>", "+", "if", "(", "!", "bufref", "_", "valid", "(", "&", "bufref", ")", "|", "|", "!", "win", "_", "valid", "_", "any", "_", "tab", "(", "wp", ")", ")", "<nl>", "{", "<nl>", "ret", "_", "msg", "=", "N", "_", "(", "e", "_", "spellfilemising", "_", "autocommand", "_", "deleted", "_", "buffer", ")", ";", "<nl>", "goto", "theend", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "did", "_", "set", "_", "spelllang", "(", "win", "_", "T", "*", "wp", ")", "<nl>", "{", "<nl>", "spell", "_", "load", "_", "lang", "(", "lang", ")", ";", "<nl>", "/", "/", "SpellFileMissing", "autocommands", "may", "do", "anything", ",", "including", "<nl>", "-", "/", "/", "destroying", "the", "buffer", "we", "are", "using", ".", ".", ".", "<nl>", "-", "if", "(", "!", "bufref", "_", "valid", "(", "&", "bufref", ")", ")", "<nl>", "+", "/", "/", "destroying", "the", "buffer", "we", "are", "using", "or", "closing", "the", "window", ".", "<nl>", "+", "if", "(", "!", "bufref", "_", "valid", "(", "&", "bufref", ")", "|", "|", "!", "win", "_", "valid", "_", "any", "_", "tab", "(", "wp", ")", ")", "<nl>", "{", "<nl>", "ret", "_", "msg", "=", "N", "_", "(", "e", "_", "spellfilemising", "_", "autocommand", "_", "deleted", "_", "buffer", ")", ";", "<nl>", "goto", "theend", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "882", ",", "<nl>", "/", "*", "*", "/", "<nl>", "881", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0882", "using", "freed", "memory", "after", "SpellFileMissing", "autocmd", "uses", "bwipe"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "25", ",", "<nl>", "/", "*", "*", "/", "<nl>", "24", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "25", ",", "<nl>", "/", "*", "*", "/", "<nl>", "24", ",", "<nl>", "/", "*", "*", "/", "<nl>", "parse", "_", "command", "_", "modifiers", "(", "<nl>", "size", "_", "t", "len", "=", "STRLEN", "(", "cmd", "_", "start", ")", ";", "<nl>", "<nl>", "/", "/", "Special", "case", ":", "empty", "command", "uses", "\"", "+", "\"", ":", "<nl>", "-", "/", "/", "\"", "'", "<", ",", "'", ">", "mods", "\"", "-", ">", "\"", "mods", "'", "<", ",", "'", ">", "+", "<nl>", "+", "/", "/", "\"", "'", "<", ",", "'", ">", "mods", "\"", "-", ">", "\"", "mods", "*", "+", "<nl>", "+", "/", "/", "Use", "\"", "*", "\"", "instead", "of", "\"", "'", "<", ",", "'", ">", "\"", "to", "avoid", "the", "command", "getting", "<nl>", "+", "/", "/", "longer", ",", "in", "case", "is", "was", "allocated", ".", "<nl>", "mch", "_", "memmove", "(", "orig", "_", "cmd", ",", "cmd", "_", "start", ",", "len", ")", ";", "<nl>", "-", "STRCPY", "(", "orig", "_", "cmd", "+", "len", ",", "\"", "'", "<", ",", "'", ">", "+", "\"", ")", ";", "<nl>", "+", "STRCPY", "(", "orig", "_", "cmd", "+", "len", ",", "\"", "*", "+", "\"", ")", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0025", "accessing", "beyond", "allocated", "memory", "with", "the", "cmdline", "window"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1378", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1377", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "register", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1378", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1377", ",", "<nl>", "/", "*", "*", "/", "<nl>", "op", "_", "yank", "(", "oparg", "_", "T", "*", "oap", ",", "int", "deleting", ",", "int", "mess", ")", "<nl>", "/", "/", "double", "-", "count", "it", ".", "<nl>", "bd", ".", "startspaces", "=", "(", "ce", "-", "cs", "+", "1", ")", "<nl>", "-", "oap", "-", ">", "start", ".", "coladd", ";", "<nl>", "+", "if", "(", "bd", ".", "startspaces", "<", "0", ")", "<nl>", "+", "bd", ".", "startspaces", "=", "0", ";", "<nl>", "startcol", "+", "+", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1378", "illegal", "memory", "access", "when", "using", "virtual", "editing"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "389", ",", "<nl>", "/", "*", "*", "/", "<nl>", "388", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "errors", ".", "h", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "389", ",", "<nl>", "/", "*", "*", "/", "<nl>", "388", ",", "<nl>", "/", "*", "*", "/", "<nl>", "EXTERN", "char", "e", "_", "non", "_", "null", "_", "dict", "_", "required", "_", "for", "_", "argument", "_", "nr", "[", "]", "<nl>", "EXTERN", "char", "e", "_", "non", "_", "null", "_", "list", "_", "required", "_", "for", "_", "argument", "_", "nr", "[", "]", "<nl>", "INIT", "(", "=", "N", "_", "(", "\"", "E1298", ":", "Non", "-", "NULL", "List", "required", "for", "argument", "%", "d", "\"", ")", ")", ";", "<nl>", "#", "endif", "<nl>", "+", "EXTERN", "char", "e", "_", "window", "_", "unexpectedly", "_", "close", "_", "while", "_", "searching", "_", "for", "_", "tags", "[", "]", "<nl>", "+", "INIT", "(", "=", "N", "_", "(", "\"", "E1299", ":", "Window", "unexpectedly", "closed", "while", "searching", "for", "tags", "\"", ")", ")", ";", "mmm", "src", "/", "tag", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "389", ",", "<nl>", "/", "*", "*", "/", "<nl>", "388", ",", "<nl>", "/", "*", "*", "/", "<nl>", "EXTERN", "char", "e", "_", "non", "_", "null", "_", "dict", "_", "required", "_", "for", "_", "argument", "_", "nr", "[", "]", "<nl>", "EXTERN", "char", "e", "_", "non", "_", "null", "_", "list", "_", "required", "_", "for", "_", "argument", "_", "nr", "[", "]", "<nl>", "INIT", "(", "=", "N", "_", "(", "\"", "E1298", ":", "Non", "-", "NULL", "List", "required", "for", "argument", "%", "d", "\"", ")", ")", ";", "<nl>", "#", "endif", "<nl>", "+", "EXTERN", "char", "e", "_", "window", "_", "unexpectedly", "_", "close", "_", "while", "_", "searching", "_", "for", "_", "tags", "[", "]", "<nl>", "+", "INIT", "(", "=", "N", "_", "(", "\"", "E1299", ":", "Window", "unexpectedly", "closed", "while", "searching", "for", "tags", "\"", ")", ")", ";", "<nl>", "do", "_", "tag", "(", "<nl>", "max", "_", "num", "_", "matches", "=", "MAXCOL", ";", "/", "/", "If", "less", "than", "max", "_", "num", "_", "matches", "<nl>", "/", "/", "found", ":", "all", "matches", "found", ".", "<nl>", "<nl>", "+", "/", "/", "A", "tag", "function", "may", "do", "anything", ",", "which", "may", "cause", "various", "<nl>", "+", "/", "/", "information", "to", "become", "invalid", ".", "At", "least", "check", "for", "the", "tagstack", "<nl>", "+", "/", "/", "to", "still", "be", "the", "same", ".", "<nl>", "+", "if", "(", "tagstack", "!", "=", "curwin", "-", ">", "w", "_", "tagstack", ")", "<nl>", "+", "{", "<nl>", "+", "emsg", "(", "_", "(", "e", "_", "window", "_", "unexpectedly", "_", "close", "_", "while", "_", "searching", "_", "for", "_", "tags", ")", ")", ";", "<nl>", "+", "FreeWild", "(", "new", "_", "num", "_", "matches", ",", "new", "_", "matches", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "/", "If", "there", "already", "were", "some", "matches", "for", "the", "same", "name", ",", "move", "them", "<nl>", "/", "/", "to", "the", "start", ".", "Avoids", "that", "the", "order", "changes", "when", "using", "<nl>", "/", "/", "\"", ":", "tnext", "\"", "and", "jumping", "to", "another", "file", ".", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0389", "crash", "when", "tagfunc", "closes", "the", "window"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5163", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5162", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "diff", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5163", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5162", ",", "<nl>", "/", "*", "*", "/", "<nl>", "diff", "_", "buf", "_", "delete", "(", "buf", "_", "T", "*", "buf", ")", "<nl>", "tp", "-", ">", "tp", "_", "diffbuf", "[", "i", "]", "=", "NULL", ";", "<nl>", "tp", "-", ">", "tp", "_", "diff", "_", "invalid", "=", "TRUE", ";", "<nl>", "if", "(", "tp", "=", "=", "curtab", ")", "<nl>", "-", "diff", "_", "redraw", "(", "TRUE", ")", ";", "<nl>", "+", "{", "<nl>", "+", "/", "/", "don", "'", "t", "redraw", "right", "away", ",", "more", "might", "change", "or", "buffer", "state", "<nl>", "+", "/", "/", "is", "invalid", "right", "now", "<nl>", "+", "need", "_", "diff", "_", "redraw", "=", "TRUE", ";", "<nl>", "+", "redraw", "_", "later", "(", "VALID", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>", "diff", "_", "redraw", "(", "<nl>", "<nl>", "need", "_", "diff", "_", "redraw", "=", "FALSE", ";", "<nl>", "FOR", "_", "ALL", "_", "WINDOWS", "(", "wp", ")", "<nl>", "-", "if", "(", "wp", "-", ">", "w", "_", "p", "_", "diff", ")", "<nl>", "+", "/", "/", "when", "closing", "windows", "or", "wiping", "buffers", "skip", "invalid", "window", "<nl>", "+", "if", "(", "wp", "-", ">", "w", "_", "p", "_", "diff", "&", "&", "buf", "_", "valid", "(", "wp", "-", ">", "w", "_", "buffer", ")", ")", "<nl>", "{", "<nl>", "redraw", "_", "win", "_", "later", "(", "wp", ",", "SOME", "_", "VALID", ")", ";", "<nl>", "if", "(", "wp", "!", "=", "curwin", ")", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5163", "crash", "when", "deleting", "buffers", "in", "diff", "mode"]}
{"code_tokens": ["num", "_", "divide", "(", "varnumber", "_", "T", "n1", ",", "varnumber", "_", "T", "n2", ",", "int", "*", "failed", ")", "<nl>", "else", "<nl>", "result", "=", "VARNUM", "_", "MAX", ";", "<nl>", "}", "<nl>", "+", "else", "if", "(", "n1", "=", "=", "VARNUM", "_", "MIN", "&", "&", "n2", "=", "=", "-", "1", ")", "<nl>", "+", "{", "<nl>", "+", "/", "/", "specific", "case", ":", "trying", "to", "do", "VARNUM", "_", "MIN", "/", "-", "1", "results", "in", "a", "positive", "<nl>", "+", "/", "/", "number", "that", "doesn", "'", "t", "fit", "in", "varnumber", "_", "T", "and", "causes", "an", "FPE", "<nl>", "+", "result", "=", "VARNUM", "_", "MAX", ";", "<nl>", "+", "}", "<nl>", "else", "<nl>", "result", "=", "n1", "/", "n2", ";", "<nl>", "<nl>", "var2fpos", "(", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>", "-", "*", "Convert", "list", "in", "\"", "arg", "\"", "into", "position", "\"", "psop", "\"", "and", "optional", "file", "number", "\"", "fnump", "\"", ".", "<nl>", "+", "*", "Convert", "list", "in", "\"", "arg", "\"", "into", "position", "\"", "posp", "\"", "and", "optional", "file", "number", "\"", "fnump", "\"", ".", "<nl>", "*", "When", "\"", "fnump", "\"", "is", "NULL", "there", "is", "no", "file", "number", ",", "only", "3", "items", ":", "[", "lnum", ",", "col", ",", "off", "]", "<nl>", "*", "Note", "that", "the", "column", "is", "passed", "on", "as", "-", "is", ",", "the", "caller", "may", "want", "to", "decrement", "<nl>", "*", "it", "to", "use", "1", "for", "the", "first", "column", ".", "mmm", "src", "/", "version", ".", "c", "<nl>", "num", "_", "divide", "(", "varnumber", "_", "T", "n1", ",", "varnumber", "_", "T", "n2", ",", "int", "*", "failed", ")", "<nl>", "else", "<nl>", "result", "=", "VARNUM", "_", "MAX", ";", "<nl>", "}", "<nl>", "+", "else", "if", "(", "n1", "=", "=", "VARNUM", "_", "MIN", "&", "&", "n2", "=", "=", "-", "1", ")", "<nl>", "+", "{", "<nl>", "+", "/", "/", "specific", "case", ":", "trying", "to", "do", "VARNUM", "_", "MIN", "/", "-", "1", "results", "in", "a", "positive", "<nl>", "+", "/", "/", "number", "that", "doesn", "'", "t", "fit", "in", "varnumber", "_", "T", "and", "causes", "an", "FPE", "<nl>", "+", "result", "=", "VARNUM", "_", "MAX", ";", "<nl>", "+", "}", "<nl>", "else", "<nl>", "result", "=", "n1", "/", "n2", ";", "<nl>", "<nl>", "var2fpos", "(", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>", "-", "*", "Convert", "list", "in", "\"", "arg", "\"", "into", "position", "\"", "psop", "\"", "and", "optional", "file", "number", "\"", "fnump", "\"", ".", "<nl>", "+", "*", "Convert", "list", "in", "\"", "arg", "\"", "into", "position", "\"", "posp", "\"", "and", "optional", "file", "number", "\"", "fnump", "\"", ".", "<nl>", "*", "When", "\"", "fnump", "\"", "is", "NULL", "there", "is", "no", "file", "number", ",", "only", "3", "items", ":", "[", "lnum", ",", "col", ",", "off", "]", "<nl>", "*", "Note", "that", "the", "column", "is", "passed", "on", "as", "-", "is", ",", "the", "caller", "may", "want", "to", "decrement", "<nl>", "*", "it", "to", "use", "1", "for", "the", "first", "column", ".", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "804", ",", "<nl>", "/", "*", "*", "/", "<nl>", "803", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0804", "crash", "when", "trying", "to", "divide", "a", "number", "by", "1"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "805", ",", "<nl>", "/", "*", "*", "/", "<nl>", "804", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "quickfix", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "805", ",", "<nl>", "/", "*", "*", "/", "<nl>", "804", ",", "<nl>", "/", "*", "*", "/", "<nl>", "qf", "_", "update", "_", "buffer", "(", "qf", "_", "info", "_", "T", "*", "qi", ",", "qfline", "_", "T", "*", "old", "_", "last", ")", "<nl>", "qf", "_", "winid", "=", "win", "-", ">", "w", "_", "id", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "/", "autocommands", "may", "cause", "trouble", "<nl>", "+", "incr", "_", "quickfix", "_", "busy", "(", ")", ";", "<nl>", "+", "<nl>", "if", "(", "old", "_", "last", "=", "=", "NULL", ")", "<nl>", "/", "/", "set", "curwin", "/", "curbuf", "to", "buf", "and", "save", "a", "few", "things", "<nl>", "aucmd", "_", "prepbuf", "(", "&", "aco", ",", "buf", ")", ";", "<nl>", "qf", "_", "update", "_", "buffer", "(", "qf", "_", "info", "_", "T", "*", "qi", ",", "qfline", "_", "T", "*", "old", "_", "last", ")", "<nl>", "/", "/", "when", "the", "added", "lines", "are", "not", "visible", ".", "<nl>", "if", "(", "(", "win", "=", "qf", "_", "find", "_", "win", "(", "qi", ")", ")", "!", "=", "NULL", "&", "&", "old", "_", "line", "_", "count", "<", "win", "-", ">", "w", "_", "botline", ")", "<nl>", "redraw", "_", "buf", "_", "later", "(", "buf", ",", "UPD", "_", "NOT", "_", "VALID", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "always", "called", "after", "incr", "_", "quickfix", "_", "busy", "(", ")", "<nl>", "+", "decr", "_", "quickfix", "_", "busy", "(", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0805", "filetype", "autocmd", "may", "cause", "freed", "memory", "access"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1402", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1401", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "vim9class", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1402", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1401", ",", "<nl>", "/", "*", "*", "/", "<nl>", "class", "_", "object", "_", "index", "(", "<nl>", "cl", "=", "rettv", "-", ">", "vval", ".", "v", "_", "object", "-", ">", "obj", "_", "class", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "cl", "=", "=", "NULL", ")", "<nl>", "+", "{", "<nl>", "+", "emsg", "(", "_", "(", "e", "_", "incomplete", "_", "type", ")", ")", ";", "<nl>", "+", "return", "FAIL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "*", "name", "_", "end", "=", "=", "'", "(", "'", ")", "<nl>", "{", "<nl>", "int", "on", "_", "class", "=", "rettv", "-", ">", "v", "_", "type", "=", "=", "VAR", "_", "CLASS", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1402", "crash", "when", "using", "null_class"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1531", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1530", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "register", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1531", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1530", ",", "<nl>", "/", "*", "*", "/", "<nl>", "get", "_", "register", "(", "<nl>", "if", "(", "copy", ")", "<nl>", "{", "<nl>", "/", "/", "If", "we", "run", "out", "of", "memory", "some", "or", "all", "of", "the", "lines", "are", "empty", ".", "<nl>", "-", "if", "(", "reg", "-", ">", "y", "_", "size", "=", "=", "0", ")", "<nl>", "+", "if", "(", "reg", "-", ">", "y", "_", "size", "=", "=", "0", "|", "|", "y", "_", "current", "-", ">", "y", "_", "array", "=", "=", "NULL", ")", "<nl>", "reg", "-", ">", "y", "_", "array", "=", "NULL", ";", "<nl>", "else", "<nl>", "reg", "-", ">", "y", "_", "array", "=", "ALLOC", "_", "MULT", "(", "char", "_", "u", "*", ",", "reg", "-", ">", "y", "_", "size", ")", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1531", "crash", "when", "register", "contents", "ends", "up", "being", "invalid"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "211", ",", "<nl>", "/", "*", "*", "/", "<nl>", "210", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "vim9cmds", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "211", ",", "<nl>", "/", "*", "*", "/", "<nl>", "210", ",", "<nl>", "/", "*", "*", "/", "<nl>", "compile", "_", "lock", "_", "unlock", "(", "<nl>", "size", "_", "t", "len", ";", "<nl>", "char", "_", "u", "*", "buf", ";", "<nl>", "isntype", "_", "T", "isn", "=", "ISN", "_", "EXEC", ";", "<nl>", "+", "char", "*", "cmd", "=", "eap", "-", ">", "cmdidx", "=", "=", "CMD", "_", "lockvar", "?", "\"", "lockvar", "\"", ":", "\"", "unlockvar", "\"", ";", "<nl>", "<nl>", "if", "(", "cctx", "-", ">", "ctx", "_", "skip", "=", "=", "SKIP", "_", "YES", ")", "<nl>", "return", "OK", ";", "<nl>", "<nl>", "+", "if", "(", "*", "p", "=", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "semsg", "(", "_", "(", "e", "_", "argument", "_", "required", "_", "for", "_", "str", ")", ",", "cmd", ")", ";", "<nl>", "+", "return", "FAIL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "/", "Cannot", "use", ":", "lockvar", "and", ":", "unlockvar", "on", "local", "variables", ".", "<nl>", "if", "(", "p", "[", "1", "]", "!", "=", "'", ":", "'", ")", "<nl>", "{", "<nl>", "compile", "_", "lock", "_", "unlock", "(", "<nl>", "ret", "=", "FAIL", ";", "<nl>", "else", "<nl>", "{", "<nl>", "-", "char", "*", "cmd", "=", "eap", "-", ">", "cmdidx", "=", "=", "CMD", "_", "lockvar", "?", "\"", "lockvar", "\"", ":", "\"", "unlockvar", "\"", ";", "<nl>", "-", "<nl>", "if", "(", "deep", "<", "0", ")", "<nl>", "vim", "_", "snprintf", "(", "(", "char", "*", ")", "buf", ",", "len", ",", "\"", "%", "s", "!", "%", "s", "\"", ",", "cmd", ",", "p", ")", ";", "<nl>", "else", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0211", "invalid", "memory", "access", "when", "compiling", "lockvar"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "11", ",", "<nl>", "/", "*", "*", "/", "<nl>", "10", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "register", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "11", ",", "<nl>", "/", "*", "*", "/", "<nl>", "10", ",", "<nl>", "/", "*", "*", "/", "<nl>", "do", "_", "put", "(", "<nl>", "vim", "_", "memset", "(", "ptr", ",", "'", "'", ",", "(", "size", "_", "t", ")", "spaces", ")", ";", "<nl>", "ptr", "+", "=", "spaces", ";", "<nl>", "}", "<nl>", "+", "else", "<nl>", "+", "totlen", "-", "=", "spaces", ";", "/", "/", "didn", "'", "t", "use", "these", "spaces", "<nl>", "}", "<nl>", "<nl>", "/", "/", "may", "insert", "some", "spaces", "after", "the", "new", "text", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0011", "reading", "beyond", "the", "end", "of", "the", "line", "with", "put", "command"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4009", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4008", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4009", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4008", ",", "<nl>", "/", "*", "*", "/", "<nl>", "find", "_", "ex", "_", "command", "(", "<nl>", "}", "<nl>", "<nl>", "/", "/", "Check", "for", "\"", "+", "+", "nr", "\"", "and", "\"", "-", "-", "nr", "\"", ".", "<nl>", "-", "if", "(", "p", "=", "=", "eap", "-", ">", "cmd", "&", "&", "p", "[", "0", "]", "=", "=", "p", "[", "1", "]", "&", "&", "(", "*", "p", "=", "=", "'", "+", "'", "|", "|", "*", "p", "=", "=", "'", "-", "'", ")", ")", "<nl>", "+", "if", "(", "p", "=", "=", "eap", "-", ">", "cmd", "&", "&", "p", "[", "0", "]", "!", "=", "NUL", "&", "&", "p", "[", "0", "]", "=", "=", "p", "[", "1", "]", "<nl>", "+", "&", "&", "(", "*", "p", "=", "=", "'", "+", "'", "|", "|", "*", "p", "=", "=", "'", "-", "'", ")", ")", "<nl>", "{", "<nl>", "eap", "-", ">", "cmdidx", "=", "*", "p", "=", "=", "'", "+", "'", "?", "CMD", "_", "increment", ":", "CMD", "_", "decrement", ";", "<nl>", "return", "eap", "-", ">", "cmd", "+", "2", ";", "mmm", "src", "/", "vim9compile", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4009", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4008", ",", "<nl>", "/", "*", "*", "/", "<nl>", "find", "_", "ex", "_", "command", "(", "<nl>", "}", "<nl>", "<nl>", "/", "/", "Check", "for", "\"", "+", "+", "nr", "\"", "and", "\"", "-", "-", "nr", "\"", ".", "<nl>", "-", "if", "(", "p", "=", "=", "eap", "-", ">", "cmd", "&", "&", "p", "[", "0", "]", "=", "=", "p", "[", "1", "]", "&", "&", "(", "*", "p", "=", "=", "'", "+", "'", "|", "|", "*", "p", "=", "=", "'", "-", "'", ")", ")", "<nl>", "+", "if", "(", "p", "=", "=", "eap", "-", ">", "cmd", "&", "&", "p", "[", "0", "]", "!", "=", "NUL", "&", "&", "p", "[", "0", "]", "=", "=", "p", "[", "1", "]", "<nl>", "+", "&", "&", "(", "*", "p", "=", "=", "'", "+", "'", "|", "|", "*", "p", "=", "=", "'", "-", "'", ")", ")", "<nl>", "{", "<nl>", "eap", "-", ">", "cmdidx", "=", "*", "p", "=", "=", "'", "+", "'", "?", "CMD", "_", "increment", ":", "CMD", "_", "decrement", ";", "<nl>", "return", "eap", "-", ">", "cmd", "+", "2", ";", "<nl>", "compile", "_", "def", "_", "function", "(", "<nl>", "cmd", "=", "ea", ".", "cmd", ";", "<nl>", "if", "(", "(", "*", "cmd", "!", "=", "'", "$", "'", "|", "|", "starts", "_", "with", "_", "colon", ")", "<nl>", "&", "&", "(", "starts", "_", "with", "_", "colon", "|", "|", "!", "(", "*", "cmd", "=", "=", "'", "\\", "'", "'", "<nl>", "-", "|", "|", "(", "cmd", "[", "0", "]", "=", "=", "cmd", "[", "1", "]", "&", "&", "(", "*", "cmd", "=", "=", "'", "+", "'", "|", "|", "*", "cmd", "=", "=", "'", "-", "'", ")", ")", ")", ")", ")", "<nl>", "+", "|", "|", "(", "cmd", "[", "0", "]", "!", "=", "NUL", "&", "&", "cmd", "[", "0", "]", "=", "=", "cmd", "[", "1", "]", "<nl>", "+", "&", "&", "(", "*", "cmd", "=", "=", "'", "+", "'", "|", "|", "*", "cmd", "=", "=", "'", "-", "'", ")", ")", ")", ")", ")", "<nl>", "{", "<nl>", "ea", ".", "cmd", "=", "skip", "_", "range", "(", "ea", ".", "cmd", ",", "TRUE", ",", "NULL", ")", ";", "<nl>", "if", "(", "ea", ".", "cmd", ">", "cmd", ")", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4009", "reading", "one", "byte", "beyond", "the", "end", "of", "the", "line"]}
{"code_tokens": ["do", "_", "exedit", "(", "<nl>", "#", "endif", "<nl>", ")", "<nl>", "{", "<nl>", "-", "/", "/", "Can", "'", "t", "edit", "another", "file", "when", "\"", "curbuf", "_", "lock", "\"", "is", "set", ".", "Only", "\"", ":", "edit", "\"", "<nl>", "-", "/", "/", "can", "bring", "us", "here", ",", "others", "are", "stopped", "earlier", ".", "<nl>", "-", "if", "(", "*", "eap", "-", ">", "arg", "!", "=", "NUL", "&", "&", "curbuf", "_", "locked", "(", ")", ")", "<nl>", "+", "/", "/", "Can", "'", "t", "edit", "another", "file", "when", "\"", "textlock", "\"", "or", "\"", "curbuf", "_", "lock", "\"", "is", "set", ".", "<nl>", "+", "/", "/", "Only", "\"", ":", "edit", "\"", "or", "\"", ":", "script", "\"", "can", "bring", "us", "here", ",", "others", "are", "stopped", "<nl>", "+", "/", "/", "earlier", ".", "<nl>", "+", "if", "(", "*", "eap", "-", ">", "arg", "!", "=", "NUL", "&", "&", "text", "_", "or", "_", "buf", "_", "locked", "(", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "n", "=", "readonlymode", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "do", "_", "exedit", "(", "<nl>", "#", "endif", "<nl>", ")", "<nl>", "{", "<nl>", "-", "/", "/", "Can", "'", "t", "edit", "another", "file", "when", "\"", "curbuf", "_", "lock", "\"", "is", "set", ".", "Only", "\"", ":", "edit", "\"", "<nl>", "-", "/", "/", "can", "bring", "us", "here", ",", "others", "are", "stopped", "earlier", ".", "<nl>", "-", "if", "(", "*", "eap", "-", ">", "arg", "!", "=", "NUL", "&", "&", "curbuf", "_", "locked", "(", ")", ")", "<nl>", "+", "/", "/", "Can", "'", "t", "edit", "another", "file", "when", "\"", "textlock", "\"", "or", "\"", "curbuf", "_", "lock", "\"", "is", "set", ".", "<nl>", "+", "/", "/", "Only", "\"", ":", "edit", "\"", "or", "\"", ":", "script", "\"", "can", "bring", "us", "here", ",", "others", "are", "stopped", "<nl>", "+", "/", "/", "earlier", ".", "<nl>", "+", "if", "(", "*", "eap", "-", ">", "arg", "!", "=", "NUL", "&", "&", "text", "_", "or", "_", "buf", "_", "locked", "(", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "n", "=", "readonlymode", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5126", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5125", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5126", "substitute", "may", "overrun", "destination", "buffer"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "260", ",", "<nl>", "/", "*", "*", "/", "<nl>", "259", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "quickfix", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "260", ",", "<nl>", "/", "*", "*", "/", "<nl>", "259", ",", "<nl>", "/", "*", "*", "/", "<nl>", "call", "_", "qftf", "_", "func", "(", "qf", "_", "list", "_", "T", "*", "qfl", ",", "int", "qf", "_", "winid", ",", "long", "start", "_", "idx", ",", "long", "end", "_", "idx", ")", "<nl>", "{", "<nl>", "callback", "_", "T", "*", "cb", "=", "&", "qftf", "_", "cb", ";", "<nl>", "list", "_", "T", "*", "qftf", "_", "list", "=", "NULL", ";", "<nl>", "+", "static", "int", "recursive", "=", "FALSE", ";", "<nl>", "+", "<nl>", "+", "if", "(", "recursive", ")", "<nl>", "+", "return", "NULL", ";", "/", "/", "this", "doesn", "'", "t", "work", "properly", "recursively", "<nl>", "+", "recursive", "=", "TRUE", ";", "<nl>", "<nl>", "/", "/", "If", "'", "quickfixtextfunc", "'", "is", "set", ",", "then", "use", "the", "user", "-", "supplied", "function", "to", "get", "<nl>", "/", "/", "the", "text", "to", "display", ".", "Use", "the", "local", "value", "of", "'", "quickfixtextfunc", "'", "if", "it", "is", "<nl>", "call", "_", "qftf", "_", "func", "(", "qf", "_", "list", "_", "T", "*", "qfl", ",", "int", "qf", "_", "winid", ",", "long", "start", "_", "idx", ",", "long", "end", "_", "idx", ")", "<nl>", "<nl>", "/", "/", "create", "the", "dict", "argument", "<nl>", "if", "(", "(", "d", "=", "dict", "_", "alloc", "_", "lock", "(", "VAR", "_", "FIXED", ")", ")", "=", "=", "NULL", ")", "<nl>", "+", "{", "<nl>", "+", "recursive", "=", "FALSE", ";", "<nl>", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "dict", "_", "add", "_", "number", "(", "d", ",", "\"", "quickfix", "\"", ",", "(", "long", ")", "IS", "_", "QF", "_", "LIST", "(", "qfl", ")", ")", ";", "<nl>", "dict", "_", "add", "_", "number", "(", "d", ",", "\"", "winid", "\"", ",", "(", "long", ")", "qf", "_", "winid", ")", ";", "<nl>", "dict", "_", "add", "_", "number", "(", "d", ",", "\"", "id", "\"", ",", "(", "long", ")", "qfl", "-", ">", "qf", "_", "id", ")", ";", "<nl>", "call", "_", "qftf", "_", "func", "(", "qf", "_", "list", "_", "T", "*", "qfl", ",", "int", "qf", "_", "winid", ",", "long", "start", "_", "idx", ",", "long", "end", "_", "idx", ")", "<nl>", "dict", "_", "unref", "(", "d", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "recursive", "=", "FALSE", ";", "<nl>", "return", "qftf", "_", "list", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0260", "using", "freed", "memory", "when", "using", "quickfixtextfunc", "recursively"]}
{"code_tokens": ["append", "_", "command", "(", "char", "_", "u", "*", "cmd", ")", "<nl>", "<nl>", "STRCAT", "(", "IObuff", ",", "\"", ":", "\"", ")", ";", "<nl>", "d", "=", "IObuff", "+", "STRLEN", "(", "IObuff", ")", ";", "<nl>", "-", "while", "(", "*", "s", "!", "=", "NUL", "&", "&", "d", "-", "IObuff", "<", "IOSIZE", "-", "7", ")", "<nl>", "+", "while", "(", "*", "s", "!", "=", "NUL", "&", "&", "d", "-", "IObuff", "+", "5", "<", "IOSIZE", ")", "<nl>", "{", "<nl>", "if", "(", "enc", "_", "utf8", "?", "(", "s", "[", "0", "]", "=", "=", "0xc2", "&", "&", "s", "[", "1", "]", "=", "=", "0xa0", ")", ":", "*", "s", "=", "=", "0xa0", ")", "<nl>", "{", "<nl>", "append", "_", "command", "(", "char", "_", "u", "*", "cmd", ")", "<nl>", "STRCPY", "(", "d", ",", "\"", "<", "a0", ">", "\"", ")", ";", "<nl>", "d", "+", "=", "4", ";", "<nl>", "}", "<nl>", "+", "else", "if", "(", "d", "-", "IObuff", "+", "(", "*", "mb", "_", "ptr2len", ")", "(", "s", ")", "+", "1", ">", "=", "IOSIZE", ")", "<nl>", "+", "break", ";", "<nl>", "else", "<nl>", "MB", "_", "COPY", "_", "CHAR", "(", "s", ",", "d", ")", ";", "<nl>", "}", "mmm", "src", "/", "version", ".", "c", "<nl>", "append", "_", "command", "(", "char", "_", "u", "*", "cmd", ")", "<nl>", "<nl>", "STRCAT", "(", "IObuff", ",", "\"", ":", "\"", ")", ";", "<nl>", "d", "=", "IObuff", "+", "STRLEN", "(", "IObuff", ")", ";", "<nl>", "-", "while", "(", "*", "s", "!", "=", "NUL", "&", "&", "d", "-", "IObuff", "<", "IOSIZE", "-", "7", ")", "<nl>", "+", "while", "(", "*", "s", "!", "=", "NUL", "&", "&", "d", "-", "IObuff", "+", "5", "<", "IOSIZE", ")", "<nl>", "{", "<nl>", "if", "(", "enc", "_", "utf8", "?", "(", "s", "[", "0", "]", "=", "=", "0xc2", "&", "&", "s", "[", "1", "]", "=", "=", "0xa0", ")", ":", "*", "s", "=", "=", "0xa0", ")", "<nl>", "{", "<nl>", "append", "_", "command", "(", "char", "_", "u", "*", "cmd", ")", "<nl>", "STRCPY", "(", "d", ",", "\"", "<", "a0", ">", "\"", ")", ";", "<nl>", "d", "+", "=", "4", ";", "<nl>", "}", "<nl>", "+", "else", "if", "(", "d", "-", "IObuff", "+", "(", "*", "mb", "_", "ptr2len", ")", "(", "s", ")", "+", "1", ">", "=", "IOSIZE", ")", "<nl>", "+", "break", ";", "<nl>", "else", "<nl>", "MB", "_", "COPY", "_", "CHAR", "(", "s", ",", "d", ")", ";", "<nl>", "}", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4895", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4894", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4895", "buffer", "overflow", "with", "invalid", "command", "with", "composing", "chars"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "212", ",", "<nl>", "/", "*", "*", "/", "<nl>", "211", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "vim9cmds", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "212", ",", "<nl>", "/", "*", "*", "/", "<nl>", "211", ",", "<nl>", "/", "*", "*", "/", "<nl>", "free", "_", "locals", "(", "cctx", "_", "T", "*", "cctx", ")", "<nl>", "int", "<nl>", "check", "_", "vim9", "_", "unlet", "(", "char", "_", "u", "*", "name", ")", "<nl>", "{", "<nl>", "+", "if", "(", "*", "name", "=", "=", "NUL", ")", "<nl>", "+", "{", "<nl>", "+", "semsg", "(", "_", "(", "e", "_", "argument", "_", "required", "_", "for", "_", "str", ")", ",", "\"", "unlet", "\"", ")", ";", "<nl>", "+", "return", "FAIL", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "name", "[", "1", "]", "!", "=", "'", ":", "'", "|", "|", "vim", "_", "strchr", "(", "(", "char", "_", "u", "*", ")", "\"", "gwtb", "\"", ",", "*", "name", ")", "=", "=", "NULL", ")", "<nl>", "{", "<nl>", "/", "/", "\"", "unlet", "s", ":", "var", "\"", "is", "allowed", "in", "legacy", "script", ".", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0212", "invalid", "memory", "access", "when", "compiling", "unlet"]}
{"code_tokens": ["ex", "_", "copy", "(", "linenr", "_", "T", "line1", ",", "linenr", "_", "T", "line2", ",", "linenr", "_", "T", "n", ")", "<nl>", "}", "<nl>", "<nl>", "appended", "_", "lines", "_", "mark", "(", "n", ",", "count", ")", ";", "<nl>", "+", "if", "(", "VIsual", "_", "active", ")", "<nl>", "+", "check", "_", "pos", "(", "curbuf", ",", "&", "VIsual", ")", ";", "<nl>", "<nl>", "msgmore", "(", "(", "long", ")", "count", ")", ";", "<nl>", "}", "mmm", "src", "/", "version", ".", "c", "<nl>", "ex", "_", "copy", "(", "linenr", "_", "T", "line1", ",", "linenr", "_", "T", "line2", ",", "linenr", "_", "T", "n", ")", "<nl>", "}", "<nl>", "<nl>", "appended", "_", "lines", "_", "mark", "(", "n", ",", "count", ")", ";", "<nl>", "+", "if", "(", "VIsual", "_", "active", ")", "<nl>", "+", "check", "_", "pos", "(", "curbuf", ",", "&", "VIsual", ")", ";", "<nl>", "<nl>", "msgmore", "(", "(", "long", ")", "count", ")", ";", "<nl>", "}", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4215", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4214", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4215", "illegal", "memory", "access", "when", "copying", "lines", "in", "Visual", "mode"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4074", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4073", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "drawscreen", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4074", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4073", ",", "<nl>", "/", "*", "*", "/", "<nl>", "win", "_", "redr", "_", "status", "(", "win", "_", "T", "*", "wp", ",", "int", "ignore", "_", "pum", "UNUSED", ")", "<nl>", "p", "=", "NameBuff", ";", "<nl>", "len", "=", "(", "int", ")", "STRLEN", "(", "p", ")", ";", "<nl>", "<nl>", "-", "if", "(", "bt", "_", "help", "(", "wp", "-", ">", "w", "_", "buffer", ")", "<nl>", "+", "if", "(", "(", "bt", "_", "help", "(", "wp", "-", ">", "w", "_", "buffer", ")", "<nl>", "#", "ifdef", "FEAT", "_", "QUICKFIX", "<nl>", "-", "|", "|", "wp", "-", ">", "w", "_", "p", "_", "pvw", "<nl>", "+", "|", "|", "wp", "-", ">", "w", "_", "p", "_", "pvw", "<nl>", "#", "endif", "<nl>", "-", "|", "|", "bufIsChanged", "(", "wp", "-", ">", "w", "_", "buffer", ")", "<nl>", "-", "|", "|", "wp", "-", ">", "w", "_", "buffer", "-", ">", "b", "_", "p", "_", "ro", ")", "<nl>", "+", "|", "|", "bufIsChanged", "(", "wp", "-", ">", "w", "_", "buffer", ")", "<nl>", "+", "|", "|", "wp", "-", ">", "w", "_", "buffer", "-", ">", "b", "_", "p", "_", "ro", ")", "<nl>", "+", "&", "&", "len", "<", "MAXPATHL", "-", "1", ")", "<nl>", "*", "(", "p", "+", "len", "+", "+", ")", "=", "'", "'", ";", "<nl>", "if", "(", "bt", "_", "help", "(", "wp", "-", ">", "w", "_", "buffer", ")", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4074", "going", "over", "the", "end", "of", "NameBuff"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "6", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "tag", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "6", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5", ",", "<nl>", "/", "*", "*", "/", "<nl>", "get", "_", "tags", "(", "list", ",", "pat", ")", "<nl>", "/", "*", "Skip", "field", "without", "colon", ".", "*", "/", "<nl>", "while", "(", "*", "p", "!", "=", "NUL", "&", "&", "*", "p", ">", "=", "'", "'", ")", "<nl>", "+", "+", "p", ";", "<nl>", "+", "if", "(", "*", "p", "=", "=", "NUL", ")", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["updated", "for", "version", "7", "2b", "006"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3741", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3740", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "docmd", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "3741", ",", "<nl>", "/", "*", "*", "/", "<nl>", "3740", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ex", "_", "open", "(", "exarg", "_", "T", "*", "eap", ")", "<nl>", "regmatch", ".", "regprog", "=", "vim", "_", "regcomp", "(", "eap", "-", ">", "arg", ",", "magic", "_", "isset", "(", ")", "?", "RE", "_", "MAGIC", ":", "0", ")", ";", "<nl>", "if", "(", "regmatch", ".", "regprog", "!", "=", "NULL", ")", "<nl>", "{", "<nl>", "+", "/", "/", "make", "a", "copy", "of", "the", "line", ",", "when", "searching", "for", "a", "mark", "it", "might", "be", "<nl>", "+", "/", "/", "flushed", "<nl>", "+", "char", "_", "u", "*", "line", "=", "vim", "_", "strsave", "(", "ml", "_", "get", "_", "curline", "(", ")", ")", ";", "<nl>", "+", "<nl>", "regmatch", ".", "rm", "_", "ic", "=", "p", "_", "ic", ";", "<nl>", "-", "p", "=", "ml", "_", "get", "_", "curline", "(", ")", ";", "<nl>", "-", "if", "(", "vim", "_", "regexec", "(", "&", "regmatch", ",", "p", ",", "(", "colnr", "_", "T", ")", "0", ")", ")", "<nl>", "-", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "=", "(", "colnr", "_", "T", ")", "(", "regmatch", ".", "startp", "[", "0", "]", "-", "p", ")", ";", "<nl>", "+", "if", "(", "vim", "_", "regexec", "(", "&", "regmatch", ",", "line", ",", "(", "colnr", "_", "T", ")", "0", ")", ")", "<nl>", "+", "curwin", "-", ">", "w", "_", "cursor", ".", "col", "=", "(", "colnr", "_", "T", ")", "(", "regmatch", ".", "startp", "[", "0", "]", "-", "line", ")", ";", "<nl>", "else", "<nl>", "emsg", "(", "_", "(", "e", "_", "nomatch", ")", ")", ";", "<nl>", "vim", "_", "regfree", "(", "regmatch", ".", "regprog", ")", ";", "<nl>", "+", "vim", "_", "free", "(", "line", ")", ";", "<nl>", "}", "<nl>", "/", "/", "Move", "to", "the", "NUL", ",", "ignore", "any", "other", "arguments", ".", "<nl>", "eap", "-", ">", "arg", "+", "=", "STRLEN", "(", "eap", "-", ">", "arg", ")", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "3741", "using", "freed", "memory", "in", "open", "command"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1367", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1366", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "move", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "1367", ",", "<nl>", "/", "*", "*", "/", "<nl>", "1366", ",", "<nl>", "/", "*", "*", "/", "<nl>", "scrolldown", "(", "<nl>", "col", "-", "=", "width1", ";", "<nl>", "+", "+", "row", ";", "<nl>", "}", "<nl>", "-", "if", "(", "col", ">", "width2", ")", "<nl>", "+", "if", "(", "col", ">", "width2", "&", "&", "width2", ">", "0", ")", "<nl>", "{", "<nl>", "row", "+", "=", "col", "/", "width2", ";", "<nl>", "col", "=", "col", "%", "width2", ";", "<nl>"], "docstring_tokens": ["patch", "9", "0", "1367", "divide", "by", "zero", "in", "zero", "width", "window"]}
{"code_tokens": ["check", "_", "shellsize", "(", "void", ")", "<nl>", "if", "(", "Rows", "<", "min", "_", "rows", "(", ")", ")", "/", "/", "need", "room", "for", "one", "window", "and", "command", "line", "<nl>", "Rows", "=", "min", "_", "rows", "(", ")", ";", "<nl>", "limit", "_", "screen", "_", "size", "(", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "make", "sure", "these", "values", "are", "not", "invalid", "<nl>", "+", "if", "(", "cmdline", "_", "row", ">", "=", "Rows", ")", "<nl>", "+", "cmdline", "_", "row", "=", "Rows", "-", "1", ";", "<nl>", "+", "if", "(", "msg", "_", "row", ">", "=", "Rows", ")", "<nl>", "+", "msg", "_", "row", "=", "Rows", "-", "1", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "mmm", "src", "/", "version", ".", "c", "<nl>", "check", "_", "shellsize", "(", "void", ")", "<nl>", "if", "(", "Rows", "<", "min", "_", "rows", "(", ")", ")", "/", "/", "need", "room", "for", "one", "window", "and", "command", "line", "<nl>", "Rows", "=", "min", "_", "rows", "(", ")", ";", "<nl>", "limit", "_", "screen", "_", "size", "(", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "make", "sure", "these", "values", "are", "not", "invalid", "<nl>", "+", "if", "(", "cmdline", "_", "row", ">", "=", "Rows", ")", "<nl>", "+", "cmdline", "_", "row", "=", "Rows", "-", "1", ";", "<nl>", "+", "if", "(", "msg", "_", "row", ">", "=", "Rows", ")", "<nl>", "+", "msg", "_", "row", "=", "Rows", "-", "1", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5160", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5159", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5160", "accessing", "invalid", "memory", "after", "changing", "terminal", "size"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4977", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4976", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "ex", "_", "cmds", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4977", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4976", ",", "<nl>", "/", "*", "*", "/", "<nl>", "ex", "_", "substitute", "(", "exarg", "_", "T", "*", "eap", ")", "<nl>", "/", "/", "Save", "flags", "for", "recursion", ".", "They", "can", "change", "for", "e", ".", "g", ".", "<nl>", "/", "/", ":", "s", "/", "^", "/", "\\", "=", "execute", "(", "\"", "s", "#", "^", "#", "#", "gn", "\"", ")", "<nl>", "subflags", "_", "save", "=", "subflags", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Disallow", "changing", "text", "or", "switching", "window", "in", "an", "expression", ".", "<nl>", "+", "+", "+", "textwinlock", ";", "<nl>", "#", "endif", "<nl>", "/", "/", "get", "length", "of", "substitution", "part", "<nl>", "sublen", "=", "vim", "_", "regsub", "_", "multi", "(", "&", "regmatch", ",", "<nl>", "sub", "_", "firstlnum", "-", "regmatch", ".", "startpos", "[", "0", "]", ".", "lnum", ",", "<nl>", "sub", ",", "sub", "_", "firstline", ",", "FALSE", ",", "magic", "_", "isset", "(", ")", ",", "TRUE", ")", ";", "<nl>", "#", "ifdef", "FEAT", "_", "EVAL", "<nl>", "+", "-", "-", "textwinlock", ";", "<nl>", "+", "<nl>", "/", "/", "If", "getting", "the", "substitute", "string", "caused", "an", "error", ",", "don", "'", "t", "do", "<nl>", "/", "/", "the", "replacement", ".", "<nl>", "/", "/", "Don", "'", "t", "keep", "flags", "set", "by", "a", "recursive", "call", ".", "<nl>", "ex", "_", "substitute", "(", "exarg", "_", "T", "*", "eap", ")", "<nl>", "mch", "_", "memmove", "(", "new", "_", "end", ",", "sub", "_", "firstline", "+", "copycol", ",", "(", "size", "_", "t", ")", "copy", "_", "len", ")", ";", "<nl>", "new", "_", "end", "+", "=", "copy", "_", "len", ";", "<nl>", "<nl>", "+", "#", "ifdef", "FEAT", "_", "EVAL", "<nl>", "+", "+", "+", "textwinlock", ";", "<nl>", "+", "#", "endif", "<nl>", "(", "void", ")", "vim", "_", "regsub", "_", "multi", "(", "&", "regmatch", ",", "<nl>", "sub", "_", "firstlnum", "-", "regmatch", ".", "startpos", "[", "0", "]", ".", "lnum", ",", "<nl>", "sub", ",", "new", "_", "end", ",", "TRUE", ",", "magic", "_", "isset", "(", ")", ",", "TRUE", ")", ";", "<nl>", "+", "#", "ifdef", "FEAT", "_", "EVAL", "<nl>", "+", "-", "-", "textwinlock", ";", "<nl>", "+", "#", "endif", "<nl>", "sub", "_", "nsubs", "+", "+", ";", "<nl>", "did", "_", "sub", "=", "TRUE", ";", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4977", "memory", "access", "error", "when", "substitute", "expression", "changes", "window"]}
{"code_tokens": ["nv", "_", "brackets", "(", "cmdarg", "_", "T", "*", "cap", ")", "<nl>", "clearop", "(", "cap", "-", ">", "oap", ")", ";", "<nl>", "else", "<nl>", "{", "<nl>", "+", "/", "/", "Make", "a", "copy", ",", "if", "the", "line", "was", "changed", "it", "will", "be", "freed", ".", "<nl>", "+", "ptr", "=", "vim", "_", "strnsave", "(", "ptr", ",", "len", ")", ";", "<nl>", "+", "if", "(", "ptr", "=", "=", "NULL", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "find", "_", "pattern", "_", "in", "_", "path", "(", "ptr", ",", "0", ",", "len", ",", "TRUE", ",", "<nl>", "cap", "-", ">", "count0", "=", "=", "0", "?", "!", "isupper", "(", "cap", "-", ">", "nchar", ")", ":", "FALSE", ",", "<nl>", "(", "(", "cap", "-", ">", "nchar", "&", "0xf", ")", "=", "=", "(", "'", "d", "'", "&", "0xf", ")", ")", "?", "FIND", "_", "DEFINE", ":", "FIND", "_", "ANY", ",", "<nl>", "nv", "_", "brackets", "(", "cmdarg", "_", "T", "*", "cap", ")", "<nl>", "islower", "(", "cap", "-", ">", "nchar", ")", "?", "ACTION", "_", "SHOW", ":", "ACTION", "_", "GOTO", ",", "<nl>", "cap", "-", ">", "cmdchar", "=", "=", "'", "]", "'", "?", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "+", "1", ":", "(", "linenr", "_", "T", ")", "1", ",", "<nl>", "(", "linenr", "_", "T", ")", "MAXLNUM", ")", ";", "<nl>", "+", "vim", "_", "free", "(", "ptr", ")", ";", "<nl>", "curwin", "-", ">", "w", "_", "set", "_", "curswant", "=", "TRUE", ";", "<nl>", "}", "<nl>", "}", "mmm", "src", "/", "version", ".", "c", "<nl>", "nv", "_", "brackets", "(", "cmdarg", "_", "T", "*", "cap", ")", "<nl>", "clearop", "(", "cap", "-", ">", "oap", ")", ";", "<nl>", "else", "<nl>", "{", "<nl>", "+", "/", "/", "Make", "a", "copy", ",", "if", "the", "line", "was", "changed", "it", "will", "be", "freed", ".", "<nl>", "+", "ptr", "=", "vim", "_", "strnsave", "(", "ptr", ",", "len", ")", ";", "<nl>", "+", "if", "(", "ptr", "=", "=", "NULL", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "find", "_", "pattern", "_", "in", "_", "path", "(", "ptr", ",", "0", ",", "len", ",", "TRUE", ",", "<nl>", "cap", "-", ">", "count0", "=", "=", "0", "?", "!", "isupper", "(", "cap", "-", ">", "nchar", ")", ":", "FALSE", ",", "<nl>", "(", "(", "cap", "-", ">", "nchar", "&", "0xf", ")", "=", "=", "(", "'", "d", "'", "&", "0xf", ")", ")", "?", "FIND", "_", "DEFINE", ":", "FIND", "_", "ANY", ",", "<nl>", "nv", "_", "brackets", "(", "cmdarg", "_", "T", "*", "cap", ")", "<nl>", "islower", "(", "cap", "-", ">", "nchar", ")", "?", "ACTION", "_", "SHOW", ":", "ACTION", "_", "GOTO", ",", "<nl>", "cap", "-", ">", "cmdchar", "=", "=", "'", "]", "'", "?", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "+", "1", ":", "(", "linenr", "_", "T", ")", "1", ",", "<nl>", "(", "linenr", "_", "T", ")", "MAXLNUM", ")", ";", "<nl>", "+", "vim", "_", "free", "(", "ptr", ")", ";", "<nl>", "curwin", "-", ">", "w", "_", "set", "_", "curswant", "=", "TRUE", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5024", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5023", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5024", "using", "freed", "memory", "with", "d"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "218", ",", "<nl>", "/", "*", "*", "/", "<nl>", "217", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "edit", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "218", ",", "<nl>", "/", "*", "*", "/", "<nl>", "217", ",", "<nl>", "/", "*", "*", "/", "<nl>", "edit", "_", "unputchar", "(", "void", ")", "<nl>", "*", "Only", "works", "when", "cursor", "is", "in", "the", "line", "that", "changes", ".", "<nl>", "*", "/", "<nl>", "void", "<nl>", "-", "display", "_", "dollar", "(", "colnr", "_", "T", "col", ")", "<nl>", "+", "display", "_", "dollar", "(", "colnr", "_", "T", "col", "_", "arg", ")", "<nl>", "{", "<nl>", "+", "colnr", "_", "T", "col", "=", "col", "_", "arg", "<", "0", "?", "0", ":", "col", "_", "arg", ";", "<nl>", "colnr", "_", "T", "save", "_", "col", ";", "<nl>", "<nl>", "if", "(", "!", "redrawing", "(", ")", ")", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0218", "reading", "before", "the", "start", "of", "the", "line"]}
{"code_tokens": ["static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "2136", ",", "<nl>", "/", "*", "*", "/", "<nl>", "2135", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "window", ".", "c", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "2136", ",", "<nl>", "/", "*", "*", "/", "<nl>", "2135", ",", "<nl>", "/", "*", "*", "/", "<nl>", "win", "_", "enter", "_", "ext", "(", "<nl>", "#", "ifdef", "FEAT", "_", "JOB", "_", "CHANNEL", "<nl>", "entering", "_", "window", "(", "curwin", ")", ";", "<nl>", "#", "endif", "<nl>", "+", "/", "/", "Careful", ":", "autocommands", "may", "close", "the", "window", "and", "make", "\"", "wp", "\"", "invalid", "<nl>", "if", "(", "trigger", "_", "new", "_", "autocmds", ")", "<nl>", "apply", "_", "autocmds", "(", "EVENT", "_", "WINNEW", ",", "NULL", ",", "NULL", ",", "FALSE", ",", "curbuf", ")", ";", "<nl>", "if", "(", "trigger", "_", "enter", "_", "autocmds", ")", "<nl>", "win", "_", "enter", "_", "ext", "(", "<nl>", "#", "endif", "<nl>", "curwin", "-", ">", "w", "_", "redr", "_", "status", "=", "TRUE", ";", "<nl>", "#", "ifdef", "FEAT", "_", "TERMINAL", "<nl>", "-", "if", "(", "bt", "_", "terminal", "(", "wp", "-", ">", "w", "_", "buffer", ")", ")", "<nl>", "+", "if", "(", "bt", "_", "terminal", "(", "curwin", "-", ">", "w", "_", "buffer", ")", ")", "<nl>", "/", "/", "terminal", "is", "likely", "in", "another", "mode", "<nl>", "redraw", "_", "mode", "=", "TRUE", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["patch", "8", "1", "2136", "using", "freed", "memory", "with", "autocmd", "from", "fuzzer"]}
{"code_tokens": ["cmdline", "_", "erase", "_", "chars", "(", "<nl>", "{", "<nl>", "while", "(", "p", ">", "ccline", ".", "cmdbuff", "&", "&", "vim", "_", "isspace", "(", "p", "[", "-", "1", "]", ")", ")", "<nl>", "-", "-", "p", ";", "<nl>", "-", "i", "=", "vim", "_", "iswordc", "(", "p", "[", "-", "1", "]", ")", ";", "<nl>", "-", "while", "(", "p", ">", "ccline", ".", "cmdbuff", "&", "&", "!", "vim", "_", "isspace", "(", "p", "[", "-", "1", "]", ")", "<nl>", "-", "&", "&", "vim", "_", "iswordc", "(", "p", "[", "-", "1", "]", ")", "=", "=", "i", ")", "<nl>", "-", "-", "-", "p", ";", "<nl>", "+", "if", "(", "p", ">", "ccline", ".", "cmdbuff", ")", "<nl>", "+", "{", "<nl>", "+", "i", "=", "vim", "_", "iswordc", "(", "p", "[", "-", "1", "]", ")", ";", "<nl>", "+", "while", "(", "p", ">", "ccline", ".", "cmdbuff", "&", "&", "!", "vim", "_", "isspace", "(", "p", "[", "-", "1", "]", ")", "<nl>", "+", "&", "&", "vim", "_", "iswordc", "(", "p", "[", "-", "1", "]", ")", "=", "=", "i", ")", "<nl>", "+", "-", "-", "p", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "else", "<nl>", "-", "-", "p", ";", "mmm", "src", "/", "version", ".", "c", "<nl>", "cmdline", "_", "erase", "_", "chars", "(", "<nl>", "{", "<nl>", "while", "(", "p", ">", "ccline", ".", "cmdbuff", "&", "&", "vim", "_", "isspace", "(", "p", "[", "-", "1", "]", ")", ")", "<nl>", "-", "-", "p", ";", "<nl>", "-", "i", "=", "vim", "_", "iswordc", "(", "p", "[", "-", "1", "]", ")", ";", "<nl>", "-", "while", "(", "p", ">", "ccline", ".", "cmdbuff", "&", "&", "!", "vim", "_", "isspace", "(", "p", "[", "-", "1", "]", ")", "<nl>", "-", "&", "&", "vim", "_", "iswordc", "(", "p", "[", "-", "1", "]", ")", "=", "=", "i", ")", "<nl>", "-", "-", "-", "p", ";", "<nl>", "+", "if", "(", "p", ">", "ccline", ".", "cmdbuff", ")", "<nl>", "+", "{", "<nl>", "+", "i", "=", "vim", "_", "iswordc", "(", "p", "[", "-", "1", "]", ")", ";", "<nl>", "+", "while", "(", "p", ">", "ccline", ".", "cmdbuff", "&", "&", "!", "vim", "_", "isspace", "(", "p", "[", "-", "1", "]", ")", "<nl>", "+", "&", "&", "vim", "_", "iswordc", "(", "p", "[", "-", "1", "]", ")", "=", "=", "i", ")", "<nl>", "+", "-", "-", "p", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "else", "<nl>", "-", "-", "p", ";", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "4899", ",", "<nl>", "/", "*", "*", "/", "<nl>", "4898", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "4899", "with", "latin1", "encoding", "CTRL", "W", "might", "go", "before", "the", "cmdline"]}
{"code_tokens": ["can", "_", "unload", "_", "buffer", "(", "buf", "_", "T", "*", "buf", ")", "<nl>", "}", "<nl>", "}", "<nl>", "if", "(", "!", "can", "_", "unload", ")", "<nl>", "-", "semsg", "(", "_", "(", "e", "_", "attempt", "_", "to", "_", "delete", "_", "buffer", "_", "that", "_", "is", "_", "in", "_", "use", "_", "str", ")", ",", "buf", "-", ">", "b", "_", "fname", ")", ";", "<nl>", "+", "{", "<nl>", "+", "char", "_", "u", "*", "fname", "=", "buf", "-", ">", "b", "_", "fname", "!", "=", "NULL", "?", "buf", "-", ">", "b", "_", "fname", ":", "buf", "-", ">", "b", "_", "ffname", ";", "<nl>", "+", "<nl>", "+", "semsg", "(", "_", "(", "e", "_", "attempt", "_", "to", "_", "delete", "_", "buffer", "_", "that", "_", "is", "_", "in", "_", "use", "_", "str", ")", ",", "<nl>", "+", "fname", "!", "=", "NULL", "?", "fname", ":", "(", "char", "_", "u", "*", ")", "\"", "[", "No", "Name", "]", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "return", "can", "_", "unload", ";", "<nl>", "}", "<nl>", "can", "_", "unload", "_", "buffer", "(", "buf", "_", "T", "*", "buf", ")", "<nl>", "}", "<nl>", "}", "<nl>", "if", "(", "!", "can", "_", "unload", ")", "<nl>", "-", "semsg", "(", "_", "(", "e", "_", "attempt", "_", "to", "_", "delete", "_", "buffer", "_", "that", "_", "is", "_", "in", "_", "use", "_", "str", ")", ",", "buf", "-", ">", "b", "_", "fname", ")", ";", "<nl>", "+", "{", "<nl>", "+", "char", "_", "u", "*", "fname", "=", "buf", "-", ">", "b", "_", "fname", "!", "=", "NULL", "?", "buf", "-", ">", "b", "_", "fname", ":", "buf", "-", ">", "b", "_", "ffname", ";", "<nl>", "+", "<nl>", "+", "semsg", "(", "_", "(", "e", "_", "attempt", "_", "to", "_", "delete", "_", "buffer", "_", "that", "_", "is", "_", "in", "_", "use", "_", "str", ")", ",", "<nl>", "+", "fname", "!", "=", "NULL", "?", "fname", ":", "(", "char", "_", "u", "*", ")", "\"", "[", "No", "Name", "]", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "return", "can", "_", "unload", ";", "<nl>", "}", "<nl>", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "614", ",", "<nl>", "/", "*", "*", "/", "<nl>", "613", ",", "<nl>", "/", "*", "*", "/", "mmm", "src", "/", "spell", ".", "c", "<nl>", "can", "_", "unload", "_", "buffer", "(", "buf", "_", "T", "*", "buf", ")", "<nl>", "}", "<nl>", "}", "<nl>", "if", "(", "!", "can", "_", "unload", ")", "<nl>", "-", "semsg", "(", "_", "(", "e", "_", "attempt", "_", "to", "_", "delete", "_", "buffer", "_", "that", "_", "is", "_", "in", "_", "use", "_", "str", ")", ",", "buf", "-", ">", "b", "_", "fname", ")", ";", "<nl>", "+", "{", "<nl>", "+", "char", "_", "u", "*", "fname", "=", "buf", "-", ">", "b", "_", "fname", "!", "=", "NULL", "?", "buf", "-", ">", "b", "_", "fname", ":", "buf", "-", ">", "b", "_", "ffname", ";", "<nl>", "+", "<nl>", "+", "semsg", "(", "_", "(", "e", "_", "attempt", "_", "to", "_", "delete", "_", "buffer", "_", "that", "_", "is", "_", "in", "_", "use", "_", "str", ")", ",", "<nl>", "+", "fname", "!", "=", "NULL", "?", "fname", ":", "(", "char", "_", "u", "*", ")", "\"", "[", "No", "Name", "]", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "return", "can", "_", "unload", ";", "<nl>", "}", "<nl>", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "614", ",", "<nl>", "/", "*", "*", "/", "<nl>", "613", ",", "<nl>", "/", "*", "*", "/", "<nl>", "spell", "_", "load", "_", "lang", "(", "char", "_", "u", "*", "lang", ")", "<nl>", "sl", ".", "sl", "_", "slang", "=", "NULL", ";", "<nl>", "sl", ".", "sl", "_", "nobreak", "=", "FALSE", ";", "<nl>", "<nl>", "+", "/", "/", "Disallow", "deleting", "the", "current", "buffer", ".", "Autocommands", "can", "do", "weird", "things", "<nl>", "+", "/", "/", "and", "cause", "\"", "lang", "\"", "to", "be", "freed", ".", "<nl>", "+", "+", "+", "curbuf", "-", ">", "b", "_", "locked", ";", "<nl>", "+", "<nl>", "/", "/", "We", "may", "retry", "when", "no", "spell", "file", "is", "found", "for", "the", "language", ",", "an", "<nl>", "/", "/", "autocommand", "may", "load", "it", "then", ".", "<nl>", "for", "(", "round", "=", "1", ";", "round", "<", "=", "2", ";", "+", "+", "round", ")", "<nl>", "spell", "_", "load", "_", "lang", "(", "char", "_", "u", "*", "lang", ")", "<nl>", "STRCPY", "(", "fname", "_", "enc", "+", "STRLEN", "(", "fname", "_", "enc", ")", "-", "3", ",", "\"", "add", ".", "spl", "\"", ")", ";", "<nl>", "do", "_", "in", "_", "runtimepath", "(", "fname", "_", "enc", ",", "DIP", "_", "ALL", ",", "spell", "_", "load", "_", "cb", ",", "&", "sl", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "-", "-", "curbuf", "-", ">", "b", "_", "locked", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0614", "SpellFileMissing", "autocmd", "may", "delete", "buffer"]}
{"code_tokens": ["cstrchr", "(", "char", "_", "u", "*", "s", ",", "int", "c", ")", "<nl>", "{", "<nl>", "if", "(", "enc", "_", "utf8", "&", "&", "c", ">", "0x80", ")", "<nl>", "{", "<nl>", "-", "if", "(", "utf", "_", "fold", "(", "utf", "_", "ptr2char", "(", "p", ")", ")", "=", "=", "cc", ")", "<nl>", "+", "int", "uc", "=", "utf", "_", "ptr2char", "(", "p", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Do", "not", "match", "an", "illegal", "byte", ".", "E", ".", "g", ".", "0xff", "matches", "0xc3", "0xbf", ",", "<nl>", "+", "/", "/", "not", "0xff", ".", "<nl>", "+", "if", "(", "(", "uc", "<", "0x80", "|", "|", "uc", "!", "=", "*", "p", ")", "&", "&", "utf", "_", "fold", "(", "uc", ")", "=", "=", "cc", ")", "<nl>", "return", "p", ";", "<nl>", "}", "<nl>", "else", "if", "(", "*", "p", "=", "=", "c", "|", "|", "*", "p", "=", "=", "cc", ")", "mmm", "src", "/", "version", ".", "c", "<nl>", "cstrchr", "(", "char", "_", "u", "*", "s", ",", "int", "c", ")", "<nl>", "{", "<nl>", "if", "(", "enc", "_", "utf8", "&", "&", "c", ">", "0x80", ")", "<nl>", "{", "<nl>", "-", "if", "(", "utf", "_", "fold", "(", "utf", "_", "ptr2char", "(", "p", ")", ")", "=", "=", "cc", ")", "<nl>", "+", "int", "uc", "=", "utf", "_", "ptr2char", "(", "p", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Do", "not", "match", "an", "illegal", "byte", ".", "E", ".", "g", ".", "0xff", "matches", "0xc3", "0xbf", ",", "<nl>", "+", "/", "/", "not", "0xff", ".", "<nl>", "+", "if", "(", "(", "uc", "<", "0x80", "|", "|", "uc", "!", "=", "*", "p", ")", "&", "&", "utf", "_", "fold", "(", "uc", ")", "=", "=", "cc", ")", "<nl>", "return", "p", ";", "<nl>", "}", "<nl>", "else", "if", "(", "*", "p", "=", "=", "c", "|", "|", "*", "p", "=", "=", "cc", ")", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "105", ",", "<nl>", "/", "*", "*", "/", "<nl>", "104", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "9", "0", "0105", "illegal", "memory", "access", "when", "pattern", "starts", "with", "illegal", "byte"]}
{"code_tokens": ["parse", "_", "cmd", "_", "address", "(", "exarg", "_", "T", "*", "eap", ",", "char", "*", "*", "errormsg", ",", "int", "silent", ")", "<nl>", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "eap", "-", ">", "line2", ";", "<nl>", "<nl>", "/", "/", "Don", "'", "t", "leave", "the", "cursor", "on", "an", "illegal", "line", "or", "column", ",", "but", "do", "<nl>", "-", "/", "/", "accept", "zero", "as", "address", ",", "so", "0", ";", "/", "PATTERN", "/", "works", "correctly", ".", "<nl>", "+", "/", "/", "accept", "zero", "as", "address", ",", "so", "0", ";", "/", "PATTERN", "/", "works", "correctly", "<nl>", "+", "/", "/", "(", "where", "zero", "usually", "means", "to", "use", "the", "first", "line", ")", ".", "<nl>", "/", "/", "Check", "the", "cursor", "position", "before", "returning", ".", "<nl>", "if", "(", "eap", "-", ">", "line2", ">", "0", ")", "<nl>", "check", "_", "cursor", "(", ")", ";", "<nl>", "+", "else", "<nl>", "+", "check", "_", "cursor", "_", "col", "(", ")", ";", "<nl>", "need", "_", "check", "_", "cursor", "=", "TRUE", ";", "<nl>", "}", "<nl>", "}", "mmm", "src", "/", "version", ".", "c", "<nl>", "parse", "_", "cmd", "_", "address", "(", "exarg", "_", "T", "*", "eap", ",", "char", "*", "*", "errormsg", ",", "int", "silent", ")", "<nl>", "curwin", "-", ">", "w", "_", "cursor", ".", "lnum", "=", "eap", "-", ">", "line2", ";", "<nl>", "<nl>", "/", "/", "Don", "'", "t", "leave", "the", "cursor", "on", "an", "illegal", "line", "or", "column", ",", "but", "do", "<nl>", "-", "/", "/", "accept", "zero", "as", "address", ",", "so", "0", ";", "/", "PATTERN", "/", "works", "correctly", ".", "<nl>", "+", "/", "/", "accept", "zero", "as", "address", ",", "so", "0", ";", "/", "PATTERN", "/", "works", "correctly", "<nl>", "+", "/", "/", "(", "where", "zero", "usually", "means", "to", "use", "the", "first", "line", ")", ".", "<nl>", "/", "/", "Check", "the", "cursor", "position", "before", "returning", ".", "<nl>", "if", "(", "eap", "-", ">", "line2", ">", "0", ")", "<nl>", "check", "_", "cursor", "(", ")", ";", "<nl>", "+", "else", "<nl>", "+", "check", "_", "cursor", "_", "col", "(", ")", ";", "<nl>", "need", "_", "check", "_", "cursor", "=", "TRUE", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "char", "*", "(", "features", "[", "]", ")", "=", "<nl>", "<nl>", "static", "int", "included", "_", "patches", "[", "]", "=", "<nl>", "{", "/", "*", "Add", "new", "patch", "number", "below", "this", "line", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "5150", ",", "<nl>", "/", "*", "*", "/", "<nl>", "5149", ",", "<nl>", "/", "*", "*", "/", "<nl>"], "docstring_tokens": ["patch", "8", "2", "5150", "read", "past", "the", "end", "of", "the", "first", "line", "with", "0"]}
{"code_tokens": ["lldp", "_", "decode", "(", "struct", "lldpd", "*", "cfg", ",", "char", "*", "frame", ",", "int", "s", ",", "<nl>", "case", "LLDP", "_", "TLV", "_", "MGMT", "_", "ADDR", ":", "<nl>", "CHECK", "_", "TLV", "_", "SIZE", "(", "1", ",", "\"", "Management", "address", "\"", ")", ";", "<nl>", "addr", "_", "str", "_", "length", "=", "PEEK", "_", "UINT8", ";", "<nl>", "+", "if", "(", "addr", "_", "str", "_", "length", ">", "sizeof", "(", "addr", "_", "str", "_", "buffer", ")", ")", "{", "<nl>", "+", "log", "_", "warnx", "(", "\"", "lldp", "\"", ",", "\"", "too", "large", "management", "address", "on", "%", "s", "\"", ",", "<nl>", "+", "hardware", "-", ">", "h", "_", "ifname", ")", ";", "<nl>", "+", "goto", "malformed", ";", "<nl>", "+", "}", "<nl>", "CHECK", "_", "TLV", "_", "SIZE", "(", "1", "+", "addr", "_", "str", "_", "length", ",", "\"", "Management", "address", "\"", ")", ";", "<nl>", "PEEK", "_", "BYTES", "(", "addr", "_", "str", "_", "buffer", ",", "addr", "_", "str", "_", "length", ")", ";", "<nl>", "addr", "_", "length", "=", "addr", "_", "str", "_", "length", "-", "1", ";", "<nl>", "lldp", "_", "decode", "(", "struct", "lldpd", "*", "cfg", ",", "char", "*", "frame", ",", "int", "s", ",", "<nl>", "CHECK", "_", "TLV", "_", "SIZE", "(", "1", "+", "addr", "_", "str", "_", "length", "+", "5", ",", "\"", "Management", "address", "\"", ")", ";", "<nl>", "iface", "_", "subtype", "=", "PEEK", "_", "UINT8", ";", "<nl>", "iface", "_", "number", "=", "PEEK", "_", "UINT32", ";", "<nl>", "-", "<nl>", "+", "<nl>", "af", "=", "lldpd", "_", "af", "_", "from", "_", "lldp", "_", "proto", "(", "addr", "_", "family", ")", ";", "<nl>", "if", "(", "af", "=", "=", "LLDPD", "_", "AF", "_", "UNSPEC", ")", "<nl>", "break", ";", "<nl>", "lldp", "_", "decode", "(", "struct", "lldpd", "*", "cfg", ",", "char", "*", "frame", ",", "int", "s", ",", "<nl>", "TAILQ", "_", "INSERT", "_", "TAIL", "(", "&", "chassis", "-", ">", "c", "_", "mgmt", ",", "mgmt", ",", "m", "_", "entries", ")", ";", "<nl>", "break", ";", "<nl>", "case", "LLDP", "_", "TLV", "_", "ORG", ":", "<nl>", "-", "CHECK", "_", "TLV", "_", "SIZE", "(", "4", ",", "\"", "Organisational", "\"", ")", ";", "<nl>", "+", "CHECK", "_", "TLV", "_", "SIZE", "(", "1", "+", "(", "int", ")", "sizeof", "(", "orgid", ")", ",", "\"", "Organisational", "\"", ")", ";", "<nl>", "PEEK", "_", "BYTES", "(", "orgid", ",", "sizeof", "(", "orgid", ")", ")", ";", "<nl>", "tlv", "_", "subtype", "=", "PEEK", "_", "UINT8", ";", "<nl>", "if", "(", "memcmp", "(", "dot1", ",", "orgid", ",", "sizeof", "(", "orgid", ")", ")", "=", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["lldp", "fix", "a", "buffer", "overflow", "when", "handling", "management", "address", "TLV"]}
{"code_tokens": ["static", "int", "pico", "_", "ipv4", "_", "process", "_", "in", "(", "struct", "pico", "_", "stack", "*", "S", ",", "struct", "pico", "_", "protocol", "*", "self", "<nl>", "f", "-", ">", "transport", "_", "hdr", "=", "(", "(", "uint8", "_", "t", "*", ")", "f", "-", ">", "net", "_", "hdr", ")", "+", "PICO", "_", "SIZE", "_", "IP4HDR", "+", "option", "_", "len", ";", "<nl>", "f", "-", ">", "transport", "_", "len", "=", "(", "uint16", "_", "t", ")", "(", "short", "_", "be", "(", "hdr", "-", ">", "len", ")", "-", "PICO", "_", "SIZE", "_", "IP4HDR", "-", "option", "_", "len", ")", ";", "<nl>", "f", "-", ">", "net", "_", "len", "=", "(", "uint16", "_", "t", ")", "(", "PICO", "_", "SIZE", "_", "IP4HDR", "+", "option", "_", "len", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "(", "f", "-", ">", "net", "_", "hdr", "+", "f", "-", ">", "net", "_", "len", ")", ">", "(", "f", "-", ">", "buffer", "+", "f", "-", ">", "buffer", "_", "len", ")", ")", "{", "<nl>", "+", "pico", "_", "frame", "_", "discard", "(", "f", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "#", "if", "defined", "(", "PICO", "_", "SUPPORT", "_", "IPV4FRAG", ")", "|", "|", "defined", "(", "PICO", "_", "SUPPORT", "_", "IPV6FRAG", ")", "<nl>", "f", "-", ">", "frag", "=", "short", "_", "be", "(", "hdr", "-", ">", "frag", ")", ";", "<nl>", "#", "endifmmm", "modules", "/", "pico", "_", "tcp", ".", "c", "<nl>", "static", "int", "pico", "_", "ipv4", "_", "process", "_", "in", "(", "struct", "pico", "_", "stack", "*", "S", ",", "struct", "pico", "_", "protocol", "*", "self", "<nl>", "f", "-", ">", "transport", "_", "hdr", "=", "(", "(", "uint8", "_", "t", "*", ")", "f", "-", ">", "net", "_", "hdr", ")", "+", "PICO", "_", "SIZE", "_", "IP4HDR", "+", "option", "_", "len", ";", "<nl>", "f", "-", ">", "transport", "_", "len", "=", "(", "uint16", "_", "t", ")", "(", "short", "_", "be", "(", "hdr", "-", ">", "len", ")", "-", "PICO", "_", "SIZE", "_", "IP4HDR", "-", "option", "_", "len", ")", ";", "<nl>", "f", "-", ">", "net", "_", "len", "=", "(", "uint16", "_", "t", ")", "(", "PICO", "_", "SIZE", "_", "IP4HDR", "+", "option", "_", "len", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "(", "f", "-", ">", "net", "_", "hdr", "+", "f", "-", ">", "net", "_", "len", ")", ">", "(", "f", "-", ">", "buffer", "+", "f", "-", ">", "buffer", "_", "len", ")", ")", "{", "<nl>", "+", "pico", "_", "frame", "_", "discard", "(", "f", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "#", "if", "defined", "(", "PICO", "_", "SUPPORT", "_", "IPV4FRAG", ")", "|", "|", "defined", "(", "PICO", "_", "SUPPORT", "_", "IPV6FRAG", ")", "<nl>", "f", "-", ">", "frag", "=", "short", "_", "be", "(", "hdr", "-", ">", "frag", ")", ";", "<nl>", "#", "endif", "<nl>", "static", "inline", "void", "tcp", "_", "parse", "_", "option", "_", "mss", "(", "struct", "pico", "_", "socket", "_", "tcp", "*", "t", ",", "uint8", "_", "t", "len", ",", "<nl>", "if", "(", "tcpopt", "_", "len", "_", "check", "(", "idx", ",", "len", ",", "PICO", "_", "TCPOPTLEN", "_", "MSS", ")", "<", "0", ")", "<nl>", "return", ";", "<nl>", "<nl>", "+", "if", "(", "(", "*", "idx", "+", "PICO", "_", "TCPOPTLEN", "_", "MSS", ")", ">", "len", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "t", "-", ">", "mss", "_", "ok", "=", "1", ";", "<nl>", "mss", "=", "short", "_", "from", "(", "opt", "+", "*", "idx", ")", ";", "<nl>", "*", "idx", "+", "=", "(", "uint32", "_", "t", ")", "sizeof", "(", "uint16", "_", "t", ")", ";", "<nl>", "static", "int", "tcp", "_", "parse", "_", "options", "(", "struct", "pico", "_", "frame", "*", "f", ")", "<nl>", "uint8", "_", "t", "*", "opt", "=", "f", "-", ">", "transport", "_", "hdr", "+", "PICO", "_", "SIZE", "_", "TCPHDR", ";", "<nl>", "uint32", "_", "t", "i", "=", "0", ";", "<nl>", "f", "-", ">", "timestamp", "=", "0", ";", "<nl>", "+", "<nl>", "+", "if", "(", "f", "-", ">", "buffer", "+", "f", "-", ">", "buffer", "_", "len", ">", "f", "-", ">", "transport", "_", "hdr", "+", "f", "-", ">", "transport", "_", "len", ")", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "<nl>", "while", "(", "i", "<", "(", "f", "-", ">", "transport", "_", "len", "-", "PICO", "_", "SIZE", "_", "TCPHDR", ")", ")", "{", "<nl>", "uint8", "_", "t", "type", "=", "opt", "[", "i", "+", "+", "]", ";", "<nl>", "uint8", "_", "t", "len", ";", "<nl>"], "docstring_tokens": ["More", "checks", "for", "correct", "header", "sizes"]}
{"code_tokens": ["IMPORTED", "_", "FUNCTION", "*", "pe", "_", "parse", "_", "import", "_", "descriptor", "(", "<nl>", "IMPORTED", "_", "FUNCTION", "*", "imported", "_", "func", "=", "(", "IMPORTED", "_", "FUNCTION", "*", ")", "<nl>", "yr", "_", "calloc", "(", "1", ",", "sizeof", "(", "IMPORTED", "_", "FUNCTION", ")", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "imported", "_", "func", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "imported", "_", "func", "-", ">", "name", "=", "name", ";", "<nl>", "imported", "_", "func", "-", ">", "next", "=", "NULL", ";", "<nl>", "<nl>", "IMPORTED", "_", "FUNCTION", "*", "pe", "_", "parse", "_", "import", "_", "descriptor", "(", "<nl>", "IMPORTED", "_", "FUNCTION", "*", "imported", "_", "func", "=", "(", "IMPORTED", "_", "FUNCTION", "*", ")", "<nl>", "yr", "_", "calloc", "(", "1", ",", "sizeof", "(", "IMPORTED", "_", "FUNCTION", ")", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "imported", "_", "func", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "imported", "_", "func", "-", ">", "name", "=", "name", ";", "<nl>", "imported", "_", "func", "-", ">", "next", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["PE", "module", "avoid", "segfault", "after", "failed", "allocation"]}
{"code_tokens": ["limitations", "under", "the", "License", ".", "<nl>", "<nl>", "<nl>", "#", "define", "fits", "_", "in", "_", "pe", "(", "pe", ",", "pointer", ",", "size", ")", "\\", "<nl>", "-", "(", "(", "uint8", "_", "t", "*", ")", "(", "pointer", ")", "+", "size", "<", "=", "pe", "-", ">", "data", "+", "pe", "-", ">", "data", "_", "size", ")", "<nl>", "+", "(", "size", "<", "=", "pe", "-", ">", "data", "_", "size", "&", "&", "\\", "<nl>", "+", "(", "uint8", "_", "t", "*", ")", "(", "pointer", ")", ">", "=", "pe", "-", ">", "data", "&", "&", "\\", "<nl>", "+", "(", "uint8", "_", "t", "*", ")", "(", "pointer", ")", "+", "size", "<", "=", "pe", "-", ">", "data", "+", "pe", "-", ">", "data", "_", "size", ")", "<nl>", "<nl>", "<nl>", "#", "define", "struct", "_", "fits", "_", "in", "_", "pe", "(", "pe", ",", "pointer", ",", "struct", "_", "type", ")", "\\", "<nl>"], "docstring_tokens": ["Avoid", "integer", "overflows", "in", "fits_in_pe", "macro", "issue", "277"]}
{"code_tokens": ["void", "pe", "_", "parse", "_", "version", "_", "info", "(", "<nl>", "<nl>", "version", "_", "info", "=", "(", "PVERSION", "_", "INFO", ")", "(", "pe", "-", ">", "data", "+", "version", "_", "info", "_", "offset", ")", ";", "<nl>", "<nl>", "-", "if", "(", "!", "fits", "_", "in", "_", "pe", "(", "pe", ",", "version", "_", "info", "-", ">", "Key", ",", "sizeof", "(", "\"", "VS", "_", "VERSION", "_", "INFO", "\"", ")", ")", ")", "<nl>", "+", "if", "(", "!", "fits", "_", "in", "_", "pe", "(", "pe", ",", "version", "_", "info", "-", ">", "Key", ",", "sizeof", "(", "\"", "VS", "_", "VERSION", "_", "INFO", "\"", ")", "*", "2", ")", ")", "<nl>", "return", ";", "<nl>", "<nl>", "if", "(", "strcmp", "_", "w", "(", "version", "_", "info", "-", ">", "Key", ",", "\"", "VS", "_", "VERSION", "_", "INFO", "\"", ")", "!", "=", "0", ")", "<nl>", "void", "pe", "_", "parse", "_", "version", "_", "info", "(", "<nl>", "<nl>", "string", "_", "file", "_", "info", "=", "ADD", "_", "OFFSET", "(", "version", "_", "info", ",", "sizeof", "(", "VERSION", "_", "INFO", ")", "+", "86", ")", ";", "<nl>", "<nl>", "-", "while", "(", "fits", "_", "in", "_", "pe", "(", "pe", ",", "string", "_", "file", "_", "info", "-", ">", "Key", ",", "sizeof", "(", "\"", "StringFileInfo", "\"", ")", ")", "&", "&", "<nl>", "+", "while", "(", "fits", "_", "in", "_", "pe", "(", "pe", ",", "string", "_", "file", "_", "info", "-", ">", "Key", ",", "sizeof", "(", "\"", "StringFileInfo", "\"", ")", "*", "2", ")", "&", "&", "<nl>", "strcmp", "_", "w", "(", "string", "_", "file", "_", "info", "-", ">", "Key", ",", "\"", "StringFileInfo", "\"", ")", "=", "=", "0", ")", "<nl>", "{", "<nl>", "PVERSION", "_", "INFO", "string", "_", "table", "=", "ADD", "_", "OFFSET", "(", "<nl>"], "docstring_tokens": ["PE", "module", "Corrected", "size", "of", "strings", "in", "checks"]}
{"code_tokens": ["int", "yr", "_", "atoms", "_", "table", "_", "quality", "(", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "-", "if", "(", "atom", "_", "length", "=", "=", "YR", "_", "MAX", "_", "ATOM", "_", "LENGTH", ")", "<nl>", "-", "return", "table", "[", "middle", "]", ".", "quality", ";", "<nl>", "-", "<nl>", "int", "i", "=", "middle", "+", "1", ";", "<nl>", "int", "quality", "=", "table", "[", "middle", "]", ".", "quality", ";", "<nl>", "int", "min", "_", "quality", "=", "quality", ";", "<nl>", "<nl>", "+", "if", "(", "atom", "_", "length", "=", "=", "YR", "_", "MAX", "_", "ATOM", "_", "LENGTH", ")", "<nl>", "+", "return", "table", "[", "middle", "]", ".", "quality", ";", "<nl>", "+", "<nl>", "while", "(", "i", "<", "end", "&", "&", "memcmp", "(", "table", "[", "i", "]", ".", "atom", ",", "atom", ",", "atom", "_", "length", ")", "=", "=", "0", ")", "<nl>", "{", "<nl>", "if", "(", "min", "_", "quality", ">", "table", "[", "i", "]", ".", "quality", ")", "<nl>"], "docstring_tokens": ["Declare", "variables", "before", "first", "statement", "in", "block", "as", "required", "Visual", "C", "9", "0"]}
{"code_tokens": ["typedef", "struct", "_", "IMAGE", "_", "FILE", "_", "HEADER", "{", "<nl>", "<nl>", "<nl>", "#", "define", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "I386", "0x014c", "/", "/", "Intel", "386", ".", "<nl>", "-", "#", "define", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "X64", "0x8664", "/", "/", "Intel", "x64", ".", "<nl>", "+", "#", "define", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "AMD64", "0x8664", "/", "/", "Intel", "x64", ".", "<nl>", "<nl>", "/", "/", "<nl>", "/", "/", "Directory", "format", ".", "mmm", "libyara", "/", "exefiles", ".", "c", "<nl>", "typedef", "struct", "_", "IMAGE", "_", "FILE", "_", "HEADER", "{", "<nl>", "<nl>", "<nl>", "#", "define", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "I386", "0x014c", "/", "/", "Intel", "386", ".", "<nl>", "-", "#", "define", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "X64", "0x8664", "/", "/", "Intel", "x64", ".", "<nl>", "+", "#", "define", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "AMD64", "0x8664", "/", "/", "Intel", "x64", ".", "<nl>", "<nl>", "/", "/", "<nl>", "/", "/", "Directory", "format", ".", "<nl>", "PIMAGE", "_", "NT", "_", "HEADERS", "yr", "_", "get", "_", "pe", "_", "header", "(", "<nl>", "<nl>", "if", "(", "pe", "_", "header", "-", ">", "Signature", "=", "=", "IMAGE", "_", "NT", "_", "SIGNATURE", "&", "&", "<nl>", "(", "pe", "_", "header", "-", ">", "FileHeader", ".", "Machine", "=", "=", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "I386", "|", "|", "<nl>", "-", "pe", "_", "header", "-", ">", "FileHeader", ".", "Machine", "=", "=", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "X64", ")", "&", "&", "<nl>", "+", "pe", "_", "header", "-", ">", "FileHeader", ".", "Machine", "=", "=", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "AMD64", ")", "&", "&", "<nl>", "buffer", "_", "length", ">", "headers", "_", "size", ")", "<nl>", "{", "<nl>", "return", "pe", "_", "header", ";", "<nl>"], "docstring_tokens": ["Made", "64bit", "machine", "define", "compatible", "with", "Windows"]}
{"code_tokens": ["void", "pe", "_", "parse", "_", "certificates", "(", "<nl>", "}", "<nl>", "BIO", "_", "read", "(", "date", "_", "bio", ",", "p", ",", "date", "_", "bio", "-", ">", "num", "_", "write", ")", ";", "<nl>", "p", "[", "date", "_", "bio", "-", ">", "num", "_", "write", "]", "=", "'", "\\", "x0", "'", ";", "<nl>", "-", "set", "_", "string", "(", "p", ",", "pe", "-", ">", "object", ",", "\"", "signatures", "[", "%", "i", "]", ".", "notBefore", "\"", ",", "counter", ")", ";", "<nl>", "+", "set", "_", "string", "(", "p", ",", "pe", "-", ">", "object", ",", "\"", "signatures", "[", "%", "i", "]", ".", "not", "_", "before", "\"", ",", "counter", ")", ";", "<nl>", "yr", "_", "free", "(", "p", ")", ";", "<nl>", "date", "_", "time", "=", "X509", "_", "get", "_", "notAfter", "(", "cert", ")", ";", "<nl>", "ASN1", "_", "TIME", "_", "print", "(", "date", "_", "bio", ",", "date", "_", "time", ")", ";", "<nl>", "void", "pe", "_", "parse", "_", "certificates", "(", "<nl>", "}", "<nl>", "BIO", "_", "read", "(", "date", "_", "bio", ",", "p", ",", "date", "_", "length", ")", ";", "<nl>", "p", "[", "date", "_", "length", "]", "=", "'", "\\", "x0", "'", ";", "<nl>", "-", "set", "_", "string", "(", "p", ",", "pe", "-", ">", "object", ",", "\"", "signatures", "[", "%", "i", "]", ".", "notAfter", "\"", ",", "counter", ")", ";", "<nl>", "+", "set", "_", "string", "(", "p", ",", "pe", "-", ">", "object", ",", "\"", "signatures", "[", "%", "i", "]", ".", "not", "_", "after", "\"", ",", "counter", ")", ";", "<nl>", "yr", "_", "free", "(", "p", ")", ";", "<nl>", "}", "<nl>", "BIO", "_", "set", "_", "close", "(", "date", "_", "bio", ",", "BIO", "_", "CLOSE", ")", ";", "<nl>", "begin", "_", "declarations", ";", "<nl>", "declare", "_", "integer", "(", "\"", "version", "\"", ")", ";", "<nl>", "declare", "_", "string", "(", "\"", "algorithm", "\"", ")", ";", "<nl>", "declare", "_", "string", "(", "\"", "serial", "\"", ")", ";", "<nl>", "-", "declare", "_", "string", "(", "\"", "notBefore", "\"", ")", ";", "<nl>", "-", "declare", "_", "string", "(", "\"", "notAfter", "\"", ")", ";", "<nl>", "+", "declare", "_", "string", "(", "\"", "not", "_", "before", "\"", ")", ";", "<nl>", "+", "declare", "_", "string", "(", "\"", "not", "_", "after", "\"", ")", ";", "<nl>", "end", "_", "struct", "_", "array", "(", "\"", "signatures", "\"", ")", ";", "<nl>", "declare", "_", "integer", "(", "\"", "number", "_", "of", "_", "signatures", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Use", "not_before", "and", "not_after"]}
{"code_tokens": ["void", "free", "_", "term", "(", "TERM", "*", "term", ")", "<nl>", "<nl>", "free", "_", "term", "(", "(", "(", "TERM", "_", "STRING", "*", ")", "term", ")", "-", ">", "offset", ")", ";", "<nl>", "break", ";", "<nl>", "+", "<nl>", "+", "case", "TERM", "_", "TYPE", "_", "STRING", "_", "OFFSET", ":", "<nl>", "+", "<nl>", "+", "free", "_", "term", "(", "(", "(", "TERM", "_", "STRING", "*", ")", "term", ")", "-", ">", "index", ")", ";", "<nl>", "+", "break", ";", "<nl>", "<nl>", "case", "TERM", "_", "TYPE", "_", "STRING", "_", "IN", "_", "RANGE", ":", "<nl>"], "docstring_tokens": ["Fix", "memory", "leak"]}
{"code_tokens": ["int", "yr", "_", "re", "_", "fast", "_", "exec", "(", "<nl>", "<nl>", "for", "(", "i", "=", "repeat", "_", "any", "_", "args", "-", ">", "min", "+", "1", ";", "i", "<", "=", "repeat", "_", "any", "_", "args", "-", ">", "max", ";", "i", "+", "+", ")", "<nl>", "{", "<nl>", "-", "next", "_", "input", "=", "input", "+", "i", "*", "input", "_", "incr", ";", "<nl>", "-", "<nl>", "if", "(", "bytes", "_", "matched", "+", "i", ">", "=", "max", "_", "bytes", "_", "matched", ")", "<nl>", "break", ";", "<nl>", "<nl>", "+", "next", "_", "input", "=", "input", "+", "i", "*", "input", "_", "incr", ";", "<nl>", "+", "<nl>", "if", "(", "*", "(", "next", "_", "opcode", ")", "!", "=", "RE", "_", "OPCODE", "_", "LITERAL", "|", "|", "<nl>", "(", "*", "(", "next", "_", "opcode", ")", "=", "=", "RE", "_", "OPCODE", "_", "LITERAL", "&", "&", "<nl>", "*", "(", "next", "_", "opcode", "+", "1", ")", "=", "=", "*", "next", "_", "input", ")", ")", "<nl>", "int", "yr", "_", "re", "_", "fast", "_", "exec", "(", "<nl>", "<nl>", "input", "+", "=", "input", "_", "incr", "*", "repeat", "_", "any", "_", "args", "-", ">", "min", ";", "<nl>", "bytes", "_", "matched", "+", "=", "repeat", "_", "any", "_", "args", "-", ">", "min", ";", "<nl>", "+", "bytes", "_", "matched", "=", "yr", "_", "min", "(", "bytes", "_", "matched", ",", "max", "_", "bytes", "_", "matched", ")", ";", "<nl>", "ip", "=", "next", "_", "opcode", ";", "<nl>", "<nl>", "break", ";", "mmm", "libyara", "/", "scan", ".", "c", "<nl>", "int", "yr", "_", "re", "_", "fast", "_", "exec", "(", "<nl>", "<nl>", "for", "(", "i", "=", "repeat", "_", "any", "_", "args", "-", ">", "min", "+", "1", ";", "i", "<", "=", "repeat", "_", "any", "_", "args", "-", ">", "max", ";", "i", "+", "+", ")", "<nl>", "{", "<nl>", "-", "next", "_", "input", "=", "input", "+", "i", "*", "input", "_", "incr", ";", "<nl>", "-", "<nl>", "if", "(", "bytes", "_", "matched", "+", "i", ">", "=", "max", "_", "bytes", "_", "matched", ")", "<nl>", "break", ";", "<nl>", "<nl>", "+", "next", "_", "input", "=", "input", "+", "i", "*", "input", "_", "incr", ";", "<nl>", "+", "<nl>", "if", "(", "*", "(", "next", "_", "opcode", ")", "!", "=", "RE", "_", "OPCODE", "_", "LITERAL", "|", "|", "<nl>", "(", "*", "(", "next", "_", "opcode", ")", "=", "=", "RE", "_", "OPCODE", "_", "LITERAL", "&", "&", "<nl>", "*", "(", "next", "_", "opcode", "+", "1", ")", "=", "=", "*", "next", "_", "input", ")", ")", "<nl>", "int", "yr", "_", "re", "_", "fast", "_", "exec", "(", "<nl>", "<nl>", "input", "+", "=", "input", "_", "incr", "*", "repeat", "_", "any", "_", "args", "-", ">", "min", ";", "<nl>", "bytes", "_", "matched", "+", "=", "repeat", "_", "any", "_", "args", "-", ">", "min", ";", "<nl>", "+", "bytes", "_", "matched", "=", "yr", "_", "min", "(", "bytes", "_", "matched", ",", "max", "_", "bytes", "_", "matched", ")", ";", "<nl>", "ip", "=", "next", "_", "opcode", ";", "<nl>", "<nl>", "break", ";", "<nl>", "int", "_", "yr", "_", "scan", "_", "match", "_", "callback", "(", "<nl>", "/", "/", "total", "match", "length", "is", "the", "sum", "of", "backward", "and", "forward", "matches", ".", "<nl>", "match", "_", "length", "+", "=", "callback", "_", "args", "-", ">", "forward", "_", "matches", ";", "<nl>", "<nl>", "+", "/", "/", "make", "sure", "that", "match", "fits", "into", "the", "data", ".", "<nl>", "+", "assert", "(", "match", "_", "offset", "+", "match", "_", "length", "<", "=", "callback", "_", "args", "-", ">", "data", "_", "size", ")", ";", "<nl>", "+", "<nl>", "if", "(", "callback", "_", "args", "-", ">", "full", "_", "word", ")", "<nl>", "{", "<nl>", "if", "(", "flags", "&", "RE", "_", "FLAGS", "_", "WIDE", ")", "<nl>"], "docstring_tokens": ["Fix", "buffer", "overrun", "issue", "678", "Add", "assert", "for", "detecting", "this", "kind", "of", "issues", "earlier"]}
{"code_tokens": ["bool", "compile", "_", "files", "(", "<nl>", "{", "<nl>", "for", "(", "int", "i", "=", "0", ";", "i", "<", "argc", "-", "1", ";", "i", "+", "+", ")", "<nl>", "{", "<nl>", "+", "FILE", "*", "rule", "_", "file", ";", "<nl>", "const", "char", "*", "ns", ";", "<nl>", "const", "char", "*", "file", "_", "name", ";", "<nl>", "char", "*", "colon", "=", "(", "char", "*", ")", "strchr", "(", "argv", "[", "i", "]", ",", "'", ":", "'", ")", ";", "<nl>", "bool", "compile", "_", "files", "(", "<nl>", "ns", "=", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "FILE", "*", "rule", "_", "file", "=", "fopen", "(", "file", "_", "name", ",", "\"", "r", "\"", ")", ";", "<nl>", "+", "if", "(", "strcmp", "(", "file", "_", "name", ",", "\"", "-", "\"", ")", "=", "=", "0", ")", "<nl>", "+", "rule", "_", "file", "=", "stdin", ";", "<nl>", "+", "else", "<nl>", "+", "rule", "_", "file", "=", "fopen", "(", "file", "_", "name", ",", "\"", "r", "\"", ")", ";", "<nl>", "<nl>", "if", "(", "rule", "_", "file", "=", "=", "NULL", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["Allow", "using", "in", "command", "line", "to", "read", "files", "rules", "from", "stdin"]}
{"code_tokens": ["limitations", "under", "the", "License", ".", "<nl>", "#", "include", "<", "ctype", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "yara", "/", "error", ".", "h", ">", "<nl>", "-", "#", "include", "<", "yara", "/", "mem", ".", "h", ">", "<nl>", "#", "include", "<", "yara", "/", "re", ".", "h", ">", "<nl>", "#", "include", "<", "yara", "/", "modules", ".", "h", ">", "<nl>", "-", "<nl>", "+", "#", "include", "<", "yara", "/", "mem", ".", "h", ">", "<nl>", "<nl>", "#", "ifdef", "_", "WIN32", "<nl>", "#", "define", "snprintf", "_", "snprintfmmm", "libyara", "/", "include", "/", "yara", "/", "mem", ".", "h", "<nl>", "limitations", "under", "the", "License", ".", "<nl>", "#", "include", "<", "ctype", ".", "h", ">", "<nl>", "<nl>", "#", "include", "<", "yara", "/", "error", ".", "h", ">", "<nl>", "-", "#", "include", "<", "yara", "/", "mem", ".", "h", ">", "<nl>", "#", "include", "<", "yara", "/", "re", ".", "h", ">", "<nl>", "#", "include", "<", "yara", "/", "modules", ".", "h", ">", "<nl>", "-", "<nl>", "+", "#", "include", "<", "yara", "/", "mem", ".", "h", ">", "<nl>", "<nl>", "#", "ifdef", "_", "WIN32", "<nl>", "#", "define", "snprintf", "_", "snprintf", "<nl>", "limitations", "under", "the", "License", ".", "<nl>", "#", "ifdef", "DMALLOC", "<nl>", "<nl>", "#", "define", "yr", "_", "malloc", "malloc", "<nl>", "+", "#", "define", "yr", "_", "calloc", "calloc", "<nl>", "#", "define", "yr", "_", "realloc", "realloc", "<nl>", "#", "define", "yr", "_", "free", "free", "<nl>", "#", "define", "yr", "_", "strdup", "strdup", "<nl>"], "docstring_tokens": ["Fix", "issues", "when", "using", "dmalloc"]}
{"code_tokens": ["PIMAGE", "_", "DATA", "_", "DIRECTORY", "pe", "_", "get", "_", "directory", "_", "entry", "(", "<nl>", "{", "<nl>", "PIMAGE", "_", "DATA", "_", "DIRECTORY", "result", ";", "<nl>", "<nl>", "-", "if", "(", "pe", "-", ">", "header", "-", ">", "FileHeader", ".", "Machine", "=", "=", "0x8664", ")", "/", "/", "is", "a", "64", "-", "bit", "PE", "?", "<nl>", "+", "if", "(", "pe", "-", ">", "header", "-", ">", "FileHeader", ".", "Machine", "=", "=", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "AMD64", ")", "<nl>", "result", "=", "&", "(", "(", "PIMAGE", "_", "NT", "_", "HEADERS64", ")", "pe", "-", ">", "header", ")", "-", ">", "<nl>", "OptionalHeader", ".", "DataDirectory", "[", "entry", "]", ";", "<nl>", "else", "<nl>", "void", "pe", "_", "parse", "(", "<nl>", "char", "section", "_", "name", "[", "IMAGE", "_", "SIZEOF", "_", "SHORT", "_", "NAME", "+", "1", "]", ";", "<nl>", "<nl>", "#", "define", "OptionalHeader", "(", "field", ")", "\\", "<nl>", "-", "(", "pe", "-", ">", "header", "-", ">", "FileHeader", ".", "Machine", "=", "=", "0x8664", "?", "\\", "<nl>", "+", "(", "pe", "-", ">", "header", "-", ">", "FileHeader", ".", "Machine", "=", "=", "IMAGE", "_", "FILE", "_", "MACHINE", "_", "AMD64", "?", "\\", "<nl>", "(", "(", "PIMAGE", "_", "NT", "_", "HEADERS64", ")", "pe", "-", ">", "header", ")", "-", ">", "OptionalHeader", ".", "field", ":", "\\", "<nl>", "pe", "-", ">", "header", "-", ">", "OptionalHeader", ".", "field", ")", "<nl>"], "docstring_tokens": ["Use", "IMAGE_FILE_MACHINE_AMD64", "appropriately"]}
{"code_tokens": ["IMPORTED", "_", "FUNCTION", "*", "pe", "_", "parse", "_", "import", "_", "descriptor", "(", "<nl>", "/", "/", "I", "'", "ve", "seen", "binaries", "where", "OriginalFirstThunk", "is", "zero", ".", "In", "this", "case", "<nl>", "/", "/", "use", "FirstThunk", ".", "<nl>", "<nl>", "-", "if", "(", "offset", "<", "0", ")", "<nl>", "+", "if", "(", "offset", "<", "=", "0", ")", "<nl>", "offset", "=", "pe", "_", "rva", "_", "to", "_", "offset", "(", "pe", ",", "import", "_", "descriptor", "-", ">", "FirstThunk", ")", ";", "<nl>", "<nl>", "if", "(", "offset", "<", "0", ")", "<nl>"], "docstring_tokens": ["pe", "imports", "Actually", "look", "at", "FirstThunk", "if", "OriginalFirstThunk", "is", "zero"]}
{"code_tokens": ["rndr", "_", "quote", "(", "struct", "buf", "*", "ob", ",", "const", "struct", "buf", "*", "text", ",", "void", "*", "opaque", ")", "<nl>", "if", "(", "!", "text", "|", "|", "!", "text", "-", ">", "size", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "struct", "html", "_", "renderopt", "*", "options", "=", "opaque", ";", "<nl>", "+", "<nl>", "BUFPUTSL", "(", "ob", ",", "\"", "<", "q", ">", "\"", ")", ";", "<nl>", "-", "bufput", "(", "ob", ",", "text", "-", ">", "data", ",", "text", "-", ">", "size", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "options", "-", ">", "flags", "&", "HTML", "_", "ESCAPE", ")", "<nl>", "+", "escape", "_", "html", "(", "ob", ",", "text", "-", ">", "data", ",", "text", "-", ">", "size", ")", ";", "<nl>", "+", "else", "<nl>", "+", "bufput", "(", "ob", ",", "text", "-", ">", "data", ",", "text", "-", ">", "size", ")", ";", "<nl>", "+", "<nl>", "BUFPUTSL", "(", "ob", ",", "\"", "<", "/", "q", ">", "\"", ")", ";", "<nl>", "<nl>", "return", "1", ";", "<nl>"], "docstring_tokens": ["Fix", "a", "security", "issue", "using", "quote", "with", "escape_html"]}
{"code_tokens": ["doProlog", "(", "XML", "_", "Parser", "parser", ",", "<nl>", "return", "XML", "_", "ERROR", "_", "UNCLOSED", "_", "TOKEN", ";", "<nl>", "case", "XML", "_", "TOK", "_", "PARTIAL", "_", "CHAR", ":", "<nl>", "return", "XML", "_", "ERROR", "_", "PARTIAL", "_", "CHAR", ";", "<nl>", "+", "case", "-", "XML", "_", "TOK", "_", "PROLOG", "_", "S", ":", "<nl>", "+", "tok", "=", "-", "tok", ";", "<nl>", "+", "break", ";", "<nl>", "case", "XML", "_", "TOK", "_", "NONE", ":", "<nl>", "#", "ifdef", "XML", "_", "DTD", "<nl>", "/", "*", "for", "internal", "PE", "NOT", "referenced", "between", "declarations", "*", "/", "mmm", "3", "rdparty", "/", "expat", "/", "lib", "/", "xmltok", "_", "impl", ".", "c", "<nl>", "doProlog", "(", "XML", "_", "Parser", "parser", ",", "<nl>", "return", "XML", "_", "ERROR", "_", "UNCLOSED", "_", "TOKEN", ";", "<nl>", "case", "XML", "_", "TOK", "_", "PARTIAL", "_", "CHAR", ":", "<nl>", "return", "XML", "_", "ERROR", "_", "PARTIAL", "_", "CHAR", ";", "<nl>", "+", "case", "-", "XML", "_", "TOK", "_", "PROLOG", "_", "S", ":", "<nl>", "+", "tok", "=", "-", "tok", ";", "<nl>", "+", "break", ";", "<nl>", "case", "XML", "_", "TOK", "_", "NONE", ":", "<nl>", "#", "ifdef", "XML", "_", "DTD", "<nl>", "/", "*", "for", "internal", "PE", "NOT", "referenced", "between", "declarations", "*", "/", "<nl>", "PREFIX", "(", "updatePosition", ")", "(", "const", "ENCODING", "*", "enc", ",", "<nl>", "const", "char", "*", "end", ",", "<nl>", "POSITION", "*", "pos", ")", "<nl>", "{", "<nl>", "-", "while", "(", "ptr", "!", "=", "end", ")", "{", "<nl>", "+", "while", "(", "ptr", "<", "end", ")", "{", "<nl>", "switch", "(", "BYTE", "_", "TYPE", "(", "enc", ",", "ptr", ")", ")", "{", "<nl>", "#", "define", "LEAD", "_", "CASE", "(", "n", ")", "\\", "<nl>", "case", "BT", "_", "LEAD", "#", "#", "n", ":", "\\", "<nl>"], "docstring_tokens": ["Expat", "Applied", "patches", "to", "fix", "CVE", "2009", "3560", "and", "CVE", "2009", "2625"]}
{"code_tokens": ["public", ":", "<nl>", "if", "(", "ms", "_", "uiThread", ")", "<nl>", "{", "<nl>", "ms", "_", "uiThread", "-", ">", "Join", "(", ")", ";", "<nl>", "+", "delete", "ms", "_", "uiThread", ";", "<nl>", "ms", "_", "uiThread", "=", "NULL", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "memory", "leak"]}
{"code_tokens": ["void", "CenterWindowOnHostApplication", "(", "wxTopLevelWindow", "*", "win", ")", "<nl>", "EnumWindows", "(", "EnumProcessWindowsCallback", ",", "(", "LPARAM", ")", "&", "data", ")", ";", "<nl>", "<nl>", "if", "(", "data", ".", "biggest", ".", "IsEmpty", "(", ")", ")", "<nl>", "-", "return", ";", "/", "/", "no", "window", "to", "center", "on", "<nl>", "+", "{", "<nl>", "+", "/", "/", "no", "parent", "window", "to", "center", "on", ",", "so", "center", "on", "the", "screen", "<nl>", "+", "win", "-", ">", "Center", "(", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "const", "wxRect", "&", "host", "(", "data", ".", "biggest", ")", ";", "<nl>"], "docstring_tokens": ["Center", "window", "on", "screen", "if", "there", "s", "no", "parent"]}
{"code_tokens": ["BOOL", "CALLBACK", "EnumProcessWindowsCallback", "(", "HWND", "handle", ",", "LPARAM", "lParam", ")", "<nl>", "<nl>", "RECT", "rwin", ";", "<nl>", "GetWindowRect", "(", "handle", ",", "&", "rwin", ")", ";", "<nl>", "+", "if", "(", "MonitorFromRect", "(", "&", "rwin", ",", "MONITOR", "_", "DEFAULTTONULL", ")", "=", "=", "NULL", ")", "<nl>", "+", "return", "TRUE", ";", "/", "/", "window", "is", "offscreen", "<nl>", "+", "<nl>", "wxRect", "r", "(", "rwin", ".", "left", ",", "rwin", ".", "top", ",", "rwin", ".", "right", "-", "rwin", ".", "left", ",", "rwin", ".", "bottom", "-", "rwin", ".", "top", ")", ";", "<nl>", "if", "(", "r", ".", "width", "*", "r", ".", "height", ">", "data", ".", "biggest", ".", "width", "*", "data", ".", "biggest", ".", "height", ")", "<nl>", "data", ".", "biggest", "=", "r", ";", "<nl>"], "docstring_tokens": ["Exclude", "offscreen", "windows", "from", "placement", "calculations"]}
{"code_tokens": ["gui", "_", "chat", "_", "draw", "(", "struct", "t", "_", "gui", "_", "buffer", "*", "buffer", ",", "int", "clear", "_", "chat", ")", "<nl>", "<nl>", "if", "(", "clear", "_", "chat", ")", "<nl>", "{", "<nl>", "-", "snprintf", "(", "format", "_", "empty", ",", "32", ",", "\"", "%", "%", "-", "%", "ds", "\"", ",", "ptr", "_", "win", "-", ">", "win", "_", "chat", "_", "width", ")", ";", "<nl>", "+", "snprintf", "(", "format", "_", "empty", ",", "sizeof", "(", "format", "_", "empty", ")", ",", "<nl>", "+", "\"", "%", "%", "-", "%", "ds", "\"", ",", "ptr", "_", "win", "-", ">", "win", "_", "chat", "_", "width", ")", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "ptr", "_", "win", "-", ">", "win", "_", "chat", "_", "height", ";", "i", "+", "+", ")", "<nl>", "{", "<nl>", "mvwprintw", "(", "GUI", "_", "WINDOW", "_", "OBJECTS", "(", "ptr", "_", "win", ")", "-", ">", "win", "_", "chat", ",", "i", ",", "0", ",", "<nl>"], "docstring_tokens": ["core", "replace", "constant", "by", "sizeof", "in", "a", "call", "to", "snprintf"]}
{"code_tokens": ["irc", "_", "ctcp", "_", "dcc", "_", "filename", "_", "without", "_", "quotes", "(", "const", "char", "*", "filename", ")", "<nl>", "int", "length", ";", "<nl>", "<nl>", "length", "=", "strlen", "(", "filename", ")", ";", "<nl>", "-", "if", "(", "length", ">", "0", ")", "<nl>", "+", "if", "(", "length", ">", "1", ")", "<nl>", "{", "<nl>", "if", "(", "(", "filename", "[", "0", "]", "=", "=", "'", "\\", "\"", "'", ")", "&", "&", "(", "filename", "[", "length", "-", "1", "]", "=", "=", "'", "\\", "\"", "'", ")", ")", "<nl>", "return", "weechat", "_", "strndup", "(", "filename", "+", "1", ",", "length", "-", "2", ")", ";", "<nl>"], "docstring_tokens": ["irc", "fix", "parsing", "of", "DCC", "filename"]}
{"code_tokens": ["irc", "_", "mode", "_", "channel", "_", "set", "(", "struct", "t", "_", "irc", "_", "server", "*", "server", ",", "<nl>", "int", "smart", "_", "filter", ";", "<nl>", "struct", "t", "_", "irc", "_", "nick", "*", "ptr", "_", "nick", ";", "<nl>", "struct", "t", "_", "irc", "_", "modelist", "*", "ptr", "_", "modelist", ";", "<nl>", "+", "struct", "t", "_", "irc", "_", "modelist", "_", "item", "*", "ptr", "_", "item", ";", "<nl>", "<nl>", "if", "(", "!", "server", "|", "|", "!", "channel", "|", "|", "!", "modes", ")", "<nl>", "return", "0", ";", "<nl>", "irc", "_", "mode", "_", "channel", "_", "set", "(", "struct", "t", "_", "irc", "_", "server", "*", "server", ",", "<nl>", "}", "<nl>", "else", "if", "(", "set", "_", "flag", "=", "=", "'", "-", "'", ")", "<nl>", "{", "<nl>", "-", "irc", "_", "modelist", "_", "item", "_", "free", "(", "ptr", "_", "modelist", ",", "<nl>", "-", "irc", "_", "modelist", "_", "item", "_", "search", "(", "ptr", "_", "modelist", ",", "ptr", "_", "arg", ")", ")", ";", "<nl>", "+", "ptr", "_", "item", "=", "irc", "_", "modelist", "_", "item", "_", "search", "(", "ptr", "_", "modelist", ",", "<nl>", "+", "ptr", "_", "arg", ")", ";", "<nl>", "+", "if", "(", "ptr", "_", "item", ")", "<nl>", "+", "irc", "_", "modelist", "_", "item", "_", "free", "(", "ptr", "_", "modelist", ",", "ptr", "_", "item", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["irc", "first", "search", "the", "modelist", "item", "then", "free", "it", "if", "found"]}
{"code_tokens": ["string", "_", "replace", "_", "regex", "(", "const", "char", "*", "string", ",", "void", "*", "regex", ",", "const", "char", "*", "replace", ",", "<nl>", "int", "length", ",", "length", "_", "replace", ",", "start", "_", "offset", ",", "i", ",", "rc", ",", "end", ",", "last", "_", "match", ";", "<nl>", "regmatch", "_", "t", "regex", "_", "match", "[", "100", "]", ";", "<nl>", "<nl>", "-", "if", "(", "!", "string", ")", "<nl>", "+", "if", "(", "!", "string", "|", "|", "!", "regex", ")", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "length", "=", "strlen", "(", "string", ")", "+", "1", ";", "<nl>"], "docstring_tokens": ["core", "check", "that", "regex", "is", "not", "NULL", "in", "function", "string_replace_regex"]}
{"code_tokens": ["gui", "_", "bar", "_", "window", "_", "draw", "(", "struct", "t", "_", "gui", "_", "bar", "_", "window", "*", "bar", "_", "window", ",", "<nl>", "<nl>", "/", "*", "move", "cursor", "if", "it", "was", "asked", "in", "an", "item", "content", "(", "input", "_", "text", "does", "that", "<nl>", "to", "move", "cursor", "in", "user", "input", "text", ")", "*", "/", "<nl>", "-", "if", "(", "window", "&", "&", "(", "gui", "_", "current", "_", "window", "=", "=", "window", ")", "<nl>", "+", "if", "(", "(", "!", "window", "|", "|", "(", "gui", "_", "current", "_", "window", "=", "=", "window", ")", ")", "<nl>", "&", "&", "(", "bar", "_", "window", "-", ">", "cursor", "_", "x", ">", "=", "0", ")", "&", "&", "(", "bar", "_", "window", "-", ">", "cursor", "_", "y", ">", "=", "0", ")", ")", "<nl>", "{", "<nl>", "move", "(", "bar", "_", "window", "-", ">", "cursor", "_", "y", ",", "bar", "_", "window", "-", ">", "cursor", "_", "x", ")", ";", "<nl>"], "docstring_tokens": ["Allow", "cursor", "to", "be", "displayed", "in", "a", "root", "bar"]}
{"code_tokens": ["irc", "_", "command", "_", "server", "(", "void", "*", "data", ",", "struct", "t", "_", "gui", "_", "buffer", "*", "buffer", ",", "int", "argc", ",", "<nl>", "if", "(", "irc", "_", "current", "_", "server", ")", "<nl>", "{", "<nl>", "ptr", "_", "server", "=", "irc", "_", "current", "_", "server", "-", ">", "next", "_", "server", ";", "<nl>", "+", "if", "(", "!", "ptr", "_", "server", ")", "<nl>", "+", "ptr", "_", "server", "=", "irc", "_", "servers", ";", "<nl>", "while", "(", "ptr", "_", "server", "!", "=", "irc", "_", "current", "_", "server", ")", "<nl>", "{", "<nl>", "if", "(", "ptr", "_", "server", "-", ">", "buffer", ")", "<nl>"], "docstring_tokens": ["Fix", "crash", "when", "switching", "server", "with", "alt", "s"]}
{"code_tokens": ["weechat", "_", "perl", "_", "cmd", "(", "t", "_", "weechat", "_", "plugin", "*", "plugin", ",", "<nl>", "ptr", "_", "handler", "-", ">", "handler", "_", "args", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "if", "(", "!", "handler", "_", "found", ")", "<nl>", "+", "plugin", "-", ">", "print", "_", "server", "(", "plugin", ",", "\"", "(", "none", ")", "\"", ")", ";", "<nl>", "break", ";", "<nl>", "case", "1", ":", "<nl>", "if", "(", "plugin", "-", ">", "ascii", "_", "strcasecmp", "(", "plugin", ",", "argv", "[", "0", "]", ",", "\"", "autoload", "\"", ")", "=", "=", "0", ")", "mmm", "src", "/", "plugins", "/", "scripts", "/", "perl", "/", "weechat", "-", "perl", ".", "c", "<nl>", "weechat", "_", "perl", "_", "cmd", "(", "t", "_", "weechat", "_", "plugin", "*", "plugin", ",", "<nl>", "ptr", "_", "handler", "-", ">", "handler", "_", "args", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "if", "(", "!", "handler", "_", "found", ")", "<nl>", "+", "plugin", "-", ">", "print", "_", "server", "(", "plugin", ",", "\"", "(", "none", ")", "\"", ")", ";", "<nl>", "break", ";", "<nl>", "case", "1", ":", "<nl>", "if", "(", "plugin", "-", ">", "ascii", "_", "strcasecmp", "(", "plugin", ",", "argv", "[", "0", "]", ",", "\"", "autoload", "\"", ")", "=", "=", "0", ")", "<nl>", "weechat", "_", "perl", "_", "cmd", "(", "t", "_", "weechat", "_", "plugin", "*", "plugin", ",", "<nl>", "ptr", "_", "handler", "-", ">", "handler", "_", "args", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "if", "(", "!", "handler", "_", "found", ")", "<nl>", "+", "plugin", "-", ">", "print", "_", "server", "(", "plugin", ",", "\"", "(", "none", ")", "\"", ")", ";", "<nl>", "break", ";", "<nl>", "case", "1", ":", "<nl>", "if", "(", "plugin", "-", ">", "ascii", "_", "strcasecmp", "(", "plugin", ",", "argv", "[", "0", "]", ",", "\"", "autoload", "\"", ")", "=", "=", "0", ")", "<nl>"], "docstring_tokens": ["Fixed", "perl", "command", "output", "when", "no", "keyboard", "handler", "is", "defined"]}
{"code_tokens": ["irc", "_", "server", "_", "msgq", "_", "flush", "(", ")", "<nl>", "/", "*", "new", "_", "msg", "=", "plugin", "_", "modifier", "_", "exec", "(", "PLUGIN", "_", "MODIFIER", "_", "IRC", "_", "IN", ",", "<nl>", "irc", "_", "recv", "_", "msgq", "-", ">", "server", "-", ">", "name", ",", "<nl>", "ptr", "_", "data", ")", ";", "*", "/", "<nl>", "+", "new", "_", "msg", "=", "NULL", ";", "<nl>", "+", "<nl>", "/", "*", "no", "changes", "in", "new", "message", "*", "/", "<nl>", "if", "(", "new", "_", "msg", "&", "&", "(", "strcmp", "(", "ptr", "_", "data", ",", "new", "_", "msg", ")", "=", "=", "0", ")", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["Fixed", "bug", "in", "IRC", "plugin", "when", "receiving", "data", "from", "server"]}
{"code_tokens": ["trigger", "_", "callback", "_", "replace", "_", "regex", "(", "struct", "t", "_", "trigger", "*", "trigger", ",", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "trigger", "-", ">", "regex", "_", "count", ";", "i", "+", "+", ")", "<nl>", "{", "<nl>", "+", "/", "*", "if", "regex", "is", "not", "set", "(", "invalid", ")", ",", "skip", "it", "*", "/", "<nl>", "+", "if", "(", "!", "trigger", "-", ">", "regex", "[", "i", "]", ".", "regex", ")", "<nl>", "+", "continue", ";", "<nl>", "+", "<nl>", "ptr", "_", "key", "=", "(", "trigger", "-", ">", "regex", "[", "i", "]", ".", "variable", ")", "?", "<nl>", "trigger", "-", ">", "regex", "[", "i", "]", ".", "variable", ":", "<nl>", "trigger", "_", "hook", "_", "regex", "_", "default", "_", "var", "[", "weechat", "_", "config", "_", "integer", "(", "trigger", "-", ">", "options", "[", "TRIGGER", "_", "OPTION", "_", "HOOK", "]", ")", "]", ";", "<nl>"], "docstring_tokens": ["trigger", "fix", "crash", "in", "callback", "if", "one", "regex", "is", "NULL", "invalid"]}
{"code_tokens": ["weechat", "_", "lua", "_", "api", "_", "config", "_", "reload", "_", "cb", "(", "void", "*", "data", ",", "<nl>", "{", "<nl>", "lua", "_", "argv", "[", "0", "]", "=", "(", "script", "_", "callback", "-", ">", "data", ")", "?", "script", "_", "callback", "-", ">", "data", ":", "empty", "_", "arg", ";", "<nl>", "lua", "_", "argv", "[", "1", "]", "=", "script", "_", "ptr2str", "(", "config", "_", "file", ")", ";", "<nl>", "-", "lua", "_", "argv", "[", "2", "]", "=", "NULL", ";", "<nl>", "<nl>", "rc", "=", "(", "int", "*", ")", "weechat", "_", "lua", "_", "exec", "(", "script", "_", "callback", "-", ">", "script", ",", "<nl>", "WEECHAT", "_", "SCRIPT", "_", "EXEC", "_", "INT", ",", "<nl>"], "docstring_tokens": ["Fix", "array", "overflow", "in", "lua", "plugin", "for", "config", "reload", "callback"]}
{"code_tokens": ["gui", "_", "buffer", "_", "local", "_", "var", "_", "remove", "(", "struct", "t", "_", "gui", "_", "buffer", "*", "buffer", ",", "<nl>", "buffer", "-", ">", "local", "_", "variables", "=", "local", "_", "var", "-", ">", "next", "_", "var", ";", "<nl>", "if", "(", "buffer", "-", ">", "last", "_", "local", "_", "var", "=", "=", "local", "_", "var", ")", "<nl>", "buffer", "-", ">", "last", "_", "local", "_", "var", "=", "local", "_", "var", "-", ">", "prev", "_", "var", ";", "<nl>", "+", "<nl>", "+", "free", "(", "local", "_", "var", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["Add", "free", "for", "buffer", "local", "variables", "pointers", "when", "removing", "them"]}
{"code_tokens": ["hook", "_", "line", "_", "free", "_", "data", "(", "struct", "t", "_", "hook", "*", "hook", ")", "<nl>", "if", "(", "!", "hook", "|", "|", "!", "hook", "-", ">", "hook", "_", "data", ")", "<nl>", "return", ";", "<nl>", "<nl>", "+", "if", "(", "HOOK", "_", "LINE", "(", "hook", ",", "buffers", ")", ")", "<nl>", "+", "{", "<nl>", "+", "string", "_", "free", "_", "split", "(", "HOOK", "_", "LINE", "(", "hook", ",", "buffers", ")", ")", ";", "<nl>", "+", "HOOK", "_", "LINE", "(", "hook", ",", "buffers", ")", "=", "NULL", ";", "<nl>", "+", "}", "<nl>", "if", "(", "HOOK", "_", "LINE", "(", "hook", ",", "tags", "_", "array", ")", ")", "<nl>", "{", "<nl>", "string", "_", "free", "_", "split", "_", "tags", "(", "HOOK", "_", "LINE", "(", "hook", ",", "tags", "_", "array", ")", ")", ";", "<nl>"], "docstring_tokens": ["core", "fix", "memory", "leak", "when", "removing", "a", "line", "hook"]}
{"code_tokens": ["gui", "_", "buffer", "_", "set", "_", "highlight", "_", "words", "_", "list", "(", "struct", "t", "_", "gui", "_", "buffer", "*", "buffer", ",", "<nl>", "}", "<nl>", "<nl>", "gui", "_", "buffer", "_", "set", "_", "highlight", "_", "words", "(", "buffer", ",", "words", ")", ";", "<nl>", "+", "<nl>", "+", "free", "(", "words", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["Fix", "memory", "leak", "in", "function", "gui_buffer_set_highlight_words_list"]}
{"code_tokens": ["hook", "_", "process", "_", "hashtable", "(", "struct", "t", "_", "weechat", "_", "plugin", "*", "plugin", ",", "<nl>", "<nl>", "hook", "_", "add", "_", "to", "_", "list", "(", "new", "_", "hook", ")", ";", "<nl>", "<nl>", "+", "if", "(", "weechat", "_", "debug", "_", "core", ">", "=", "1", ")", "<nl>", "+", "{", "<nl>", "+", "gui", "_", "chat", "_", "printf", "(", "NULL", ",", "<nl>", "+", "\"", "debug", ":", "hook", "_", "process", ":", "command", "=", "\\", "\"", "%", "s", "\\", "\"", ",", "\"", "<nl>", "+", "\"", "options", "=", "\\", "\"", "%", "s", "\\", "\"", ",", "timeout", "=", "%", "d", "\"", ",", "<nl>", "+", "new", "_", "hook", "_", "process", "-", ">", "command", ",", "<nl>", "+", "hashtable", "_", "get", "_", "string", "(", "new", "_", "hook", "_", "process", "-", ">", "options", ",", "<nl>", "+", "\"", "keys", "_", "values", "\"", ")", ",", "<nl>", "+", "new", "_", "hook", "_", "process", "-", ">", "timeout", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "hook", "_", "process", "_", "run", "(", "new", "_", "hook", ")", ";", "<nl>", "<nl>", "return", "new", "_", "hook", ";", "<nl>"], "docstring_tokens": ["core", "add", "debug", "message", "in", "hook_process", "when", "core", "debug", "1"]}
{"code_tokens": ["COMMAND", "_", "CALLBACK", "(", "cursor", ")", "<nl>", "gui", "_", "cursor", "_", "move", "_", "xy", "(", "x", ",", "y", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "free", "(", "str", "_", "x", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "else", "<nl>"], "docstring_tokens": ["core", "fix", "memory", "leak", "in", "command", "cursor"]}
{"code_tokens": ["gui", "_", "buffer", "_", "move", "_", "to", "_", "number", "(", "struct", "t", "_", "gui", "_", "buffer", "*", "buffer", ",", "int", "number", ")", "<nl>", "if", "(", "ptr", "_", "buffer", "=", "=", "ptr", "_", "last", "_", "buffer", ")", "<nl>", "break", ";", "<nl>", "}", "<nl>", "-", "gui", "_", "buffers", "-", ">", "prev", "_", "buffer", "=", "buffer", ";", "<nl>", "-", "buffer", "-", ">", "prev", "_", "buffer", "=", "NULL", ";", "<nl>", "-", "buffer", "-", ">", "next", "_", "buffer", "=", "gui", "_", "buffers", ";", "<nl>", "-", "gui", "_", "buffers", "=", "buffer", ";", "<nl>", "+", "gui", "_", "buffers", "-", ">", "prev", "_", "buffer", "=", "ptr", "_", "last", "_", "buffer", ";", "<nl>", "+", "ptr", "_", "first", "_", "buffer", "-", ">", "prev", "_", "buffer", "=", "NULL", ";", "<nl>", "+", "ptr", "_", "last", "_", "buffer", "-", ">", "next", "_", "buffer", "=", "gui", "_", "buffers", ";", "<nl>", "+", "gui", "_", "buffers", "=", "ptr", "_", "first", "_", "buffer", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "gui", "_", "buffer", "_", "move", "_", "to", "_", "number", "(", "struct", "t", "_", "gui", "_", "buffer", "*", "buffer", ",", "int", "number", ")", "<nl>", "for", "(", "ptr", "_", "buffer", "_", "pos", "=", "gui", "_", "buffers", ";", "ptr", "_", "buffer", "_", "pos", ";", "<nl>", "ptr", "_", "buffer", "_", "pos", "=", "ptr", "_", "buffer", "_", "pos", "-", ">", "next", "_", "buffer", ")", "<nl>", "{", "<nl>", "-", "if", "(", "ptr", "_", "buffer", "_", "pos", "-", ">", "number", "=", "=", "number", ")", "<nl>", "+", "if", "(", "ptr", "_", "buffer", "_", "pos", "-", ">", "number", ">", "=", "number", ")", "<nl>", "break", ";", "<nl>", "}", "<nl>", "if", "(", "ptr", "_", "buffer", "_", "pos", ")", "<nl>"], "docstring_tokens": ["Fix", "bug", "when", "moving", "group", "of", "merged", "buffers", "to", "number", "1"]}
{"code_tokens": ["relay", "_", "irc", "_", "recv", "(", "struct", "t", "_", "relay", "_", "client", "*", "client", ",", "const", "char", "*", "data", ")", "<nl>", "/", "*", "server", "capabilities", "*", "/", "<nl>", "if", "(", "irc", "_", "command", "&", "&", "(", "weechat", "_", "strcasecmp", "(", "irc", "_", "command", ",", "\"", "cap", "\"", ")", "=", "=", "0", ")", ")", "<nl>", "{", "<nl>", "-", "if", "(", "(", "irc", "_", "argc", ">", "0", ")", "&", "&", "irc", "_", "argv", ")", "<nl>", "+", "if", "(", "irc", "_", "argc", ">", "0", ")", "<nl>", "{", "<nl>", "relay", "_", "irc", "_", "recv", "_", "command", "_", "capab", "(", "client", ",", "<nl>", "irc", "_", "argc", ",", "irc", "_", "argv", ",", "irc", "_", "argv", "_", "eol", ")", ";", "<nl>"], "docstring_tokens": ["relay", "remove", "unneeded", "check", "on", "variable", "irc_argv"]}
{"code_tokens": ["gui", "_", "window", "_", "set", "_", "custom", "_", "color", "_", "fg", "(", "WINDOW", "*", "window", ",", "int", "fg", ")", "<nl>", "{", "<nl>", "current", "_", "bg", "=", "window", "_", "current", "_", "style", "_", "bg", ";", "<nl>", "<nl>", "+", "gui", "_", "window", "_", "remove", "_", "color", "_", "style", "(", "window", ",", "A", "_", "BOLD", ")", ";", "<nl>", "+", "<nl>", "if", "(", "(", "fg", ">", "0", ")", "&", "&", "(", "fg", "&", "GUI", "_", "COLOR", "_", "EXTENDED", "_", "FLAG", ")", ")", "<nl>", "{", "<nl>", "gui", "_", "window", "_", "set", "_", "color", "(", "window", ",", "<nl>", "gui", "_", "window", "_", "set", "_", "custom", "_", "color", "_", "fg", "(", "WINDOW", "*", "window", ",", "int", "fg", ")", "<nl>", "}", "<nl>", "else", "if", "(", "fg", "<", "GUI", "_", "CURSES", "_", "NUM", "_", "WEECHAT", "_", "COLORS", ")", "<nl>", "{", "<nl>", "-", "gui", "_", "window", "_", "remove", "_", "color", "_", "style", "(", "window", ",", "A", "_", "BOLD", ")", ";", "<nl>", "attributes", "=", "gui", "_", "weechat", "_", "colors", "[", "fg", "]", ".", "attributes", ";", "<nl>", "gui", "_", "window", "_", "set", "_", "color", "_", "style", "(", "window", ",", "attributes", ")", ";", "<nl>", "fg", "=", "gui", "_", "weechat", "_", "colors", "[", "fg", "]", ".", "foreground", ";", "<nl>"], "docstring_tokens": ["Reset", "bold", "attribute", "when", "setting", "extended", "color", "for", "foreground"]}
{"code_tokens": ["irc", "_", "server", "_", "msgq", "_", "flush", "(", ")", "<nl>", "free", "(", "command", ")", ";", "<nl>", "if", "(", "channel", ")", "<nl>", "free", "(", "channel", ")", ";", "<nl>", "+", "if", "(", "arguments", ")", "<nl>", "+", "free", "(", "arguments", ")", ";", "<nl>", "if", "(", "msg", "_", "decoded", ")", "<nl>", "free", "(", "msg", "_", "decoded", ")", ";", "<nl>", "if", "(", "msg", "_", "decoded", "_", "without", "_", "color", ")", "<nl>"], "docstring_tokens": ["Fix", "memory", "leak", "in", "flush", "of", "irc", "message", "queue"]}
{"code_tokens": ["namespace", "CryptoPP", "{", "}", "<nl>", "#", "define", "_", "_", "USE", "_", "W32", "_", "SOCKETS", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "typedef", "unsigned", "char", "byte", ";", "/", "/", "put", "in", "global", "namespace", "to", "avoid", "ambiguity", "with", "other", "byte", "typedefs", "<nl>", "+", "/", "/", "Originally", "in", "global", "namespace", "to", "avoid", "ambiguity", "with", "other", "byte", "typedefs", ".", "<nl>", "+", "/", "/", "Moved", "to", "Crypto", "+", "+", "namespace", "due", "to", "C", "+", "+", "17", ",", "std", ":", ":", "byte", "and", "potential", "compile", "problems", ".", "Also", "see", "<nl>", "+", "/", "/", "http", ":", "/", "/", "www", ".", "cryptopp", ".", "com", "/", "wiki", "/", "std", ":", ":", "byte", "and", "http", ":", "/", "/", "github", ".", "com", "/", "weidai11", "/", "cryptopp", "/", "issues", "/", "442", "<nl>", "+", "/", "/", "typedef", "unsigned", "char", "byte", ";", "<nl>", "+", "#", "define", "CRYPTOPP", "_", "NO", "_", "GLOBAL", "_", "BYTE", "1", "<nl>", "<nl>", "NAMESPACE", "_", "BEGIN", "(", "CryptoPP", ")", "<nl>", "<nl>", "+", "typedef", "unsigned", "char", "byte", ";", "<nl>", "typedef", "unsigned", "short", "word16", ";", "<nl>", "typedef", "unsigned", "int", "word32", ";", "<nl>"], "docstring_tokens": ["Move", "byte", "to", "Crypto", "namespace", "Issue", "442"]}
{"code_tokens": ["NAMESPACE", "_", "BEGIN", "(", "CryptoPP", ")", "<nl>", "RandomPool", ":", ":", "RandomPool", "(", ")", "<nl>", ":", "m", "_", "pCipher", "(", "new", "AES", ":", ":", "Encryption", ")", ",", "m", "_", "keySet", "(", "false", ")", "<nl>", "{", "<nl>", "+", "memset", "(", "m", "_", "key", ",", "0", ",", "m", "_", "key", ".", "SizeInBytes", "(", ")", ")", ";", "<nl>", "+", "memset", "(", "m", "_", "seed", ",", "0", ",", "m", "_", "seed", ".", "SizeInBytes", "(", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "RandomPool", ":", ":", "IncorporateEntropy", "(", "const", "byte", "*", "input", ",", "size", "_", "t", "length", ")", "<nl>"], "docstring_tokens": ["initialize", "memory", "to", "remove", "Valgrind", "warning", "Zooko", "Jeffrey", "Walton"]}
{"code_tokens": ["#", "include", "<", "algorithm", ">", "<nl>", "#", "include", "<", "functional", ">", "<nl>", "<nl>", "+", "/", "/", "R", "-", "value", "references", "and", "std", ":", ":", "move", "<nl>", "+", "#", "if", "defined", "(", "_", "_", "cplusplus", ">", "=", "201103L", ")", "<nl>", "+", "#", "include", "<", "utility", ">", "<nl>", "+", "#", "endif", "<nl>", "+", "<nl>", "#", "ifdef", "CRYPTOPP", "_", "INCLUDE", "_", "VECTOR", "_", "CC", "<nl>", "/", "/", "workaround", "needed", "on", "Sun", "Studio", "12u1", "Sun", "C", "+", "+", "5", ".", "10", "SunOS", "_", "i386", "128229", "-", "02", "2009", "/", "09", "/", "21", "<nl>", "#", "include", "<", "vector", ".", "cc", ">", "<nl>"], "docstring_tokens": ["Added", "utility", "based", "on", "C", "11", "for", "R", "values", "and", "std", "move"]}
{"code_tokens": ["inline", "T1", "RoundUpToMultipleOf", "(", "const", "T1", "&", "n", ",", "const", "T2", "&", "m", ")", "<nl>", "/", "/", "!", "\\", "details", "Internally", "the", "function", "calls", "C", "+", "+", "11", "'", "s", "<", "tt", ">", "alignof", "<", "/", "tt", ">", "if", "available", ".", "If", "not", "available", ",", "<nl>", "/", "/", "!", "then", "the", "function", "uses", "compiler", "specific", "extensions", "such", "as", "<", "tt", ">", "_", "_", "alignof", "<", "/", "tt", ">", "and", "<nl>", "/", "/", "!", "<", "tt", ">", "_", "alignof", "_", "<", "/", "tt", ">", ".", "If", "an", "extension", "is", "not", "available", ",", "then", "the", "function", "uses", "<nl>", "-", "/", "/", "!", "<", "tt", ">", "_", "_", "BIGGEST", "_", "ALIGNMENT", "_", "_", "<", "/", "tt", ">", ".", "<", "tt", ">", "sizeof", "(", "T", ")", "<", "/", "tt", ">", "is", "used", "if", "the", "others", "are", "not", "available", ".", "<nl>", "+", "/", "/", "!", "<", "tt", ">", "_", "_", "BIGGEST", "_", "ALIGNMENT", "_", "_", "<", "/", "tt", ">", "if", "<", "tt", ">", "_", "_", "BIGGEST", "_", "ALIGNMENT", "_", "_", "<", "/", "tt", ">", "is", "smaller", "than", "<", "tt", ">", "sizeof", "(", "T", ")", "<", "/", "tt", ">", ".", "<nl>", "+", "/", "/", "!", "<", "tt", ">", "sizeof", "(", "T", ")", "<", "/", "tt", ">", "is", "used", "if", "all", "others", "are", "not", "available", ".", "<nl>", "/", "/", "!", "In", "<", "em", ">", "all", "<", "/", "em", ">", "cases", ",", "if", "<", "tt", ">", "CRYPTOPP", "_", "ALLOW", "_", "UNALIGNED", "_", "DATA", "_", "ACCESS", "<", "/", "tt", ">", "is", "defined", ",", "then", "the", "<nl>", "/", "/", "!", "function", "returns", "1", ".", "<nl>", "template", "<", "class", "T", ">", "<nl>", "inline", "unsigned", "int", "GetAlignmentOf", "(", "T", "*", "dummy", "=", "NULL", ")", "/", "/", "VC60", "workaround", "<nl>", "return", "_", "_", "alignof", "(", "T", ")", ";", "<nl>", "#", "elif", "defined", "(", "_", "_", "GNUC", "_", "_", ")", "<nl>", "return", "_", "_", "alignof", "_", "_", "(", "T", ")", ";", "<nl>", "-", "#", "elif", "_", "_", "BIGGEST", "_", "ALIGNMENT", "_", "_", "<nl>", "-", "return", "_", "_", "BIGGEST", "_", "ALIGNMENT", "_", "_", ";", "<nl>", "#", "elif", "CRYPTOPP", "_", "BOOL", "_", "SLOW", "_", "WORD64", "<nl>", "return", "UnsignedMin", "(", "4U", ",", "sizeof", "(", "T", ")", ")", ";", "<nl>", "#", "else", "<nl>", "+", "#", "if", "_", "_", "BIGGEST", "_", "ALIGNMENT", "_", "_", "<nl>", "+", "if", "(", "_", "_", "BIGGEST", "_", "ALIGNMENT", "_", "_", "<", "sizeof", "(", "T", ")", ")", "<nl>", "+", "return", "_", "_", "BIGGEST", "_", "ALIGNMENT", "_", "_", ";", "<nl>", "+", "else", "<nl>", "+", "#", "endif", "<nl>", "return", "sizeof", "(", "T", ")", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>"], "docstring_tokens": ["Use", "__BIGGEST_ALIGNMENT__", "only", "if", "its", "smaller", "than", "sizeof", "T"]}
{"code_tokens": ["typedef", "unsigned", "int", "word32", ";", "<nl>", "#", "if", "defined", "(", "_", "MSC", "_", "VER", ")", "|", "|", "defined", "(", "_", "_", "BORLANDC", "_", "_", ")", "<nl>", "typedef", "unsigned", "_", "_", "int64", "word64", ";", "<nl>", "#", "define", "W64LIT", "(", "x", ")", "x", "#", "#", "ui64", "<nl>", "-", "#", "elif", "(", "_", "LP64", "|", "|", "_", "_", "LP64", "_", "_", ")", "&", "&", "!", "defined", "(", "_", "_", "SUNPRO", "_", "CC", ")", "<nl>", "+", "#", "elif", "(", "_", "LP64", "|", "|", "_", "_", "LP64", "_", "_", ")", "<nl>", "typedef", "unsigned", "long", "word64", ";", "<nl>", "#", "define", "W64LIT", "(", "x", ")", "x", "#", "#", "UL", "<nl>", "#", "else", "<nl>"], "docstring_tokens": ["Reverted", "change", "in", "config", "h", "as", "it", "does", "not", "fix", "anything"]}
{"code_tokens": ["void", "Kalyna", ":", ":", "Base", ":", ":", "UncheckedSetKey", "(", "const", "byte", "*", "key", ",", "unsigned", "int", "keylen", ",", "const", "N", "<nl>", "<nl>", "void", "Kalyna", ":", ":", "Base", ":", ":", "ProcessAndXorBlock", "(", "const", "byte", "*", "inBlock", ",", "const", "byte", "*", "xorBlock", ",", "byte", "*", "outBlock", ")", "const", "<nl>", "{", "<nl>", "+", "/", "/", "Timing", "attack", "countermeasure", ".", "see", "comments", "in", "Rijndael", "for", "more", "details", "<nl>", "+", "const", "int", "cacheLineSize", "=", "GetCacheLineSize", "(", ")", ";", "<nl>", "+", "volatile", "word32", "_", "u", "=", "0", ";", "<nl>", "+", "word32", "u", "=", "_", "u", ";", "<nl>", "+", "<nl>", "+", "for", "(", "unsigned", "int", "i", "=", "0", ";", "i", "<", "COUNTOF", "(", "KalynaTab", ":", ":", "S", ")", ";", "i", "+", "=", "cacheLineSize", ")", "<nl>", "+", "u", "&", "=", "*", "reinterpret", "_", "cast", "<", "const", "word32", "*", ">", "(", "KalynaTab", ":", ":", "S", "+", "i", ")", ";", "<nl>", "+", "m", "_", "wspace", "[", "0", "]", "=", "u", ";", "<nl>", "+", "<nl>", "switch", "(", "(", "m", "_", "nb", "<", "<", "8", ")", "|", "m", "_", "nk", ")", "<nl>", "{", "<nl>", "case", "(", "2", "<", "<", "8", ")", "|", "2", ":", "<nl>"], "docstring_tokens": ["Add", "timing", "attack", "countermeasures", "to", "Kalyna", "Issue", "411"]}
{"code_tokens": ["/", "/", "is", "needed", "because", "additional", "CXXFLAGS", "are", "required", "to", "enable", "the", "<nl>", "/", "/", "appropriate", "instructions", "sets", "in", "some", "build", "configurations", ".", "<nl>", "<nl>", "+", "/", "/", "TODO", ":", "we", "still", "need", "to", "implement", "Power8", "SHA", ".", "Once", "we", "have", "Power8", "SHA", ",", "<nl>", "+", "/", "/", "we", "should", "be", "able", "to", "use", "CRYPTOPP", "_", "POWER8", "_", "AES", "_", "AVAILABLE", "and", "<nl>", "+", "/", "/", "CRYPTOPP", "_", "POWER8", "_", "SHA", "_", "AVAILABLE", "instead", "of", "the", "broader", "<nl>", "+", "/", "/", "CRYPTOPP", "_", "POWER8", "_", "AVAILABLE", ".", "The", "change", "will", "need", "to", "be", "coordinated", "<nl>", "+", "/", "/", "with", "the", "defines", "in", "config", ".", "h", ".", "<nl>", "+", "<nl>", "+", "/", "/", "TODO", ":", "Bob", "Wilkinson", "reported", "we", "are", "misdetecting", "CRYPTOPP", "_", "POWER8", "_", "AVAILABLE", ".", "<nl>", "+", "/", "/", "The", "problem", "is", ",", "the", "updated", "compiler", "supports", "them", "but", "the", "down", "-", "level", "<nl>", "+", "/", "/", "assembler", "and", "linker", "do", "not", ".", "We", "will", "probably", "need", "to", "fix", "that", "through", "<nl>", "+", "/", "/", "the", "makefile", ",", "similar", "to", "the", "way", "x86", "AES", "and", "SHA", "is", "handled", ".", "Another", "<nl>", "+", "/", "/", "twist", "is", ",", "we", "don", "'", "t", "have", "access", "to", "a", "test", "machine", "and", "it", "must", "be", "fixed", "<nl>", "+", "/", "/", "for", "two", "compilers", "(", "IBM", "XL", "C", "/", "C", "+", "+", "and", "GCC", ")", ".", "Ugh", ".", ".", ".", "<nl>", "+", "<nl>", "#", "include", "\"", "pch", ".", "h", "\"", "<nl>", "#", "include", "\"", "config", ".", "h", "\"", "<nl>", "#", "include", "\"", "stdcpp", ".", "h", "\"", "<nl>", "bool", "CPU", "_", "ProbePower8", "(", ")", "<nl>", "{", "<nl>", "#", "if", "defined", "(", "CRYPTOPP", "_", "NO", "_", "CPU", "_", "FEATURE", "_", "PROBES", ")", "<nl>", "return", "false", ";", "<nl>", "-", "#", "elif", "(", "CRYPTOPP", "_", "POWER7", "_", "AVAILABLE", ")", "<nl>", "+", "#", "elif", "(", "CRYPTOPP", "_", "POWER8", "_", "AVAILABLE", ")", "<nl>", "#", "if", "defined", "(", "CRYPTOPP", "_", "GNU", "_", "STYLE", "_", "INLINE", "_", "ASSEMBLY", ")", "<nl>", "<nl>", "/", "/", "longjmp", "and", "clobber", "warnings", ".", "Volatile", "is", "required", ".", "<nl>"], "docstring_tokens": ["Update", "head", "notes"]}
{"code_tokens": ["public", ":", "<nl>", "<nl>", "if", "(", "t", ".", "m", "_", "size", ")", "<nl>", "{", "<nl>", "+", "const", "size", "_", "type", "oldSize", "=", "m", "_", "size", ";", "<nl>", "if", "(", "this", "!", "=", "&", "t", ")", "/", "/", "s", "+", "=", "t", "<nl>", "{", "<nl>", "-", "const", "size", "_", "type", "oldSize", "=", "m", "_", "size", ";", "<nl>", "Grow", "(", "m", "_", "size", "+", "t", ".", "m", "_", "size", ")", ";", "<nl>", "memcpy", "_", "s", "(", "m", "_", "ptr", "+", "oldSize", ",", "(", "m", "_", "size", "-", "oldSize", ")", "*", "sizeof", "(", "T", ")", ",", "t", ".", "m", "_", "ptr", ",", "t", ".", "m", "_", "size", "*", "sizeof", "(", "T", ")", ")", ";", "<nl>", "}", "<nl>", "else", "/", "/", "t", "+", "=", "t", "<nl>", "{", "<nl>", "-", "SecBlock", "result", "(", "m", "_", "size", "+", "t", ".", "m", "_", "size", ")", ";", "<nl>", "-", "if", "(", "m", "_", "size", ")", "{", "memcpy", "_", "s", "(", "result", ".", "m", "_", "ptr", ",", "result", ".", "m", "_", "size", "*", "sizeof", "(", "T", ")", ",", "m", "_", "ptr", ",", "m", "_", "size", "*", "sizeof", "(", "T", ")", ")", ";", "}", "<nl>", "-", "memcpy", "_", "s", "(", "result", ".", "m", "_", "ptr", "+", "m", "_", "size", ",", "(", "result", ".", "m", "_", "size", "-", "m", "_", "size", ")", "*", "sizeof", "(", "T", ")", ",", "t", ".", "m", "_", "ptr", ",", "t", ".", "m", "_", "size", "*", "sizeof", "(", "T", ")", ")", ";", "<nl>", "-", "swap", "(", "result", ")", ";", "<nl>", "+", "Grow", "(", "m", "_", "size", "*", "2", ")", ";", "<nl>", "+", "memcpy", "_", "s", "(", "m", "_", "ptr", "+", "oldSize", ",", "(", "m", "_", "size", "-", "oldSize", ")", "*", "sizeof", "(", "T", ")", ",", "m", "_", "ptr", ",", "oldSize", "*", "sizeof", "(", "T", ")", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "return", "*", "this", ";", "<nl>"], "docstring_tokens": ["Removed", "unneeded", "test", "for", "0", "sized", "SecBlock", "Removed", "temporary", "SecBlock"]}
{"code_tokens": ["ECP", ":", ":", "ECP", "(", "BufferedTransformation", "&", "bt", ")", "<nl>", "GetField", "(", ")", ".", "BERDecodeElement", "(", "seq", ",", "m", "_", "b", ")", ";", "<nl>", "/", "/", "skip", "optional", "seed", "<nl>", "if", "(", "!", "seq", ".", "EndReached", "(", ")", ")", "<nl>", "-", "BERDecodeOctetString", "(", "seq", ",", "TheBitBucket", "(", ")", ")", ";", "<nl>", "+", "{", "<nl>", "+", "SecByteBlock", "seed", ";", "<nl>", "+", "unsigned", "int", "unused", ";", "<nl>", "+", "BERDecodeBitString", "(", "seq", ",", "seed", ",", "unused", ")", ";", "<nl>", "+", "}", "<nl>", "seq", ".", "MessageEnd", "(", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fix", "ECP", "curve", "BER", "decode"]}
{"code_tokens": ["public", ":", "<nl>", "<nl>", "inline", "size", "_", "t", "Put", "(", "const", "byte", "*", "begin", ",", "size", "_", "t", "length", ")", "<nl>", "{", "<nl>", "+", "if", "(", "!", "begin", "|", "|", "!", "length", ")", "return", "length", ";", "<nl>", "size", "_", "t", "l", "=", "STDMIN", "(", "length", ",", "MaxSize", "(", ")", "-", "m", "_", "tail", ")", ";", "<nl>", "if", "(", "buf", "+", "m", "_", "tail", "!", "=", "begin", ")", "<nl>", "memcpy", "(", "buf", "+", "m", "_", "tail", ",", "begin", ",", "l", ")", ";", "<nl>", "public", ":", "<nl>", "<nl>", "inline", "size", "_", "t", "Peek", "(", "byte", "*", "target", ",", "size", "_", "t", "copyMax", ")", "const", "<nl>", "{", "<nl>", "+", "if", "(", "!", "target", "|", "|", "!", "copyMax", ")", "return", "0", ";", "<nl>", "size", "_", "t", "len", "=", "STDMIN", "(", "copyMax", ",", "m", "_", "tail", "-", "m", "_", "head", ")", ";", "<nl>", "memcpy", "(", "target", ",", "buf", "+", "m", "_", "head", ",", "len", ")", ";", "<nl>", "return", "len", ";", "<nl>"], "docstring_tokens": ["Cleared", "UBsan", "error", "using", "non", "null", "pointer"]}
{"code_tokens": ["public", ":", "<nl>", "/", "/", "/", "\\", "since", "Crypto", "+", "+", "6", ".", "0", "<nl>", "#", "if", "defined", "(", "CRYPTOPP", "_", "DOXYGEN", "_", "PROCESSING", ")", "<nl>", "static", "const", "size", "_", "type", "ELEMS", "_", "MAX", "=", ".", ".", ".", ";", "<nl>", "+", "#", "elif", "defined", "(", "_", "MSC", "_", "VER", ")", "&", "&", "(", "_", "MSC", "_", "VER", "<", "=", "1400", ")", "<nl>", "+", "static", "const", "size", "_", "type", "ELEMS", "_", "MAX", "=", "(", "~", "(", "size", "_", "type", ")", "0", ")", "/", "sizeof", "(", "T", ")", ";", "<nl>", "#", "elif", "defined", "(", "CRYPTOPP", "_", "CXX11", "_", "ENUM", ")", "<nl>", "enum", ":", "size", "_", "type", "{", "ELEMS", "_", "MAX", "=", "SIZE", "_", "MAX", "/", "sizeof", "(", "T", ")", "}", ";", "<nl>", "#", "else", "<nl>", "public", ":", "<nl>", "/", "/", "/", "\\", "since", "Crypto", "+", "+", "6", ".", "0", "<nl>", "#", "if", "defined", "(", "CRYPTOPP", "_", "DOXYGEN", "_", "PROCESSING", ")", "<nl>", "static", "const", "size", "_", "type", "ELEMS", "_", "MAX", "=", ".", ".", ".", ";", "<nl>", "+", "#", "elif", "defined", "(", "_", "MSC", "_", "VER", ")", "&", "&", "(", "_", "MSC", "_", "VER", "<", "=", "1400", ")", "<nl>", "+", "static", "const", "size", "_", "type", "ELEMS", "_", "MAX", "=", "(", "~", "(", "size", "_", "type", ")", "0", ")", "/", "sizeof", "(", "T", ")", ";", "<nl>", "#", "elif", "defined", "(", "CRYPTOPP", "_", "CXX11", "_", "ENUM", ")", "<nl>", "enum", ":", "size", "_", "type", "{", "ELEMS", "_", "MAX", "=", "A", ":", ":", "ELEMS", "_", "MAX", "}", ";", "<nl>", "#", "else", "<nl>"], "docstring_tokens": ["Fix", "SecBlock", "ELEMS_MAX", "in", "Visual", "Studio", "Net", "2002", "and", "2003"]}
{"code_tokens": ["const", "lword", "LWORD", "_", "MAX", "=", "W64LIT", "(", "0xffffffffffffffff", ")", ";", "<nl>", "#", "else", "<nl>", "#", "define", "CRYPTOPP", "_", "NATIVE", "_", "DWORD", "_", "AVAILABLE", "1", "<nl>", "#", "if", "defined", "(", "_", "_", "alpha", "_", "_", ")", "|", "|", "defined", "(", "_", "_", "ia64", "_", "_", ")", "|", "|", "defined", "(", "_", "ARCH", "_", "PPC64", ")", "|", "|", "defined", "(", "_", "_", "x86", "_", "64", "_", "_", ")", "|", "|", "defined", "(", "_", "_", "mips64", ")", "|", "|", "defined", "(", "_", "_", "sparc64", "_", "_", ")", "<nl>", "-", "#", "if", "defined", "(", "_", "_", "GNUC", "_", "_", ")", "&", "&", "!", "defined", "(", "_", "_", "INTEL", "_", "COMPILER", ")", "&", "&", "!", "(", "CRYPTOPP", "_", "GCC", "_", "VERSION", "=", "=", "40001", "&", "&", "defined", "(", "_", "_", "APPLE", "_", "_", ")", ")", "&", "&", "!", "(", "defined", "(", "_", "_", "GNUC", "_", "_", ")", "&", "&", "CRYPTOPP", "_", "GCC", "_", "VERSION", "<", "50000", "&", "&", "defined", "(", "_", "ARCH", "_", "PPC64", ")", ")", "&", "&", "CRYPTOPP", "_", "GCC", "_", "VERSION", ">", "=", "30400", "<nl>", "+", "#", "if", "(", "(", "CRYPTOPP", "_", "GCC", "_", "VERSION", ">", "=", "30400", ")", "|", "|", "(", "CRYPTOPP", "_", "LLVM", "_", "CLANG", "_", "VERSION", ">", "=", "30000", ")", "|", "|", "(", "CRYPTOPP", "_", "APPLE", "_", "CLANG", "_", "VERSION", ">", "=", "40300", ")", ")", "&", "&", "(", "_", "_", "SIZEOF", "_", "INT128", "_", "_", ">", "=", "16", ")", "<nl>", "/", "/", "GCC", "4", ".", "0", ".", "1", "on", "MacOS", "X", "is", "missing", "_", "_", "umodti3", "and", "_", "_", "udivti3", "<nl>", "/", "/", "GCC", "4", ".", "8", ".", "3", "and", "bad", "uint128", "_", "t", "ops", "on", "PPC64", "/", "POWER7", "(", "Issue", "421", ")", "<nl>", "/", "/", "mode", "(", "TI", ")", "division", "broken", "on", "amd64", "with", "GCC", "earlier", "than", "GCC", "3", ".", "4", "<nl>"], "docstring_tokens": ["Simplify", "logic", "for", "selection", "of", "word128"]}
{"code_tokens": ["#", "undef", "CRYPTOPP", "_", "ARM", "_", "SHA", "_", "AVAILABLE", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "#", "if", "(", "CRYPTOPP", "_", "CLMUL", "_", "AVAILABLE", ")", "<nl>", "+", "#", "if", "(", "CRYPTOPP", "_", "SHANI", "_", "AVAILABLE", ")", "<nl>", "#", "include", "<", "nmmintrin", ".", "h", ">", "<nl>", "#", "include", "<", "immintrin", ".", "h", ">", "<nl>", "#", "endifmmm", "crc", "-", "simd", ".", "cpp", "<nl>", "#", "undef", "CRYPTOPP", "_", "ARM", "_", "SHA", "_", "AVAILABLE", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "#", "if", "(", "CRYPTOPP", "_", "CLMUL", "_", "AVAILABLE", ")", "<nl>", "+", "#", "if", "(", "CRYPTOPP", "_", "SHANI", "_", "AVAILABLE", ")", "<nl>", "#", "include", "<", "nmmintrin", ".", "h", ">", "<nl>", "#", "include", "<", "immintrin", ".", "h", ">", "<nl>", "#", "endif", "<nl>", "#", "undef", "CRYPTOPP", "_", "ARM", "_", "CRC32", "_", "AVAILABLE", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "#", "if", "(", "CRYPTOPP", "_", "CLMUL", "_", "AVAILABLE", ")", "<nl>", "+", "#", "if", "(", "CRYPTOPP", "_", "SSE42", "_", "AVAILABLE", ")", "<nl>", "#", "include", "<", "nmmintrin", ".", "h", ">", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["Update", "header", "guards", "for", "x86"]}
{"code_tokens": ["bool", "ZrtpSdesStream", ":", ":", "createSdesProfile", "(", "char", "*", "cryptoString", ",", "size", "_", "t", "*", "maxLen", ")", "{", "<nl>", "/", "*", "Get", "B64", "code", "for", "master", "key", "and", "master", "salt", "*", "/", "<nl>", "b64Len", "=", "b64Encode", "(", "keySalt", ",", "keyLenBytes", "+", "saltLenBytes", ",", "b64keySalt", ",", "sizeof", "(", "b64keySalt", ")", ")", ";", "<nl>", "b64keySalt", "[", "b64Len", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "-", "*", "maxLen", "=", "snprintf", "(", "cryptoString", ",", "*", "maxLen", ",", "\"", "%", "d", "%", "s", "inline", ":", "%", "s", "\"", ",", "tag", ",", "pSuite", "-", ">", "name", ",", "b64keySalt", ")", ";", "<nl>", "+", "memset", "(", "cryptoString", ",", "0", ",", "*", "maxLen", ")", ";", "<nl>", "+", "*", "maxLen", "=", "snprintf", "(", "cryptoString", ",", "*", "maxLen", "-", "1", ",", "\"", "%", "d", "%", "s", "inline", ":", "%", "s", "\"", ",", "tag", ",", "pSuite", "-", ">", "name", ",", "b64keySalt", ")", ";", "<nl>", "<nl>", "memset", "(", "keySalt", ",", "0", ",", "sizeof", "(", "keySalt", ")", ")", ";", "<nl>", "return", "true", ";", "<nl>"], "docstring_tokens": ["Clear", "buffer", "before", "usage"]}
{"code_tokens": ["int", "ZrtpRandom", ":", ":", "getRandomData", "(", "uint8", "_", "t", "*", "buffer", ",", "uint32", "_", "t", "length", ")", "{", "<nl>", "uint8", "_", "t", "rdata", "[", "AES", "_", "BLOCK", "_", "SIZE", "]", ";", "<nl>", "uint32", "_", "t", "generated", "=", "length", ";", "<nl>", "<nl>", "+", "initialize", "(", ")", ";", "<nl>", "+", "<nl>", "lockRandom", ".", "Lock", "(", ")", ";", "<nl>", "<nl>", "/", "*", "<nl>", "int", "ZrtpRandom", ":", ":", "getRandomData", "(", "uint8", "_", "t", "*", "buffer", ",", "uint32", "_", "t", "length", ")", "{", "<nl>", "<nl>", "int", "ZrtpRandom", ":", ":", "addEntropy", "(", "const", "uint8", "_", "t", "*", "buffer", ",", "uint32", "_", "t", "length", ")", "<nl>", "{", "<nl>", "+", "initialize", "(", ")", ";", "<nl>", "+", "<nl>", "if", "(", "buffer", "&", "&", "length", ")", "{", "<nl>", "sha512", "_", "hash", "(", "buffer", ",", "length", ",", "&", "mainCtx", ")", ";", "<nl>", "}", "<nl>", "void", "ZrtpRandom", ":", ":", "initialize", "(", ")", "{", "<nl>", "return", ";", "<nl>", "}", "<nl>", "sha512", "_", "begin", "(", "&", "mainCtx", ")", ";", "<nl>", "+", "initialized", "=", "true", ";", "<nl>", "lockRandom", ".", "Unlock", "(", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "initialization", "of", "PRNG"]}
{"code_tokens": ["namespace", "game", "_", "config", "<nl>", "namespace", "sounds", "{", "<nl>", "const", "std", ":", ":", "string", "turn", "_", "bell", "=", "\"", "bell", ".", "wav", "\"", ",", "<nl>", "timer", "_", "bell", "=", "\"", "timer", ".", "wav", "\"", ",", "<nl>", "-", "receive", "_", "message", "=", "\"", "chat", "-", "3", ".", "ogg", "\"", ",", "<nl>", "+", "receive", "_", "message", "=", "\"", "chat", "-", "1", ".", "ogg", ",", "chat", "-", "2", ".", "ogg", ",", "chat", "-", "3", ".", "ogg", ",", "chat", "-", "4", ".", "ogg", "\"", ",", "<nl>", "receive", "_", "message", "_", "highlight", "=", "\"", "chat", "-", "highlight", ".", "ogg", "\"", ",", "<nl>", "receive", "_", "message", "_", "friend", "=", "\"", "chat", "-", "4", ".", "ogg", "\"", ",", "<nl>", "receive", "_", "message", "_", "server", "=", "\"", "receive", ".", "wav", "\"", ",", "<nl>"], "docstring_tokens": ["use", "a", "list", "for", "the", "standard", "message", "receiving", "sound"]}
{"code_tokens": ["void", "turn", "_", "info", ":", ":", "left", "_", "click", "(", "const", "SDL", "_", "MouseButtonEvent", "&", "event", ")", "<nl>", "enemy", "=", "=", "units", "_", ".", "end", "(", ")", "&", "&", "!", "current", "_", "route", "_", ".", "steps", ".", "empty", "(", ")", "&", "&", "<nl>", "current", "_", "route", "_", ".", "steps", ".", "front", "(", ")", "=", "=", "selected", "_", "hex", "_", ")", "{", "<nl>", "<nl>", "+", "const", "std", ":", ":", "vector", "<", "gamemap", ":", ":", "location", ">", "steps", "=", "current", "_", "route", "_", ".", "steps", ";", "<nl>", "const", "size", "_", "t", "moves", "=", "move", "_", "unit", "(", "&", "gui", "_", ",", "gameinfo", "_", ",", "status", "_", ",", "map", "_", ",", "units", "_", ",", "teams", "_", ",", "<nl>", "-", "current", "_", "route", "_", ".", "steps", ",", "&", "recorder", ",", "&", "undo", "_", "stack", "_", ",", "&", "next", "_", "unit", "_", ")", ";", "<nl>", "+", "steps", ",", "&", "recorder", ",", "&", "undo", "_", "stack", "_", ",", "&", "next", "_", "unit", "_", ")", ";", "<nl>", "<nl>", "cursor", ":", ":", "set", "(", "cursor", ":", ":", "NORMAL", ")", ";", "<nl>", "<nl>", "void", "turn", "_", "info", ":", ":", "left", "_", "click", "(", "const", "SDL", "_", "MouseButtonEvent", "&", "event", ")", "<nl>", "<nl>", "redo", "_", "stack", "_", ".", "clear", "(", ")", ";", "<nl>", "<nl>", "-", "assert", "(", "moves", "<", "=", "current", "_", "route", "_", ".", "steps", ".", "size", "(", ")", ")", ";", "<nl>", "-", "const", "gamemap", ":", ":", "location", "&", "dst", "=", "current", "_", "route", "_", ".", "steps", "[", "moves", "-", "1", "]", ";", "<nl>", "+", "assert", "(", "moves", "<", "=", "steps", ".", "size", "(", ")", ")", ";", "<nl>", "+", "const", "gamemap", ":", ":", "location", "&", "dst", "=", "steps", "[", "moves", "-", "1", "]", ";", "<nl>", "const", "unit", "_", "map", ":", ":", "const", "_", "iterator", "u", "=", "units", "_", ".", "find", "(", "dst", ")", ";", "<nl>", "<nl>", "/", "/", "u", "may", "be", "equal", "to", "units", "_", ".", "end", "(", ")", "in", "the", "case", "of", "e", ".", "g", ".", "a", "[", "teleport", "]", "<nl>", "if", "(", "u", "!", "=", "units", "_", ".", "end", "(", ")", ")", "{", "<nl>", "/", "/", "Reselect", "the", "unit", "if", "the", "move", "was", "interrupted", "<nl>", "-", "if", "(", "dst", "!", "=", "current", "_", "route", "_", ".", "steps", ".", "back", "(", ")", ")", "{", "<nl>", "+", "if", "(", "dst", "!", "=", "steps", ".", "back", "(", ")", ")", "{", "<nl>", "selected", "_", "hex", "_", "=", "dst", ";", "<nl>", "gui", "_", ".", "select", "_", "hex", "(", "dst", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["attempt", "2", "to", "fix", "assertion", "failure", "when", "moving", "units"]}
{"code_tokens": ["namespace", "events", "{", "<nl>", "}", "<nl>", "}", "else", "if", "(", "cmd", "=", "=", "\"", "clear", "\"", ")", "{", "<nl>", "gui", "_", "-", ">", "clear", "_", "chat", "_", "messages", "(", ")", ";", "<nl>", "-", "}", "else", "if", "(", "cmd", "=", "=", "\"", "sunset", "\"", ")", "{", "<nl>", "+", "}", "else", "if", "(", "game", "_", "config", ":", ":", "debug", "&", "&", "cmd", "=", "=", "\"", "sunset", "\"", ")", "{", "<nl>", "int", "delay", "=", "lexical", "_", "cast", "_", "default", "<", "int", ">", "(", "data", ")", ";", "<nl>", "gui", "_", "-", ">", "sunset", "(", "delay", ")", ";", "<nl>", "}", "else", "if", "(", "cmd", "=", "=", "\"", "w", "\"", ")", "{", "<nl>"], "docstring_tokens": ["The", "sunset", "command", "is", "a", "movement", "detector"]}
{"code_tokens": ["namespace", "{", "<nl>", "state", "_", "of", "_", "game", "-", ">", "get", "_", "variable", "(", "var", "_", "name", "+", "\"", ".", "recruit", "\"", ")", "=", "side", "_", "data", "[", "\"", "recruit", "\"", "]", ";", "<nl>", "state", "_", "of", "_", "game", "-", ">", "get", "_", "variable", "(", "var", "_", "name", "+", "\"", ".", "fog", "\"", ")", "=", "side", "_", "data", "[", "\"", "fog", "\"", "]", ";", "<nl>", "state", "_", "of", "_", "game", "-", ">", "get", "_", "variable", "(", "var", "_", "name", "+", "\"", ".", "shroud", "\"", ")", "=", "side", "_", "data", "[", "\"", "shroud", "\"", "]", ";", "<nl>", "+", "state", "_", "of", "_", "game", "-", ">", "get", "_", "variable", "(", "var", "_", "name", "+", "\"", ".", "hidden", "\"", ")", "=", "side", "_", "data", "[", "\"", "hidden", "\"", "]", ";", "<nl>", "<nl>", "state", "_", "of", "_", "game", "-", ">", "get", "_", "variable", "(", "var", "_", "name", "+", "\"", ".", "income", "\"", ")", "=", "lexical", "_", "cast", "_", "default", "<", "std", ":", ":", "string", ">", "(", "(", "*", "teams", ")", "[", "team", "_", "index", "]", ".", "income", "(", ")", ",", "\"", "\"", ")", ";", "<nl>", "state", "_", "of", "_", "game", "-", ">", "get", "_", "variable", "(", "var", "_", "name", "+", "\"", ".", "village", "_", "gold", "\"", ")", "=", "lexical", "_", "cast", "_", "default", "<", "std", ":", ":", "string", ">", "(", "(", "*", "teams", ")", "[", "team", "_", "index", "]", ".", "village", "_", "gold", "(", ")", ",", "\"", "\"", ")", ";", "<nl>"], "docstring_tokens": ["add", "save", "load", "of", "hidden", "side", "status"]}
{"code_tokens": ["std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "get", "_", "text", "(", ")", "{", "<nl>", "\"", "-", "Michel", "Loos", "\"", ",", "<nl>", "\"", "-", "Renato", "Cunha", "\"", ",", "<nl>", "\"", "-", "Srgio", "de", "Miranda", "Costa", "\"", ",", "<nl>", "+", "\"", "-", "Tiago", "Souza", "(", "Salvador", ")", "\"", ",", "<nl>", "<nl>", "\"", "_", "\"", "N", "_", "(", "\"", "+", "Russian", "Translation", "\"", ")", ",", "<nl>", "\"", "-", "Alexandr", "Menovchicov", "\"", ",", "<nl>"], "docstring_tokens": ["new", "Brazilian", "Portugese", "translator"]}
{"code_tokens": ["void", "manager", ":", ":", "print", "_", "help", "_", "once", "(", ")", "<nl>", "<nl>", "void", "manager", ":", ":", "set", "_", "active", "(", "bool", "active", ")", "<nl>", "{", "<nl>", "-", "if", "(", "is", "_", "observer", "(", ")", ")", "<nl>", "+", "if", "(", "wait", "_", "for", "_", "side", "_", "init", "_", "<nl>", "+", "|", "|", "executing", "_", "actions", "_", "<nl>", "+", "|", "|", "is", "_", "observer", "(", ")", "<nl>", "+", "|", "|", "resources", ":", ":", "controller", "-", ">", "is", "_", "linger", "_", "mode", "(", ")", ")", "<nl>", "{", "<nl>", "active", "_", "=", "false", ";", "<nl>", "-", "LOG", "_", "WB", "<", "<", "\"", "Whiteboard", "can", "'", "t", "be", "activated", "by", "observers", ".", "\\", "n", "\"", ";", "<nl>", "+", "LOG", "_", "WB", "<", "<", "\"", "Whiteboard", "can", "'", "t", "be", "activated", "now", ".", "\\", "n", "\"", ";", "<nl>", "}", "<nl>", "else", "if", "(", "active", "!", "=", "active", "_", ")", "<nl>", "{", "<nl>", "void", "manager", ":", ":", "set", "_", "invert", "_", "behavior", "(", "bool", "invert", ")", "<nl>", "bool", "block", "_", "whiteboard", "_", "activation", "=", "false", ";", "<nl>", "if", "(", "wait", "_", "for", "_", "side", "_", "init", "_", "<nl>", "|", "|", "executing", "_", "actions", "_", "<nl>", "-", "|", "|", "is", "_", "observer", "(", ")", ")", "<nl>", "+", "|", "|", "is", "_", "observer", "(", ")", "<nl>", "+", "|", "|", "resources", ":", ":", "controller", "-", ">", "is", "_", "linger", "_", "mode", "(", ")", ")", "<nl>", "{", "<nl>", "block", "_", "whiteboard", "_", "activation", "=", "true", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Whiteboard", "add", "more", "conditions", "to", "block", "whiteboard", "activation"]}
{"code_tokens": ["struct", "find", "<", "false", ">", "<nl>", "/", "/", "MSVC", "2008", "doesn", "'", "t", "like", "operator", "(", ")", "here", "so", "changed", "the", "name", ".", "<nl>", "return", "functor", ".", "template", "oper", "<", "item", ">", "(", "event", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "typedef", "typename", "boost", ":", ":", "mpl", ":", ":", "next", "<", "itor", ">", ":", ":", "type", "itor", ";", "<nl>", "-", "return", "find", "<", "boost", ":", ":", "is", "_", "same", "<", "itor", ",", "end", ">", ":", ":", "value", ">", "<nl>", "-", ":", ":", "execute", "(", "(", "itor", "*", ")", "0", ",", "(", "end", "*", ")", "0", ",", "event", ",", "functor", ")", ";", "<nl>", "+", "typedef", "typename", "boost", ":", ":", "mpl", ":", ":", "next", "<", "itor", ">", ":", ":", "type", "titor", ";", "<nl>", "+", "return", "find", "<", "boost", ":", ":", "is", "_", "same", "<", "titor", ",", "end", ">", ":", ":", "value", ">", "<nl>", "+", ":", ":", "execute", "(", "(", "titor", "*", ")", "0", ",", "(", "end", "*", ")", "0", ",", "event", ",", "functor", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["Fix", "some", "parameter", "shadowing"]}
{"code_tokens": ["void", "game", ":", ":", "transfer", "_", "side", "_", "control", "(", "const", "network", ":", ":", "connection", "sock", ",", "const", "simple", "_", "wm", "<nl>", "return", ";", "<nl>", "}", "<nl>", "sides", "_", "[", "side", "_", "num", "-", "1", "]", "=", "0", ";", "<nl>", "-", "bool", "host", "_", "leave", "=", "false", ";", "<nl>", "/", "/", "If", "the", "old", "player", "lost", "his", "last", "side", ",", "make", "him", "an", "observer", ".", "<nl>", "if", "(", "std", ":", ":", "find", "(", "sides", "_", ".", "begin", "(", ")", ",", "sides", "_", ".", "end", "(", ")", ",", "old", "_", "player", ")", "=", "=", "sides", "_", ".", "end", "(", ")", ")", "{", "<nl>", "observers", "_", ".", "push", "_", "back", "(", "old", "_", "player", ")", ";", "<nl>", "void", "game", ":", ":", "transfer", "_", "side", "_", "control", "(", "const", "network", ":", ":", "connection", "sock", ",", "const", "simple", "_", "wm", "<nl>", "simple", "_", "wml", ":", ":", "document", "observer", "_", "join", ";", "<nl>", "observer", "_", "join", ".", "root", "(", ")", ".", "add", "_", "child", "(", "\"", "observer", "\"", ")", ".", "set", "_", "attr", "_", "dup", "(", "\"", "name", "\"", ",", "old", "_", "player", "_", "name", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "send", "_", "data", "(", "observer", "_", "join", ",", "old", "_", "player", ")", ";", "<nl>", "-", "/", "/", "If", "the", "old", "player", "was", "the", "host", "of", "the", "game", ",", "choose", "another", "player", ".", "<nl>", "-", "/", "*", "if", "(", "old", "_", "player", "=", "=", "owner", "_", ")", "{", "<nl>", "-", "host", "_", "leave", "=", "true", ";", "<nl>", "-", "if", "(", "players", "_", ".", "empty", "(", ")", ")", "{", "<nl>", "-", "owner", "_", "=", "newplayer", "-", ">", "first", ";", "<nl>", "-", "}", "else", "{", "<nl>", "-", "owner", "_", "=", "players", "_", ".", "front", "(", ")", ";", "<nl>", "-", "}", "<nl>", "-", "notify", "_", "new", "_", "host", "(", ")", ";", "<nl>", "-", "}", "*", "/", "<nl>", "}", "<nl>", "change", "_", "controller", "(", "side", "_", "num", "-", "1", ",", "newplayer", ",", "false", ")", ";", "<nl>", "<nl>", "-", "if", "(", "host", "_", "leave", ")", "transfer", "_", "ai", "_", "sides", "(", ")", ";", "<nl>", "-", "<nl>", "/", "/", "If", "we", "gave", "the", "new", "side", "to", "an", "observer", "add", "him", "to", "players", "_", ".", "<nl>", "if", "(", "is", "_", "observer", "(", "newplayer", "-", ">", "first", ")", ")", "{", "<nl>", "players", "_", ".", "push", "_", "back", "(", "newplayer", "-", ">", "first", ")", ";", "<nl>"], "docstring_tokens": ["removed", "unused", "code"]}
{"code_tokens": ["void", "server", ":", ":", "run", "(", ")", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "username", "=", "=", "\"", "server", "\"", ")", "{", "<nl>", "+", "network", ":", ":", "send", "_", "data", "(", "construct", "_", "error", "(", "<nl>", "+", "\"", "The", "nick", "'", "server", "'", "is", "reserved", "and", "can", "not", "be", "used", "by", "players", "\"", ")", ",", "sock", ")", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "/", "check", "the", "username", "isn", "'", "t", "already", "taken", "<nl>", "player", "_", "map", ":", ":", "const", "_", "iterator", "p", ";", "<nl>", "for", "(", "p", "=", "players", "_", ".", "begin", "(", ")", ";", "p", "!", "=", "players", "_", ".", "end", "(", ")", ";", "+", "+", "p", ")", "{", "<nl>"], "docstring_tokens": ["The", "nick", "server", "is", "reserved", "closes", "9781"]}
{"code_tokens": ["#", "include", "\"", "random", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "log", ".", "hpp", "\"", "<nl>", "<nl>", "+", "#", "include", "<", "boost", "/", "random", "/", "random", "_", "device", ".", "hpp", ">", "<nl>", "<nl>", "#", "include", "<", "cassert", ">", "<nl>", "#", "include", "<", "cstdlib", ">", "<nl>", "+", "#", "include", "<", "limits", ">", "<nl>", "#", "include", "<", "random", ">", "<nl>", "-", "#", "include", "<", "boost", "/", "random", "/", "random", "_", "device", ".", "hpp", ">", "<nl>", "<nl>", "static", "lg", ":", ":", "log", "_", "domain", "log", "_", "random", "(", "\"", "random", "\"", ")", ";", "<nl>", "#", "define", "DBG", "_", "RND", "LOG", "_", "STREAM", "(", "debug", ",", "log", "_", "random", ")", "<nl>", "static", "lg", ":", ":", "log", "_", "domain", "log", "_", "random", "(", "\"", "random", "\"", ")", ";", "<nl>", "#", "define", "WRN", "_", "RND", "LOG", "_", "STREAM", "(", "warn", ",", "log", "_", "random", ")", "<nl>", "#", "define", "ERR", "_", "RND", "LOG", "_", "STREAM", "(", "err", ",", "log", "_", "random", ")", "<nl>", "<nl>", "+", "static", "_", "assert", "(", "std", ":", ":", "numeric", "_", "limits", "<", "double", ">", ":", ":", "is", "_", "iec559", ",", "\"", "Floating", "point", "representation", "is", "not", "IEEE", "754", "-", "compliant", "\"", ")", ";", "<nl>", "+", "<nl>", "namespace", "{", "<nl>", "<nl>", "class", "rng", "_", "default", ":", "public", "randomness", ":", ":", "rng", "<nl>"], "docstring_tokens": ["Added", "a", "static", "assertion", "for", "IEEE", "754", "floating", "point", "compliance"]}
{"code_tokens": ["namespace", "{", "<nl>", "net", "_", "manager", "_", "(", "min", "_", "thread", ",", "max", "_", "thread", ")", ",", "<nl>", "server", "_", "manager", "_", "(", "load", "_", "config", "(", ")", ")", ",", "<nl>", "hooks", "_", "(", ")", ",", "<nl>", "-", "input", "_", "(", "0", ")", "<nl>", "+", "input", "_", "(", "0", ")", ",", "<nl>", "+", "compress", "_", "level", "_", "(", "0", ")", "<nl>", "{", "<nl>", "if", "(", "cfg", "_", ".", "child", "(", "\"", "campaigns", "\"", ")", "=", "=", "NULL", ")", "{", "<nl>", "cfg", "_", ".", "add", "_", "child", "(", "\"", "campaigns", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Initialize", "all", "members"]}
{"code_tokens": ["void", "room", "_", "manager", ":", ":", "load", "_", "config", "(", "const", "config", "&", "cfg", ")", "<nl>", "{", "<nl>", "filename", "_", "=", "cfg", "[", "\"", "room", "_", "save", "_", "file", "\"", "]", ";", "<nl>", "compress", "_", "stored", "_", "rooms", "_", "=", "utils", ":", ":", "string", "_", "bool", "(", "cfg", "[", "\"", "compress", "_", "stored", "_", "rooms", "\"", "]", ",", "true", ")", ";", "<nl>", "-", "new", "_", "room", "_", "policy", "_", "=", "pp", "_", "from", "_", "string", "(", "cfg", "[", "\"", "new", "_", "room", "_", "policy", "\"", "]", ")", ";", "<nl>", "+", "PRIVILEGE", "_", "POLICY", "pp", "=", "pp", "_", "from", "_", "string", "(", "cfg", "[", "\"", "new", "_", "room", "_", "policy", "\"", "]", ")", ";", "<nl>", "+", "if", "(", "pp", "!", "=", "PP", "_", "COUNT", ")", "new", "_", "room", "_", "policy", "_", "=", "pp", ";", "<nl>", "}", "<nl>", "<nl>", "const", "std", ":", ":", "string", "&", "room", "_", "manager", ":", ":", "storage", "_", "filename", "(", ")", "const", "<nl>"], "docstring_tokens": ["fix", "default", "room", "creation", "policy", "on", "server"]}
{"code_tokens": ["std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "get", "_", "text", "(", ")", "{", "<nl>", "<nl>", "\"", "_", "\"", "N", "_", "(", "\"", "+", "Developers", "\"", ")", ",", "<nl>", "\"", "-", "Alfredo", "Beaumont", "(", "ziberpunk", ")", "\"", ",", "<nl>", "+", "\"", "-", "Bram", "Ridder", "(", "Morloth", ")", "\"", ",", "<nl>", "\"", "-", "Cedric", "Duval", "\"", ",", "<nl>", "\"", "-", "Cyril", "Bouthors", "(", "CyrilB", ")", "\"", ",", "<nl>", "\"", "-", "Guillaume", "Melquiond", "(", "silene", ")", "\"", ",", "<nl>", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "get", "_", "text", "(", ")", "{", "<nl>", "\"", "-", "Justin", "Zaun", "(", "jzaun", ")", "\"", ",", "<nl>", "<nl>", "\"", "_", "\"", "N", "_", "(", "\"", "+", "Multiplayer", "Maps", "\"", ")", ",", "<nl>", "+", "\"", "-", "Mike", "Quinones", "(", "Doc", "Paterson", ")", "\"", ",", "<nl>", "\"", "-", "Peter", "Groen", "(", "pg", ")", "\"", ",", "<nl>", "\"", "-", "Tom", "Chance", "(", "telex4", ")", "\"", ",", "<nl>", "-", "\"", "-", "Mike", "Quinones", "(", "Doc", "Paterson", ")", "\"", ",", "<nl>", "<nl>", "\"", "_", "\"", "N", "_", "(", "\"", "+", "Packagers", "\"", ")", ",", "<nl>", "\"", "-", "Cyril", "Bouthors", "(", "CyrilB", ")", "\"", ",", "<nl>"], "docstring_tokens": ["added", "Bram", "Ridder", "Morloth", "to", "about"]}
{"code_tokens": ["public", ":", "<nl>", "size", "_", "t", "size", "(", ")", "const", "{", "return", "lmap", "_", ".", "size", "(", ")", ";", "}", "<nl>", "size", "_", "t", "num", "_", "iters", "(", ")", "const", ";", "<nl>", "<nl>", "+", "bool", "empty", "(", ")", "const", "{", "return", "lmap", "_", ".", "empty", "(", ")", ";", "}", "<nl>", "+", "<nl>", "void", "clear", "(", "bool", "force", "=", "false", ")", ";", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["Units", "Map", "added", "an", "empty", "function"]}
{"code_tokens": ["void", "delete", "_", "all", "_", "wml", "_", "hotkeys", "(", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "/", "/", "retunrs", "weather", "a", "hotkey", "was", "deleted", ".", "<nl>", "+", "/", "/", "Returns", "whether", "a", "hotkey", "was", "deleted", ".", "<nl>", "bool", "remove", "_", "wml", "_", "hotkey", "(", "const", "std", ":", ":", "string", "&", "id", ")", "<nl>", "{", "<nl>", "hotkey", ":", ":", "hotkey", "_", "command", "&", "command", "=", "get", "_", "hotkey", "_", "command", "(", "id", ")", ";", "<nl>"], "docstring_tokens": ["Correcting", "a", "comment"]}
{"code_tokens": ["void", "draw", "_", "unit", "_", "ellipse", "(", "SDL", "_", "Surface", "*", "target", ",", "short", "colour", ",", "const", "SDL", "_", "Rect", "&", "clip", ",", "<nl>", "xpos", "=", "behind", "-", ">", "w", "-", "xpos", "-", "1", ";", "<nl>", "<nl>", "int", "ypos", "=", "yit", "-", "unity", ";", "<nl>", "-", "if", "(", "xit", ">", "=", "clip", ".", "x", "&", "&", "yit", ">", "=", "clip", ".", "y", "&", "&", "xit", "<", "clip", ".", "x", "+", "clip", ".", "w", "&", "&", "yit", "<", "clip", ".", "y", "+", "clip", ".", "h", "&", "&", "<nl>", "-", "xpos", ">", "=", "0", "&", "&", "ypos", ">", "=", "0", "&", "&", "xpos", "<", "behind", "-", ">", "w", "&", "&", "ypos", "<", "behind", "-", ">", "h", "&", "&", "<nl>", "+", "if", "(", "xit", ">", "=", "clip", ".", "x", "&", "&", "yit", ">", "=", "clip", ".", "y", "&", "&", "xit", "<", "clip", ".", "x", "+", "clip", ".", "w", "&", "&", "yit", "+", "1", "<", "clip", ".", "y", "+", "clip", ".", "h", "&", "&", "<nl>", "+", "xpos", ">", "=", "0", "&", "&", "ypos", ">", "=", "0", "&", "&", "xpos", "<", "behind", "-", ">", "w", "&", "&", "ypos", "+", "1", "<", "behind", "-", ">", "h", "&", "&", "<nl>", "pixels", "[", "ypos", "*", "(", "behind", "-", ">", "w", "+", "pad", ")", "+", "xpos", "]", "=", "=", "0", ")", "{", "<nl>", "-", "SDL", "_", "Rect", "rect", "=", "{", "xit", ",", "yit", ",", "1", ",", "1", "}", ";", "<nl>", "+", "SDL", "_", "Rect", "rect", "=", "{", "xit", ",", "yit", ",", "1", ",", "2", "}", ";", "<nl>", "SDL", "_", "FillRect", "(", "target", ",", "&", "rect", ",", "colour", ")", ";", "<nl>", "}", "<nl>", "<nl>", "yit", "=", "yloc", "+", "height", "/", "2", "+", "y", ";", "<nl>", "ypos", "=", "yit", "-", "unity", ";", "<nl>", "-", "if", "(", "xit", ">", "=", "clip", ".", "x", "&", "&", "yit", ">", "=", "clip", ".", "y", "&", "&", "xit", "<", "clip", ".", "x", "+", "clip", ".", "w", "&", "&", "yit", "<", "clip", ".", "y", "+", "clip", ".", "h", "&", "&", "<nl>", "-", "xpos", ">", "=", "0", "&", "&", "ypos", ">", "=", "0", "&", "&", "xpos", "<", "behind", "-", ">", "w", "&", "&", "ypos", "<", "behind", "-", ">", "h", ")", "{", "<nl>", "-", "SDL", "_", "Rect", "rect", "=", "{", "xit", ",", "yit", ",", "1", ",", "1", "}", ";", "<nl>", "+", "if", "(", "xit", ">", "=", "clip", ".", "x", "&", "&", "yit", ">", "=", "clip", ".", "y", "&", "&", "xit", "<", "clip", ".", "x", "+", "clip", ".", "w", "&", "&", "yit", "+", "1", "<", "clip", ".", "y", "+", "clip", ".", "h", "&", "&", "<nl>", "+", "xpos", ">", "=", "0", "&", "&", "ypos", ">", "=", "0", "&", "&", "xpos", "<", "behind", "-", ">", "w", "&", "&", "ypos", "+", "1", "<", "behind", "-", ">", "h", ")", "{", "<nl>", "+", "SDL", "_", "Rect", "rect", "=", "{", "xit", ",", "yit", ",", "1", ",", "2", "}", ";", "<nl>", "SDL", "_", "FillRect", "(", "target", ",", "&", "rect", ",", "colour", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["increased", "ellipses", "to", "2", "pixels", "thick"]}
{"code_tokens": ["time", "_", "of", "_", "day", ":", ":", "time", "_", "of", "_", "day", "(", "const", "config", "&", "cfg", ")", "<nl>", "time", "_", "of", "_", "day", ":", ":", "time", "_", "of", "_", "day", "(", ")", "<nl>", ":", "lawful", "_", "bonus", "(", "0", ")", "<nl>", ",", "bonus", "_", "modified", "(", "0", ")", "<nl>", "+", ",", "image", "(", ")", "<nl>", ",", "name", "(", "\"", "NULL", "_", "TOD", "\"", ")", "<nl>", ",", "id", "(", "\"", "nulltod", "\"", ")", "<nl>", "+", ",", "image", "_", "mask", "(", ")", "<nl>", ",", "red", "(", "0", ")", "<nl>", ",", "green", "(", "0", ")", "<nl>", ",", "blue", "(", "0", ")", "<nl>", "+", ",", "sounds", "(", ")", "<nl>", "{", "<nl>", "}", "<nl>"], "docstring_tokens": ["Initialize", "all", "members"]}
{"code_tokens": ["#", "include", "\"", "log", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "unit", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "unit", "_", "map", ".", "hpp", "\"", "<nl>", "+", "#", "include", "\"", "team", ".", "hpp", "\"", "<nl>", "<nl>", "static", "lg", ":", ":", "log", "_", "domain", "log", "_", "engine", "(", "\"", "engine", "\"", ")", ";", "<nl>", "#", "define", "LOG", "_", "NG", "LOG", "_", "STREAM", "(", "info", ",", "log", "_", "engine", ")", "<nl>", "void", "scoped", "_", "weapon", "_", "info", ":", ":", "activate", "(", ")", "<nl>", "<nl>", "void", "scoped", "_", "recall", "_", "unit", ":", ":", "activate", "(", ")", "<nl>", "{", "<nl>", "+", "const", "std", ":", ":", "vector", "<", "team", ">", "&", "teams", "=", "teams", "_", "manager", ":", ":", "get", "_", "teams", "(", ")", ";", "<nl>", "+", "std", ":", ":", "vector", "<", "team", ">", ":", ":", "const", "_", "iterator", "team", "_", "it", ";", "<nl>", "+", "for", "(", "team", "_", "it", "=", "teams", ".", "begin", "(", ")", ";", "team", "_", "it", "!", "=", "teams", ".", "end", "(", ")", ";", "team", "_", "it", "+", "+", ")", "{", "<nl>", "+", "if", "(", "team", "_", "it", "-", ">", "save", "_", "id", "(", ")", "=", "=", "player", "_", ")", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "player", "_", "info", "*", "const", "player", "=", "repos", "-", ">", "get", "_", "player", "(", "player", "_", ")", ";", "<nl>", "-", "if", "(", "player", "!", "=", "NULL", ")", "{", "<nl>", "-", "if", "(", "player", "-", ">", "available", "_", "units", ".", "size", "(", ")", ">", "recall", "_", "index", "_", ")", "{", "<nl>", "+", "if", "(", "team", "_", "it", "!", "=", "teams", ".", "end", "(", ")", ")", "{", "<nl>", "+", "if", "(", "team", "_", "it", "-", ">", "recall", "_", "list", "(", ")", ".", "size", "(", ")", ">", "recall", "_", "index", "_", ")", "{", "<nl>", "config", "tmp", "_", "cfg", ";", "<nl>", "-", "player", "-", ">", "available", "_", "units", "[", "recall", "_", "index", "_", "]", ".", "write", "(", "tmp", "_", "cfg", ")", ";", "<nl>", "+", "team", "_", "it", "-", ">", "recall", "_", "list", "(", ")", "[", "recall", "_", "index", "_", "]", ".", "write", "(", "tmp", "_", "cfg", ")", ";", "<nl>", "tmp", "_", "cfg", "[", "\"", "x", "\"", "]", "=", "\"", "recall", "\"", ";", "<nl>", "tmp", "_", "cfg", "[", "\"", "y", "\"", "]", "=", "\"", "recall", "\"", ";", "<nl>", "LOG", "_", "NG", "<", "<", "\"", "auto", "-", "storing", "$", "\"", "<", "<", "name", "(", ")", "<", "<", "\"", "for", "player", ":", "\"", "<", "<", "player", "_", "<nl>"], "docstring_tokens": ["replaced", "player_info", "references", "in", "variable", "cpp", "by", "team", "references"]}
{"code_tokens": ["void", "unit", ":", ":", "write", "(", "config", "&", "cfg", ")", "const", "<nl>", "break", ";", "<nl>", "case", "unit", "_", "type", ":", ":", "LIMINAL", ":", "<nl>", "cfg", "[", "\"", "alignment", "\"", "]", "=", "\"", "liminal", "\"", ";", "<nl>", "+", "break", ";", "<nl>", "default", ":", "<nl>", "cfg", "[", "\"", "alignment", "\"", "]", "=", "\"", "neutral", "\"", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fixed", "a", "missing", "brake", "in", "a", "switch", "case", "construct", "spotted", "by", "Crab"]}
{"code_tokens": ["void", "server", ":", ":", "handle", "_", "read", "_", "from", "_", "fifo", "(", "const", "boost", ":", ":", "system", ":", ":", "error", "_", "code", "&", "error", ",", "std", ":", ":", "<nl>", "<nl>", "if", "(", "ctl", "=", "=", "\"", "shut", "_", "down", "\"", ")", "{", "<nl>", "LOG", "_", "CS", "<", "<", "\"", "Shut", "down", "requested", "by", "admin", ",", "shutting", "down", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "+", "throw", "server", "_", "shutdown", "(", "\"", "Shut", "down", "via", "fifo", "command", "\"", ")", ";", "<nl>", "}", "else", "if", "(", "ctl", "=", "=", "\"", "readonly", "\"", ")", "{", "<nl>", "if", "(", "ctl", ".", "args", "_", "count", "(", ")", ")", "{", "<nl>", "cfg", "_", "[", "\"", "read", "_", "only", "\"", "]", "=", "read", "_", "only", "_", "=", "utils", ":", ":", "string", "_", "bool", "(", "ctl", "[", "1", "]", ",", "true", ")", ";", "<nl>"], "docstring_tokens": ["Properly", "shut", "down", "in", "response", "to", "fifo", "command"]}
{"code_tokens": ["static", "int", "impl", "_", "unit", "_", "attack", "_", "match", "(", "lua", "_", "State", "*", "L", ")", "<nl>", "{", "<nl>", "const", "_", "attack", "_", "ptr", "atk", "=", "luaW", "_", "toweapon", "(", "L", ",", "1", ")", ";", "<nl>", "config", "cfg", "=", "luaW", "_", "checkconfig", "(", "L", ",", "2", ")", ";", "<nl>", "+", "if", "(", "!", "atk", ")", "{", "<nl>", "+", "return", "luaL", "_", "argerror", "(", "L", ",", "1", ",", "\"", "invalid", "attack", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "lua", "_", "pushboolean", "(", "L", ",", "atk", "-", ">", "matches", "_", "filter", "(", "cfg", ")", ")", ";", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Crash", "in", "attack_type", "matches_filter", "impl_unit_attack_match", "in", "some", "scenarios"]}
{"code_tokens": ["bool", "game", ":", ":", "describe", "_", "slots", "(", ")", "{", "<nl>", "std", ":", ":", "string", "descr", "=", "buf", ".", "str", "(", ")", ";", "<nl>", "<nl>", "if", "(", "(", "*", "description", "_", ")", "[", "\"", "slots", "\"", "]", "!", "=", "descr", ")", "{", "<nl>", "-", "description", "_", "-", ">", "set", "_", "attr", "_", "dup", "(", "\"", "slots", "\"", ",", "descr", ")", ";", "<nl>", "+", "description", "_", "-", ">", "set", "_", "attr", "_", "dup", "(", "\"", "slots", "\"", ",", "descr", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "return", "true", ";", "<nl>", "}", "else", "{", "<nl>", "return", "false", ";", "<nl>"], "docstring_tokens": ["fixup", "Add", "DEPRECATED", "macro", "and", "remove", "uses", "of", "snprintf"]}
{"code_tokens": ["int", "intf", "_", "set", "_", "dialog", "_", "callback", "(", "lua", "_", "State", "*", "L", ")", "<nl>", "if", "(", "gui2", ":", ":", "clickable", "_", "item", "*", "c", "=", "dynamic", "_", "cast", "<", "gui2", ":", ":", "clickable", "_", "item", "*", ">", "(", "w", ")", ")", "{", "<nl>", "static", "dialog", "_", "callback", "_", "wrapper", "wrapper", ";", "<nl>", "c", "-", ">", "connect", "_", "click", "_", "handler", "(", "std", ":", ":", "bind", "(", "&", "dialog", "_", "callback", "_", "wrapper", ":", ":", "forward", ",", "wrapper", ",", "w", ")", ")", ";", "<nl>", "-", "}", "else", "if", "(", "gui2", ":", ":", "selectable", "_", "item", "*", "s", "=", "dynamic", "_", "cast", "<", "gui2", ":", ":", "selectable", "_", "item", "*", ">", "(", "w", ")", ")", "{", "<nl>", "-", "connect", "_", "signal", "_", "notify", "_", "modified", "(", "dynamic", "_", "cast", "<", "gui2", ":", ":", "widget", "&", ">", "(", "*", "s", ")", ",", "std", ":", ":", "bind", "(", "dialog", "_", "callback", ",", "_", "1", ")", ")", ";", "<nl>", "-", "}", "else", "if", "(", "gui2", ":", ":", "integer", "_", "selector", "*", "s", "=", "dynamic", "_", "cast", "<", "gui2", ":", ":", "integer", "_", "selector", "*", ">", "(", "w", ")", ")", "{", "<nl>", "-", "connect", "_", "signal", "_", "notify", "_", "modified", "(", "dynamic", "_", "cast", "<", "gui2", ":", ":", "widget", "&", ">", "(", "*", "s", ")", ",", "std", ":", ":", "bind", "(", "dialog", "_", "callback", ",", "_", "1", ")", ")", ";", "<nl>", "+", "}", "else", "if", "(", "gui2", ":", ":", "selectable", "_", "item", "*", "si", "=", "dynamic", "_", "cast", "<", "gui2", ":", ":", "selectable", "_", "item", "*", ">", "(", "w", ")", ")", "{", "<nl>", "+", "connect", "_", "signal", "_", "notify", "_", "modified", "(", "dynamic", "_", "cast", "<", "gui2", ":", ":", "widget", "&", ">", "(", "*", "si", ")", ",", "std", ":", ":", "bind", "(", "dialog", "_", "callback", ",", "_", "1", ")", ")", ";", "<nl>", "+", "}", "else", "if", "(", "gui2", ":", ":", "integer", "_", "selector", "*", "is", "=", "dynamic", "_", "cast", "<", "gui2", ":", ":", "integer", "_", "selector", "*", ">", "(", "w", ")", ")", "{", "<nl>", "+", "connect", "_", "signal", "_", "notify", "_", "modified", "(", "dynamic", "_", "cast", "<", "gui2", ":", ":", "widget", "&", ">", "(", "*", "is", ")", ",", "std", ":", ":", "bind", "(", "dialog", "_", "callback", ",", "_", "1", ")", ")", ";", "<nl>", "}", "<nl>", "#", "ifdef", "GUI2", "_", "EXPERIMENTAL", "_", "LISTBOX", "<nl>", "else", "if", "(", "gui2", ":", ":", "list", "_", "view", "*", "l", "=", "dynamic", "_", "cast", "<", "gui2", ":", ":", "list", "_", "view", "*", ">", "(", "w", ")", ")", "{", "<nl>"], "docstring_tokens": ["Fix", "variable", "hides", "variable"]}
{"code_tokens": ["bool", "turn", "_", "slice", "(", "game", "_", "data", "&", "gameinfo", ",", "game", "_", "state", "&", "state", "_", "of", "_", "game", ",", "<nl>", "unit", "_", "map", ":", ":", "const", "_", "iterator", "it", "=", "units", ".", "find", "(", "next", "_", "unit", ")", ";", "<nl>", "if", "(", "it", "!", "=", "units", ".", "end", "(", ")", ")", "{", "<nl>", "for", "(", "+", "+", "it", ";", "it", "!", "=", "units", ".", "end", "(", ")", ";", "+", "+", "it", ")", "{", "<nl>", "-", "if", "(", "unit", "_", "can", "_", "move", "(", "it", "-", ">", "first", ",", "units", ",", "map", ",", "teams", ")", ")", "{", "<nl>", "+", "if", "(", "it", "-", ">", "second", ".", "side", "(", ")", "=", "=", "team", "_", "num", "&", "&", "<nl>", "+", "unit", "_", "can", "_", "move", "(", "it", "-", ">", "first", ",", "units", ",", "map", ",", "teams", ")", ")", "{", "<nl>", "break", ";", "<nl>", "}", "<nl>", "}", "<nl>", "bool", "turn", "_", "slice", "(", "game", "_", "data", "&", "gameinfo", ",", "game", "_", "state", "&", "state", "_", "of", "_", "game", ",", "<nl>", "<nl>", "if", "(", "it", "=", "=", "units", ".", "end", "(", ")", ")", "{", "<nl>", "for", "(", "it", "=", "units", ".", "begin", "(", ")", ";", "it", "!", "=", "units", ".", "end", "(", ")", ";", "+", "+", "it", ")", "{", "<nl>", "-", "if", "(", "unit", "_", "can", "_", "move", "(", "it", "-", ">", "first", ",", "units", ",", "map", ",", "teams", ")", ")", "{", "<nl>", "+", "if", "(", "it", "-", ">", "second", ".", "side", "(", ")", "=", "=", "team", "_", "num", "&", "&", "<nl>", "+", "unit", "_", "can", "_", "move", "(", "it", "-", ">", "first", ",", "units", ",", "map", ",", "teams", ")", ")", "{", "<nl>", "break", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["fixed", "bug", "with", "cycling", "through", "enemy", "units"]}
{"code_tokens": ["bool", "loadgame", ":", ":", "load", "_", "multiplayer", "_", "game", "(", ")", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "is", "_", "replay", "_", "save", "(", "summary", "_", ")", ")", "{", "<nl>", "+", "gui2", ":", ":", "show", "_", "transient", "_", "message", "(", "video", "_", ",", "_", "(", "\"", "Load", "Game", "\"", ")", ",", "_", "(", "\"", "Replays", "are", "not", "supported", "in", "multiplayer", "mode", ".", "\"", ")", ")", ";", "<nl>", "+", "return", "false", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "gamestate", "_", ".", "classification", "(", ")", ".", "campaign", "_", "type", "!", "=", "game", "_", "classification", ":", ":", "CAMPAIGN", "_", "TYPE", ":", ":", "MULTIPLAYER", ")", "{", "<nl>", "gui2", ":", ":", "show", "_", "transient", "_", "error", "_", "message", "(", "video", "_", ",", "_", "(", "\"", "This", "is", "not", "a", "multiplayer", "save", ".", "\"", ")", ")", ";", "<nl>", "return", "false", ";", "<nl>"], "docstring_tokens": ["Added", "dedicated", "fallback", "message", "if", "a", "replay", "is", "loaded", "from", "mp", "create"]}
{"code_tokens": ["bool", "gamemap", ":", ":", "is", "_", "village", "(", "const", "gamemap", ":", ":", "location", "&", "loc", ")", "const", "<nl>", "<nl>", "bool", "gamemap", ":", ":", "gives", "_", "healing", "(", "const", "gamemap", ":", ":", "location", "&", "loc", ")", "const", "<nl>", "{", "<nl>", "-", "return", "is", "_", "village", "(", "loc", ")", ";", "<nl>", "+", "return", "on", "_", "board", "(", "loc", ")", "&", "&", "gives", "_", "healing", "(", "get", "_", "terrain", "(", "loc", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "bool", "gamemap", ":", ":", "is", "_", "castle", "(", "const", "gamemap", ":", ":", "location", "&", "loc", ")", "const", "<nl>"], "docstring_tokens": ["Fix", "behavioral", "discrepancy", "for", "healing", "terrains", "Thanks", "to", "quartex", "and", "ott"]}
{"code_tokens": ["void", "show", "_", "about", "(", "display", "&", "disp", ")", "<nl>", "text", ".", "push", "_", "back", "(", "\"", "+", "Developers", "\"", ")", ";", "<nl>", "text", ".", "push", "_", "back", "(", "\"", "-", "Alfredo", "Beaumont", "(", "ziberpunk", ")", "\"", ")", ";", "<nl>", "text", ".", "push", "_", "back", "(", "\"", "-", "Cyril", "Bouthors", "(", "CyrilB", ")", "\"", ")", ";", "<nl>", "-", "text", ".", "push", "_", "back", "(", "\"", "-", "Guillaume", "Duwelz", "-", "Rebert", "\"", ")", ";", "<nl>", "text", ".", "push", "_", "back", "(", "\"", "-", "Isaac", "Clerencia", "\"", ")", ";", "<nl>", "text", ".", "push", "_", "back", "(", "\"", "-", "J", ".", "R", ".", "Blain", "(", "Cowboy", ")", "\"", ")", ";", "<nl>", "text", ".", "push", "_", "back", "(", "\"", "-", "Justin", "Zaun", "(", "jzaun", ")", "\"", ")", ";", "<nl>"], "docstring_tokens": ["updated", "about", "Guillaume", "Duwelz", "Rebert", "removed", "from", "developers"]}
{"code_tokens": ["<nl>", "bool", "detect", "_", "format", "_", "and", "_", "read", "(", "config", "&", "cfg", ",", "std", ":", ":", "istream", "&", "in", ")", "<nl>", "{", "<nl>", "-", "try", "{", "<nl>", "+", "unsigned", "char", "c", "=", "in", ".", "peek", "(", ")", ";", "<nl>", "+", "if", "(", "c", "<", "5", ")", "{", "<nl>", "read", "_", "compressed", "(", "cfg", ",", "in", ")", ";", "<nl>", "return", "true", ";", "<nl>", "-", "}", "catch", "(", "config", ":", ":", "error", "&", ")", "{", "<nl>", "+", "}", "else", "{", "<nl>", "+", "read", "(", "cfg", ",", "in", ")", ";", "<nl>", "+", "return", "false", ";", "<nl>", "}", "<nl>", "-", "<nl>", "-", "read", "(", "cfg", ",", "in", ")", ";", "<nl>", "-", "return", "false", ";", "<nl>", "}", "<nl>", "<nl>", "void", "write", "_", "possibly", "_", "compressed", "(", "std", ":", ":", "string", "const", "&", "filename", ",", "config", "&", "cfg", ",", "bool", "compress", ")", "<nl>"], "docstring_tokens": ["Now", "that", "we", "are", "using", "streams"]}
{"code_tokens": ["Units", "cannot", "be", "killed", "by", "poison", "alone", ".", "The", "poison", "will", "not", "reduce", "it", "below", "1", "HP", "<nl>", "break", ";", "<nl>", "<nl>", "const", "t", "_", "translation", ":", ":", "t", "_", "letter", "terrain", "=", "map", ".", "get", "_", "terrain", "(", "mouseover", ")", ";", "<nl>", "+", "if", "(", "terrain", "=", "=", "t", "_", "translation", ":", ":", "OFF", "_", "MAP", "_", "USER", ")", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "const", "t", "_", "translation", ":", ":", "t", "_", "list", "&", "underlying", "=", "map", ".", "underlying", "_", "union", "_", "terrain", "(", "terrain", ")", ";", "<nl>", "<nl>", "if", "(", "map", ".", "is", "_", "village", "(", "mouseover", ")", ")", "{", "<nl>", "Units", "cannot", "be", "killed", "by", "poison", "alone", ".", "The", "poison", "will", "not", "reduce", "it", "below", "1", "HP", "<nl>", "break", ";", "<nl>", "}", "<nl>", "<nl>", "+", "const", "t", "_", "translation", ":", ":", "t", "_", "letter", "terrain", "=", "map", "[", "mouseover", ".", "x", "]", "[", "mouseover", ".", "y", "]", ";", "<nl>", "+", "<nl>", "+", "if", "(", "terrain", "=", "=", "t", "_", "translation", ":", ":", "OFF", "_", "MAP", "_", "USER", ")", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "str", "<", "<", "mouseover", ";", "<nl>", "<nl>", "if", "(", "u", "=", "=", "units", ".", "end", "(", ")", "|", "|", "current", "_", "team", ".", "shrouded", "(", "mouseover", ".", "x", ",", "mouseover", ".", "y", ")", ")", "<nl>", "break", ";", "<nl>", "<nl>", "-", "const", "t", "_", "translation", ":", ":", "t", "_", "letter", "terrain", "=", "map", "[", "mouseover", ".", "x", "]", "[", "mouseover", ".", "y", "]", ";", "<nl>", "-", "<nl>", "const", "int", "move", "_", "cost", "=", "u", "-", ">", "second", ".", "movement", "_", "cost", "(", "terrain", ")", ";", "<nl>", "const", "int", "defense", "=", "100", "-", "u", "-", ">", "second", ".", "defense", "_", "modifier", "(", "terrain", ")", ";", "<nl>"], "docstring_tokens": ["When", "the", "cursor", "is", "on", "off", "map", "tiles", "in", "the", "status", "bar"]}
{"code_tokens": ["void", "fill", "_", "rect", "_", "alpha", "(", "SDL", "_", "Rect", "&", "rect", ",", "Uint32", "colour", ",", "Uint8", "alpha", ",", "surface", "const", "&", "<nl>", "<nl>", "surface", "get", "_", "surface", "_", "portion", "(", "surface", "const", "&", "src", ",", "SDL", "_", "Rect", "&", "area", ")", "<nl>", "{", "<nl>", "-", "if", "(", "area", ".", "x", ">", "=", "src", "-", ">", "w", "|", "|", "area", ".", "y", ">", "=", "src", "-", ">", "h", ")", "{", "<nl>", "-", "std", ":", ":", "cerr", "<", "<", "\"", "illegal", "surface", "portion", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "+", "/", "/", "check", "if", "there", "is", "something", "in", "the", "portion", "<nl>", "+", "if", "(", "area", ".", "x", ">", "=", "src", "-", ">", "w", "|", "|", "area", ".", "y", ">", "=", "src", "-", ">", "h", "|", "|", "area", ".", "x", "+", "area", ".", "w", "<", "0", "|", "|", "area", ".", "y", "+", "area", ".", "h", "<", "0", ")", "{", "<nl>", "+", "/", "/", "std", ":", ":", "cerr", "<", "<", "\"", "illegal", "surface", "portion", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "area", ".", "x", "+", "area", ".", "w", ">", "src", "-", ">", "w", ")", "{", "<nl>", "area", ".", "w", "=", "src", "-", ">", "w", "-", "area", ".", "x", ";", "<nl>", "}", "<nl>", "-", "<nl>", "if", "(", "area", ".", "y", "+", "area", ".", "h", ">", "src", "-", ">", "h", ")", "{", "<nl>", "area", ".", "h", "=", "src", "-", ">", "h", "-", "area", ".", "y", ";", "<nl>", "}", "<nl>", "surface", "get", "_", "surface", "_", "portion", "(", "surface", "const", "&", "src", ",", "SDL", "_", "Rect", "&", "area", ")", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "SDL", "_", "Rect", "dstarea", "=", "{", "0", ",", "0", ",", "0", ",", "0", "}", ";", "<nl>", "-", "<nl>", "-", "SDL", "_", "BlitSurface", "(", "src", ",", "&", "area", ",", "dst", ",", "&", "dstarea", ")", ";", "<nl>", "+", "SDL", "_", "BlitSurface", "(", "src", ",", "&", "area", ",", "dst", ",", "NULL", ")", ";", "<nl>", "<nl>", "return", "dst", ";", "<nl>", "}", "mmm", "src", "/", "sdl", "_", "utils", ".", "hpp", "<nl>", "void", "fill", "_", "rect", "_", "alpha", "(", "SDL", "_", "Rect", "&", "rect", ",", "Uint32", "colour", ",", "Uint8", "alpha", ",", "surface", "const", "&", "<nl>", "<nl>", "surface", "get", "_", "surface", "_", "portion", "(", "surface", "const", "&", "src", ",", "SDL", "_", "Rect", "&", "area", ")", "<nl>", "{", "<nl>", "-", "if", "(", "area", ".", "x", ">", "=", "src", "-", ">", "w", "|", "|", "area", ".", "y", ">", "=", "src", "-", ">", "h", ")", "{", "<nl>", "-", "std", ":", ":", "cerr", "<", "<", "\"", "illegal", "surface", "portion", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "+", "/", "/", "check", "if", "there", "is", "something", "in", "the", "portion", "<nl>", "+", "if", "(", "area", ".", "x", ">", "=", "src", "-", ">", "w", "|", "|", "area", ".", "y", ">", "=", "src", "-", ">", "h", "|", "|", "area", ".", "x", "+", "area", ".", "w", "<", "0", "|", "|", "area", ".", "y", "+", "area", ".", "h", "<", "0", ")", "{", "<nl>", "+", "/", "/", "std", ":", ":", "cerr", "<", "<", "\"", "illegal", "surface", "portion", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "area", ".", "x", "+", "area", ".", "w", ">", "src", "-", ">", "w", ")", "{", "<nl>", "area", ".", "w", "=", "src", "-", ">", "w", "-", "area", ".", "x", ";", "<nl>", "}", "<nl>", "-", "<nl>", "if", "(", "area", ".", "y", "+", "area", ".", "h", ">", "src", "-", ">", "h", ")", "{", "<nl>", "area", ".", "h", "=", "src", "-", ">", "h", "-", "area", ".", "y", ";", "<nl>", "}", "<nl>", "surface", "get", "_", "surface", "_", "portion", "(", "surface", "const", "&", "src", ",", "SDL", "_", "Rect", "&", "area", ")", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "-", "SDL", "_", "Rect", "dstarea", "=", "{", "0", ",", "0", ",", "0", ",", "0", "}", ";", "<nl>", "-", "<nl>", "-", "SDL", "_", "BlitSurface", "(", "src", ",", "&", "area", ",", "dst", ",", "&", "dstarea", ")", ";", "<nl>", "+", "SDL", "_", "BlitSurface", "(", "src", ",", "&", "area", ",", "dst", ",", "NULL", ")", ";", "<nl>", "<nl>", "return", "dst", ";", "<nl>", "}", "<nl>", "surface", "darken", "_", "image", "(", "surface", "const", "&", "surf", ")", ";", "<nl>", "surface", "recolor", "_", "image", "(", "surface", "surf", ",", "const", "std", ":", ":", "map", "<", "Uint32", ",", "Uint32", ">", "&", "map", "_", "rgb", ")", ";", "<nl>", "<nl>", "surface", "brighten", "_", "image", "(", "surface", "const", "&", "surf", ",", "fixed", "_", "t", "amount", ")", ";", "<nl>", "+", "/", "/", "send", "NULL", "if", "the", "portion", "is", "outside", "of", "the", "surface", "<nl>", "surface", "get", "_", "surface", "_", "portion", "(", "surface", "const", "&", "surf", ",", "SDL", "_", "Rect", "&", "rect", ")", ";", "<nl>", "surface", "adjust", "_", "surface", "_", "alpha", "(", "surface", "const", "&", "surf", ",", "fixed", "_", "t", "amount", ",", "bool", "optimize", "=", "true", ")", ";", "<nl>", "surface", "adjust", "_", "surface", "_", "alpha", "_", "add", "(", "surface", "const", "&", "surf", ",", "int", "amount", ")", ";", "<nl>"], "docstring_tokens": ["get_surface_portion", "now", "quietly", "give", "NULL"]}
{"code_tokens": ["bool", "play", "_", "controller", ":", ":", "in", "_", "context", "_", "menu", "(", "hotkey", ":", ":", "HOTKEY", "_", "COMMAND", "command", ")", "const", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "RECRUIT", ":", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "REPEAT", "_", "RECRUIT", ":", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "RECALL", ":", "{", "<nl>", "+", "wb", ":", ":", "scoped", "_", "planned", "_", "pathfind", "_", "map", "future", ";", "/", "/", "<", "lasts", "until", "method", "returns", ".", "<nl>", "/", "/", "last", "_", "hex", "_", "is", "set", "by", "mouse", "_", "events", ":", ":", "mouse", "_", "motion", "<nl>", "/", "/", "Enable", "recruit", "/", "recall", "on", "castle", "/", "keep", "tiles", "<nl>", "for", "(", "unit", "_", "map", ":", ":", "const", "_", "iterator", "leader", "=", "units", "_", ".", "begin", "(", ")", ";", "<nl>", "leader", "!", "=", "units", "_", ".", "end", "(", ")", ";", "+", "+", "leader", ")", "{", "<nl>", "if", "(", "leader", "-", ">", "can", "_", "recruit", "(", ")", "&", "&", "<nl>", "-", "leader", "-", ">", "side", "(", ")", "=", "=", "player", "_", "number", "_", "&", "&", "<nl>", "+", "leader", "-", ">", "side", "(", ")", "=", "=", "resources", ":", ":", "screen", "-", ">", "viewing", "_", "side", "(", ")", "&", "&", "<nl>", "can", "_", "recruit", "_", "on", "(", "map", "_", ",", "leader", "-", ">", "get", "_", "location", "(", ")", ",", "mouse", "_", "handler", "_", ".", "get", "_", "last", "_", "hex", "(", ")", ")", ")", "<nl>", "return", "true", ";", "<nl>", "}", "mmm", "src", "/", "playsingle", "_", "controller", ".", "cpp", "<nl>", "bool", "play", "_", "controller", ":", ":", "in", "_", "context", "_", "menu", "(", "hotkey", ":", ":", "HOTKEY", "_", "COMMAND", "command", ")", "const", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "RECRUIT", ":", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "REPEAT", "_", "RECRUIT", ":", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "RECALL", ":", "{", "<nl>", "+", "wb", ":", ":", "scoped", "_", "planned", "_", "pathfind", "_", "map", "future", ";", "/", "/", "<", "lasts", "until", "method", "returns", ".", "<nl>", "/", "/", "last", "_", "hex", "_", "is", "set", "by", "mouse", "_", "events", ":", ":", "mouse", "_", "motion", "<nl>", "/", "/", "Enable", "recruit", "/", "recall", "on", "castle", "/", "keep", "tiles", "<nl>", "for", "(", "unit", "_", "map", ":", ":", "const", "_", "iterator", "leader", "=", "units", "_", ".", "begin", "(", ")", ";", "<nl>", "leader", "!", "=", "units", "_", ".", "end", "(", ")", ";", "+", "+", "leader", ")", "{", "<nl>", "if", "(", "leader", "-", ">", "can", "_", "recruit", "(", ")", "&", "&", "<nl>", "-", "leader", "-", ">", "side", "(", ")", "=", "=", "player", "_", "number", "_", "&", "&", "<nl>", "+", "leader", "-", ">", "side", "(", ")", "=", "=", "resources", ":", ":", "screen", "-", ">", "viewing", "_", "side", "(", ")", "&", "&", "<nl>", "can", "_", "recruit", "_", "on", "(", "map", "_", ",", "leader", "-", ">", "get", "_", "location", "(", ")", ",", "mouse", "_", "handler", "_", ".", "get", "_", "last", "_", "hex", "(", ")", ")", ")", "<nl>", "return", "true", ";", "<nl>", "}", "<nl>", "#", "include", "\"", "save", "_", "blocker", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "soundsource", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "storyscreen", "/", "interface", ".", "hpp", "\"", "<nl>", "+", "#", "include", "\"", "whiteboard", "/", "manager", ".", "hpp", "\"", "<nl>", "<nl>", "static", "lg", ":", ":", "log", "_", "domain", "log", "_", "engine", "(", "\"", "engine", "\"", ")", ";", "<nl>", "#", "define", "ERR", "_", "NG", "LOG", "_", "STREAM", "(", "err", ",", "log", "_", "engine", ")", "<nl>", "void", "playsingle", "_", "controller", ":", ":", "init", "_", "gui", "(", ")", "{", "<nl>", "void", "playsingle", "_", "controller", ":", ":", "recruit", "(", ")", "{", "<nl>", "if", "(", "!", "browse", "_", ")", "<nl>", "menu", "_", "handler", "_", ".", "recruit", "(", "player", "_", "number", "_", ",", "mouse", "_", "handler", "_", ".", "get", "_", "last", "_", "hex", "(", ")", ")", ";", "<nl>", "+", "else", "if", "(", "resources", ":", ":", "whiteboard", "-", ">", "is", "_", "active", "(", ")", ")", "<nl>", "+", "menu", "_", "handler", "_", ".", "recruit", "(", "resources", ":", ":", "screen", "-", ">", "viewing", "_", "side", "(", ")", ",", "mouse", "_", "handler", "_", ".", "get", "_", "last", "_", "hex", "(", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "playsingle", "_", "controller", ":", ":", "repeat", "_", "recruit", "(", ")", "{", "<nl>", "if", "(", "!", "browse", "_", ")", "<nl>", "menu", "_", "handler", "_", ".", "repeat", "_", "recruit", "(", "player", "_", "number", "_", ",", "mouse", "_", "handler", "_", ".", "get", "_", "last", "_", "hex", "(", ")", ")", ";", "<nl>", "+", "else", "if", "(", "resources", ":", ":", "whiteboard", "-", ">", "is", "_", "active", "(", ")", ")", "<nl>", "+", "menu", "_", "handler", "_", ".", "repeat", "_", "recruit", "(", "resources", ":", ":", "screen", "-", ">", "viewing", "_", "side", "(", ")", ",", "mouse", "_", "handler", "_", ".", "get", "_", "last", "_", "hex", "(", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "playsingle", "_", "controller", ":", ":", "recall", "(", ")", "{", "<nl>", "if", "(", "!", "browse", "_", ")", "<nl>", "menu", "_", "handler", "_", ".", "recall", "(", "player", "_", "number", "_", ",", "mouse", "_", "handler", "_", ".", "get", "_", "last", "_", "hex", "(", ")", ")", ";", "<nl>", "+", "else", "if", "(", "resources", ":", ":", "whiteboard", "-", ">", "is", "_", "active", "(", ")", ")", "<nl>", "+", "menu", "_", "handler", "_", ".", "recall", "(", "resources", ":", ":", "screen", "-", ">", "viewing", "_", "side", "(", ")", ",", "mouse", "_", "handler", "_", ".", "get", "_", "last", "_", "hex", "(", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "playsingle", "_", "controller", ":", ":", "toggle", "_", "shroud", "_", "updates", "(", ")", "{", "<nl>", "bool", "playsingle", "_", "controller", ":", ":", "can", "_", "execute", "_", "command", "(", "hotkey", ":", ":", "HOTKEY", "_", "COMMAND", "command", ",", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "ADD", "_", "WAYPOINT", ":", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "UNIT", "_", "HOLD", "_", "POSITION", ":", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "END", "_", "UNIT", "_", "TURN", ":", "<nl>", "+", "return", "!", "browse", "_", "&", "&", "!", "linger", "_", "&", "&", "!", "events", ":", ":", "commands", "_", "disabled", ";", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "RECRUIT", ":", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "REPEAT", "_", "RECRUIT", ":", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "RECALL", ":", "<nl>", "-", "return", "!", "browse", "_", "&", "&", "!", "linger", "_", "&", "&", "!", "events", ":", ":", "commands", "_", "disabled", ";", "<nl>", "+", "return", "(", "!", "browse", "_", "|", "|", "resources", ":", ":", "whiteboard", "-", ">", "is", "_", "active", "(", ")", ")", "&", "&", "!", "linger", "_", "&", "&", "!", "events", ":", ":", "commands", "_", "disabled", ";", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "ENDTURN", ":", "<nl>", "return", "(", "!", "browse", "_", "|", "|", "linger", "_", ")", "&", "&", "!", "events", ":", ":", "commands", "_", "disabled", ";", "<nl>"], "docstring_tokens": ["Whiteboard", "allow", "out", "of", "turn", "recruit", "recall", "planning"]}
{"code_tokens": ["bool", "gamemap", ":", ":", "location", ":", ":", "matches", "_", "range", "(", "const", "std", ":", ":", "string", "&", "xloc", ",", "const", "std", ":", ":", "string", "<nl>", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "xlocs", "=", "utils", ":", ":", "split", "(", "xloc", ")", ";", "<nl>", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "ylocs", "=", "utils", ":", ":", "split", "(", "yloc", ")", ";", "<nl>", "<nl>", "-", "int", "size", ";", "<nl>", "+", "size", "_", "t", "size", ";", "<nl>", "for", "(", "size", "=", "xlocs", ".", "size", "(", ")", ";", "size", "<", "ylocs", ".", "size", "(", ")", ";", "+", "+", "size", ")", "{", "<nl>", "xlocs", ".", "push", "_", "back", "(", "\"", "\"", ")", ";", "<nl>", "}", "<nl>", "while", "(", "size", ">", "ylocs", ".", "size", "(", ")", ")", "{", "<nl>", "ylocs", ".", "push", "_", "back", "(", "\"", "\"", ")", ";", "<nl>", "}", "<nl>", "-", "for", "(", "int", "i", "=", "0", ";", "i", "!", "=", "size", ";", "+", "+", "i", ")", "{", "<nl>", "+", "for", "(", "size", "_", "t", "i", "=", "0", ";", "i", "!", "=", "size", ";", "+", "+", "i", ")", "{", "<nl>", "if", "(", "matches", "_", "range", "(", "xlocs", "[", "i", "]", ",", "ylocs", "[", "i", "]", ")", ")", "<nl>", "return", "true", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fixes", "a", "compiler", "warning"]}
{"code_tokens": ["LEVEL", "_", "RESULT", "play", "_", "game", "(", "display", "&", "disp", ",", "game", "_", "state", "&", "gamestate", ",", "const", "config", "&", "game", "_", "<nl>", "gamestate", ".", "set", "_", "variables", "(", "*", "gamestate", ".", "snapshot", ".", "child", "(", "\"", "variables", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "/", "/", "Replace", "game", "label", "with", "that", "from", "snapshot", "<nl>", "-", "if", "(", "!", "state", ".", "snapshot", "[", "\"", "label", "\"", "]", ".", "empty", "(", ")", ")", "{", "<nl>", "-", "state", ".", "label", "=", "state", ".", "snapshot", "[", "\"", "label", "\"", "]", ";", "<nl>", "+", "if", "(", "!", "gamestate", ".", "snapshot", "[", "\"", "label", "\"", "]", ".", "empty", "(", ")", ")", "{", "<nl>", "+", "gamestate", ".", "label", "=", "gamestate", ".", "snapshot", "[", "\"", "label", "\"", "]", ";", "<nl>", "}", "<nl>", "/", "/", "get", "the", "current", "gold", "values", "of", "players", "so", "they", "don", "'", "t", "start", "with", "the", "amount", "<nl>", "/", "/", "they", "had", "at", "the", "start", "of", "the", "scenario", "<nl>"], "docstring_tokens": ["made", "trunk", "compile", "again"]}
{"code_tokens": ["upload", "_", "log", ":", ":", "upload", "_", "log", "(", "bool", "enable", ")", ":", "<nl>", "<nl>", "void", "upload", "_", "log", ":", ":", "read", "_", "replay", "(", ")", "<nl>", "{", "<nl>", "-", "if", "(", "!", "uploader", "_", "settings", ":", ":", "new", "_", "uploader", "|", "|", "!", "enabled", "_", "|", "|", "!", "game", "_", "config", ":", ":", "debug", ")", "{", "<nl>", "+", "if", "(", "!", "uploader", "_", "settings", ":", ":", "new", "_", "uploader", "|", "|", "!", "enabled", "_", "|", "|", "game", "_", "config", ":", ":", "debug", ")", "{", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "void", "upload", "_", "log", ":", ":", "start", "(", "game", "_", "state", "&", "state", ",", "const", "std", ":", ":", "string", "map", "_", "data", ")", "<nl>", "delete", "game", "_", ";", "<nl>", "game", "_", "=", "new", "config", "(", ")", ";", "<nl>", "(", "*", "game", "_", ")", "[", "\"", "time", "\"", "]", "=", "lexical", "_", "cast", "<", "std", ":", ":", "string", ">", "(", "SDL", "_", "GetTicks", "(", ")", "/", "1000", ")", ";", "<nl>", "-", "(", "*", "game", "_", ")", "[", "\"", "campaign", "\"", "]", "=", "state", ".", "classification", "(", ")", ".", "campaign", "_", "define", ";", "<nl>", "+", "(", "*", "game", "_", ")", "[", "\"", "campaign", "\"", "]", "=", "state", ".", "classification", "(", ")", ".", "campaign", "_", "type", ";", "<nl>", "(", "*", "game", "_", ")", "[", "\"", "difficulty", "\"", "]", "=", "state", ".", "classification", "(", ")", ".", "difficulty", ";", "<nl>", "-", "(", "*", "game", "_", ")", "[", "\"", "scenario", "\"", "]", "=", "state", ".", "classification", "(", ")", ".", "scenario", ";", "<nl>", "+", "(", "*", "game", "_", ")", "[", "\"", "scenario", "\"", "]", "=", "state", ".", "classification", "(", ")", ".", "label", ";", "<nl>", "if", "(", "uploader", "_", "settings", ":", ":", "new", "_", "uploader", ")", "{", "<nl>", "/", "/", "replace", "newlines", "in", "map", "definition", "with", "semicolons", "so", "that", "braindead", "server", "-", "side", "wml", "parser", "doesn", "'", "t", "get", "confused", "<nl>", "std", ":", ":", "string", "encoded", "_", "map", "(", "map", "_", "data", ")", ";", "<nl>"], "docstring_tokens": ["Fixed", "the", "variables", "read", "from", "gamestate", "classification"]}
{"code_tokens": ["void", "team", ":", ":", "team", "_", "info", ":", ":", "read", "(", "const", "config", "&", "cfg", ")", "<nl>", "if", "(", "!", "user", "_", "team", "_", "name", ".", "translatable", "(", ")", ")", "<nl>", "user", "_", "team", "_", "name", "=", "t", "_", "string", ":", ":", "from", "_", "serialized", "(", "user", "_", "team", "_", "name", ")", ";", "<nl>", "<nl>", "-", "if", "(", "cfg", ".", "has", "_", "attribute", "(", "\"", "ai", "_", "config", "\"", ")", ")", "{", "<nl>", "-", "ai", ":", ":", "manager", ":", ":", "get", "_", "singleton", "(", ")", ".", "add", "_", "ai", "_", "for", "_", "side", "_", "from", "_", "file", "(", "side", ",", "cfg", "[", "\"", "ai", "_", "config", "\"", "]", ",", "true", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "-", "ai", ":", ":", "manager", ":", ":", "get", "_", "singleton", "(", ")", ".", "add", "_", "ai", "_", "for", "_", "side", "_", "from", "_", "config", "(", "side", ",", "cfg", ",", "true", ")", ";", "<nl>", "+", "display", "*", "disp", "=", "display", ":", ":", "get", "_", "singleton", "(", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "disp", "&", "&", "!", "disp", "-", ">", "in", "_", "editor", "(", ")", ")", "{", "<nl>", "+", "if", "(", "cfg", ".", "has", "_", "attribute", "(", "\"", "ai", "_", "config", "\"", ")", ")", "{", "<nl>", "+", "ai", ":", ":", "manager", ":", ":", "get", "_", "singleton", "(", ")", ".", "add", "_", "ai", "_", "for", "_", "side", "_", "from", "_", "file", "(", "side", ",", "cfg", "[", "\"", "ai", "_", "config", "\"", "]", ",", "true", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "ai", ":", ":", "manager", ":", ":", "get", "_", "singleton", "(", ")", ".", "add", "_", "ai", "_", "for", "_", "side", "_", "from", "_", "config", "(", "side", ",", "cfg", ",", "true", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "recruits", "=", "utils", ":", ":", "split", "(", "cfg", "[", "\"", "recruit", "\"", "]", ")", ";", "<nl>"], "docstring_tokens": ["Fixup", "c8b0833", "crash", "when", "creating", "scenario", "in", "Editor"]}
{"code_tokens": ["namespace", "<nl>", "char", "*", "endptr", ";", "<nl>", "int", "res", "=", "strtol", "(", "index", "_", "str", ",", "&", "endptr", ",", "10", ")", ";", "<nl>", "<nl>", "-", "if", "(", "*", "endptr", "!", "=", "'", "]", "'", "|", "|", "res", ">", "int", "(", "game", "_", "config", ":", ":", "max", "_", "loop", ")", ")", "<nl>", "+", "if", "(", "*", "endptr", "!", "=", "'", "]", "'", "|", "|", "res", ">", "int", "(", "game", "_", "config", ":", ":", "max", "_", "loop", ")", "|", "|", "endptr", "=", "=", "index", "_", "str", ")", "<nl>", "{", "<nl>", "throw", "invalid", "_", "variablename", "_", "exception", "(", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["dont", "allow", "empty", "indexes", "in", "wml", "variables"]}
{"code_tokens": ["bool", "editor", "_", "controller", ":", ":", "execute", "_", "command", "(", "hotkey", ":", ":", "HOTKEY", "_", "COMMAND", "command", ",", "int", "inde", "<nl>", "gui", "_", "-", ">", "init", "_", "flags", "(", ")", ";", "<nl>", "return", "true", ";", "<nl>", "<nl>", "+", "/", "/", "Transitions", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "PARTIAL", "_", "UPDATE", "_", "TRANSITIONS", ":", "<nl>", "+", "context", "_", "manager", "_", "-", ">", "set", "_", "update", "_", "trasitions", "_", "mode", "(", "2", ")", ";", "<nl>", "+", "return", "true", ";", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "AUTO", "_", "UPDATE", "_", "TRANSITIONS", ":", "<nl>", "+", "context", "_", "manager", "_", "-", ">", "set", "_", "update", "_", "trasitions", "_", "mode", "(", "1", ")", ";", "<nl>", "+", "return", "true", ";", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "NO", "_", "UPDATE", "_", "TRANSITIONS", ":", "<nl>", "+", "context", "_", "manager", "_", "-", ">", "set", "_", "update", "_", "trasitions", "_", "mode", "(", "0", ")", ";", "<nl>", "+", "return", "true", ";", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "TOGGLE", "_", "TRANSITIONS", ":", "<nl>", "if", "(", "context", "_", "manager", "_", "-", ">", "toggle", "_", "update", "_", "transitions", "(", ")", ")", "<nl>", "return", "true", ";", "<nl>", "/", "/", "else", "intentionally", "fall", "through", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "UPDATE", "_", "TRANSITIONS", ":", "<nl>", "context", "_", "manager", "_", "-", ">", "refresh", "_", "all", "(", ")", ";", "<nl>", "return", "true", ";", "<nl>", "+", "/", "/", "Refresh", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "REFRESH", ":", "<nl>", "context", "_", "manager", "_", "-", ">", "reload", "_", "map", "(", ")", ";", "<nl>", "return", "true", ";", "<nl>"], "docstring_tokens": ["Fix", "the", "update", "transition", "menu", "entries"]}
{"code_tokens": ["int", "battle", "_", "context", ":", ":", "choose", "_", "defender", "_", "weapon", "(", "const", "unit", "&", "attacker", ",", "const", "unit", "&", "def", "<nl>", "choices", ".", "push", "_", "back", "(", "i", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "-", "if", "(", "choices", ".", "size", "(", ")", "=", "=", "0", ")", "<nl>", "+", "if", "(", "choices", ".", "empty", "(", ")", ")", "<nl>", "return", "-", "1", ";", "<nl>", "if", "(", "choices", ".", "size", "(", ")", "=", "=", "1", ")", "<nl>", "return", "choices", "[", "0", "]", ";", "<nl>", "int", "battle", "_", "context", ":", ":", "choose", "_", "attacker", "_", "weapon", "(", "const", "unit", "&", "attacker", ",", "const", "unit", "&", "def", "<nl>", "choices", ".", "push", "_", "back", "(", "i", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "-", "if", "(", "choices", ".", "size", "(", ")", "=", "=", "0", ")", "<nl>", "+", "if", "(", "choices", ".", "empty", "(", ")", ")", "<nl>", "return", "-", "1", ";", "<nl>", "if", "(", "choices", ".", "size", "(", ")", "=", "=", "1", ")", "{", "<nl>", "*", "defender", "_", "weapon", "=", "choose", "_", "defender", "_", "weapon", "(", "attacker", ",", "defender", ",", "choices", "[", "0", "]", ",", "units", ",", "<nl>", "void", "calculate", "_", "healing", "(", "int", "side", ",", "bool", "update", "_", "display", ")", "<nl>", "healers", ".", "push", "_", "back", "(", "units", ".", "find", "(", "heal", "_", "loc", "-", ">", "loc", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "healers", ".", "size", "(", ")", ">", "0", ")", "{", "<nl>", "+", "if", "(", "!", "healers", ".", "empty", "(", ")", ")", "{", "<nl>", "DBG", "_", "NG", "<", "<", "\"", "Unit", "has", "\"", "<", "<", "healers", ".", "size", "(", ")", "<", "<", "\"", "potential", "healers", "\\", "n", "\"", ";", "<nl>", "}", "<nl>", "<nl>", "void", "calculate", "_", "healing", "(", "int", "side", ",", "bool", "update", "_", "display", ")", "<nl>", "healing", "=", "neg", "_", "max", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "healers", ".", "size", "(", ")", ">", "0", ")", "{", "<nl>", "+", "if", "(", "!", "healers", ".", "empty", "(", ")", ")", "{", "<nl>", "DBG", "_", "NG", "<", "<", "\"", "Just", "before", "healing", "animations", ",", "unit", "has", "\"", "<", "<", "healers", ".", "size", "(", ")", "<", "<", "\"", "potential", "healers", "\\", "n", "\"", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Use", "empty", "instead", "of", "comparing", "size", "with", "0"]}
{"code_tokens": ["void", "console", "_", "handler", ":", ":", "do", "_", "layers", "(", ")", "<nl>", "const", "mouse", "_", "handler", "&", "mousehandler", "=", "menu", "_", "handler", "_", ".", "pc", "_", ".", "get", "_", "mouse", "_", "handler", "_", "base", "(", ")", ";", "<nl>", "const", "map", "_", "location", "&", "loc", "=", "mousehandler", ".", "get", "_", "last", "_", "hex", "(", ")", ";", "<nl>", "<nl>", "-", "gui2", ":", ":", "dialogs", ":", ":", "terrain", "_", "layers", ":", ":", "display", "(", "disp", ",", "loc", ",", "disp", ".", "video", "(", ")", ")", ";", "<nl>", "+", "/", "/", "<nl>", "+", "/", "/", "It", "'", "s", "possible", "to", "invoke", "this", "dialog", "even", "if", "loc", "isn", "'", "t", "a", "valid", "hex", ".", "I", "'", "m", "not", "sure", "<nl>", "+", "/", "/", "exactly", "how", "that", "happens", ",", "but", "it", "does", "seem", "to", "occur", "when", "moving", "the", "mouse", "outside", "<nl>", "+", "/", "/", "the", "window", "to", "the", "menu", "bar", ".", "Not", "sure", "if", "there", "'", "s", "a", "bug", "when", "the", "set", "-", "last", "-", "hex", "code", "<nl>", "+", "/", "/", "in", "that", "case", ",", "but", "this", "check", "at", "least", "ensures", "the", "dialog", "is", "only", "ever", "shown", "for", "a", "<nl>", "+", "/", "/", "valid", ",", "on", "-", "map", "location", ".", "Otherwise", ",", "an", "assertion", "gets", "thrown", ".", "<nl>", "+", "/", "/", "<nl>", "+", "/", "/", "-", "-", "vultraz", ",", "2017", "-", "09", "-", "21", "<nl>", "+", "/", "/", "<nl>", "+", "if", "(", "disp", ".", "get", "_", "map", "(", ")", ".", "on", "_", "board", "_", "with", "_", "border", "(", "loc", ")", ")", "{", "<nl>", "+", "gui2", ":", ":", "dialogs", ":", ":", "terrain", "_", "layers", ":", ":", "display", "(", "disp", ",", "loc", ",", "disp", ".", "video", "(", ")", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "void", "console", "_", "handler", ":", ":", "do", "_", "fps", "(", ")", "<nl>"], "docstring_tokens": ["Fix", "corner", "case", "where", "Terrain", "Layers", "dialog", "could", "assert", "fixes", "2026"]}
{"code_tokens": ["LEVEL", "_", "RESULT", "play", "_", "game", "(", "game", "_", "display", "&", "disp", ",", "saved", "_", "game", "&", "gamestate", ",", "<nl>", "if", "(", "is", "_", "unit", "_", "test", ")", "{", "<nl>", "return", "res", ";", "<nl>", "}", "<nl>", "+", "/", "/", "in", "this", "case", "we", "might", "have", "skipped", "state", ".", "set", "_", "snapshot", "which", "means", "wew", "cannot", "do", "gamestate", ".", "convert", "_", "to", "_", "start", "_", "save", "(", ")", ";", "<nl>", "+", "if", "(", "res", "=", "=", "QUIT", ")", "<nl>", "+", "{", "<nl>", "+", "return", "res", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "/", "Save", "-", "management", "options", "fire", "on", "game", "end", ".", "<nl>", "/", "/", "This", "means", ":", "(", "a", ")", "we", "have", "a", "victory", ",", "or", "<nl>", "LEVEL", "_", "RESULT", "play", "_", "game", "(", "game", "_", "display", "&", "disp", ",", "saved", "_", "game", "&", "gamestate", ",", "<nl>", "/", "/", "On", "DEFEAT", ",", "QUIT", ",", "or", "OBSERVER", "_", "END", ",", "we", "'", "re", "done", "now", "<nl>", "<nl>", "/", "/", "If", "there", "is", "no", "next", "scenario", "we", "'", "re", "done", "now", ".", "<nl>", "-", "if", "(", "res", "=", "=", "QUIT", "|", "|", "!", "end", "_", "level", ".", "proceed", "_", "to", "_", "next", "_", "level", "|", "|", "gamestate", ".", "carryover", "_", "sides", "_", "start", "[", "\"", "next", "_", "scenario", "\"", "]", ".", "empty", "(", ")", ")", "<nl>", "+", "if", "(", "!", "end", "_", "level", ".", "proceed", "_", "to", "_", "next", "_", "level", "|", "|", "gamestate", ".", "carryover", "_", "sides", "_", "start", "[", "\"", "next", "_", "scenario", "\"", "]", ".", "empty", "(", ")", ")", "<nl>", "{", "<nl>", "return", "res", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fix", "quit", "game", "durign", "linger", "mode"]}
{"code_tokens": ["bool", "animate", "_", "unit", "_", "advancement", "(", "unit", "_", "map", "&", "units", ",", "map", "_", "location", "loc", ",", "game", "_", "display", "&", "g", "<nl>", ":", ":", "advance", "_", "unit", "(", "units", ",", "loc", ",", "chosen", "_", "unit", ")", ";", "<nl>", "}", "else", "{", "<nl>", "unit", "amla", "_", "unit", "(", "u", "-", ">", "second", ")", ";", "<nl>", "+", "config", "mod", "_", "option", "(", "*", "mod", "_", "options", "[", "choice", "-", "options", ".", "size", "(", ")", "]", ")", ";", "<nl>", "<nl>", "LOG", "_", "NG", "<", "<", "\"", "firing", "advance", "event", "(", "AMLA", ")", "\\", "n", "\"", ";", "<nl>", "game", "_", "events", ":", ":", "fire", "(", "\"", "advance", "\"", ",", "loc", ")", ";", "<nl>", "<nl>", "amla", "_", "unit", ".", "get", "_", "experience", "(", "-", "amla", "_", "unit", ".", "max", "_", "experience", "(", ")", ")", ";", "/", "/", "subtract", "xp", "required", "<nl>", "-", "amla", "_", "unit", ".", "add", "_", "modification", "(", "\"", "advance", "\"", ",", "*", "mod", "_", "options", "[", "choice", "-", "options", ".", "size", "(", ")", "]", ")", ";", "<nl>", "+", "amla", "_", "unit", ".", "add", "_", "modification", "(", "\"", "advance", "\"", ",", "mod", "_", "option", ")", ";", "<nl>", "units", ".", "replace", "(", "new", "std", ":", ":", "pair", "<", "map", "_", "location", ",", "unit", ">", "(", "loc", ",", "amla", "_", "unit", ")", ")", ";", "<nl>", "<nl>", "LOG", "_", "NG", "<", "<", "\"", "firing", "post", "_", "advance", "event", "(", "AMLA", ")", "\\", "n", "\"", ";", "<nl>"], "docstring_tokens": ["possible", "fix", "for", "bug", "12911"]}
{"code_tokens": ["config", "connect", ":", ":", "side", ":", ":", "get", "_", "config", "(", ")", "const", "<nl>", "break", ";", "<nl>", "case", "CNTR", "_", "EMPTY", ":", "<nl>", "description", "=", "N", "_", "(", "\"", "(", "Empty", "slot", ")", "\"", ")", ";", "<nl>", "+", "res", "[", "\"", "no", "_", "leader", "\"", "]", "=", "\"", "yes", "\"", ";", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "wassert", "(", "false", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "bug", "4464"]}
{"code_tokens": ["void", "manager", ":", ":", "init", "_", "info", "(", "const", "config", "&", "cfg", ",", "const", "std", ":", ":", "string", "&", "key", ")", "<nl>", "entry", "[", "\"", "id", "\"", "]", "=", "comp", "[", "\"", "id", "\"", "]", ";", "<nl>", "entry", "[", "\"", "name", "\"", "]", "=", "comp", "[", "\"", "name", "\"", "]", ";", "<nl>", "<nl>", "-", "if", "(", "comp", ".", "has", "_", "child", "(", "\"", "options", "\"", ")", "&", "&", "(", "comp", "[", "\"", "allow", "_", "new", "_", "game", "\"", "]", ".", "to", "_", "bool", "(", "true", ")", ")", "{", "<nl>", "+", "if", "(", "comp", ".", "has", "_", "child", "(", "\"", "options", "\"", ")", "&", "&", "comp", "[", "\"", "allow", "_", "new", "_", "game", "\"", "]", ".", "to", "_", "bool", "(", "true", ")", ")", "{", "<nl>", "const", "config", "&", "options", "=", "comp", ".", "child", "(", "\"", "options", "\"", ")", ";", "<nl>", "<nl>", "BOOST", "_", "FOREACH", "(", "const", "config", ":", ":", "any", "_", "child", "&", "c", ",", "<nl>"], "docstring_tokens": ["Fix", "a", "bracket"]}
{"code_tokens": ["bool", "playmp", "_", "controller", ":", ":", "can", "_", "execute", "_", "command", "(", "const", "hotkey", ":", ":", "hotkey", "_", "command", "&", "cmd", ",", "i", "<nl>", "switch", "(", "command", ")", "{", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "ENDTURN", ":", "<nl>", "if", "(", "linger", "_", ")", "<nl>", "-", "{", "<nl>", "-", "return", "is", "_", "host", "_", ";", "<nl>", "+", "{", "<nl>", "+", "bool", "has", "_", "next", "_", "scenario", "=", "!", "resources", ":", ":", "gamedata", "-", ">", "next", "_", "scenario", "(", ")", ".", "empty", "(", ")", "&", "&", "<nl>", "+", "resources", ":", ":", "gamedata", "-", ">", "next", "_", "scenario", "(", ")", "!", "=", "\"", "null", "\"", ";", "<nl>", "+", "return", "is", "_", "host", "_", "|", "|", "!", "has", "_", "next", "_", "scenario", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "mmm", "src", "/", "play", "_", "controller", ".", "cpp", "<nl>", "bool", "playmp", "_", "controller", ":", ":", "can", "_", "execute", "_", "command", "(", "const", "hotkey", ":", ":", "hotkey", "_", "command", "&", "cmd", ",", "i", "<nl>", "switch", "(", "command", ")", "{", "<nl>", "case", "hotkey", ":", ":", "HOTKEY", "_", "ENDTURN", ":", "<nl>", "if", "(", "linger", "_", ")", "<nl>", "-", "{", "<nl>", "-", "return", "is", "_", "host", "_", ";", "<nl>", "+", "{", "<nl>", "+", "bool", "has", "_", "next", "_", "scenario", "=", "!", "resources", ":", ":", "gamedata", "-", ">", "next", "_", "scenario", "(", ")", ".", "empty", "(", ")", "&", "&", "<nl>", "+", "resources", ":", ":", "gamedata", "-", ">", "next", "_", "scenario", "(", ")", "!", "=", "\"", "null", "\"", ";", "<nl>", "+", "return", "is", "_", "host", "_", "|", "|", "!", "has", "_", "next", "_", "scenario", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "void", "play", "_", "controller", ":", ":", "set", "_", "defeat", "_", "music", "_", "list", "(", "const", "std", ":", ":", "string", "&", "list", ")", "<nl>", "<nl>", "void", "play", "_", "controller", ":", ":", "check", "_", "victory", "(", ")", "<nl>", "{", "<nl>", "+", "if", "(", "linger", "_", ")", "<nl>", "+", "{", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "std", ":", ":", "set", "<", "unsigned", ">", "not", "_", "defeated", ";", "<nl>", "for", "(", "unit", "_", "map", ":", ":", "const", "_", "iterator", "i", "=", "units", "_", ".", "begin", "(", ")", ",", "<nl>", "i", "_", "end", "=", "units", "_", ".", "end", "(", ")", ";", "i", "!", "=", "i", "_", "end", ";", "+", "+", "i", ")", "<nl>"], "docstring_tokens": ["fix", "linger", "mode", "in", "mp", "21985"]}
{"code_tokens": ["class", "variable", "_", "set", ";", "<nl>", "<nl>", "namespace", "utils", "{", "<nl>", "<nl>", "+", "/", "*", "*", "<nl>", "+", "*", "Determines", "if", "a", "string", "might", "contain", "variables", "to", "interpolate", ".", "<nl>", "+", "*", "This", "can", "allow", "one", "to", "skip", "future", "interpolations", "(", "plural", "-", "-", "if", "there", "is", "only", "<nl>", "+", "*", "one", "interpolation", ",", "the", "savings", "are", "not", "worth", "this", "check", ")", ".", "In", "this", "spirit", ",", "<nl>", "+", "*", "precision", "is", "sacrificed", "in", "the", "name", "of", "efficiency", ";", "the", "check", "is", "quick", "and", "<nl>", "+", "*", "allows", "false", "positives", ",", "but", "there", "are", "no", "false", "negatives", ".", "(", "A", "false", "negative", "<nl>", "+", "*", "would", "lead", "to", "incorrect", "behavior", ",", "whereas", "a", "false", "positive", "leads", "to", "merely", "<nl>", "+", "*", "inefficient", "behavior", ".", ")", "In", "practice", ",", "false", "positives", "should", "be", "uncommon", "enough", "<nl>", "+", "*", "to", "not", "worry", "about", ".", "<nl>", "+", "*", "/", "<nl>", "+", "inline", "bool", "might", "_", "contain", "_", "variables", "(", "const", "std", ":", ":", "string", "&", "str", ")", "<nl>", "+", "{", "return", "str", ".", "find", "(", "'", "$", "'", ")", "!", "=", "std", ":", ":", "string", ":", ":", "npos", ";", "}", "<nl>", "+", "<nl>", "/", "*", "*", "<nl>", "*", "Function", "which", "will", "interpolate", "variables", ",", "starting", "with", "'", "$", "'", "in", "the", "string", "<nl>", "*", "'", "str", "'", "with", "the", "equivalent", "symbols", "in", "the", "given", "symbol", "table", ".", "If", "'", "symbols", "'", "<nl>"], "docstring_tokens": ["Add", "the", "function", "utils", "might_contain_variables"]}
{"code_tokens": ["WML", "_", "HANDLER", "_", "FUNCTION", "(", "replace", "_", "schedule", ",", "/", "*", "event", "_", "info", "*", "/", ",", "cfg", ")", "<nl>", "ERR", "_", "NG", "<", "<", "\"", "attempted", "to", "to", "replace", "ToD", "schedule", "with", "empty", "schedule", "\\", "n", "\"", ";", "<nl>", "}", "else", "{", "<nl>", "resources", ":", ":", "tod", "_", "manager", "-", ">", "replace", "_", "schedule", "(", "cfg", ".", "get", "_", "parsed", "_", "config", "(", ")", ")", ";", "<nl>", "+", "resources", ":", ":", "screen", "-", ">", "new", "_", "turn", "(", ")", ";", "<nl>", "LOG", "_", "NG", "<", "<", "\"", "replaced", "ToD", "schedule", "\\", "n", "\"", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Update", "the", "GUI", "when", "using", "replace_schedule"]}
{"code_tokens": ["void", "unit", "_", "type", "_", "data", ":", ":", "set", "_", "config", "(", "config", "&", "cfg", ")", "<nl>", "base", "_", "tree", ".", "push", "_", "back", "(", "id", ")", ";", "<nl>", "while", "(", "const", "config", "&", "bu", "=", "ut", ".", "child", "(", "\"", "base", "_", "unit", "\"", ")", ")", "<nl>", "{", "<nl>", "-", "if", "(", "std", ":", ":", "find", "(", "base", "_", "tree", ".", "begin", "(", ")", ",", "base", "_", "tree", ".", "end", "(", ")", ",", "bu", "[", "\"", "id", "\"", "]", ")", "!", "=", "base", "_", "tree", ".", "end", "(", ")", ")", "{", "<nl>", "+", "if", "(", "std", ":", ":", "find", "(", "base", "_", "tree", ".", "begin", "(", ")", ",", "base", "_", "tree", ".", "end", "(", ")", ",", "bu", "[", "\"", "id", "\"", "]", ".", "str", "(", ")", ")", "!", "=", "base", "_", "tree", ".", "end", "(", ")", ")", "{", "<nl>", "/", "/", "If", "you", "want", "to", "allow", "diamond", "-", "style", "inheritance", ",", "replace", "the", "config", ":", ":", "error", "throw", "with", "a", "continue", "<nl>", "<nl>", "std", ":", ":", "stringstream", "ss", ";", "<nl>"], "docstring_tokens": ["avoid", "an", "MSVC9", "compiler", "error"]}
{"code_tokens": ["bool", "persist", "_", "file", "_", "context", ":", ":", "clear", "_", "var", "(", "const", "std", ":", ":", "string", "&", "global", ",", "bool", "immediate", ")", "<nl>", "while", "(", "(", "active", "-", ">", "empty", "(", ")", ")", "&", "&", "(", "!", "namespace", "_", ".", "lineage", "_", ".", "empty", "(", ")", ")", ")", "{", "<nl>", "name", "_", "space", "prev", "=", "namespace", "_", ".", "prev", "(", ")", ";", "<nl>", "active", "=", "get", "_", "node", "(", "cfg", "_", ",", "prev", ")", ";", "<nl>", "+", "/", "/", "/", "@", "todo", ":", "This", "assertion", "replaces", "a", "seg", "fault", ".", "Still", "need", "to", "fix", "the", "<nl>", "+", "/", "/", "/", "real", "bug", "(", "documented", "as", "bug", "#", "21093", ")", ".", "<nl>", "+", "assert", "(", "active", "!", "=", "NULL", ")", ";", "<nl>", "active", "-", ">", "clear", "_", "children", "(", "namespace", "_", ".", "node", "_", ")", ";", "<nl>", "if", "(", "active", "-", ">", "has", "_", "child", "(", "\"", "variables", "\"", ")", "&", "&", "active", "-", ">", "child", "(", "\"", "variables", "\"", ")", ".", "empty", "(", ")", ")", "{", "<nl>", "active", "-", ">", "clear", "_", "children", "(", "\"", "variables", "\"", ")", ";", "<nl>"], "docstring_tokens": ["And", "an", "assert", "to", "head", "off", "a", "seg", "fault", "See", "bug", "21093"]}
{"code_tokens": ["void", "undo", "_", "list", ":", ":", "add", "_", "auto", "_", "shroud", "(", "bool", "turned", "_", "on", ")", "<nl>", "/", "/", "/", "@", "todo", ":", "Consecutive", "shroud", "actions", "can", "be", "collapsed", "into", "one", ".", "<nl>", "<nl>", "/", "/", "Do", "not", "call", "add", "(", ")", ",", "as", "this", "should", "not", "clear", "the", "redo", "stack", ".", "<nl>", "-", "undos", "_", ".", "push", "_", "back", "(", "new", "undo", ":", ":", "auto", "_", "shroud", "_", "action", "(", "turned", "_", "on", ")", ")", ";", "<nl>", "+", "add", "(", "new", "undo", ":", ":", "auto", "_", "shroud", "_", "action", "(", "turned", "_", "on", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>", "void", "undo", "_", "list", ":", ":", "add", "_", "update", "_", "shroud", "(", ")", "<nl>", "{", "<nl>", "/", "/", "/", "@", "todo", ":", "Consecutive", "shroud", "actions", "can", "be", "collapsed", "into", "one", ".", "<nl>", "<nl>", "-", "/", "/", "Do", "not", "call", "add", "(", ")", ",", "as", "this", "should", "not", "clear", "the", "redo", "stack", ".", "<nl>", "-", "undos", "_", ".", "push", "_", "back", "(", "new", "undo", ":", ":", "update", "_", "shroud", "_", "action", "(", ")", ")", ";", "<nl>", "+", "add", "(", "new", "undo", ":", ":", "update", "_", "shroud", "_", "action", "(", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["clear", "the", "redo", "stack", "when", "toggeling", "shroud", "updates"]}
{"code_tokens": ["void", "masked", "_", "overwrite", "_", "surface", "(", "surface", "dest", ",", "surface", "src", ",", "surface", "mask", ",", "int", "x", ",", "in", "<nl>", "small", "_", "shift", "_", "before", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "x", "+", "src", "_", "width", "<", "=", "dest", "-", ">", "w", ")", "{", "<nl>", "+", "if", "(", "x", "+", "src", "_", "width", "<", "=", "unsigned", "(", "dest", "-", ">", "w", ")", ")", "{", "<nl>", "small", "_", "shift", "_", "after", "=", "0", ";", "<nl>", "}", "else", "{", "<nl>", "small", "_", "shift", "_", "after", "=", "src", "_", "width", "-", "(", "dest", "-", ">", "w", "-", "x", ")", ";", "<nl>", "void", "masked", "_", "overwrite", "_", "surface", "(", "surface", "dest", ",", "surface", "src", ",", "surface", "mask", ",", "int", "x", ",", "in", "<nl>", "y", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "y", "+", "src", "_", "height", ">", "dest", "-", ">", "h", ")", "{", "<nl>", "+", "if", "(", "y", "+", "src", "_", "height", ">", "unsigned", "(", "dest", "-", ">", "h", ")", ")", "{", "<nl>", "src", "_", "height", "=", "dest", "-", ">", "h", "-", "y", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Paciy", "the", "compiler", "about", "signedness", "yet", "again"]}
{"code_tokens": ["void", "game", "_", "controller", ":", ":", "start", "_", "wesnothd", "(", ")", "<nl>", "<nl>", "std", ":", ":", "string", "config", "=", "\"", "data", "/", "lan", "_", "server", ".", "cfg", "\"", ";", "<nl>", "#", "ifndef", "_", "WIN32", "<nl>", "-", "config", "=", "game", "_", "config", ":", ":", "wesnothd", "_", "name", "+", "\"", "-", "c", "\"", "+", "config", "+", "\"", "-", "d", "-", "t", "2", "-", "T", "5", "\"", ";", "<nl>", "+", "config", "=", "\"", "\\", "\"", "\"", "+", "game", "_", "config", ":", ":", "wesnothd", "_", "name", "+", "\"", "\\", "\"", "-", "c", "\"", "+", "config", "+", "\"", "-", "d", "-", "t", "2", "-", "T", "5", "\"", ";", "<nl>", "LOG", "_", "GENERAL", "<", "<", "\"", "Starting", "wesnothd", ":", "\"", "<", "<", "config", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "if", "(", "std", ":", ":", "system", "(", "config", ".", "c", "_", "str", "(", ")", ")", "!", "=", "0", ")", "<nl>", "#", "else", "<nl>", "LOG", "_", "GENERAL", "<", "<", "\"", "Starting", "wesnothd", "\\", "n", "\"", ";", "<nl>", "/", "/", "Wesnothd", "_", "start", ".", "bat", "has", "to", "be", "included", "in", "windows", "as", "windows", "don", "'", "t", "know", "how", "to", "start", "<nl>", "/", "/", "background", "job", "<nl>", "-", "if", "(", "std", ":", ":", "system", "(", "(", "\"", "cmd", "/", "C", "start", "/", "B", "\"", "+", "game", "_", "config", ":", ":", "wesnothd", "_", "name", "+", "\"", "-", "c", "\"", "+", "config", "+", "\"", "-", "t", "2", "-", "T", "5", "\"", ")", ".", "c", "_", "str", "(", ")", ")", "!", "=", "0", ")", "<nl>", "+", "if", "(", "std", ":", ":", "system", "(", "(", "\"", "cmd", "/", "C", "start", "/", "B", "\\", "\"", "\"", "+", "game", "_", "config", ":", ":", "wesnothd", "_", "name", "+", "\"", "\\", "\"", "-", "c", "\"", "+", "config", "+", "\"", "-", "t", "2", "-", "T", "5", "\"", ")", ".", "c", "_", "str", "(", ")", ")", "!", "=", "0", ")", "<nl>", "#", "endif", "<nl>", "{", "<nl>", "LOG", "_", "GENERAL", "<", "<", "\"", "Failed", "to", "run", "server", "start", "script", "\\", "n", "\"", ";", "<nl>"], "docstring_tokens": ["Allow", "spaces", "in", "wesnothd", "path", "for", "Host", "Network", "Game"]}
{"code_tokens": ["void", "ttext", ":", ":", "recalculate", "(", "const", "bool", "force", ")", "const", "<nl>", "<", "<", "\"", "result", "\"", "<", "<", "rect", "_", "<nl>", "<", "<", "\"", ".", "\\", "n", "\"", ";", "<nl>", "<nl>", "-", "if", "(", "rect", "_", ".", "width", ">", "maximum", "_", "width", "_", ")", "{", "<nl>", "+", "if", "(", "maximum", "_", "width", "_", "!", "=", "-", "1", "&", "&", "rect", "_", ".", "width", ">", "maximum", "_", "width", "_", ")", "{", "<nl>", "ERR", "_", "GUI", "_", "L", "<", "<", "\"", "ttext", ":", ":", "\"", "<", "<", "_", "_", "func", "_", "_", "<nl>", "<", "<", "\"", "text", "'", "\"", "<", "<", "gui2", ":", ":", "debug", "_", "truncate", "(", "text", "_", ")", "<nl>", "<", "<", "\"", "'", "width", "\"", "<", "<", "rect", "_", ".", "width", "<nl>"], "docstring_tokens": ["Properly", "test", "whether", "maximum_width_", "is", "set"]}
{"code_tokens": ["void", "unit", ":", ":", "refresh", "_", "unit", "(", "display", "&", "disp", ",", "gamemap", ":", ":", "location", "hex", ",", "bool", "with", "_", "status", ")", "<nl>", "<nl>", "if", "(", "!", "anim", "_", ")", "set", "_", "standing", "(", "disp", ")", ";", "<nl>", "const", "gamemap", ":", ":", "TERRAIN", "terrain", "=", "map", ".", "get", "_", "terrain", "(", "hex", ")", ";", "<nl>", "-", "const", "double", "submerge", "=", "is", "_", "flying", "(", ")", "?", "0", ".", "0", ":", "map", ".", "get", "_", "terrain", "_", "info", "(", "terrain", ")", ".", "unit", "_", "submerge", "(", ")", ";", "<nl>", "+", "const", "double", "submerge", "=", "is", "_", "flying", "(", ")", "?", "0", ".", "0", ":", "map", ".", "get", "_", "terrain", "_", "info", "(", "terrain", ")", ".", "unit", "_", "submerge", "(", ")", "*", "disp", ".", "zoom", "(", ")", ";", "<nl>", "const", "int", "height", "_", "adjust", "=", "is", "_", "flying", "(", ")", "?", "0", ":", "int", "(", "map", ".", "get", "_", "terrain", "_", "info", "(", "terrain", ")", ".", "unit", "_", "height", "_", "adjust", "(", ")", "*", "disp", ".", "zoom", "(", ")", ")", ";", "<nl>", "<nl>", "std", ":", ":", "string", "image", "_", "name", ";", "<nl>", "void", "unit", ":", ":", "refresh", "_", "unit", "(", "display", "&", "disp", ",", "gamemap", ":", ":", "location", "hex", ",", "bool", "with", "_", "status", ")", "<nl>", "<nl>", "if", "(", "facing", "_", "=", "=", "gamemap", ":", ":", "location", ":", ":", "NORTH", "_", "WEST", "|", "|", "facing", "_", "=", "=", "gamemap", ":", ":", "location", ":", ":", "SOUTH", "_", "WEST", ")", "{", "<nl>", "const", "int", "d", "=", "disp", ".", "hex", "_", "size", "(", ")", "/", "2", ";", "<nl>", "-", "unit", "_", "anim", "_", "halo", "_", "=", "halo", ":", ":", "add", "(", "x", "+", "d", "-", "current", "_", "frame", ".", "halo", "_", "x", ",", "<nl>", "-", "y", "+", "d", "+", "current", "_", "frame", ".", "halo", "_", "y", ",", "<nl>", "+", "unit", "_", "anim", "_", "halo", "_", "=", "halo", ":", ":", "add", "(", "x", "+", "d", "-", "(", "current", "_", "frame", ".", "halo", "_", "x", "*", "disp", ".", "zoom", "(", ")", ")", ",", "<nl>", "+", "y", "+", "d", "+", "(", "current", "_", "frame", ".", "halo", "_", "y", "*", "disp", ".", "zoom", "(", ")", ")", ",", "<nl>", "current", "_", "frame", ".", "halo", "[", "sub", "_", "halo", "]", ".", "first", ")", ";", "<nl>", "}", "else", "{", "<nl>", "const", "int", "d", "=", "disp", ".", "hex", "_", "size", "(", ")", "/", "2", ";", "<nl>", "-", "unit", "_", "anim", "_", "halo", "_", "=", "halo", ":", ":", "add", "(", "x", "+", "d", "+", "current", "_", "frame", ".", "halo", "_", "x", ",", "<nl>", "-", "y", "+", "d", "+", "current", "_", "frame", ".", "halo", "_", "y", ",", "<nl>", "+", "unit", "_", "anim", "_", "halo", "_", "=", "halo", ":", ":", "add", "(", "x", "+", "d", "+", "(", "current", "_", "frame", ".", "halo", "_", "x", "*", "disp", ".", "zoom", "(", ")", ")", ",", "<nl>", "+", "y", "+", "d", "+", "(", "current", "_", "frame", ".", "halo", "_", "y", "*", "disp", ".", "zoom", "(", ")", ")", ",", "<nl>", "current", "_", "frame", ".", "halo", "[", "sub", "_", "halo", "]", ".", "first", ",", "<nl>", "halo", ":", ":", "REVERSE", ")", ";", "<nl>", "}", "<nl>", "void", "unit", ":", ":", "refresh", "_", "unit", "(", "display", "&", "disp", ",", "gamemap", ":", ":", "location", "hex", ",", "bool", "with", "_", "status", ")", "<nl>", "}", "else", "{", "<nl>", "loc", "=", "image", ":", ":", "locator", "(", "image", "_", "name", ")", ";", "<nl>", "}", "<nl>", "-", "surface", "image", "(", "image", ":", ":", "get", "_", "image", "(", "loc", ",", "get", "_", "state", "(", "\"", "stoned", "\"", ")", "=", "=", "\"", "yes", "\"", "?", "image", ":", ":", "GREYED", ":", "image", ":", ":", "UNSCALED", ")", ")", ";", "<nl>", "+", "surface", "image", "(", "image", ":", ":", "get", "_", "image", "(", "loc", ",", "get", "_", "state", "(", "\"", "stoned", "\"", ")", "=", "=", "\"", "yes", "\"", "?", "image", ":", ":", "GREYED", ":", "image", ":", ":", "SCALED", ")", ")", ";", "<nl>", "if", "(", "image", "=", "=", "NULL", ")", "{", "<nl>", "image", "=", "still", "_", "image", "(", ")", ";", "<nl>", "}", "<nl>", "void", "unit", ":", ":", "refresh", "_", "unit", "(", "display", "&", "disp", ",", "gamemap", ":", ":", "location", "hex", ",", "bool", "with", "_", "status", ")", "<nl>", "if", "(", "max", "_", "hitpoints", "(", ")", ">", "0", ")", "{", "<nl>", "unit", "_", "energy", "=", "double", "(", "hitpoints", "(", ")", ")", "/", "double", "(", "max", "_", "hitpoints", "(", ")", ")", ";", "<nl>", "}", "<nl>", "-", "disp", ".", "draw", "_", "bar", "(", "*", "energy", "_", "file", ",", "x", "-", "5", ",", "y", "-", "height", "_", "adjust", ",", "(", "max", "_", "hitpoints", "(", ")", "*", "2", ")", "/", "3", ",", "unit", "_", "energy", ",", "hp", "_", "color", "(", ")", ",", "bar", "_", "alpha", ")", ";", "<nl>", "+", "disp", ".", "draw", "_", "bar", "(", "*", "energy", "_", "file", ",", "x", "-", "(", "5", "*", "disp", ".", "zoom", "(", ")", ")", ",", "y", "-", "height", "_", "adjust", ",", "(", "max", "_", "hitpoints", "(", ")", "*", "2", ")", "/", "3", ",", "unit", "_", "energy", ",", "hp", "_", "color", "(", ")", ",", "bar", "_", "alpha", ")", ";", "<nl>", "<nl>", "if", "(", "experience", "(", ")", ">", "0", "&", "&", "can", "_", "advance", "(", ")", ")", "{", "<nl>", "const", "double", "filled", "=", "double", "(", "experience", "(", ")", ")", "/", "double", "(", "max", "_", "experience", "(", ")", ")", ";", "<nl>"], "docstring_tokens": ["fix", "unit", "scaling", "not", "working", "properly", "with", "zoom"]}
{"code_tokens": ["game", "_", "launcher", ":", ":", "game", "_", "launcher", "(", "const", "commandline", "_", "options", "&", "cmdline", "_", "opts", ",", "const", "char", "<nl>", "const", "std", ":", ":", "string", "app", "_", "basename", "=", "filesystem", ":", ":", "base", "_", "name", "(", "appname", ")", ";", "<nl>", "jump", "_", "to", "_", "editor", "_", "=", "app", "_", "basename", ".", "find", "(", "\"", "editor", "\"", ")", "!", "=", "std", ":", ":", "string", ":", ":", "npos", ";", "<nl>", "<nl>", "+", "if", "(", "cmdline", "_", "opts", "_", ".", "core", "_", "id", ")", "{", "<nl>", "+", "preferences", ":", ":", "set", "_", "core", "_", "id", "(", "*", "cmdline", "_", "opts", "_", ".", "core", "_", "id", ")", ";", "<nl>", "+", "}", "<nl>", "if", "(", "cmdline", "_", "opts", "_", ".", "campaign", ")", "{", "<nl>", "jump", "_", "to", "_", "campaign", "_", ".", "jump", "_", "=", "true", ";", "<nl>", "jump", "_", "to", "_", "campaign", "_", ".", "campaign", "_", "id", "_", "=", "*", "cmdline", "_", "opts", "_", ".", "campaign", ";", "<nl>"], "docstring_tokens": ["Set", "the", "core_id", "preferences", "item", "at", "game", "launch"]}
{"code_tokens": ["void", "execute", "_", "command", "(", "display", "&", "disp", ",", "const", "hotkey", "_", "command", "&", "command", ",", "command", "_", "execu", "<nl>", "}", "<nl>", "case", "LUA", "_", "CONSOLE", ":", "{", "<nl>", "if", "(", "!", "disp", ".", "in", "_", "game", "(", ")", ")", "{", "<nl>", "-", "WRN", "_", "G", "<", "<", "\"", "caution", ":", "attempting", "to", "interface", "console", "with", "game", "lua", "kernel", "when", "we", "are", "not", "in", "game", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "+", "/", "/", "WRN", "_", "G", "<", "<", "\"", "caution", ":", "attempting", "to", "interface", "console", "with", "game", "lua", "kernel", "when", "we", "are", "not", "in", "game", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "+", "gui2", ":", ":", "tlua", "_", "interpreter", ":", ":", "display", "(", "disp", ".", "video", "(", ")", ",", "gui2", ":", ":", "tlua", "_", "interpreter", ":", ":", "APP", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "gui2", ":", ":", "tlua", "_", "interpreter", ":", ":", "display", "(", "disp", ".", "video", "(", ")", ",", "gui2", ":", ":", "tlua", "_", "interpreter", ":", ":", "GAME", ")", ";", "<nl>", "}", "<nl>", "-", "gui2", ":", ":", "tlua", "_", "interpreter", ":", ":", "display", "(", "disp", ".", "video", "(", ")", ",", "gui2", ":", ":", "tlua", "_", "interpreter", ":", ":", "GAME", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "default", ":", "<nl>"], "docstring_tokens": ["allow", "to", "open", "the", "app", "lua", "kernel", "in", "the", "multiplayer", "lobby"]}
{"code_tokens": ["std", ":", ":", "string", "get", "_", "colour", "_", "string", "(", "int", "id", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "chat", ":", ":", "chat", "(", ")", "<nl>", "+", "chat", ":", ":", "chat", "(", ")", ":", "<nl>", "+", "message", "_", "history", "_", "(", ")", ",", "<nl>", "+", "last", "_", "update", "_", "(", ")", "<nl>", "{", "<nl>", "}", "<nl>", "<nl>", "ui", ":", ":", "ui", "(", "game", "_", "display", "&", "disp", ",", "const", "std", ":", ":", "string", "&", "title", ",", "const", "config", "&", "cfg", ",", "chat", "&", "c", ",", "<nl>", "chat", "_", "textbox", "_", "(", "disp", ".", "video", "(", ")", ",", "100", ",", "\"", "\"", ",", "false", ")", ",", "<nl>", "users", "_", "menu", "_", "(", "disp", ".", "video", "(", ")", ",", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "(", ")", ",", "false", ",", "-", "1", ",", "-", "1", ",", "NULL", ",", "&", "umenu", "_", "style", ")", ",", "<nl>", "<nl>", "+", "user", "_", "list", "_", "(", ")", ",", "<nl>", "selected", "_", "game", "_", "(", "\"", "\"", ")", ",", "<nl>", "<nl>", "result", "_", "(", "CONTINUE", ")", ",", "<nl>"], "docstring_tokens": ["Initialize", "all", "members"]}
{"code_tokens": ["const", "std", ":", ":", "vector", "<", "attack", "_", "type", ">", "&", "unit", ":", ":", "attacks", "(", ")", "const", "<nl>", "<nl>", "int", "unit", ":", ":", "movement", "_", "cost", "(", "const", "gamemap", "&", "map", ",", "gamemap", ":", ":", "TERRAIN", "terrain", ")", "const", "<nl>", "{", "<nl>", "-", "if", "(", "type", "_", "-", ">", "level", "(", ")", "=", "=", "0", "&", "&", "terrain", "=", "=", "gamemap", ":", ":", "TOWER", ")", "<nl>", "-", "return", "100", ";", "<nl>", "+", "/", "/", "don", "'", "t", "allow", "level", "0", "units", "to", "take", "villages", "-", "removed", "until", "AI", "<nl>", "+", "/", "/", "is", "smart", "enough", "to", "deal", "with", "this", ".", "<nl>", "+", "/", "/", "if", "(", "type", "_", "-", ">", "level", "(", ")", "=", "=", "0", "&", "&", "terrain", "=", "=", "gamemap", ":", ":", "TOWER", ")", "<nl>", "+", "/", "/", "return", "100", ";", "<nl>", "<nl>", "const", "int", "res", "=", "type", "_", "-", ">", "movement", "_", "type", "(", ")", ".", "movement", "_", "cost", "(", "map", ",", "terrain", ")", ";", "<nl>"], "docstring_tokens": ["removed", "rule", "about", "level", "0", "units", "not", "being", "able", "to", "capture", "villages"]}
{"code_tokens": ["bool", "mouse", "_", "handler", ":", ":", "left", "_", "click", "(", "int", "x", ",", "int", "y", ",", "const", "bool", "browse", ")", "<nl>", "<nl>", "gui", "(", ")", ".", "unhighlight", "_", "reach", "(", ")", ";", "<nl>", "<nl>", "+", "/", "/", "If", "the", "whiteboard", "is", "active", ",", "it", "intercepts", "any", "unit", "movement", "<nl>", "if", "(", "resources", ":", ":", "whiteboard", "-", ">", "is", "_", "active", "(", ")", ")", "{", "<nl>", "/", "/", "Unselect", "the", "current", "hex", ",", "and", "create", "planned", "move", "for", "whiteboard", "<nl>", "selected", "_", "hex", "_", "=", "map", "_", "location", "(", ")", ";", "<nl>", "bool", "mouse", "_", "handler", ":", ":", "left", "_", "click", "(", "int", "x", ",", "int", "y", ",", "const", "bool", "browse", ")", "<nl>", "{", "<nl>", "resources", ":", ":", "whiteboard", "-", ">", "save", "_", "temp", "_", "move", "(", ")", ";", "<nl>", "}", "<nl>", "-", "}", "else", "{", "<nl>", "+", "/", "/", "Otherwise", "proceed", "to", "normal", "unit", "movement", ",", "unless", "the", "selected", "unit", "already", "has", "actions", "<nl>", "+", "/", "/", "from", "the", "whiteboard", ".", "<nl>", "+", "}", "else", "if", "(", "!", "resources", ":", ":", "whiteboard", "-", ">", "unit", "_", "has", "_", "actions", "(", "*", "u", ")", ")", "{", "<nl>", "/", "/", "register", "the", "mouse", "-", "UI", "waypoints", "into", "the", "unit", "'", "s", "waypoints", "<nl>", "u", "-", ">", "waypoints", "(", ")", "=", "waypoints", "_", ";", "<nl>"], "docstring_tokens": ["Whiteboard", "prevent", "executing", "a", "regular", "move"]}
{"code_tokens": ["namespace", "{", "<nl>", "if", "(", "res", "=", "=", "gui2", ":", ":", "twindow", ":", ":", "OK", ")", "{", "<nl>", "delete", "_", "remote", "_", "addon", "(", "disp", ",", "addon", ",", "connection", ")", ";", "<nl>", "}", "<nl>", "-", "<nl>", "-", "return", ";", "<nl>", "}", "<nl>", "-", "<nl>", "/", "/", "Handle", "publish", "option", "<nl>", "-", "if", "(", "index", ">", "=", "int", "(", "addons", ".", "size", "(", ")", ")", ")", "{", "<nl>", "+", "else", "if", "(", "index", ">", "=", "int", "(", "addons", ".", "size", "(", ")", ")", ")", "{", "<nl>", "const", "std", ":", ":", "string", "&", "addon", "=", "publish", "_", "options", "[", "index", "-", "int", "(", "addons", ".", "size", "(", ")", ")", "]", ";", "<nl>", "upload", "_", "addon", "_", "to", "_", "server", "(", "disp", ",", "addon", ",", "connection", ")", ";", "<nl>", "-", "return", ";", "<nl>", "}", "<nl>", "-", "<nl>", "-", "if", "(", "check", "_", "whether", "_", "overwrite", "(", "disp", ",", "addons", "[", "index", "]", ",", "publish", "_", "options", ")", ")", "<nl>", "+", "/", "/", "Handle", "download", "option", "<nl>", "+", "else", "if", "(", "check", "_", "whether", "_", "overwrite", "(", "disp", ",", "addons", "[", "index", "]", ",", "publish", "_", "options", ")", ")", "<nl>", "{", "<nl>", "/", "/", "Handle", "download", "<nl>", "install", "_", "addon", "(", "disp", ",", "addons", "[", "index", "]", ",", "titles", "[", "index", "]", ",", "types", "[", "index", "]", ",", "<nl>", "namespace", "{", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "/", "/", "Show", "the", "dialog", "again", ",", "and", "position", "it", "on", "the", "same", "item", "installed", "<nl>", "+", "/", "/", "Show", "the", "dialog", "again", ",", "and", "position", "it", "on", "the", "last", "selected", "item", "<nl>", "download", "_", "addons", "(", "disp", ",", "remote", "_", "address", ",", "update", "_", "mode", ",", "do", "_", "refresh", ",", "index", ")", ";", "<nl>", "<nl>", "}", "catch", "(", "config", ":", ":", "error", "&", "e", ")", "{", "<nl>"], "docstring_tokens": ["Return", "to", "the", "add", "ons", "list", "after", "uploading", "or", "deleting"]}
{"code_tokens": ["@", "li", "<", "a", "href", "=", "\"", "hierarchy", ".", "html", "\"", ">", "Classes", "<", "/", "a", ">", "<nl>", "@", "li", "<", "a", "href", "=", "\"", "files", ".", "html", "\"", ">", "Source", "Files", "<", "/", "a", ">", "<nl>", "@", "li", "<", "a", "href", "=", "\"", "todo", ".", "html", "\"", ">", "Todo", "<", "/", "a", ">", "<nl>", "+", "@", "li", "<", "a", "href", "=", "\"", "deprecated", ".", "html", "\"", ">", "Deprecated", "<", "/", "a", ">", "<nl>", "<", "/", "td", ">", "<nl>", "<", "/", "tr", ">", "<nl>", "<", "/", "table", ">", "<nl>"], "docstring_tokens": ["Add", "deprecated", "page", "in", "main", "page", "of", "documentation", "after", "todo"]}
{"code_tokens": ["#", "include", "\"", "controller", "_", "base", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "dialogs", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "mouse", "_", "handler", "_", "base", ".", "hpp", "\"", "<nl>", "+", "#", "include", "\"", "foreach", ".", "hpp", "\"", "<nl>", "<nl>", "controller", "_", "base", ":", ":", "controller", "_", "base", "(", "<nl>", "int", "ticks", ",", "const", "config", "&", "game", "_", "config", ",", "CVideo", "&", "/", "*", "video", "*", "/", ")", ":", "<nl>", "bool", "controller", "_", "base", ":", ":", "handle", "_", "scroll", "(", "CKey", "&", "key", ",", "int", "mousex", ",", "int", "mousey", ",", "int", "mouse", "<nl>", "bool", "scrolling", "=", "false", ";", "<nl>", "bool", "mouse", "_", "in", "_", "window", "=", "(", "SDL", "_", "GetAppState", "(", ")", "&", "SDL", "_", "APPMOUSEFOCUS", ")", "<nl>", "|", "|", "utils", ":", ":", "string", "_", "bool", "(", "preferences", ":", ":", "get", "(", "\"", "scroll", "_", "when", "_", "mouse", "_", "outside", "\"", ")", ",", "true", ")", ";", "<nl>", "-", "const", "int", "scroll", "_", "threshold", "=", "(", "preferences", ":", ":", "mouse", "_", "scroll", "_", "enabled", "(", ")", ")", "<nl>", "+", "int", "scroll", "_", "threshold", "=", "(", "preferences", ":", ":", "mouse", "_", "scroll", "_", "enabled", "(", ")", ")", "<nl>", "?", "preferences", ":", ":", "mouse", "_", "scroll", "_", "threshold", "(", ")", "<nl>", ":", "0", ";", "<nl>", "-", "<nl>", "+", "foreach", "(", "const", "theme", ":", ":", "menu", "&", "m", ",", "get", "_", "display", "(", ")", ".", "get", "_", "theme", "(", ")", ".", "menus", "(", ")", ")", "{", "<nl>", "+", "if", "(", "point", "_", "in", "_", "rect", "(", "mousex", ",", "mousey", ",", "m", ".", "get", "_", "location", "(", ")", ")", ")", "{", "<nl>", "+", "scroll", "_", "threshold", "=", "0", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "if", "(", "(", "key", "[", "SDLK", "_", "UP", "]", "&", "&", "have", "_", "keyboard", "_", "focus", "(", ")", ")", "<nl>", "|", "|", "(", "mousey", "<", "scroll", "_", "threshold", "&", "&", "mouse", "_", "in", "_", "window", ")", ")", "{", "<nl>", "get", "_", "display", "(", ")", ".", "scroll", "(", "0", ",", "-", "preferences", ":", ":", "scroll", "_", "speed", "(", ")", ")", ";", "<nl>"], "docstring_tokens": ["don", "t", "scroll", "the", "map", "if", "the", "mouse", "is", "within", "the", "scroll", "threshold"]}
{"code_tokens": ["bool", "unit", ":", ":", "internal", "_", "matches", "_", "filter", "(", "const", "vconfig", "&", "cfg", ",", "const", "gamemap", ":", ":", "location", "&", "<nl>", "std", ":", ":", "vector", "<", "std", ":", ":", "pair", "<", "int", ",", "int", ">", ">", ":", ":", "const", "_", "iterator", "range", ",", "range", "_", "end", "=", "ranges", ".", "end", "(", ")", ";", "<nl>", "for", "(", "range", "=", "ranges", ".", "begin", "(", ")", ";", "range", "!", "=", "range", "_", "end", ";", "+", "+", "range", ")", "{", "<nl>", "for", "(", "int", "i", "=", "range", "-", ">", "first", ";", "i", "<", "=", "range", "-", ">", "second", ";", "+", "+", "i", ")", "{", "<nl>", "-", "if", "(", "i", ">", "0", "&", "&", "i", "<", "=", "teams", "_", "-", ">", "size", "(", ")", ")", "{", "<nl>", "+", "if", "(", "i", ">", "0", "&", "&", "static", "_", "cast", "<", "size", "_", "t", ">", "(", "i", ")", "<", "=", "teams", "_", "-", ">", "size", "(", ")", ")", "{", "<nl>", "viewers", ".", "insert", "(", "i", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "bool", "unit", ":", ":", "internal", "_", "matches", "_", "filter", "(", "const", "vconfig", "&", "cfg", ",", "const", "gamemap", ":", ":", "location", "&", "<nl>", "}", "else", "{", "<nl>", "/", "/", "if", "viewing", "_", "side", "is", "not", "defined", ",", "default", "to", "all", "enemies", "<nl>", "const", "team", "&", "my", "_", "team", "=", "(", "*", "teams", "_", ")", "[", "this", "-", ">", "side", "(", ")", "-", "1", "]", ";", "<nl>", "-", "for", "(", "int", "i", "=", "1", ";", "i", "<", "=", "teams", "_", "-", ">", "size", "(", ")", ";", "+", "+", "i", ")", "{", "<nl>", "+", "for", "(", "size", "_", "t", "i", "=", "1", ";", "i", "<", "=", "teams", "_", "-", ">", "size", "(", ")", ";", "+", "+", "i", ")", "{", "<nl>", "if", "(", "my", "_", "team", ".", "is", "_", "enemy", "(", "i", ")", ")", "{", "<nl>", "viewers", ".", "insert", "(", "i", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "a", "compiler", "warning"]}
{"code_tokens": ["static", "int", "process", "_", "command", "_", "args", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "{", "<nl>", "python", "_", "ai", ":", ":", "invoke", "(", "\"", "documentation", "\"", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "else", "if", "(", "val", "=", "=", "\"", "-", "-", "python", "-", "shell", "\"", ")", "{", "<nl>", "-", "int", "ret", "=", "python", "_", "ai", ":", ":", "run", "_", "shell", "(", ")", ";", "<nl>", "+", "python", "_", "ai", ":", ":", "run", "_", "shell", "(", ")", ";", "<nl>", "return", "0", ";", "<nl>", "#", "endif", "<nl>", "}", "else", "if", "(", "val", "=", "=", "\"", "-", "-", "config", "-", "dir", "\"", ")", "{", "<nl>"], "docstring_tokens": ["Remove", "unused", "variable"]}
{"code_tokens": ["static", "bool", "matches", "_", "simple", "_", "filter", "(", "const", "attack", "_", "type", "&", "attack", ",", "const", "config", "&", "fil", "<nl>", "const", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "filter", "_", "name", "=", "utils", ":", ":", "split", "(", "filter", "[", "\"", "name", "\"", "]", ")", ";", "<nl>", "const", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "filter", "_", "type", "=", "utils", ":", ":", "split", "(", "filter", "[", "\"", "type", "\"", "]", ")", ";", "<nl>", "const", "std", ":", ":", "string", "filter", "_", "special", "=", "filter", "[", "\"", "special", "\"", "]", ";", "<nl>", "+", "const", "std", ":", ":", "string", "filter", "_", "special", "_", "active", "=", "filter", "[", "\"", "special", "_", "active", "\"", "]", ";", "<nl>", "const", "std", ":", ":", "string", "filter", "_", "formula", "=", "filter", "[", "\"", "formula", "\"", "]", ";", "<nl>", "<nl>", "if", "(", "!", "filter", "_", "range", ".", "empty", "(", ")", "&", "&", "std", ":", ":", "find", "(", "filter", "_", "range", ".", "begin", "(", ")", ",", "filter", "_", "range", ".", "end", "(", ")", ",", "attack", ".", "range", "(", ")", ")", "=", "=", "filter", "_", "range", ".", "end", "(", ")", ")", "<nl>", "static", "bool", "matches", "_", "simple", "_", "filter", "(", "const", "attack", "_", "type", "&", "attack", ",", "const", "config", "&", "fil", "<nl>", "if", "(", "!", "filter", "_", "special", ".", "empty", "(", ")", "&", "&", "!", "attack", ".", "get", "_", "special", "_", "bool", "(", "filter", "_", "special", ",", "true", ")", ")", "<nl>", "return", "false", ";", "<nl>", "<nl>", "+", "if", "(", "!", "filter", "_", "special", "_", "active", ".", "empty", "(", ")", "&", "&", "!", "attack", ".", "get", "_", "special", "_", "bool", "(", "filter", "_", "special", "_", "active", ",", "false", ")", ")", "<nl>", "+", "return", "false", ";", "<nl>", "+", "<nl>", "if", "(", "!", "filter", "_", "formula", ".", "empty", "(", ")", ")", "{", "<nl>", "try", "{", "<nl>", "const", "wfl", ":", ":", "attack", "_", "type", "_", "callable", "callable", "(", "attack", ")", ";", "<nl>"], "docstring_tokens": ["Support", "special_active", "in", "SWF", "Standard", "Weapon", "Filter"]}
{"code_tokens": ["void", "addon", "_", "info", ":", ":", "read", "(", "const", "config", "&", "cfg", ")", "<nl>", "}", "<nl>", "<nl>", "this", "-", ">", "depends", "=", "utils", ":", ":", "split", "(", "cfg", "[", "\"", "dependencies", "\"", "]", ".", "str", "(", ")", ")", ";", "<nl>", "+", "this", "-", ">", "feedback", "_", "url", "=", "cfg", "[", "\"", "feedback", "_", "url", "\"", "]", ".", "str", "(", ")", ";", "<nl>", "<nl>", "this", "-", ">", "updated", "=", "cfg", "[", "\"", "timestamp", "\"", "]", ".", "to", "_", "time", "_", "t", "(", ")", ";", "<nl>", "}", "<nl>", "void", "addon", "_", "info", ":", ":", "write", "(", "config", "&", "cfg", ")", "const", "<nl>", "}", "<nl>", "<nl>", "cfg", "[", "\"", "dependencies", "\"", "]", "=", "utils", ":", ":", "join", "(", "this", "-", ">", "depends", ")", ";", "<nl>", "+", "cfg", "[", "\"", "feedback", "_", "url", "\"", "]", "=", "this", "-", ">", "feedback", "_", "url", ";", "<nl>", "<nl>", "cfg", "[", "\"", "timestamp", "\"", "]", "=", "this", "-", ">", "updated", ";", "<nl>", "}", "mmm", "src", "/", "addon", "/", "info", ".", "hpp", "<nl>", "void", "addon", "_", "info", ":", ":", "read", "(", "const", "config", "&", "cfg", ")", "<nl>", "}", "<nl>", "<nl>", "this", "-", ">", "depends", "=", "utils", ":", ":", "split", "(", "cfg", "[", "\"", "dependencies", "\"", "]", ".", "str", "(", ")", ")", ";", "<nl>", "+", "this", "-", ">", "feedback", "_", "url", "=", "cfg", "[", "\"", "feedback", "_", "url", "\"", "]", ".", "str", "(", ")", ";", "<nl>", "<nl>", "this", "-", ">", "updated", "=", "cfg", "[", "\"", "timestamp", "\"", "]", ".", "to", "_", "time", "_", "t", "(", ")", ";", "<nl>", "}", "<nl>", "void", "addon", "_", "info", ":", ":", "write", "(", "config", "&", "cfg", ")", "const", "<nl>", "}", "<nl>", "<nl>", "cfg", "[", "\"", "dependencies", "\"", "]", "=", "utils", ":", ":", "join", "(", "this", "-", ">", "depends", ")", ";", "<nl>", "+", "cfg", "[", "\"", "feedback", "_", "url", "\"", "]", "=", "this", "-", ">", "feedback", "_", "url", ";", "<nl>", "<nl>", "cfg", "[", "\"", "timestamp", "\"", "]", "=", "this", "-", ">", "updated", ";", "<nl>", "}", "<nl>", "struct", "addon", "_", "info", "<nl>", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "depends", ";", "<nl>", "/", "/", "std", ":", ":", "vector", "<", "addon", "_", "dependency", ">", "conflicts", ",", "recommends", ",", "replaces", ";", "<nl>", "<nl>", "+", "std", ":", ":", "string", "feedback", "_", "url", ";", "<nl>", "+", "<nl>", "time", "_", "t", "updated", ";", "<nl>", "<nl>", "/", "/", "Artificial", "upload", "order", "index", "used", "to", "preserve", "add", "-", "ons", "upload", "order", "<nl>", "struct", "addon", "_", "info", "<nl>", ",", "version", "(", ")", ",", "author", "(", ")", ",", "size", "(", ")", ",", "downloads", "(", ")", "<nl>", ",", "uploads", "(", ")", ",", "type", "(", ")", ",", "locales", "(", ")", "<nl>", ",", "depends", "(", ")", "<nl>", "+", ",", "feedback", "_", "url", "(", ")", "<nl>", ",", "updated", "(", ")", ",", "order", "(", ")", "<nl>", "{", "}", "<nl>", "<nl>", "struct", "addon", "_", "info", "<nl>", ",", "version", "(", ")", ",", "author", "(", ")", ",", "size", "(", ")", ",", "downloads", "(", ")", "<nl>", ",", "uploads", "(", ")", ",", "type", "(", ")", ",", "locales", "(", ")", "<nl>", ",", "depends", "(", ")", "<nl>", "+", ",", "feedback", "_", "url", "(", ")", "<nl>", ",", "updated", "(", ")", ",", "order", "(", ")", "<nl>", "{", "<nl>", "this", "-", ">", "read", "(", "cfg", ")", ";", "<nl>", "struct", "addon", "_", "info", "<nl>", "this", "-", ">", "type", "=", "o", ".", "type", ";", "<nl>", "this", "-", ">", "locales", "=", "o", ".", "locales", ";", "<nl>", "this", "-", ">", "depends", "=", "o", ".", "depends", ";", "<nl>", "+", "this", "-", ">", "feedback", "_", "url", "=", "o", ".", "feedback", "_", "url", ";", "<nl>", "this", "-", ">", "updated", "=", "o", ".", "updated", ";", "<nl>", "this", "-", ">", "order", "=", "o", ".", "order", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["addon", "info", "Add", "support", "for", "the", "campaign", "feedback_url", "field", "from", "the", "server"]}
{"code_tokens": ["action", "_", "ptr", "highlight", "_", "visitor", ":", ":", "get", "_", "execute", "_", "target", "(", ")", "<nl>", "}", "<nl>", "action", "_", "ptr", "highlight", "_", "visitor", ":", ":", "get", "_", "delete", "_", "target", "(", ")", "<nl>", "{", "<nl>", "-", "action", "_", "ptr", "action", ";", "<nl>", "+", "action", "_", "ptr", "action", "=", "action", "_", "ptr", "(", ")", ";", "<nl>", "if", "(", "owner", "_", "unit", "_", ")", "<nl>", "{", "<nl>", "-", "action", "=", "*", "side", "_", "actions", "_", "-", ">", "find", "_", "last", "_", "action", "_", "of", "(", "*", "owner", "_", "unit", "_", ")", ";", "<nl>", "+", "side", "_", "actions", ":", ":", "iterator", "it", "=", "side", "_", "actions", "_", "-", ">", "find", "_", "last", "_", "action", "_", "of", "(", "*", "owner", "_", "unit", "_", ")", ";", "<nl>", "+", "if", "(", "it", "!", "=", "side", "_", "actions", "_", "-", ">", "end", "(", ")", ")", "<nl>", "+", "{", "<nl>", "+", "action", "=", "*", "it", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "return", "action", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Whiteboard", "fixed", "an", "iterator", "bug"]}
{"code_tokens": ["static", "config", "unit", "_", "weapons", "(", "reports", ":", ":", "context", "&", "rc", ",", "const", "unit", "*", "attacker", ",", "const", "ma", "<nl>", "for", "(", "unsigned", "int", "i", "=", "0", ";", "i", "<", "attacker", "-", ">", "attacks", "(", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "<nl>", "/", "/", "skip", "weapons", "with", "attack", "_", "weight", "=", "0", "<nl>", "if", "(", "attacker", "-", ">", "attacks", "(", ")", "[", "i", "]", ".", "attack", "_", "weight", "(", ")", ">", "0", ")", "{", "<nl>", "-", "battle", "_", "context", "weapon", "(", "rc", ".", "units", "(", ")", ",", "attacker", "_", "pos", ",", "defender", "-", ">", "get", "_", "location", "(", ")", ",", "i", ",", "-", "1", ",", "0", ".", "0", ",", "nullptr", ",", "attacker", ")", ";", "<nl>", "-", "weapons", ".", "push", "_", "back", "(", "weapon", ")", ";", "<nl>", "+", "weapons", ".", "emplace", "_", "back", "(", "rc", ".", "units", "(", ")", ",", "attacker", "_", "pos", ",", "defender", "-", ">", "get", "_", "location", "(", ")", ",", "i", ",", "-", "1", ",", "0", ".", "0", ",", "nullptr", ",", "attacker", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "config", "unit", "_", "weapons", "(", "reports", ":", ":", "context", "&", "rc", ",", "const", "unit", "*", "attacker", ",", "const", "ma", "<nl>", "for", "(", "unsigned", "int", "i", "=", "0", ";", "i", "<", "attacker", "-", ">", "attacks", "(", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "<nl>", "/", "/", "skip", "weapons", "with", "attack", "_", "weight", "=", "0", "<nl>", "if", "(", "attacker", "-", ">", "attacks", "(", ")", "[", "i", "]", ".", "attack", "_", "weight", "(", ")", ">", "0", ")", "{", "<nl>", "-", "battle", "_", "context", "weapon", "(", "rc", ".", "units", "(", ")", ",", "attacker", "_", "pos", ",", "defender", "-", ">", "get", "_", "location", "(", ")", ",", "i", ",", "-", "1", ",", "0", ".", "0", ",", "nullptr", ",", "attacker", ")", ";", "<nl>", "-", "weapons", ".", "push", "_", "back", "(", "weapon", ")", ";", "<nl>", "+", "weapons", ".", "emplace", "_", "back", "(", "rc", ".", "units", "(", ")", ",", "attacker", "_", "pos", ",", "defender", "-", ">", "get", "_", "location", "(", ")", ",", "i", ",", "-", "1", ",", "0", ".", "0", ",", "nullptr", ",", "attacker", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "int", "mouse", "_", "handler", ":", ":", "fill", "_", "weapon", "_", "choices", "(", "<nl>", "best", "=", "bc", "_", "vector", ".", "size", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "bc", "_", "vector", ".", "push", "_", "back", "(", "bc", ")", ";", "<nl>", "+", "bc", "_", "vector", ".", "push", "_", "back", "(", "std", ":", ":", "move", "(", "bc", ")", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "static", "config", "unit", "_", "weapons", "(", "reports", ":", ":", "context", "&", "rc", ",", "const", "unit", "*", "attacker", ",", "const", "ma", "<nl>", "for", "(", "unsigned", "int", "i", "=", "0", ";", "i", "<", "attacker", "-", ">", "attacks", "(", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "<nl>", "/", "/", "skip", "weapons", "with", "attack", "_", "weight", "=", "0", "<nl>", "if", "(", "attacker", "-", ">", "attacks", "(", ")", "[", "i", "]", ".", "attack", "_", "weight", "(", ")", ">", "0", ")", "{", "<nl>", "-", "battle", "_", "context", "weapon", "(", "rc", ".", "units", "(", ")", ",", "attacker", "_", "pos", ",", "defender", "-", ">", "get", "_", "location", "(", ")", ",", "i", ",", "-", "1", ",", "0", ".", "0", ",", "nullptr", ",", "attacker", ")", ";", "<nl>", "-", "weapons", ".", "push", "_", "back", "(", "weapon", ")", ";", "<nl>", "+", "weapons", ".", "emplace", "_", "back", "(", "rc", ".", "units", "(", ")", ",", "attacker", "_", "pos", ",", "defender", "-", ">", "get", "_", "location", "(", ")", ",", "i", ",", "-", "1", ",", "0", ".", "0", ",", "nullptr", ",", "attacker", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "int", "mouse", "_", "handler", ":", ":", "fill", "_", "weapon", "_", "choices", "(", "<nl>", "best", "=", "bc", "_", "vector", ".", "size", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "bc", "_", "vector", ".", "push", "_", "back", "(", "bc", ")", ";", "<nl>", "+", "bc", "_", "vector", ".", "push", "_", "back", "(", "std", ":", ":", "move", "(", "bc", ")", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "public", ":", "<nl>", "battle", "_", "context", "(", "const", "battle", "_", "context", "_", "unit", "_", "stats", "&", "att", ",", "const", "battle", "_", "context", "_", "unit", "_", "stats", "&", "def", ")", ";", "<nl>", "<nl>", "battle", "_", "context", "(", "const", "battle", "_", "context", "&", "other", ")", ";", "<nl>", "+", "battle", "_", "context", "(", "battle", "_", "context", "&", "&", "other", ")", "=", "default", ";", "<nl>", "<nl>", "battle", "_", "context", "&", "operator", "=", "(", "const", "battle", "_", "context", "&", "other", ")", ";", "<nl>", "+", "battle", "_", "context", "&", "operator", "=", "(", "battle", "_", "context", "&", "&", "other", ")", "=", "default", ";", "<nl>", "<nl>", "/", "*", "*", "This", "method", "returns", "the", "statistics", "of", "the", "attacker", ".", "*", "/", "<nl>", "const", "battle", "_", "context", "_", "unit", "_", "stats", "&", "get", "_", "attacker", "_", "stats", "(", ")", "const", "<nl>"], "docstring_tokens": ["Added", "and", "made", "use", "of", "a", "move", "ctor", "in", "battle_context"]}
{"code_tokens": ["void", "unit", ":", ":", "restart", "_", "animation", "(", "const", "game", "_", "display", "&", "disp", ",", "int", "start", "_", "time", ")", "{", "<nl>", "}", "<nl>", "<nl>", "void", "unit", ":", ":", "set", "_", "facing", "(", "gamemap", ":", ":", "location", ":", ":", "DIRECTION", "dir", ")", "{", "<nl>", "-", "wassert", "(", "dir", "!", "=", "gamemap", ":", ":", "location", ":", ":", "NDIRECTIONS", ")", ";", "<nl>", "-", "facing", "_", "=", "dir", ";", "<nl>", "+", "if", "(", "dir", "!", "=", "gamemap", ":", ":", "location", ":", ":", "NDIRECTIONS", ")", "{", "<nl>", "+", "facing", "_", "=", "dir", ";", "<nl>", "+", "}", "<nl>", "+", "/", "/", "else", "look", "at", "yourself", "(", "not", "available", "so", "continue", "to", "face", "the", "same", "direction", ")", "<nl>", "}", "<nl>", "<nl>", "void", "unit", ":", ":", "redraw", "_", "unit", "(", "game", "_", "display", "&", "disp", ",", "const", "gamemap", ":", ":", "location", "&", "loc", ")", "<nl>"], "docstring_tokens": ["removed", "a", "wassert", "where", "the", "condition", "is", "possible"]}
{"code_tokens": ["public", ":", "<nl>", "static", "void", "set", "_", "sunset", "(", "const", "unsigned", "interval", ")", "<nl>", "{", "sunset", "_", "=", "interval", "?", "interval", ":", "5", ";", "}", "<nl>", "<nl>", "+", "bool", "get", "_", "need", "_", "layout", "(", ")", "const", "{", "return", "need", "_", "layout", "_", ";", "}", "<nl>", "+", "<nl>", "private", ":", "<nl>", "<nl>", "/", "*", "*", "Needed", "so", "we", "can", "change", "what", "'", "s", "drawn", "on", "the", "screen", ".", "*", "/", "<nl>"], "docstring_tokens": ["Add", "a", "getter", "for", "need_layout_"]}
{"code_tokens": ["LEVEL", "_", "RESULT", "play", "_", "level", "(", "game", "_", "data", "&", "gameinfo", ",", "const", "config", "&", "game", "_", "config", ",", "<nl>", "if", "(", "first", "_", "human", "_", "team", "!", "=", "-", "1", ")", "{", "<nl>", "clear", "_", "shroud", "(", "gui", ",", "status", ",", "map", ",", "gameinfo", ",", "units", ",", "teams", ",", "first", "_", "human", "_", "team", ")", ";", "<nl>", "LOG", "_", "NG", "<", "<", "\"", "b", "\"", "<", "<", "(", "SDL", "_", "GetTicks", "(", ")", "-", "ticks", ")", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "-", "gui", ".", "scroll", "_", "to", "_", "tile", "(", "map", ".", "starting", "_", "position", "(", "first", "_", "human", "_", "team", "+", "1", ")", ".", "x", ",", "map", ".", "starting", "_", "position", "(", "first", "_", "human", "_", "team", "+", "1", ")", ".", "y", ",", "display", ":", ":", "WARP", ")", ";", "<nl>", "+", "gui", ".", "scroll", "_", "to", "_", "tile", "(", "map", ".", "starting", "_", "position", "(", "first", "_", "human", "_", "team", "+", "1", ")", ".", "x", ",", "<nl>", "+", "map", ".", "starting", "_", "position", "(", "first", "_", "human", "_", "team", "+", "1", ")", ".", "y", ",", "display", ":", ":", "WARP", ")", ";", "<nl>", "LOG", "_", "NG", "<", "<", "\"", "c", "\"", "<", "<", "(", "SDL", "_", "GetTicks", "(", ")", "-", "ticks", ")", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "}", "<nl>", "<nl>", "LEVEL", "_", "RESULT", "play", "_", "level", "(", "game", "_", "data", "&", "gameinfo", ",", "const", "config", "&", "game", "_", "config", ",", "<nl>", "events", ":", ":", "raise", "_", "draw", "_", "event", "(", ")", ";", "<nl>", "if", "(", "!", "loading", "_", "game", ")", "{", "<nl>", "game", "_", "events", ":", ":", "fire", "(", "\"", "start", "\"", ")", ";", "<nl>", "+", "game", "_", "events", ":", ":", "set", "_", "variable", "(", "\"", "turn", "_", "number", "\"", ",", "\"", "1", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "gui", ".", "draw", "(", ")", ";", "<nl>"], "docstring_tokens": ["Set", "turn_number", "so", "that", "it", "is", "meaningful", "when", "the", "first", "turn", "starts"]}
{"code_tokens": ["void", "positional", "_", "source", ":", ":", "write", "_", "config", "(", "config", "&", "cfg", ")", "const", "<nl>", "cfg", "[", "\"", "delay", "\"", "]", "=", "str", "_", "cast", "<", "unsigned", "int", ">", "(", "this", "-", ">", "min", "_", "delay", "_", ")", ";", "<nl>", "cfg", "[", "\"", "chance", "\"", "]", "=", "str", "_", "cast", "<", "unsigned", "int", ">", "(", "this", "-", ">", "chance", "_", ")", ";", "<nl>", "cfg", "[", "\"", "check", "_", "fogged", "\"", "]", "=", "this", "-", ">", "check", "_", "fogged", "_", "?", "\"", "yes", "\"", ":", "\"", "no", "\"", ";", "<nl>", "-", "cfg", "[", "\"", "check", "_", "shrouded", "\"", "]", "=", "this", "-", ">", "check", "_", "fogged", "_", "?", "\"", "yes", "\"", ":", "\"", "no", "\"", ";", "<nl>", "+", "cfg", "[", "\"", "check", "_", "shrouded", "\"", "]", "=", "this", "-", ">", "check", "_", "shrouded", "_", "?", "\"", "yes", "\"", ":", "\"", "no", "\"", ";", "<nl>", "<nl>", "cfg", "[", "\"", "x", "\"", "]", "=", "cfg", "[", "\"", "y", "\"", "]", "=", "\"", "\"", ";", "<nl>", "bool", "first", "_", "loc", "=", "true", ";", "<nl>"], "docstring_tokens": ["Fix", "copy", "paste", "error"]}
{"code_tokens": ["Units", "cannot", "be", "killed", "by", "poison", "alone", ".", "The", "poison", "will", "not", "reduce", "it", "below", "1", "HP", "<nl>", "<nl>", "if", "(", "flag", "_", "icon", ".", "empty", "(", ")", ")", "{", "<nl>", "flag", "_", "icon", "=", "game", "_", "config", ":", ":", "flag", "_", "icon", "_", "image", ";", "<nl>", "-", "old", "_", "rgb", "=", "game", "_", "config", ":", ":", "flag", "_", "rgb", ";", "<nl>", "-", "new", "_", "rgb", "=", "team", ":", ":", "get", "_", "side", "_", "colour", "_", "index", "(", "playing", "_", "side", ")", ";", "<nl>", "-", "mods", "=", "\"", "~", "RC", "(", "\"", "+", "old", "_", "rgb", "+", "\"", ">", "\"", "+", "new", "_", "rgb", "+", "\"", ")", "\"", ";", "<nl>", "}", "<nl>", "+", "old", "_", "rgb", "=", "game", "_", "config", ":", ":", "flag", "_", "rgb", ";", "<nl>", "+", "new", "_", "rgb", "=", "team", ":", ":", "get", "_", "side", "_", "colour", "_", "index", "(", "playing", "_", "side", ")", ";", "<nl>", "+", "mods", "=", "\"", "~", "RC", "(", "\"", "+", "old", "_", "rgb", "+", "\"", ">", "\"", "+", "new", "_", "rgb", "+", "\"", ")", "\"", ";", "<nl>", "<nl>", "/", "/", "remove", "animation", "stuff", "we", "don", "'", "t", "care", "about", "<nl>", "/", "/", "const", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "items", "=", "utils", ":", ":", "split", "(", "flag", ")", ";", "<nl>"], "docstring_tokens": ["add", "an", "automatic", "side", "coloring", "of", "custom", "flag_icon"]}
{"code_tokens": ["void", "save", "_", "hotkeys", "(", "config", "&", "cfg", ")", "<nl>", "cfg", ".", "clear", "_", "children", "(", "\"", "hotkey", "\"", ")", ";", "<nl>", "<nl>", "BOOST", "_", "FOREACH", "(", "hotkey", "_", "ptr", "item", ",", "hotkeys", "_", ")", "{", "<nl>", "-", "if", "(", "!", "item", "-", ">", "is", "_", "default", "(", ")", ")", "{", "<nl>", "+", "if", "(", "!", "item", "-", ">", "is", "_", "default", "(", ")", "&", "&", "item", "-", ">", "active", "(", ")", ")", "{", "<nl>", "item", "-", ">", "save", "(", "cfg", ".", "add", "_", "child", "(", "\"", "hotkey", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Avoid", "polluting", "preferences", "file", "with", "null", "commands", "Bug", "21969"]}
{"code_tokens": ["private", ":", "<nl>", "if", "(", "network", ":", ":", "nconnections", "(", ")", "=", "=", "0", ")", "{", "<nl>", "std", ":", ":", "cerr", "<", "<", "\"", "showing", "ai", "formula", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "textbox", "_", "info", "_", ".", "show", "(", "gui", ":", ":", "TEXTBOX", "_", "AI", ",", "sgettext", "(", "\"", "prompt", "^", "Command", ":", "\"", ")", ",", "\"", "\"", ",", "false", ",", "*", "gui", "_", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "-", "add", "_", "chat", "_", "message", "(", "time", "(", "NULL", ")", ",", "_", "(", "\"", "ai", "\"", ")", ",", "0", ",", "\"", "Formula", "commandline", "not", "available", "in", "network", "games", "\"", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Remove", "info", "msg"]}
{"code_tokens": ["public", ":", "<nl>", "std", ":", ":", "string", "lang", "_", "unit", "=", "type", "-", ">", "type", "_", "name", "(", ")", ";", "<nl>", "std", ":", ":", "string", "ref", "_", "id", ";", "<nl>", "if", "(", "description", "_", "type", "(", "*", "type", ")", "=", "=", "FULL", "_", "DESCRIPTION", ")", "{", "<nl>", "-", "ref", "_", "id", "=", "unit", "_", "prefix", "+", "type", "-", ">", "id", "(", ")", ";", "<nl>", "+", "const", "std", ":", ":", "string", "section", "_", "prefix", "=", "type", "-", ">", "variations", "(", ")", ".", "empty", "(", ")", "?", "\"", "\"", ":", "\"", ".", ".", "\"", ";", "<nl>", "+", "ref", "_", "id", "=", "section", "_", "prefix", "+", "unit", "_", "prefix", "+", "type", "-", ">", "id", "(", ")", ";", "<nl>", "}", "else", "{", "<nl>", "ref", "_", "id", "=", "unknown", "_", "unit", "_", "topic", ";", "<nl>", "lang", "_", "unit", "+", "=", "\"", "(", "?", ")", "\"", ";", "<nl>"], "docstring_tokens": ["Fix", "advance", "references", "to", "units", "that", "have", "variations"]}
{"code_tokens": ["void", "saved", "_", "game", ":", ":", "expand", "_", "random", "_", "scenario", "(", ")", "<nl>", "LOG", "_", "NG", "<", "<", "\"", "randomly", "generating", "scenario", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "const", "cursor", ":", ":", "setter", "cursor", "_", "setter", "(", "cursor", ":", ":", "WAIT", ")", ";", "<nl>", "<nl>", "-", "starting", "_", "pos", "_", "=", "random", "_", "generate", "_", "scenario", "(", "starting", "_", "pos", "_", "[", "\"", "scenario", "_", "generation", "\"", "]", ",", "<nl>", "+", "config", "scenario", "_", "new", "=", "random", "_", "generate", "_", "scenario", "(", "starting", "_", "pos", "_", "[", "\"", "scenario", "_", "generation", "\"", "]", ",", "<nl>", "starting", "_", "pos", "_", ".", "child", "(", "\"", "generator", "\"", ")", ")", ";", "<nl>", "+", "/", "/", "Preserve", "\"", "story", "\"", "form", "the", "scenario", "toplevel", ".", "<nl>", "+", "BOOST", "_", "FOREACH", "(", "config", "&", "story", ",", "starting", "_", "pos", "_", ".", "child", "_", "range", "(", "\"", "story", "\"", ")", ")", "<nl>", "+", "{", "<nl>", "+", "scenario", "_", "new", ".", "add", "_", "child", "(", "\"", "story", "\"", ",", "story", ")", ";", "<nl>", "+", "}", "<nl>", "+", "starting", "_", "pos", "_", "=", "scenario", "_", "new", ";", "<nl>", "}", "<nl>", "/", "/", "it", "looks", "like", "we", "support", "a", "map", "=", "where", "map", "=", "filename", "equals", "more", "or", "less", "map", "_", "data", "=", "{", "filename", "}", "<nl>", "if", "(", "starting", "_", "pos", "_", "[", "\"", "map", "_", "data", "\"", "]", ".", "empty", "(", ")", "&", "&", "starting", "_", "pos", "_", "[", "\"", "map", "\"", "]", "!", "=", "\"", "\"", ")", "{", "<nl>"], "docstring_tokens": ["preserve", "story", "on", "random", "scenario", "generation"]}
{"code_tokens": ["void", "play", "_", "controller", ":", ":", "show", "_", "help", "(", ")", "{", "<nl>", "}", "<nl>", "<nl>", "void", "play", "_", "controller", ":", ":", "undo", "(", ")", "{", "<nl>", "+", "/", "/", "deselect", "unit", "(", "only", "here", ",", "not", "to", "be", "done", "when", "undoing", "attack", "-", "move", ")", "<nl>", "+", "mouse", "_", "handler", "_", ".", "deselect", "_", "hex", "(", ")", ";", "<nl>", "menu", "_", "handler", "_", ".", "undo", "(", "player", "_", "number", "_", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "play", "_", "controller", ":", ":", "redo", "(", ")", "{", "<nl>", "+", "/", "/", "deselect", "unit", "(", "only", "here", ",", "not", "to", "be", "done", "when", "undoing", "attack", "-", "move", ")", "<nl>", "+", "mouse", "_", "handler", "_", ".", "deselect", "_", "hex", "(", ")", ";", "<nl>", "menu", "_", "handler", "_", ".", "redo", "(", "player", "_", "number", "_", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "play", "_", "controller", ":", ":", "init", "_", "side", "(", "const", "unsigned", "int", "team", "_", "index", ",", "bool", "/", "*", "is", "_", "replay", "*", "<nl>", "gui", "_", "-", ">", "invalidate", "_", "all", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "!", "recorder", ".", "is", "_", "skipping", "(", ")", ")", "{", "<nl>", "+", "if", "(", "!", "recorder", ".", "is", "_", "skipping", "(", ")", "&", "&", "!", "skip", "_", "replay", "_", ")", "{", "<nl>", "gui", "_", "-", ">", "scroll", "_", "to", "_", "leader", "(", "units", "_", ",", "player", "_", "number", "_", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Continue", "to", "clean", "2008", "03", "03T05", "40", "29Z", "davewx7", "gmail", "com"]}
{"code_tokens": ["void", "display", ":", ":", "clear", "_", "redraw", "_", "observers", "(", ")", "<nl>", "<nl>", "void", "display", ":", ":", "draw", "(", "bool", "update", ",", "bool", "force", ")", "{", "<nl>", "/", "/", "log", "_", "scope", "(", "\"", "display", ":", ":", "draw", "\"", ")", ";", "<nl>", "-", "if", "(", "screen", "_", ".", "update", "_", "locked", "(", ")", ")", "{", "<nl>", "+", "if", "(", "screen", "_", ".", "update", "_", "locked", "(", ")", "|", "|", "(", "SDL", "_", "GetAppState", "(", ")", "&", "SDL", "_", "APPACTIVE", ")", "=", "=", "0", ")", "{", "<nl>", "return", ";", "<nl>", "}", "<nl>", "bool", "changed", "=", "draw", "_", "init", "(", ")", ";", "<nl>"], "docstring_tokens": ["Fixed", "huge", "cpu", "usage", "when", "the", "window", "is", "hidden"]}
{"code_tokens": ["config", "connect", ":", ":", "side", ":", ":", "get", "_", "config", "(", ")", "const", "<nl>", "}", "<nl>", "{", "<nl>", "res", "[", "\"", "id", "\"", "]", "=", "res", "[", "\"", "save", "_", "id", "\"", "]", ";", "<nl>", "-", "const", "config", "&", "ai", "_", "cfg", "=", "ai", ":", ":", "configuration", ":", ":", "get", "_", "ai", "_", "config", "_", "for", "(", "ai", "_", "algorithm", "_", ")", ";", "<nl>", "-", "res", ".", "add", "_", "child", "(", "\"", "ai", "\"", ",", "ai", "_", "cfg", ")", ";", "<nl>", "utils", ":", ":", "string", "_", "map", "symbols", ";", "<nl>", "-", "symbols", "[", "\"", "playername", "\"", "]", "=", "ai", "_", "cfg", "[", "\"", "description", "\"", "]", ";", "<nl>", "+", "if", "(", "allow", "_", "player", "_", ")", "{", "<nl>", "+", "const", "config", "&", "ai", "_", "cfg", "=", "ai", ":", ":", "configuration", ":", ":", "get", "_", "ai", "_", "config", "_", "for", "(", "ai", "_", "algorithm", "_", ")", ";", "<nl>", "+", "res", ".", "add", "_", "child", "(", "\"", "ai", "\"", ",", "ai", "_", "cfg", ")", ";", "<nl>", "+", "symbols", "[", "\"", "playername", "\"", "]", "=", "ai", "_", "cfg", "[", "\"", "description", "\"", "]", ";", "<nl>", "+", "}", "else", "{", "/", "/", "do", "not", "import", "default", "ai", "cfg", "here", "-", "all", "is", "set", "by", "scenario", "config", "<nl>", "+", "symbols", "[", "\"", "playername", "\"", "]", "=", "_", "(", "\"", "Computer", "Player", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "symbols", "[", "\"", "side", "\"", "]", "=", "res", "[", "\"", "side", "\"", "]", ".", "str", "(", ")", ";", "<nl>", "description", "=", "vgettext", "(", "\"", "$", "playername", "$", "side", "\"", ",", "symbols", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fix", "bug", "with", "handling", "of", "old", "style", "AI", "parameters", "in", "MP", "scenarios"]}
{"code_tokens": ["void", "class", "_", "tag", ":", ":", "add", "_", "tag", "(", "const", "std", ":", ":", "string", "&", "path", ",", "const", "class", "_", "tag", "&", "tag", ",", "<nl>", "it", "-", ">", "second", ".", "add", "_", "keys", "(", "tag", ".", "keys", "_", ")", ";", "<nl>", "it", "-", ">", "second", ".", "add", "_", "links", "(", "tag", ".", "links", "_", ")", ";", "<nl>", "}", "<nl>", "+", "links", "_", ".", "erase", "(", "tag", ".", "get", "_", "name", "(", ")", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "std", ":", ":", "string", ":", ":", "size", "_", "type", "pos", "=", "path", ".", "find", "(", "'", "/", "'", ")", ";", "<nl>", "void", "class", "_", "tag", ":", ":", "append", "_", "super", "(", "const", "class", "_", "tag", "&", "tag", ",", "const", "std", ":", ":", "string", "&", "path", ")", "{", "<nl>", "add", "_", "keys", "(", "tag", ".", "keys", "_", ")", ";", "<nl>", "add", "_", "links", "(", "tag", ".", "links", "_", ")", ";", "<nl>", "for", "(", "tag", "_", "map", ":", ":", "const", "_", "iterator", "i", "=", "tag", ".", "tags", "_", ".", "begin", "(", ")", ";", "i", "!", "=", "tag", ".", "tags", "_", ".", "end", "(", ")", ";", "+", "+", "i", ")", "{", "<nl>", "+", "links", "_", ".", "erase", "(", "i", "-", ">", "first", ")", ";", "<nl>", "add", "_", "link", "(", "path", "+", "\"", "/", "\"", "+", "i", "-", ">", "first", ")", ";", "<nl>", "+", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fixed", "bug", "when", "links", "tags", "of", "super", "tag", "overrid", "links", "of", "tag"]}
{"code_tokens": ["void", "addon", "_", "manager", ":", ":", "apply", "_", "filters", "(", "window", "&", "window", ")", "<nl>", "template", "<", "void", "(", "addon", "_", "manager", ":", ":", "*", "fptr", ")", "(", "const", "addon", "_", "info", "&", "addon", ",", "window", "&", "window", ")", ">", "<nl>", "void", "addon", "_", "manager", ":", ":", "execute", "_", "action", "_", "on", "_", "selected", "_", "addon", "(", "window", "&", "window", ")", "<nl>", "{", "<nl>", "+", "/", "/", "Explicitly", "return", "to", "the", "main", "page", "if", "we", "'", "re", "in", "low", "-", "res", "mode", "so", "the", "list", "is", "visible", ".", "<nl>", "+", "if", "(", "stacked", "_", "widget", "*", "stk", "=", "find", "_", "widget", "<", "stacked", "_", "widget", ">", "(", "&", "window", ",", "\"", "main", "_", "stack", "\"", ",", "false", ",", "false", ")", ")", "{", "<nl>", "+", "stk", "-", ">", "select", "_", "layer", "(", "0", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "addon", "_", "list", "&", "addons", "=", "find", "_", "widget", "<", "addon", "_", "list", ">", "(", "&", "window", ",", "\"", "addons", "\"", ",", "false", ")", ";", "<nl>", "const", "addon", "_", "info", "*", "addon", "=", "addons", ".", "get", "_", "selected", "_", "addon", "(", ")", ";", "<nl>"], "docstring_tokens": ["Addon", "Manager", "fixed", "missing", "widget", "errors", "in", "low", "res", "mode", "fixes", "1993"]}
{"code_tokens": ["public", ":", "<nl>", "/", "/", "Destroys", "this", "object", ".", "<nl>", "void", "stop", "(", ")", ";", "<nl>", "<nl>", "+", "bool", "socket", "_", "open", "(", ")", "const", "<nl>", "+", "{", "<nl>", "+", "return", "socket", "_", ".", "is", "_", "open", "(", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "*", "True", "if", "connected", "and", "no", "high", "-", "level", "operation", "is", "in", "progress", "*", "/", "<nl>", "bool", "handshake", "_", "finished", "(", ")", "const", "<nl>", "{", "mmm", "src", "/", "wesnothd", "_", "connection", ".", "cpp", "<nl>", "public", ":", "<nl>", "/", "/", "Destroys", "this", "object", ".", "<nl>", "void", "stop", "(", ")", ";", "<nl>", "<nl>", "+", "bool", "socket", "_", "open", "(", ")", "const", "<nl>", "+", "{", "<nl>", "+", "return", "socket", "_", ".", "is", "_", "open", "(", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "*", "True", "if", "connected", "and", "no", "high", "-", "level", "operation", "is", "in", "progress", "*", "/", "<nl>", "bool", "handshake", "_", "finished", "(", ")", "const", "<nl>", "{", "<nl>", "void", "wesnothd", "_", "connection", ":", ":", "send", "_", "data", "(", "const", "configr", "_", "of", "&", "request", ")", "<nl>", "void", "wesnothd", "_", "connection", ":", ":", "cancel", "(", ")", "<nl>", "{", "<nl>", "MPTEST", "_", "LOG", ";", "<nl>", "-", "if", "(", "socket", "_", ".", "is", "_", "open", "(", ")", ")", "{", "<nl>", "+", "if", "(", "socket", "_", "open", "(", ")", ")", "{", "<nl>", "boost", ":", ":", "system", ":", ":", "error", "_", "code", "ec", ";", "<nl>", "<nl>", "#", "ifdef", "_", "MSC", "_", "VERmmm", "src", "/", "game", "_", "initialization", "/", "multiplayer", ".", "cpp", "<nl>", "public", ":", "<nl>", "/", "/", "Destroys", "this", "object", ".", "<nl>", "void", "stop", "(", ")", ";", "<nl>", "<nl>", "+", "bool", "socket", "_", "open", "(", ")", "const", "<nl>", "+", "{", "<nl>", "+", "return", "socket", "_", ".", "is", "_", "open", "(", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "*", "True", "if", "connected", "and", "no", "high", "-", "level", "operation", "is", "in", "progress", "*", "/", "<nl>", "bool", "handshake", "_", "finished", "(", ")", "const", "<nl>", "{", "<nl>", "void", "wesnothd", "_", "connection", ":", ":", "send", "_", "data", "(", "const", "configr", "_", "of", "&", "request", ")", "<nl>", "void", "wesnothd", "_", "connection", ":", ":", "cancel", "(", ")", "<nl>", "{", "<nl>", "MPTEST", "_", "LOG", ";", "<nl>", "-", "if", "(", "socket", "_", ".", "is", "_", "open", "(", ")", ")", "{", "<nl>", "+", "if", "(", "socket", "_", "open", "(", ")", ")", "{", "<nl>", "boost", ":", ":", "system", ":", ":", "error", "_", "code", "ec", ";", "<nl>", "<nl>", "#", "ifdef", "_", "MSC", "_", "VER", "<nl>", "std", ":", ":", "pair", "<", "wesnothd", "_", "connection", "_", "ptr", ",", "config", ">", "open", "_", "connection", "(", "std", ":", ":", "string", "host", ")", "<nl>", "return", "std", ":", ":", "make", "_", "pair", "(", "std", ":", ":", "move", "(", "sock", ")", ",", "config", "(", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "!", "sock", "-", ">", "socket", "_", "open", "(", ")", ")", "{", "<nl>", "+", "throw", "wesnothd", "_", "error", "(", "\"", "The", "server", "has", "shut", "down", "or", "restarted", ".", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "data", ".", "clear", "(", ")", ";", "<nl>", "sock", "-", ">", "wait", "_", "and", "_", "receive", "_", "data", "(", "data", ")", ";", "<nl>"], "docstring_tokens": ["Attempt", "to", "fix", "infinite", "loading", "screen", "if", "server", "restarts", "during", "MP", "login"]}
{"code_tokens": ["void", "play", "_", "multiplayer", "(", "display", "&", "disp", ",", "game", "_", "data", "&", "units", "_", "data", ",", "config", "cfg", ",", "<nl>", "}", "else", "if", "(", "result", "<", "int", "(", "choices", ".", "size", "(", ")", "/", "3", ")", "*", "2", ")", "{", "<nl>", "controller", "=", "\"", "ai", "\"", ";", "<nl>", "result", "-", "=", "choices", ".", "size", "(", ")", "/", "3", ";", "<nl>", "+", "sides", "[", "res", "]", "-", ">", "values", "[", "\"", "description", "\"", "]", "=", "\"", "\"", ";", "<nl>", "}", "else", "{", "<nl>", "controller", "=", "\"", "network", "\"", ";", "<nl>", "result", "-", "=", "(", "choices", ".", "size", "(", ")", "/", "3", ")", "*", "2", ";", "<nl>"], "docstring_tokens": ["made", "it", "so", "AI", "players", "have", "an", "empty", "description", "in", "multiplayer", "games"]}
{"code_tokens": ["void", "window", ":", ":", "layout", "(", ")", "<nl>", "<nl>", "log", "_", "scope2", "(", "log", "_", "gui", "_", "layout", ",", "LOG", "_", "SCOPE", "_", "HEADER", ")", ";", "<nl>", "<nl>", "-", "point", "size", "=", "get", "_", "best", "_", "size", "(", ")", ";", "<nl>", "const", "point", "mouse", "=", "get", "_", "mouse", "_", "position", "(", ")", ";", "<nl>", "<nl>", "variables", "_", ".", "add", "(", "\"", "mouse", "_", "x", "\"", ",", "wfl", ":", ":", "variant", "(", "mouse", ".", "x", ")", ")", ";", "<nl>", "variables", "_", ".", "add", "(", "\"", "mouse", "_", "y", "\"", ",", "wfl", ":", ":", "variant", "(", "mouse", ".", "y", ")", ")", ";", "<nl>", "variables", "_", ".", "add", "(", "\"", "window", "_", "width", "\"", ",", "wfl", ":", ":", "variant", "(", "0", ")", ")", ";", "<nl>", "variables", "_", ".", "add", "(", "\"", "window", "_", "height", "\"", ",", "wfl", ":", ":", "variant", "(", "0", ")", ")", ";", "<nl>", "-", "variables", "_", ".", "add", "(", "\"", "best", "_", "window", "_", "width", "\"", ",", "wfl", ":", ":", "variant", "(", "size", ".", "x", ")", ")", ";", "<nl>", "-", "variables", "_", ".", "add", "(", "\"", "best", "_", "window", "_", "height", "\"", ",", "wfl", ":", ":", "variant", "(", "size", ".", "y", ")", ")", ";", "<nl>", "variables", "_", ".", "add", "(", "\"", "size", "_", "request", "_", "mode", "\"", ",", "wfl", ":", ":", "variant", "(", "\"", "maximum", "\"", ")", ")", ";", "<nl>", "<nl>", "get", "_", "screen", "_", "size", "_", "variables", "(", "variables", "_", ")", ";", "<nl>", "void", "window", ":", ":", "layout", "(", ")", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "*", "*", "*", "Get", "the", "best", "location", "for", "the", "window", "*", "*", "*", "*", "*", "/", "<nl>", "-", "size", "=", "get", "_", "best", "_", "size", "(", ")", ";", "<nl>", "+", "point", "size", "=", "get", "_", "best", "_", "size", "(", ")", ";", "<nl>", "assert", "(", "size", ".", "x", "<", "=", "maximum", "_", "width", "&", "&", "size", ".", "y", "<", "=", "maximum", "_", "height", ")", ";", "<nl>", "<nl>", "point", "origin", "(", "0", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["GUI2", "Window", "reverted", "some", "unintentional", "semantic", "changes", "from", "88e5c49f5d3d300ea"]}
{"code_tokens": ["void", "draw", "(", "surface", "screen", ")", "<nl>", "if", "(", "use", "_", "colour", "_", "cursors", "(", ")", "=", "=", "false", ")", "{", "<nl>", "return", ";", "<nl>", "}", "<nl>", "-", "<nl>", "+", "<nl>", "+", "if", "(", "current", "_", "cursor", "=", "=", "NUM", "_", "CURSORS", ")", "{", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "!", "colour", "_", "ready", ")", "{", "<nl>", "/", "/", "display", "start", "to", "draw", "cursor", "<nl>", "/", "/", "so", "it", "can", "now", "display", "colour", "cursor", "<nl>", "void", "draw", "(", "surface", "screen", ")", "<nl>", "set", "(", "current", "_", "cursor", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "current", "_", "cursor", "=", "=", "NUM", "_", "CURSORS", ")", "{", "<nl>", "-", "return", ";", "<nl>", "-", "}", "<nl>", "-", "<nl>", "if", "(", "have", "_", "focus", "=", "=", "false", ")", "{", "<nl>", "cursor", "_", "buf", "=", "NULL", ";", "<nl>", "return", ";", "<nl>"], "docstring_tokens": ["some", "cleaning", "in", "the", "initialisation", "of", "color", "cursors"]}
{"code_tokens": ["loadscreen", ":", ":", "loadscreen", "(", "CVideo", "&", "screen", ",", "const", "int", "&", "percent", ")", ":", "<nl>", "setconfig", "_", "counter", "(", "0", ")", ",", "<nl>", "parser", "_", "counter", "(", "0", ")", ",", "<nl>", "screen", "_", "(", "screen", ")", ",", "<nl>", "+", "textarea", "_", "(", ")", ",", "<nl>", "+", "logo", "_", "surface", "_", "(", "NULL", ")", ",", "<nl>", "logo", "_", "drawn", "_", "(", "false", ")", ",", "<nl>", "pby", "_", "offset", "_", "(", "0", ")", ",", "<nl>", "prcnt", "_", "(", "percent", ")", "<nl>"], "docstring_tokens": ["Initialize", "all", "members"]}
{"code_tokens": ["void", "encounter", "_", "start", "_", "units", "(", "unit", "_", "map", "&", "units", ")", "{", "<nl>", "void", "encounter", "_", "recallable", "_", "units", "(", "std", ":", ":", "vector", "<", "team", ">", "&", "teams", ")", "{", "<nl>", "for", "(", "std", ":", ":", "vector", "<", "team", ">", ":", ":", "iterator", "help", "_", "team", "_", "it", "=", "teams", ".", "begin", "(", ")", ";", "<nl>", "help", "_", "team", "_", "it", "!", "=", "teams", ".", "end", "(", ")", ";", "+", "+", "help", "_", "team", "_", "it", ")", "{", "<nl>", "-", "for", "(", "std", ":", ":", "vector", "<", "unit", ">", ":", ":", "iterator", "help", "_", "recall", "_", "it", "=", "help", "_", "team", "_", "it", "-", ">", "recall", "_", "list", "(", ")", ".", "begin", "(", ")", ";", "help", "_", "recall", "_", "it", "!", "=", "help", "_", "team", "_", "it", "-", ">", "recall", "_", "list", "(", ")", ".", "end", "(", ")", ";", "help", "_", "recall", "_", "it", "+", "+", ")", "{", "<nl>", "+", "for", "(", "std", ":", ":", "vector", "<", "unit", ">", ":", ":", "iterator", "help", "_", "recall", "_", "it", "=", "help", "_", "team", "_", "it", "-", ">", "recall", "_", "list", "(", ")", ".", "begin", "(", ")", ";", "help", "_", "recall", "_", "it", "!", "=", "help", "_", "team", "_", "it", "-", ">", "recall", "_", "list", "(", ")", ".", "end", "(", ")", ";", "+", "+", "help", "_", "recall", "_", "it", ")", "{", "<nl>", "encountered", "_", "units", "_", "set", ".", "insert", "(", "help", "_", "recall", "_", "it", "-", ">", "type", "_", "id", "(", ")", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "void", "encounter", "_", "map", "_", "terrain", "(", "gamemap", "&", "map", ")", "{", "<nl>", "-", "for", "(", "int", "map", "_", "x", "=", "0", ";", "map", "_", "x", "<", "map", ".", "w", "(", ")", ";", "map", "_", "x", "+", "+", ")", "{", "<nl>", "-", "for", "(", "int", "map", "_", "y", "=", "0", ";", "map", "_", "y", "<", "map", ".", "h", "(", ")", ";", "map", "_", "y", "+", "+", ")", "{", "<nl>", "+", "for", "(", "int", "map", "_", "x", "=", "0", ";", "map", "_", "x", "<", "map", ".", "w", "(", ")", ";", "+", "+", "map", "_", "x", ")", "{", "<nl>", "+", "for", "(", "int", "map", "_", "y", "=", "0", ";", "map", "_", "y", "<", "map", ".", "h", "(", ")", ";", "+", "+", "map", "_", "y", ")", "{", "<nl>", "const", "t", "_", "translation", ":", ":", "t", "_", "terrain", "t", "=", "map", ".", "get", "_", "terrain", "(", "map", "_", "location", "(", "map", "_", "x", ",", "map", "_", "y", ")", ")", ";", "<nl>", "preferences", ":", ":", "encountered", "_", "terrains", "(", ")", ".", "insert", "(", "t", ")", ";", "<nl>", "const", "t", "_", "translation", ":", ":", "t", "_", "list", "&", "underlaying", "_", "list", "=", "map", ".", "underlying", "_", "union", "_", "terrain", "(", "map", "_", "location", "(", "map", "_", "x", ",", "map", "_", "y", ")", ")", ";", "<nl>", "-", "for", "(", "std", ":", ":", "vector", "<", "t", "_", "translation", ":", ":", "t", "_", "terrain", ">", ":", ":", "const", "_", "iterator", "ut", "=", "underlaying", "_", "list", ".", "begin", "(", ")", ";", "ut", "!", "=", "underlaying", "_", "list", ".", "end", "(", ")", ";", "ut", "+", "+", ")", "{", "<nl>", "+", "for", "(", "std", ":", ":", "vector", "<", "t", "_", "translation", ":", ":", "t", "_", "terrain", ">", ":", ":", "const", "_", "iterator", "ut", "=", "underlaying", "_", "list", ".", "begin", "(", ")", ";", "ut", "!", "=", "underlaying", "_", "list", ".", "end", "(", ")", ";", "+", "+", "ut", ")", "{", "<nl>", "preferences", ":", ":", "encountered", "_", "terrains", "(", ")", ".", "insert", "(", "*", "ut", ")", ";", "<nl>", "}", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Pre", "instead", "of", "post", "increment", "a", "variable"]}
{"code_tokens": ["struct", "font", "_", "id", "<nl>", "}", ";", "<nl>", "bool", "operator", "<", "(", "const", "font", "_", "id", "&", "o", ")", "const", "<nl>", "{", "<nl>", "-", "return", "subset", "<", "o", ".", "subset", "|", "|", "subset", "=", "=", "o", ".", "subset", "&", "&", "size", "<", "o", ".", "size", ";", "<nl>", "+", "return", "subset", "<", "o", ".", "subset", "|", "|", "(", "subset", "=", "=", "o", ".", "subset", "&", "&", "size", "<", "o", ".", "size", ")", ";", "<nl>", "}", ";", "<nl>", "<nl>", "subset", "_", "id", "subset", ";", "<nl>"], "docstring_tokens": ["Silence", "gcc", "4", "3", "warning", "by", "adding", "parens", "around", "clause", "near"]}
{"code_tokens": ["static", "int", "process", "_", "queue", "(", "void", "*", "shard", "_", "num", ")", "<nl>", "}", "else", "{", "<nl>", "std", ":", ":", "string", "buffer", "(", "buf", ".", "begin", "(", ")", ",", "buf", ".", "end", "(", ")", ")", ";", "<nl>", "std", ":", ":", "istringstream", "stream", "(", "buffer", ")", ";", "<nl>", "-", "/", "/", "Binary", "wml", "starts", "with", "a", "char", "<", "4", ",", "the", "first", "char", "of", "a", "gzip", "header", "is", "31", "<nl>", "-", "/", "/", "so", "test", "that", "here", "and", "use", "the", "proper", "reader", ".", "<nl>", "try", "{", "<nl>", "-", "if", "(", "stream", ".", "peek", "(", ")", "=", "=", "31", ")", "{", "<nl>", "-", "read", "_", "gz", "(", "received", "_", "data", "-", ">", "config", "_", "buf", ",", "stream", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "-", "/", "/", "/", "@", "todo", "Possibly", "complain", "more", "loudly", "<nl>", "-", "ERR", "_", "NW", "<", "<", "\"", "Receiving", "binary", "WML", ".", "Who", "is", "sending", "this", "?", "\\", "n", "\"", ";", "<nl>", "-", "}", "<nl>", "+", "read", "_", "gz", "(", "received", "_", "data", "-", ">", "config", "_", "buf", ",", "stream", ")", ";", "<nl>", "}", "catch", "(", "config", ":", ":", "error", "&", "e", ")", "<nl>", "{", "<nl>", "received", "_", "data", "-", ">", "config", "_", "error", "=", "e", ".", "message", ";", "<nl>"], "docstring_tokens": ["Remove", "a", "binary", "WML", "check"]}
{"code_tokens": ["version", "_", "info", ":", ":", "version", "_", "info", "(", "unsigned", "int", "major", ",", "unsigned", "int", "minor", ",", "unsigned", "int", "<nl>", "}", "<nl>", "<nl>", "version", "_", "info", ":", ":", "version", "_", "info", "(", "const", "std", ":", ":", "string", "&", "str", ")", "<nl>", "-", ":", "special", "_", "(", "\"", "\"", ")", ",", "special", "_", "separator", "_", "(", "'", "\\", "0", "'", ")", ",", "sane", "_", "(", "true", ")", "<nl>", "+", ":", "nums", "_", "(", ")", "<nl>", "+", ",", "special", "_", "(", "\"", "\"", ")", "<nl>", "+", ",", "special", "_", "separator", "_", "(", "'", "\\", "0", "'", ")", "<nl>", "+", ",", "sane", "_", "(", "true", ")", "<nl>", "{", "<nl>", "const", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "string", "_", "parts", "=", "utils", ":", ":", "split", "(", "str", ",", "'", ".", "'", ")", ";", "<nl>", "/", "/", "first", "two", "components", "are", "required", "to", "be", "valid", "numbers", ",", "though", "<nl>"], "docstring_tokens": ["Initialize", "all", "members"]}
{"code_tokens": ["std", ":", ":", "string", "server", ":", ":", "process", "_", "command", "(", "const", "std", ":", ":", "string", "&", "query", ")", "{", "<nl>", "}", "else", "if", "(", "command", "=", "=", "\"", "status", "\"", ")", "{", "<nl>", "out", "<", "<", "\"", "STATUS", "REPORT", "\\", "n", "\"", ";", "<nl>", "for", "(", "player", "_", "map", ":", ":", "const", "_", "iterator", "pl", "=", "players", "_", ".", "begin", "(", ")", ";", "pl", "!", "=", "players", "_", ".", "end", "(", ")", ";", "+", "+", "pl", ")", "{", "<nl>", "-", "if", "(", "parameters", "=", "=", "\"", "\"", "|", "|", "utils", ":", ":", "wildcard", "_", "string", "_", "match", "(", "pl", "-", ">", "second", ".", "name", "(", ")", ",", "parameters", ")", ")", "{", "<nl>", "+", "if", "(", "parameters", "=", "=", "\"", "\"", "<nl>", "+", "|", "|", "utils", ":", ":", "wildcard", "_", "string", "_", "match", "(", "pl", "-", ">", "second", ".", "name", "(", ")", ",", "parameters", ")", "<nl>", "+", "|", "|", "utils", ":", ":", "wildcard", "_", "string", "_", "match", "(", "network", ":", ":", "ip", "_", "address", "(", "pl", "-", ">", "first", ")", ",", "parameters", ")", ")", "{", "<nl>", "const", "network", ":", ":", "connection", "_", "stats", "&", "stats", "=", "network", ":", ":", "get", "_", "connection", "_", "stats", "(", "pl", "-", ">", "first", ")", ";", "<nl>", "const", "int", "time", "_", "connected", "=", "stats", ".", "time", "_", "connected", "/", "1000", ";", "<nl>", "const", "int", "seconds", "=", "time", "_", "connected", "%", "60", ";", "<nl>", "std", ":", ":", "string", "server", ":", ":", "process", "_", "command", "(", "const", "std", ":", ":", "string", "&", "query", ")", "{", "<nl>", "}", "else", "{", "<nl>", "out", "<", "<", "\"", "Command", "'", "\"", "<", "<", "command", "<", "<", "\"", "'", "is", "not", "recognized", ".", "\\", "n", "\"", ";", "<nl>", "out", "<", "<", "\"", "Available", "commands", "are", ":", "(", "lobby", ")", "msg", "<", "message", ">", ",", "motd", "[", "<", "message", ">", "]", "\"", "<nl>", "-", "\"", ",", "status", "[", "<", "nickmask", ">", "]", ",", "metrics", ",", "(", "k", ")", "ban", "(", "s", ")", "[", "<", "mask", ">", "]", ",", "unban", "<", "ipmask", ">", "\"", "<nl>", "+", "\"", ",", "status", "[", "<", "mask", ">", "]", ",", "metrics", ",", "(", "k", ")", "ban", "(", "s", ")", "[", "<", "mask", ">", "]", ",", "unban", "<", "ipmask", ">", "\"", "<nl>", "\"", ",", "kick", "<", "mask", ">", "\"", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["also", "allow", "querying", "the", "status", "by", "ipmask"]}
{"code_tokens": ["surface", "rotate", "_", "modification", ":", ":", "operator", "(", ")", "(", "const", "surface", "&", "src", ")", "const", "<nl>", "case", "180", ":", "return", "rotate", "_", "180", "_", "surface", "(", "src", ")", ";", "<nl>", "case", "270", ":", "return", "rotate", "_", "90", "_", "surface", "(", "src", ",", "false", ")", ";", "<nl>", "case", "360", ":", "return", "src", ";", "<nl>", "-", "default", ":", "return", "rotate", "_", "any", "_", "surface", "(", "src", ",", "normalized", ",", "zoom", "_", ",", "offset", "_", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "/", "Other", "values", "are", "not", "supported", ".", "Ignore", "them", ".", "<nl>", "-", "return", "src", ";", "<nl>", "+", "return", "rotate", "_", "any", "_", "surface", "(", "src", ",", "normalized", ",", "zoom", "_", ",", "offset", "_", ")", ";", "<nl>", "}", "<nl>", "<nl>", "surface", "gs", "_", "modification", ":", ":", "operator", "(", ")", "(", "const", "surface", "&", "src", ")", "const", "<nl>", "REGISTER", "_", "MOD", "_", "PARSER", "(", "ROTATE", ",", "args", ")", "<nl>", "lexical", "_", "cast", "_", "default", "<", "int", ">", "(", "slice", "_", "params", "[", "1", "]", ")", ",", "<nl>", "lexical", "_", "cast", "_", "default", "<", "int", ">", "(", "slice", "_", "params", "[", "2", "]", ")", ")", ";", "<nl>", "break", ";", "<nl>", "-", "default", ":", "<nl>", "-", "return", "NULL", ";", "<nl>", "-", "break", ";", "<nl>", "}", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fix", "warnings", "about", "unreachable", "code"]}
{"code_tokens": ["protected", ":", "<nl>", "_", "(", "\"", "Mute", "/", "Unmute", "all", "observers", ".", "(", "toggles", ")", "\"", ")", ",", "\"", "\"", ")", ";", "<nl>", "register", "_", "command", "(", "\"", "ping", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", ",", "<nl>", "\"", "\"", ")", ";", "<nl>", "-", "register", "_", "command", "(", "\"", "green", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", "_", "req", "_", "arg", ",", "<nl>", "-", "\"", "\"", ",", "\"", "\"", ",", "\"", "A", "\"", ")", ";", "<nl>", "-", "register", "_", "command", "(", "\"", "red", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", "_", "req", "_", "arg", ",", "<nl>", "-", "\"", "\"", ",", "\"", "\"", ",", "\"", "A", "\"", ")", ";", "<nl>", "-", "register", "_", "command", "(", "\"", "yellow", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", "_", "req", "_", "arg", ",", "<nl>", "-", "\"", "\"", ",", "\"", "\"", ",", "\"", "A", "\"", ")", ";", "<nl>", "register", "_", "command", "(", "\"", "report", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", "_", "req", "_", "arg", ",", "<nl>", "_", "(", "\"", "Report", "abuse", ",", "rule", "violations", ",", "etc", ".", "to", "the", "server", "moderators", ".", "\"", "<nl>", "\"", "Make", "sure", "to", "mention", "relevant", "nicknames", ",", "etc", ".", "\"", ")", ",", "\"", "\"", ")", ";", "mmm", "src", "/", "chat", "_", "events", ".", "cpp", "<nl>", "protected", ":", "<nl>", "_", "(", "\"", "Mute", "/", "Unmute", "all", "observers", ".", "(", "toggles", ")", "\"", ")", ",", "\"", "\"", ")", ";", "<nl>", "register", "_", "command", "(", "\"", "ping", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", ",", "<nl>", "\"", "\"", ")", ";", "<nl>", "-", "register", "_", "command", "(", "\"", "green", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", "_", "req", "_", "arg", ",", "<nl>", "-", "\"", "\"", ",", "\"", "\"", ",", "\"", "A", "\"", ")", ";", "<nl>", "-", "register", "_", "command", "(", "\"", "red", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", "_", "req", "_", "arg", ",", "<nl>", "-", "\"", "\"", ",", "\"", "\"", ",", "\"", "A", "\"", ")", ";", "<nl>", "-", "register", "_", "command", "(", "\"", "yellow", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", "_", "req", "_", "arg", ",", "<nl>", "-", "\"", "\"", ",", "\"", "\"", ",", "\"", "A", "\"", ")", ";", "<nl>", "register", "_", "command", "(", "\"", "report", "\"", ",", "&", "chat", "_", "command", "_", "handler", ":", ":", "do", "_", "network", "_", "send", "_", "req", "_", "arg", ",", "<nl>", "_", "(", "\"", "Report", "abuse", ",", "rule", "violations", ",", "etc", ".", "to", "the", "server", "moderators", ".", "\"", "<nl>", "\"", "Make", "sure", "to", "mention", "relevant", "nicknames", ",", "etc", ".", "\"", ")", ",", "\"", "\"", ")", ";", "<nl>", "void", "chat", "_", "handler", ":", ":", "send", "_", "command", "(", "const", "std", ":", ":", "string", "&", "cmd", ",", "const", "std", ":", ":", "string", "&", "args", "<nl>", "else", "if", "(", "cmd", "=", "=", "\"", "ping", "\"", ")", "{", "<nl>", "data", "[", "cmd", "]", "=", "std", ":", ":", "to", "_", "string", "(", "time", "(", "nullptr", ")", ")", ";", "<nl>", "}", "<nl>", "-", "else", "if", "(", "cmd", "=", "=", "\"", "green", "\"", ")", "{", "<nl>", "-", "data", ".", "add", "_", "child", "(", "\"", "query", "\"", ")", "[", "\"", "type", "\"", "]", "=", "\"", "lobbymsg", "@", "\"", "+", "args", ";", "<nl>", "-", "}", "<nl>", "-", "else", "if", "(", "cmd", "=", "=", "\"", "red", "\"", ")", "{", "<nl>", "-", "data", ".", "add", "_", "child", "(", "\"", "query", "\"", ")", "[", "\"", "type", "\"", "]", "=", "\"", "lobbymsg", "#", "\"", "+", "args", ";", "<nl>", "-", "}", "<nl>", "-", "else", "if", "(", "cmd", "=", "=", "\"", "yellow", "\"", ")", "{", "<nl>", "-", "data", ".", "add", "_", "child", "(", "\"", "query", "\"", ")", "[", "\"", "type", "\"", "]", "=", "\"", "lobbymsg", "<", "255", ",", "255", ",", "0", ">", "\"", "+", "args", ";", "<nl>", "-", "}", "<nl>", "else", "if", "(", "cmd", "=", "=", "\"", "report", "\"", ")", "{", "<nl>", "data", ".", "add", "_", "child", "(", "\"", "query", "\"", ")", "[", "\"", "type", "\"", "]", "=", "\"", "report", "\"", "+", "args", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Removed", "red", "yellow", "and", "green", "chat", "commands"]}
{"code_tokens": ["void", "textbox", ":", ":", "set", "_", "text", "(", "std", ":", ":", "string", "text", ")", "<nl>", "{", "<nl>", "text", "_", "=", "string", "_", "to", "_", "wstring", "(", "text", ")", ";", "<nl>", "cursor", "_", "=", "text", "_", ".", "size", "(", ")", ";", "<nl>", "+", "selstart", "_", "=", "-", "1", ";", "<nl>", "+", "selend", "_", "=", "-", "1", ";", "<nl>", "set", "_", "dirty", "(", "true", ")", ";", "<nl>", "update", "_", "text", "_", "cache", "(", "true", ")", ";", "<nl>", "}", "<nl>", "void", "textbox", ":", ":", "clear", "(", ")", "<nl>", "cursor", "_", "=", "0", ";", "<nl>", "cursor", "_", "pos", "_", "=", "0", ";", "<nl>", "text", "_", "pos", "_", "=", "0", ";", "<nl>", "+", "selstart", "_", "=", "-", "1", ";", "<nl>", "+", "selend", "_", "=", "-", "1", ";", "<nl>", "set", "_", "dirty", "(", "true", ")", ";", "<nl>", "update", "_", "text", "_", "cache", "(", "true", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fixed", "bug", "where", "entering", "a", "chat", "message", "while", "the", "message", "is", "selected"]}
{"code_tokens": ["namespace", "{", "<nl>", "<nl>", "/", "/", "Copy", "over", "COPYING", ".", "txt", "<nl>", "std", ":", ":", "string", "contents", "=", "read", "_", "file", "(", "\"", "COPYING", ".", "txt", "\"", ")", ";", "<nl>", "-", "config", "&", "copying", "=", "dir", ".", "add", "_", "child", "(", "\"", "file", "\"", ")", ";", "<nl>", "-", "copying", "[", "\"", "name", "\"", "]", "=", "\"", "COPYING", ".", "txt", "\"", ";", "<nl>", "-", "copying", "[", "\"", "contents", "\"", "]", "=", "contents", ";", "<nl>", "-", "<nl>", "if", "(", "contents", ".", "empty", "(", ")", ")", "{", "<nl>", "LOG", "_", "CS", "<", "<", "\"", "Could", "not", "find", "COPYING", ".", "txt", ",", "path", "is", "\\", "\"", "\"", "<nl>", "<", "<", "game", "_", "config", ":", ":", "path", "<", "<", "\"", "\\", "\"", "\\", "n", "\"", ";", "<nl>", "+", "return", ";", "<nl>", "}", "<nl>", "+", "config", "&", "copying", "=", "dir", ".", "add", "_", "child", "(", "\"", "file", "\"", ")", ";", "<nl>", "+", "copying", "[", "\"", "name", "\"", "]", "=", "\"", "COPYING", ".", "txt", "\"", ";", "<nl>", "+", "copying", "[", "\"", "contents", "\"", "]", "=", "contents", ";", "<nl>", "+", "<nl>", "}", "<nl>", "void", "campaign", "_", "server", ":", ":", "convert", "_", "binary", "_", "to", "_", "gzip", "(", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["don", "t", "add", "an", "empty", "COPYING", "txt"]}
{"code_tokens": ["bool", "can", "_", "recruit", "_", "on", "(", "const", "gamemap", "&", "map", ",", "const", "map", "_", "location", "&", "leader", ",", "const", "map", "_", "lo", "<nl>", "if", "(", "!", "map", ".", "is", "_", "castle", "(", "loc", ")", ")", "<nl>", "return", "false", ";", "<nl>", "<nl>", "+", "if", "(", "!", "map", ".", "is", "_", "keep", "(", "leader", ")", ")", "<nl>", "+", "return", "false", ";", "<nl>", "+", "<nl>", "castle", "_", "cost", "_", "calculator", "calc", "(", "map", ")", ";", "<nl>", "/", "/", "The", "limit", "computed", "in", "the", "third", "argument", "is", "more", "than", "enough", "for", "<nl>", "/", "/", "any", "convex", "castle", "on", "the", "map", ".", "Strictly", "speaking", "it", "could", "be", "<nl>"], "docstring_tokens": ["Don", "t", "show", "recruit", "in", "the", "context", "menu", "unless"]}
{"code_tokens": ["tlobby", "_", "main", ":", ":", "tlobby", "_", "main", "(", "const", "config", "&", "game", "_", "config", ",", "<nl>", "{", "<nl>", "/", "/", "Need", "to", "set", "this", "in", "the", "constructor", ",", "pre", "_", "show", "(", ")", "is", "too", "late", "<nl>", "set", "_", "show", "_", "even", "_", "without", "_", "video", "(", "true", ")", ";", "<nl>", "+", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "}", "<nl>", "<nl>", "struct", "lobby", "_", "delay", "_", "gamelist", "_", "update", "_", "guard", "<nl>", "void", "tlobby", "_", "main", ":", ":", "pre", "_", "show", "(", "twindow", "&", "window", ")", "<nl>", "game", "_", "config", ":", ":", "lobby", "_", "network", "_", "timer", ",", "std", ":", ":", "bind", "(", "&", "tlobby", "_", "main", ":", ":", "network", "_", "handler", ",", "this", ")", ",", "true", ")", ";", "<nl>", "<nl>", "/", "/", "Set", "up", "Lua", "plugin", "context", "<nl>", "-", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "plugins", "_", "context", "_", ".", "reset", "(", "new", "plugins", "_", "context", "(", "\"", "Multiplayer", "Lobby", "\"", ")", ")", ";", "<nl>", "<nl>", "plugins", "_", "context", "_", "-", ">", "set", "_", "callback", "(", "\"", "join", "\"", ",", "[", "&", ",", "this", "]", "(", "const", "config", "&", ")", "{", "mmm", "src", "/", "gui", "/", "dialogs", "/", "multiplayer", "/", "mp", "_", "create", "_", "game", ".", "cpp", "<nl>", "tlobby", "_", "main", ":", ":", "tlobby", "_", "main", "(", "const", "config", "&", "game", "_", "config", ",", "<nl>", "{", "<nl>", "/", "/", "Need", "to", "set", "this", "in", "the", "constructor", ",", "pre", "_", "show", "(", ")", "is", "too", "late", "<nl>", "set", "_", "show", "_", "even", "_", "without", "_", "video", "(", "true", ")", ";", "<nl>", "+", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "}", "<nl>", "<nl>", "struct", "lobby", "_", "delay", "_", "gamelist", "_", "update", "_", "guard", "<nl>", "void", "tlobby", "_", "main", ":", ":", "pre", "_", "show", "(", "twindow", "&", "window", ")", "<nl>", "game", "_", "config", ":", ":", "lobby", "_", "network", "_", "timer", ",", "std", ":", ":", "bind", "(", "&", "tlobby", "_", "main", ":", ":", "network", "_", "handler", ",", "this", ")", ",", "true", ")", ";", "<nl>", "<nl>", "/", "/", "Set", "up", "Lua", "plugin", "context", "<nl>", "-", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "plugins", "_", "context", "_", ".", "reset", "(", "new", "plugins", "_", "context", "(", "\"", "Multiplayer", "Lobby", "\"", ")", ")", ";", "<nl>", "<nl>", "plugins", "_", "context", "_", "-", ">", "set", "_", "callback", "(", "\"", "join", "\"", ",", "[", "&", ",", "this", "]", "(", "const", "config", "&", ")", "{", "<nl>", "tmp", "_", "create", "_", "game", ":", ":", "tmp", "_", "create", "_", "game", "(", "const", "config", "&", "cfg", ",", "ng", ":", ":", "create", "_", "engine", "&", "create", "_", "en", "<nl>", "<nl>", "create", "_", "engine", "_", ".", "get", "_", "state", "(", ")", "=", "saved", "_", "game", "(", ")", ";", "<nl>", "create", "_", "engine", "_", ".", "get", "_", "state", "(", ")", ".", "classification", "(", ")", ".", "campaign", "_", "type", "=", "game", "_", "classification", ":", ":", "CAMPAIGN", "_", "TYPE", ":", ":", "MULTIPLAYER", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Need", "to", "set", "this", "in", "the", "constructor", ",", "pre", "_", "show", "(", ")", "is", "too", "late", "<nl>", "+", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "tmp", "_", "create", "_", "game", ":", ":", "pre", "_", "show", "(", "twindow", "&", "window", ")", "<nl>", "void", "tmp", "_", "create", "_", "game", ":", ":", "pre", "_", "show", "(", "twindow", "&", "window", ")", "<nl>", "/", "/", "<nl>", "/", "/", "Set", "up", "the", "Lua", "plugin", "context", "<nl>", "/", "/", "<nl>", "-", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "plugins", "_", "context", "_", ".", "reset", "(", "new", "plugins", "_", "context", "(", "\"", "Multiplayer", "Create", "\"", ")", ")", ";", "<nl>", "<nl>", "plugins", "_", "context", "_", "-", ">", "set", "_", "callback", "(", "\"", "create", "\"", ",", "[", "&", "window", "]", "(", "const", "config", "&", ")", "{", "window", ".", "set", "_", "retval", "(", "twindow", ":", ":", "OK", ")", ";", "}", ",", "false", ")", ";", "mmm", "src", "/", "gui", "/", "dialogs", "/", "title", "_", "screen", ".", "cpp", "<nl>", "tlobby", "_", "main", ":", ":", "tlobby", "_", "main", "(", "const", "config", "&", "game", "_", "config", ",", "<nl>", "{", "<nl>", "/", "/", "Need", "to", "set", "this", "in", "the", "constructor", ",", "pre", "_", "show", "(", ")", "is", "too", "late", "<nl>", "set", "_", "show", "_", "even", "_", "without", "_", "video", "(", "true", ")", ";", "<nl>", "+", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "}", "<nl>", "<nl>", "struct", "lobby", "_", "delay", "_", "gamelist", "_", "update", "_", "guard", "<nl>", "void", "tlobby", "_", "main", ":", ":", "pre", "_", "show", "(", "twindow", "&", "window", ")", "<nl>", "game", "_", "config", ":", ":", "lobby", "_", "network", "_", "timer", ",", "std", ":", ":", "bind", "(", "&", "tlobby", "_", "main", ":", ":", "network", "_", "handler", ",", "this", ")", ",", "true", ")", ";", "<nl>", "<nl>", "/", "/", "Set", "up", "Lua", "plugin", "context", "<nl>", "-", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "plugins", "_", "context", "_", ".", "reset", "(", "new", "plugins", "_", "context", "(", "\"", "Multiplayer", "Lobby", "\"", ")", ")", ";", "<nl>", "<nl>", "plugins", "_", "context", "_", "-", ">", "set", "_", "callback", "(", "\"", "join", "\"", ",", "[", "&", ",", "this", "]", "(", "const", "config", "&", ")", "{", "<nl>", "tmp", "_", "create", "_", "game", ":", ":", "tmp", "_", "create", "_", "game", "(", "const", "config", "&", "cfg", ",", "ng", ":", ":", "create", "_", "engine", "&", "create", "_", "en", "<nl>", "<nl>", "create", "_", "engine", "_", ".", "get", "_", "state", "(", ")", "=", "saved", "_", "game", "(", ")", ";", "<nl>", "create", "_", "engine", "_", ".", "get", "_", "state", "(", ")", ".", "classification", "(", ")", ".", "campaign", "_", "type", "=", "game", "_", "classification", ":", ":", "CAMPAIGN", "_", "TYPE", ":", ":", "MULTIPLAYER", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Need", "to", "set", "this", "in", "the", "constructor", ",", "pre", "_", "show", "(", ")", "is", "too", "late", "<nl>", "+", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "tmp", "_", "create", "_", "game", ":", ":", "pre", "_", "show", "(", "twindow", "&", "window", ")", "<nl>", "void", "tmp", "_", "create", "_", "game", ":", ":", "pre", "_", "show", "(", "twindow", "&", "window", ")", "<nl>", "/", "/", "<nl>", "/", "/", "Set", "up", "the", "Lua", "plugin", "context", "<nl>", "/", "/", "<nl>", "-", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "plugins", "_", "context", "_", ".", "reset", "(", "new", "plugins", "_", "context", "(", "\"", "Multiplayer", "Create", "\"", ")", ")", ";", "<nl>", "<nl>", "plugins", "_", "context", "_", "-", ">", "set", "_", "callback", "(", "\"", "create", "\"", ",", "[", "&", "window", "]", "(", "const", "config", "&", ")", "{", "window", ".", "set", "_", "retval", "(", "twindow", ":", ":", "OK", ")", ";", "}", ",", "false", ")", ";", "<nl>", "void", "ttitle", "_", "screen", ":", ":", "basic", "_", "callback", "(", "twindow", "&", "window", ",", "tresult", "res", ")", "<nl>", "<nl>", "ttitle", "_", "screen", ":", ":", "ttitle", "_", "screen", "(", "game", "_", "launcher", "&", "game", ")", ":", "result", "_", "(", "REDRAW", "_", "BACKGROUND", ")", ",", "game", "_", "(", "game", ")", ",", "debug", "_", "clock", "_", "(", "nullptr", ")", "<nl>", "{", "<nl>", "+", "/", "/", "Need", "to", "set", "this", "in", "the", "constructor", ",", "pre", "_", "show", "(", ")", "/", "post", "_", "build", "(", ")", "is", "too", "late", "<nl>", "+", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "}", "<nl>", "<nl>", "ttitle", "_", "screen", ":", ":", "~", "ttitle", "_", "screen", "(", ")", "<nl>", "debug", "_", "tooltip", "(", "twindow", "&", "window", ",", "bool", "&", "handled", ",", "const", "tpoint", "&", "coordinate", ")", "<nl>", "void", "ttitle", "_", "screen", ":", ":", "pre", "_", "show", "(", "twindow", "&", "window", ")", "<nl>", "{", "<nl>", "set", "_", "restore", "(", "false", ")", ";", "<nl>", "-", "set", "_", "allow", "_", "plugin", "_", "skip", "(", "false", ")", ";", "<nl>", "window", ".", "set", "_", "click", "_", "dismiss", "(", "false", ")", ";", "<nl>", "window", ".", "set", "_", "enter", "_", "disabled", "(", "true", ")", ";", "<nl>", "window", ".", "set", "_", "escape", "_", "disabled", "(", "true", ")", ";", "<nl>"], "docstring_tokens": ["Clear", "allow_plugin_skip", "earlier", "in", "titlescreen", "and", "MP", "lobby", "create"]}
{"code_tokens": ["void", "calculate", "_", "healing", "(", "display", "&", "disp", ",", "const", "gamemap", "&", "map", ",", "<nl>", "<nl>", "int", "pos", "_", "max", "=", "i", "-", ">", "second", ".", "max", "_", "hitpoints", "(", ")", "-", "i", "-", ">", "second", ".", "hitpoints", "(", ")", ";", "<nl>", "int", "neg", "_", "max", "=", "-", "(", "i", "-", ">", "second", ".", "hitpoints", "(", ")", "-", "1", ")", ";", "<nl>", "+", "if", "(", "healing", ">", "0", "&", "&", "pos", "_", "max", "<", "=", "0", ")", "{", "<nl>", "+", "/", "/", "Do", "not", "try", "to", "\"", "heal", "\"", "if", "HP", ">", "=", "max", "HP", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "if", "(", "healing", ">", "pos", "_", "max", ")", "{", "<nl>", "healing", "=", "pos", "_", "max", ";", "<nl>", "}", "else", "if", "(", "healing", "<", "neg", "_", "max", ")", "{", "<nl>"], "docstring_tokens": ["Fix", "a", "nasty", "healing", "bug"]}
{"code_tokens": ["bool", "event", "_", "handler", ":", ":", "handle", "_", "event", "_", "command", "(", "const", "queued", "_", "event", "&", "event", "_", "info", ",", "<nl>", "const", "int", "side", "=", "lexical", "_", "cast", "_", "default", "<", "int", ">", "(", "side", "_", "str", ".", "value", "(", ")", ",", "-", "1", ")", ";", "<nl>", "<nl>", "/", "/", "Select", "advancement", "if", "it", "is", "on", "the", "playing", "side", "and", "the", "player", "is", "a", "human", "<nl>", "-", "const", "bool", "sel", "=", "(", "side", "=", "=", "u", ".", "side", "(", ")", "&", "&", "(", "*", "teams", ")", "[", "side", "-", "1", "]", ".", "is", "_", "human", "(", ")", ")", ";", "<nl>", "+", "const", "bool", "sel", "=", "(", "side", "=", "=", "static", "_", "cast", "<", "int", ">", "(", "u", ".", "side", "(", ")", ")", "<nl>", "+", "&", "&", "(", "*", "teams", ")", "[", "side", "-", "1", "]", ".", "is", "_", "human", "(", ")", ")", ";", "<nl>", "<nl>", "/", "/", "The", "code", "in", "dialogs", ":", ":", "advance", "_", "unit", "tests", "whether", "the", "unit", "can", "advance", "<nl>", "dialogs", ":", ":", "advance", "_", "unit", "(", "*", "game", "_", "data", "_", "ptr", ",", "*", "game", "_", "map", ",", "*", "units", ",", "loc", ",", "*", "screen", ",", "!", "sel", ",", "true", ")", ";", "<nl>"], "docstring_tokens": ["explicit", "cast", "to", "int", "thanks", "hajo"]}
{"code_tokens": ["namespace", "{", "<nl>", "bool", "terrain", "_", "matches", "_", "filter", "(", "const", "gamemap", "&", "map", ",", "const", "gamemap", ":", ":", "location", "&", "loc", ",", "const", "vconfig", "&", "cfg", ",", "<nl>", "const", "gamestatus", "&", "game", "_", "status", ",", "const", "unit", "_", "map", "&", "units", ",", "const", "bool", "flat", "_", "tod", ",", "<nl>", "const", "size", "_", "t", "max", "_", "loop", ")", "<nl>", "-", "{", "<nl>", "+", "{", "<nl>", "+", "if", "(", "!", "map", ".", "on", "_", "board", "(", "loc", ")", ")", "return", "false", ";", "<nl>", "+", "<nl>", "/", "/", "handle", "radius", "<nl>", "const", "size", "_", "t", "radius", "=", "minimum", "<", "size", "_", "t", ">", "(", "max", "_", "loop", ",", "<nl>", "lexical", "_", "cast", "_", "default", "<", "size", "_", "t", ">", "(", "cfg", "[", "\"", "radius", "\"", "]", ",", "0", ")", ")", ";", "<nl>"], "docstring_tokens": ["locations", "not", "on", "the", "map", "should", "instantly", "fail", "to", "location", "filter"]}
{"code_tokens": ["static", "void", "precache", "_", "file", "_", "existence", "_", "internal", "(", "const", "std", ":", ":", "string", "&", "dir", ",", "const", "std", ":", ":", "<nl>", "return", ";", "<nl>", "precached", "_", "dirs", ".", "insert", "(", "checked", "_", "dir", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "filesystem", ":", ":", "is", "_", "directory", "(", "checked", "_", "dir", ")", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "files", "_", "found", ";", "<nl>", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "dirs", "_", "found", ";", "<nl>", "filesystem", ":", ":", "get", "_", "files", "_", "in", "_", "dir", "(", "checked", "_", "dir", ",", "&", "files", "_", "found", ",", "&", "dirs", "_", "found", ",", "<nl>"], "docstring_tokens": ["Don", "t", "try", "to", "iterate", "over", "things", "that", "are", "not", "directories"]}
{"code_tokens": ["#", "include", "\"", "foreach", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "game", "_", "end", "_", "exceptions", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "game", "_", "events", ".", "hpp", "\"", "<nl>", "-", "#", "include", "\"", "game", "_", "preferences", ".", "hpp", "\"", "/", "/", "FIXME", ":", "get", "rid", "of", "this", "one", "<nl>", "#", "include", "\"", "gettext", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "gui", "/", "dialogs", "/", "game", "_", "save", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "gui", "/", "widgets", "/", "window", ".", "hpp", "\"", "<nl>", "bool", "savegame", ":", ":", "save", "_", "game", "_", "interactive", "(", "display", "&", "gui", ",", "const", "std", ":", ":", "string", "&", "message", ",", "<nl>", "}", "<nl>", "<nl>", "std", ":", ":", "string", "filename", "=", "filename", "_", ";", "<nl>", "-", "if", "(", "res", "=", "=", "gui2", ":", ":", "twindow", ":", ":", "OK", "&", "&", "savegame", "_", "manager", ":", ":", "save", "_", "game", "_", "exists", "(", "filename", ",", "preferences", ":", ":", "compress", "_", "saves", "(", ")", ")", ")", "{", "<nl>", "+", "if", "(", "res", "=", "=", "gui2", ":", ":", "twindow", ":", ":", "OK", "&", "&", "savegame", "_", "manager", ":", ":", "save", "_", "game", "_", "exists", "(", "filename", ",", "compress", "_", "saves", "_", ")", ")", "{", "<nl>", "std", ":", ":", "stringstream", "s", ";", "<nl>", "s", "<", "<", "_", "(", "\"", "Save", "already", "exists", ".", "Do", "you", "want", "to", "overwrite", "it", "?", "\"", ")", "<nl>", "<", "<", "std", ":", ":", "endl", "<", "<", "_", "(", "\"", "Name", ":", "\"", ")", "<", "<", "filename", ";", "<nl>"], "docstring_tokens": ["Savegame", "reorganization", "Step", "1", "a", "simpler", "interface", "to", "saving", "and", "loading"]}
{"code_tokens": ["hotkey", ":", ":", "hotkey", "_", "command", "_", "temp", "hotkey", "_", "list", "_", "[", "]", "=", "{", "<nl>", "{", "hotkey", ":", ":", "HOTKEY", "_", "CLEAR", "_", "MSG", ",", "\"", "clearmessages", "\"", ",", "N", "_", "(", "\"", "Clear", "Messages", "\"", ")", ",", "false", ",", "hotkey", ":", ":", "SCOPE", "_", "GAME", ",", "\"", "\"", "}", ",", "<nl>", "<nl>", "{", "hotkey", ":", ":", "HOTKEY", "_", "LANGUAGE", ",", "\"", "changelanguage", "\"", ",", "N", "_", "(", "\"", "Change", "Language", "\"", ")", ",", "false", ",", "hotkey", ":", ":", "SCOPE", "_", "MAIN", "_", "MENU", ",", "\"", "\"", "}", ",", "<nl>", "-", "{", "hotkey", ":", ":", "TITLE", "_", "SCREEN", "_", "_", "RELOAD", "_", "WML", ",", "\"", "title", "_", "screen", "_", "_", "reload", "_", "wml", "\"", ",", "N", "_", "(", "\"", "Refresh", "WML", "\"", ")", ",", "true", ",", "hotkey", ":", ":", "SCOPE", "_", "MAIN", "_", "MENU", ",", "\"", "\"", "}", ",", "<nl>", "+", "{", "hotkey", ":", ":", "TITLE", "_", "SCREEN", "_", "_", "RELOAD", "_", "WML", ",", "\"", "title", "_", "screen", "_", "_", "reload", "_", "wml", "\"", ",", "N", "_", "(", "\"", "Refresh", "WML", "\"", ")", ",", "true", ",", "hotkey", ":", ":", "SCOPE", "_", "GENERAL", ",", "\"", "\"", "}", ",", "<nl>", "{", "hotkey", ":", ":", "TITLE", "_", "SCREEN", "_", "_", "NEXT", "_", "TIP", ",", "\"", "title", "_", "screen", "_", "_", "next", "_", "tip", "\"", ",", "N", "_", "(", "\"", "Next", "Tip", "of", "the", "Day", "\"", ")", ",", "false", ",", "hotkey", ":", ":", "SCOPE", "_", "MAIN", "_", "MENU", ",", "\"", "\"", "}", ",", "<nl>", "{", "hotkey", ":", ":", "TITLE", "_", "SCREEN", "_", "_", "PREVIOUS", "_", "TIP", ",", "\"", "title", "_", "screen", "_", "_", "previous", "_", "tip", "\"", ",", "N", "_", "(", "\"", "Previous", "Tip", "of", "the", "Day", "\"", ")", ",", "false", ",", "hotkey", ":", ":", "SCOPE", "_", "MAIN", "_", "MENU", ",", "\"", "\"", "}", ",", "<nl>", "{", "hotkey", ":", ":", "TITLE", "_", "SCREEN", "_", "_", "TUTORIAL", ",", "\"", "title", "_", "screen", "_", "_", "tutorial", "\"", ",", "N", "_", "(", "\"", "Start", "Tutorial", "\"", ")", ",", "false", ",", "hotkey", ":", ":", "SCOPE", "_", "MAIN", "_", "MENU", ",", "\"", "\"", "}", ",", "<nl>"], "docstring_tokens": ["Fix", "for", "bug", "21717", "F5", "reload", "doesn", "t", "work", "in", "editor"]}
{"code_tokens": ["class", "connection", "<nl>", "std", ":", ":", "size", "_", "t", "bytes", "_", "transferred", ",", "<nl>", "config", "&", "response", "<nl>", ")", ";", "<nl>", "-", "boost", ":", ":", "optional", "<", "std", ":", ":", "size", "_", "t", ">", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "+", "std", ":", ":", "size", "_", "t", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "std", ":", ":", "size", "_", "t", "bytes", "_", "read", "_", ";", "<nl>", "<nl>", "public", ":", "<nl>", "class", "connection", "<nl>", "/", "*", "*", "True", "if", "connected", "and", "no", "high", "-", "level", "operation", "is", "in", "progress", "*", "/", "<nl>", "bool", "done", "(", ")", "const", "{", "return", "done", "_", ";", "}", "<nl>", "<nl>", "-", "const", "boost", ":", ":", "optional", "<", "std", ":", ":", "size", "_", "t", ">", "&", "bytes", "_", "to", "_", "read", "(", ")", "const", "<nl>", "+", "std", ":", ":", "size", "_", "t", "bytes", "_", "to", "_", "read", "(", ")", "const", "<nl>", "{", "<nl>", "return", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "}", "mmm", "src", "/", "network", "_", "asio", ".", "cpp", "<nl>", "class", "connection", "<nl>", "std", ":", ":", "size", "_", "t", "bytes", "_", "transferred", ",", "<nl>", "config", "&", "response", "<nl>", ")", ";", "<nl>", "-", "boost", ":", ":", "optional", "<", "std", ":", ":", "size", "_", "t", ">", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "+", "std", ":", ":", "size", "_", "t", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "std", ":", ":", "size", "_", "t", "bytes", "_", "read", "_", ";", "<nl>", "<nl>", "public", ":", "<nl>", "class", "connection", "<nl>", "/", "*", "*", "True", "if", "connected", "and", "no", "high", "-", "level", "operation", "is", "in", "progress", "*", "/", "<nl>", "bool", "done", "(", ")", "const", "{", "return", "done", "_", ";", "}", "<nl>", "<nl>", "-", "const", "boost", ":", ":", "optional", "<", "std", ":", ":", "size", "_", "t", ">", "&", "bytes", "_", "to", "_", "read", "(", ")", "const", "<nl>", "+", "std", ":", ":", "size", "_", "t", "bytes", "_", "to", "_", "read", "(", ")", "const", "<nl>", "{", "<nl>", "return", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "}", "<nl>", "connection", ":", ":", "connection", "(", "const", "std", ":", ":", "string", "&", "host", ",", "const", "std", ":", ":", "string", "&", "service", ")", "<nl>", ",", "write", "_", "buf", "_", "(", ")", "<nl>", ",", "read", "_", "buf", "_", "(", ")", "<nl>", ",", "handshake", "_", "response", "_", "(", ")", "<nl>", "-", ",", "bytes", "_", "to", "_", "read", "_", "(", ")", "<nl>", "+", ",", "bytes", "_", "to", "_", "read", "_", "(", "0", ")", "<nl>", ",", "bytes", "_", "read", "_", "(", "0", ")", "<nl>", "{", "<nl>", "resolver", "_", ".", "async", "_", "resolve", "(", "<nl>", "std", ":", ":", "size", "_", "t", "connection", ":", ":", "is", "_", "read", "_", "complete", "(", "<nl>", "bytes", "_", "to", "_", "read", "_", "=", "ntohl", "(", "data", "_", "size", ".", "num", ")", "+", "4", ";", "<nl>", "}", "<nl>", "#", "if", "BOOST", "_", "VERSION", ">", "=", "103700", "<nl>", "-", "return", "bytes", "_", "to", "_", "read", "_", ".", "get", "(", ")", "-", "bytes", "_", "transferred", ";", "<nl>", "+", "return", "bytes", "_", "to", "_", "read", "_", "-", "bytes", "_", "transferred", ";", "<nl>", "#", "else", "<nl>", "-", "return", "bytes", "_", "to", "_", "read", "_", ".", "get", "(", ")", "=", "=", "bytes", "_", "transferred", ";", "<nl>", "+", "return", "bytes", "_", "to", "_", "read", "_", "=", "=", "bytes", "_", "transferred", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "}", "<nl>", "void", "connection", ":", ":", "handle", "_", "read", "(", "<nl>", ")", "<nl>", "{", "<nl>", "std", ":", ":", "cout", "<", "<", "\"", "Read", "\"", "<", "<", "bytes", "_", "transferred", "<", "<", "\"", "bytes", ".", "\\", "n", "\"", ";", "<nl>", "-", "bytes", "_", "to", "_", "read", "_", ".", "reset", "(", ")", ";", "<nl>", "+", "bytes", "_", "to", "_", "read", "_", "=", "0", ";", "<nl>", "done", "_", "=", "true", ";", "<nl>", "if", "(", "ec", "&", "&", "ec", "!", "=", "boost", ":", ":", "asio", ":", ":", "error", ":", ":", "eof", ")", "<nl>", "throw", "error", "(", "ec", ")", ";", "mmm", "src", "/", "gui", "/", "dialogs", "/", "network", "_", "transmission", ".", "cpp", "<nl>", "class", "connection", "<nl>", "std", ":", ":", "size", "_", "t", "bytes", "_", "transferred", ",", "<nl>", "config", "&", "response", "<nl>", ")", ";", "<nl>", "-", "boost", ":", ":", "optional", "<", "std", ":", ":", "size", "_", "t", ">", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "+", "std", ":", ":", "size", "_", "t", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "std", ":", ":", "size", "_", "t", "bytes", "_", "read", "_", ";", "<nl>", "<nl>", "public", ":", "<nl>", "class", "connection", "<nl>", "/", "*", "*", "True", "if", "connected", "and", "no", "high", "-", "level", "operation", "is", "in", "progress", "*", "/", "<nl>", "bool", "done", "(", ")", "const", "{", "return", "done", "_", ";", "}", "<nl>", "<nl>", "-", "const", "boost", ":", ":", "optional", "<", "std", ":", ":", "size", "_", "t", ">", "&", "bytes", "_", "to", "_", "read", "(", ")", "const", "<nl>", "+", "std", ":", ":", "size", "_", "t", "bytes", "_", "to", "_", "read", "(", ")", "const", "<nl>", "{", "<nl>", "return", "bytes", "_", "to", "_", "read", "_", ";", "<nl>", "}", "<nl>", "connection", ":", ":", "connection", "(", "const", "std", ":", ":", "string", "&", "host", ",", "const", "std", ":", ":", "string", "&", "service", ")", "<nl>", ",", "write", "_", "buf", "_", "(", ")", "<nl>", ",", "read", "_", "buf", "_", "(", ")", "<nl>", ",", "handshake", "_", "response", "_", "(", ")", "<nl>", "-", ",", "bytes", "_", "to", "_", "read", "_", "(", ")", "<nl>", "+", ",", "bytes", "_", "to", "_", "read", "_", "(", "0", ")", "<nl>", ",", "bytes", "_", "read", "_", "(", "0", ")", "<nl>", "{", "<nl>", "resolver", "_", ".", "async", "_", "resolve", "(", "<nl>", "std", ":", ":", "size", "_", "t", "connection", ":", ":", "is", "_", "read", "_", "complete", "(", "<nl>", "bytes", "_", "to", "_", "read", "_", "=", "ntohl", "(", "data", "_", "size", ".", "num", ")", "+", "4", ";", "<nl>", "}", "<nl>", "#", "if", "BOOST", "_", "VERSION", ">", "=", "103700", "<nl>", "-", "return", "bytes", "_", "to", "_", "read", "_", ".", "get", "(", ")", "-", "bytes", "_", "transferred", ";", "<nl>", "+", "return", "bytes", "_", "to", "_", "read", "_", "-", "bytes", "_", "transferred", ";", "<nl>", "#", "else", "<nl>", "-", "return", "bytes", "_", "to", "_", "read", "_", ".", "get", "(", ")", "=", "=", "bytes", "_", "transferred", ";", "<nl>", "+", "return", "bytes", "_", "to", "_", "read", "_", "=", "=", "bytes", "_", "transferred", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "}", "<nl>", "void", "connection", ":", ":", "handle", "_", "read", "(", "<nl>", ")", "<nl>", "{", "<nl>", "std", ":", ":", "cout", "<", "<", "\"", "Read", "\"", "<", "<", "bytes", "_", "transferred", "<", "<", "\"", "bytes", ".", "\\", "n", "\"", ";", "<nl>", "-", "bytes", "_", "to", "_", "read", "_", ".", "reset", "(", ")", ";", "<nl>", "+", "bytes", "_", "to", "_", "read", "_", "=", "0", ";", "<nl>", "done", "_", "=", "true", ";", "<nl>", "if", "(", "ec", "&", "&", "ec", "!", "=", "boost", ":", ":", "asio", ":", ":", "error", ":", ":", "eof", ")", "<nl>", "throw", "error", "(", "ec", ")", ";", "<nl>", "void", "tnetwork", "_", "transmission", ":", ":", "pump", "_", "monitor", ":", ":", "process", "(", "events", ":", ":", "pump", "_", "info", "&", ")", "<nl>", "window", "_", ".", "get", "(", ")", ".", "set", "_", "retval", "(", "twindow", ":", ":", "OK", ")", ";", "<nl>", "}", "else", "{", "<nl>", "if", "(", "connection", "_", ".", "bytes", "_", "to", "_", "read", "(", ")", ")", "{", "<nl>", "-", "size", "_", "t", "total", "=", "connection", "_", ".", "bytes", "_", "to", "_", "read", "(", ")", ".", "get", "(", ")", ";", "<nl>", "+", "size", "_", "t", "total", "=", "connection", "_", ".", "bytes", "_", "to", "_", "read", "(", ")", ";", "<nl>", "size", "_", "t", "completed", "=", "connection", "_", ".", "bytes", "_", "read", "(", ")", ";", "<nl>", "find", "_", "widget", "<", "tprogress", "_", "bar", ">", "(", "&", "(", "window", "_", ".", "get", "(", ")", ")", ",", "\"", "progress", "\"", ",", "false", ")", "<nl>", ".", "set", "_", "percentage", "(", "(", "completed", "*", "100", ")", "/", "total", ")", ";", "<nl>"], "docstring_tokens": ["Change", "network_asio", "connection", "bytes_to_read_", "s", "type", "to", "plain", "size_t"]}
{"code_tokens": ["std", ":", ":", "string", "get", "_", "wml", "_", "location", "(", "const", "std", ":", ":", "string", "&", "filename", ",", "const", "std", ":", ":", "string", "&", "cur", "<nl>", "return", "result", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "ends", "_", "with", "(", "filename", ",", "\"", ".", "pbl", "\"", ")", ")", "{", "<nl>", "+", "if", "(", "looks", "_", "like", "_", "pbl", "(", "filename", ")", ")", "{", "<nl>", "ERR", "_", "FS", "<", "<", "\"", "Illegal", "path", "'", "\"", "<", "<", "filename", "<", "<", "\"", "'", "(", ".", "pbl", "files", "are", "not", "allowed", ")", ".", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "return", "result", ";", "<nl>", "}", "mmm", "src", "/", "filesystem", "_", "boost", ".", "cpp", "<nl>", "std", ":", ":", "string", "get", "_", "wml", "_", "location", "(", "const", "std", ":", ":", "string", "&", "filename", ",", "const", "std", ":", ":", "string", "&", "cur", "<nl>", "return", "result", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "ends", "_", "with", "(", "filename", ",", "\"", ".", "pbl", "\"", ")", ")", "{", "<nl>", "+", "if", "(", "looks", "_", "like", "_", "pbl", "(", "filename", ")", ")", "{", "<nl>", "ERR", "_", "FS", "<", "<", "\"", "Illegal", "path", "'", "\"", "<", "<", "filename", "<", "<", "\"", "'", "(", ".", "pbl", "files", "are", "not", "allowed", ")", ".", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "return", "result", ";", "<nl>", "}", "<nl>", "static", "bool", "is", "_", "legal", "_", "file", "(", "const", "std", ":", ":", "string", "&", "filename", ")", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "ends", "_", "with", "(", "filename", ",", "\"", ".", "pbl", "\"", ")", ")", "{", "<nl>", "+", "if", "(", "looks", "_", "like", "_", "pbl", "(", "filename", ")", ")", "{", "<nl>", "ERR", "_", "FS", "<", "<", "\"", "Illegal", "path", "'", "\"", "<", "<", "filename", "<", "<", "\"", "'", "(", ".", "pbl", "files", "are", "not", "allowed", ")", ".", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Use", "looks_like_pbl", "to", "disallow", "pbl", "file", "inclusion", "bug", "23504"]}
{"code_tokens": ["public", ":", "<nl>", "class", "fallback", "_", "function", ":", "public", "function", "_", "expression", "{", "<nl>", "public", ":", "<nl>", "explicit", "fallback", "_", "function", "(", "const", "args", "_", "list", "&", "args", ")", "<nl>", "-", ":", "function", "_", "expression", "(", "\"", "fallback", "\"", ",", "args", ",", "1", ",", "1", ")", "<nl>", "+", ":", "function", "_", "expression", "(", "\"", "fallback", "\"", ",", "args", ",", "0", ",", "1", ")", "<nl>", "{", "}", "<nl>", "private", ":", "<nl>", "variant", "execute", "(", "const", "formula", "_", "callable", "&", "variables", ")", "const", "{", "<nl>", "+", "if", "(", "args", "(", ")", ".", "size", "(", ")", "=", "=", "0", ")", "<nl>", "+", "return", "variant", "(", "new", "fallback", "_", "callable", "(", "\"", "\"", ")", ")", ";", "<nl>", "return", "variant", "(", "new", "fallback", "_", "callable", "(", "args", "(", ")", "[", "0", "]", "-", ">", "evaluate", "(", "variables", ")", ".", "as", "_", "string", "(", ")", ")", ")", ";", "<nl>", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["Now", "default", "ai", "is", "called", "by", "default", "by", "the", "fallback", "formula", "function"]}
{"code_tokens": ["redo", "_", "turn", ":", "<nl>", "info", "[", "\"", "type", "\"", "]", "=", "\"", "termination", "\"", ";", "<nl>", "info", "[", "\"", "condition", "\"", "]", "=", "\"", "game", "over", "\"", ";", "<nl>", "network", ":", ":", "send", "_", "data", "(", "cfg", ")", ";", "<nl>", "-", "}", "else", "<nl>", "+", "}", "else", "{", "<nl>", "gui", ":", ":", "show", "_", "dialog", "(", "gui", ",", "NULL", ",", "_", "(", "\"", "Game", "Over", "\"", ")", ",", "<nl>", "_", "(", "\"", "The", "game", "is", "over", ".", "\"", ")", ",", "gui", ":", ":", "OK", "_", "ONLY", ")", ";", "<nl>", "+", "return", "QUIT", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "if", "(", "end", "_", "level", ".", "result", "=", "=", "QUIT", ")", "{", "<nl>"], "docstring_tokens": ["fixed", "bug", "where", "observers", "see", "the", "end", "screen", "after", "seeing", "a", "mp", "game"]}
{"code_tokens": ["static", "void", "find", "_", "routes", "(", "const", "gamemap", "&", "map", ",", "const", "unit", "_", "map", "&", "units", ",", "<nl>", "if", "(", "old", "_", "move", "_", "left", ">", "=", "new", "_", "turns", "_", "moves", "+", "new", "_", "move", "_", "left", ")", "<nl>", "continue", ";", "<nl>", "<nl>", "+", "paths", ":", ":", "route", "&", "src", "_", "route", "=", "routes", "[", "loc", "]", ";", "<nl>", "+", "<nl>", "if", "(", "!", "ignore", "_", "units", ")", "{", "<nl>", "/", "/", "we", "can", "not", "traverse", "enemies", "<nl>", "const", "unit", "_", "map", ":", ":", "const", "_", "iterator", "unit", "_", "it", "=", "<nl>", "static", "void", "find", "_", "routes", "(", "const", "gamemap", "&", "map", ",", "const", "unit", "_", "map", "&", "units", ",", "<nl>", "&", "&", "enemy", "_", "zoc", "(", "map", ",", "units", ",", "teams", ",", "currentloc", ",", "viewing", "_", "team", ",", "u", ".", "side", "(", ")", ",", "see", "_", "all", ")", "<nl>", "&", "&", "!", "u", ".", "get", "_", "ability", "_", "bool", "(", "\"", "skirmisher", "\"", ",", "currentloc", ")", ")", "{", "<nl>", "new", "_", "move", "_", "left", "=", "0", ";", "<nl>", "-", "/", "/", "Recheck", "if", "we", "already", "have", "a", "better", "route", ",", "but", "now", "with", "the", "ZoC", "effect", "<nl>", "-", "if", "(", "old", "_", "move", "_", "left", ">", "=", "new", "_", "turns", "_", "moves", "+", "0", ")", "<nl>", "+", "/", "/", "Recheck", "if", "we", "already", "have", "a", "better", "route", ",", "but", "now", "with", "the", "ZoC", "effect", ".", "<nl>", "+", "/", "/", "Since", "the", "ZOC", "is", "cancelling", "the", "remaining", "move", "points", ",", "the", "game", "cannot", "<nl>", "+", "/", "/", "notice", "a", "difference", "between", "a", "short", "and", "a", "long", "path", ".", "So", "check", "the", "path", "<nl>", "+", "/", "/", "length", "too", "in", "case", "of", "equality", ".", "<nl>", "+", "if", "(", "old", "_", "move", "_", "left", ">", "new", "_", "turns", "_", "moves", "+", "0", "|", "|", "<nl>", "+", "(", "old", "_", "move", "_", "left", "=", "=", "new", "_", "turns", "_", "moves", "+", "0", "&", "&", "<nl>", "+", "old", "_", "rt", "-", ">", "second", ".", "steps", ".", "size", "(", ")", "<", "=", "src", "_", "route", ".", "steps", ".", "size", "(", ")", "+", "1", ")", ")", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "paths", ":", ":", "route", "&", "src", "_", "route", "=", "routes", "[", "loc", "]", ";", "<nl>", "paths", ":", ":", "route", "&", "new", "_", "route", "=", "routes", "[", "currentloc", "]", ";", "<nl>", "new", "_", "route", ".", "steps", "=", "src", "_", "route", ".", "steps", ";", "<nl>", "new", "_", "route", ".", "steps", ".", "push", "_", "back", "(", "loc", ")", ";", "<nl>"], "docstring_tokens": ["Ensure", "the", "AI", "does", "not", "take", "the", "longest", "path", "when", "entering", "a", "ZOC"]}
{"code_tokens": ["public", ":", "<nl>", "return", "*", "this", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "/", "Intended", "to", "be", "used", "when", "SDL", "has", "already", "freed", "the", "surface", "<nl>", "+", "void", "clear", "_", "without", "_", "free", "(", ")", "{", "surface", "_", "=", "nullptr", ";", "}", "<nl>", "+", "<nl>", "operator", "SDL", "_", "Surface", "*", "(", ")", "const", "{", "return", "surface", "_", ";", "}", "<nl>", "<nl>", "SDL", "_", "Surface", "*", "get", "(", ")", "const", "{", "return", "surface", "_", ";", "}", "mmm", "src", "/", "video", ".", "cpp", "<nl>", "public", ":", "<nl>", "return", "*", "this", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "/", "Intended", "to", "be", "used", "when", "SDL", "has", "already", "freed", "the", "surface", "<nl>", "+", "void", "clear", "_", "without", "_", "free", "(", ")", "{", "surface", "_", "=", "nullptr", ";", "}", "<nl>", "+", "<nl>", "operator", "SDL", "_", "Surface", "*", "(", ")", "const", "{", "return", "surface", "_", ";", "}", "<nl>", "<nl>", "SDL", "_", "Surface", "*", "get", "(", ")", "const", "{", "return", "surface", "_", ";", "}", "<nl>", "void", "CVideo", ":", ":", "update", "_", "framebuffer", "(", ")", "<nl>", "if", "(", "!", "frameBuffer", ")", "{", "<nl>", "frameBuffer", "=", "fb", ";", "<nl>", "}", "else", "{", "<nl>", "+", "/", "/", "Because", "SDL", "has", "already", "freed", "the", "old", "framebuffer", ",", "<nl>", "+", "/", "/", "ensure", "that", "we", "won", "'", "t", "attempt", "to", "free", "it", ".", "<nl>", "+", "frameBuffer", ".", "clear", "_", "without", "_", "free", "(", ")", ";", "<nl>", "frameBuffer", ".", "assign", "(", "fb", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "another", "crash", "on", "startup", "with", "SDL", "2", "0", "6"]}
{"code_tokens": ["void", "unit", "_", "attack", "(", "<nl>", "int", "damage", "_", "left", "=", "damage", ";", "<nl>", "while", "(", "damage", "_", "left", ">", "0", "&", "&", "!", "animator", ".", "would", "_", "end", "(", ")", ")", "{", "<nl>", "int", "step", "_", "left", "=", "(", "animator", ".", "get", "_", "end", "_", "time", "(", ")", "-", "animator", ".", "get", "_", "animation", "_", "time", "(", ")", ")", "/", "50", ";", "<nl>", "-", "int", "removed", "_", "hp", "=", "damage", "_", "left", "/", "step", "_", "left", ";", "<nl>", "+", "int", "removed", "_", "hp", "=", "step", "_", "left", "?", "damage", "_", "left", "/", "step", "_", "left", ":", "1", ";", "<nl>", "if", "(", "removed", "_", "hp", "<", "1", ")", "removed", "_", "hp", "=", "1", ";", "<nl>", "if", "(", "step", "_", "left", "<", "1", ")", "step", "_", "left", "=", "1", ";", "<nl>", "defender", ".", "take", "_", "hit", "(", "removed", "_", "hp", ")", ";", "<nl>"], "docstring_tokens": ["Added", "an", "additional", "check", "in", "some", "code", "to", "avoid", "dividing", "by", "zero"]}
{"code_tokens": ["paths", ":", ":", "route", "mouse", "_", "handler", ":", ":", "get", "_", "route", "(", "unit", "_", "map", ":", ":", "const", "_", "iterator", "un", ",", "map", "_", "location", "<nl>", "<nl>", "void", "mouse", "_", "handler", ":", ":", "mouse", "_", "press", "(", "const", "SDL", "_", "MouseButtonEvent", "&", "event", ",", "const", "bool", "browse", ")", "<nl>", "{", "<nl>", "-", "if", "(", "attackmove", "_", ")", "return", ";", "<nl>", "mouse", "_", "handler", "_", "base", ":", ":", "mouse", "_", "press", "(", "event", ",", "browse", ")", ";", "<nl>", "}", "<nl>", "<nl>", "bool", "mouse", "_", "handler", ":", ":", "left", "_", "click", "(", "int", "x", ",", "int", "y", ",", "const", "bool", "browse", ")", "<nl>", "<nl>", "gui", "(", ")", ".", "unhighlight", "_", "reach", "(", ")", ";", "<nl>", "move", "_", "unit", "_", "along", "_", "current", "_", "route", "(", "check", "_", "shroud", ")", ";", "<nl>", "-", "}", "else", "{", "<nl>", "+", "}", "else", "if", "(", "!", "attackmove", "_", ")", "{", "<nl>", "+", "/", "/", "we", "block", "selection", "during", "attack", "+", "move", "(", "because", "motion", "is", "blocked", ")", "<nl>", "+", "/", "/", "FIXME", ":", "deal", "with", "selected", "event", "when", "commands", "_", "disabled", "<nl>", "/", "/", "we", "select", "a", "(", "maybe", "empty", ")", "hex", "<nl>", "select", "_", "hex", "(", "hex", ",", "browse", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "auto", "undo", "when", "chaining", "few", "move", "attack", "cancel", "on", "different", "targets"]}
{"code_tokens": ["SOCKET", "_", "STATE", "receive", "_", "buf", "(", "TCPsocket", "sock", ",", "std", ":", ":", "vector", "<", "char", ">", "&", "buf", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "const", "ssize", "_", "t", "res", "=", "SDLNet", "_", "TCP", "_", "Recv", "(", "sock", ",", "beg", ",", "end", "-", "beg", ")", ";", "<nl>", "+", "const", "int", "res", "=", "SDLNet", "_", "TCP", "_", "Recv", "(", "sock", ",", "beg", ",", "end", "-", "beg", ")", ";", "<nl>", "if", "(", "res", "<", "=", "0", ")", "{", "<nl>", "if", "(", "SDLNet", "_", "CheckSockets", "(", "set", ",", "15000", ")", "<", "=", "0", ")", "{", "<nl>", "ERR", "_", "NW", "<", "<", "\"", "SDLNet", "_", "CheckSockets", ":", "\"", "<", "<", "strerror", "(", "errno", ")", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>"], "docstring_tokens": ["fixed", "bug", "where", "the", "program", "could", "freeze", "up", "when", "networked"]}
{"code_tokens": ["manager", ":", ":", "~", "manager", "(", ")", "<nl>", "cond", "[", "shard", "]", "-", ">", "notify", "_", "all", "(", ")", ";", "<nl>", "<nl>", "for", "(", "std", ":", ":", "map", "<", "Uint32", ",", "threading", ":", ":", "thread", "*", ">", ":", ":", "const", "_", "iterator", "i", "=", "threads", "[", "shard", "]", ".", "begin", "(", ")", ";", "i", "!", "=", "threads", "[", "shard", "]", ".", "end", "(", ")", ";", "+", "+", "i", ")", "{", "<nl>", "+", "<nl>", "DBG", "_", "NW", "<", "<", "\"", "waiting", "for", "thread", "\"", "<", "<", "i", "-", ">", "first", "<", "<", "\"", "to", "exit", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "delete", "i", "-", ">", "second", ";", "<nl>", "DBG", "_", "NW", "<", "<", "\"", "thread", "exited", ".", ".", ".", "\\", "n", "\"", ";", "<nl>", "manager", ":", ":", "~", "manager", "(", ")", "<nl>", "/", "/", "will", "access", "memory", "already", "freed", "by", "way", "of", "<nl>", "/", "/", "stale", "mutex", ".", "Bad", "things", "will", "follow", ".", ";", ")", "<nl>", "threads", "[", "shard", "]", ".", "clear", "(", ")", ";", "<nl>", "+", "/", "/", "Have", "to", "clean", "up", "to", "_", "clear", "so", "no", "bogus", "clearing", "of", "threads", "<nl>", "+", "to", "_", "clear", "[", "shard", "]", ".", "clear", "(", ")", ";", "<nl>", "delete", "cond", "[", "shard", "]", ";", "<nl>", "cond", "[", "shard", "]", "=", "NULL", ";", "<nl>", "delete", "shard", "_", "mutexes", "[", "shard", "]", ";", "<nl>"], "docstring_tokens": ["Fixed", "thread", "leak", "in", "network_worker"]}
{"code_tokens": ["surface", "locator", ":", ":", "load", "_", "image", "_", "sub", "_", "file", "(", ")", "const", "<nl>", "}", "<nl>", "}", "<nl>", "else", "{", "<nl>", "-", "/", "/", "Deprecated", "1", ".", "6", "palette", "switch", "syntax", "<nl>", "+", "/", "/", "/", "@", "Deprecated", "1", ".", "6", "palette", "switch", "syntax", "<nl>", "if", "(", "field", ".", "find", "(", "'", "=", "'", ")", "!", "=", "std", ":", ":", "string", ":", ":", "npos", ")", "{", "<nl>", "lg", ":", ":", "wml", "_", "error", "<", "<", "\"", "the", "~", "RC", "(", ")", "image", "function", "cannot", "be", "used", "for", "palette", "switch", "(", "A", "=", "B", ")", "in", "1", ".", "7", ".", "x", ";", "use", "~", "PAL", "(", "A", ">", "B", ")", "instead", "\\", "n", "\"", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Mark", "Deprecated", "1", "6", "palette", "switch", "syntax", "RC"]}
{"code_tokens": ["void", "console", "_", "handler", ":", ":", "do", "_", "set", "_", "var", "(", ")", "{", "<nl>", "}", "<nl>", "}", "<nl>", "void", "console", "_", "handler", ":", ":", "do", "_", "show", "_", "var", "(", ")", "{", "<nl>", "-", "gui2", ":", ":", "show", "_", "transient", "_", "message", "(", "(", "*", "menu", "_", "handler", "_", ".", "gui", "_", ")", ".", "video", "(", ")", ",", "\"", "\"", ",", "resources", ":", ":", "gamedata", "-", ">", "get", "_", "variable", "(", "get", "_", "data", "(", ")", ")", ")", ";", "<nl>", "+", "gui2", ":", ":", "show", "_", "transient", "_", "message", "(", "(", "*", "menu", "_", "handler", "_", ".", "gui", "_", ")", ".", "video", "(", ")", ",", "\"", "\"", ",", "resources", ":", ":", "gamedata", "-", ">", "get", "_", "variable", "_", "const", "(", "get", "_", "data", "(", ")", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["Don", "t", "let", "show_var", "create", "variables"]}
{"code_tokens": ["int", "battle", "_", "context", ":", ":", "choose", "_", "attacker", "_", "weapon", "(", "const", "unit", "&", "attacker", ",", "<nl>", "attacker", "_", "combatant", "_", "=", "new", "combatant", "(", "*", "attacker", "_", "stats", "_", ")", ";", "<nl>", "defender", "_", "combatant", "_", "=", "new", "combatant", "(", "*", "defender", "_", "stats", "_", ",", "prev", "_", "def", ")", ";", "<nl>", "attacker", "_", "combatant", "_", "-", ">", "fight", "(", "*", "defender", "_", "combatant", "_", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "if", "(", "attacker", "_", "stats", "_", "-", ">", "disable", ")", "{", "<nl>", "+", "delete", "attacker", "_", "stats", "_", ";", "<nl>", "+", "attacker", "_", "stats", "_", "=", "nullptr", ";", "<nl>", "+", "continue", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "if", "(", "!", "best", "_", "att", "_", "comb", "|", "|", "better", "_", "combat", "(", "*", "attacker", "_", "combatant", "_", ",", "*", "defender", "_", "combatant", "_", ",", "<nl>", "*", "best", "_", "att", "_", "comb", ",", "*", "best", "_", "def", "_", "comb", ",", "harm", "_", "weight", ")", ")", "{", "<nl>"], "docstring_tokens": ["AI", "ensure", "multiple", "weapons", "are", "always", "checked", "for", "disable", "special"]}
{"code_tokens": ["void", "gamebrowser", ":", ":", "draw", "_", "row", "(", "const", "size", "_", "t", "index", ",", "const", "SDL", "_", "Rect", "&", "item", "_", "rect", ",", "ROW", "_", "TY", "<nl>", "xpos", "+", "=", "vision", "_", "icon", "-", ">", "w", "+", "h", "_", "padding", "_", ";", "<nl>", "<nl>", "const", "surface", "status", "_", "text", "(", "font", ":", ":", "get", "_", "rendered", "_", "text", "(", "game", ".", "status", ",", "font", ":", ":", "SIZE", "_", "NORMAL", ",", "font", "_", "color", ")", ")", ";", "<nl>", "-", "const", "surface", "vision", "_", "text", "(", "font", ":", ":", "get", "_", "rendered", "_", "text", "(", "font", ":", ":", "make", "_", "text", "_", "ellipsis", "(", "game", ".", "vision", ",", "font", ":", ":", "SIZE", "_", "NORMAL", ",", "maximum", "<", "int", ">", "(", "(", "item", "_", "rect", ".", "x", "+", "item", "_", "rect", ".", "w", "-", "margin", "_", "-", "status", "_", "text", "-", ">", "w", "-", "2", "*", "h", "_", "padding", "_", ")", "-", "xpos", ",", "0", ")", ")", ",", "font", ":", ":", "SIZE", "_", "NORMAL", ",", "font", ":", ":", "NORMAL", "_", "COLOUR", ")", ")", ";", "<nl>", "+", "<nl>", "+", "const", "int", "status", "_", "text", "_", "width", "=", "status", "_", "text", "?", "status", "_", "text", "-", ">", "w", ":", "0", ";", "<nl>", "+", "const", "surface", "vision", "_", "text", "(", "font", ":", ":", "get", "_", "rendered", "_", "text", "(", "font", ":", ":", "make", "_", "text", "_", "ellipsis", "(", "game", ".", "vision", ",", "font", ":", ":", "SIZE", "_", "NORMAL", ",", "maximum", "<", "int", ">", "(", "(", "item", "_", "rect", ".", "x", "+", "item", "_", "rect", ".", "w", "-", "margin", "_", "-", "status", "_", "text", "_", "width", "-", "2", "*", "h", "_", "padding", "_", ")", "-", "xpos", ",", "0", ")", ")", ",", "font", ":", ":", "SIZE", "_", "NORMAL", ",", "font", ":", ":", "NORMAL", "_", "COLOUR", ")", ")", ";", "<nl>", "/", "/", "draw", "vision", "text", "<nl>", "video", "(", ")", ".", "blit", "_", "surface", "(", "xpos", ",", "ypos", ",", "vision", "_", "text", ")", ";", "<nl>", "<nl>", "/", "/", "draw", "status", "text", "<nl>", "-", "xpos", "=", "item", "_", "rect", ".", "x", "+", "item", "_", "rect", ".", "w", "-", "margin", "_", "-", "status", "_", "text", "-", ">", "w", ";", "<nl>", "-", "video", "(", ")", ".", "blit", "_", "surface", "(", "xpos", ",", "ypos", ",", "status", "_", "text", ")", ";", "<nl>", "+", "xpos", "=", "item", "_", "rect", ".", "x", "+", "item", "_", "rect", ".", "w", "-", "margin", "_", "-", "status", "_", "text", "_", "width", ";", "<nl>", "+", "if", "(", "status", "_", "text", ")", "{", "<nl>", "+", "video", "(", ")", ".", "blit", "_", "surface", "(", "xpos", ",", "ypos", ",", "status", "_", "text", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "/", "if", "(", "selected", "_", "=", "=", "index", ")", "<nl>", "/", "/", "draw", "_", "solid", "_", "tinted", "_", "rectangle", "(", "item", "_", "rect", ".", "x", ",", "item", "_", "rect", ".", "y", ",", "item", "_", "rect", ".", "w", ",", "item", "_", "rect", ".", "h", ",", "153", ",", "0", ",", "0", ",", "0", ".", "3", ",", "video", "(", ")", ".", "getSurface", "(", ")", ")", ";", "<nl>"], "docstring_tokens": ["fixed", "crash", "in", "multiplayer", "lobby", "if", "game", "status", "text", "is", "empty"]}
{"code_tokens": ["static", "void", "set", "_", "scrollbar", "_", "mode", "(", "tgrid", "*", "scrollbar", "_", "grid", ",", "tscrollbar", "_", "*", "scrollbar", ",", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "-", "<nl>", "scrollbar", "-", ">", "set", "_", "item", "_", "count", "(", "items", ")", ";", "<nl>", "+", "scrollbar", "-", ">", "set", "_", "item", "_", "position", "(", "0", ")", ";", "<nl>", "scrollbar", "-", ">", "set", "_", "visible", "_", "items", "(", "visible", "_", "items", ")", ";", "<nl>", "<nl>", "if", "(", "scrollbar", "_", "mode", "=", "=", "tscrollbar", "_", "container", ":", ":", "auto", "_", "visible", ")", "{", "<nl>"], "docstring_tokens": ["Properly", "set", "the", "item", "position", "after", "sizing"]}
{"code_tokens": ["void", "widget", ":", ":", "set", "_", "visible", "(", "const", "visibility", "visible", ")", "<nl>", "visible", "_", "=", "visible", ";", "<nl>", "<nl>", "if", "(", "need", "_", "resize", ")", "{", "<nl>", "-", "if", "(", "new", "_", "widgets", ")", "{", "<nl>", "+", "if", "(", "visible", "=", "=", "visibility", ":", ":", "visible", "&", "&", "new", "_", "widgets", ")", "{", "<nl>", "event", ":", ":", "message", "message", ";", "<nl>", "fire", "(", "event", ":", ":", "REQUEST", "_", "PLACEMENT", ",", "*", "this", ",", "message", ")", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["Fix", "with", "new", "widgets", "advanced", "preferences", "may", "not", "shrink", "on", "deselect"]}
{"code_tokens": ["public", ":", "<nl>", "*", "@", "returns", "true", "when", "the", "click", "should", "not", "process", "the", "event", "further", ".", "<nl>", "*", "This", "means", "do", "not", "treat", "the", "call", "as", "a", "start", "of", "drag", "movement", ".", "<nl>", "*", "/", "<nl>", "-", "virtual", "bool", "right", "_", "click", "(", "int", "/", "*", "x", "*", "/", ",", "int", "/", "*", "y", "*", "/", ",", "const", "bool", "/", "*", "browse", "*", "/", ")", "<nl>", "+", "virtual", "bool", "right", "_", "click", "(", "int", "x", ",", "int", "y", ",", "const", "bool", "browse", ")", "<nl>", "{", "<nl>", "-", "return", "true", ";", "<nl>", "+", "return", "right", "_", "click", "_", "show", "_", "menu", "(", "x", ",", "y", ",", "browse", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "<nl>"], "docstring_tokens": ["Mouse", "Handler", "Base", "fix", "right", "click", "behavior", "regression", "from", "c5dc04c900", "fixes", "1967"]}
{"code_tokens": ["upload", "_", "log", ":", ":", "~", "upload", "_", "log", "(", ")", "<nl>", "if", "(", "game", "_", "finished", "(", "game", "_", ")", ")", "<nl>", "config", "_", ".", "add", "_", "child", "(", "\"", "game", "\"", ",", "*", "game", "_", ")", ";", "<nl>", "<nl>", "+", "if", "(", "game", "_", ")", "<nl>", "+", "delete", "game", "_", ";", "<nl>", "+", "<nl>", "if", "(", "enabled", "_", "&", "&", "!", "config", "_", ".", "empty", "(", ")", "&", "&", "!", "game", "_", "config", ":", ":", "debug", ")", "{", "<nl>", "config", "_", "[", "\"", "version", "\"", "]", "=", "VERSION", ";", "<nl>", "config", "_", "[", "\"", "format", "_", "version", "\"", "]", "=", "\"", "1", "\"", ";", "<nl>", "void", "upload", "_", "log", ":", ":", "start", "(", "game", "_", "state", "&", "state", ",", "const", "team", "&", "team", ",", "<nl>", "if", "(", "game", "_", "finished", "(", "game", "_", ")", ")", "<nl>", "config", "_", ".", "add", "_", "child", "(", "\"", "game", "\"", ",", "*", "game", "_", ")", ";", "<nl>", "<nl>", "+", "<nl>", "+", "if", "(", "game", "_", ")", "<nl>", "+", "delete", "game", "_", ";", "<nl>", "game", "_", "=", "new", "config", "(", ")", ";", "<nl>", "(", "*", "game", "_", ")", "[", "\"", "time", "\"", "]", "=", "lexical", "_", "cast", "<", "std", ":", ":", "string", ">", "(", "SDL", "_", "GetTicks", "(", ")", "/", "1000", ")", ";", "<nl>", "(", "*", "game", "_", ")", "[", "\"", "campaign", "\"", "]", "=", "state", ".", "campaign", "_", "define", ";", "<nl>"], "docstring_tokens": ["fix", "potential", "memory", "leak"]}
{"code_tokens": ["static", "bool", "localized", "_", "file", "_", "uptodate", "(", "const", "std", ":", ":", "string", "&", "loc", "_", "file", ")", "<nl>", "/", "/", "First", "call", ",", "parse", "track", "index", "to", "collect", "fuzzy", "files", "by", "path", ".", "<nl>", "std", ":", ":", "string", "fsep", "=", "\"", "\\", "xC2", "\\", "xA6", "\"", ";", "/", "/", "UTF", "-", "8", "for", "\"", "broken", "bar", "\"", "<nl>", "std", ":", ":", "string", "trackpath", "=", "filesystem", ":", ":", "get", "_", "binary", "_", "file", "_", "location", "(", "\"", "\"", ",", "\"", "l10n", "-", "track", "\"", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "l10n", "-", "track", "file", "not", "present", ".", "Assume", "image", "is", "up", "-", "to", "-", "date", ".", "<nl>", "+", "if", "(", "trackpath", ".", "empty", "(", ")", ")", "{", "<nl>", "+", "return", "true", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "std", ":", ":", "string", "contents", "=", "filesystem", ":", ":", "read", "_", "file", "(", "trackpath", ")", ";", "<nl>", "<nl>", "for", "(", "const", "std", ":", ":", "string", "&", "line", ":", "utils", ":", ":", "split", "(", "contents", ",", "'", "\\", "n", "'", ")", ")", "{", "<nl>"], "docstring_tokens": ["Image", "handle", "case", "where", "l10n", "track", "file", "is", "not", "present"]}
{"code_tokens": ["int", "SDL", "_", "SetAlpha", "(", "SDL", "_", "Surface", "*", "surface", ",", "Uint32", "flag", ",", "Uint8", "alpha", ")", "<nl>", "{", "<nl>", "if", "(", "flag", "&", "SDL", "_", "SRCALPHA", ")", "{", "<nl>", "+", "/", "/", "Need", "to", "specify", "the", "alpha", "blend", "mode", "if", "not", "setting", "alpha", "as", "opaque", "<nl>", "+", "int", "blendModeResult", "=", "SDL", "_", "SetSurfaceBlendMode", "(", "surface", ",", "SDL", "_", "BLENDMODE", "_", "BLEND", ")", ";", "<nl>", "+", "if", "(", "blendModeResult", "!", "=", "0", ")", "<nl>", "+", "return", "blendModeResult", ";", "<nl>", "+", "<nl>", "return", "SDL", "_", "SetSurfaceAlphaMod", "(", "surface", ",", "alpha", ")", ";", "<nl>", "}", "else", "{", "<nl>", "return", "SDL", "_", "SetSurfaceAlphaMod", "(", "surface", ",", "SDL", "_", "ALPHA", "_", "OPAQUE", ")", ";", "<nl>"], "docstring_tokens": ["Correct", "Surface", "Alpha", "Blending", "in", "SDL2"]}
{"code_tokens": ["void", "wait", ":", ":", "start", "_", "game", "(", ")", "<nl>", "<nl>", "LOG", "_", "NW", "<", "<", "\"", "starting", "game", "\\", "n", "\"", ";", "<nl>", "sound", ":", ":", "play", "_", "UI", "_", "sound", "(", "game", "_", "config", ":", ":", "sounds", ":", ":", "mp", "_", "game", "_", "begins", ")", ";", "<nl>", "+", "game", "_", "display", ":", ":", "get", "_", "singleton", "(", ")", "-", ">", "send", "_", "notification", "(", "_", "(", "\"", "Wesnoth", "\"", ")", ",", "_", "(", "\"", "Game", "has", "begun", "!", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "wait", ":", ":", "layout", "_", "children", "(", "const", "SDL", "_", "Rect", "&", "rect", ")", "<nl>"], "docstring_tokens": ["add", "game", "start", "notification"]}
{"code_tokens": ["void", "unit", "_", "attack", "(", "<nl>", "int", "swing", ",", "std", ":", ":", "string", "hit", "_", "text", ")", "<nl>", "{", "<nl>", "game", "_", "display", "*", "disp", "=", "game", "_", "display", ":", ":", "get", "_", "singleton", "(", ")", ";", "<nl>", "-", "if", "(", "!", "disp", ")", "return", ";", "<nl>", "+", "if", "(", "!", "disp", "|", "|", "preferences", ":", ":", "show", "_", "combat", "(", ")", "=", "=", "false", ")", "return", ";", "<nl>", "unit", "_", "map", "&", "units", "=", "disp", "-", ">", "get", "_", "units", "(", ")", ";", "<nl>", "disp", "-", ">", "select", "_", "hex", "(", "gamemap", ":", ":", "location", ":", ":", "null", "_", "location", ")", ";", "<nl>", "-", "const", "bool", "hide", "=", "disp", "-", ">", "video", "(", ")", ".", "update", "_", "locked", "(", ")", "|", "|", "disp", "-", ">", "fogged", "(", "a", ")", "&", "&", "disp", "-", ">", "fogged", "(", "b", ")", "<nl>", "-", "|", "|", "preferences", ":", ":", "show", "_", "combat", "(", ")", "=", "=", "false", ";", "<nl>", "+", "const", "bool", "hide", "=", "disp", "-", ">", "video", "(", ")", ".", "update", "_", "locked", "(", ")", "|", "|", "disp", "-", ">", "fogged", "(", "a", ")", "&", "&", "disp", "-", ">", "fogged", "(", "b", ")", ";", "<nl>", "<nl>", "if", "(", "!", "hide", ")", "{", "<nl>", "disp", "-", ">", "scroll", "_", "to", "_", "tiles", "(", "a", ",", "b", ",", "game", "_", "display", ":", ":", "ONSCREEN", ")", ";", "<nl>", "void", "unit", "_", "attack", "(", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "<nl>", "-", "<nl>", "-", "<nl>", "-", "<nl>", "animator", ".", "start", "_", "animations", "(", ")", ";", "<nl>", "animator", ".", "wait", "_", "for", "_", "end", "(", ")", ";", "<nl>"], "docstring_tokens": ["Address", "bug", "11001"]}
{"code_tokens": ["bool", "editor", "_", "controller", ":", ":", "can", "_", "execute", "_", "command", "(", "const", "hotkey", ":", ":", "hotkey", "_", "command", "&", "cmd", ",", "i", "<nl>", "std", ":", ":", "string", "dummy", ";", "<nl>", "return", "context", "_", "manager", "_", "-", ">", "modified", "_", "maps", "(", "dummy", ")", ">", "1", ";", "<nl>", "}", "<nl>", "-", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "SWITCH", ":", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "PLAYLIST", ":", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "SCHEDULE", ":", "<nl>", "+", "return", "!", "context", "_", "manager", "_", "-", ">", "get", "_", "map", "_", "context", "(", ")", ".", "is", "_", "pure", "_", "map", "(", ")", ";", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "SWITCH", ":", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "CLOSE", ":", "<nl>", "return", "true", ";", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "REVERT", ":", "mmm", "src", "/", "hotkey", "/", "hotkey", "_", "command", ".", "cpp", "<nl>", "bool", "editor", "_", "controller", ":", ":", "can", "_", "execute", "_", "command", "(", "const", "hotkey", ":", ":", "hotkey", "_", "command", "&", "cmd", ",", "i", "<nl>", "std", ":", ":", "string", "dummy", ";", "<nl>", "return", "context", "_", "manager", "_", "-", ">", "modified", "_", "maps", "(", "dummy", ")", ">", "1", ";", "<nl>", "}", "<nl>", "-", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "SWITCH", ":", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "PLAYLIST", ":", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "SCHEDULE", ":", "<nl>", "+", "return", "!", "context", "_", "manager", "_", "-", ">", "get", "_", "map", "_", "context", "(", ")", ".", "is", "_", "pure", "_", "map", "(", ")", ";", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "SWITCH", ":", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "CLOSE", ":", "<nl>", "return", "true", ";", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "REVERT", ":", "<nl>", "hotkey", ":", ":", "hotkey", "_", "command", "_", "temp", "hotkey", "_", "list", "_", "[", "]", "=", "{", "<nl>", "/", "/", "These", "are", "not", "really", "hotkey", "items", "but", "menu", "entries", "to", "get", "expanded", ".", "<nl>", "/", "/", "They", "need", "to", "have", "their", "own", "hotkey", "to", "control", "their", "active", "state", ".", "<nl>", "{", "hotkey", ":", ":", "HOTKEY", "_", "EDITOR", "_", "PLAYLIST", ",", "\"", "editor", "-", "playlist", "\"", ",", "N", "_", "(", "\"", "Switch", "Time", "of", "Day", "\"", ")", ",", "true", ",", "scope", "_", "editor", ",", "\"", "\"", "}", ",", "<nl>", "+", "{", "hotkey", ":", ":", "HOTKEY", "_", "EDITOR", "_", "SCHEDULE", ",", "\"", "menu", "-", "editor", "-", "schedule", "\"", ",", "\"", "\"", ",", "true", ",", "hotkey", ":", ":", "SCOPE", "_", "EDITOR", ",", "\"", "\"", "}", ",", "<nl>", "{", "hotkey", ":", ":", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "SWITCH", ",", "\"", "editor", "-", "switch", "-", "map", "\"", ",", "N", "_", "(", "\"", "Switch", "Map", "\"", ")", ",", "true", ",", "scope", "_", "editor", ",", "\"", "\"", "}", ",", "<nl>", "{", "hotkey", ":", ":", "HOTKEY", "_", "EDITOR", "_", "LOCAL", "_", "TIME", ",", "\"", "menu", "-", "editor", "-", "local", "-", "time", "\"", ",", "N", "_", "(", "\"", "Assign", "Local", "Time", "\"", ")", ",", "true", ",", "scope", "_", "editor", ",", "\"", "\"", "}", ",", "<nl>", "bool", "editor", "_", "controller", ":", ":", "can", "_", "execute", "_", "command", "(", "const", "hotkey", ":", ":", "hotkey", "_", "command", "&", "cmd", ",", "i", "<nl>", "std", ":", ":", "string", "dummy", ";", "<nl>", "return", "context", "_", "manager", "_", "-", ">", "modified", "_", "maps", "(", "dummy", ")", ">", "1", ";", "<nl>", "}", "<nl>", "-", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "SWITCH", ":", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "PLAYLIST", ":", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "SCHEDULE", ":", "<nl>", "+", "return", "!", "context", "_", "manager", "_", "-", ">", "get", "_", "map", "_", "context", "(", ")", ".", "is", "_", "pure", "_", "map", "(", ")", ";", "<nl>", "+", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "SWITCH", ":", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "CLOSE", ":", "<nl>", "return", "true", ";", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "REVERT", ":", "<nl>", "hotkey", ":", ":", "hotkey", "_", "command", "_", "temp", "hotkey", "_", "list", "_", "[", "]", "=", "{", "<nl>", "/", "/", "These", "are", "not", "really", "hotkey", "items", "but", "menu", "entries", "to", "get", "expanded", ".", "<nl>", "/", "/", "They", "need", "to", "have", "their", "own", "hotkey", "to", "control", "their", "active", "state", ".", "<nl>", "{", "hotkey", ":", ":", "HOTKEY", "_", "EDITOR", "_", "PLAYLIST", ",", "\"", "editor", "-", "playlist", "\"", ",", "N", "_", "(", "\"", "Switch", "Time", "of", "Day", "\"", ")", ",", "true", ",", "scope", "_", "editor", ",", "\"", "\"", "}", ",", "<nl>", "+", "{", "hotkey", ":", ":", "HOTKEY", "_", "EDITOR", "_", "SCHEDULE", ",", "\"", "menu", "-", "editor", "-", "schedule", "\"", ",", "\"", "\"", ",", "true", ",", "hotkey", ":", ":", "SCOPE", "_", "EDITOR", ",", "\"", "\"", "}", ",", "<nl>", "{", "hotkey", ":", ":", "HOTKEY", "_", "EDITOR", "_", "MAP", "_", "SWITCH", ",", "\"", "editor", "-", "switch", "-", "map", "\"", ",", "N", "_", "(", "\"", "Switch", "Map", "\"", ")", ",", "true", ",", "scope", "_", "editor", ",", "\"", "\"", "}", ",", "<nl>", "{", "hotkey", ":", ":", "HOTKEY", "_", "EDITOR", "_", "LOCAL", "_", "TIME", ",", "\"", "menu", "-", "editor", "-", "local", "-", "time", "\"", ",", "N", "_", "(", "\"", "Assign", "Local", "Time", "\"", ")", ",", "true", ",", "scope", "_", "editor", ",", "\"", "\"", "}", ",", "<nl>", "<nl>", "enum", "HOTKEY", "_", "COMMAND", "{", "<nl>", "HOTKEY", "_", "EDITOR", "_", "PALETTE", "_", "GROUPS", ",", "HOTKEY", "_", "EDITOR", "_", "PALETTE", "_", "UPSCROLL", ",", "HOTKEY", "_", "EDITOR", "_", "PALETTE", "_", "DOWNSCROLL", ",", "<nl>", "<nl>", "HOTKEY", "_", "EDITOR", "_", "PLAYLIST", ",", "<nl>", "+", "HOTKEY", "_", "EDITOR", "_", "SCHEDULE", ",", "<nl>", "HOTKEY", "_", "EDITOR", "_", "LOCAL", "_", "TIME", ",", "<nl>", "HOTKEY", "_", "EDITOR", "_", "UNIT", "_", "FACING", ",", "<nl>"], "docstring_tokens": ["Disable", "playlist", "and", "schedule", "menues", "for", "pure", "maps"]}
{"code_tokens": ["void", "get", "_", "player", "_", "info", "(", "const", "config", "&", "cfg", ",", "game", "_", "state", "&", "gamestate", ",", "std", ":", ":", "string", "save", "_", "<nl>", "LOG", "_", "NG", "<", "<", "\"", "found", "gold", ":", "'", "\"", "<", "<", "gold", "<", "<", "\"", "'", "\\", "n", "\"", ";", "<nl>", "<nl>", "int", "ngold", "=", "lexical", "_", "cast", "_", "default", "<", "int", ">", "(", "gold", ")", ";", "<nl>", "-", "if", "(", "player", "!", "=", "NULL", "&", "&", "player", "-", ">", "gold", ">", "=", "ngold", ")", "{", "<nl>", "+", "if", "(", "(", "player", "!", "=", "NULL", "&", "&", "player", "-", ">", "gold", ">", "=", "ngold", ")", "|", "|", "snapshot", ")", "{", "<nl>", "ngold", "=", "player", "-", ">", "gold", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Try", "to", "fix", "bug", "8885", "negative", "gold", "amount", "gets", "changed", "while", "save", "load"]}
{"code_tokens": ["void", "team", ":", ":", "team", "_", "info", ":", ":", "write", "(", "config", "&", "cfg", ")", "const", "<nl>", "cfg", "[", "\"", "hidden", "\"", "]", "=", "hidden", ";", "<nl>", "cfg", "[", "\"", "suppress", "_", "end", "_", "turn", "_", "confirmation", "\"", "]", "=", "no", "_", "turn", "_", "confirmation", ";", "<nl>", "cfg", "[", "\"", "scroll", "_", "to", "_", "leader", "\"", "]", "=", "scroll", "_", "to", "_", "leader", ";", "<nl>", "-", "cfg", "[", "\"", "controller", "\"", "]", "=", "controller", "_", "string", "(", ")", ";", "<nl>", "+", "cfg", "[", "\"", "controller", "\"", "]", "=", "(", "controller", "=", "=", "IDLE", "?", "\"", "human", "\"", ":", "controller", "_", "string", "(", ")", ")", ";", "<nl>", "<nl>", "std", ":", ":", "stringstream", "can", "_", "recruit", "_", "str", ";", "<nl>", "for", "(", "std", ":", ":", "set", "<", "std", ":", ":", "string", ">", ":", ":", "const", "_", "iterator", "cr", "=", "can", "_", "recruit", ".", "begin", "(", ")", ";", "cr", "!", "=", "can", "_", "recruit", ".", "end", "(", ")", ";", "+", "+", "cr", ")", "{", "<nl>"], "docstring_tokens": ["idle", "controlled", "teams", "serialize", "as", "human", "controlled"]}
{"code_tokens": ["std", ":", ":", "string", "at", "(", "const", "std", ":", ":", "string", "&", "file", ",", "int", "line", ")", "{", "<nl>", "<nl>", "void", "extra", "_", "tag", "_", "error", "(", "const", "std", ":", ":", "string", "&", "file", ",", "int", "line", ",", "<nl>", "const", "std", ":", ":", "string", "&", "name", ")", "{", "<nl>", "-", "WRN", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "extra", "tag", "\"", "<", "<", "name", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "+", "ERR", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "extra", "tag", "\"", "<", "<", "name", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "}", "<nl>", "void", "wrong", "_", "tag", "_", "error", "(", "const", "std", ":", ":", "string", "&", "file", ",", "int", "line", ",", "<nl>", "const", "std", ":", ":", "string", "&", "name", ")", "{", "<nl>", "std", ":", ":", "ostringstream", "ss", ";", "<nl>", "ss", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "wrong", "tag", "\"", "<", "<", "name", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "-", "WRN", "_", "VL", "<", "<", "ss", ".", "str", "(", ")", ";", "<nl>", "+", "ERR", "_", "VL", "<", "<", "ss", ".", "str", "(", ")", ";", "<nl>", "/", "/", "throw", "twml", "_", "exception", "(", "\"", "Validation", "error", "\"", ",", "ss", ".", "str", "(", ")", ")", ";", "<nl>", "}", "<nl>", "void", "missing", "_", "tag", "_", "error", "(", "const", "std", ":", ":", "string", "&", "file", ",", "int", "line", ",", "<nl>", "const", "std", ":", ":", "string", "&", "name", ")", "{", "<nl>", "-", "WRN", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "missing", "tag", "\"", "<", "<", "name", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "+", "ERR", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "missing", "tag", "\"", "<", "<", "name", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "}", "<nl>", "void", "extra", "_", "key", "_", "error", "(", "const", "std", ":", ":", "string", "&", "file", ",", "int", "line", ",", "<nl>", "const", "std", ":", ":", "string", "&", "tag", ",", "const", "std", ":", ":", "string", "&", "key", "<nl>", ")", "{", "<nl>", "-", "WRN", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "In", "tag", "\"", "<", "<", "tag", "<nl>", "+", "ERR", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "In", "tag", "\"", "<", "<", "tag", "<nl>", "<", "<", "\"", "which", "begins", "here", ",", "\"", "<", "<", "\"", "key", "\"", "<", "<", "key", "<", "<", "\"", "wasn", "'", "t", "allowed", "\\", "n", "\"", ";", "<nl>", "}", "<nl>", "void", "missing", "_", "key", "_", "error", "(", "const", "std", ":", ":", "string", "&", "file", ",", "int", "line", ",", "<nl>", "const", "std", ":", ":", "string", "&", "tag", ",", "const", "std", ":", ":", "string", "&", "key", "<nl>", ")", "{", "<nl>", "-", "WRN", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "In", "tag", "\"", "<", "<", "tag", "<nl>", "+", "ERR", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "In", "tag", "\"", "<", "<", "tag", "<nl>", "<", "<", "\"", "which", "begins", "here", ",", "\"", "<", "<", "\"", "missing", "key", "\"", "<", "<", "key", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "}", "<nl>", "void", "wrong", "_", "value", "_", "error", "(", "const", "std", ":", ":", "string", "&", "file", ",", "int", "line", ",", "<nl>", "const", "std", ":", ":", "string", "&", "tag", ",", "const", "std", ":", ":", "string", "&", "key", ",", "<nl>", "const", "std", ":", ":", "string", "&", "value", ")", "{", "<nl>", "-", "WRN", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "In", "tag", "\"", "<", "<", "tag", "<nl>", "+", "ERR", "_", "VL", "<", "<", "at", "(", "file", ",", "line", ")", "<", "<", "\"", ":", "In", "tag", "\"", "<", "<", "tag", "<nl>", "<", "<", "\"", "which", "begins", "here", ",", "\"", "<", "<", "\"", "key", "\"", "<", "<", "key", "<", "<", "\"", "have", "wrong", "value", "\"", "<nl>", "<", "<", "value", "<", "<", "\"", "\\", "n", "\"", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Forgot", "to", "change", "the", "log"]}
{"code_tokens": ["bool", "ai", "_", "default", "_", "recruitment", "_", "stage", ":", ":", "recruit", "_", "usage", "(", "const", "std", ":", ":", "string", "&", "usage", ")", "<nl>", "<nl>", "if", "(", "imc", "!", "=", "maximum", "_", "counts", "_", ".", "end", "(", ")", ")", "{", "<nl>", "int", "count", "_", "active", "=", "0", ";", "<nl>", "-", "for", "(", "unit", "_", "map", ":", ":", "iterator", "u", "=", "get", "_", "info", "(", ")", ".", "units", ".", "begin", "(", ")", ";", "u", "!", "=", "get", "_", "info", "(", ")", ".", "units", ".", "end", "(", ")", ";", "u", "+", "+", ")", "{", "<nl>", "+", "for", "(", "unit", "_", "map", ":", ":", "iterator", "u", "=", "get", "_", "info", "(", ")", ".", "units", ".", "begin", "(", ")", ";", "u", "!", "=", "get", "_", "info", "(", ")", ".", "units", ".", "end", "(", ")", ";", "+", "+", "u", ")", "{", "<nl>", "if", "(", "(", "u", "-", ">", "second", ".", "side", "(", ")", "=", "=", "get", "_", "side", "(", ")", ")", "&", "&", "(", "!", "u", "-", ">", "second", ".", "incapacitated", "(", ")", ")", "&", "&", "(", "u", "-", ">", "second", ".", "type", "_", "id", "(", ")", "=", "=", "name", ")", ")", "{", "<nl>", "-", "count", "_", "active", "+", "+", ";", "<nl>", "+", "+", "+", "count", "_", "active", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Pre", "instead", "of", "post", "increment", "a", "variable"]}
{"code_tokens": ["void", "upload", "_", "log", ":", ":", "start", "(", "game", "_", "state", "&", "state", ",", "const", "team", "&", "team", ",", "<nl>", "if", "(", "uploader", "_", "settings", ":", ":", "new", "_", "uploader", ")", "{", "<nl>", "/", "/", "replace", "newlines", "in", "map", "definition", "with", "semicolons", "so", "that", "braindead", "server", "-", "side", "wml", "parser", "doesn", "'", "t", "get", "confused", "<nl>", "std", ":", ":", "string", "encoded", "_", "map", "(", "map", "_", "data", ")", ";", "<nl>", "-", "for", "(", "int", "idx", "=", "0", ";", "idx", "<", "encoded", "_", "map", ".", "length", "(", ")", ";", "idx", "+", "+", ")", "{", "<nl>", "+", "for", "(", "size", "_", "t", "idx", "=", "0", ";", "idx", "<", "encoded", "_", "map", ".", "length", "(", ")", ";", "idx", "+", "+", ")", "{", "<nl>", "if", "(", "encoded", "_", "map", "[", "idx", "]", "=", "=", "'", "\\", "n", "'", ")", "<nl>", "encoded", "_", "map", "[", "idx", "]", "=", "'", ";", "'", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fixed", "a", "warning"]}
{"code_tokens": ["namespace", "<nl>", "*", "/", "<nl>", "grid", "*", "row", "_", "grid", "=", "list", ".", "get", "_", "row", "_", "grid", "(", "list", ".", "get", "_", "selected", "_", "row", "(", ")", ")", ";", "<nl>", "if", "(", "toggle", "_", "button", "*", "checkbox", "=", "find", "_", "widget", "<", "toggle", "_", "button", ">", "(", "row", "_", "grid", ",", "\"", "checkbox", "\"", ",", "false", ",", "false", ")", ")", "{", "<nl>", "-", "checkbox", "-", ">", "set", "_", "value", "_", "bool", "(", "!", "checkbox", "-", ">", "get", "_", "value", "_", "bool", "(", ")", ")", ";", "<nl>", "+", "checkbox", "-", ">", "set", "_", "value", "_", "bool", "(", "!", "checkbox", "-", ">", "get", "_", "value", "_", "bool", "(", ")", ",", "true", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["GUI2", "Drop", "Down", "Menu", "fixed", "row", "toggle", "callback", "not", "firing", "when", "selecting", "row"]}
{"code_tokens": ["void", "game", "_", "state", ":", ":", "get", "_", "player", "_", "info", "(", "const", "config", "&", "side", "_", "cfg", ",", "<nl>", "for", "(", "std", ":", ":", "vector", "<", "unit", ">", ":", ":", "iterator", "it", "=", "player", "-", ">", "available", "_", "units", ".", "begin", "(", ")", ";", "<nl>", "it", "!", "=", "player", "-", ">", "available", "_", "units", ".", "end", "(", ")", ";", "+", "+", "it", ")", "{", "<nl>", "if", "(", "it", "-", ">", "can", "_", "recruit", "(", ")", ")", "{", "<nl>", "-", "new", "_", "unit", "=", "*", "it", ";", "<nl>", "-", "new", "_", "unit", ".", "set", "_", "game", "_", "context", "(", "&", "units", ",", "&", "map", ",", "&", "tod", "_", "mng", ",", "&", "teams", ")", ";", "<nl>", "player", "-", ">", "available", "_", "units", ".", "erase", "(", "it", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "if", "(", "player", "_", "cfg", "!", "=", "NULL", ")", "{", "<nl>", "for", "(", "std", ":", ":", "vector", "<", "unit", ">", ":", ":", "iterator", "it", "=", "teams", ".", "back", "(", ")", ".", "recall", "_", "list", "(", ")", ".", "begin", "(", ")", ";", "<nl>", "it", "!", "=", "teams", ".", "back", "(", ")", ".", "recall", "_", "list", "(", ")", ".", "end", "(", ")", ";", "+", "+", "it", ")", "{", "<nl>", "if", "(", "it", "-", ">", "can", "_", "recruit", "(", ")", ")", "{", "<nl>", "+", "new", "_", "unit", "=", "*", "it", ";", "<nl>", "+", "new", "_", "unit", ".", "set", "_", "game", "_", "context", "(", "&", "units", ",", "&", "map", ",", "&", "tod", "_", "mng", ",", "&", "teams", ")", ";", "<nl>", "teams", ".", "back", "(", ")", ".", "recall", "_", "list", "(", ")", ".", "erase", "(", "it", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["leader", "replacement", "in", "get_player_info", "no", "longer", "uses", "player_info"]}
{"code_tokens": ["#", "include", "\"", "units", "/", "drawer", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "whiteboard", "/", "manager", ".", "hpp", "\"", "<nl>", "#", "include", "\"", "show", "_", "dialog", ".", "hpp", "\"", "<nl>", "+", "#", "include", "\"", "gui", "/", "dialogs", "/", "loadscreen", ".", "hpp", "\"", "<nl>", "<nl>", "#", "include", "<", "SDL", "_", "image", ".", "h", ">", "<nl>", "<nl>", "void", "display", ":", ":", "handle", "_", "window", "_", "event", "(", "const", "SDL", "_", "Event", "&", "event", ")", "{", "<nl>", "}", "<nl>", "<nl>", "void", "display", ":", ":", "handle", "_", "event", "(", "const", "SDL", "_", "Event", "&", "event", ")", "{", "<nl>", "+", "if", "(", "gui2", ":", ":", "tloadscreen", ":", ":", "displaying", "(", ")", ")", "{", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "if", "(", "event", ".", "type", "=", "=", "DRAW", "_", "ALL", "_", "EVENT", ")", "{", "<nl>", "draw", "(", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fix", "segfault", "during", "loadingscreen"]}
{"code_tokens": ["SYNCED", "_", "COMMAND", "_", "HANDLER", "_", "FUNCTION", "(", "attack", ",", "child", ",", "/", "*", "use", "_", "undo", "*", "/", ",", "show", ",", "error", "_", "handler", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "size", "_", "t", "(", "weapon", "_", "num", ")", ">", "=", "u", "-", ">", "attacks", "(", ")", ".", "size", "(", ")", ")", "{", "<nl>", "+", "if", "(", "static", "_", "cast", "<", "unsigned", ">", "(", "weapon", "_", "num", ")", ">", "=", "u", "-", ">", "attacks", "(", ")", ".", "size", "(", ")", ")", "{", "<nl>", "error", "_", "handler", "(", "\"", "illegal", "weapon", "type", "in", "attack", "\\", "n", "\"", ",", "true", ")", ";", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Attempt", "to", "appease", "travis"]}
{"code_tokens": ["void", "scrollpane", ":", ":", "draw", "(", ")", "<nl>", "<nl>", "void", "scrollpane", ":", ":", "scroll", "(", "unsigned", "int", "pos", ")", "<nl>", "{", "<nl>", "-", "if", "(", "(", "int", ")", "pos", "=", "=", "content", "_", "pos", "_", ".", "y", ")", "<nl>", "+", "if", "(", "static", "_", "cast", "<", "int", ">", "(", "pos", ")", "=", "=", "content", "_", "pos", "_", ".", "y", ")", "<nl>", "return", ";", "<nl>", "<nl>", "content", "_", "pos", "_", ".", "y", "=", "pos", ";", "<nl>"], "docstring_tokens": ["C", "style", "cast", "cleanup"]}
{"code_tokens": ["int", "mp", "_", "connect", ":", ":", "load", "_", "map", "(", "const", "std", ":", ":", "string", "&", "era", ",", "int", "map", ",", "int", "num", "_", "turns", ",", "int", "vil", "<nl>", "<nl>", "load", "_", "game", "(", "*", "data", "_", ",", "game", ",", "*", "state", "_", ")", ";", "<nl>", "<nl>", "-", "state", "_", "-", ">", "gold", "=", "-", "10000", ";", "<nl>", "state", "_", "-", ">", "available", "_", "units", ".", "clear", "(", ")", ";", "<nl>", "state", "_", "-", ">", "can", "_", "recruit", ".", "clear", "(", ")", ";", "<nl>", "<nl>", "int", "mp", "_", "connect", ":", ":", "load", "_", "map", "(", "const", "std", ":", ":", "string", "&", "era", ",", "int", "map", ",", "int", "num", "_", "turns", ",", "int", "vil", "<nl>", "<nl>", "level", "_", "=", "level", "_", "ptr", ";", "<nl>", "state", "_", "-", ">", "label", "=", "level", "_", "-", ">", "values", "[", "\"", "name", "\"", "]", ";", "<nl>", "+", "state", "_", "-", ">", "gold", "=", "-", "10000", ";", "<nl>", "<nl>", "std", ":", ":", "map", "<", "int", ",", "std", ":", ":", "string", ">", "res", "_", "to", "_", "id", ";", "<nl>", "for", "(", "config", ":", ":", "child", "_", "list", ":", ":", "const", "_", "iterator", "i", "=", "levels", ".", "begin", "(", ")", ";", "i", "!", "=", "levels", ".", "end", "(", ")", ";", "+", "+", "i", ")", "{", "<nl>"], "docstring_tokens": ["made", "it", "so", "that", "the", "first", "player", "can", "start", "with", "less", "than", "100", "gold"]}
{"code_tokens": ["class", "grid", ":", "public", "widget", "<nl>", "public", ":", "<nl>", "explicit", "grid", "(", "const", "unsigned", "rows", "=", "0", ",", "const", "unsigned", "cols", "=", "0", ")", ";", "<nl>", "<nl>", "+", "/", "*", "*", "Delete", "the", "copy", "constructor", ".", "*", "/", "<nl>", "+", "grid", "(", "const", "grid", "&", ")", "=", "delete", ";", "<nl>", "+", "<nl>", "+", "/", "*", "*", "Delete", "the", "move", "assignment", "operator", ".", "*", "/", "<nl>", "+", "grid", "&", "operator", "=", "(", "const", "grid", "&", ")", "=", "delete", ";", "<nl>", "+", "<nl>", "virtual", "~", "grid", "(", ")", ";", "<nl>", "<nl>", "/", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "LAYOUT", "FLAGS", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "/", "<nl>"], "docstring_tokens": ["GUI2", "Grid", "explicitly", "delete", "copy", "and", "move", "ctors"]}
{"code_tokens": ["std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "get", "_", "text", "(", ")", "{", "<nl>", "\"", "_", "\"", "N", "_", "(", "\"", "+", "Catalan", "Translation", "\"", ")", ",", "<nl>", "\"", "-", "Carles", "Company", "(", "brrr", ")", "\"", ",", "<nl>", "\"", "-", "Dan", "Ross", "Garcia", "(", "focks", ")", "\"", ",", "<nl>", "+", "\"", "-", "Jonatan", "Alam", "(", "tin", ")", "\"", ",", "<nl>", "\"", "-", "Jord", "Polo", "(", "ettin", ")", "\"", ",", "<nl>", "\"", "-", "Mark", "Recasens", "\"", ",", "<nl>", "\"", "-", "Pau", "Rul", "lan", "Ferragut", "\"", ",", "<nl>"], "docstring_tokens": ["added", "Jonatan", "Alam", "as", "catalan", "translator"]}
{"code_tokens": ["size", "_", "t", "menu", ":", ":", "get", "_", "item", "_", "height", "(", "int", ")", "const", "<nl>", "<nl>", "void", "menu", ":", ":", "process", "_", "help", "_", "string", "(", "int", "mousex", ",", "int", "mousey", ")", "<nl>", "{", "<nl>", "+", "if", "(", "hidden", "(", ")", ")", "return", ";", "<nl>", "+", "<nl>", "const", "std", ":", ":", "pair", "<", "int", ",", "int", ">", "loc", "(", "hit", "(", "mousex", ",", "mousey", ")", ",", "hit", "_", "column", "(", "mousex", ")", ")", ";", "<nl>", "if", "(", "loc", "=", "=", "cur", "_", "help", "_", ")", "{", "<nl>", "return", ";", "<nl>", "void", "menu", ":", ":", "process", "_", "help", "_", "string", "(", "int", "mousex", ",", "int", "mousey", ")", "<nl>", "help", "_", "string", "_", "=", "-", "1", ";", "<nl>", "}", "<nl>", "if", "(", "size", "_", "t", "(", "loc", ".", "first", ")", "<", "items", "_", ".", "size", "(", ")", ")", "{", "<nl>", "-", "const", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "&", "row", "=", "items", "_", "[", "loc", ".", "first", "]", ".", "help", ";", "<nl>", "+", "const", "std", ":", ":", "vector", "<", "std", ":", ":", "string", ">", "&", "row", "=", "items", "_", "[", "item", "_", "pos", "_", "[", "loc", ".", "first", "]", "]", ".", "help", ";", "<nl>", "if", "(", "size", "_", "t", "(", "loc", ".", "second", ")", "<", "row", ".", "size", "(", ")", ")", "{", "<nl>", "const", "std", ":", ":", "string", "&", "help", "=", "row", "[", "loc", ".", "second", "]", ";", "<nl>", "if", "(", "help", ".", "empty", "(", ")", "=", "=", "false", ")", "{", "<nl>"], "docstring_tokens": ["Fix", "the", "gui1", "menu", "displaying", "the", "wrong", "help", "when", "the", "list", "got", "sorted"]}
{"code_tokens": ["void", "pump", "(", ")", "<nl>", "SDL", "_", "UserEvent", "user", "_", "event", ";", "<nl>", "user", "_", "event", ".", "type", "=", "DOUBLE", "_", "CLICK", "_", "EVENT", ";", "<nl>", "user", "_", "event", ".", "code", "=", "0", ";", "<nl>", "-", "user", "_", "event", ".", "data1", "=", "reinterpret", "_", "cast", "<", "void", "*", ">", "(", "event", ".", "button", ".", "x", ")", ";", "<nl>", "-", "user", "_", "event", ".", "data2", "=", "reinterpret", "_", "cast", "<", "void", "*", ">", "(", "event", ".", "button", ".", "y", ")", ";", "<nl>", "+", "user", "_", "event", ".", "data1", "=", "new", "int", "(", "event", ".", "button", ".", "x", ")", ";", "<nl>", "+", "user", "_", "event", ".", "data2", "=", "new", "int", "(", "event", ".", "button", ".", "y", ")", ";", "<nl>", ":", ":", "SDL", "_", "PushEvent", "(", "reinterpret", "_", "cast", "<", "SDL", "_", "Event", "*", ">", "(", "&", "user", "_", "event", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "raise", "_", "draw", "_", "event", "(", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "}", "<nl>", "\\", "No", "newline", "at", "end", "of", "file", "<nl>", "+", "}", "mmm", "src", "/", "widgets", "/", "menu", ".", "cpp", "<nl>", "void", "pump", "(", ")", "<nl>", "SDL", "_", "UserEvent", "user", "_", "event", ";", "<nl>", "user", "_", "event", ".", "type", "=", "DOUBLE", "_", "CLICK", "_", "EVENT", ";", "<nl>", "user", "_", "event", ".", "code", "=", "0", ";", "<nl>", "-", "user", "_", "event", ".", "data1", "=", "reinterpret", "_", "cast", "<", "void", "*", ">", "(", "event", ".", "button", ".", "x", ")", ";", "<nl>", "-", "user", "_", "event", ".", "data2", "=", "reinterpret", "_", "cast", "<", "void", "*", ">", "(", "event", ".", "button", ".", "y", ")", ";", "<nl>", "+", "user", "_", "event", ".", "data1", "=", "new", "int", "(", "event", ".", "button", ".", "x", ")", ";", "<nl>", "+", "user", "_", "event", ".", "data2", "=", "new", "int", "(", "event", ".", "button", ".", "y", ")", ";", "<nl>", ":", ":", "SDL", "_", "PushEvent", "(", "reinterpret", "_", "cast", "<", "SDL", "_", "Event", "*", ">", "(", "&", "user", "_", "event", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "raise", "_", "draw", "_", "event", "(", ")", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "}", "<nl>", "\\", "No", "newline", "at", "end", "of", "file", "<nl>", "+", "}", "<nl>", "void", "menu", ":", ":", "handle", "_", "event", "(", "const", "SDL", "_", "Event", "&", "event", ")", "<nl>", "x", "=", "event", ".", "button", ".", "x", ";", "<nl>", "y", "=", "event", ".", "button", ".", "y", ";", "<nl>", "}", "else", "{", "<nl>", "-", "x", "=", "reinterpret", "_", "cast", "<", "int", ">", "(", "event", ".", "user", ".", "data1", ")", ";", "<nl>", "-", "y", "=", "reinterpret", "_", "cast", "<", "int", ">", "(", "event", ".", "user", ".", "data2", ")", ";", "<nl>", "+", "x", "=", "*", "(", "reinterpret", "_", "cast", "<", "int", "*", ">", "(", "event", ".", "user", ".", "data1", ")", ")", ";", "<nl>", "+", "y", "=", "*", "(", "reinterpret", "_", "cast", "<", "int", "*", ">", "(", "event", ".", "user", ".", "data2", ")", ")", ";", "<nl>", "+", "delete", "reinterpret", "_", "cast", "<", "int", "*", ">", "(", "event", ".", "user", ".", "data1", ")", ";", "<nl>", "+", "delete", "reinterpret", "_", "cast", "<", "int", "*", ">", "(", "event", ".", "user", ".", "data2", ")", ";", "<nl>", "}", "<nl>", "<nl>", "const", "int", "item", "=", "hit", "(", "x", ",", "y", ")", ";", "<nl>"], "docstring_tokens": ["Fixed", "bug", "that", "caused", "Wesnoth", "to", "fail", "to", "compile", "in", "ia64"]}
{"code_tokens": ["void", "game", "_", "controller", ":", ":", "reset", "_", "game", "_", "cfg", "(", ")", "<nl>", "defines", "_", "map", "_", "[", "\"", "APPLE", "\"", "]", "=", "preproc", "_", "define", "(", ")", ";", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "defines", "_", "map", "_", "[", "\"", "NORMAL", "\"", "]", "=", "preproc", "_", "define", "(", ")", ";", "<nl>", "-", "defines", "_", "map", "_", "[", "\"", "MEDIUM", "\"", "]", "=", "preproc", "_", "define", "(", ")", ";", "<nl>", "-", "<nl>", "if", "(", "multiplayer", "_", "mode", "_", ")", "{", "<nl>", "defines", "_", "map", "_", "[", "\"", "MULTIPLAYER", "\"", "]", "=", "preproc", "_", "define", "(", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "defines", "_", "map", "_", "[", "\"", "NORMAL", "\"", "]", "=", "preproc", "_", "define", "(", ")", ";", "<nl>", "+", "defines", "_", "map", "_", "[", "\"", "MEDIUM", "\"", "]", "=", "preproc", "_", "define", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "refresh", "_", "game", "_", "cfg", "(", ")", ";", "<nl>"], "docstring_tokens": ["patch", "720", "Do", "not", "use", "campaign", "defines", "in", "MP", "mode"]}
{"code_tokens": ["bool", "gamemap", ":", ":", "filter", "_", "location", "(", "const", "gamemap", ":", ":", "location", "&", "loc", ",", "const", "config", "&", "/", "*", "con", "*", "<nl>", "void", "gamemap", ":", ":", "write", "_", "terrain", "(", "const", "gamemap", ":", ":", "location", "&", "loc", ",", "config", "&", "cfg", ")", "const", "<nl>", "{", "<nl>", "/", "/", "will", "need", "to", "be", "updated", "for", "multi", "-", "letter", "terrain", "-", "-", "Sapient", "<nl>", "-", "char", "*", "loc", "_", "terrain", "=", "\"", "\"", ";", "<nl>", "+", "char", "loc", "_", "terrain", "[", "]", "=", "\"", "\"", ";", "<nl>", "*", "loc", "_", "terrain", "=", "get", "_", "terrain", "(", "loc", ")", ";", "<nl>", "cfg", "[", "\"", "terrain", "\"", "]", "=", "loc", "_", "terrain", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "segfault", "caused", "by", "2006", "05", "01T22", "54", "40Z", "patrick_x99", "hotmail", "com", "you", "cannot", "overwrite", "string", "literals"]}
{"code_tokens": ["static", "bool", "is", "_", "legal", "_", "file", "(", "const", "std", ":", ":", "string", "&", "filename", ")", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "ends", "_", "with", "(", "filename", ",", "\"", ".", "pbl", "\"", ")", ")", "{", "<nl>", "+", "ERR", "_", "FS", "<", "<", "\"", "Illegal", "path", "'", "\"", "<", "<", "filename", "<", "<", "\"", "'", "(", ".", "pbl", "files", "are", "not", "allowed", ")", ".", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "+", "return", "false", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "return", "true", ";", "<nl>", "}", "<nl>", "static", "bool", "is", "_", "legal", "_", "file", "(", "const", "std", ":", ":", "string", "&", "filename", ")", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "ends", "_", "with", "(", "filename", ",", "\"", ".", "pbl", "\"", ")", ")", "{", "<nl>", "+", "ERR", "_", "FS", "<", "<", "\"", "Illegal", "path", "'", "\"", "<", "<", "filename", "<", "<", "\"", "'", "(", ".", "pbl", "files", "are", "not", "allowed", ")", ".", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "+", "return", "false", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "return", "true", ";", "<nl>", "}", "<nl>", "<nl>", "std", ":", ":", "string", "get", "_", "wml", "_", "location", "(", "const", "std", ":", ":", "string", "&", "filename", ",", "const", "std", ":", ":", "string", "&", "cur", "<nl>", "return", "result", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "ends", "_", "with", "(", "filename", ",", "\"", ".", "pbl", "\"", ")", ")", "{", "<nl>", "+", "ERR", "_", "FS", "<", "<", "\"", "Illegal", "path", "'", "\"", "<", "<", "filename", "<", "<", "\"", "'", "(", ".", "pbl", "files", "are", "not", "allowed", ")", ".", "\"", "<", "<", "std", ":", ":", "endl", ";", "<nl>", "+", "return", "result", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "bool", "already", "_", "found", "=", "false", ";", "<nl>", "<nl>", "if", "(", "filename", "[", "0", "]", "=", "=", "'", "~", "'", ")", "<nl>"], "docstring_tokens": ["Disallow", "inclusion", "of", "pbl", "files", "from", "WML", "bug", "23504"]}
{"code_tokens": ["template", "<", "class", "Item", ">", "<nl>", "void", "editor", "_", "palette", "<", "Item", ">", ":", ":", "swap", "(", ")", "<nl>", "{", "<nl>", "std", ":", ":", "swap", "(", "selected", "_", "fg", "_", "item", "_", ",", "selected", "_", "bg", "_", "item", "_", ")", ";", "<nl>", "+", "select", "_", "fg", "_", "item", "(", "selected", "_", "fg", "_", "item", "_", ")", ";", "<nl>", "+", "select", "_", "bg", "_", "item", "(", "selected", "_", "bg", "_", "item", "_", ")", ";", "<nl>", "+", "set", "_", "dirty", "(", ")", ";", "<nl>", "}", "<nl>", "template", "void", "editor", "_", "palette", "<", "t", "_", "translation", ":", ":", "t", "_", "terrain", ">", ":", ":", "swap", "(", ")", ";", "<nl>", "template", "void", "editor", "_", "palette", "<", "unit", "_", "type", ">", ":", ":", "swap", "(", ")", ";", "mmm", "src", "/", "editor", "/", "editor", "_", "controller", ".", "cpp", "<nl>", "template", "<", "class", "Item", ">", "<nl>", "void", "editor", "_", "palette", "<", "Item", ">", ":", ":", "swap", "(", ")", "<nl>", "{", "<nl>", "std", ":", ":", "swap", "(", "selected", "_", "fg", "_", "item", "_", ",", "selected", "_", "bg", "_", "item", "_", ")", ";", "<nl>", "+", "select", "_", "fg", "_", "item", "(", "selected", "_", "fg", "_", "item", "_", ")", ";", "<nl>", "+", "select", "_", "bg", "_", "item", "(", "selected", "_", "bg", "_", "item", "_", ")", ";", "<nl>", "+", "set", "_", "dirty", "(", ")", ";", "<nl>", "}", "<nl>", "template", "void", "editor", "_", "palette", "<", "t", "_", "translation", ":", ":", "t", "_", "terrain", ">", ":", ":", "swap", "(", ")", ";", "<nl>", "template", "void", "editor", "_", "palette", "<", "unit", "_", "type", ">", ":", ":", "swap", "(", ")", ";", "<nl>", "bool", "editor", "_", "controller", ":", ":", "execute", "_", "command", "(", "hotkey", ":", ":", "HOTKEY", "_", "COMMAND", "command", ",", "int", "inde", "<nl>", "return", "true", ";", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "PALETTE", "_", "ITEM", "_", "SWAP", ":", "<nl>", "toolkit", "_", "-", ">", "get", "_", "palette", "_", "manager", "(", ")", "-", ">", "active", "_", "palette", "(", ")", ".", "swap", "(", ")", ";", "<nl>", "-", "toolkit", "_", "-", ">", "set", "_", "mouseover", "_", "overlay", "(", ")", ";", "<nl>", "return", "true", ";", "<nl>", "case", "HOTKEY", "_", "EDITOR", "_", "PARTIAL", "_", "UNDO", ":", "<nl>", "if", "(", "dynamic", "_", "cast", "<", "const", "editor", "_", "action", "_", "chain", "*", ">", "(", "context", "_", "manager", "_", "-", ">", "get", "_", "map", "_", "context", "(", ")", ".", "last", "_", "undo", "_", "action", "(", ")", ")", "!", "=", "NULL", ")", "{", "<nl>"], "docstring_tokens": ["Fix", "the", "non", "working", "swap", "palette", "icon", "action"]}
{"code_tokens": ["void", "textbox", ":", ":", "draw", "_", "cursor", "(", "int", "pos", ")", "const", "<nl>", "<nl>", "void", "textbox", ":", ":", "draw", "(", ")", "const", "<nl>", "{", "<nl>", "-", "if", "(", "location", "(", ")", ".", "h", "=", "=", "0", ")", "<nl>", "+", "if", "(", "location", "(", ")", ".", "x", "=", "=", "0", ")", "<nl>", "return", ";", "<nl>", "<nl>", "if", "(", "buffer", "_", ".", "get", "(", ")", "!", "=", "NULL", ")", "{", "<nl>", "void", "textbox", ":", ":", "draw", "(", ")", "const", "<nl>", "<nl>", "void", "textbox", ":", ":", "handle", "_", "event", "(", "const", "SDL", "_", "Event", "&", "event", ")", "<nl>", "{", "<nl>", "+", "if", "(", "location", "(", ")", ".", "x", "=", "=", "0", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "int", "mousex", ",", "mousey", ";", "<nl>", "SDL", "_", "GetMouseState", "(", "&", "mousex", ",", "&", "mousey", ")", ";", "<nl>"], "docstring_tokens": ["fixed", "black", "rectangle", "appearing", "at", "top", "left", "of", "screen"]}
{"code_tokens": ["void", "APar", "_", "Print", "_", "TrackDetails", "(", "TrackInfo", "*", "track", "_", "info", ")", "{", "<nl>", "}", "<nl>", "<nl>", "void", "APar", "_", "ExtractDetails", "(", "FILE", "*", "isofile", ",", "uint8", "_", "t", "optional", "_", "output", ")", "{", "<nl>", "-", "char", "uint32", "_", "buffer", "[", "5", "]", ";", "<nl>", "+", "char", "uint32", "_", "buffer", "[", "8", "]", ";", "<nl>", "Trackage", "track", "=", "{", "0", "}", ";", "<nl>", "<nl>", "AtomicInfo", "*", "mvhdAtom", "=", "APar", "_", "FindAtom", "(", "\"", "moov", ".", "mvhd", "\"", ",", "false", ",", "VERSIONED", "_", "ATOM", ",", "0", ")", ";", "<nl>"], "docstring_tokens": ["Avoid", "stack", "overflow"]}
{"code_tokens": ["void", "_", "_", "fastcall", "TSCPFileSystem", ":", ":", "SCPSink", "(", "const", "UnicodeString", "TargetDir", ",", "<nl>", "{", "<nl>", "FTerminal", "-", ">", "LogEvent", "(", "FORMAT", "(", "L", "\"", "Warning", ":", "Remote", "host", "set", "a", "compound", "pathname", "'", "%", "s", "'", "\"", ",", "(", "Line", ")", ")", ")", ";", "<nl>", "}", "<nl>", "+", "if", "(", "(", "Level", "=", "=", "0", ")", "&", "&", "(", "OnlyFileName", "!", "=", "UnixExtractFileName", "(", "FileName", ")", ")", ")", "<nl>", "+", "{", "<nl>", "+", "SCPError", "(", "LoadStr", "(", "UNREQUESTED", "_", "FILE", ")", ",", "False", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "FullFileName", "=", "SourceDir", "+", "OnlyFileName", ";", "<nl>", "OperationProgress", "-", ">", "SetFile", "(", "FullFileName", ")", ";", "mmm", "source", "/", "resource", "/", "TextsCore", ".", "h", "<nl>", "void", "_", "_", "fastcall", "TSCPFileSystem", ":", ":", "SCPSink", "(", "const", "UnicodeString", "TargetDir", ",", "<nl>", "{", "<nl>", "FTerminal", "-", ">", "LogEvent", "(", "FORMAT", "(", "L", "\"", "Warning", ":", "Remote", "host", "set", "a", "compound", "pathname", "'", "%", "s", "'", "\"", ",", "(", "Line", ")", ")", ")", ";", "<nl>", "}", "<nl>", "+", "if", "(", "(", "Level", "=", "=", "0", ")", "&", "&", "(", "OnlyFileName", "!", "=", "UnixExtractFileName", "(", "FileName", ")", ")", ")", "<nl>", "+", "{", "<nl>", "+", "SCPError", "(", "LoadStr", "(", "UNREQUESTED", "_", "FILE", ")", ",", "False", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "FullFileName", "=", "SourceDir", "+", "OnlyFileName", ";", "<nl>", "OperationProgress", "-", ">", "SetFile", "(", "FullFileName", ")", ";", "<nl>", "#", "define", "S3", "_", "STATUS", "_", "ACCESS", "_", "DENIED", "746", "<nl>", "#", "define", "UNKNOWN", "_", "FILE", "_", "ENCRYPTION", "747", "<nl>", "#", "define", "INVALID", "_", "ENCRYPT", "_", "KEY", "748", "<nl>", "+", "#", "define", "UNREQUESTED", "_", "FILE", "749", "<nl>", "<nl>", "#", "define", "CORE", "_", "CONFIRMATION", "_", "STRINGS", "300", "<nl>", "#", "define", "CONFIRM", "_", "PROLONG", "_", "TIMEOUT3", "301", "<nl>"], "docstring_tokens": ["Bug", "1675", "Prevent", "SCP", "server", "sending", "files", "that", "were", "not", "requested"]}
{"code_tokens": ["create", "_", "persconffile", "_", "profile", "(", "const", "char", "*", "profilename", ",", "char", "*", "*", "pf", "_", "dir", "_", "path", "_", "return", ")", "<nl>", "*", "doing", "a", "\"", "stat", "(", ")", "\"", "on", "it", ".", "If", "it", "'", "s", "a", "drive", "letter", ",", "<nl>", "*", "or", "if", "the", "\"", "stat", "(", ")", "\"", "succeeds", ",", "we", "assume", "it", "exists", ".", "<nl>", "*", "/", "<nl>", "-", "pf", "_", "dir", "_", "path", "_", "copy", "=", "pf", "_", "dir", "_", "path", ";", "<nl>", "+", "pf", "_", "dir", "_", "path", "_", "copy", "=", "g", "_", "strdup", "(", "pf", "_", "dir", "_", "path", ")", ";", "<nl>", "pf", "_", "dir", "_", "parent", "_", "path", "=", "get", "_", "dirname", "(", "pf", "_", "dir", "_", "path", "_", "copy", ")", ";", "<nl>", "pf", "_", "dir", "_", "parent", "_", "path", "_", "len", "=", "strlen", "(", "pf", "_", "dir", "_", "parent", "_", "path", ")", ";", "<nl>", "if", "(", "pf", "_", "dir", "_", "parent", "_", "path", "_", "len", ">", "0", "<nl>", "create", "_", "persconffile", "_", "profile", "(", "const", "char", "*", "profilename", ",", "char", "*", "*", "pf", "_", "dir", "_", "path", "_", "return", ")", "<nl>", "save", "_", "errno", "=", "errno", ";", "<nl>", "*", "pf", "_", "dir", "_", "path", "_", "return", "=", "pf", "_", "dir", "_", "path", ";", "<nl>", "errno", "=", "save", "_", "errno", ";", "<nl>", "+", "g", "_", "free", "(", "pf", "_", "dir", "_", "path", "_", "copy", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "/", "*", "<nl>", "create", "_", "persconffile", "_", "profile", "(", "const", "char", "*", "profilename", ",", "char", "*", "*", "pf", "_", "dir", "_", "path", "_", "return", ")", "<nl>", "ret", "=", "ws", "_", "mkdir", "(", "pf", "_", "dir", "_", "parent", "_", "path", ",", "0755", ")", ";", "<nl>", "if", "(", "ret", "=", "=", "-", "1", ")", "{", "<nl>", "*", "pf", "_", "dir", "_", "path", "_", "return", "=", "pf", "_", "dir", "_", "parent", "_", "path", ";", "<nl>", "+", "g", "_", "free", "(", "pf", "_", "dir", "_", "path", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "a", "double", "free"]}
{"code_tokens": ["dissect", "_", "gtpv2", "_", "mm", "_", "context", "_", "utms", "_", "qq", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tr", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "gtpv2", "_", "ik", ",", "tvb", ",", "offset", ",", "16", ",", "ENC", "_", "NA", ")", ";", "<nl>", "offset", "+", "=", "16", ";", "<nl>", "<nl>", "-", "if", "(", "nr", "_", "qua", ")", "<nl>", "-", "{", "<nl>", "-", "offset", "=", "dissect", "_", "gtpv2", "_", "authentication", "_", "quadruplets", "(", "tvb", ",", "tree", ",", "offset", ",", "nr", "_", "qui", ")", ";", "<nl>", "+", "if", "(", "nr", "_", "qua", ")", "{", "<nl>", "+", "offset", "=", "dissect", "_", "gtpv2", "_", "authentication", "_", "quadruplets", "(", "tvb", ",", "tree", ",", "offset", ",", "nr", "_", "qua", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "nr", "_", "qui", ")", "{", "<nl>"], "docstring_tokens": ["GTPv2", "fix", "Copy", "paste", "error", "CID", "1158587"]}
{"code_tokens": ["dissect", "_", "esp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "/", "*", "Copy", "back", "the", "Authentication", "which", "was", "not", "encrypted", "*", "/", "<nl>", "if", "(", "decrypted", "_", "len", ">", "=", "esp", "_", "auth", "_", "len", ")", "<nl>", "{", "<nl>", "-", "tvb", "_", "memcpy", "(", "tvb", ",", "decrypted", "_", "data", "+", "decrypted", "_", "len", "-", "esp", "_", "auth", "_", "len", ",", "sizeof", "(", "struct", "newesp", ")", "+", "decrypted", "_", "len", "-", "esp", "_", "auth", "_", "len", ",", "esp", "_", "auth", "_", "len", ")", ";", "<nl>", "+", "tvb", "_", "memcpy", "(", "tvb", ",", "decrypted", "_", "data", "+", "decrypted", "_", "len", "-", "esp", "_", "auth", "_", "len", ",", "(", "gint", ")", "(", "sizeof", "(", "struct", "newesp", ")", "+", "decrypted", "_", "len", "-", "esp", "_", "auth", "_", "len", ")", ",", "esp", "_", "auth", "_", "len", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Decryption", "has", "finished", "*", "/", "<nl>"], "docstring_tokens": ["Try", "to", "make", "Mac", "OS", "X", "Buildbot", "Happy"]}
{"code_tokens": ["*", "Routines", "for", "SMB", "Browser", "packet", "dissection", "<nl>", "*", "Copyright", "1999", ",", "Richard", "Sharpe", "<", "rsharpe", "@", "ns", ".", "aus", ".", "com", ">", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "smb", "-", "browse", ".", "c", ",", "v", "1", ".", "15", "2001", "/", "08", "/", "01", "03", ":", "47", ":", "00", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "smb", "-", "browse", ".", "c", ",", "v", "1", ".", "16", "2001", "/", "08", "/", "01", "08", ":", "12", ":", "15", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "dissect", "_", "mailslot", "_", "browse", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "parent", "_", "tr", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "update", "_", "count", ",", "tvb", ",", "offset", ",", "1", ",", "TRUE", ")", ";", "<nl>", "offset", "+", "=", "1", ";", "<nl>", "<nl>", "-", "/", "*", "periodicity", "*", "/", "<nl>", "+", "/", "*", "periodicity", "(", "in", "milliseconds", ")", "*", "/", "<nl>", "periodicity", "=", "tvb", "_", "get", "_", "letohl", "(", "tvb", ",", "offset", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "(", "tree", ",", "hf", "_", "periodicity", ",", "tvb", ",", "offset", ",", "4", ",", "<nl>", "periodicity", ",", "<nl>", "dissect", "_", "mailslot", "_", "browse", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "parent", "_", "tr", "<nl>", "*", "<nl>", "*", "The", "document", "at", "<nl>", "*", "<nl>", "-", "*", "http", ":", "/", "/", "www", ".", "samba", ".", "org", "/", "samba", "/", "ftp", "/", "specs", "/", "smbpub", ".", "txt", "<nl>", "+", "*", "http", ":", "/", "/", "www", ".", "samba", ".", "org", "/", "samba", "/", "ftp", "/", "specs", "/", "brow", "_", "rev", ".", "txt", "<nl>", "*", "<nl>", "*", "gives", "both", "formats", "of", "host", "announcement", "packets", ",", "saying", "that", "<nl>", "*", "\"", "[", "The", "first", "]", "format", "seems", "wrong", "\"", ",", "that", "one", "being", "what", "appears", "to", "<nl>", "dissect", "_", "mailslot", "_", "lanman", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "parent", "_", "tr", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "os", "_", "minor", ",", "tvb", ",", "offset", ",", "1", ",", "TRUE", ")", ";", "<nl>", "offset", "+", "=", "1", ";", "<nl>", "<nl>", "-", "/", "*", "periodicity", "*", "/", "<nl>", "-", "periodicity", "=", "tvb", "_", "get", "_", "letohs", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "/", "*", "periodicity", "(", "in", "seconds", ";", "convert", "to", "milliseconds", ")", "*", "/", "<nl>", "+", "periodicity", "=", "tvb", "_", "get", "_", "letohs", "(", "tvb", ",", "offset", ")", "*", "1000", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "(", "tree", ",", "hf", "_", "periodicity", ",", "tvb", ",", "offset", ",", "2", ",", "<nl>", "periodicity", ",", "<nl>", "\"", "Update", "Periodicity", ":", "%", "s", "\"", ",", "<nl>"], "docstring_tokens": ["Put", "in", "the", "right", "URL", "for", "the", "browser", "spec", "on", "the", "Samba", "site"]}
{"code_tokens": ["*", "Routines", "for", "ISO", "/", "OSI", "End", "System", "to", "Intermediate", "System", "<nl>", "*", "Routing", "Exchange", "Protocol", "ISO", "9542", ".", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "esis", ".", "c", ",", "v", "1", ".", "27", "2002", "/", "08", "/", "28", "21", ":", "00", ":", "13", "jmayer", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "esis", ".", "c", ",", "v", "1", ".", "28", "2003", "/", "02", "/", "25", "19", ":", "07", ":", "07", "guy", "Exp", "$", "<nl>", "*", "Ralf", "Schneider", "<", "Ralf", ".", "Schneider", "@", "t", "-", "online", ".", "de", ">", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "proto", "_", "reg", "_", "handoff", "_", "esis", "(", "void", ")", "<nl>", "dissector", "_", "handle", "_", "t", "esis", "_", "handle", ";", "<nl>", "<nl>", "esis", "_", "handle", "=", "create", "_", "dissector", "_", "handle", "(", "dissect", "_", "esis", ",", "proto", "_", "esis", ")", ";", "<nl>", "+", "register", "_", "dissector", "(", "\"", "esis", "\"", ",", "dissect", "_", "esis", ",", "proto", "_", "esis", ")", ";", "<nl>", "dissector", "_", "add", "(", "\"", "osinl", "\"", ",", "NLPID", "_", "ISO9542", "_", "ESIS", ",", "esis", "_", "handle", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["From", "Laurent", "Meyer", "register", "the", "ESIS", "dissector", "by", "name", "so", "it", "can", "be"]}
{"code_tokens": ["static", "void", "uat", "_", "edit", "_", "dialog", "(", "uat", "_", "t", "*", "uat", ",", "gint", "row", ",", "gboolean", "copy", ")", "{", "<nl>", "if", "(", "copy", "&", "&", "row", ">", "=", "0", ")", "{", "<nl>", "dd", "-", ">", "rec", "=", "g", "_", "malloc0", "(", "uat", "-", ">", "record", "_", "size", ")", ";", "<nl>", "if", "(", "uat", "-", ">", "copy", "_", "cb", ")", "{", "<nl>", "-", "uat", "-", ">", "copy", "_", "cb", "(", "dd", "-", ">", "rec", ",", "UAT", "_", "INDEX", "_", "PTR", "(", "uat", ",", "row", ")", ",", "uat", "-", ">", "record", "_", "size", ")", ";", "<nl>", "+", "uat", "-", ">", "copy", "_", "cb", "(", "dd", "-", ">", "rec", ",", "UAT", "_", "INDEX", "_", "PTR", "(", "uat", ",", "row", ")", ",", "(", "unsigned", "int", ")", "uat", "-", ">", "record", "_", "size", ")", ";", "<nl>", "}", "<nl>", "dd", "-", ">", "is", "_", "new", "=", "TRUE", ";", "<nl>", "}", "else", "if", "(", "row", ">", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["Added", "a", "cast", "from", "size_t", "to", "unsigned", "int"]}
{"code_tokens": ["dissect", "_", "6lowpan", "_", "iphc", "_", "nhc", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "gi", "<nl>", "/", "*", "Get", "and", "display", "the", "checksum", ".", "*", "/", "<nl>", "if", "(", "!", "(", "udp", "_", "flags", "&", "LOWPAN", "_", "NHC", "_", "UDP", "_", "CHECKSUM", ")", ")", "{", "<nl>", "/", "*", "Parse", "the", "checksum", ".", "*", "/", "<nl>", "-", "udp", ".", "checksum", "=", "tvb", "_", "get", "_", "ntohs", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "tvb", "_", "memcpy", "(", "tvb", ",", "&", "udp", ".", "checksum", ",", "offset", ",", "sizeof", "(", "udp", ".", "checksum", ")", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "checksum", "(", "tree", ",", "tvb", ",", "offset", ",", "hf", "_", "6lowpan", "_", "udp", "_", "checksum", ",", "-", "1", ",", "NULL", ",", "pinfo", ",", "0", ",", "ENC", "_", "BIG", "_", "ENDIAN", ",", "PROTO", "_", "CHECKSUM", "_", "NO", "_", "FLAGS", ")", ";", "<nl>", "offset", "+", "=", "2", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["6LoWPAN", "bugfix", "in", "extracting", "in", "line", "UDP", "checksum", "of", "IPHC"]}
{"code_tokens": ["translate", "_", "hex", "_", "key", "(", "gchar", "*", "char", "_", "key", ")", "{", "<nl>", "key", "_", "in", "=", "g", "_", "malloc0", "(", "sizeof", "(", "guint8", ")", "*", "16", ")", ";", "<nl>", "/", "*", "memset", "(", "key", "_", "in", ",", "0", ",", "16", ")", ";", "<nl>", "*", "/", "<nl>", "-", "j", "=", "(", "strlen", "(", "char", "_", "key", ")", "/", "2", ")", "-", "1", ";", "<nl>", "+", "j", "=", "(", "int", ")", "(", "strlen", "(", "char", "_", "key", ")", "/", "2", ")", "-", "1", ";", "<nl>", "/", "*", "Translate", "\"", "hex", "-", "string", "\"", "into", "a", "byte", "aligned", "block", "*", "/", "<nl>", "-", "for", "(", "i", "=", "strlen", "(", "char", "_", "key", ")", ";", "i", ">", "0", ";", "i", "-", "=", "2", ")", "{", "<nl>", "+", "for", "(", "i", "=", "(", "int", ")", "strlen", "(", "char", "_", "key", ")", ";", "i", ">", "0", ";", "i", "-", "=", "2", ")", "{", "<nl>", "<nl>", "key", "_", "in", "[", "j", "]", "=", "(", "(", "guint8", ")", "(", "strtol", "(", "&", "char", "_", "key", "[", "i", "-", "2", "]", ",", "NULL", ",", "16", ")", ")", ")", ";", "<nl>", "char", "_", "key", "[", "i", "-", "2", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "translate", "_", "hex", "_", "key", "(", "gchar", "*", "char", "_", "key", ")", "{", "<nl>", "*", "@", "return", "tvb", "Returns", "a", "deciphered", "tvb", "<nl>", "*", "/", "<nl>", "<nl>", "-", "static", "tvbuff", "_", "t", "*", "rlc", "_", "decipher", "_", "tvb", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "guint32", "counter", ",", "guint8", "rbid", ",", "gboolean", "dir", ")", "{", "<nl>", "#", "if", "!", "HAVE", "_", "UMTS", "_", "KASUMI", "<nl>", "+", "static", "tvbuff", "_", "t", "*", "rlc", "_", "decipher", "_", "tvb", "(", "tvbuff", "_", "t", "*", "tvb", "_", "U", "_", ",", "packet", "_", "info", "*", "pinfo", ",", "guint32", "counter", "_", "U", "_", ",", "guint8", "rbid", "_", "U", "_", ",", "gboolean", "dir", "_", "U", "_", ")", "{", "<nl>", "/", "*", "Check", "if", "we", "have", "a", "KASUMI", "implementatation", "*", "/", "<nl>", "expert", "_", "add", "_", "info", "_", "format", "(", "pinfo", ",", "NULL", ",", "PI", "_", "UNDECODED", ",", "PI", "_", "WARN", ",", "\"", "Unable", "to", "decipher", "packet", "since", "KASUMI", "implementation", "is", "missing", ".", "\"", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "#", "else", "<nl>", "+", "static", "tvbuff", "_", "t", "*", "rlc", "_", "decipher", "_", "tvb", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "guint32", "counter", ",", "guint8", "rbid", ",", "gboolean", "dir", ")", "{", "<nl>", "guint64", "i", ";", "<nl>", "guint8", "*", "out", "=", "NULL", ",", "*", "key", "_", "in", "=", "NULL", ";", "<nl>", "tvbuff", "_", "t", "*", "t", ";", "<nl>"], "docstring_tokens": ["Mark", "parameters", "as", "unused", "when", "we", "don", "t", "have", "kasumi"]}
{"code_tokens": ["#", "include", "\"", "wireshark", "_", "application", ".", "h", "\"", "<nl>", "<nl>", "/", "/", "To", "do", ":", "<nl>", "-", "/", "/", "-", "Use", "a", "different", "icon", "?", "<nl>", "/", "/", "-", "Add", "an", "NSProgressIndicator", "to", "the", "dock", "icon", "on", "OS", "X", ".", "<nl>", "/", "/", "-", "Start", "adding", "the", "progress", "bar", "to", "dialogs", ".", "<nl>", "/", "/", "-", "Don", "'", "t", "complain", "so", "loudly", "when", "the", "user", "stops", "a", "capture", ".", "<nl>", "static", "const", "int", "app", "_", "update", "_", "freq", "_", "=", "100", ";", "/", "/", "ms", "<nl>", "void", "<nl>", "update", "_", "progress", "_", "dlg", "(", "progdlg", "_", "t", "*", "dlg", ",", "gfloat", "percentage", ",", "const", "gchar", "*", ")", "<nl>", "{", "<nl>", "-", "if", "(", "!", "dlg", "|", "|", "dlg", "-", ">", "elapsed", "_", "timer", "-", ">", "elapsed", "(", ")", "<", "app", "_", "update", "_", "freq", "_", ")", "return", ";", "<nl>", "+", "if", "(", "!", "dlg", ")", "return", ";", "<nl>", "+", "if", "(", "dlg", "-", ">", "elapsed", "_", "timer", "-", ">", "isValid", "(", ")", "&", "&", "!", "dlg", "-", ">", "elapsed", "_", "timer", "-", ">", "hasExpired", "(", "app", "_", "update", "_", "freq", "_", ")", ")", "return", ";", "<nl>", "+", "dlg", "-", ">", "elapsed", "_", "timer", "-", ">", "restart", "(", ")", ";", "<nl>", "<nl>", "dlg", "-", ">", "progress", "_", "frame", "-", ">", "setValue", "(", "percentage", "*", "100", ")", ";", "<nl>", "<nl>", "update", "_", "progress", "_", "dlg", "(", "progdlg", "_", "t", "*", "dlg", ",", "gfloat", "percentage", ",", "const", "gchar", "*", ")", "<nl>", "*", "Flush", "out", "the", "update", "and", "process", "any", "input", "events", ".", "<nl>", "*", "/", "<nl>", "WiresharkApplication", ":", ":", "processEvents", "(", ")", ";", "<nl>", "-", "dlg", "-", ">", "elapsed", "_", "timer", "-", ">", "restart", "(", ")", ";", "<nl>", "<nl>", "/", "*", "Redraw", "so", "the", "progress", "bar", "shows", "the", "update", "*", "/", "<nl>", "dlg", "-", ">", "progress", "_", "frame", "-", ">", "update", "(", ")", ";", "<nl>", "struct", "progdlg", "*", "ProgressFrame", ":", ":", "showProgress", "(", "bool", "animate", ",", "bool", "terminate", "_", "is", "_", "stop", "<nl>", "{", "<nl>", "setMaximumValue", "(", "100", ")", ";", "<nl>", "ui", "-", ">", "progressBar", "-", ">", "setValue", "(", "value", ")", ";", "<nl>", "-", "progress", "_", "dialog", "_", ".", "elapsed", "_", "timer", "-", ">", "start", "(", ")", ";", "<nl>", "+", "progress", "_", "dialog", "_", ".", "elapsed", "_", "timer", "-", ">", "invalidate", "(", ")", ";", "<nl>", "emit", "showRequested", "(", "animate", ",", "terminate", "_", "is", "_", "stop", ",", "stop", "_", "flag", ")", ";", "<nl>", "return", "&", "progress", "_", "dialog", "_", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Sync", "GTK", "and", "Qt", "progress", "timer", "logic"]}
{"code_tokens": ["csnStreamDissector", "(", "proto", "_", "tree", "*", "tree", ",", "csnStream", "_", "t", "*", "ar", ",", "const", "CSN", "_", "DESCR", "*", "pDescr", ",", "t", "<nl>", "proto", "_", "tree", "*", "test", "_", "tree", ";", "<nl>", "<nl>", "descr", "[", "0", "]", "=", "pChoice", "-", ">", "descr", ";", "<nl>", "+", "memset", "(", "&", "descr", "[", "1", "]", ",", "0x00", ",", "sizeof", "(", "CSN", "_", "DESCR", ")", ")", ";", "<nl>", "descr", "[", "1", "]", ".", "type", "=", "CSN", "_", "END", ";", "<nl>", "pui8", "=", "pui8DATA", "(", "data", ",", "pDescr", "-", ">", "offset", ")", ";", "<nl>", "*", "pui8", "=", "i", ";", "<nl>"], "docstring_tokens": ["From", "Sylvain", "Munaut", "Fix", "Bug", "6351", "Buildbot", "fuzztest", "crash"]}
{"code_tokens": ["cleanup", "_", "open", "_", "routines", "(", "void", ")", "<nl>", "guint", "i", ";", "<nl>", "struct", "open", "_", "info", "*", "i", "_", "open", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ",", "i", "_", "open", "=", "open", "_", "routines", ";", "i", "<", "open", "_", "info", "_", "arr", "-", ">", "len", ";", "i", "+", "+", ",", "i", "_", "open", "+", "+", ")", "{", "<nl>", "-", "if", "(", "i", "_", "open", "-", ">", "extensions", "!", "=", "NULL", ")", "<nl>", "-", "g", "_", "strfreev", "(", "i", "_", "open", "-", ">", "extensions", "_", "set", ")", ";", "<nl>", "-", "}", "<nl>", "+", "if", "(", "open", "_", "routines", "!", "=", "NULL", ")", "{", "<nl>", "+", "for", "(", "i", "=", "0", ",", "i", "_", "open", "=", "open", "_", "routines", ";", "i", "<", "open", "_", "info", "_", "arr", "-", ">", "len", ";", "i", "+", "+", ",", "i", "_", "open", "+", "+", ")", "{", "<nl>", "+", "if", "(", "i", "_", "open", "-", ">", "extensions", "!", "=", "NULL", ")", "<nl>", "+", "g", "_", "strfreev", "(", "i", "_", "open", "-", ">", "extensions", "_", "set", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "-", "g", "_", "array", "_", "free", "(", "open", "_", "info", "_", "arr", ",", "TRUE", ")", ";", "<nl>", "+", "g", "_", "array", "_", "free", "(", "open", "_", "info", "_", "arr", ",", "TRUE", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["Only", "cleanup", "open_routines", "if", "not", "NULL"]}
{"code_tokens": ["dissect", "_", "vtp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "while", "(", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ">", "0", ")", "{", "<nl>", "vlan", "_", "info", "_", "len", "=", "<nl>", "dissect", "_", "vlan", "_", "info", "(", "tvb", ",", "pinfo", ",", "offset", ",", "vtp", "_", "tree", ")", ";", "<nl>", "-", "if", "(", "vlan", "_", "info", "_", "len", "<", "0", ")", "<nl>", "+", "if", "(", "vlan", "_", "info", "_", "len", "<", "=", "0", ")", "<nl>", "break", ";", "<nl>", "offset", "+", "=", "vlan", "_", "info", "_", "len", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "infinite", "loop", "in", "VTP", "dissector", "Bug", "8887", "https", "bugs", "wireshark", "org", "bugzilla", "show_bug", "cgi", "id", "8887"]}
{"code_tokens": ["main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "/", "*", "read", "in", "rc", "file", "from", "global", "and", "personal", "configuration", "paths", ".", "*", "/", "<nl>", "rc", "_", "file", "=", "get", "_", "datafile", "_", "path", "(", "RC", "_", "FILE", ")", ";", "<nl>", "gtk", "_", "rc", "_", "parse", "(", "rc", "_", "file", ")", ";", "<nl>", "+", "g", "_", "free", "(", "rc", "_", "file", ")", ";", "<nl>", "rc", "_", "file", "=", "get", "_", "persconffile", "_", "path", "(", "RC", "_", "FILE", ",", "FALSE", ",", "FALSE", ")", ";", "<nl>", "gtk", "_", "rc", "_", "parse", "(", "rc", "_", "file", ")", ";", "<nl>", "+", "g", "_", "free", "(", "rc", "_", "file", ")", ";", "<nl>", "<nl>", "font", "_", "init", "(", ")", ";", "<nl>", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "u3", "_", "deregister", "_", "pid", "(", ")", ";", "<nl>", "<nl>", "epan", "_", "cleanup", "(", ")", ";", "<nl>", "-", "g", "_", "free", "(", "rc", "_", "file", ")", ";", "<nl>", "<nl>", "#", "ifdef", "HAVE", "_", "AIRPDCAP", "<nl>", "/", "*", "Davide", "Schiera", "(", "2006", "-", "11", "-", "18", ")", ":", "destroy", "AirPDcap", "context", "*", "/", "<nl>"], "docstring_tokens": ["Free", "another", "allocated", "string"]}
{"code_tokens": ["/", "*", "file", ".", "c", "<nl>", "*", "File", "I", "/", "O", "routines", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "file", ".", "c", ",", "v", "1", ".", "219", "2000", "/", "09", "/", "11", "22", ":", "43", ":", "02", "sharpe", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "file", ".", "c", ",", "v", "1", ".", "220", "2000", "/", "09", "/", "12", "03", ":", "27", ":", "00", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "zing", ".", "org", ">", "<nl>", "rescan", "_", "packets", "(", "capture", "_", "file", "*", "cf", ",", "const", "char", "*", "action", ",", "gboolean", "refilter", ",", "<nl>", "<nl>", "if", "(", "redissect", ")", "{", "<nl>", "/", "*", "Since", "all", "state", "for", "the", "frame", "was", "destroyed", ",", "mark", "the", "frame", "<nl>", "-", "*", "as", "not", "visited", ",", "and", "null", "out", "the", "pointer", "to", "the", "per", "-", "frame", "<nl>", "+", "*", "as", "not", "visited", ",", "free", "the", "GSList", "referring", "to", "the", "state", "<nl>", "*", "data", "(", "the", "per", "-", "frame", "data", "itself", "was", "freed", "by", "<nl>", "-", "*", "\"", "init", "_", "all", "_", "protocols", "(", ")", "\"", ")", ".", "*", "/", "<nl>", "+", "*", "\"", "init", "_", "all", "_", "protocols", "(", ")", "\"", ")", ",", "and", "null", "out", "the", "GSlist", "pointer", ".", "*", "/", "<nl>", "fdata", "-", ">", "flags", ".", "visited", "=", "0", ";", "<nl>", "-", "<nl>", "-", "/", "*", "If", "there", "is", "any", "per", "-", "frame", "data", ",", "delete", "that", ",", "as", "what", "it", "points", "to", "<nl>", "-", "*", "has", "gone", "as", "well", ".", "<nl>", "-", "*", "/", "<nl>", "-", "<nl>", "if", "(", "fdata", "-", ">", "pfd", ")", "{", "<nl>", "g", "_", "slist", "_", "free", "(", "fdata", "-", ">", "pfd", ")", ";", "<nl>", "}", "<nl>", "rescan", "_", "packets", "(", "capture", "_", "file", "*", "cf", ",", "const", "char", "*", "action", ",", "gboolean", "refilter", ",", "<nl>", "until", "it", "finishes", ".", "Should", "we", "just", "stick", "them", "with", "that", "?", "*", "/", "<nl>", "for", "(", ";", "fdata", "!", "=", "NULL", ";", "fdata", "=", "fdata", "-", ">", "next", ")", "{", "<nl>", "fdata", "-", ">", "flags", ".", "visited", "=", "0", ";", "<nl>", "+", "if", "(", "fdata", "-", ">", "pfd", ")", "{", "<nl>", "+", "g", "_", "slist", "_", "free", "(", "fdata", "-", ">", "pfd", ")", ";", "<nl>", "+", "}", "<nl>", "fdata", "-", ">", "pfd", "=", "NULL", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Also", "free", "the", "GSLists", "for", "per", "frame", "data", "on", "frames", "we", "haven", "t"]}
{"code_tokens": ["capture", "_", "start", "(", "capture", "_", "options", "*", "capture", "_", "opts", ",", "capture", "_", "session", "*", "cap", "_", "session", ",", "void", "(", "<nl>", "GString", "*", "source", ";", "<nl>", "<nl>", "cap", "_", "session", "-", ">", "state", "=", "CAPTURE", "_", "PREPARING", ";", "<nl>", "+", "cap", "_", "session", "-", ">", "count", "=", "0", ";", "<nl>", "g", "_", "log", "(", "LOG", "_", "DOMAIN", "_", "CAPTURE", ",", "G", "_", "LOG", "_", "LEVEL", "_", "MESSAGE", ",", "\"", "Capture", "Start", ".", ".", ".", "\"", ")", ";", "<nl>", "source", "=", "get", "_", "iface", "_", "list", "_", "string", "(", "capture", "_", "opts", ",", "IFLIST", "_", "SHOW", "_", "FILTER", ")", ";", "<nl>", "cf", "_", "set", "_", "tempfile", "_", "source", "(", "(", "capture", "_", "file", "*", ")", "cap", "_", "session", "-", ">", "cf", ",", "source", "-", ">", "str", ")", ";", "<nl>"], "docstring_tokens": ["Reset", "the", "captured", "packet", "count", "when", "we", "start", "or", "restart", "a", "capture"]}
{"code_tokens": ["register", "_", "all", "_", "protocols", "(", "register", "_", "cb", "cb", ",", "gpointer", "cb", "_", "data", ")", "<nl>", "}", "<nl>", "g", "_", "thread", "_", "join", "(", "rapw", "_", "thread", ")", ";", "<nl>", "if", "(", "cb", "&", "&", "!", "called", "_", "back", ")", "{", "<nl>", "-", "cb", "(", "RA", "_", "REGISTER", ",", "\"", "Registration", "finished", "\"", ",", "cb", "_", "data", ")", ";", "<nl>", "+", "cb", "(", "RA", "_", "REGISTER", ",", "\"", "finished", "\"", ",", "cb", "_", "data", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "register", "_", "all", "_", "protocol", "_", "handoffs", "(", "register", "_", "cb", "cb", ",", "gpointer", "cb", "_", "data", ")", "<nl>", "}", "<nl>", "g", "_", "thread", "_", "join", "(", "raphw", "_", "thread", ")", ";", "<nl>", "if", "(", "cb", "&", "&", "!", "called", "_", "back", ")", "{", "<nl>", "-", "cb", "(", "RA", "_", "HANDOFF", ",", "\"", "Registration", "finished", "\"", ",", "cb", "_", "data", ")", ";", "<nl>", "+", "cb", "(", "RA", "_", "HANDOFF", ",", "\"", "finished", "\"", ",", "cb", "_", "data", ")", ";", "<nl>", "}", "<nl>", "g", "_", "async", "_", "queue", "_", "unref", "(", "register", "_", "cb", "_", "done", "_", "q", ")", ";", "<nl>"], "docstring_tokens": ["Qt", "Fix", "splash", "screen", "Registering", "dissectors", "message"]}
{"code_tokens": ["WSLUA", "_", "METAMETHOD", "Columns", "_", "_", "newindex", "(", "lua", "_", "State", "*", "L", ")", "{", "<nl>", "<nl>", "for", "(", "cn", "=", "colnames", ";", "cn", "-", ">", "name", ";", "cn", "+", "+", ")", "{", "<nl>", "if", "(", "g", "_", "str", "_", "equal", "(", "cn", "-", ">", "name", ",", "colname", ")", ")", "{", "<nl>", "-", "col", "_", "set", "_", "str", "(", "cols", "-", ">", "cinfo", ",", "cn", "-", ">", "id", ",", "text", ")", ";", "<nl>", "+", "col", "_", "add", "_", "str", "(", "cols", "-", ">", "cinfo", ",", "cn", "-", ">", "id", ",", "text", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["From", "David", "Carne"]}
{"code_tokens": ["proto", "_", "register", "_", "tcap", "(", "void", ")", "<nl>", "/", "*", "we", "will", "fake", "a", "ssn", "subfield", "which", "has", "the", "same", "value", "obtained", "from", "sccp", "*", "/", "<nl>", "tcap", "_", "itu", "_", "ssn", "_", "dissector", "_", "table", "=", "register", "_", "dissector", "_", "table", "(", "\"", "tcap", ".", "itu", "_", "ssn", "\"", ",", "\"", "ITU", "TCAP", "SSN", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "DEC", ")", ";", "<nl>", "tcap", "_", "ansi", "_", "ssn", "_", "dissector", "_", "table", "=", "register", "_", "dissector", "_", "table", "(", "\"", "tcap", ".", "ansi", "_", "ssn", "\"", ",", "\"", "ANSI", "TCAP", "SSN", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "DEC", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "'", "globally", "'", "register", "dissector", "*", "/", "<nl>", "+", "register", "_", "dissector", "(", "\"", "tcap", "\"", ",", "dissect", "_", "tcap", ",", "proto", "_", "tcap", ")", ";", "<nl>", "+", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["From", "Valery", "Vybornov"]}
{"code_tokens": ["proto", "_", "register", "_", "llcgprs", "(", "void", ")", "<nl>", "void", "<nl>", "proto", "_", "reg", "_", "handoff", "_", "llcgprs", "(", "void", ")", "<nl>", "{", "<nl>", "-", "dissector", "_", "handle", "_", "t", "llcgprs", "_", "handle", ";", "<nl>", "-", "<nl>", "-", "llcgprs", "_", "handle", "=", "create", "_", "dissector", "_", "handle", "(", "dissect", "_", "llcgprs", ",", "<nl>", "-", "proto", "_", "llcgprs", ")", ";", "<nl>", "-", "/", "*", "dissector", "_", "add", "(", "\"", "PARENT", "_", "SUBFIELD", "\"", ",", "ID", "_", "VALUE", ",", "llcgprs", "_", "handle", ")", ";", "<nl>", "-", "*", "/", "<nl>", "data", "_", "handle", "=", "find", "_", "dissector", "(", "\"", "data", "\"", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Don", "t", "create", "a", "dissector", "handle", "that", "we", "don", "t", "use"]}
{"code_tokens": ["field", "_", "info", "*", "FieldInformation", ":", ":", "fieldInfo", "(", ")", "const", "<nl>", "FieldInformation", ":", ":", "HeaderInfo", "FieldInformation", ":", ":", "headerInfo", "(", ")", "const", "<nl>", "{", "<nl>", "HeaderInfo", "header", ";", "<nl>", "-", "header", ".", "isValid", "=", "false", ";", "<nl>", "<nl>", "if", "(", "fi", "_", "&", "&", "fi", "_", "-", ">", "hfinfo", ")", "<nl>", "{", "<nl>", "-", "header", ".", "isValid", "=", "true", ";", "<nl>", "header", ".", "name", "=", "fi", "_", "-", ">", "hfinfo", "-", ">", "name", ";", "<nl>", "header", ".", "description", "=", "fi", "_", "-", ">", "hfinfo", "-", ">", "blurb", ";", "<nl>", "header", ".", "abbreviation", "=", "fi", "_", "-", ">", "hfinfo", "-", ">", "abbrev", ";", "<nl>", "+", "header", ".", "isValid", "=", "true", ";", "<nl>", "header", ".", "type", "=", "fi", "_", "-", ">", "hfinfo", "-", ">", "type", ";", "<nl>", "header", ".", "parent", "=", "fi", "_", "-", ">", "hfinfo", "-", ">", "parent", ";", "<nl>", "header", ".", "id", "=", "fi", "_", "-", ">", "hfinfo", "-", ">", "id", ";", "<nl>", "}", "<nl>", "+", "else", "<nl>", "+", "{", "<nl>", "+", "header", ".", "name", "=", "\"", "\"", ";", "<nl>", "+", "header", ".", "description", "=", "\"", "\"", ";", "<nl>", "+", "header", ".", "abbreviation", "=", "\"", "\"", ";", "<nl>", "+", "header", ".", "isValid", "=", "false", ";", "<nl>", "+", "header", ".", "type", "=", "FT", "_", "NONE", ";", "<nl>", "+", "header", ".", "parent", "=", "0", ";", "<nl>", "+", "header", ".", "id", "=", "0", ";", "<nl>", "+", "}", "<nl>", "<nl>", "return", "header", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Qt", "add", "initializers", "CID", "1426703"]}
{"code_tokens": ["add", "_", "content", "_", "type", "(", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "_", "t", "*", "tvb", ",", "guint32", "val", "_", "start", ",", "<nl>", "So", "we", "have", "to", "disable", "that", "one", "and", "become", "\"", "slow", "\"", "by", "pretending", "that", "<nl>", "the", "tree", "is", "\"", "visible", "\"", ".", "<nl>", "*", "/", "<nl>", "-", "PTREE", "_", "DATA", "(", "tree", ")", "-", ">", "visible", "=", "1", ";", "<nl>", "+", "if", "(", "tree", ")", "<nl>", "+", "PTREE", "_", "DATA", "(", "tree", ")", "-", ">", "visible", "=", "1", ";", "<nl>", "<nl>", "*", "textual", "_", "content", "=", "NULL", ";", "<nl>", "*", "well", "_", "known", "_", "content", "=", "0", ";", "<nl>"], "docstring_tokens": ["avoid", "a", "crash", "when", "tree", "is", "null"]}
{"code_tokens": ["static", "gboolean", "<nl>", "parse", "_", "netscreen", "_", "packet", "(", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "Buffer", "*", "buf", ",", "<nl>", "char", "*", "line", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ")", "<nl>", "{", "<nl>", "+", "int", "pkt", "_", "len", ";", "<nl>", "int", "sec", ";", "<nl>", "int", "dsec", ";", "<nl>", "char", "cap", "_", "int", "[", "NETSCREEN", "_", "MAX", "_", "INT", "_", "NAME", "_", "LENGTH", "]", ";", "<nl>", "char", "direction", "[", "2", "]", ";", "<nl>", "-", "guint", "pkt", "_", "len", ";", "<nl>", "char", "cap", "_", "src", "[", "13", "]", ";", "<nl>", "char", "cap", "_", "dst", "[", "13", "]", ";", "<nl>", "guint8", "*", "pd", ";", "<nl>", "gchar", "*", "p", ";", "<nl>", "int", "n", ",", "i", "=", "0", ";", "<nl>", "-", "guint", "offset", "=", "0", ";", "<nl>", "+", "int", "offset", "=", "0", ";", "<nl>", "gchar", "dststr", "[", "13", "]", ";", "<nl>", "<nl>", "phdr", "-", ">", "rec", "_", "type", "=", "REC", "_", "TYPE", "_", "PACKET", ";", "<nl>", "phdr", "-", ">", "presence", "_", "flags", "=", "WTAP", "_", "HAS", "_", "TS", "|", "WTAP", "_", "HAS", "_", "CAP", "_", "LEN", ";", "<nl>", "<nl>", "-", "if", "(", "sscanf", "(", "line", ",", "\"", "%", "9d", ".", "%", "9d", ":", "%", "15", "[", "a", "-", "z0", "-", "9", "/", ":", ".", "-", "]", "(", "%", "1", "[", "io", "]", ")", "len", "=", "%", "9u", ":", "%", "12s", "-", ">", "%", "12s", "/", "\"", ",", "<nl>", "+", "if", "(", "sscanf", "(", "line", ",", "\"", "%", "9d", ".", "%", "9d", ":", "%", "15", "[", "a", "-", "z0", "-", "9", "/", ":", ".", "-", "]", "(", "%", "1", "[", "io", "]", ")", "len", "=", "%", "9d", ":", "%", "12s", "-", ">", "%", "12s", "/", "\"", ",", "<nl>", "&", "sec", ",", "&", "dsec", ",", "cap", "_", "int", ",", "direction", ",", "&", "pkt", "_", "len", ",", "cap", "_", "src", ",", "cap", "_", "dst", ")", "<", "5", ")", "{", "<nl>", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "FILE", ";", "<nl>", "*", "err", "_", "info", "=", "g", "_", "strdup", "(", "\"", "netscreen", ":", "Can", "'", "t", "parse", "packet", "-", "header", "\"", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "+", "if", "(", "pkt", "_", "len", "<", "0", ")", "{", "<nl>", "+", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "FILE", ";", "<nl>", "+", "*", "err", "_", "info", "=", "g", "_", "strdup", "(", "\"", "netscreen", ":", "packet", "header", "has", "a", "negative", "packet", "length", "\"", ")", ";", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "}", "<nl>", "if", "(", "pkt", "_", "len", ">", "WTAP", "_", "MAX", "_", "PACKET", "_", "SIZE", ")", "{", "<nl>", "/", "*", "<nl>", "*", "Probably", "a", "corrupt", "capture", "file", ";", "don", "'", "t", "blow", "up", "trying", "<nl>"], "docstring_tokens": ["Don", "t", "treat", "the", "packet", "length", "as", "unsigned"]}
{"code_tokens": ["static", "const", "value", "_", "string", "bssap", "_", "speech", "_", "codec", "_", "values", "[", "]", "=", "{", "<nl>", "static", "guint8", "<nl>", "be", "_", "speech", "_", "codec", "_", "lst", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ",", "guint32", "offset", ",", "guint", "len", "_", "U", "_", ",", "gchar", "*", "add", "_", "string", "_", "U", "_", ",", "int", "string", "_", "len", "_", "U", "_", ")", "<nl>", "{", "<nl>", "-", "guint32", "curr", "_", "offset", ",", "consumed", ";", "<nl>", "+", "guint32", "curr", "_", "offset", ",", "consumed", "=", "0", ";", "<nl>", "guint8", "codec", ";", "<nl>", "guint8", "number", "=", "0", ";", "<nl>", "proto", "_", "item", "*", "item", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["Initialize", "consumed", "in", "be_speech_codec_lst"]}
{"code_tokens": ["dissect", "_", "sbus", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", "_", "U", "_", "<nl>", "}", "<nl>", "offset", "+", "=", "2", ";", "/", "*", "now", "at", "the", "end", "of", "the", "telegram", "*", "/", "<nl>", "}", "<nl>", "-", "return", "tvb", "_", "length", "(", "tvb", ")", ";", "<nl>", "+", "return", "offset", ";", "<nl>", "/", "*", "End", "of", "dissect", "_", "sbus", "*", "/", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "some", "Dead", "Store", "Dead", "assignement", "Dead", "increment", "Warning", "found", "by", "Clang"]}
{"code_tokens": ["/", "*", "capture", ".", "c", "<nl>", "*", "Routines", "for", "packet", "capture", "windows", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "capture", ".", "c", ",", "v", "1", ".", "102", "2000", "/", "05", "/", "18", "09", ":", "05", ":", "25", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "capture", ".", "c", ",", "v", "1", ".", "103", "2000", "/", "05", "/", "19", "19", ":", "53", ":", "48", "gram", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "zing", ".", "org", ">", "<nl>", "do", "_", "capture", "(", "char", "*", "capfile", "_", "name", ")", "<nl>", "error", "=", "errno", ";", "<nl>", "close", "(", "sync", "_", "pipe", "[", "1", "]", ")", ";", "<nl>", "close", "(", "sync", "_", "pipe", "[", "0", "]", ")", ";", "<nl>", "+", "close", "(", "cf", ".", "save", "_", "file", "_", "fd", ")", ";", "<nl>", "unlink", "(", "cf", ".", "save", "_", "file", ")", ";", "<nl>", "g", "_", "free", "(", "cf", ".", "save", "_", "file", ")", ";", "<nl>", "cf", ".", "save", "_", "file", "=", "NULL", ";", "<nl>", "do", "_", "capture", "(", "char", "*", "capfile", "_", "name", ")", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "+", "close", "(", "cf", ".", "save", "_", "file", "_", "fd", ")", ";", "<nl>", "+", "<nl>", "/", "*", "Parent", "process", "-", "read", "messages", "from", "the", "child", "process", "over", "the", "<nl>", "sync", "pipe", ".", "*", "/", "<nl>", "close", "(", "sync", "_", "pipe", "[", "1", "]", ")", ";", "<nl>", "do", "_", "capture", "(", "char", "*", "capfile", "_", "name", ")", "<nl>", "}", "else", "{", "<nl>", "/", "*", "Not", "sync", "mode", ".", "*", "/", "<nl>", "capture", "_", "succeeded", "=", "capture", "(", ")", ";", "<nl>", "+", "close", "(", "cf", ".", "save", "_", "file", "_", "fd", ")", ";", "<nl>", "if", "(", "quit", "_", "after", "_", "cap", ")", "{", "<nl>", "/", "*", "DON", "'", "T", "unlink", "the", "save", "file", ".", "Presumably", "someone", "wants", "it", ".", "*", "/", "<nl>", "gtk", "_", "exit", "(", "0", ")", ";", "<nl>"], "docstring_tokens": ["Close", "capture", "file", "descriptor"]}
{"code_tokens": ["WSLUA", "_", "METHOD", "Dumper", "_", "dump", "(", "lua", "_", "State", "*", "L", ")", "{", "<nl>", "pkthdr", ".", "len", "=", "ba", "-", ">", "len", ";", "<nl>", "pkthdr", ".", "caplen", "=", "ba", "-", ">", "len", ";", "<nl>", "pkthdr", ".", "pkt", "_", "encap", "=", "DUMPER", "_", "ENCAP", "(", "d", ")", ";", "<nl>", "-", "pkthdr", ".", "pseudo", "_", "header", "=", "*", "ph", "-", ">", "wph", ";", "<nl>", "+", "if", "(", "ph", "-", ">", "wph", ")", "{", "<nl>", "+", "pkthdr", ".", "pseudo", "_", "header", "=", "*", "ph", "-", ">", "wph", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "TODO", ":", "Can", "we", "get", "access", "to", "pinfo", "-", ">", "pkt", "_", "comment", "here", "somehow", "?", "We", "<nl>", "*", "should", "be", "copying", "it", "to", "pkthdr", ".", "opt", "_", "comment", "if", "we", "can", ".", "*", "/", "<nl>"], "docstring_tokens": ["Lua", "Check", "for", "PseudoHeader", "none"]}
{"code_tokens": ["prefs", "_", "get", "_", "string", "_", "list", "(", "const", "gchar", "*", "str", ")", "<nl>", "slstr", "[", "j", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "if", "(", "j", ">", "0", ")", "<nl>", "sl", "=", "g", "_", "list", "_", "append", "(", "sl", ",", "slstr", ")", ";", "<nl>", "+", "else", "<nl>", "+", "g", "_", "free", "(", "slstr", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "if", "(", "cur", "_", "c", "=", "=", "'", "\"", "'", "&", "&", "!", "backslash", ")", "{", "<nl>", "prefs", "_", "get", "_", "string", "_", "list", "(", "const", "gchar", "*", "str", ")", "<nl>", "and", "it", "wasn", "'", "t", "preceded", "by", "a", "backslash", ";", "it", "'", "s", "the", "end", "of", "<nl>", "the", "string", "we", "were", "working", "on", ".", ".", ".", "*", "/", "<nl>", "slstr", "[", "j", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "-", "if", "(", "j", ">", "0", ")", "<nl>", "+", "if", "(", "j", ">", "0", ")", "{", "<nl>", "sl", "=", "g", "_", "list", "_", "append", "(", "sl", ",", "slstr", ")", ";", "<nl>", "+", "slstr", "=", "(", "gchar", "*", ")", "g", "_", "malloc", "(", "sizeof", "(", "gchar", ")", "*", "COL", "_", "MAX", "_", "LEN", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", ".", ".", ".", "and", "the", "beginning", "of", "a", "new", "string", ".", "*", "/", "<nl>", "state", "=", "PRE", "_", "STRING", ";", "<nl>", "-", "slstr", "=", "(", "gchar", "*", ")", "g", "_", "malloc", "(", "sizeof", "(", "gchar", ")", "*", "COL", "_", "MAX", "_", "LEN", ")", ";", "<nl>", "j", "=", "0", ";", "<nl>", "}", "else", "if", "(", "!", "g", "_", "ascii", "_", "isspace", "(", "cur", "_", "c", ")", "|", "|", "state", "!", "=", "PRE", "_", "STRING", ")", "{", "<nl>", "/", "*", "Either", "this", "isn", "'", "t", "a", "white", "-", "space", "character", ",", "or", "we", "'", "ve", "started", "a", "<nl>"], "docstring_tokens": ["prefs", "Fix", "leak", "when", "parsing", "empty", "pref", "string"]}
{"code_tokens": ["clear", "_", "node", "_", "pr", "(", "stat", "_", "node", "*", "n", ")", "<nl>", "clear", "_", "node", "_", "pr", "(", "c", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "n", "-", ">", "pr", "-", ">", "iter", ")", "{", "<nl>", "+", "if", "(", "n", "-", ">", "pr", "&", "&", "n", "-", ">", "pr", "-", ">", "iter", ")", "{", "<nl>", "gtk", "_", "tree", "_", "store", "_", "remove", "(", "n", "-", ">", "st", "-", ">", "pr", "-", ">", "store", ",", "n", "-", ">", "pr", "-", ">", "iter", ")", ";", "<nl>", "n", "-", ">", "pr", "-", ">", "iter", "=", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["gtk", "Fix", "null", "dereference", "in", "stats"]}
{"code_tokens": ["static", "void", "dissect", "_", "ulsch", "_", "or", "_", "dlsch", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "<nl>", "case", "PADDING", "_", "LCID", ":", "<nl>", "/", "*", "No", "payload", ",", "unless", "its", "the", "last", "subheader", ",", "in", "which", "case", "<nl>", "it", "extends", "to", "the", "end", "of", "the", "PDU", "*", "/", "<nl>", "-", "if", "(", "n", "=", "=", "(", "number", "_", "of", "_", "headers", "-", "1", ")", ")", "{", "<nl>", "+", "if", "(", "n", "=", "=", "(", "number", "_", "of", "_", "headers", "-", "1", ")", "&", "&", "(", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ">", "0", ")", ")", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "mac", "_", "lte", "_", "padding", "_", "data", ",", "<nl>", "tvb", ",", "offset", ",", "-", "1", ",", "FALSE", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Also", "check", "for", "bytes", "remaining", "for", "padding", "at", "end", "of", "DL", "frame"]}
{"code_tokens": ["print", "_", "usage", "(", "gboolean", "print", "_", "ver", ")", "{", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "I", "capture", "in", "monitor", "mode", ",", "if", "available", "\\", "n", "\"", ")", ";", "<nl>", "#", "endif", "<nl>", "#", "if", "defined", "(", "_", "WIN32", ")", "|", "|", "defined", "(", "HAVE", "_", "PCAP", "_", "CREATE", ")", "<nl>", "-", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "2MB", ")", "\\", "n", "\"", ")", ";", "<nl>", "+", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "%", "dMB", ")", "\\", "n", "\"", ",", "DEFAULT", "_", "CAPTURE", "_", "BUFFER", "_", "SIZE", ")", ";", "<nl>", "#", "endif", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "y", "<", "link", "type", ">", "link", "layer", "type", "(", "def", ":", "first", "appropriate", ")", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "D", "print", "list", "of", "interfaces", "and", "exit", "\\", "n", "\"", ")", ";", "mmm", "ui", "/", "qt", "/", "main", ".", "cpp", "<nl>", "print", "_", "usage", "(", "gboolean", "print", "_", "ver", ")", "{", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "I", "capture", "in", "monitor", "mode", ",", "if", "available", "\\", "n", "\"", ")", ";", "<nl>", "#", "endif", "<nl>", "#", "if", "defined", "(", "_", "WIN32", ")", "|", "|", "defined", "(", "HAVE", "_", "PCAP", "_", "CREATE", ")", "<nl>", "-", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "2MB", ")", "\\", "n", "\"", ")", ";", "<nl>", "+", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "%", "dMB", ")", "\\", "n", "\"", ",", "DEFAULT", "_", "CAPTURE", "_", "BUFFER", "_", "SIZE", ")", ";", "<nl>", "#", "endif", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "y", "<", "link", "type", ">", "link", "layer", "type", "(", "def", ":", "first", "appropriate", ")", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "D", "print", "list", "of", "interfaces", "and", "exit", "\\", "n", "\"", ")", ";", "<nl>", "print", "_", "usage", "(", "gboolean", "print", "_", "ver", ")", "{", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "S", "update", "packet", "display", "when", "new", "packets", "are", "captured", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "l", "turn", "on", "automatic", "scrolling", "while", "-", "S", "is", "in", "use", "\\", "n", "\"", ")", ";", "<nl>", "#", "if", "defined", "(", "_", "WIN32", ")", "|", "|", "defined", "(", "HAVE", "_", "PCAP", "_", "CREATE", ")", "<nl>", "-", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "2MB", ")", "\\", "n", "\"", ")", ";", "<nl>", "+", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "%", "dMB", ")", "\\", "n", "\"", ",", "DEFAULT", "_", "CAPTURE", "_", "BUFFER", "_", "SIZE", ")", ";", "<nl>", "#", "endif", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "y", "<", "link", "type", ">", "link", "layer", "type", "(", "def", ":", "first", "appropriate", ")", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "D", "print", "list", "of", "interfaces", "and", "exit", "\\", "n", "\"", ")", ";", "mmm", "tshark", ".", "c", "<nl>", "print", "_", "usage", "(", "gboolean", "print", "_", "ver", ")", "{", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "I", "capture", "in", "monitor", "mode", ",", "if", "available", "\\", "n", "\"", ")", ";", "<nl>", "#", "endif", "<nl>", "#", "if", "defined", "(", "_", "WIN32", ")", "|", "|", "defined", "(", "HAVE", "_", "PCAP", "_", "CREATE", ")", "<nl>", "-", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "2MB", ")", "\\", "n", "\"", ")", ";", "<nl>", "+", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "%", "dMB", ")", "\\", "n", "\"", ",", "DEFAULT", "_", "CAPTURE", "_", "BUFFER", "_", "SIZE", ")", ";", "<nl>", "#", "endif", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "y", "<", "link", "type", ">", "link", "layer", "type", "(", "def", ":", "first", "appropriate", ")", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "D", "print", "list", "of", "interfaces", "and", "exit", "\\", "n", "\"", ")", ";", "<nl>", "print", "_", "usage", "(", "gboolean", "print", "_", "ver", ")", "{", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "S", "update", "packet", "display", "when", "new", "packets", "are", "captured", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "l", "turn", "on", "automatic", "scrolling", "while", "-", "S", "is", "in", "use", "\\", "n", "\"", ")", ";", "<nl>", "#", "if", "defined", "(", "_", "WIN32", ")", "|", "|", "defined", "(", "HAVE", "_", "PCAP", "_", "CREATE", ")", "<nl>", "-", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "2MB", ")", "\\", "n", "\"", ")", ";", "<nl>", "+", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "%", "dMB", ")", "\\", "n", "\"", ",", "DEFAULT", "_", "CAPTURE", "_", "BUFFER", "_", "SIZE", ")", ";", "<nl>", "#", "endif", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "y", "<", "link", "type", ">", "link", "layer", "type", "(", "def", ":", "first", "appropriate", ")", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "D", "print", "list", "of", "interfaces", "and", "exit", "\\", "n", "\"", ")", ";", "<nl>", "print", "_", "usage", "(", "gboolean", "print", "_", "ver", ")", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "I", "capture", "in", "monitor", "mode", ",", "if", "available", "\\", "n", "\"", ")", ";", "<nl>", "#", "endif", "<nl>", "#", "if", "defined", "(", "_", "WIN32", ")", "|", "|", "defined", "(", "HAVE", "_", "PCAP", "_", "CREATE", ")", "<nl>", "-", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "2MB", ")", "\\", "n", "\"", ")", ";", "<nl>", "+", "fprintf", "(", "output", ",", "\"", "-", "B", "<", "buffer", "size", ">", "size", "of", "kernel", "buffer", "(", "def", ":", "%", "dMB", ")", "\\", "n", "\"", ",", "DEFAULT", "_", "CAPTURE", "_", "BUFFER", "_", "SIZE", ")", ";", "<nl>", "#", "endif", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "y", "<", "link", "type", ">", "link", "layer", "type", "(", "def", ":", "first", "appropriate", ")", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "D", "print", "list", "of", "interfaces", "and", "exit", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Followup", "to", "r48081", "use", "the", "DEFAULT_CAPTURE_BUFFER_SIZE", "macro", "from", "r47942"]}
{"code_tokens": ["dissect", "_", "rtp", "_", "hext", "_", "rfc5215", "_", "onebyte", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "return", ";", "<nl>", "<nl>", "ext", "_", "length", "=", "(", "ext", "_", "hdr", "_", "hdr", "&", "0x0F", ")", "+", "1", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Exit", "on", "malformed", "extension", "headers", "*", "/", "<nl>", "+", "if", "(", "ext", "_", "offset", "+", "ext", "_", "length", "+", "1", ">", "tvb", "_", "captured", "_", "length", "(", "tvb", ")", ")", "{", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "rtp", "_", "hext", "_", "tree", ")", "{", "<nl>", "rtp", "_", "hext", "_", "rfc5285", "_", "tree", "=", "proto", "_", "tree", "_", "add", "_", "subtree", "(", "rtp", "_", "hext", "_", "tree", ",", "tvb", ",", "ext", "_", "offset", ",", "ext", "_", "length", "+", "1", ",", "<nl>", "ett", "_", "hdr", "_", "ext", "_", "rfc5285", ",", "NULL", ",", "\"", "RFC", "5285", "Header", "Extension", "(", "One", "-", "Byte", "Header", ")", "\"", ")", ";", "<nl>"], "docstring_tokens": ["RTP", "Parse", "problem", "in", "dissect_rtp_hext_rfc5215_onebyte"]}
{"code_tokens": ["tvb", "_", "captured", "_", "length", "(", "const", "tvbuff", "_", "t", "*", "tvb", ")", "<nl>", "static", "inline", "gint", "<nl>", "_", "tvb", "_", "captured", "_", "length", "_", "remaining", "(", "const", "tvbuff", "_", "t", "*", "tvb", ",", "const", "gint", "offset", ")", "<nl>", "{", "<nl>", "-", "guint", "abs", "_", "offset", ",", "rem", "_", "length", ";", "<nl>", "+", "guint", "abs", "_", "offset", "=", "0", ",", "rem", "_", "length", ";", "<nl>", "int", "exception", ";", "<nl>", "<nl>", "exception", "=", "compute", "_", "offset", "_", "and", "_", "remaining", "(", "tvb", ",", "offset", ",", "&", "abs", "_", "offset", ",", "&", "rem", "_", "length", ")", ";", "<nl>"], "docstring_tokens": ["tvbuff", "fix", "compilation", "with", "gcc", "4"]}
{"code_tokens": ["col", "_", "set", "_", "addr", "(", "packet", "_", "info", "*", "pinfo", ",", "int", "col", ",", "address", "*", "addr", ",", "gboolean", "is", "_", "res", ",", "<nl>", "g", "_", "strlcpy", "(", "pinfo", "-", ">", "cinfo", "-", ">", "col", "_", "expr", ".", "col", "_", "expr", "[", "col", "]", ",", "\"", "ipv6", ".", "src", "\"", ",", "COL", "_", "MAX", "_", "LEN", ")", ";", "<nl>", "else", "<nl>", "g", "_", "strlcpy", "(", "pinfo", "-", ">", "cinfo", "-", ">", "col", "_", "expr", ".", "col", "_", "expr", "[", "col", "]", ",", "\"", "ipv6", ".", "dst", "\"", ",", "COL", "_", "MAX", "_", "LEN", ")", ";", "<nl>", "+", "memcpy", "(", "&", "ipv6", "_", "addr", ".", "bytes", ",", "addr", "-", ">", "data", ",", "sizeof", "ipv6", "_", "addr", ".", "bytes", ")", ";", "<nl>", "g", "_", "strlcpy", "(", "pinfo", "-", ">", "cinfo", "-", ">", "col", "_", "expr", ".", "col", "_", "expr", "_", "val", "[", "col", "]", ",", "ip6", "_", "to", "_", "str", "(", "&", "ipv6", "_", "addr", ")", ",", "COL", "_", "MAX", "_", "LEN", ")", ";", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["Initialize", "ipv6_addr", "before", "we", "use", "it"]}
{"code_tokens": ["/", "*", "main", ".", "c", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "main", ".", "c", ",", "v", "1", ".", "315", "2003", "/", "09", "/", "15", "23", ":", "20", ":", "34", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "main", ".", "c", ",", "v", "1", ".", "316", "2003", "/", "09", "/", "23", "06", ":", "25", ":", "10", "oabad", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "packet", "_", "list", "_", "button", "_", "pressed", "_", "cb", "(", "GtkWidget", "*", "w", ",", "GdkEvent", "*", "event", ",", "gpointer", "data", "_", "U", "_", ")", "<nl>", "set", "_", "frame", "_", "mark", "(", "!", "fdata", "-", ">", "flags", ".", "marked", ",", "fdata", ",", "row", ")", ";", "<nl>", "return", "TRUE", ";", "<nl>", "}", "<nl>", "-", "else", "if", "(", "event", "_", "button", "-", ">", "button", "=", "=", "1", ")", "{", "<nl>", "-", "gtk", "_", "clist", "_", "select", "_", "row", "(", "GTK", "_", "CLIST", "(", "w", ")", ",", "row", ",", "column", ")", ";", "<nl>", "-", "return", "TRUE", ";", "<nl>", "-", "}", "<nl>", "}", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Temporary", "patch", "for", "the", "packet_list", "column", "resize", "problem", "in", "gtk2"]}
{"code_tokens": ["dissect", "_", "kafka", "_", "message", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "int", "s", "<nl>", "offset", "+", "=", "4", ";", "<nl>", "<nl>", "if", "(", "raw", ")", "{", "<nl>", "-", "payload", "=", "tvb", "_", "child", "_", "uncompress", "(", "tvb", ",", "raw", ",", "0", ",", "tvb", "_", "length", "(", "raw", ")", ")", ";", "<nl>", "+", "payload", "=", "tvb", "_", "child", "_", "uncompress", "(", "tvb", ",", "raw", ",", "0", ",", "tvb", "_", "captured", "_", "length", "(", "raw", ")", ")", ";", "<nl>", "if", "(", "payload", ")", "{", "<nl>", "add", "_", "new", "_", "data", "_", "source", "(", "pinfo", ",", "payload", ",", "\"", "Uncompressed", "Message", "\"", ")", ";", "<nl>", "dissect", "_", "kafka", "_", "message", "_", "set", "(", "payload", ",", "pinfo", ",", "subtree", ",", "0", ",", "FALSE", ")", ";", "<nl>", "dissect", "_", "kafka", "_", "message", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "int", "s", "<nl>", "decrypt", "_", "item", "=", "proto", "_", "tree", "_", "add", "_", "item", "(", "subtree", ",", "hf", "_", "kafka", "_", "message", "_", "value", ",", "raw", ",", "0", ",", "-", "1", ",", "ENC", "_", "NA", ")", ";", "<nl>", "expert", "_", "add", "_", "info", "(", "pinfo", ",", "decrypt", "_", "item", ",", "&", "ei", "_", "kafka", "_", "message", "_", "decompress", ")", ";", "<nl>", "}", "<nl>", "-", "offset", "+", "=", "tvb", "_", "length", "(", "raw", ")", ";", "<nl>", "+", "offset", "+", "=", "tvb", "_", "captured", "_", "length", "(", "raw", ")", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "bytes", "(", "subtree", ",", "hf", "_", "kafka", "_", "message", "_", "value", ",", "tvb", ",", "offset", ",", "0", ",", "NULL", ")", ";", "<nl>", "dissect", "_", "kafka", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", "_", "U", "<nl>", "if", "(", "matcher", "=", "=", "NULL", "|", "|", "matcher", "-", ">", "request", "_", "frame", ">", "=", "PINFO", "_", "FD", "_", "NUM", "(", "pinfo", ")", ")", "{", "<nl>", "col", "_", "set", "_", "str", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "\"", "Kafka", "Response", "(", "Unknown", "API", ",", "Missing", "Request", ")", "\"", ")", ";", "<nl>", "/", "*", "TODO", ":", "expert", "info", ",", "don", "'", "t", "have", "request", ",", "can", "'", "t", "dissect", "*", "/", "<nl>", "-", "return", "tvb", "_", "length", "(", "tvb", ")", ";", "<nl>", "+", "return", "tvb", "_", "captured", "_", "length", "(", "tvb", ")", ";", "<nl>", "}", "<nl>", "<nl>", "wmem", "_", "queue", "_", "pop", "(", "match", "_", "queue", ")", ";", "<nl>", "dissect", "_", "kafka", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", "_", "U", "<nl>", "<nl>", "}", "<nl>", "<nl>", "-", "return", "tvb", "_", "length", "(", "tvb", ")", ";", "<nl>", "+", "return", "tvb", "_", "captured", "_", "length", "(", "tvb", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "<nl>", "dissect", "_", "kafka", "_", "tcp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "tcp", "_", "dissect", "_", "pdus", "(", "tvb", ",", "pinfo", ",", "tree", ",", "TRUE", ",", "4", ",", "<nl>", "get", "_", "kafka", "_", "pdu", "_", "len", ",", "dissect", "_", "kafka", ",", "data", ")", ";", "<nl>", "<nl>", "-", "return", "tvb", "_", "length", "(", "tvb", ")", ";", "<nl>", "+", "return", "tvb", "_", "captured", "_", "length", "(", "tvb", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "<nl>", "proto", "_", "register", "_", "kafka", "(", "void", ")", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "kafka", "_", "request", "_", "frame", ",", "<nl>", "{", "\"", "Request", "Frame", "\"", ",", "\"", "kafka", ".", "request", "_", "frame", "\"", ",", "<nl>", "-", "FT", "_", "FRAMENUM", ",", "BASE", "_", "NONE", ",", "0", ",", "0", ",", "<nl>", "+", "FT", "_", "FRAMENUM", ",", "BASE", "_", "NONE", ",", "FRAMENUM", "_", "TYPE", "(", "FT", "_", "FRAMENUM", "_", "REQUEST", ")", ",", "0", ",", "<nl>", "NULL", ",", "HFILL", "}", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "kafka", "_", "broker", "_", "nodeid", ",", "<nl>", "proto", "_", "register", "_", "kafka", "(", "void", ")", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "kafka", "_", "response", "_", "frame", ",", "<nl>", "{", "\"", "Response", "Frame", "\"", ",", "\"", "kafka", ".", "reponse", "_", "frame", "\"", ",", "<nl>", "-", "FT", "_", "FRAMENUM", ",", "BASE", "_", "NONE", ",", "0", ",", "0", ",", "<nl>", "+", "FT", "_", "FRAMENUM", ",", "BASE", "_", "NONE", ",", "FRAMENUM", "_", "TYPE", "(", "FT", "_", "FRAMENUM", "_", "RESPONSE", ")", ",", "0", ",", "<nl>", "NULL", ",", "HFILL", "}", "<nl>", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["kafka", "misc", "minor", "tweaks"]}
{"code_tokens": ["write", "_", "recent", "(", "void", ")", "<nl>", "g", "_", "free", "(", "rf", "_", "path", ")", ";", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>", "+", "g", "_", "free", "(", "rf", "_", "path", ")", ";", "<nl>", "<nl>", "fputs", "(", "\"", "#", "Recent", "settings", "file", "for", "Wireshark", "\"", "VERSION", "\"", ".", "\\", "n", "\"", "<nl>", "\"", "#", "\\", "n", "\"", "<nl>"], "docstring_tokens": ["get_persconffile_path", "return", "malloc", "d", "memory"]}
{"code_tokens": ["static", "int", "decode", "_", "bgp", "_", "link", "_", "nlri", "_", "prefix", "_", "descriptors", "(", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "break", ";", "<nl>", "<nl>", "case", "BGP", "_", "NLRI", "_", "TLV", "_", "IP", "_", "REACHABILITY", "_", "INFORMATION", ":", "<nl>", "-", "decode", "_", "prefix4", "(", "tlv", "_", "sub", "_", "tree", ",", "pinfo", ",", "tlv", "_", "sub", "_", "item", ",", "hf", "_", "bgp", "_", "ls", "_", "nlri", "_", "ip", "_", "reachability", "_", "prefix", "_", "ip", ",", "<nl>", "-", "tvb", ",", "offset", "+", "4", ",", "0", ",", "\"", "Reachability", "\"", ")", ";", "<nl>", "+", "if", "(", "decode", "_", "prefix4", "(", "tlv", "_", "sub", "_", "tree", ",", "pinfo", ",", "tlv", "_", "sub", "_", "item", ",", "hf", "_", "bgp", "_", "ls", "_", "nlri", "_", "ip", "_", "reachability", "_", "prefix", "_", "ip", ",", "<nl>", "+", "tvb", ",", "offset", "+", "4", ",", "0", ",", "\"", "Reachability", "\"", ")", "=", "=", "-", "1", ")", "<nl>", "+", "return", "diss", "_", "length", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["bgp", "add", "return", "check", "CID", "1354417"]}
{"code_tokens": ["dissect", "_", "capwap", "_", "data", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "<nl>", "if", "(", "global", "_", "capwap", "_", "reassemble", "&", "&", "fragment", "_", "is", ")", "<nl>", "{", "<nl>", "+", "gint", "len", "_", "rem", "=", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "if", "(", "len", "_", "rem", "<", "=", "0", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "pinfo", "-", ">", "fragmented", "=", "TRUE", ";", "<nl>", "<nl>", "frag", "_", "msg", "=", "fragment", "_", "add", "_", "check", "(", "tvb", ",", "offset", ",", "pinfo", ",", "fragment", "_", "id", ",", "<nl>", "capwap", "_", "fragment", "_", "table", ",", "<nl>", "capwap", "_", "reassembled", "_", "table", ",", "<nl>", "fragment", "_", "offset", ",", "<nl>", "-", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "<nl>", "+", "len", "_", "rem", ",", "<nl>", "fragment", "_", "more", ")", ";", "<nl>", "<nl>", "next", "_", "tvb", "=", "process", "_", "reassembled", "_", "data", "(", "tvb", ",", "offset", ",", "pinfo", ",", "<nl>"], "docstring_tokens": ["Don", "t", "pass", "the", "return", "value", "of", "tvb_length_remaining", "to", "fragment_add_check", "as", "it", "might", "have", "been", "1"]}
{"code_tokens": ["dissect", "_", "mailslot", "_", "smb", "(", "tvbuff", "_", "t", "*", "mshdr", "_", "tvb", ",", "tvbuff", "_", "t", "*", "setup", "_", "tvb", ",", "<nl>", "}", "<nl>", "<nl>", "smb", "_", "info", "=", "pinfo", "-", ">", "private", "_", "data", ";", "<nl>", "-", "if", "(", "smb", "_", "info", "-", ">", "sip", "!", "=", "NULL", "&", "&", "smb", "_", "info", "-", ">", "sip", "-", ">", "extra", "_", "info", "_", "type", "=", "=", "SMB", "_", "EI", "_", "TRI", ")", "<nl>", "+", "if", "(", "smb", "_", "info", "!", "=", "NULL", "&", "&", "smb", "_", "info", "-", ">", "sip", "!", "=", "NULL", "&", "&", "smb", "_", "info", "-", ">", "sip", "-", ">", "extra", "_", "info", "_", "type", "=", "=", "SMB", "_", "EI", "_", "TRI", ")", "<nl>", "tri", "=", "smb", "_", "info", "-", ">", "sip", "-", ">", "extra", "_", "info", ";", "<nl>", "else", "<nl>", "tri", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["From", "Peter", "Johansson", "Make", "sure", "a", "pointer", "isn", "t", "NULL", "before", "we", "try", "to", "use", "it"]}
{"code_tokens": ["dissect", "_", "mle", "_", "decrypt", "(", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "<nl>", "DISSECTOR", "_", "ASSERT", "(", "pinfo", "-", ">", "src", ".", "len", "=", "=", "16", ")", ";", "<nl>", "DISSECTOR", "_", "ASSERT", "(", "pinfo", "-", ">", "dst", ".", "len", "=", "=", "16", ")", ";", "<nl>", "-", "memcpy", "(", "d", "_", "a", ",", "(", "guint8", "*", ")", "pinfo", "-", ">", "src", ".", "data", ",", "pinfo", "-", ">", "src", ".", "len", ")", ";", "<nl>", "-", "memcpy", "(", "d", "_", "a", "+", "16", ",", "(", "guint8", "*", ")", "pinfo", "-", ">", "dst", ".", "data", ",", "pinfo", "-", ">", "dst", ".", "len", ")", ";", "<nl>", "+", "memcpy", "(", "d", "_", "a", ",", "(", "const", "guint8", "*", ")", "pinfo", "-", ">", "src", ".", "data", ",", "pinfo", "-", ">", "src", ".", "len", ")", ";", "<nl>", "+", "memcpy", "(", "d", "_", "a", "+", "16", ",", "(", "const", "guint8", "*", ")", "pinfo", "-", ">", "dst", ".", "data", ",", "pinfo", "-", ">", "dst", ".", "len", ")", ";", "<nl>", "<nl>", "tvb", "_", "memcpy", "(", "tvb", ",", "d", "_", "a", "+", "32", ",", "payload", "_", "info", "-", ">", "aux", "_", "offset", ",", "payload", "_", "info", "-", ">", "aux", "_", "length", ")", ";", "<nl>", "l", "_", "a", "=", "32", "+", "payload", "_", "info", "-", ">", "aux", "_", "length", ";", "<nl>"], "docstring_tokens": ["Don", "t", "gratuitiously", "cast", "constness", "away"]}
{"code_tokens": ["bool", "InterfaceTreeWidgetItem", ":", ":", "operator", "<", "(", "const", "QTreeWidgetItem", "&", "other", ")", "const", "{", "<nl>", "#", "include", "<", "QComboBox", ">", "<nl>", "<nl>", "InterfaceTreeDelegate", ":", ":", "InterfaceTreeDelegate", "(", "QObject", "*", "parent", ")", "<nl>", "-", ":", "QStyledItemDelegate", "(", "parent", ")", "<nl>", "+", ":", "QStyledItemDelegate", "(", "parent", ")", ",", "tree", "_", "(", "NULL", ")", "<nl>", "{", "<nl>", "}", "<nl>"], "docstring_tokens": ["Qt", "add", "initializer", "CID", "1230901"]}
{"code_tokens": ["dissect", "_", "icmpv6", "_", "nd", "_", "opt", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "<nl>", "<nl>", "/", "*", "6LBR", "Address", "*", "/", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "icmp6opt", "_", "tree", ",", "hf", "_", "icmpv6", "_", "opt", "_", "abro", "_", "6lbr", "_", "address", ",", "tvb", ",", "opt", "_", "offset", ",", "16", ",", "ENC", "_", "NA", ")", ";", "<nl>", "-", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", ":", "Version", "%", "d", ".", "%", "d", ",", "Valid", "Lifetime", ":", "%", "d", ",", "6LBR", ":", "%", "s", "\"", ",", "version", "_", "high", ",", "version", "_", "low", ",", "valid", "_", "lifetime", ",", "tvb", "_", "ip6", "_", "to", "_", "str", "(", "tvb", ",", "opt", "_", "offset", ")", ")", ";", "<nl>", "+", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", ":", "Version", "%", "d", ".", "%", "d", ",", "Valid", "Lifetime", ":", "%", "d", ",", "6LBR", ":", "%", "s", "\"", ",", "version", "_", "high", ",", "version", "_", "low", ",", "valid", "_", "lifetime", ",", "tvb", "_", "ip6", "_", "to", "_", "str", "(", "tvb", ",", "opt", "_", "offset", ")", ")", ";", "<nl>", "opt", "_", "offset", "+", "=", "16", ";", "<nl>", "<nl>", "}", "<nl>"], "docstring_tokens": ["ICMPv6", "fix", "missing", "space", "before", "6LBR"]}
{"code_tokens": ["capture", "_", "loop", "_", "init", "_", "output", "(", "capture", "_", "options", "*", "capture", "_", "opts", ",", "loop", "_", "data", "*", "ld", ",", "char", "*", "err", "<nl>", "-", "1", ",", "/", "*", "section", "_", "length", "*", "/", "<nl>", "&", "ld", "-", ">", "bytes", "_", "written", ",", "<nl>", "&", "err", ")", ";", "<nl>", "+", "g", "_", "string", "_", "free", "(", "cpu", "_", "info", "_", "str", ",", "TRUE", ")", ";", "<nl>", "g", "_", "free", "(", "appname", ")", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "successful", "&", "&", "(", "i", "<", "capture", "_", "opts", "-", ">", "ifaces", "-", ">", "len", ")", ";", "i", "+", "+", ")", "{", "<nl>", "do", "_", "file", "_", "switch", "_", "or", "_", "stop", "(", "capture", "_", "options", "*", "capture", "_", "opts", ",", "<nl>", "-", "1", ",", "/", "*", "section", "_", "length", "*", "/", "<nl>", "&", "(", "global", "_", "ld", ".", "bytes", "_", "written", ")", ",", "<nl>", "&", "global", "_", "ld", ".", "err", ")", ";", "<nl>", "+", "g", "_", "string", "_", "free", "(", "cpu", "_", "info", "_", "str", ",", "TRUE", ")", ";", "<nl>", "g", "_", "free", "(", "appname", ")", ";", "<nl>", "<nl>", "for", "(", "i", "=", "0", ";", "successful", "&", "&", "(", "i", "<", "capture", "_", "opts", "-", ">", "ifaces", "-", ">", "len", ")", ";", "i", "+", "+", ")", "{", "<nl>"], "docstring_tokens": ["dumpcap", "fix", "minor", "memory", "leak", "at", "begin", "of", "capture"]}
{"code_tokens": ["proto", "_", "mpeg", "_", "descriptor", "_", "dissect", "_", "extension", "(", "tvbuff", "_", "t", "*", "tvb", ",", "guint", "offset", ",", "guint8", "len", ",", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "tree", ",", "tvb", ",", "offset", ",", "len", "-", "already", "_", "dissected", ",", "\"", "Private", "data", "\"", ")", ";", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "mpeg", "_", "descr", "_", "extension", "_", "data", ",", "tvb", ",", "offset", ",", "len", ",", "ENC", "_", "NA", ")", ";", "<nl>", "+", "already", "_", "dissected", "=", "offset", "-", "offset", "_", "start", ";", "<nl>", "+", "if", "(", "already", "_", "dissected", "<", "len", ")", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "mpeg", "_", "descr", "_", "extension", "_", "data", ",", "tvb", ",", "offset", ",", "len", "-", "already", "_", "dissected", ",", "ENC", "_", "NA", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["correctly", "mark", "the", "payload", "for", "unknown", "extension", "tags"]}
{"code_tokens": ["proto", "_", "tree", "_", "write", "_", "node", "_", "pdml", "(", "proto", "_", "node", "*", "node", ",", "gpointer", "data", ")", "<nl>", "label", "_", "ptr", "=", "\"", "\"", ";", "<nl>", "}", "<nl>", "<nl>", "-", "fputs", "(", "\"", "<", "field", "show", "=", "\\", "\"", "\"", ",", "pdata", "-", ">", "fh", ")", ";", "<nl>", "+", "/", "*", "Show", "empty", "name", "since", "it", "is", "a", "required", "field", "*", "/", "<nl>", "+", "fputs", "(", "\"", "<", "field", "name", "=", "\\", "\"", "\"", ",", "pdata", "-", ">", "fh", ")", ";", "<nl>", "+", "fputs", "(", "\"", "\\", "\"", "show", "=", "\\", "\"", "\"", ",", "pdata", "-", ">", "fh", ")", ";", "<nl>", "print", "_", "escaped", "_", "xml", "(", "pdata", "-", ">", "fh", ",", "label", "_", "ptr", ")", ";", "<nl>", "<nl>", "fprintf", "(", "pdata", "-", ">", "fh", ",", "\"", "\\", "\"", "size", "=", "\\", "\"", "%", "d", "\"", ",", "fi", "-", ">", "length", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "for", "already", "closed", "bug", "1180"]}
{"code_tokens": ["proto", "_", "reg", "_", "handoff", "_", "e100", "(", "void", ")", "<nl>", "/", "*", "Check", "all", "UDP", "traffic", ",", "as", "the", "specific", "UDP", "port", "is", "configurable", "*", "/", "<nl>", "heur", "_", "dissector", "_", "add", "(", "\"", "udp", "\"", ",", "dissect", "_", "e100", ",", "\"", "E100", "over", "UDP", "\"", ",", "\"", "e100", "_", "udp", "\"", ",", "proto", "_", "e100", ",", "HEURISTIC", "_", "ENABLE", ")", ";", "<nl>", "/", "*", "e100", "traffic", "encapsulates", "traffic", "from", "the", "ethernet", "frame", "on", "*", "/", "<nl>", "-", "eth", "_", "handle", "=", "find", "_", "dissector", "(", "\"", "eth", "\"", ")", ";", "<nl>", "+", "eth", "_", "handle", "=", "find", "_", "dissector", "(", "\"", "eth", "_", "withoutfcs", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["Call", "the", "without", "FCS", "version", "of", "the", "Ethernet", "dissector"]}
{"code_tokens": ["dissect", "_", "dcerpc", "_", "cn", "_", "bs", "_", "body", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "*", "it", "was", "just", "too", "short", "to", "tell", "and", "ask", "the", "TCP", "layer", "for", "more", "<nl>", "*", "data", ".", "*", "/", "<nl>", "pinfo", "-", ">", "desegment", "_", "offset", "=", "offset", ";", "<nl>", "-", "pinfo", "-", ">", "desegment", "_", "len", "=", "sizeof", "(", "e", "_", "dce", "_", "cn", "_", "common", "_", "hdr", "_", "t", ")", "-", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "pinfo", "-", ">", "desegment", "_", "len", "=", "(", "guint32", ")", "(", "sizeof", "(", "e", "_", "dce", "_", "cn", "_", "common", "_", "hdr", "_", "t", ")", "-", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "}", "else", "{", "<nl>", "/", "*", "Really", "not", "DCE", "-", "RPC", "*", "/", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["Add", "a", "cast", "to", "try", "and", "fix", "the", "OSX", "buildbot"]}
{"code_tokens": ["packet", "_", "list", "_", "sortable", "_", "set", "_", "sort", "_", "column", "_", "id", "(", "GtkTreeSortable", "*", "sortable", ",", "<nl>", "packet", "_", "list", "-", ">", "sort", "_", "order", "=", "=", "order", ")", "<nl>", "return", ";", "<nl>", "<nl>", "+", "if", "(", "!", "col", "_", "based", "_", "on", "_", "frame", "_", "data", "(", "&", "cfile", ".", "cinfo", ",", "sort", "_", "col", "_", "id", ")", ")", "{", "<nl>", "+", "g", "_", "warning", "(", "\"", "Sorting", "on", "column", "%", "u", "not", "supported", "\"", ",", "sort", "_", "col", "_", "id", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "packet", "_", "list", "-", ">", "sort", "_", "id", "=", "sort", "_", "col", "_", "id", ";", "<nl>", "packet", "_", "list", "-", ">", "sort", "_", "order", "=", "order", ";", "<nl>"], "docstring_tokens": ["Bail", "out", "gracefully", "on", "colums", "we", "cant", "sort", "on", "yet", "instead", "of", "crashing"]}
{"code_tokens": ["static", "void", "init", "_", "wepkeys", "(", "void", ")", "{", "<nl>", "<nl>", "#", "ifdef", "USE", "_", "ENV", "<nl>", "buf", "=", "ep", "_", "alloc", "(", "128", ")", ";", "<nl>", "-", "sprintf", "(", "buf", ",", "128", ",", "\"", "ETHEREAL", "_", "WEPKEY", "%", "d", "\"", ",", "i", "+", "1", ")", ";", "<nl>", "+", "g", "_", "snprintf", "(", "buf", ",", "128", ",", "\"", "ETHEREAL", "_", "WEPKEY", "%", "d", "\"", ",", "i", "+", "1", ")", ";", "<nl>", "tmp", "=", "getenv", "(", "buf", ")", ";", "<nl>", "#", "else", "<nl>", "tmp", "=", "wep", "_", "keystr", "[", "i", "]", ";", "<nl>"], "docstring_tokens": ["sprintf", "big", "fix"]}
{"code_tokens": ["static", "int", "dissect", "_", "returnResultData", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "<nl>", "break", ";", "<nl>", "case", "56", ":", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "SendAuthenticationInfoRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "+", "break", ";", "<nl>", "case", "57", ":", "/", "*", "restoreData", "*", "/", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "RestoreDataRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "break", ";", "mmm", "epan", "/", "dissectors", "/", "packet", "-", "gsm", "_", "map", ".", "c", "<nl>", "static", "int", "dissect", "_", "returnResultData", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "<nl>", "break", ";", "<nl>", "case", "56", ":", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "SendAuthenticationInfoRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "+", "break", ";", "<nl>", "case", "57", ":", "/", "*", "restoreData", "*", "/", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "RestoreDataRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "break", ";", "<nl>", "/", "*", "Do", "not", "modify", "this", "file", ".", "*", "/", "<nl>", "/", "*", "It", "is", "created", "automatically", "by", "the", "ASN", ".", "1", "to", "Ethereal", "dissector", "compiler", "*", "/", "<nl>", "-", "/", "*", ".", "\\", "packet", "-", "gsm", "_", "map", ".", "c", "*", "/", "<nl>", "+", "/", "*", ".", "/", "packet", "-", "gsm", "_", "map", ".", "c", "*", "/", "<nl>", "/", "*", ".", ".", "/", ".", ".", "/", "tools", "/", "asn2eth", ".", "py", "-", "X", "-", "b", "-", "e", "-", "p", "gsm", "_", "map", "-", "c", "gsmmap", ".", "cnf", "-", "s", "packet", "-", "gsm", "_", "map", "-", "template", "GSMMAP", ".", "asn", "*", "/", "<nl>", "<nl>", "/", "*", "Input", "file", ":", "packet", "-", "gsm", "_", "map", "-", "template", ".", "c", "*", "/", "<nl>", "static", "int", "dissect", "_", "returnResultData", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "<nl>", "break", ";", "<nl>", "case", "56", ":", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "SendAuthenticationInfoRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "+", "break", ";", "<nl>", "case", "57", ":", "/", "*", "restoreData", "*", "/", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "RestoreDataRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "break", ";", "mmm", "epan", "/", "dissectors", "/", "packet", "-", "gsm", "_", "map", ".", "h", "<nl>", "static", "int", "dissect", "_", "returnResultData", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "<nl>", "break", ";", "<nl>", "case", "56", ":", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "SendAuthenticationInfoRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "+", "break", ";", "<nl>", "case", "57", ":", "/", "*", "restoreData", "*", "/", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "RestoreDataRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "break", ";", "<nl>", "/", "*", "Do", "not", "modify", "this", "file", ".", "*", "/", "<nl>", "/", "*", "It", "is", "created", "automatically", "by", "the", "ASN", ".", "1", "to", "Ethereal", "dissector", "compiler", "*", "/", "<nl>", "-", "/", "*", ".", "\\", "packet", "-", "gsm", "_", "map", ".", "c", "*", "/", "<nl>", "+", "/", "*", ".", "/", "packet", "-", "gsm", "_", "map", ".", "c", "*", "/", "<nl>", "/", "*", ".", ".", "/", ".", ".", "/", "tools", "/", "asn2eth", ".", "py", "-", "X", "-", "b", "-", "e", "-", "p", "gsm", "_", "map", "-", "c", "gsmmap", ".", "cnf", "-", "s", "packet", "-", "gsm", "_", "map", "-", "template", "GSMMAP", ".", "asn", "*", "/", "<nl>", "<nl>", "/", "*", "Input", "file", ":", "packet", "-", "gsm", "_", "map", "-", "template", ".", "c", "*", "/", "<nl>", "static", "int", "dissect", "_", "returnResultData", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "<nl>", "break", ";", "<nl>", "case", "56", ":", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "SendAuthenticationInfoRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "+", "break", ";", "<nl>", "case", "57", ":", "/", "*", "restoreData", "*", "/", "<nl>", "offset", "=", "dissect", "_", "gsm", "_", "map", "_", "RestoreDataRes", "(", "FALSE", ",", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "-", "1", ")", ";", "<nl>", "break", ";", "<nl>", "/", "*", "Do", "not", "modify", "this", "file", ".", "*", "/", "<nl>", "/", "*", "It", "is", "created", "automatically", "by", "the", "ASN", ".", "1", "to", "Ethereal", "dissector", "compiler", "*", "/", "<nl>", "-", "/", "*", ".", "\\", "packet", "-", "gsm", "_", "map", ".", "h", "*", "/", "<nl>", "+", "/", "*", ".", "/", "packet", "-", "gsm", "_", "map", ".", "h", "*", "/", "<nl>", "/", "*", ".", ".", "/", ".", ".", "/", "tools", "/", "asn2eth", ".", "py", "-", "X", "-", "b", "-", "e", "-", "p", "gsm", "_", "map", "-", "c", "gsmmap", ".", "cnf", "-", "s", "packet", "-", "gsm", "_", "map", "-", "template", "GSMMAP", ".", "asn", "*", "/", "<nl>", "<nl>", "/", "*", "Input", "file", ":", "packet", "-", "gsm", "_", "map", "-", "template", ".", "h", "*", "/", "<nl>"], "docstring_tokens": ["tiny", "bugfix", "for", "gsmmap"]}
{"code_tokens": ["build", "_", "file", "_", "save", "_", "type", "_", "list", "(", "GArray", "*", "savable", "_", "file", "_", "types", ")", "{", "<nl>", "ft", "=", "g", "_", "array", "_", "index", "(", "savable", "_", "file", "_", "types", ",", "int", ",", "i", ")", ";", "<nl>", "append", "_", "file", "_", "type", "(", "sa", ",", "ft", ")", ";", "<nl>", "}", "<nl>", "-", "g", "_", "array", "_", "free", "(", "savable", "_", "file", "_", "types", ",", "TRUE", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "terminate", "the", "array", "*", "/", "<nl>"], "docstring_tokens": ["Don", "t", "free", "the", "list", "of", "savable", "file", "types", "in", "build_file_save_type_list"]}
{"code_tokens": ["parse", "_", "toshiba", "_", "packet", "(", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "Buffer", "*", "buf", ",", "<nl>", "union", "wtap", "_", "pseudo", "_", "header", "*", "pseudo", "_", "header", "=", "&", "phdr", "-", ">", "pseudo", "_", "header", ";", "<nl>", "char", "line", "[", "TOSHIBA", "_", "LINE", "_", "LENGTH", "]", ";", "<nl>", "int", "num", "_", "items", "_", "scanned", ";", "<nl>", "-", "guint", "pkt", "_", "len", ";", "<nl>", "-", "int", "pktnum", ",", "hr", ",", "min", ",", "sec", ",", "csec", ";", "<nl>", "+", "int", "pkt", "_", "len", ",", "pktnum", ",", "hr", ",", "min", ",", "sec", ",", "csec", ";", "<nl>", "char", "channel", "[", "10", "]", ",", "direction", "[", "10", "]", ";", "<nl>", "int", "i", ",", "hex", "_", "lines", ";", "<nl>", "guint8", "*", "pd", ";", "<nl>", "parse", "_", "toshiba", "_", "packet", "(", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "Buffer", "*", "buf", ",", "<nl>", "<nl>", "}", "while", "(", "strcmp", "(", "line", ",", "\"", "OFFSET", "0001", "-", "0203", "\"", ")", "!", "=", "0", ")", ";", "<nl>", "<nl>", "-", "num", "_", "items", "_", "scanned", "=", "sscanf", "(", "line", "+", "64", ",", "\"", "LEN", "=", "%", "9u", "\"", ",", "&", "pkt", "_", "len", ")", ";", "<nl>", "+", "num", "_", "items", "_", "scanned", "=", "sscanf", "(", "line", "+", "64", ",", "\"", "LEN", "=", "%", "9d", "\"", ",", "&", "pkt", "_", "len", ")", ";", "<nl>", "if", "(", "num", "_", "items", "_", "scanned", "!", "=", "1", ")", "{", "<nl>", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "FILE", ";", "<nl>", "*", "err", "_", "info", "=", "g", "_", "strdup", "(", "\"", "toshiba", ":", "OFFSET", "line", "doesn", "'", "t", "have", "valid", "LEN", "item", "\"", ")", ";", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>", "+", "if", "(", "pkt", "_", "len", "<", "0", ")", "{", "<nl>", "+", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "FILE", ";", "<nl>", "+", "*", "err", "_", "info", "=", "g", "_", "strdup", "(", "\"", "toshiba", ":", "packet", "header", "has", "a", "negative", "packet", "length", "\"", ")", ";", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "}", "<nl>", "if", "(", "pkt", "_", "len", ">", "WTAP", "_", "MAX", "_", "PACKET", "_", "SIZE", ")", "{", "<nl>", "/", "*", "<nl>", "*", "Probably", "a", "corrupt", "capture", "file", ";", "don", "'", "t", "blow", "up", "trying", "<nl>"], "docstring_tokens": ["Don", "t", "treat", "the", "packet", "length", "as", "unsigned"]}
{"code_tokens": ["dissect", "_", "sigcomp", "_", "tcp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "_", "<nl>", "<nl>", "col", "_", "clear", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ")", ";", "<nl>", "<nl>", "-", "length", "=", "tvb", "_", "captured", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "length", "=", "tvb", "_", "reported", "_", "length", "(", "tvb", ")", ";", "<nl>", "<nl>", "try", "_", "again", ":", "<nl>", "/", "*", "create", "display", "subtree", "for", "the", "protocol", "*", "/", "<nl>"], "docstring_tokens": ["SIGCOMP", "use", "correct", "message", "length"]}
{"code_tokens": ["cf", "_", "print", "_", "packets", "(", "capture", "_", "file", "*", "cf", ",", "print", "_", "args", "_", "t", "*", "print", "_", "args", ",", "<nl>", "}", "<nl>", "<nl>", "/", "*", "if", "num", "_", "visible", "_", "col", "is", "0", ",", "we", "are", "done", "*", "/", "<nl>", "-", "if", "(", "num", "_", "visible", "_", "col", "=", "=", "0", ")", "<nl>", "+", "if", "(", "num", "_", "visible", "_", "col", "=", "=", "0", ")", "{", "<nl>", "+", "g", "_", "free", "(", "callback", "_", "args", ".", "header", "_", "line", "_", "buf", ")", ";", "<nl>", "return", "CF", "_", "PRINT", "_", "OK", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "*", "Find", "the", "widths", "for", "each", "of", "the", "columns", "-", "maximum", "of", "the", "<nl>", "width", "of", "the", "title", "and", "the", "width", "of", "the", "data", "-", "and", "construct", "<nl>"], "docstring_tokens": ["file", "free", "memory", "on", "exit", "found", "by", "clang"]}
{"code_tokens": ["sync", "_", "pipe", "_", "start", "(", "capture", "_", "options", "*", "capture", "_", "opts", ")", "{", "<nl>", "execv", "(", "argv", "[", "0", "]", ",", "(", "gpointer", ")", "argv", ")", ";", "<nl>", "g", "_", "snprintf", "(", "errmsg", ",", "sizeof", "errmsg", ",", "\"", "Couldn", "'", "t", "run", "%", "s", "in", "child", "process", ":", "%", "s", "\"", ",", "<nl>", "argv", "[", "0", "]", ",", "strerror", "(", "errno", ")", ")", ";", "<nl>", "-", "sync", "_", "pipe", "_", "errmsg", "_", "to", "_", "parent", "(", "errmsg", ",", "\"", "\"", ")", ";", "<nl>", "+", "sync", "_", "pipe", "_", "errmsg", "_", "to", "_", "parent", "(", "1", ",", "errmsg", ",", "\"", "\"", ")", ";", "<nl>", "<nl>", "/", "*", "Exit", "with", "\"", "_", "exit", "(", ")", "\"", ",", "so", "that", "we", "don", "'", "t", "close", "the", "connection", "<nl>", "to", "the", "X", "server", "(", "and", "cause", "stuff", "buffered", "up", "by", "our", "parent", "but", "<nl>", "sync", "_", "interface", "_", "stats", "_", "open", "(", "int", "*", "read", "_", "fd", ",", "int", "*", "fork", "_", "child", ",", "gchar", "*", "*", "msg", ")", "{", "<nl>", "<nl>", "/", "*", "Close", "down", "the", "stats", "process", "*", "/", "<nl>", "int", "<nl>", "-", "sync", "_", "interface", "_", "stats", "_", "close", "(", "int", "*", "read", "_", "fd", ",", "int", "*", "fork", "_", "child", ",", "gchar", "*", "*", "msg", ")", "{", "<nl>", "+", "sync", "_", "interface", "_", "stats", "_", "close", "(", "int", "*", "read", "_", "fd", ",", "int", "*", "fork", "_", "child", "<nl>", "+", "#", "ifndef", "_", "WIN32", "<nl>", "+", "_", "U", "_", "<nl>", "+", "#", "endif", "<nl>", "+", ",", "gchar", "*", "*", "msg", ")", "{", "<nl>", "#", "ifdef", "_", "WIN32", "<nl>", "return", "sync", "_", "pipe", "_", "close", "_", "command", "(", "read", "_", "fd", ",", "fork", "_", "child", ",", "msg", ")", ";", "<nl>", "#", "else", "<nl>"], "docstring_tokens": ["The", "fork_child", "argument", "to", "sync_interface_stats_close", "is", "unused", "on", "UN", "X"]}
{"code_tokens": ["static", "int", "wrap", "_", "dissect", "_", "gss", "_", "kerb", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "<nl>", "auth", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "<nl>", "tvb", ",", "offset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "<nl>", "-", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "+", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "<nl>", "dissect", "_", "kerberos", "_", "main", "(", "auth", "_", "tvb", ",", "pinfo", ",", "tree", ",", "FALSE", ",", "NULL", ")", ";", "<nl>", "static", "int", "wrap", "_", "dissect", "_", "gss", "_", "kerb", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "<nl>", "auth", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "<nl>", "tvb", ",", "offset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "<nl>", "-", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "+", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "<nl>", "dissect", "_", "kerberos", "_", "main", "(", "auth", "_", "tvb", ",", "pinfo", ",", "tree", ",", "FALSE", ",", "NULL", ")", ";", "<nl>", "<nl>", "call", "_", "ber", "_", "oid", "_", "callback", "(", "char", "*", "oid", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "{", "<nl>", "tvbuff", "_", "t", "*", "next", "_", "tvb", ";", "<nl>", "<nl>", "-", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "+", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "if", "(", "!", "dissector", "_", "try", "_", "string", "(", "ber", "_", "oid", "_", "dissector", "_", "table", ",", "oid", ",", "next", "_", "tvb", ",", "pinfo", ",", "tree", ")", ")", "{", "<nl>", "proto", "_", "item", "*", "item", "=", "NULL", ";", "<nl>", "proto", "_", "tree", "*", "next", "_", "tree", "=", "NULL", ";", "<nl>", "printf", "(", "\"", "OCTET", "STRING", "dissect", "_", "ber", "_", "octet", "_", "string", "(", "%", "s", ")", "entered", "\\", "n", "\"", ",", "name", ")", ";", "<nl>", "if", "(", "len", "<", "=", "(", "guint32", ")", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", "{", "<nl>", "*", "out", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "len", ",", "len", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "*", "out", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "+", "*", "out", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>", "ber", "_", "sequence", "_", "try", "_", "again", ":", "<nl>", "*", "length", ")", "of", "if", "the", "tvb", "is", "short", ",", "then", "just", "<nl>", "*", "give", "it", "all", "of", "the", "tvb", "and", "hope", "for", "the", "best", ".", "<nl>", "*", "/", "<nl>", "-", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "hoffset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "hoffset", ")", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "hoffset", ")", ")", ";", "<nl>", "+", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "hoffset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "hoffset", ")", ",", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "hoffset", ")", ")", ";", "<nl>", "}", "else", "{", "<nl>", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "hoffset", ",", "eoffset", "-", "hoffset", ",", "eoffset", "-", "hoffset", ")", ";", "<nl>", "}", "<nl>", "int", "dissect", "_", "ber", "_", "bitstring", "(", "gboolean", "implicit", "_", "tag", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "<nl>", "if", "(", "len", "<", "=", "(", "guint32", ")", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", "{", "<nl>", "*", "out", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "len", ",", "len", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "*", "out", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "+", "*", "out", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ",", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["packet_ber", "has", "for", "some", "time", "been", "doing", "sanity", "checking", "of", "the", "BER", "Length", "fields"]}
{"code_tokens": ["decode", "_", "pdu", "_", "sns", "_", "delete", "(", "build", "_", "info", "_", "t", "*", "bi", ")", "{", "<nl>", "{", "NSIP", "_", "IE", "_", "IP4", "_", "ELEMENTS", ",", "NSIP", "_", "IE", "_", "PRESENCE", "_", "C", ",", "NSIP", "_", "IE", "_", "FORMAT", "_", "TLV", ",", "0", ",", "0", "}", ",", "<nl>", "{", "NSIP", "_", "IE", "_", "IP6", "_", "ELEMENTS", ",", "NSIP", "_", "IE", "_", "PRESENCE", "_", "C", ",", "NSIP", "_", "IE", "_", "FORMAT", "_", "TLV", ",", "0", ",", "0", "}", ",", "<nl>", "}", ";", "<nl>", "-", "decode", "_", "iei", "_", "transaction", "_", "id", "(", "ies", ",", "bi", ",", "bi", "-", ">", "offset", ")", ";", "<nl>", "-", "decode", "_", "pdu", "_", "general", "(", "&", "ies", "[", "1", "]", ",", "3", ",", "bi", ")", ";", "<nl>", "+", "decode", "_", "pdu", "_", "general", "(", "ies", ",", "1", ",", "bi", ")", ";", "<nl>", "+", "decode", "_", "iei", "_", "transaction", "_", "id", "(", "&", "ies", "[", "1", "]", ",", "bi", ",", "bi", "-", ">", "offset", ")", ";", "<nl>", "+", "decode", "_", "pdu", "_", "general", "(", "&", "ies", "[", "2", "]", ",", "3", ",", "bi", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "<nl>"], "docstring_tokens": ["From", "Susanne", "Edlund"]}
{"code_tokens": ["static", "int", "dissect", "_", "cip", "_", "attribute", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "proto", "_", "ite", "<nl>", "/", "*", "Convert", "to", "nstime", "epoch", "*", "/", "<nl>", "computed", "_", "time", "=", "CIP", "_", "TIMEBASE", "+", "(", "temp", "_", "data", "*", "60", "*", "60", "*", "24", ")", ";", "<nl>", "date", "=", "gmtime", "(", "&", "computed", "_", "time", ")", ";", "<nl>", "-", "strftime", "(", "date", "_", "str", ",", "20", ",", "\"", "%", "b", "%", "d", ",", "%", "Y", "\"", ",", "date", ")", ";", "<nl>", "+", "if", "(", "date", "!", "=", "NULL", ")", "<nl>", "+", "strftime", "(", "date", "_", "str", ",", "20", ",", "\"", "%", "b", "%", "d", ",", "%", "Y", "\"", ",", "date", ")", ";", "<nl>", "+", "else", "<nl>", "+", "g", "_", "strlcpy", "(", "date", "_", "str", ",", "\"", "Not", "representable", "\"", ",", "sizeof", "date", "_", "str", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "_", "value", "(", "tree", ",", "*", "(", "attr", "-", ">", "phf", ")", ",", "tvb", ",", "offset", ",", "2", ",", "temp", "_", "data", ",", "\"", "%", "s", "\"", ",", "date", "_", "str", ")", ";", "<nl>", "consumed", "=", "2", ";", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["gmtime", "can", "return", "NULL", "even", "if", "it", "s", "unlikely"]}
{"code_tokens": ["dissect", "_", "quic", "_", "common", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "<nl>", "/", "*", "Diversification", "Nonce", "*", "/", "<nl>", "if", "(", "puflags", "&", "PUFLAGS", "_", "DNONCE", "&", "&", "quic", "_", "info", "-", ">", "version", ">", "=", "33", ")", "{", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "item", "(", "quic", "_", "tree", ",", "hf", "_", "quic", "_", "diversification", "_", "nonce", ",", "tvb", ",", "offset", ",", "32", ",", "ENC", "_", "NA", ")", ";", "<nl>", "-", "offset", "+", "=", "32", ";", "<nl>", "+", "if", "(", "pinfo", "-", ">", "srcport", "=", "=", "443", ")", "{", "/", "*", "Diversification", "nonce", "is", "only", "present", "from", "server", "to", "client", "*", "/", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "item", "(", "quic", "_", "tree", ",", "hf", "_", "quic", "_", "diversification", "_", "nonce", ",", "tvb", ",", "offset", ",", "32", ",", "ENC", "_", "NA", ")", ";", "<nl>", "+", "offset", "+", "=", "32", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "-", "<nl>", "/", "*", "Packet", "Number", "*", "/", "<nl>", "<nl>", "/", "*", "Get", "len", "of", "packet", "number", "(", "and", "packet", "number", ")", ",", "may", "be", "a", "more", "easy", "function", "to", "get", "the", "length", ".", ".", ".", "*", "/", "<nl>"], "docstring_tokens": ["QUIC", "Diversification", "nonce", "is", "only", "present", "from", "server", "to", "client"]}
{"code_tokens": ["header", "_", "fields", "_", "initialize", "_", "cb", "(", "void", ")", "<nl>", "guint", "i", ";", "<nl>", "gchar", "*", "header", "_", "name", ";", "<nl>", "<nl>", "-", "if", "(", "custom", "_", "field", "_", "table", ")", "{", "<nl>", "+", "if", "(", "custom", "_", "field", "_", "table", "&", "&", "hf", ")", "{", "<nl>", "guint", "hf", "_", "size", "=", "g", "_", "hash", "_", "table", "_", "size", "(", "custom", "_", "field", "_", "table", ")", ";", "<nl>", "/", "*", "Unregister", "all", "fields", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "hf", "_", "size", ";", "i", "+", "+", ")", "{", "mmm", "epan", "/", "dissectors", "/", "packet", "-", "http", ".", "c", "<nl>", "header", "_", "fields", "_", "initialize", "_", "cb", "(", "void", ")", "<nl>", "guint", "i", ";", "<nl>", "gchar", "*", "header", "_", "name", ";", "<nl>", "<nl>", "-", "if", "(", "custom", "_", "field", "_", "table", ")", "{", "<nl>", "+", "if", "(", "custom", "_", "field", "_", "table", "&", "&", "hf", ")", "{", "<nl>", "guint", "hf", "_", "size", "=", "g", "_", "hash", "_", "table", "_", "size", "(", "custom", "_", "field", "_", "table", ")", ";", "<nl>", "/", "*", "Unregister", "all", "fields", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "hf", "_", "size", ";", "i", "+", "+", ")", "{", "<nl>", "header", "_", "fields", "_", "initialize", "_", "cb", "(", "void", ")", "<nl>", "guint", "i", ";", "<nl>", "gchar", "*", "header", "_", "name", ";", "<nl>", "<nl>", "-", "if", "(", "header", "_", "fields", "_", "hash", ")", "{", "<nl>", "+", "if", "(", "header", "_", "fields", "_", "hash", "&", "&", "hf", ")", "{", "<nl>", "guint", "hf", "_", "size", "=", "g", "_", "hash", "_", "table", "_", "size", "(", "header", "_", "fields", "_", "hash", ")", ";", "<nl>", "/", "*", "Unregister", "all", "fields", "*", "/", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "hf", "_", "size", ";", "i", "+", "+", ")", "{", "<nl>"], "docstring_tokens": ["Improved", "a", "if", "check", "to", "avoid", "a", "analyzis", "warning"]}
{"code_tokens": ["set", "_", "pref", "(", "gchar", "*", "pref", "_", "name", ",", "gchar", "*", "value", ",", "void", "*", "private", "_", "data", "_", "U", "_", ",", "<nl>", "find", "_", "index", "_", "from", "_", "string", "_", "array", "(", "value", ",", "gui", "_", "layout", "_", "content", "_", "text", ",", "0", ")", ";", "<nl>", "}", "else", "if", "(", "strcmp", "(", "pref", "_", "name", ",", "PRS", "_", "CONSOLE", "_", "LOG", "_", "LEVEL", ")", "=", "=", "0", ")", "{", "<nl>", "prefs", ".", "console", "_", "log", "_", "level", "=", "strtoul", "(", "value", ",", "NULL", ",", "10", ")", ";", "<nl>", "-", "if", "(", "prefs", ".", "console", "_", "log", "_", "level", "&", "G", "_", "LOG", "_", "LEVEL", "_", "INFO", "|", "G", "_", "LOG", "_", "LEVEL", "_", "DEBUG", ")", "{", "<nl>", "+", "if", "(", "prefs", ".", "console", "_", "log", "_", "level", "&", "(", "G", "_", "LOG", "_", "LEVEL", "_", "INFO", "|", "G", "_", "LOG", "_", "LEVEL", "_", "DEBUG", ")", ")", "{", "<nl>", "/", "*", "<nl>", "*", "GLib", ">", "=", "2", ".", "32", "drops", "INFO", "and", "DEBUG", "messages", "by", "default", ".", "Tell", "<nl>", "*", "it", "not", "to", "do", "that", ".", "<nl>"], "docstring_tokens": ["Add", "some", "needed", "parenthesis", "as", "pointed", "out", "by", "Jakub", "and", "the", "OS", "X"]}
{"code_tokens": ["try", "_", "dissect", "_", "next", "_", "protocol", "(", "proto", "_", "tree", "*", "parent", ",", "tvbuff", "_", "t", "*", "next", "_", "tvb", ",", "gint", "offset", ",", "p", "<nl>", "<nl>", "if", "(", "try", "_", "heuristics", "&", "&", "dissector", "_", "try", "_", "heuristic", "(", "heur", "_", "subdissector", "_", "list", ",", "next", "_", "tvb", ",", "pinfo", ",", "parent", ",", "usb", "_", "conv", "_", "info", ")", ")", "{", "<nl>", "offset", "+", "=", "tvb", "_", "length", "(", "next", "_", "tvb", ")", ";", "<nl>", "-", "}", "else", "if", "(", "dissector", "_", "try", "_", "uint", "_", "new", "(", "usb", "_", "dissector", "_", "table", ",", "usb", "_", "conv", "_", "info", "-", ">", "interfaceClass", ",", "next", "_", "tvb", ",", "pinfo", ",", "parent", ",", "TRUE", ",", "usb", "_", "conv", "_", "info", ")", ")", "{", "<nl>", "+", "}", "else", "if", "(", "usb", "_", "dissector", "_", "table", "&", "&", "<nl>", "+", "dissector", "_", "try", "_", "uint", "_", "new", "(", "usb", "_", "dissector", "_", "table", ",", "usb", "_", "conv", "_", "info", "-", ">", "interfaceClass", ",", "next", "_", "tvb", ",", "pinfo", ",", "parent", ",", "TRUE", ",", "usb", "_", "conv", "_", "info", ")", ")", "{", "<nl>", "offset", "+", "=", "tvb", "_", "length", "(", "next", "_", "tvb", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Make", "sure", "we", "have", "a", "dissector", "table", "before", "calling", "dissector_try_uint_new", "Fixes"]}
{"code_tokens": ["dissect", "_", "gtpv2", "_", "pres", "_", "rep", "_", "area", "_", "action", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "<nl>", "if", "(", "length", "=", "=", "1", ")", "<nl>", "return", ";", "<nl>", "/", "*", "Octet", "6", "to", "8", "Presence", "Reporting", "Area", "Identifier", "*", "/", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "gtpv2", "_", "pres", "_", "rep", "_", "area", "_", "id", ",", "tvb", ",", "offset", ",", "2", ",", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "-", "offset", "+", "=", "2", ";", "<nl>", "-", "if", "(", "length", "=", "=", "3", ")", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "gtpv2", "_", "pres", "_", "rep", "_", "area", "_", "id", ",", "tvb", ",", "offset", ",", "3", ",", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "+", "offset", "+", "=", "3", ";", "<nl>", "+", "if", "(", "length", "=", "=", "4", ")", "<nl>", "return", ";", "<nl>", "<nl>", "-", "new", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "_", "length", "(", "tvb", ",", "offset", ",", "length", "-", "3", ")", ";", "<nl>", "+", "new", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "_", "length", "(", "tvb", ",", "offset", ",", "length", "-", "4", ")", ";", "<nl>", "<nl>", "/", "*", "Share", "the", "rest", "of", "the", "dissection", "with", "the", "AVP", "dissector", "*", "/", "<nl>", "dissect", "_", "diameter", "_", "3gpp", "_", "presence", "_", "reporting", "_", "area", "_", "elements", "_", "list", "(", "new", "_", "tvb", ",", "pinfo", ",", "tree", ",", "NULL", ")", ";", "<nl>", "void", "proto", "_", "register", "_", "gtpv2", "(", "void", ")", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "gtpv2", "_", "pres", "_", "rep", "_", "area", "_", "id", ",", "<nl>", "{", "\"", "Presence", "Reporting", "Area", "Identifier", "\"", ",", "\"", "gtpv2", ".", "pres", "_", "rep", "_", "area", "_", "action", ".", "pres", "_", "rep", "_", "area", "_", "id", "\"", ",", "<nl>", "-", "FT", "_", "UINT16", ",", "BASE", "_", "HEX", ",", "NULL", ",", "0x0", ",", "<nl>", "+", "FT", "_", "UINT24", ",", "BASE", "_", "HEX", ",", "NULL", ",", "0x0", ",", "<nl>", "NULL", ",", "HFILL", "}", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "gtpv2", "_", "pres", "_", "rep", "_", "area", "_", "act", "_", "no", "_", "tai", ",", "<nl>"], "docstring_tokens": ["GTPv2", "Fix", "length", "of", "Presence", "Reporting", "Area", "Identifier", "field"]}
{"code_tokens": ["fill", "_", "list", "(", "GtkWidget", "*", "main", "_", "w", ")", "<nl>", "*", "and", "use", "it", "later", "without", "any", "crashes", ".", "This", "may", "not", "be", "a", "<nl>", "*", "valid", "assumption", ".", "<nl>", "*", "/", "<nl>", "+", "g", "_", "free", "(", "l", "_", "select", ")", ";", "<nl>", "l", "_", "select", "=", "(", "GtkTreeIter", "*", ")", "g", "_", "memdup", "(", "&", "iter", ",", "sizeof", "(", "iter", ")", ")", ";", "<nl>", "}", "<nl>", "fl", "_", "entry", "=", "g", "_", "list", "_", "next", "(", "fl", "_", "entry", ")", ";", "<nl>"], "docstring_tokens": ["gtk", "fix", "memory", "leak", "in", "profile", "dialog"]}
{"code_tokens": ["static", "void", "parse", "_", "outhdr", "_", "string", "(", "const", "guchar", "*", "outhdr", "_", "string", ",", "gint", "outhdr", "_", "string", "_", "<nl>", "guint", "d", ";", "<nl>", "<nl>", "/", "*", "Find", "digits", "*", "/", "<nl>", "-", "for", "(", ";", "n", "<", "outhdr", "_", "string", "_", "len", ";", "n", "+", "+", ")", "{", "<nl>", "+", "for", "(", ";", "(", "n", "<", "outhdr", "_", "string", "_", "len", ")", "&", "&", "(", "number", "_", "digits", "<", "MAX", "_", "OUTHDR", "_", "VALUES", ")", ";", "n", "+", "+", ")", "{", "<nl>", "if", "(", "!", "g", "_", "ascii", "_", "isdigit", "(", "outhdr", "_", "string", "[", "n", "]", ")", ")", "{", "<nl>", "break", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["DCT2000", "prevent", "a", "stack", "buffer", "overflow"]}
{"code_tokens": ["*", "PKT", "-", "SP", "-", "EC", "-", "MGCP", "-", "I09", "-", "040113", ",", "January", "13", ",", "2004", ",", "Cable", "Television", "<nl>", "*", "Laboratories", ",", "Inc", ".", ",", "http", ":", "/", "/", "www", ".", "PacketCable", ".", "com", "/", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "mgcp", ".", "c", ",", "v", "1", ".", "46", "2004", "/", "05", "/", "30", "17", ":", "58", ":", "35", "etxrab", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "mgcp", ".", "c", ",", "v", "1", ".", "47", "2004", "/", "05", "/", "31", "19", ":", "31", ":", "14", "etxrab", "Exp", "$", "<nl>", "*", "<nl>", "*", "Copyright", "(", "c", ")", "2000", "by", "Ed", "Warnicke", "<", "hagbard", "@", "physics", ".", "rutgers", ".", "edu", ">", "<nl>", "*", "Copyright", "(", "c", ")", "2004", "by", "Thomas", "Anders", "<", "thomas", ".", "anders", "[", "AT", "]", "blue", "-", "cable", ".", "de", ">", "<nl>", "dissect", "_", "mgcp", "_", "connectionparams", "(", "proto", "_", "tree", "*", "parent", "_", "tree", ",", "tvbuff", "_", "t", "*", "tvb", ",", "gint", "offse", "<nl>", "}", "<nl>", "offset", "+", "=", "tokenlen", "+", "1", ";", "/", "*", "1", "extra", "for", "the", "delimiter", "*", "/", "<nl>", "}", "<nl>", "+", "g", "_", "strfreev", "(", "typval", ")", ";", "<nl>", "+", "g", "_", "strfreev", "(", "tokens", ")", ";", "<nl>", "+", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["From", "Thomas", "Anders", "fix", "some", "memory", "leaks"]}
{"code_tokens": ["dissect", "_", "corosynec", "_", "totemnet", "(", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "return", "call", "_", "dissector", "(", "corosync", "_", "totemsrp", "_", "handle", ",", "tvb", ",", "pinfo", ",", "parent", "_", "tree", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "void", "<nl>", "+", "corosync", "_", "totemnet", "_", "shutdown", "(", "void", ")", "<nl>", "+", "{", "<nl>", "+", "g", "_", "strfreev", "(", "corosync", "_", "totemnet", "_", "private", "_", "keys", "_", "list", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "void", "<nl>", "proto", "_", "register", "_", "corosync", "_", "totemnet", "(", "void", ")", "<nl>", "proto", "_", "register", "_", "corosync", "_", "totemnet", "(", "void", ")", "<nl>", "prefs", "_", "register", "_", "string", "_", "preference", "(", "corosync", "_", "totemnet", "_", "module", ",", "\"", "private", "_", "keys", "\"", ",", "\"", "Private", "keys", "\"", ",", "<nl>", "\"", "Semicolon", "-", "separated", "list", "of", "keys", "for", "decryption", "(", "e", ".", "g", ".", "key1", ";", "key2", ";", ".", ".", ".", "\"", ",", "<nl>", "(", "const", "gchar", "*", "*", ")", "&", "corosync", "_", "totemnet", "_", "private", "_", "keys", ")", ";", "<nl>", "+", "<nl>", "+", "register", "_", "shutdown", "_", "routine", "(", "corosync", "_", "totemnet", "_", "shutdown", ")", ";", "<nl>", "}", "<nl>", "<nl>", "void", "<nl>"], "docstring_tokens": ["corosync", "totemnet", "add", "shutdown", "routine"]}
{"code_tokens": ["be", "_", "field", "_", "element", "_", "dissect", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ",", "guint32", "offset", ",", "guint", "<nl>", "str", "=", "match", "_", "strval", "_", "idx", "(", "(", "guint32", ")", "oct", ",", "bssmap", "_", "field", "_", "element", "_", "ids", ",", "&", "idx", ")", ";", "<nl>", "ie", "_", "len", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "curr", "_", "offset", "+", "+", ")", ";", "<nl>", "<nl>", "+", "if", "(", "!", "str", ")", "<nl>", "+", "str", "=", "\"", "Unknown", "\"", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "add", "Field", "Element", "name", "<nl>", "*", "/", "<nl>"], "docstring_tokens": ["Avoid", "passing", "a", "NULL", "pointer", "to", "a", "string", "to", "proto_tree_add_uint_format"]}
{"code_tokens": ["*", "Routines", "for", "MS", "Exchange", "MAPI", "<nl>", "*", "Copyright", "2002", ",", "Ronnie", "Sahlberg", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "dcerpc", "-", "mapi", ".", "c", ",", "v", "1", ".", "5", "2002", "/", "05", "/", "25", "09", ":", "19", ":", "45", "sahlberg", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "dcerpc", "-", "mapi", ".", "c", ",", "v", "1", ".", "6", "2002", "/", "05", "/", "25", "10", ":", "25", ":", "27", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "mapi", "_", "decrypt", "_", "pdu", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tr", ",", "hf", "_", "mapi", "_", "decrypted", "_", "data", ",", "mmd", "-", ">", "tvb", ",", "2", ",", "pdu", "_", "len", ",", "FALSE", ")", ";", "<nl>", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tr", ",", "hf", "_", "mapi", "_", "pdu", "_", "trailer", ",", "mmd", "-", ">", "tvb", ",", "pdu", "_", "len", ",", "4", ",", "FALSE", ")", ";", "<nl>", "-", "if", "(", "len", ">", "(", "pdu", "_", "len", "+", "4", ")", ")", "{", "<nl>", "+", "if", "(", "len", ">", "(", "(", "guint32", ")", "pdu", "_", "len", "+", "4", ")", ")", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tr", ",", "hf", "_", "mapi", "_", "pdu", "_", "extra", "_", "trailer", ",", "mmd", "-", ">", "tvb", ",", "pdu", "_", "len", "+", "4", ",", "len", "-", "(", "pdu", "_", "len", "+", "4", ")", ",", "FALSE", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Throw", "in", "a", "cast", "to", "squelch", "a", "compiler", "complaint", "unsigned", "short"]}
{"code_tokens": ["proto", "_", "register", "_", "sua", "(", "void", ")", "<nl>", "\"", "This", "may", "affect", "TCAP", "'", "s", "ability", "to", "recognize", "which", "messages", "belong", "to", "which", "TCAP", "session", ".", "\"", ",", "&", "set", "_", "addresses", ")", ";", "<nl>", "<nl>", "heur", "_", "subdissector", "_", "list", "=", "register", "_", "heur", "_", "dissector", "_", "list", "(", "\"", "sua", "\"", ")", ";", "<nl>", "-", "sua", "_", "parameter", "_", "table", "=", "register", "_", "dissector", "_", "table", "(", "\"", "sua", ".", "prop", ".", "tags", "\"", ",", "\"", "SUA", "Proprietary", "Tags", "\"", ",", "FT", "_", "UINT16", ",", "BASE", "_", "DEC", ",", "DISSECTOR", "_", "TABLE", "_", "NOT", "_", "ALLOW", "_", "DUPLICATE", ")", ";", "<nl>", "+", "sua", "_", "parameter", "_", "table", "=", "register", "_", "dissector", "_", "table", "(", "\"", "sua", ".", "prop", ".", "tags", "\"", ",", "\"", "SUA", "Proprietary", "Tags", "\"", ",", "FT", "_", "UINT16", ",", "BASE", "_", "DEC", ",", "DISSECTOR", "_", "TABLE", "_", "ALLOW", "_", "DUPLICATE", ")", ";", "<nl>", "sua", "_", "tap", "=", "register", "_", "tap", "(", "\"", "sua", "\"", ")", ";", "<nl>", "<nl>", "assocs", "=", "wmem", "_", "tree", "_", "new", "_", "autoreset", "(", "wmem", "_", "epan", "_", "scope", "(", ")", ",", "wmem", "_", "file", "_", "scope", "(", ")", ")", ";", "<nl>"], "docstring_tokens": ["SUA", "Change", "the", "dissector", "table", "sua", "prop", "tags", "to", "use", "DISSECTOR_TABLE_ALLOW_DUPLICATE"]}
{"code_tokens": ["netmon", "_", "process", "_", "record", "(", "wtap", "*", "wth", ",", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "<nl>", "switch", "(", "network", ")", "<nl>", "{", "<nl>", "case", "0xE080", ":", "/", "/", "\"", "WiFi", "Message", "\"", "<nl>", "+", "pkt", "_", "encap", "=", "WTAP", "_", "ENCAP", "_", "IEEE", "_", "802", "_", "11", ";", "<nl>", "+", "break", ";", "<nl>", "case", "0xE081", ":", "/", "/", "\"", "Ndis", "Etw", "WiFi", "Channel", "Message", "\"", "<nl>", "case", "0xE082", ":", "/", "/", "\"", "Fiddler", "Netmon", "Message", "\"", "<nl>", "case", "0xE089", ":", "/", "/", "\"", "Pef", "Ndis", "Msg", "\"", ";", "<nl>"], "docstring_tokens": ["NetMon", "Add", "support", "for", "WiFi", "Message"]}
{"code_tokens": ["ssl", "_", "find", "_", "private", "_", "key", "(", "SslDecryptSession", "*", "ssl", "_", "session", ",", "GHashTable", "*", "key", "_", "hash", ",", "GTree", "<nl>", "ssl", "_", "debug", "_", "printf", "(", "\"", "ssl", "_", "find", "_", "private", "_", "key", "server", "%", "s", ":", "%", "u", "\\", "n", "\"", ",", "<nl>", "ep", "_", "address", "_", "to", "_", "str", "(", "&", "dummy", ".", "addr", ")", ",", "dummy", ".", "port", ")", ";", "<nl>", "<nl>", "+", "if", "(", "g", "_", "hash", "_", "table", "_", "size", "(", "key", "_", "hash", ")", "=", "=", "0", ")", "{", "<nl>", "+", "ssl", "_", "debug", "_", "printf", "(", "\"", "ssl", "_", "find", "_", "private", "_", "key", ":", "no", "keys", "found", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "ssl", "_", "debug", "_", "printf", "(", "\"", "ssl", "_", "find", "_", "private", "_", "key", ":", "testing", "%", "i", "keys", "\\", "n", "\"", ",", "<nl>", "+", "g", "_", "hash", "_", "table", "_", "size", "(", "key", "_", "hash", ")", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "try", "to", "retrieve", "private", "key", "for", "this", "service", ".", "Do", "it", "now", "'", "cause", "pinfo", "<nl>", "*", "is", "not", "always", "available", "<nl>", "*", "Note", "that", "with", "HAVE", "_", "LIBGNUTLS", "undefined", "private", "_", "key", "is", "allways", "0", "<nl>"], "docstring_tokens": ["ssl", "return", "early", "if", "no", "private", "keys", "are", "found"]}
{"code_tokens": ["WSLUA", "_", "API", "void", "wslua", "_", "setfuncs", "(", "lua", "_", "State", "*", "L", ",", "const", "luaL", "_", "Reg", "*", "l", ",", "int", "nup", ")", "{", "<nl>", "}", "<nl>", "<nl>", "/", "*", "identical", "to", "lua", "_", "getfield", "but", "without", "triggering", "metamethods", "*", "/", "<nl>", "-", "WSLUA", "_", "API", "void", "lua", "_", "rawgetfield", "(", "lua", "_", "State", "*", "L", ",", "int", "index", ",", "const", "char", "*", "k", ")", "{", "<nl>", "+", "WSLUA", "_", "API", "void", "lua", "_", "rawgetfield", "(", "lua", "_", "State", "*", "L", ",", "int", "idx", ",", "const", "char", "*", "k", ")", "{", "<nl>", "lua", "_", "pushstring", "(", "L", ",", "k", ")", ";", "<nl>", "-", "lua", "_", "rawget", "(", "L", ",", "index", ")", ";", "<nl>", "+", "lua", "_", "rawget", "(", "L", ",", "idx", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "identical", "to", "lua", "_", "setfield", "but", "without", "triggering", "metamethods", "*", "/", "<nl>", "-", "WSLUA", "_", "API", "void", "lua", "_", "rawsetfield", "(", "lua", "_", "State", "*", "L", ",", "int", "index", ",", "const", "char", "*", "k", ")", "{", "<nl>", "+", "WSLUA", "_", "API", "void", "lua", "_", "rawsetfield", "(", "lua", "_", "State", "*", "L", ",", "int", "idx", ",", "const", "char", "*", "k", ")", "{", "<nl>", "lua", "_", "pushstring", "(", "L", ",", "k", ")", ";", "<nl>", "lua", "_", "insert", "(", "L", ",", "-", "2", ")", ";", "<nl>", "-", "lua", "_", "rawset", "(", "L", ",", "index", ")", ";", "<nl>", "+", "lua", "_", "rawset", "(", "L", ",", "idx", ")", ";", "<nl>", "}", "<nl>", "<nl>", "WSLUA", "_", "API", "void", "wslua", "_", "print", "_", "stack", "(", "char", "*", "s", ",", "lua", "_", "State", "*", "L", ")", "{", "<nl>"], "docstring_tokens": ["Fix", "warnings", "index", "is", "declared", "as", "a", "function", "in", "some", "systems"]}
{"code_tokens": ["*", "Copyright", "2011", ",", "Grzegorz", "Szczytowski", "<", "grzegorz", ".", "szczytowski", "@", "gmail", ".", "com", ">", "<nl>", "*", "<nl>", "*", "Updates", "and", "corrections", ":", "<nl>", "-", "*", "Copyright", "2011", "-", "2012", ",", "Anders", "Broman", "<", "anders", ".", "broman", "@", "ericsson", ".", "com", ">", "<nl>", "+", "*", "Copyright", "2011", "-", "2013", ",", "Anders", "Broman", "<", "anders", ".", "broman", "@", "ericsson", ".", "com", ">", "<nl>", "*", "<nl>", "*", "PDCP", "PDU", "number", "extension", "header", "support", "added", "by", "Martin", "Isaksson", "<", "martin", ".", "isaksson", "@", "ericsson", ".", "com", ">", "<nl>", "*", "<nl>", "decode", "_", "gtp", "_", "priv", "_", "ext", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "t", "<nl>", "offset", "=", "offset", "+", "2", ";", "<nl>", "<nl>", "if", "(", "length", ">", "2", ")", "{", "<nl>", "-", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "offset", ",", "length", "-", "2", ",", "length", "-", "2", ")", ";", "<nl>", "if", "(", "!", "dissector", "_", "try", "_", "uint", "(", "gtp", "_", "priv", "_", "ext", "_", "dissector", "_", "table", ",", "ext", "_", "id", ",", "next", "_", "tvb", ",", "pinfo", ",", "ext", "_", "tree", "_", "priv", "_", "ext", ")", ")", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "ext", "_", "tree", "_", "priv", "_", "ext", ",", "hf", "_", "gtp", "_", "ext", "_", "val", ",", "tvb", ",", "offset", ",", "length", "-", "2", ",", "ENC", "_", "NA", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Only", "the", "private", "extension", "IE", "value", "part", "should", "go", "in", "the", "tvb"]}
{"code_tokens": ["proto", "_", "register", "_", "xot", "(", "void", ")", "<nl>", "proto", "_", "xot", "=", "proto", "_", "register", "_", "protocol", "(", "\"", "X", ".", "25", "over", "TCP", "\"", ",", "\"", "XOT", "\"", ",", "\"", "xot", "\"", ")", ";", "<nl>", "proto", "_", "register", "_", "field", "_", "array", "(", "proto", "_", "xot", ",", "hf", ",", "array", "_", "length", "(", "hf", ")", ")", ";", "<nl>", "proto", "_", "register", "_", "subtree", "_", "array", "(", "ett", ",", "array", "_", "length", "(", "ett", ")", ")", ";", "<nl>", "+", "register", "_", "dissector", "(", "\"", "xot", "\"", ",", "dissect", "_", "xot", ",", "proto", "_", "xot", ")", ";", "<nl>", "<nl>", "xot", "_", "module", "=", "prefs", "_", "register", "_", "protocol", "(", "proto", "_", "xot", ",", "NULL", ")", ";", "<nl>", "prefs", "_", "register", "_", "bool", "_", "preference", "(", "xot", "_", "module", ",", "\"", "desegment", "\"", ",", "<nl>"], "docstring_tokens": ["Make", "xot", "dissector", "findable", "by", "name"]}
{"code_tokens": ["AirPDcapDecryptWPABroadcastKey", "(", "const", "EAPOL", "_", "RSN", "_", "KEY", "*", "pEAPKey", ",", "guint8", "*", "decryption", "<nl>", "}", "else", "if", "(", "key", "_", "version", "=", "=", "AIRPDCAP", "_", "WPA", "_", "KEY", "_", "VER", "_", "AES", "_", "CCMP", ")", "{", "<nl>", "/", "*", "AES", "*", "/", "<nl>", "key", "_", "bytes", "_", "len", "=", "pntoh16", "(", "pEAPKey", "-", ">", "key", "_", "data", "_", "len", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "AES", "keys", "must", "be", "at", "least", "128", "bits", "=", "16", "bytes", ".", "*", "/", "<nl>", "+", "if", "(", "key", "_", "bytes", "_", "len", "<", "16", ")", "{", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "if", "(", "key", "_", "bytes", "_", "len", ">", "TKIP", "_", "GROUP", "_", "KEYBYTES", "_", "LEN", "_", "MAX", "|", "|", "key", "_", "bytes", "_", "len", "=", "=", "0", ")", "{", "/", "*", "Don", "'", "t", "read", "past", "the", "end", "of", "pEAPKey", "-", ">", "ie", "*", "/", "<nl>"], "docstring_tokens": ["Don", "t", "try", "to", "decrypt", "with", "an", "AES", "key", "shorter", "than", "128", "bits"]}
{"code_tokens": ["ssl", "_", "association", "_", "remove", "(", "GTree", "*", "associations", ",", "SslAssociation", "*", "assoc", ")", "<nl>", "if", "(", "assoc", "-", ">", "handle", ")", "<nl>", "dissector", "_", "delete", "(", "(", "assoc", "-", ">", "tcp", ")", "?", "\"", "tcp", ".", "port", "\"", ":", "\"", "udp", ".", "port", "\"", ",", "assoc", "-", ">", "ssl", "_", "port", ",", "assoc", "-", ">", "handle", ")", ";", "<nl>", "<nl>", "+", "g", "_", "free", "(", "assoc", "-", ">", "info", ")", ";", "<nl>", "+", "<nl>", "g", "_", "tree", "_", "remove", "(", "associations", ",", "assoc", ")", ";", "<nl>", "g", "_", "free", "(", "assoc", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["ssl_association_remove", "free", "assoc", "info", "too"]}
{"code_tokens": ["parse", "_", "netscreen", "_", "packet", "(", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "Buffer", "*", "buf", ",", "<nl>", "<nl>", "phdr", "-", ">", "rec", "_", "type", "=", "REC", "_", "TYPE", "_", "PACKET", ";", "<nl>", "phdr", "-", ">", "presence", "_", "flags", "=", "WTAP", "_", "HAS", "_", "TS", "|", "WTAP", "_", "HAS", "_", "CAP", "_", "LEN", ";", "<nl>", "+", "/", "*", "Suppress", "compiler", "warnings", "*", "/", "<nl>", "+", "memset", "(", "cap", "_", "int", ",", "0", ",", "sizeof", "(", "cap", "_", "int", ")", ")", ";", "<nl>", "+", "memset", "(", "cap", "_", "dst", ",", "0", ",", "sizeof", "(", "cap", "_", "dst", ")", ")", ";", "<nl>", "<nl>", "if", "(", "sscanf", "(", "line", ",", "\"", "%", "9d", ".", "%", "9d", ":", "%", "15", "[", "a", "-", "z0", "-", "9", "/", ":", ".", "-", "]", "(", "%", "1", "[", "io", "]", ")", "len", "=", "%", "9d", ":", "%", "12s", "-", ">", "%", "12s", "/", "\"", ",", "<nl>", "&", "sec", ",", "&", "dsec", ",", "cap", "_", "int", ",", "direction", ",", "&", "pkt", "_", "len", ",", "cap", "_", "src", ",", "cap", "_", "dst", ")", "<", "5", ")", "{", "<nl>"], "docstring_tokens": ["netscreen", "c", "Suppress", "compiler", "warnings", "on", "Windows"]}
{"code_tokens": ["*", "the", "data", "of", "a", "backing", "tvbuff", ",", "or", "can", "be", "a", "composite", "of", "<nl>", "*", "other", "tvbuffs", ".", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "tvbuff", ".", "c", ",", "v", "1", ".", "63", "2004", "/", "05", "/", "06", "17", ":", "40", ":", "52", "obiot", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "tvbuff", ".", "c", ",", "v", "1", ".", "64", "2004", "/", "05", "/", "07", "18", ":", "15", ":", "24", "obiot", "Exp", "$", "<nl>", "*", "<nl>", "*", "Copyright", "(", "c", ")", "2000", "by", "Gilbert", "Ramirez", "<", "gram", "@", "alumni", ".", "rice", ".", "edu", ">", "<nl>", "*", "<nl>", "tvb", "_", "uncompress", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "int", "comprlen", ")", "<nl>", "if", "(", "uncompr", "!", "=", "NULL", ")", "{", "<nl>", "uncompr", "_", "tvb", "=", "tvb", "_", "new", "_", "real", "_", "data", "(", "(", "guint8", "*", ")", "uncompr", ",", "bytes", "_", "out", ",", "<nl>", "bytes", "_", "out", ")", ";", "<nl>", "+", "tvb", "_", "set", "_", "free", "_", "cb", "(", "uncompr", "_", "tvb", ",", "g", "_", "free", ")", ";", "<nl>", "}", "<nl>", "g", "_", "free", "(", "compr", ")", ";", "<nl>", "return", "uncompr", "_", "tvb", ";", "<nl>"], "docstring_tokens": ["Memory", "management", "of", "tvb_uncompress", "needs", "tvb_set_free_cb"]}
{"code_tokens": ["emem", "_", "scrub", "_", "memory", "(", "char", "*", "buf", ",", "size", "_", "t", "size", ",", "gboolean", "alloc", ")", "<nl>", "<nl>", "}", "<nl>", "<nl>", "-", "static", "void", "<nl>", "-", "emem", "_", "create", "_", "chunk", "(", "emem", "_", "chunk", "_", "t", "*", "*", "free", "_", "list", ",", "gboolean", "use", "_", "canary", ")", "{", "<nl>", "+", "static", "emem", "_", "chunk", "_", "t", "*", "<nl>", "+", "emem", "_", "create", "_", "chunk", "(", "gboolean", "use", "_", "canary", ")", "{", "<nl>", "#", "if", "defined", "(", "_", "WIN32", ")", "<nl>", "BOOL", "ret", ";", "<nl>", "char", "*", "buf", "_", "end", ",", "*", "prot1", ",", "*", "prot2", ";", "<nl>", "emem", "_", "create", "_", "chunk", "(", "emem", "_", "chunk", "_", "t", "*", "*", "free", "_", "list", ",", "gboolean", "use", "_", "canary", ")", "{", "<nl>", "#", "endif", "/", "*", "_", "WIN32", "/", "USE", "_", "GUARD", "_", "PAGES", "*", "/", "<nl>", "emem", "_", "chunk", "_", "t", "*", "npc", ";", "<nl>", "<nl>", "-", "/", "*", "we", "dont", "have", "any", "free", "data", ",", "so", "we", "must", "allocate", "a", "new", "one", "*", "/", "<nl>", "-", "DISSECTOR", "_", "ASSERT", "(", "!", "*", "free", "_", "list", ")", ";", "<nl>", "-", "<nl>", "npc", "=", "g", "_", "new", "(", "emem", "_", "chunk", "_", "t", ",", "1", ")", ";", "<nl>", "npc", "-", ">", "next", "=", "NULL", ";", "<nl>", "if", "(", "use", "_", "canary", ")", "{", "<nl>", "emem", "_", "create", "_", "chunk", "(", "emem", "_", "chunk", "_", "t", "*", "*", "free", "_", "list", ",", "gboolean", "use", "_", "canary", ")", "{", "<nl>", "else", "<nl>", "npc", "-", ">", "canary", "_", "info", "=", "NULL", ";", "<nl>", "<nl>", "-", "*", "free", "_", "list", "=", "npc", ";", "<nl>", "-", "<nl>", "#", "if", "defined", "(", "_", "WIN32", ")", "<nl>", "/", "*", "<nl>", "*", "MSDN", "documents", "VirtualAlloc", "/", "VirtualProtect", "at", "<nl>", "emem", "_", "create", "_", "chunk", "(", "emem", "_", "chunk", "_", "t", "*", "*", "free", "_", "list", ",", "gboolean", "use", "_", "canary", ")", "{", "<nl>", "#", "endif", "<nl>", "<nl>", "if", "(", "npc", "-", ">", "buf", "=", "=", "NULL", ")", "{", "<nl>", "+", "g", "_", "free", "(", "npc", ")", ";", "<nl>", "THROW", "(", "OutOfMemoryError", ")", ";", "<nl>", "}", "<nl>", "<nl>", "emem", "_", "create", "_", "chunk", "(", "emem", "_", "chunk", "_", "t", "*", "*", "free", "_", "list", ",", "gboolean", "use", "_", "canary", ")", "{", "<nl>", "<nl>", "npc", "-", ">", "amount", "_", "free", "=", "npc", "-", ">", "amount", "_", "free", "_", "init", ";", "<nl>", "npc", "-", ">", "free", "_", "offset", "=", "npc", "-", ">", "free", "_", "offset", "_", "init", ";", "<nl>", "+", "return", "npc", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "*", "<nl>", "emem", "_", "alloc", "_", "chunk", "(", "size", "_", "t", "size", ",", "emem", "_", "header", "_", "t", "*", "mem", ")", "<nl>", "DISSECTOR", "_", "ASSERT", "(", "size", "<", "(", "EMEM", "_", "PACKET", "_", "CHUNK", "_", "SIZE", ">", ">", "2", ")", ")", ";", "<nl>", "<nl>", "if", "(", "!", "mem", "-", ">", "free", "_", "list", ")", "<nl>", "-", "emem", "_", "create", "_", "chunk", "(", "&", "mem", "-", ">", "free", "_", "list", ",", "use", "_", "canary", ")", ";", "<nl>", "+", "mem", "-", ">", "free", "_", "list", "=", "emem", "_", "create", "_", "chunk", "(", "use", "_", "canary", ")", ";", "<nl>", "<nl>", "/", "*", "oops", ",", "we", "need", "to", "allocate", "more", "memory", "to", "serve", "this", "request", "<nl>", "*", "than", "we", "have", "free", ".", "move", "this", "node", "to", "the", "used", "list", "and", "try", "again", "<nl>", "emem", "_", "alloc", "_", "chunk", "(", "size", "_", "t", "size", ",", "emem", "_", "header", "_", "t", "*", "mem", ")", "<nl>", "mem", "-", ">", "used", "_", "list", "=", "npc", ";", "<nl>", "<nl>", "if", "(", "!", "mem", "-", ">", "free", "_", "list", ")", "<nl>", "-", "emem", "_", "create", "_", "chunk", "(", "&", "mem", "-", ">", "free", "_", "list", ",", "use", "_", "canary", ")", ";", "<nl>", "+", "mem", "-", ">", "free", "_", "list", "=", "emem", "_", "create", "_", "chunk", "(", "use", "_", "canary", ")", ";", "<nl>", "}", "<nl>", "<nl>", "free", "_", "list", "=", "mem", "-", ">", "free", "_", "list", ";", "<nl>"], "docstring_tokens": ["From", "Jakub", "Zawadzki"]}
{"code_tokens": ["dissect", "_", "cat", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "break", ";", "<nl>", "case", "0x05", ":", "/", "*", "alpha", "identifier", "*", "/", "<nl>", "break", ";", "<nl>", "+", "case", "0x06", ":", "/", "*", "address", "*", "/", "<nl>", "+", "de", "_", "cld", "_", "party", "_", "bcd", "_", "num", "(", "tvb", ",", "elem", "_", "tree", ",", "pinfo", ",", "pos", ",", "len", ",", "NULL", ",", "0", ")", ";", "<nl>", "+", "break", ";", "<nl>", "case", "0x0b", ":", "/", "*", "sms", "tpdu", "*", "/", "<nl>", "new", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "pos", ",", "len", ",", "len", ")", ";", "<nl>", "if", "(", "new", "_", "tvb", ")", "{", "<nl>"], "docstring_tokens": ["Dissect", "comprehension", "tlv", "address", "object"]}
{"code_tokens": ["static", "const", "value", "_", "string", "families", "[", "]", "=", "{", "<nl>", "<nl>", "#", "define", "PSIZE", "(", "a", ")", "(", "(", "(", "a", ")", "+", "7", ")", "/", "(", "8", ")", ")", "<nl>", "<nl>", "-", "static", "void", "<nl>", "+", "static", "int", "<nl>", "dissect", "_", "zebra", "_", "request", "(", "proto", "_", "tree", "*", "tree", ",", "gboolean", "request", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "int", "offset", ",", "guint16", "len", ",", "guint8", "command", ")", "<nl>", "{", "<nl>", "dissect", "_", "zebra", "_", "request", "(", "proto", "_", "tree", "*", "tree", ",", "gboolean", "request", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "/", "*", "Not", "yet", "implemeted", "in", "ZEBRA", "*", "/", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "return", "offset", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "<nl>"], "docstring_tokens": ["Fix", "some", "Dead", "Store", "Dead", "assignement", "Dead", "increment", "Warning", "found", "by", "Clang"]}
{"code_tokens": ["WSLUA", "_", "METAMETHOD", "Dir", "_", "_", "call", "(", "lua", "_", "State", "*", "L", ")", "{", "<nl>", "const", "gchar", "*", "filename", ";", "<nl>", "const", "char", "*", "ext", ";", "<nl>", "<nl>", "-", "if", "(", "!", "dir", ")", "<nl>", "+", "if", "(", "!", "dir", ")", "{", "<nl>", "luaL", "_", "argerror", "(", "L", ",", "1", ",", "\"", "must", "be", "a", "Dir", "\"", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "!", "dir", "-", ">", "dir", ")", "{", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["Avoid", "a", "possible", "dereference", "of", "null", "pointer"]}
{"code_tokens": ["dissect", "_", "bson", "_", "document", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "guint", "offset", ",", "proto", "_", "tre", "<nl>", "<nl>", "return", "document", "_", "length", ";", "<nl>", "}", "<nl>", "+", "<nl>", "static", "int", "<nl>", "dissect", "_", "mongo", "_", "reply", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "guint", "offset", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "{", "<nl>", "dissect", "_", "mongo", "_", "reply", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "guint", "offset", ",", "proto", "_", "tree", "<nl>", "}", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "+", "<nl>", "static", "int", "<nl>", "dissect", "_", "mongo", "_", "msg", "(", "tvbuff", "_", "t", "*", "tvb", ",", "guint", "offset", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "{", "<nl>", "dissect", "_", "mongo", "_", "kill", "_", "cursors", "(", "tvbuff", "_", "t", "*", "tvb", ",", "guint", "offset", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "}", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "+", "<nl>", "static", "int", "<nl>", "dissect", "_", "mongo", "_", "pdu", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", "_", "U", "_", ")", "<nl>", "{", "<nl>", "proto", "_", "register", "_", "mongo", "(", "void", ")", "<nl>", "<nl>", "proto", "_", "mongo", "=", "proto", "_", "register", "_", "protocol", "(", "\"", "Mongo", "Wire", "Protocol", "\"", ",", "\"", "MONGO", "\"", ",", "\"", "mongo", "\"", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Allow", "dissector", "to", "find", "be", "found", "by", "name", ".", "*", "/", "<nl>", "+", "new", "_", "register", "_", "dissector", "(", "\"", "mongo", "\"", ",", "dissect", "_", "mongo", ",", "proto", "_", "mongo", ")", ";", "<nl>", "+", "<nl>", "proto", "_", "register", "_", "field", "_", "array", "(", "proto", "_", "mongo", ",", "hf", ",", "array", "_", "length", "(", "hf", ")", ")", ";", "<nl>", "proto", "_", "register", "_", "subtree", "_", "array", "(", "ett", ",", "array", "_", "length", "(", "ett", ")", ")", ";", "<nl>", "expert", "_", "mongo", "=", "expert", "_", "register", "_", "protocol", "(", "proto", "_", "mongo", ")", ";", "<nl>"], "docstring_tokens": ["Register", "the", "Mongo", "dissector", "by", "name", "so", "it", "can", "be", "used", "with", "TLS"]}
{"code_tokens": ["static", "gint", "tvb", "_", "skip", "_", "wsp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "gint", "offset", ")", "{", "<nl>", "<nl>", "for", "(", "counter", "=", "offset", ";", "counter", "<", "end", "&", "&", "<nl>", "(", "(", "tempchar", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "counter", ")", ")", "=", "=", "'", "'", "|", "|", "<nl>", "-", "tempchar", "=", "=", "'", "\\", "t", "'", "|", "|", "tempchar", "=", "=", "'", "\\", "n", "'", ")", ";", "counter", "+", "+", ")", ";", "<nl>", "+", "tempchar", "=", "=", "'", "\\", "t", "'", "|", "|", "tempchar", "=", "=", "'", "\\", "n", "'", "|", "|", "tempchar", "=", "=", "'", "\\", "r", "'", ")", ";", "counter", "+", "+", ")", ";", "<nl>", "return", "(", "counter", ")", ";", "<nl>", "}", "<nl>", "static", "gint", "tvb", "_", "skip", "_", "wsp", "_", "return", "(", "tvbuff", "_", "t", "*", "tvb", ",", "gint", "offset", ")", "{", "<nl>", "static", "gint", "tvb", "_", "skip", "_", "wsp", "_", "return", "(", "tvbuff", "_", "t", "*", "tvb", ",", "gint", "offset", ")", "{", "<nl>", "<nl>", "for", "(", "counter", "=", "offset", ";", "counter", ">", "end", "&", "&", "<nl>", "(", "(", "tempchar", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "counter", ")", ")", "=", "=", "'", "'", "|", "|", "<nl>", "-", "tempchar", "=", "=", "'", "\\", "t", "'", "|", "|", "tempchar", "=", "=", "'", "\\", "n", "'", ")", ";", "counter", "-", "-", ")", ";", "<nl>", "+", "tempchar", "=", "=", "'", "\\", "t", "'", "|", "|", "tempchar", "=", "=", "'", "\\", "n", "'", "|", "|", "tempchar", "=", "=", "'", "\\", "r", "'", ")", ";", "counter", "-", "-", ")", ";", "<nl>", "counter", "+", "+", ";", "<nl>", "return", "(", "counter", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "for", "bug", "756", "Handle", "CR", "as", "part", "of", "separator", "as", "well"]}
{"code_tokens": ["dissect", "_", "websocket", "_", "frame", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "voi", "<nl>", "if", "(", "http", "_", "conv", ")", "{", "<nl>", "websocket", "_", "conv", "-", ">", "subprotocol", "=", "http", "_", "conv", "-", ">", "websocket", "_", "protocol", ";", "<nl>", "websocket", "_", "conv", "-", ">", "server", "_", "port", "=", "http", "_", "conv", "-", ">", "server", "_", "port", ";", "<nl>", "-", "websocket", "_", "parse", "_", "extensions", "(", "websocket", "_", "conv", ",", "http", "_", "conv", "-", ">", "websocket", "_", "extensions", ")", ";", "<nl>", "+", "if", "(", "http", "_", "conv", "-", ">", "websocket", "_", "extensions", ")", "{", "<nl>", "+", "websocket", "_", "parse", "_", "extensions", "(", "websocket", "_", "conv", ",", "http", "_", "conv", "-", ">", "websocket", "_", "extensions", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "conversation", "_", "add", "_", "proto", "_", "data", "(", "conv", ",", "proto", "_", "websocket", ",", "websocket", "_", "conv", ")", ";", "<nl>"], "docstring_tokens": ["WebSocket", "check", "websocket_extensions", "pointer", "validity"]}
{"code_tokens": ["dissect", "_", "manolito", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "diss", "<nl>", "4", "+", "length", ",", "str", ",", "\"", "%", "s", "(", "%", "s", ")", ":", "%", "s", "\"", ",", "(", "char", "*", ")", "field", "_", "name", "_", "str", ",", "longname", ",", "str", ")", ";", "<nl>", "offset", "+", "=", "length", ";", "<nl>", "}", "else", "if", "(", "dtype", "=", "=", "MANOLITO", "_", "INTEGER", ")", "{", "<nl>", "+", "gboolean", "len", "_", "ok", "=", "TRUE", ";", "<nl>", "guint64", "n", "=", "0", ";", "<nl>", "<nl>", "/", "*", "integers", "can", "be", "up", "to", "5", "bytes", "*", "/", "<nl>", "dissect", "_", "manolito", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "diss", "<nl>", "case", "1", ":", "<nl>", "n", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "offset", ")", ";", "<nl>", "break", ";", "<nl>", "+", "<nl>", "+", "default", ":", "<nl>", "+", "len", "_", "ok", "=", "FALSE", ";", "<nl>", "}", "<nl>", "<nl>", "-", "ti", "=", "proto", "_", "tree", "_", "add", "_", "uint64", "_", "format", "(", "manolito", "_", "tree", ",", "hf", "_", "manolito", "_", "integer", ",", "tvb", ",", "start", ",", "<nl>", "-", "4", "+", "length", ",", "n", ",", "\"", "%", "s", "(", "%", "s", ")", ":", "%", "\"", "G", "_", "GINT64", "_", "MODIFIER", "\"", "u", "\"", ",", "<nl>", "-", "(", "char", "*", ")", "field", "_", "name", "_", "str", ",", "longname", ",", "n", ")", ";", "<nl>", "+", "if", "(", "len", "_", "ok", ")", "{", "<nl>", "+", "ti", "=", "proto", "_", "tree", "_", "add", "_", "uint64", "_", "format", "(", "manolito", "_", "tree", ",", "hf", "_", "manolito", "_", "integer", ",", "tvb", ",", "start", ",", "<nl>", "+", "4", "+", "length", ",", "n", ",", "\"", "%", "s", "(", "%", "s", ")", ":", "%", "\"", "G", "_", "GINT64", "_", "MODIFIER", "\"", "u", "\"", ",", "<nl>", "+", "(", "char", "*", ")", "field", "_", "name", "_", "str", ",", "longname", ",", "n", ")", ";", "<nl>", "+", "}", "<nl>", "+", "else", "{", "<nl>", "+", "/", "*", "XXX", "-", "expert", "info", "*", "/", "<nl>", "+", "}", "<nl>", "offset", "+", "=", "length", ";", "<nl>", "}", "else", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "expert", "_", "format", "(", "manolito", "_", "tree", ",", "pinfo", ",", "&", "ei", "_", "manolito", "_", "type", ",", "<nl>"], "docstring_tokens": ["manolito", "skip", "integer", "elements", "that", "have", "an", "invalid", "length"]}
{"code_tokens": ["*", "<nl>", "*", "Jochen", "Friedrich", "<", "jochen", "@", "scram", ".", "de", ">", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "zebra", ".", "c", ",", "v", "1", ".", "20", "2002", "/", "01", "/", "24", "09", ":", "20", ":", "54", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "zebra", ".", "c", ",", "v", "1", ".", "21", "2002", "/", "04", "/", "02", "01", ":", "32", ":", "11", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "dissect", "_", "zebra", "_", "request", "(", "proto", "_", "tree", "*", "tree", ",", "gboolean", "request", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "guint32", "prefix4", ";", "<nl>", "guint16", "i", ";", "<nl>", "guint8", "buffer6", "[", "16", "]", ",", "prefixlen", ",", "message", ";", "<nl>", "-", "const", "guint8", "*", "prefix", ";", "<nl>", "proto", "_", "item", "*", "ti", ";", "<nl>", "proto", "_", "tree", "*", "msg", "_", "tree", ";", "<nl>", "<nl>", "dissect", "_", "zebra", "_", "request", "(", "proto", "_", "tree", "*", "tree", ",", "gboolean", "request", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "offset", ",", "1", ",", "prefixlen", ")", ";", "<nl>", "offset", "+", "=", "1", ";", "<nl>", "<nl>", "-", "prefix", "=", "tvb", "_", "get", "_", "ptr", "(", "tvb", ",", "offset", ",", "PSIZE", "(", "prefixlen", ")", ")", ";", "<nl>", "prefix4", "=", "0", ";", "<nl>", "-", "memcpy", "(", "&", "prefix4", ",", "prefix", ",", "<nl>", "+", "tvb", "_", "memcpy", "(", "tvb", ",", "(", "guint8", "*", ")", "&", "prefix4", ",", "offset", ",", "<nl>", "MIN", "(", "(", "unsigned", ")", "PSIZE", "(", "prefixlen", ")", ",", "sizeof", "prefix4", ")", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "ipv4", "(", "tree", ",", "hf", "_", "zebra", "_", "prefix4", ",", "<nl>", "tvb", ",", "offset", ",", "PSIZE", "(", "prefixlen", ")", ",", "prefix4", ")", ";", "<nl>", "dissect", "_", "zebra", "_", "request", "(", "proto", "_", "tree", "*", "tree", ",", "gboolean", "request", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "offset", ",", "1", ",", "prefixlen", ")", ";", "<nl>", "offset", "+", "=", "1", ";", "<nl>", "<nl>", "-", "prefix", "=", "tvb", "_", "get", "_", "ptr", "(", "tvb", ",", "offset", ",", "PSIZE", "(", "prefixlen", ")", ")", ";", "<nl>", "memset", "(", "buffer6", ",", "'", "\\", "0", "'", ",", "sizeof", "buffer6", ")", ";", "<nl>", "-", "memcpy", "(", "buffer6", ",", "prefix", ",", "<nl>", "+", "tvb", "_", "memcpy", "(", "tvb", ",", "buffer6", ",", "offset", ",", "<nl>", "MIN", "(", "(", "unsigned", ")", "PSIZE", "(", "prefixlen", ")", ",", "sizeof", "buffer6", ")", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "ipv6", "(", "tree", ",", "hf", "_", "zebra", "_", "prefix6", ",", "<nl>", "tvb", ",", "offset", ",", "PSIZE", "(", "prefixlen", ")", ",", "buffer6", ")", ";", "<nl>"], "docstring_tokens": ["Use", "tvb_memcpy", "not", "tvb_get_ptr", "followed", "by", "memcpy"]}
{"code_tokens": ["int", "ieee80211", "_", "radiotap", "_", "iterator", "_", "init", "(", "<nl>", "<nl>", "/", "*", "find", "payload", "start", "allowing", "for", "extended", "bitmap", "(", "s", ")", "*", "/", "<nl>", "if", "(", "iterator", "-", ">", "_", "bitmap", "_", "shifter", "&", "(", "1", "<", "<", "IEEE80211", "_", "RADIOTAP", "_", "EXT", ")", ")", "{", "<nl>", "+", "if", "(", "!", "ITERATOR", "_", "VALID", "(", "iterator", ",", "sizeof", "(", "guint32", ")", ")", ")", "<nl>", "+", "return", "-", "EINVAL", ";", "<nl>", "while", "(", "get", "_", "unaligned", "_", "le32", "(", "iterator", "-", ">", "_", "arg", ")", "&", "<nl>", "(", "1", "<", "<", "IEEE80211", "_", "RADIOTAP", "_", "EXT", ")", ")", "{", "<nl>", "iterator", "-", ">", "_", "arg", "+", "=", "sizeof", "(", "guint32", ")", ";", "<nl>"], "docstring_tokens": ["Add", "another", "check", "to", "radiotap", "iter", "initialization", "to", "catch", "another", "out", "of", "bounds"]}
{"code_tokens": ["gboolean", "win32", "_", "save", "_", "as", "_", "statstree", "(", "HWND", "h", "_", "wnd", ",", "GString", "*", "file", "_", "name", ",", "int", "*", "file", "_", "type", ")", "<nl>", "return", "gsfn", "_", "ok", ";", "<nl>", "}", "<nl>", "<nl>", "-", "<nl>", "+", "<nl>", "gboolean", "<nl>", "win32", "_", "export", "_", "specified", "_", "packets", "_", "file", "(", "HWND", "h", "_", "wnd", ",", "capture", "_", "file", "*", "cf", ",", "<nl>", "GString", "*", "file", "_", "name", ",", "<nl>", "win32", "_", "export", "_", "sslkeys", "_", "file", "(", "HWND", "h", "_", "wnd", ")", "{", "<nl>", "OPENFILENAME", "*", "ofn", ";", "<nl>", "TCHAR", "file", "_", "name", "[", "MAX", "_", "PATH", "]", "=", "_", "T", "(", "\"", "\"", ")", ";", "<nl>", "char", "*", "dirname", ";", "<nl>", "-", "gchar", "*", "keylist", ";", "<nl>", "+", "gchar", "*", "keylist", "=", "NULL", ";", "<nl>", "char", "*", "file", "_", "name8", ";", "<nl>", "int", "fd", ";", "<nl>", "int", "ofnsize", ";", "<nl>"], "docstring_tokens": ["Fix", "Visual", "Studio", "Code", "Analysis", "warning", "C6001", "Using", "uninitialized", "memory", "keylist"]}
{"code_tokens": ["proto", "_", "reg", "_", "handoff", "_", "fabricpath", "(", "void", ")", "<nl>", "/", "*", "<nl>", "dissector", "_", "handle", "_", "t", "fp", "_", "handle", ";", "<nl>", "fp", "_", "handle", "=", "new", "_", "create", "_", "dissector", "_", "handle", "(", "dissect", "_", "fp", ",", "proto", "_", "fp", ")", ";", "<nl>", "-", "dissector", "_", "add", "(", "\"", "ethertype", "\"", ",", "ETHERTYPE", "_", "DCE", ",", "fp", "_", "handle", ")", ";", "<nl>", "+", "dissector", "_", "add", "_", "uint", "(", "\"", "ethertype", "\"", ",", "ETHERTYPE", "_", "DCE", ",", "fp", "_", "handle", ")", ";", "<nl>", "*", "/", "<nl>", "static", "gboolean", "prefs", "_", "initialized", "=", "FALSE", ";", "<nl>"], "docstring_tokens": ["Update", "commented", "out", "code", "to", "reflect", "the", "new", "reality"]}
{"code_tokens": ["do", "_", "simple", "_", "message", "_", "box", "(", "ESD", "_", "TYPE", "_", "E", "type", ",", "gboolean", "*", "notagain", ",", "<nl>", "if", "(", "notagain", "!", "=", "NULL", ")", "{", "<nl>", "checkbox", "=", "gtk", "_", "check", "_", "button", "_", "new", "_", "with", "_", "label", "(", "\"", "Don", "'", "t", "show", "this", "message", "again", ".", "\"", ")", ";", "<nl>", "gtk", "_", "container", "_", "set", "_", "border", "_", "width", "(", "GTK", "_", "CONTAINER", "(", "checkbox", ")", ",", "12", ")", ";", "<nl>", "-", "gtk", "_", "box", "_", "pack", "_", "start", "(", "GTK", "_", "BOX", "(", "gtk", "_", "message", "_", "dialog", "_", "get", "_", "message", "_", "area", "(", "GTK", "_", "MESSAGE", "_", "DIALOG", "(", "msg", "_", "dialog", ")", ")", ")", ",", "checkbox", ",", "<nl>", "-", "TRUE", ",", "TRUE", ",", "0", ")", ";", "<nl>", "+", "gtk", "_", "box", "_", "pack", "_", "start", "(", "GTK", "_", "BOX", "(", "gtk", "_", "dialog", "_", "get", "_", "content", "_", "area", "(", "GTK", "_", "DIALOG", "(", "msg", "_", "dialog", ")", ")", ")", ",", "<nl>", "+", "checkbox", ",", "TRUE", ",", "TRUE", ",", "0", ")", ";", "<nl>", "gtk", "_", "widget", "_", "show", "(", "checkbox", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Stuff", "the", "Don", "t", "show", "this", "message", "again", "checkbox", "in", "the", "dialog", "s"]}
{"code_tokens": ["typedef", "struct", "_", "epan", "_", "dissect", "_", "t", "epan", "_", "dissect", "_", "t", ";", "<nl>", "#", "include", "\"", "dfilter", "/", "dfilter", ".", "h", "\"", "<nl>", "<nl>", "/", "*", "init", "the", "whole", "epan", "module", ",", "this", "is", "used", "to", "be", "called", "only", "once", "in", "a", "program", "*", "/", "<nl>", "-", "void", "epan", "_", "init", "(", "void", "(", "*", "register", "_", "all", "_", "protocols", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "-", "void", "(", "*", "register", "_", "all", "_", "handoffs", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "+", "void", "epan", "_", "init", "(", "void", "(", "*", "register", "_", "all", "_", "protocols", "_", "func", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "+", "void", "(", "*", "register", "_", "all", "_", "handoffs", "_", "func", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "register", "_", "cb", "cb", ",", "<nl>", "void", "*", "client", "_", "data", ",", "<nl>", "void", "(", "*", "report", "_", "failure", ")", "(", "const", "char", "*", ",", "va", "_", "list", ")", ",", "mmm", "epan", "/", "epan", ".", "c", "<nl>", "typedef", "struct", "_", "epan", "_", "dissect", "_", "t", "epan", "_", "dissect", "_", "t", ";", "<nl>", "#", "include", "\"", "dfilter", "/", "dfilter", ".", "h", "\"", "<nl>", "<nl>", "/", "*", "init", "the", "whole", "epan", "module", ",", "this", "is", "used", "to", "be", "called", "only", "once", "in", "a", "program", "*", "/", "<nl>", "-", "void", "epan", "_", "init", "(", "void", "(", "*", "register", "_", "all", "_", "protocols", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "-", "void", "(", "*", "register", "_", "all", "_", "handoffs", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "+", "void", "epan", "_", "init", "(", "void", "(", "*", "register", "_", "all", "_", "protocols", "_", "func", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "+", "void", "(", "*", "register", "_", "all", "_", "handoffs", "_", "func", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "register", "_", "cb", "cb", ",", "<nl>", "void", "*", "client", "_", "data", ",", "<nl>", "void", "(", "*", "report", "_", "failure", ")", "(", "const", "char", "*", ",", "va", "_", "list", ")", ",", "<nl>", "epan", "_", "get", "_", "version", "(", "void", ")", "{", "<nl>", "}", "<nl>", "<nl>", "void", "<nl>", "-", "epan", "_", "init", "(", "void", "(", "*", "register", "_", "all", "_", "protocols", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "-", "void", "(", "*", "register", "_", "all", "_", "handoffs", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "+", "epan", "_", "init", "(", "void", "(", "*", "register", "_", "all", "_", "protocols", "_", "func", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "+", "void", "(", "*", "register", "_", "all", "_", "handoffs", "_", "func", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "register", "_", "cb", "cb", ",", "<nl>", "gpointer", "client", "_", "data", ",", "<nl>", "void", "(", "*", "report", "_", "failure", ")", "(", "const", "char", "*", ",", "va", "_", "list", ")", ",", "<nl>", "epan", "_", "init", "(", "void", "(", "*", "register", "_", "all", "_", "protocols", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "data", ")", ",", "<nl>", "tvbuff", "_", "init", "(", ")", ";", "<nl>", "tap", "_", "init", "(", ")", ";", "<nl>", "prefs", "_", "init", "(", ")", ";", "<nl>", "-", "proto", "_", "init", "(", "register", "_", "all", "_", "protocols", ",", "register", "_", "all", "_", "handoffs", ",", "cb", ",", "client", "_", "data", ")", ";", "<nl>", "+", "proto", "_", "init", "(", "register", "_", "all", "_", "protocols", "_", "func", ",", "register", "_", "all", "_", "handoffs", "_", "func", ",", "<nl>", "+", "cb", ",", "client", "_", "data", ")", ";", "<nl>", "packet", "_", "init", "(", ")", ";", "<nl>", "dfilter", "_", "init", "(", ")", ";", "<nl>", "final", "_", "registration", "_", "all", "_", "protocols", "(", ")", ";", "<nl>"], "docstring_tokens": ["Rename", "arguments", "not", "to", "collide", "with", "function", "names", "to", "avoid", "warnings"]}
{"code_tokens": ["capture", "_", "all", "_", "filter", "_", "check", "_", "syntax", "_", "cb", "(", "GtkWidget", "*", "w", "_", "U", "_", ",", "gpointer", "user", "_", "data", "_", "U", "_", ")", "<nl>", "}", "<nl>", "#", "ifdef", "HAVE", "_", "EXTCAP", "<nl>", "/", "*", "Can", "'", "t", "verify", "extcap", "capture", "filters", "*", "/", "<nl>", "-", "if", "(", "device", ".", "if", "_", "info", ".", "extcap", "!", "=", "NULL", ")", "<nl>", "+", "if", "(", "device", ".", "if", "_", "info", ".", "extcap", "!", "=", "NULL", "&", "&", "strlen", "(", "device", ".", "if", "_", "info", ".", "extcap", ")", ">", "0", ")", "<nl>", "continue", ";", "<nl>", "#", "endif", "<nl>", "filter", "_", "text", "=", "gtk", "_", "combo", "_", "box", "_", "text", "_", "get", "_", "active", "_", "text", "(", "GTK", "_", "COMBO", "_", "BOX", "_", "TEXT", "(", "filter", "_", "cm", ")", ")", ";", "<nl>"], "docstring_tokens": ["GTK", "Bugfix", "not", "allowing", "extcap", "capture", "filters", "to", "be", "verified"]}
{"code_tokens": ["static", "expert", "_", "field", "ei", "_", "pn", "_", "io", "_", "error", "_", "code2", "=", "EI", "_", "INIT", ";", "<nl>", "static", "expert", "_", "field", "ei", "_", "pn", "_", "io", "_", "ar", "_", "info", "_", "not", "_", "found", "=", "EI", "_", "INIT", ";", "<nl>", "static", "expert", "_", "field", "ei", "_", "pn", "_", "io", "_", "iocr", "_", "type", "=", "EI", "_", "INIT", ";", "<nl>", "static", "expert", "_", "field", "ei", "_", "pn", "_", "io", "_", "frame", "_", "id", "=", "EI", "_", "INIT", ";", "<nl>", "+", "static", "expert", "_", "field", "ei", "_", "pn", "_", "io", "_", "nr", "_", "of", "_", "tx", "_", "port", "_", "groups", "=", "EI", "_", "INIT", ";", "<nl>", "<nl>", "static", "e", "_", "uuid", "_", "t", "uuid", "_", "pn", "_", "io", "_", "device", "=", "{", "0xDEA00001", ",", "0x6C97", ",", "0x11D1", ",", "{", "0x82", ",", "0x71", ",", "0x00", ",", "0xA0", ",", "0x24", ",", "0x42", ",", "0xDF", ",", "0x7D", "}", "}", ";", "<nl>", "static", "guint16", "ver", "_", "pn", "_", "io", "_", "device", "=", "1", ";", "<nl>", "dissect", "_", "PDIRFrameData", "_", "block", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "<nl>", "offset", "=", "dissect", "_", "dcerpc", "_", "uint8", "(", "tvb", ",", "offset", ",", "pinfo", ",", "sub", "_", "tree", ",", "drep", ",", "<nl>", "hf", "_", "pn", "_", "io", "_", "frame", "_", "details", "_", "reserved", ",", "&", "u8FrameDetails", ")", ";", "<nl>", "/", "*", "TxPortGroup", "*", "/", "<nl>", "-", "offset", "=", "dissect", "_", "dcerpc", "_", "uint8", "(", "tvb", ",", "offset", ",", "pinfo", ",", "ir", "_", "frame", "_", "data", "_", "tree", ",", "drep", ",", "<nl>", "-", "hf", "_", "pn", "_", "io", "_", "nr", "_", "of", "_", "tx", "_", "port", "_", "groups", ",", "&", "u8NumberOfTxPortGroups", ")", ";", "<nl>", "+", "u8NumberOfTxPortGroups", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "sub", "_", "item", "=", "proto", "_", "tree", "_", "add", "_", "uint", "(", "ir", "_", "frame", "_", "data", "_", "tree", ",", "hf", "_", "pn", "_", "io", "_", "nr", "_", "of", "_", "tx", "_", "port", "_", "groups", ",", "<nl>", "+", "tvb", ",", "offset", ",", "1", ",", "u8NumberOfTxPortGroups", ")", ";", "<nl>", "+", "offset", "+", "+", ";", "<nl>", "if", "(", "(", "u8NumberOfTxPortGroups", ">", "21", ")", "|", "|", "(", "(", "u8NumberOfTxPortGroups", "&", "0x1", ")", "!", "=", "1", ")", ")", "{", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "text", "(", "ir", "_", "frame", "_", "data", "_", "tree", ",", "tvb", ",", "offset", "-", "1", ",", "1", ",", "\"", "Not", "allowed", "value", "of", "NumberOfTxPortGroups", "\"", ")", ";", "<nl>", "+", "expert", "_", "add", "_", "info", "(", "pinfo", ",", "sub", "_", "item", ",", "&", "ei", "_", "pn", "_", "io", "_", "nr", "_", "of", "_", "tx", "_", "port", "_", "groups", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "TxPortArray", "*", "/", "<nl>", "proto", "_", "register", "_", "pn", "_", "io", "(", "void", ")", "<nl>", "{", "&", "ei", "_", "pn", "_", "io", "_", "frame", "_", "id", ",", "{", "\"", "pn", "_", "io", ".", "frame", "_", "id", ".", "changed", "\"", ",", "PI", "_", "UNDECODED", ",", "PI", "_", "WARN", ",", "\"", "FrameID", "changed", "\"", ",", "EXPFILL", "}", "}", ",", "<nl>", "{", "&", "ei", "_", "pn", "_", "io", "_", "iocr", "_", "type", ",", "{", "\"", "pn", "_", "io", ".", "iocr", "_", "type", ".", "unknown", "\"", ",", "PI", "_", "UNDECODED", ",", "PI", "_", "WARN", ",", "\"", "IOCRType", "undecoded", "!", "\"", ",", "EXPFILL", "}", "}", ",", "<nl>", "{", "&", "ei", "_", "pn", "_", "io", "_", "localalarmref", ",", "{", "\"", "pn", "_", "io", ".", "localalarmref", ".", "changed", "\"", ",", "PI", "_", "UNDECODED", ",", "PI", "_", "WARN", ",", "\"", "AlarmCRBlockReq", ":", "local", "alarm", "ref", "changed", "\"", ",", "EXPFILL", "}", "}", ",", "<nl>", "+", "{", "&", "ei", "_", "pn", "_", "io", "_", "nr", "_", "of", "_", "tx", "_", "port", "_", "groups", ",", "{", "\"", "pn", "_", "io", ".", "nr", "_", "of", "_", "tx", "_", "port", "_", "groups", ".", "not", "_", "allowed", "\"", ",", "PI", "_", "PROTOCOL", ",", "PI", "_", "WARN", ",", "\"", "Not", "allowed", "value", "of", "NumberOfTxPortGroups", "\"", ",", "EXPFILL", "}", "}", ",", "<nl>", "}", ";", "<nl>", "<nl>", "expert", "_", "module", "_", "t", "*", "expert", "_", "pn", "_", "io", ";", "<nl>"], "docstring_tokens": ["Remove", "proto_tree_add_text", "from", "packet", "dcerpc", "pn", "io", "c"]}
{"code_tokens": ["extern", "int", "dissect", "_", "snmp", "_", "VarBind", "(", "gboolean", "implicit", "_", "tag", "_", "U", "_", ",", "<nl>", "<nl>", "add", "_", "oid", "_", "debug", "_", "subtree", "(", "oid", "_", "info", ",", "pt", "_", "name", ")", ";", "<nl>", "<nl>", "-", "if", "(", "subids", "&", "&", "oid", "_", "matched", "+", "oid", "_", "left", ")", "{", "<nl>", "+", "if", "(", "!", "subids", ")", "{", "<nl>", "+", "proto", "_", "item", "*", "pi", "=", "proto", "_", "tree", "_", "add", "_", "text", "(", "pt", "_", "name", ",", "tvb", ",", "0", ",", "0", ",", "\"", "invalid", "oid", ":", "%", "s", "\"", ",", "oid", "_", "bytes", ")", ";", "<nl>", "+", "pt", "=", "proto", "_", "item", "_", "add", "_", "subtree", "(", "pi", ",", "ett", "_", "decoding", "_", "error", ")", ";", "<nl>", "+", "expert", "_", "add", "_", "info", "_", "format", "(", "actx", "-", ">", "pinfo", ",", "pi", ",", "PI", "_", "MALFORMED", ",", "PI", "_", "WARN", ",", "\"", "invalid", "oid", ":", "%", "s", "\"", ",", "oid", "_", "bytes", ")", ";", "<nl>", "+", "return", "dissect", "_", "unknown", "_", "ber", "(", "actx", "-", ">", "pinfo", ",", "tvb", ",", "name", "_", "offset", ",", "pt", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "if", "(", "oid", "_", "matched", "+", "oid", "_", "left", ")", "{", "<nl>", "oid", "_", "string", "=", "oid", "_", "subid2string", "(", "subids", ",", "oid", "_", "matched", "+", "oid", "_", "left", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Return", "from", "dissect_snmp_VarBind", "when", "detecting", "invalid", "oid"]}
{"code_tokens": ["void", "PacketList", ":", ":", "columnsChanged", "(", ")", "<nl>", "setColumnVisibility", "(", ")", ";", "<nl>", "create", "_", "far", "_", "overlay", "_", "=", "true", ";", "<nl>", "packet", "_", "list", "_", "model", "_", "-", ">", "resetColumns", "(", ")", ";", "<nl>", "+", "applyRecentColumnWidths", "(", ")", ";", "<nl>", "columns", "_", "changed", "_", "=", "false", ";", "<nl>", "}", "<nl>", "<nl>", "void", "PacketList", ":", ":", "setCaptureFile", "(", "capture", "_", "file", "*", "cf", ")", "<nl>", "cap", "_", "file", "_", "=", "cf", ";", "<nl>", "if", "(", "cap", "_", "file", "_", "&", "&", "columns", "_", "changed", "_", ")", "{", "<nl>", "columnsChanged", "(", ")", ";", "<nl>", "-", "applyRecentColumnWidths", "(", ")", ";", "<nl>", "}", "<nl>", "packet", "_", "list", "_", "model", "_", "-", ">", "setCaptureFile", "(", "cf", ")", ";", "<nl>", "create", "_", "near", "_", "overlay", "_", "=", "true", ";", "<nl>"], "docstring_tokens": ["Qt", "Apply", "recent", "column", "widths", "when", "columns", "changed"]}
{"code_tokens": ["str", "_", "ptr", "_", "data", "_", "func", "(", "GtkTreeViewColumn", "*", "column", "_", "U", "_", ",", "<nl>", "GtkTreeModel", "*", "model", ",", "<nl>", "GtkTreeIter", "*", "iter", ",", "<nl>", "gpointer", "user", "_", "data", ")", "<nl>", "-", "{", "<nl>", "+", "{", "<nl>", "const", "gchar", "*", "str", "=", "NULL", ";", "<nl>", "<nl>", "/", "*", "The", "col", "to", "get", "data", "from", "is", "in", "userdata", "*", "/", "<nl>", "str", "_", "ptr", "_", "sort", "_", "func", "(", "GtkTreeModel", "*", "model", ",", "<nl>", "gtk", "_", "tree", "_", "model", "_", "get", "(", "model", ",", "a", ",", "data", "_", "column", ",", "&", "str", "_", "a", ",", "-", "1", ")", ";", "<nl>", "gtk", "_", "tree", "_", "model", "_", "get", "(", "model", ",", "b", ",", "data", "_", "column", ",", "&", "str", "_", "b", ",", "-", "1", ")", ";", "<nl>", "<nl>", "-", "if", "(", "str", "_", "a", "=", "=", "NULL", "|", "|", "str", "_", "b", "=", "=", "NULL", ")", "{", "<nl>", "-", "if", "(", "str", "_", "a", "=", "=", "NULL", "&", "&", "str", "_", "b", "=", "=", "NULL", ")", "<nl>", "-", "return", "0", ";", "<nl>", "+", "if", "(", "str", "_", "a", "=", "=", "str", "_", "b", ")", "{", "<nl>", "+", "/", "*", "it", "'", "s", "worth", "testing", "because", "a", "lot", "of", "row", "point", "to", "<nl>", "+", "the", "same", "data", "*", "/", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "else", "if", "(", "str", "_", "a", "=", "=", "NULL", "|", "|", "str", "_", "b", "=", "=", "NULL", ")", "{", "<nl>", "ret", "=", "(", "str", "_", "a", "=", "=", "NULL", ")", "?", "-", "1", ":", "1", ";", "<nl>", "-", "}", "else", "{", "<nl>", "+", "}", "<nl>", "+", "else", "{", "<nl>", "ret", "=", "g", "_", "ascii", "_", "strcasecmp", "(", "str", "_", "a", ",", "str", "_", "b", ")", ";", "<nl>", "}", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["From", "Didier", "Gautheron"]}
{"code_tokens": ["tvb", "_", "uncompress", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "int", "comprlen", ")", "<nl>", "compr", "=", "tvb", "_", "memdup", "(", "tvb", ",", "offset", ",", "comprlen", ")", ";", "<nl>", "<nl>", "if", "(", "!", "compr", ")", "{", "<nl>", "+", "g", "_", "free", "(", "strm", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "<nl>", "tvb", "_", "uncompress", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "int", "comprlen", ")", "<nl>", "<nl>", "if", "(", "strmbuf", "=", "=", "NULL", ")", "{", "<nl>", "g", "_", "free", "(", "compr", ")", ";", "<nl>", "+", "g", "_", "free", "(", "strm", ")", ";", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["From", "Chris", "Maynard", "free", "up", "the", "z_stream", "we", "ve", "allocated", "before", "failure"]}
{"code_tokens": ["dissect", "_", "usb", "_", "common", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "parent", ",", "<nl>", "guint8", "header", "_", "info", ")", "<nl>", "{", "<nl>", "gint", "offset", "=", "0", ";", "<nl>", "-", "gint", "new", "_", "offset", ";", "<nl>", "int", "endpoint", ";", "<nl>", "gint", "type", "_", "2", "=", "0", ";", "<nl>", "guint8", "urb", "_", "type", ";", "<nl>", "dissect", "_", "usb", "_", "common", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "parent", ",", "<nl>", "default", ":", "<nl>", "/", "*", "Try", "to", "find", "a", "non", "-", "standard", "specific", "dissector", "*", "/", "<nl>", "if", "(", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", "!", "=", "0", ")", "{", "<nl>", "-", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "-", "new", "_", "offset", "=", "try", "_", "dissect", "_", "next", "_", "protocol", "(", "tree", ",", "parent", ",", "next", "_", "tvb", ",", "offset", ",", "pinfo", ",", "usb", "_", "conv", "_", "info", ",", "type", "_", "2", ",", "urb", "_", "type", ",", "NULL", ",", "NULL", ")", ";", "<nl>", "-", "if", "(", "new", "_", "offset", ">", "offset", ")", "<nl>", "-", "offset", "=", "new", "_", "offset", ";", "<nl>", "+", "gint", "new", "_", "offset", ";", "<nl>", "+", "next", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "new", "_", "offset", "=", "try", "_", "dissect", "_", "next", "_", "protocol", "(", "tree", ",", "parent", ",", "next", "_", "tvb", ",", "offset", ",", "pinfo", ",", "usb", "_", "conv", "_", "info", ",", "type", "_", "2", ",", "urb", "_", "type", ",", "NULL", ",", "NULL", ")", ";", "<nl>", "+", "if", "(", "new", "_", "offset", ">", "offset", ")", "<nl>", "+", "offset", "=", "new", "_", "offset", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", "!", "=", "0", ")", "{", "<nl>"], "docstring_tokens": ["limit", "the", "scope", "of", "new_offset"]}
{"code_tokens": ["capture", "_", "loop", "_", "start", "(", "capture", "_", "options", "*", "capture", "_", "opts", ",", "gboolean", "*", "stats", "_", "known", ",", "struct", "<nl>", "/", "*", "We", "haven", "'", "t", "yet", "gotten", "the", "capture", "statistics", ".", "*", "/", "<nl>", "*", "stats", "_", "known", "=", "FALSE", ";", "<nl>", "<nl>", "-", "#", "ifndef", "_", "WIN32", "<nl>", "+", "#", "ifdef", "_", "WIN32", "<nl>", "+", "/", "*", "get", "the", "initial", "state", "of", "the", "signal", "pipe", "*", "/", "<nl>", "+", "/", "*", "(", "if", "it", "'", "s", "already", "stopped", "here", ",", "ignore", "it", "later", ")", "*", "/", "<nl>", "+", "signal", "_", "pipe", "_", "enabled", "=", "!", "signal", "_", "pipe", "_", "stopped", "(", ")", ";", "<nl>", "+", "#", "else", "<nl>", "/", "*", "<nl>", "*", "Catch", "SIGUSR1", ",", "so", "that", "we", "exit", "cleanly", "if", "the", "parent", "process", "<nl>", "*", "kills", "us", "with", "it", "due", "to", "the", "user", "selecting", "\"", "Capture", "-", ">", "Stop", "\"", ".", "<nl>", "capture", "_", "loop", "_", "start", "(", "capture", "_", "options", "*", "capture", "_", "opts", ",", "gboolean", "*", "stats", "_", "known", ",", "struct", "<nl>", "signal", "(", "SIGUSR1", ",", "capture", "_", "loop", "_", "stop", "_", "signal", "_", "handler", ")", ";", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "/", "*", "get", "the", "initial", "state", "of", "the", "signal", "pipe", "*", "/", "<nl>", "-", "/", "*", "(", "if", "it", "'", "s", "already", "stopped", "here", ",", "ignore", "it", "later", ")", "*", "/", "<nl>", "-", "signal", "_", "pipe", "_", "enabled", "=", "!", "signal", "_", "pipe", "_", "stopped", "(", ")", ";", "<nl>", "-", "<nl>", "g", "_", "log", "(", "LOG", "_", "DOMAIN", "_", "CAPTURE", "_", "CHILD", ",", "G", "_", "LOG", "_", "LEVEL", "_", "INFO", ",", "\"", "Capture", "child", "starting", ".", ".", ".", "\"", ")", ";", "<nl>", "capture", "_", "opts", "_", "log", "(", "LOG", "_", "DOMAIN", "_", "CAPTURE", "_", "CHILD", ",", "G", "_", "LOG", "_", "LEVEL", "_", "DEBUG", ",", "capture", "_", "opts", ")", ";", "<nl>"], "docstring_tokens": ["I", "ve", "forgot", "to", "put", "one", "line", "under", "_WIN32", "should", "fix", "the", "unix", "build"]}
{"code_tokens": ["/", "*", "proto", ".", "c", "<nl>", "*", "Routines", "for", "protocol", "tree", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "proto", ".", "c", ",", "v", "1", ".", "59", "2000", "/", "04", "/", "04", "06", ":", "17", ":", "29", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "proto", ".", "c", ",", "v", "1", ".", "60", "2000", "/", "04", "/", "04", "17", ":", "07", ":", "07", "gram", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "zing", ".", "org", ">", "<nl>", "proto", "_", "tree", "_", "add", "_", "bytes", "_", "format", "(", "proto", "_", "tree", "*", "tree", ",", "int", "hfindex", ",", "gint", "start", ",", "gint", "leng", "<nl>", "static", "void", "<nl>", "proto", "_", "tree", "_", "set", "_", "bytes", "(", "field", "_", "info", "*", "fi", ",", "const", "guint8", "*", "start", "_", "ptr", ",", "gint", "length", ")", "<nl>", "{", "<nl>", "-", "<nl>", "+", "g", "_", "assert", "(", "start", "_", "ptr", "!", "=", "NULL", ")", ";", "<nl>", "+", "g", "_", "assert", "(", "length", ">", "0", ")", ";", "<nl>", "/", "*", "This", "g", "_", "malloc", "'", "ed", "memory", "is", "freed", "in", "<nl>", "proto", "_", "tree", "_", "free", "_", "node", "(", ")", "*", "/", "<nl>", "fi", "-", ">", "value", ".", "bytes", "=", "g", "_", "malloc", "(", "length", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "field", "_", "info", "(", "int", "hfindex", ",", "gint", "start", ",", "gint", "length", ",", "int", "visible", ")", "<nl>", "<nl>", "fi", "=", "g", "_", "mem", "_", "chunk", "_", "alloc", "(", "gmc", "_", "field", "_", "info", ")", ";", "<nl>", "<nl>", "+", "g", "_", "assert", "(", "hfindex", ">", "=", "0", "&", "&", "hfindex", "<", "gpa", "_", "hfinfo", "-", ">", "len", ")", ";", "<nl>", "fi", "-", ">", "hfinfo", "=", "proto", "_", "registrar", "_", "get", "_", "nth", "(", "hfindex", ")", ";", "<nl>", "g", "_", "assert", "(", "fi", "-", ">", "hfinfo", "!", "=", "NULL", ")", ";", "<nl>", "fi", "-", ">", "start", "=", "start", ";", "<nl>"], "docstring_tokens": ["Add", "assertions", "from", "Ben", "Fowler", "wapdev", "leedsnet", "com"]}
{"code_tokens": ["unescape", "_", "and", "_", "tvbuffify", "_", "telnet", "_", "option", "(", "packet", "_", "info", "*", "pinfo", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offs", "<nl>", "return", "NULL", ";", "<nl>", "<nl>", "spos", "=", "tvb", "_", "get", "_", "ptr", "(", "tvb", ",", "offset", ",", "len", ")", ";", "<nl>", "-", "/", "*", "XXX", "we", "never", "g", "_", "free", "(", ")", "this", "one", ".", "This", "is", "done", "automagically", "<nl>", "-", "when", "the", "parent", "tvb", "is", "destroyed", "?", "<nl>", "-", "*", "/", "<nl>", "buf", "=", "g", "_", "malloc", "(", "len", ")", ";", "<nl>", "dpos", "=", "buf", ";", "<nl>", "skip", "=", "0", ";", "<nl>", "unescape", "_", "and", "_", "tvbuffify", "_", "telnet", "_", "option", "(", "packet", "_", "info", "*", "pinfo", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offs", "<nl>", "l", "-", "-", ";", "<nl>", "}", "<nl>", "krb5", "_", "tvb", "=", "tvb", "_", "new", "_", "real", "_", "data", "(", "buf", ",", "len", "-", "skip", ",", "len", "-", "skip", ")", ";", "<nl>", "+", "tvb", "_", "set", "_", "free", "_", "cb", "(", "krb5", "_", "tvb", ",", "g", "_", "free", ")", ";", "<nl>", "tvb", "_", "set", "_", "child", "_", "real", "_", "data", "_", "tvbuff", "(", "tvb", ",", "krb5", "_", "tvb", ")", ";", "<nl>", "add", "_", "new", "_", "data", "_", "source", "(", "pinfo", ",", "krb5", "_", "tvb", ",", "\"", "Unpacked", "Telnet", "Uption", "\"", ")", ";", "<nl>"], "docstring_tokens": ["When", "we", "create", "a", "new", "tvb", "make", "sure", "the", "memory", "is", "freed", "at", "some", "point"]}
{"code_tokens": ["check", "_", "payload", "_", "crc", "_", "for", "_", "heur", "(", "tvbuff", "_", "t", "*", "tvb", ",", "guint16", "header", "_", "length", ")", "<nl>", "static", "guint32", "<nl>", "generate", "_", "ue", "_", "id", "_", "for", "_", "heur", "(", "packet", "_", "info", "*", "pinfo", ")", "<nl>", "{", "<nl>", "-", "if", "(", "pinfo", "-", ">", "ptype", "!", "=", "PT", "_", "UDP", "&", "&", "pinfo", "-", ">", "src", ".", "type", "=", "=", "AT", "_", "IPv4", "&", "&", "pinfo", "-", ">", "dst", ".", "type", "=", "=", "AT", "_", "IPv4", ")", "{", "<nl>", "+", "if", "(", "pinfo", "-", ">", "ptype", "=", "=", "PT", "_", "UDP", "&", "&", "pinfo", "-", ">", "src", ".", "type", "=", "=", "AT", "_", "IPv4", "&", "&", "pinfo", "-", ">", "dst", ".", "type", "=", "=", "AT", "_", "IPv4", ")", "{", "<nl>", "/", "*", "This", "logic", "assumes", "FP", "is", "delivered", "over", "IP", "/", "UDP", "*", "/", "<nl>", "/", "*", "Will", "return", "the", "same", "ID", "even", "if", "the", "address", "and", "ports", "are", "reversed", "*", "/", "<nl>"], "docstring_tokens": ["UMTS", "FP", "Fix", "bug", "in", "heuristic", "dissectors"]}
{"code_tokens": ["Dot11DecryptDecryptWPABroadcastKey", "(", "const", "EAPOL", "_", "RSN", "_", "KEY", "*", "pEAPKey", ",", "guint8", "*", "decrypt", "<nl>", "DEBUG", "_", "DUMP", "(", "\"", "FullDecrKey", ":", "\"", ",", "new", "_", "key", ",", "32", ")", ";", "<nl>", "<nl>", "if", "(", "gcry", "_", "cipher", "_", "open", "(", "&", "rc4", "_", "handle", ",", "GCRY", "_", "CIPHER", "_", "ARCFOUR", ",", "GCRY", "_", "CIPHER", "_", "MODE", "_", "STREAM", ",", "0", ")", ")", "{", "<nl>", "+", "g", "_", "free", "(", "szEncryptedKey", ")", ";", "<nl>", "return", "DOT11DECRYPT", "_", "RET", "_", "NO", "_", "VALID", "_", "HANDSHAKE", ";", "<nl>", "}", "<nl>", "if", "(", "gcry", "_", "cipher", "_", "setkey", "(", "rc4", "_", "handle", ",", "new", "_", "key", ",", "sizeof", "(", "new", "_", "key", ")", ")", ")", "{", "<nl>", "gcry", "_", "cipher", "_", "close", "(", "rc4", "_", "handle", ")", ";", "<nl>", "+", "g", "_", "free", "(", "szEncryptedKey", ")", ";", "<nl>", "return", "DOT11DECRYPT", "_", "RET", "_", "NO", "_", "VALID", "_", "HANDSHAKE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["dot11decrypt", "free", "memory", "on", "exit", "found", "by", "clang"]}
{"code_tokens": ["static", "const", "char", "*", "ciphers", "[", "]", "=", "{", "<nl>", "\"", "RC2", "\"", ",", "<nl>", "\"", "IDEA", "\"", ",", "<nl>", "\"", "AES", "\"", ",", "<nl>", "-", "\"", "AES256", "\"", "<nl>", "+", "\"", "AES256", "\"", ",", "<nl>", "+", "\"", "*", "UNKNOWN", "*", "\"", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "look", "in", "openssl", "/", "ssl", "/", "ssl", "_", "lib", ".", "c", "for", "a", "complete", "list", "of", "available", "cipersuite", "*", "/", "<nl>", "ssl", "_", "create", "_", "decoder", "(", "SslDecoder", "*", "dec", ",", "SslCipherSuite", "*", "cipher", "_", "suite", ",", "<nl>", "}", "<nl>", "if", "(", "ciph", "=", "=", "0", ")", "{", "<nl>", "ssl", "_", "debug", "_", "printf", "(", "\"", "ssl", "_", "create", "_", "decoder", "can", "'", "t", "find", "cipher", "%", "s", "\\", "n", "\"", ",", "<nl>", "-", "ciphers", "[", "cipher", "_", "suite", "-", ">", "enc", "-", "0x30", "]", ")", ";", "<nl>", "+", "ciphers", "[", "(", "cipher", "_", "suite", "-", ">", "enc", "-", "0x30", ")", ">", "7", "?", "7", ":", "(", "cipher", "_", "suite", "-", ">", "enc", "-", "0x30", ")", "]", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Avoid", "passing", "junk", "to", "ssl_debug_printf", "fmt", "if", "a", "weird", "cipher", "is", "found"]}
{"code_tokens": ["dissect", "_", "ntlmssp", "_", "payload", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "voi", "<nl>", "/", "*", "Encrypted", "body", "*", "/", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "ntlmssp", "_", "tree", ",", "hf", "_", "ntlmssp", "_", "verf", "_", "body", ",", "<nl>", "tvb", ",", "offset", ",", "ntlm", "_", "signature", "_", "size", "+", "ntlm", "_", "seq", "_", "size", ",", "ENC", "_", "NA", ")", ";", "<nl>", "+", "memset", "(", "key", ",", "0", ",", "sizeof", "(", "key", ")", ")", ";", "<nl>", "tvb", "_", "memcpy", "(", "tvb", ",", "key", ",", "offset", ",", "ntlm", "_", "signature", "_", "size", "+", "ntlm", "_", "seq", "_", "size", ")", ";", "<nl>", "/", "*", "Try", "to", "decrypt", "*", "/", "<nl>", "decrypt", "_", "data", "_", "payload", "(", "tvb", ",", "offset", "+", "(", "ntlm", "_", "signature", "_", "size", "+", "ntlm", "_", "seq", "_", "size", ")", ",", "encrypted", "_", "block", "_", "length", "-", "(", "ntlm", "_", "signature", "_", "size", "+", "ntlm", "_", "seq", "_", "size", ")", ",", "pinfo", ",", "ntlmssp", "_", "tree", ",", "key", ")", ";", "<nl>"], "docstring_tokens": ["Zero", "the", "key", "in", "ntlmssp", "because", "we", "don", "t", "otherwise", "fill", "all", "of", "it", "I", "suspect"]}
{"code_tokens": ["/", "*", "packet", "-", "icmpv6", ".", "c", "<nl>", "*", "Routines", "for", "ICMPv6", "packet", "disassembly", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "icmpv6", ".", "c", ",", "v", "1", ".", "57", "2002", "/", "01", "/", "09", "19", ":", "13", ":", "03", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "icmpv6", ".", "c", ",", "v", "1", ".", "58", "2002", "/", "01", "/", "10", "09", ":", "49", ":", "35", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "again", ":", "<nl>", "ND", "_", "OPT", "_", "MAP", "_", "FLAG", "_", "P", ",", "8", ",", "\"", "P", "\"", ",", "\"", "No", "P", "\"", ")", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "icmp6opt", "_", "tree", ",", "tvb", ",", "<nl>", "offset", "+", "offsetof", "(", "struct", "nd", "_", "opt", "_", "map", "_", "info", ",", "nd", "_", "opt", "_", "map", "_", "lifetime", ")", ",", "<nl>", "-", "4", ",", "\"", "Lifetime", ":", "%", "d", "\"", ",", "pntohl", "(", "&", "map", "-", ">", "nd", "_", "opt", "_", "map", "_", "lifetime", ")", ")", ";", "<nl>", "+", "4", ",", "\"", "Lifetime", ":", "%", "u", "\"", ",", "pntohl", "(", "&", "map", "-", ">", "nd", "_", "opt", "_", "map", "_", "lifetime", ")", ")", ";", "<nl>", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "icmp6opt", "_", "tree", ",", "tvb", ",", "<nl>", "offset", "+", "offsetof", "(", "struct", "nd", "_", "opt", "_", "map", "_", "info", ",", "nd", "_", "opt", "_", "map", "_", "address", ")", ",", "16", ",", "<nl>"], "docstring_tokens": ["The", "filetime", "is", "an", "unsigned", "quantity", "so", "display", "it", "with", "u", "as", "per"]}
{"code_tokens": ["void", "UatDialog", ":", ":", "on", "_", "uatTreeWidget", "_", "itemActivated", "(", "QTreeWidgetItem", "*", "item", ",", "int", "column", "<nl>", "case", "PT", "_", "TXTMOD", "_", "FILENAME", ":", "<nl>", "{", "<nl>", "QString", "cur", "_", "path", "=", "fieldString", "(", "row", ",", "column", ")", ";", "<nl>", "-", "const", "QByteArray", "&", "new", "_", "path", "=", "QFileDialog", ":", ":", "getSaveFileName", "(", "this", ",", "<nl>", "+", "const", "QByteArray", "&", "new", "_", "path", "=", "QFileDialog", ":", ":", "getOpenFileName", "(", "this", ",", "<nl>", "field", "-", ">", "title", ",", "cur", "_", "path", ",", "QString", "(", ")", ",", "NULL", ",", "fd", "_", "opt", ")", ".", "toUtf8", "(", ")", ";", "<nl>", "field", "-", ">", "cb", ".", "set", "(", "rec", ",", "new", "_", "path", ".", "constData", "(", ")", ",", "(", "unsigned", ")", "new", "_", "path", ".", "size", "(", ")", ",", "field", "-", ">", "cbdata", ".", "set", ",", "field", "-", ">", "fld", "_", "data", ")", ";", "<nl>", "updateItem", "(", "*", "item", ")", ";", "mmm", "epan", "/", "uat", ".", "h", "<nl>", "void", "UatDialog", ":", ":", "on", "_", "uatTreeWidget", "_", "itemActivated", "(", "QTreeWidgetItem", "*", "item", ",", "int", "column", "<nl>", "case", "PT", "_", "TXTMOD", "_", "FILENAME", ":", "<nl>", "{", "<nl>", "QString", "cur", "_", "path", "=", "fieldString", "(", "row", ",", "column", ")", ";", "<nl>", "-", "const", "QByteArray", "&", "new", "_", "path", "=", "QFileDialog", ":", ":", "getSaveFileName", "(", "this", ",", "<nl>", "+", "const", "QByteArray", "&", "new", "_", "path", "=", "QFileDialog", ":", ":", "getOpenFileName", "(", "this", ",", "<nl>", "field", "-", ">", "title", ",", "cur", "_", "path", ",", "QString", "(", ")", ",", "NULL", ",", "fd", "_", "opt", ")", ".", "toUtf8", "(", ")", ";", "<nl>", "field", "-", ">", "cb", ".", "set", "(", "rec", ",", "new", "_", "path", ".", "constData", "(", ")", ",", "(", "unsigned", ")", "new", "_", "path", ".", "size", "(", ")", ",", "field", "-", ">", "cbdata", ".", "set", ",", "field", "-", ">", "fld", "_", "data", ")", ";", "<nl>", "updateItem", "(", "*", "item", ")", ";", "<nl>", "static", "void", "basename", "#", "#", "_", "#", "#", "field", "_", "name", "#", "#", "_", "tostr", "_", "cb", "(", "void", "*", "rec", ",", "const", "char", "*", "*", "out", "<nl>", "*", "/", "<nl>", "#", "define", "UAT", "_", "FILENAME", "_", "CB", "_", "DEF", "(", "basename", ",", "field", "_", "name", ",", "rec", "_", "t", ")", "UAT", "_", "CSTRING", "_", "CB", "_", "DEF", "(", "basename", ",", "field", "_", "name", ",", "rec", "_", "t", ")", "<nl>", "<nl>", "+", "/", "*", "XXX", "UAT", "_", "FLD", "_", "FILENAME", "is", "currently", "unused", ".", "*", "/", "<nl>", "#", "define", "UAT", "_", "FLD", "_", "FILENAME", "(", "basename", ",", "field", "_", "name", ",", "title", ",", "desc", ")", "\\", "<nl>", "{", "#", "field", "_", "name", ",", "title", ",", "PT", "_", "TXTMOD", "_", "FILENAME", ",", "{", "uat", "_", "fld", "_", "chk", "_", "str", ",", "basename", "#", "#", "_", "#", "#", "field", "_", "name", "#", "#", "_", "set", "_", "cb", ",", "basename", "#", "#", "_", "#", "#", "field", "_", "name", "#", "#", "_", "tostr", "_", "cb", "}", ",", "{", "0", ",", "0", ",", "0", "}", ",", "0", ",", "desc", ",", "FLDFILL", "}", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Both", "the", "Qt", "and", "GTK", "+", "UIs", "assume", "that", "we", "'", "re", "opening", "a", "preexisting", "<nl>", "+", "*", "file", ".", "We", "might", "want", "to", "split", "the", ".", ".", ".", "_", "FILENAME", "defines", "into", "<nl>", "+", "*", ".", ".", ".", "_", "FILE", "_", "OPEN", "and", ".", ".", ".", "_", "FILE", "_", "SAVE", "if", "we", "ever", "need", "to", "specify", "a", "<nl>", "+", "*", "file", "that", "we", "'", "re", "creating", ".", "<nl>", "+", "*", "/", "<nl>", "#", "define", "UAT", "_", "FLD", "_", "FILENAME", "_", "OTHER", "(", "basename", ",", "field", "_", "name", ",", "title", ",", "chk", ",", "desc", ")", "\\", "<nl>", "{", "#", "field", "_", "name", ",", "title", ",", "PT", "_", "TXTMOD", "_", "FILENAME", ",", "{", "chk", ",", "basename", "#", "#", "_", "#", "#", "field", "_", "name", "#", "#", "_", "set", "_", "cb", ",", "basename", "#", "#", "_", "#", "#", "field", "_", "name", "#", "#", "_", "tostr", "_", "cb", "}", ",", "{", "0", ",", "0", ",", "0", "}", ",", "0", ",", "desc", ",", "FLDFILL", "}", "<nl>"], "docstring_tokens": ["Use", "an", "Open", "instead", "of", "a", "Save", "dialog", "for", "UAT", "prefs"]}
{"code_tokens": ["main", "_", "filter", "_", "packets", "(", "capture", "_", "file", "*", "cf", ",", "const", "gchar", "*", "dftext", ",", "gboolean", "force", ")", "<nl>", "char", "*", "s", ";", "<nl>", "cf", "_", "status", "_", "t", "cf", "_", "status", ";", "<nl>", "<nl>", "+", "/", "*", "we", "'", "ll", "crash", "later", "on", "if", "dftext", "is", "NULL", "*", "/", "<nl>", "+", "g", "_", "assert", "(", "dftext", "!", "=", "NULL", ")", ";", "<nl>", "+", "<nl>", "s", "=", "g", "_", "strdup", "(", "dftext", ")", ";", "<nl>", "<nl>", "/", "*", "GtkCombos", "don", "'", "t", "let", "us", "get", "at", "their", "list", "contents", "easily", ",", "so", "we", "maintain", "<nl>"], "docstring_tokens": ["abort", "early", "in", "main_filter_packets", "if", "dftext", "is", "NULL"]}
{"code_tokens": ["parse", "_", "options", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "{", "\"", "version", "\"", ",", "no", "_", "argument", ",", "NULL", ",", "'", "v", "'", "}", ",", "<nl>", "{", "0", ",", "0", ",", "0", ",", "0", "}", "<nl>", "}", ";", "<nl>", "+", "struct", "tm", "*", "now", "_", "tm", ";", "<nl>", "<nl>", "#", "ifdef", "_", "WIN32", "<nl>", "arg", "_", "list", "_", "utf", "_", "16to8", "(", "argc", ",", "argv", ")", ";", "<nl>", "parse", "_", "options", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "}", "<nl>", "<nl>", "ts", "_", "sec", "=", "time", "(", "0", ")", ";", "/", "*", "initialize", "to", "current", "time", "*", "/", "<nl>", "-", "/", "*", "We", "trust", "the", "OS", "to", "return", "a", "time", "after", "the", "Epoch", ".", "*", "/", "<nl>", "-", "timecode", "_", "default", "=", "*", "localtime", "(", "&", "ts", "_", "sec", ")", ";", "<nl>", "+", "now", "_", "tm", "=", "localtime", "(", "&", "ts", "_", "sec", ")", ";", "<nl>", "+", "if", "(", "now", "_", "tm", "=", "=", "NULL", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "This", "shouldn", "'", "t", "happen", "-", "on", "UN", "*", "X", ",", "this", "should", "Just", "Work", ",", "and", "<nl>", "+", "*", "on", "Windows", ",", "it", "won", "'", "t", "work", "if", "ts", "_", "sec", "is", "before", "the", "Epoch", ",", "<nl>", "+", "*", "but", "it", "'", "s", "long", "after", "1970", ",", "so", ".", ".", ".", ".", "<nl>", "+", "*", "/", "<nl>", "+", "fprintf", "(", "stderr", ",", "\"", "localtime", "(", "right", "now", ")", "failed", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "EXIT", "_", "FAILURE", ";", "<nl>", "+", "}", "<nl>", "+", "timecode", "_", "default", "=", "*", "now", "_", "tm", ";", "<nl>", "timecode", "_", "default", ".", "tm", "_", "isdst", "=", "-", "1", ";", "/", "*", "Unknown", "for", "now", ",", "depends", "on", "time", "given", "to", "the", "strptime", "(", ")", "function", "*", "/", "<nl>", "<nl>", "/", "*", "Display", "summary", "of", "our", "state", "*", "/", "<nl>"], "docstring_tokens": ["Check", "for", "localtime", "failing"]}
{"code_tokens": ["private", "Q", "_", "SLOTS", ":", "<nl>", "}", ";", "<nl>", "<nl>", "Q", "_", "DECLARE", "_", "METATYPE", "(", "ExtcapArgument", ")", "<nl>", "+", "Q", "_", "DECLARE", "_", "METATYPE", "(", "ExtcapArgument", "*", ")", "<nl>", "<nl>", "class", "ExtArgText", ":", "public", "ExtcapArgument", "<nl>", "{", "<nl>"], "docstring_tokens": ["extcap", "fix", "a", "compile", "error", "with", "Qt4"]}
{"code_tokens": ["*", "Copyright", "2001", ",", "Todd", "Sabin", "<", "tas", "@", "webspan", ".", "net", ">", "<nl>", "*", "Copyright", "2003", ",", "Tim", "Potter", "<", "tpot", "@", "samba", ".", "org", ">", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "dcerpc", ".", "c", ",", "v", "1", ".", "151", "2003", "/", "11", "/", "06", "07", ":", "44", ":", "13", "sahlberg", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "dcerpc", ".", "c", ",", "v", "1", ".", "152", "2003", "/", "11", "/", "06", "09", ":", "13", ":", "26", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "dcerpc", "_", "try", "_", "handoff", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "pinfo", "-", ">", "current", "_", "proto", "=", "saved", "_", "proto", ";", "<nl>", "pinfo", "-", ">", "private", "_", "data", "=", "saved", "_", "private", "_", "data", ";", "<nl>", "}", "else", "{", "<nl>", "-", "/", "*", "No", "subdissector", "-", "show", "it", "as", "*", "decrypted", "*", "stub", "data", ".", "*", "/", "<nl>", "+", "/", "*", "No", "subdissector", "-", "show", "it", "as", "stub", "data", ".", "*", "/", "<nl>", "if", "(", "decrypted", "_", "tvb", ")", "{", "<nl>", "show", "_", "stub", "_", "data", "(", "decrypted", "_", "tvb", ",", "0", ",", "tree", ",", "auth", "_", "info", ",", "FALSE", ")", ";", "<nl>", "}", "else", "{", "<nl>", "dissect", "_", "dcerpc", "_", "cn", "_", "stub", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "thus", "we", "must", "reassemble", "it", ".", "<nl>", "*", "/", "<nl>", "<nl>", "+", "/", "*", "Do", "we", "have", "any", "non", "-", "encrypted", "data", "to", "reassemble", "?", "*", "/", "<nl>", "+", "if", "(", "decrypted", "_", "tvb", "=", "=", "NULL", ")", "{", "<nl>", "+", "/", "*", "No", ".", "We", "can", "'", "t", "even", "try", "to", "reassemble", ".", "*", "/", "<nl>", "+", "goto", "end", "_", "cn", "_", "stub", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "if", "this", "is", "the", "first", "fragment", "we", "need", "to", "start", "reassembly", "<nl>", "*", "/", "<nl>", "if", "(", "hdr", "-", ">", "flags", "&", "PFC", "_", "FIRST", "_", "FRAG", ")", "{", "<nl>"], "docstring_tokens": ["Update", "a", "comment"]}
{"code_tokens": ["dissect", "_", "oampdu", "_", "event", "_", "notification", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "<nl>", "offset", "+", "=", "OAMPDU", "_", "EVENT", "_", "LENGTH", "_", "SZ", ";", "<nl>", "<nl>", "-", "offset", "+", "=", "(", "raw", "_", "word", "-", "2", ")", ";", "<nl>", "+", "offset", "+", "=", "(", "raw", "_", "octet", "-", "2", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "default", ":", "<nl>"], "docstring_tokens": ["From", "Elliot", "Parsons", "via", "https", "bugs", "wireshark", "org", "bugzilla", "show_bug", "cgi", "id", "6983"]}
{"code_tokens": ["proto", "_", "tree", "_", "add", "_", "subtree", "_", "format", "(", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "_", "t", "*", "tvb", ",", "gint", "start", ",", "gint", "<nl>", "va", "_", "list", "ap", ";", "<nl>", "header", "_", "field", "_", "info", "*", "hfinfo", ";", "<nl>", "<nl>", "+", "/", "*", "Make", "sure", "pi", "is", "initialized", "in", "case", "TRY", "_", "TO", "_", "FAKE", "_", "THIS", "_", "ITEM", "bails", "*", "/", "<nl>", "+", "if", "(", "tree", "_", "item", "!", "=", "NULL", ")", "<nl>", "+", "*", "tree", "_", "item", "=", "NULL", ";", "<nl>", "+", "<nl>", "TRY", "_", "TO", "_", "FAKE", "_", "THIS", "_", "ITEM", "(", "tree", ",", "hf", "_", "text", "_", "only", ",", "hfinfo", ")", ";", "<nl>", "<nl>", "pi", "=", "proto", "_", "tree", "_", "add", "_", "text", "_", "node", "(", "tree", ",", "tvb", ",", "start", ",", "length", ")", ";", "<nl>"], "docstring_tokens": ["Ensure", "proto_item", "from", "subtree", "is", "initialized"]}
{"code_tokens": ["reassemble", "_", "octet", "_", "string", "(", "asn1", "_", "ctx", "_", "t", "*", "actx", ",", "proto", "_", "tree", "*", "tree", ",", "gint", "hf", "_", "id", ",", "tvbuff", "_", "t", "<nl>", "<nl>", "/", "*", "so", "we", "need", "to", "consume", "octet", "strings", "for", "the", "given", "length", "*", "/", "<nl>", "<nl>", "-", "/", "*", "not", "sure", "we", "need", "this", "*", "/", "<nl>", "-", "actx", "-", ">", "pinfo", "-", ">", "fragmented", "=", "TRUE", ";", "<nl>", "-", "<nl>", "if", "(", "out", "_", "tvb", ")", "<nl>", "*", "out", "_", "tvb", "=", "NULL", ";", "<nl>", "<nl>", "+", "if", "(", "con", "_", "len", "=", "=", "0", ")", "/", "*", "Zero", "encodings", "(", "8", ".", "7", ".", "3", ")", "*", "/", "<nl>", "+", "return", "offset", ";", "<nl>", "+", "<nl>", "+", "/", "*", "not", "sure", "we", "need", "this", "*", "/", "<nl>", "+", "actx", "-", ">", "pinfo", "-", ">", "fragmented", "=", "TRUE", ";", "<nl>", "+", "<nl>", "while", "(", "!", "fd", "_", "head", ")", "{", "<nl>", "<nl>", "offset", "=", "dissect", "_", "ber", "_", "octet", "_", "string", "(", "FALSE", ",", "actx", ",", "NULL", ",", "tvb", ",", "offset", ",", "hf", "_", "id", ",", "&", "next", "_", "tvb", ")", ";", "<nl>"], "docstring_tokens": ["Constructed", "octet", "strings", "may", "contain", "zero", "encodings"]}
{"code_tokens": ["static", "void", "dissect", "_", "HEARTBEAT", "_", "VIRTUAL", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "gin", "<nl>", "if", "(", "!", "(", "flags", "&", "FLAG", "_", "VIRTUAL", "_", "HEARTBEAT", "_", "N", ")", ")", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "sil", "_", "tree", "_", "writer", ",", "hf", "_", "rtps", "_", "virtual", "_", "heartbeat", "_", "num", "_", "virtual", "_", "guids", ",", "tvb", ",", "<nl>", "offset", ",", "4", ",", "little", "_", "endian", "?", "ENC", "_", "LITTLE", "_", "ENDIAN", ":", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "+", "num", "_", "virtual", "_", "guids", "=", "NEXT", "_", "guint32", "(", "tvb", ",", "offset", ",", "little", "_", "endian", ")", ";", "<nl>", "offset", "+", "=", "4", ";", "<nl>", "}", "else", "{", "<nl>", "num", "_", "virtual", "_", "guids", "=", "0", ";", "<nl>"], "docstring_tokens": ["RTPS", "fix", "Result", "of", "operation", "is", "garbage", "or", "undefined"]}
{"code_tokens": ["static", "gboolean", "nstrace", "_", "read", "_", "v20", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ",", "gint64", "*", "<nl>", "if", "(", "(", "nstrace", "-", ">", "nstrace", "_", "buflen", "-", "nstrace", "_", "buf", "_", "offset", ")", "<", "sizeof", "*", "fp", ")", "{", "\\", "<nl>", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "FILE", ";", "\\", "<nl>", "*", "err", "_", "info", "=", "g", "_", "strdup", "(", "\"", "nstrace", ":", "record", "header", "crosses", "page", "boundary", "\"", ")", ";", "\\", "<nl>", "+", "g", "_", "free", "(", "nstrace", "_", "tmpbuff", ")", ";", "\\", "<nl>", "return", "FALSE", ";", "\\", "<nl>", "}", "\\", "<nl>", "(", "phdr", ")", "-", ">", "rec", "_", "type", "=", "REC", "_", "TYPE", "_", "PACKET", ";", "\\", "<nl>", "static", "gboolean", "nstrace", "_", "read", "_", "v20", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ",", "gint64", "*", "<nl>", "if", "(", "(", "phdr", ")", "-", ">", "caplen", "<", "sizeof", "*", "fp", ")", "{", "\\", "<nl>", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "FILE", ";", "\\", "<nl>", "*", "err", "_", "info", "=", "g", "_", "strdup", "(", "\"", "nstrace", ":", "record", "size", "is", "less", "than", "record", "header", "size", "\"", ")", ";", "\\", "<nl>", "+", "g", "_", "free", "(", "nstrace", "_", "tmpbuff", ")", ";", "\\", "<nl>", "return", "FALSE", ";", "\\", "<nl>", "}", "\\", "<nl>", "ws", "_", "buffer", "_", "assure", "_", "space", "(", "wth", "-", ">", "frame", "_", "buffer", ",", "(", "phdr", ")", "-", ">", "caplen", ")", ";", "\\", "<nl>", "static", "gboolean", "nstrace", "_", "read", "_", "v20", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ",", "gint64", "*", "<nl>", "/", "*", "Read", "the", "next", "page", "*", "/", "\\", "<nl>", "bytes", "_", "read", "=", "file", "_", "read", "(", "nstrace", "_", "buf", ",", "NSPR", "_", "PAGESIZE", "_", "TRACE", ",", "wth", "-", ">", "fh", ")", ";", "\\", "<nl>", "if", "(", "!", "file", "_", "eof", "(", "wth", "-", ">", "fh", ")", "&", "&", "bytes", "_", "read", "!", "=", "NSPR", "_", "PAGESIZE", "_", "TRACE", ")", "{", "\\", "<nl>", "+", "g", "_", "free", "(", "nstrace", "_", "tmpbuff", ")", ";", "\\", "<nl>", "return", "FALSE", ";", "\\", "<nl>", "}", "else", "{", "\\", "<nl>", "nstrace", "_", "buf", "_", "offset", "=", "0", ";", "\\", "<nl>", "static", "gboolean", "nstrace", "_", "read", "_", "v20", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ",", "gint64", "*", "<nl>", "nstrace", "-", ">", "nstrace", "_", "buf", "_", "offset", "=", "nstrace", "_", "buf", "_", "offset", ";", "\\", "<nl>", "nstrace", "-", ">", "nstrace", "_", "buflen", "=", "nstrace", "_", "buflen", ";", "\\", "<nl>", "nstrace", "-", ">", "nsg", "_", "creltime", "=", "nsg", "_", "creltime", ";", "\\", "<nl>", "+", "g", "_", "free", "(", "nstrace", "_", "tmpbuff", ")", ";", "\\", "<nl>", "return", "TRUE", ";", "\\", "<nl>", "}", "while", "(", "0", ")", "<nl>", "<nl>", "static", "gboolean", "nstrace", "_", "read", "_", "v30", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ",", "gint64", "*", "<nl>", "gchar", "*", "nstrace", "_", "buf", "=", "nstrace", "-", ">", "pnstrace", "_", "buf", ";", "<nl>", "guint32", "nstrace", "_", "buf", "_", "offset", "=", "nstrace", "-", ">", "nstrace", "_", "buf", "_", "offset", ";", "<nl>", "guint32", "nstrace", "_", "buflen", "=", "nstrace", "-", ">", "nstrace", "_", "buflen", ";", "<nl>", "-", "guint8", "nstrace", "_", "tmpbuff", "[", "65536", "]", ";", "<nl>", "+", "guint8", "*", "nstrace", "_", "tmpbuff", ";", "<nl>", "guint32", "nstrace", "_", "tmpbuff", "_", "off", "=", "0", ",", "nst", "_", "dataSize", "=", "0", ",", "rec", "_", "size", "=", "0", ",", "nsg", "_", "nextPageOffset", "=", "0", ";", "<nl>", "nspr", "_", "hd", "_", "v20", "_", "t", "*", "hdp", ";", "<nl>", "int", "bytes", "_", "read", "=", "0", ";", "<nl>", "static", "gboolean", "nstrace", "_", "read", "_", "v30", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ",", "gint64", "*", "<nl>", "return", "FALSE", ";", "/", "*", "Reached", "End", "Of", "File", "*", "/", "<nl>", "}", "<nl>", "<nl>", "+", "nstrace", "_", "tmpbuff", "=", "(", "guint8", "*", ")", "g", "_", "malloc", "(", "65536", ")", ";", "<nl>", "+", "<nl>", "do", "<nl>", "{", "<nl>", "if", "(", "!", "nstrace", "_", "buf", "[", "nstrace", "_", "buf", "_", "offset", "]", "&", "&", "nstrace", "_", "buf", "_", "offset", "<", "=", "NSPR", "_", "PAGESIZE", "_", "TRACE", ")", "{", "<nl>", "static", "gboolean", "nstrace", "_", "read", "_", "v30", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ",", "gint64", "*", "<nl>", "if", "(", "nspr", "_", "getv20recordsize", "(", "hdp", ")", "=", "=", "0", ")", "{", "<nl>", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "FILE", ";", "<nl>", "*", "err", "_", "info", "=", "g", "_", "strdup", "(", "\"", "nstrace", ":", "zero", "size", "record", "found", "\"", ")", ";", "<nl>", "+", "g", "_", "free", "(", "nstrace", "_", "tmpbuff", ")", ";", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>", "switch", "(", "hdp", "-", ">", "phd", "_", "RecordType", ")", "<nl>", "static", "gboolean", "nstrace", "_", "read", "_", "v30", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "gchar", "*", "*", "err", "_", "info", ",", "gint64", "*", "<nl>", "nstrace", "_", "buflen", "=", "NSPR", "_", "PAGESIZE", "_", "TRACE", ";", "<nl>", "}", "while", "(", "(", "nstrace", "_", "buflen", ">", "0", ")", "&", "&", "(", "nstrace", "_", "read", "_", "buf", "(", "wth", "-", ">", "fh", ",", "nstrace", "_", "buf", ",", "nstrace", "_", "buflen", ",", "err", ",", "err", "_", "info", ")", ")", ")", ";", "<nl>", "<nl>", "+", "g", "_", "free", "(", "nstrace", "_", "tmpbuff", ")", ";", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["netscaler", "c", "use", "dynamic", "memory", "for", "temporary", "buffer", "in", "nstrace_read_v30"]}
{"code_tokens": ["/", "*", "pppdump", ".", "c", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "pppdump", ".", "c", ",", "v", "1", ".", "5", "2000", "/", "11", "/", "19", "03", ":", "47", ":", "36", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "pppdump", ".", "c", ",", "v", "1", ".", "6", "2000", "/", "11", "/", "19", "20", ":", "56", ":", "17", "gerald", "Exp", "$", "<nl>", "*", "<nl>", "*", "Copyright", "(", "c", ")", "2000", "by", "Gilbert", "Ramirez", "<", "gram", "@", "xiexie", ".", "org", ">", "<nl>", "*", "<nl>", "process", "_", "data", "(", "pppdump", "_", "t", "*", "state", ",", "FILE", "_", "T", "fh", ",", "pkt", "_", "t", "*", "pkt", ",", "int", "n", ",", "guint8", "*", "pd", ",", "int", "*", "er", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "num", "_", "written", ">", "sizeof", "(", "pd", ")", ")", "{", "<nl>", "+", "*", "err", "=", "WTAP", "_", "ERR", "_", "UNC", "_", "OVERFLOW", ";", "<nl>", "+", "return", "-", "1", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "memcpy", "(", "pd", ",", "pkt", "-", ">", "buf", ",", "num", "_", "written", ")", ";", "<nl>", "<nl>", "num", "_", "bytes", "-", "-", ";", "<nl>"], "docstring_tokens": ["Add", "an", "overflow", "check", "to", "process_data"]}
{"code_tokens": ["static", "void", "erf", "_", "write", "_", "wtap", "_", "option", "_", "to", "_", "capture", "_", "tag", "(", "wtap", "_", "block", "_", "t", "block", "_", "U", "_", ",", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "erf", "_", "meta", "_", "tag", "_", "free", "(", "tag", "_", "ptr", ")", ";", "<nl>", "-", "return", ";", "<nl>", "+", "tag", "_", "ptr", "=", "NULL", ";", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "<nl>", "-", "g", "_", "ptr", "_", "array", "_", "add", "(", "section", "_", "ptr", "-", ">", "tags", ",", "tag", "_", "ptr", ")", ";", "<nl>", "+", "if", "(", "tag", "_", "ptr", ")", "<nl>", "+", "g", "_", "ptr", "_", "array", "_", "add", "(", "section", "_", "ptr", "-", ">", "tags", ",", "tag", "_", "ptr", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "erf", "_", "write", "_", "wtap", "_", "option", "_", "to", "_", "host", "_", "tag", "(", "wtap", "_", "block", "_", "t", "block", "_", "U", "_", ",", "<nl>", "static", "void", "erf", "_", "write", "_", "wtap", "_", "option", "_", "to", "_", "host", "_", "tag", "(", "wtap", "_", "block", "_", "t", "block", "_", "U", "_", ",", "<nl>", "break", ";", "<nl>", "default", ":", "<nl>", "erf", "_", "meta", "_", "tag", "_", "free", "(", "tag", "_", "ptr", ")", ";", "<nl>", "-", "return", ";", "<nl>", "+", "tag", "_", "ptr", "=", "NULL", ";", "<nl>", "+", "break", ";", "<nl>", "}", "<nl>", "<nl>", "-", "g", "_", "ptr", "_", "array", "_", "add", "(", "section", "_", "ptr", "-", ">", "tags", ",", "tag", "_", "ptr", ")", ";", "<nl>", "+", "if", "(", "tag", "_", "ptr", ")", "<nl>", "+", "g", "_", "ptr", "_", "array", "_", "add", "(", "section", "_", "ptr", "-", ">", "tags", ",", "tag", "_", "ptr", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "erf", "_", "write", "_", "wtap", "_", "option", "_", "to", "_", "interface", "_", "tag", "(", "wtap", "_", "block", "_", "t", "block", "_", "U", "_", ",", "<nl>"], "docstring_tokens": ["Do", "the", "meta", "tag", "stuff", "the", "same", "way", "in", "all", "three", "cases"]}
{"code_tokens": ["ssl", "_", "keylog", "_", "lookup", "(", "SslDecryptSession", "*", "ssl", "_", "session", ",", "<nl>", "line", "[", "bytes", "_", "read", "-", "1", "]", "=", "0", ";", "<nl>", "bytes", "_", "read", "-", "-", ";", "<nl>", "}", "<nl>", "+", "if", "(", "bytes", "_", "read", ">", "0", "&", "&", "line", "[", "bytes", "_", "read", "-", "1", "]", "=", "=", "'", "\\", "r", "'", ")", "{", "<nl>", "+", "line", "[", "bytes", "_", "read", "-", "1", "]", "=", "0", ";", "<nl>", "+", "bytes", "_", "read", "-", "-", ";", "<nl>", "+", "}", "<nl>", "<nl>", "ssl", "_", "debug", "_", "printf", "(", "\"", "checking", "keylog", "line", ":", "%", "s", "\\", "n", "\"", ",", "line", ")", ";", "<nl>"], "docstring_tokens": ["From", "Peter", "Wu", "via", "https", "bugs", "wireshark", "org", "bugzilla", "show_bug", "cgi", "id", "6596"]}
{"code_tokens": ["dissect", "_", "tcpopt", "_", "mptcp", "(", "const", "ip", "_", "tcp", "_", "opt", "*", "optp", "_", "U", "_", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "guint8", "indx", ";", "<nl>", "guint8", "flags", ";", "<nl>", "guint8", "ipver", ";", "<nl>", "+", "int", "start", "_", "offset", "=", "offset", ";", "<nl>", "<nl>", "mptcp", "_", "tree", "=", "proto", "_", "tree", "_", "add", "_", "subtree", "(", "opt", "_", "tree", ",", "tvb", ",", "offset", ",", "optlen", ",", "ett", "_", "tcp", "_", "option", "_", "mptcp", ",", "&", "ti", ",", "\"", "Multipath", "TCP", "\"", ")", ";", "<nl>", "<nl>", "dissect", "_", "tcpopt", "_", "mptcp", "(", "const", "ip", "_", "tcp", "_", "opt", "*", "optp", "_", "U", "_", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "2", ",", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "offset", "+", "=", "2", ";", "<nl>", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "item", "(", "mptcp", "_", "tree", ",", "<nl>", "-", "hf", "_", "tcp", "_", "option", "_", "mptcp", "_", "checksum", ",", "tvb", ",", "offset", ",", "<nl>", "-", "2", ",", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "+", "if", "(", "(", "int", ")", "optlen", ">", "=", "offset", "-", "start", "_", "offset", "+", "4", ")", "<nl>", "+", "{", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "item", "(", "mptcp", "_", "tree", ",", "<nl>", "+", "hf", "_", "tcp", "_", "option", "_", "mptcp", "_", "checksum", ",", "tvb", ",", "offset", ",", "<nl>", "+", "2", ",", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["Multipath", "TCP", "checksum", "requires", "M", "flag", "set", "as", "well", "as", "enough", "option", "length"]}
{"code_tokens": ["set", "_", "menus", "_", "for", "_", "selected", "_", "packet", "(", "capture", "_", "file", "*", "cf", ")", "<nl>", "<nl>", "set", "_", "menu", "_", "sensitivity", "(", "ui", "_", "manager", "_", "main", "_", "menubar", ",", "path", ",", "<nl>", "menu", "_", "dissector", "_", "filter", "_", "spe", "_", "cb", "(", "/", "*", "frame", "_", "data", "*", "fd", "_", "U", "_", "*", "/", "NULL", ",", "cf", "-", ">", "edt", ",", "filter", "_", "entry", ")", ")", ";", "<nl>", "+", "g", "_", "free", "(", "path", ")", ";", "<nl>", "i", "+", "+", ";", "<nl>", "list", "_", "entry", "=", "g", "_", "list", "_", "next", "(", "list", "_", "entry", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["From", "Evan", "Huus", "fix", "a", "memory", "leak", "Fixes", "bug", "7097"]}
{"code_tokens": ["rtp", "_", "streams", "_", "stat", "_", "draw", "(", "void", "*", "arg", "_", "U", "_", ")", "<nl>", "<nl>", "list", "=", "g", "_", "list", "_", "next", "(", "list", ")", ";", "<nl>", "<nl>", "-", "g", "_", "free", "(", "payload", "_", "type", ")", ";", "<nl>", "wmem", "_", "free", "(", "NULL", ",", "src", "_", "addr", ")", ";", "<nl>", "wmem", "_", "free", "(", "NULL", ",", "dst", "_", "addr", ")", ";", "<nl>", "wmem", "_", "free", "(", "NULL", ",", "payload", "_", "type", ")", ";", "<nl>"], "docstring_tokens": ["tshark", "fix", "double", "memory", "free", "when", "analyzing", "several", "RTP", "streams"]}
{"code_tokens": ["main", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "<nl>", "pkthdr", ".", "ts", ".", "tv", "_", "sec", "=", "i", ";", "/", "*", "just", "for", "variety", "*", "/", "<nl>", "<nl>", "for", "(", "j", "=", "example", "-", ">", "sample", "_", "length", ";", "j", "<", "len", "_", "random", ";", "j", "+", "+", ")", "{", "<nl>", "-", "buffer", "[", "j", "]", "=", "(", "rand", "(", ")", "%", "0x100", ")", ";", "<nl>", "+", "/", "*", "Add", "format", "strings", "here", "and", "there", "*", "/", "<nl>", "+", "if", "(", "(", "int", ")", "(", "100", ".", "0", "*", "rand", "(", ")", "/", "(", "RAND", "_", "MAX", "+", "1", ".", "0", ")", ")", "<", "3", "&", "&", "j", "<", "(", "len", "_", "random", "-", "3", ")", ")", "{", "<nl>", "+", "memcpy", "(", "&", "buffer", "[", "j", "]", ",", "\"", "%", "s", "\"", ",", "3", ")", ";", "<nl>", "+", "j", "+", "=", "2", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "buffer", "[", "j", "]", "=", "(", "rand", "(", ")", "%", "0x100", ")", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "wtap", "_", "dump", "(", "dump", ",", "&", "pkthdr", ",", "&", "ps", "_", "header", ",", "&", "buffer", "[", "0", "]", ",", "&", "err", ")", ";", "<nl>"], "docstring_tokens": ["Insert", "s", "at", "various", "points", "in", "an", "attempt", "to", "trigger", "format", "string", "bugs"]}
{"code_tokens": ["color", "_", "global", "_", "cb", "(", "GtkWidget", "*", "widget", "_", "U", "_", ",", "gpointer", "data", ")", "<nl>", "<nl>", "gtk", "_", "file", "_", "chooser", "_", "select", "_", "filename", "(", "GTK", "_", "FILE", "_", "CHOOSER", "(", "fs", "_", "widget", ")", ",", "path", ")", ";", "<nl>", "<nl>", "-", "g", "_", "free", "(", "(", "gchar", "*", ")", "path", ")", ";", "<nl>", "+", "g", "_", "free", "(", "path", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Import", "color", "filters", "*", "/", "<nl>"], "docstring_tokens": ["Removed", "an", "unneeded", "cast"]}
{"code_tokens": ["static", "void", "dissect", "_", "sdp", "_", "media", "_", "attribute", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "<nl>", "if", "(", "port", "_", "offset", "!", "=", "-", "1", ")", "{", "<nl>", "/", "*", "Port", "ends", "with", "'", "/", "'", "*", "/", "<nl>", "port", "_", "end", "_", "offset", "=", "tvb", "_", "find", "_", "guint8", "(", "tvb", ",", "port", "_", "offset", ",", "-", "1", ",", "'", "/", "'", ")", ";", "<nl>", "-", "<nl>", "+", "if", "(", "port", "_", "end", "_", "offset", "=", "=", "-", "1", ")", "{", "<nl>", "+", "/", "*", "No", "\"", "/", "\"", "look", "for", "the", "\"", ";", "\"", "*", "/", "<nl>", "+", "port", "_", "end", "_", "offset", "=", "tvb", "_", "find", "_", "guint8", "(", "tvb", ",", "port", "_", "offset", ",", "-", "1", ",", "'", ";", "'", ")", ";", ";", "<nl>", "+", "}", "<nl>", "/", "*", "Attempt", "to", "convert", "address", "*", "/", "<nl>", "if", "(", "inet", "_", "pton", "(", "AF", "_", "INET", ",", "<nl>", "(", "char", "*", ")", "tvb", "_", "get", "_", "ephemeral", "_", "string", "(", "tvb", ",", "address", "_", "offset", ",", "port", "_", "offset", "-", "address", "_", "offset", ")", ",", "<nl>"], "docstring_tokens": ["Fix", "dissection", "of", "path", "session", "id", "is", "optional"]}
{"code_tokens": ["PacketList", ":", ":", "PacketList", "(", "QWidget", "*", "parent", ")", ":", "<nl>", "decode", "_", "as", "_", "(", "NULL", ")", ",", "<nl>", "ctx", "_", "column", "_", "(", "-", "1", ")", ",", "<nl>", "capture", "_", "in", "_", "progress", "_", "(", "false", ")", ",", "<nl>", "-", "tail", "_", "timer", "_", "id", "_", "(", "0", ")", "<nl>", "+", "tail", "_", "timer", "_", "id", "_", "(", "0", ")", ",", "<nl>", "+", "rows", "_", "inserted", "_", "(", "false", ")", "<nl>", "{", "<nl>", "QMenu", "*", "submenu", ",", "*", "subsubmenu", ";", "<nl>", "QAction", "*", "action", ";", "<nl>"], "docstring_tokens": ["Qt", "fix", "use", "of", "uninitialized", "variable"]}
{"code_tokens": ["dissect", "_", "uts", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "else", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "(", "uts", "_", "header", "_", "tree", ",", "hf", "_", "sid", ",", "tvb", ",", "2", ",", "1", ",", "sid", ",", "\"", "SID", "(", "%", "02X", ")", "\"", ",", "sid", ")", ";", "<nl>", "<nl>", "-", "if", "(", "sid", "=", "=", "GDID", ")", "<nl>", "+", "if", "(", "did", "=", "=", "GDID", ")", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "(", "uts", "_", "header", "_", "tree", ",", "hf", "_", "did", ",", "tvb", ",", "3", ",", "1", ",", "did", ",", "\"", "DID", "(", "%", "02X", ")", "(", "General", ")", "\"", ",", "did", ")", ";", "<nl>", "else", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "(", "uts", "_", "header", "_", "tree", ",", "hf", "_", "did", ",", "tvb", ",", "3", ",", "1", ",", "did", ",", "\"", "DID", "(", "%", "02X", ")", "\"", ",", "did", ")", ";", "<nl>"], "docstring_tokens": ["UTS", "fix", "Copy", "paste", "error", "CID", "11158603"]}
{"code_tokens": ["load", "_", "cap", "_", "file", "(", "capture", "_", "file", "*", "cf", ",", "char", "*", "save", "_", "file", ",", "int", "out", "_", "file", "_", "type", ",", "<nl>", "snapshot", "_", "length", "=", "WTAP", "_", "MAX", "_", "PACKET", "_", "SIZE", ";", "<nl>", "}", "<nl>", "/", "*", "If", "we", "don", "'", "t", "have", "an", "application", "name", "add", "Tshark", "*", "/", "<nl>", "-", "if", "(", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "=", "NULL", ")", "{", "<nl>", "g", "_", "snprintf", "(", "appname", ",", "sizeof", "(", "appname", ")", ",", "\"", "TShark", "\"", "VERSION", "\"", "%", "s", "\"", ",", "wireshark", "_", "svnversion", ")", ";", "<nl>", "+", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "appname", ";", "<nl>", "+", "}", "<nl>", "<nl>", "pdh", "=", "wtap", "_", "dump", "_", "open", "_", "ng", "(", "save", "_", "file", ",", "out", "_", "file", "_", "type", ",", "linktype", ",", "snapshot", "_", "length", ",", "<nl>", "FALSE", "/", "*", "compressed", "*", "/", ",", "shb", "_", "hdr", ",", "idb", "_", "inf", ",", "&", "err", ")", ";", "mmm", "editcap", ".", "c", "<nl>", "load", "_", "cap", "_", "file", "(", "capture", "_", "file", "*", "cf", ",", "char", "*", "save", "_", "file", ",", "int", "out", "_", "file", "_", "type", ",", "<nl>", "snapshot", "_", "length", "=", "WTAP", "_", "MAX", "_", "PACKET", "_", "SIZE", ";", "<nl>", "}", "<nl>", "/", "*", "If", "we", "don", "'", "t", "have", "an", "application", "name", "add", "Tshark", "*", "/", "<nl>", "-", "if", "(", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "=", "NULL", ")", "{", "<nl>", "g", "_", "snprintf", "(", "appname", ",", "sizeof", "(", "appname", ")", ",", "\"", "TShark", "\"", "VERSION", "\"", "%", "s", "\"", ",", "wireshark", "_", "svnversion", ")", ";", "<nl>", "+", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "appname", ";", "<nl>", "+", "}", "<nl>", "<nl>", "pdh", "=", "wtap", "_", "dump", "_", "open", "_", "ng", "(", "save", "_", "file", ",", "out", "_", "file", "_", "type", ",", "linktype", ",", "snapshot", "_", "length", ",", "<nl>", "FALSE", "/", "*", "compressed", "*", "/", ",", "shb", "_", "hdr", ",", "idb", "_", "inf", ",", "&", "err", ")", ";", "<nl>", "main", "(", "int", "argc", ",", "char", "*", "argv", "[", "]", ")", "<nl>", "filename", "=", "g", "_", "strdup", "(", "argv", "[", "optind", "+", "1", "]", ")", ";", "<nl>", "<nl>", "/", "*", "If", "we", "don", "'", "t", "have", "an", "application", "name", "add", "Editcap", "*", "/", "<nl>", "-", "if", "(", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "=", "NULL", ")", "{", "<nl>", "g", "_", "snprintf", "(", "appname", ",", "sizeof", "(", "appname", ")", ",", "\"", "Editcap", "\"", "VERSION", ")", ";", "<nl>", "+", "shb", "_", "hdr", "-", ">", "shb", "_", "user", "_", "appl", "=", "appname", ";", "<nl>", "+", "}", "<nl>", "<nl>", "pdh", "=", "wtap", "_", "dump", "_", "open", "_", "ng", "(", "filename", ",", "out", "_", "file", "_", "type", ",", "out", "_", "frame", "_", "type", ",", "<nl>", "snaplen", "?", "MIN", "(", "snaplen", ",", "wtap", "_", "snapshot", "_", "length", "(", "wth", ")", ")", ":", "wtap", "_", "snapshot", "_", "length", "(", "wth", ")", ",", "<nl>"], "docstring_tokens": ["From", "Jose", "Pedro", "Oliveira"]}
{"code_tokens": ["UAT", "_", "CSTRING", "_", "CB", "_", "DEF", "(", "uat", "_", "ue", "_", "keys", "_", "records", ",", "rrcIntegrityKeyString", ",", "uat", "_", "ue", "_", "keys", "_", "reco", "<nl>", "<nl>", "static", "gboolean", "global", "_", "pdcp", "_", "decipher", "_", "signalling", "=", "FALSE", ";", "<nl>", "static", "gboolean", "global", "_", "pdcp", "_", "decipher", "_", "userplane", "=", "FALSE", ";", "<nl>", "-", "static", "gboolean", "global", "_", "pdcp", "_", "check", "_", "integrity", "=", "FALSE", ";", "<nl>", "#", "endif", "<nl>", "+", "static", "gboolean", "global", "_", "pdcp", "_", "check", "_", "integrity", "=", "FALSE", ";", "<nl>", "<nl>", "static", "const", "value", "_", "string", "direction", "_", "vals", "[", "]", "=", "<nl>", "{", "<nl>"], "docstring_tokens": ["dirty", "hack", "to", "make", "things", "compile", "without", "libgcrypt"]}
{"code_tokens": ["dissect", "_", "nfs", "_", "acemask4", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "<nl>", "if", "(", "acemask", "&", "ACE4", "_", "APPEND", "_", "DATA", ")", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "acemask", "_", "tree", ",", "tvb", ",", "offset", ",", "4", ",", "<nl>", "-", "\"", "ACE4", "_", "ADD", "_", "FILE", "/", "ACE4", "_", "ADD", "_", "SUBDIRECTORY", "(", "0x", "%", "08x", ")", "\"", ",", "<nl>", "+", "\"", "ACE4", "_", "APPEND", "_", "DATA", "/", "ACE4", "_", "ADD", "_", "SUBDIRECTORY", "(", "0x", "%", "08x", ")", "\"", ",", "<nl>", "ACE4", "_", "APPEND", "_", "DATA", ")", ";", "<nl>", "<nl>", "if", "(", "acemask", "&", "ACE4", "_", "READ", "_", "NAMED", "_", "ATTRS", ")", "<nl>"], "docstring_tokens": ["From", "Cal", "Turney", "via", "https", "bugs", "wireshark", "org", "bugzilla", "show_bug", "cgi", "id", "8575"]}
{"code_tokens": ["sequence", "_", "analysis", "_", "list", "_", "free", "(", "seq", "_", "analysis", "_", "info", "_", "t", "*", "sainfo", ")", "<nl>", "while", "(", "list", ")", "<nl>", "{", "<nl>", "sequence", "_", "analysis", "_", "item", "_", "free", "(", "list", "-", ">", "data", ")", ";", "<nl>", "+", "list", "=", "g", "_", "list", "_", "next", "(", "list", ")", ";", "<nl>", "}", "<nl>", "g", "_", "queue", "_", "free", "(", "sainfo", "-", ">", "items", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "missing", "g_list_next", "with", "GLib", "2", "32"]}
{"code_tokens": ["#", "include", "<", "epan", "/", "packet", ".", "h", ">", "<nl>", "#", "include", "\"", "prefs", ".", "h", "\"", "<nl>", "<nl>", "-", "static", "int", "ISUP", "_", "thinTCPPort", "=", "0", ";", "<nl>", "+", "static", "guint", "ISUP", "_", "thinTCPPort", "=", "0", ";", "<nl>", "<nl>", "/", "*", "Initialize", "the", "protocol", "and", "registered", "fields", "*", "/", "<nl>", "static", "int", "proto", "_", "isup", "_", "thin", "=", "-", "1", ";", "<nl>", "dissect", "_", "isup", "_", "thin", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "void", "<nl>", "proto", "_", "reg", "_", "handoff", "_", "isup", "_", "thin", "(", "void", ")", "<nl>", "{", "<nl>", "-", "static", "int", "Initialized", "=", "FALSE", ";", "<nl>", "+", "static", "gboolean", "Initialized", "=", "FALSE", ";", "<nl>", "static", "dissector", "_", "handle", "_", "t", "isup", "_", "thin", "_", "handle", ";", "<nl>", "-", "static", "int", "saved", "_", "tcp", "_", "port", ";", "<nl>", "+", "static", "guint", "saved", "_", "tcp", "_", "port", ";", "<nl>", "<nl>", "if", "(", "!", "Initialized", ")", "{", "<nl>", "isup", "_", "thin", "_", "handle", "=", "find", "_", "dissector", "(", "\"", "isup", "_", "thin", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "several", "definitions"]}
{"code_tokens": ["dissect", "_", "rm", "_", "enabled", "_", "capabilities", "_", "ie", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "<nl>", "if", "(", "tag", "_", "len", "!", "=", "5", ")", "<nl>", "{", "<nl>", "-", "expert", "_", "add", "_", "info", "_", "format", "(", "pinfo", ",", "ti", "_", "len", ",", "&", "ei", "_", "ieee80211", "_", "tag", "_", "length", ",", "\"", "RM", "Enabled", "Capabilities", "length", "%", "u", "wrong", ",", "must", "=", "4", "\"", ",", "tag", "_", "len", ")", ";", "<nl>", "+", "expert", "_", "add", "_", "info", "_", "format", "(", "pinfo", ",", "ti", "_", "len", ",", "&", "ei", "_", "ieee80211", "_", "tag", "_", "length", ",", "\"", "RM", "Enabled", "Capabilities", "length", "%", "u", "wrong", ",", "must", "=", "5", "\"", ",", "tag", "_", "len", ")", ";", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", "(", "%", "d", "octets", ")", "\"", ",", "tag", "_", "len", ")", ";", "mmm", "epan", "/", "dissectors", "/", "packet", "-", "gsm", "_", "a", "_", "dtap", ".", "c", "<nl>", "dissect", "_", "rm", "_", "enabled", "_", "capabilities", "_", "ie", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "<nl>", "if", "(", "tag", "_", "len", "!", "=", "5", ")", "<nl>", "{", "<nl>", "-", "expert", "_", "add", "_", "info", "_", "format", "(", "pinfo", ",", "ti", "_", "len", ",", "&", "ei", "_", "ieee80211", "_", "tag", "_", "length", ",", "\"", "RM", "Enabled", "Capabilities", "length", "%", "u", "wrong", ",", "must", "=", "4", "\"", ",", "tag", "_", "len", ")", ";", "<nl>", "+", "expert", "_", "add", "_", "info", "_", "format", "(", "pinfo", ",", "ti", "_", "len", ",", "&", "ei", "_", "ieee80211", "_", "tag", "_", "length", ",", "\"", "RM", "Enabled", "Capabilities", "length", "%", "u", "wrong", ",", "must", "=", "5", "\"", ",", "tag", "_", "len", ")", ";", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", "(", "%", "d", "octets", ")", "\"", ",", "tag", "_", "len", ")", ";", "<nl>", "proto", "_", "register", "_", "gsm", "_", "a", "_", "dtap", "(", "void", ")", "<nl>", "NULL", ",", "HFILL", "}", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "gsm", "_", "a", "_", "dtap", "_", "bearer", "_", "cap", "_", "coding", "_", "standard", ",", "<nl>", "-", "{", "\"", "Coding", "standard", "\"", ",", "\"", "gsm", "_", "a", ".", "dtap", ".", "coding", "_", "standard", "\"", ",", "<nl>", "+", "{", "\"", "Coding", "standard", "\"", ",", "\"", "gsm", "_", "a", ".", "dtap", ".", "cap", "_", "coding", "_", "standard", "\"", ",", "<nl>", "FT", "_", "BOOLEAN", ",", "8", ",", "TFS", "(", "&", "tfs", "_", "bearer", "_", "cap", "_", "coding", "_", "standard", ")", ",", "0x10", ",", "<nl>", "NULL", ",", "HFILL", "}", "<nl>", "}", ",", "<nl>"], "docstring_tokens": ["802", "11", "fix", "typo", "on", "RM", "enabled", "length"]}
{"code_tokens": ["dissect", "_", "smb2", "_", "read", "_", "request", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "i", "<nl>", "<nl>", "/", "*", "minimum", "count", "*", "/", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "smb2", "_", "min", "_", "count", ",", "tvb", ",", "offset", ",", "4", ",", "ENC", "_", "LITTLE", "_", "ENDIAN", ")", ";", "<nl>", "+", "offset", "+", "=", "4", ";", "<nl>", "<nl>", "/", "*", "channel", "*", "/", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "smb2", "_", "channel", ",", "tvb", ",", "offset", ",", "4", ",", "ENC", "_", "LITTLE", "_", "ENDIAN", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "https", "bugs", "wireshark", "org", "bugzilla", "show_bug", "cgi", "id", "7790"]}
{"code_tokens": ["gboolean", "catapult", "_", "dct2000", "_", "dump", "(", "wtap", "_", "dumper", "*", "wdh", ",", "const", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "<nl>", "gboolean", "read", "_", "new", "_", "line", "(", "FILE", "_", "T", "fh", ",", "gint64", "*", "offset", ",", "gint", "*", "length", ",", "<nl>", "gchar", "*", "linebuff", ",", "size", "_", "t", "linebuffsize", ")", "<nl>", "{", "<nl>", "-", "char", "*", "result", ";", "<nl>", "-", "<nl>", "/", "*", "Read", "in", "a", "line", "*", "/", "<nl>", "-", "result", "=", "file", "_", "gets", "(", "linebuff", ",", "(", "int", ")", "linebuffsize", "-", "1", ",", "fh", ")", ";", "<nl>", "+", "char", "*", "result", "=", "file", "_", "gets", "(", "linebuff", ",", "(", "int", ")", "linebuffsize", "-", "1", ",", "fh", ")", ";", "<nl>", "if", "(", "result", "=", "=", "NULL", ")", "{", "<nl>", "/", "*", "No", "characters", "found", ",", "or", "error", "*", "/", "<nl>", "return", "FALSE", ";", "<nl>", "static", "gboolean", "parse", "_", "line", "(", "gchar", "*", "linebuff", ",", "gint", "line", "_", "length", ",", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "Reset", "strings", "(", "that", "won", "'", "t", "be", "set", "be", "comments", ")", "*", "/", "<nl>", "-", "g", "_", "strlcpy", "(", "variant", "_", "name", ",", "\"", "0", "\"", ",", "MAX", "_", "VARIANT", "_", "DIGITS", ")", ";", "<nl>", "-", "g", "_", "strlcpy", "(", "outhdr", "_", "name", ",", "\"", "\"", ",", "MAX", "_", "OUTHDR", "_", "NAME", ")", ";", "<nl>", "-", "g", "_", "strlcpy", "(", "port", "_", "number", "_", "string", ",", "\"", "0", "\"", ",", "MAX", "_", "PORT", "_", "DIGITS", ")", ";", "<nl>", "+", "/", "*", "Reset", "strings", "(", "that", "won", "'", "t", "be", "set", "by", "comments", ")", "*", "/", "<nl>", "+", "variant", "_", "name", "[", "0", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "+", "outhdr", "_", "name", "[", "0", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "+", "port", "_", "number", "_", "string", "[", "0", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "<nl>", "if", "(", "!", "(", "*", "is", "_", "comment", ")", ")", "{", "<nl>", "/", "*", "'", ".", "'", "must", "follow", "context", "name", "*", "/", "<nl>", "static", "gboolean", "parse", "_", "line", "(", "gchar", "*", "linebuff", ",", "gint", "line", "_", "length", ",", "<nl>", "(", "strcmp", "(", "protocol", "_", "name", ",", "\"", "fp", "_", "r4", "\"", ")", "=", "=", "0", ")", "|", "|", "<nl>", "(", "strcmp", "(", "protocol", "_", "name", ",", "\"", "fp", "_", "r5", "\"", ")", "=", "=", "0", ")", "|", "|", "<nl>", "(", "strcmp", "(", "protocol", "_", "name", ",", "\"", "fp", "_", "r6", "\"", ")", "=", "=", "0", ")", "|", "|", "<nl>", "-", "(", "strcmp", "(", "protocol", "_", "name", ",", "\"", "fp", "_", "r7", "\"", ")", "=", "=", "0", ")", ")", "{", "<nl>", "+", "(", "strcmp", "(", "protocol", "_", "name", ",", "\"", "fp", "_", "r7", "\"", ")", "=", "=", "0", ")", "|", "|", "<nl>", "+", "(", "strcmp", "(", "protocol", "_", "name", ",", "\"", "fp", "_", "r8", "\"", ")", "=", "=", "0", ")", ")", "{", "<nl>", "<nl>", "if", "(", "(", "variant", ">", "256", ")", "&", "&", "(", "variant", "%", "256", "=", "=", "3", ")", ")", "{", "<nl>", "/", "*", "FP", "over", "udp", "is", "contained", "in", "IPPrim", ".", ".", ".", "*", "/", "<nl>"], "docstring_tokens": ["Support", "FP_R8", "over", "ATM", "plus", "a", "couple", "of", "other", "tidying", "ups"]}
{"code_tokens": ["void", "OverlayScrollBar", ":", ":", "paintEvent", "(", "QPaintEvent", "*", "event", ")", "<nl>", "pm", "_", "painter", ".", "setPen", "(", "border", "_", "color", ")", ";", "<nl>", "pm", "_", "painter", ".", "drawLine", "(", "near", "_", "dest", ".", "topLeft", "(", ")", ",", "near", "_", "dest", ".", "bottomLeft", "(", ")", ")", ";", "<nl>", "pm", "_", "painter", ".", "drawLine", "(", "near", "_", "dest", ".", "topRight", "(", ")", ",", "near", "_", "dest", ".", "bottomRight", "(", ")", ")", ";", "<nl>", "+", "pm", "_", "painter", ".", "drawLine", "(", "near", "_", "dest", ".", "bottomLeft", "(", ")", ",", "near", "_", "dest", ".", "bottomRight", "(", ")", ")", ";", "<nl>", "pm", "_", "painter", ".", "restore", "(", ")", ";", "<nl>", "<nl>", "/", "/", "Draw", "the", "map", ".", "<nl>"], "docstring_tokens": ["Qt", "Add", "a", "bottom", "border", "to", "the", "packet", "map"]}
{"code_tokens": ["dissect", "_", "zbee", "_", "nwk", "_", "heur", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "<nl>", "ieee802154", "_", "packet", "*", "packet", "=", "(", "ieee802154", "_", "packet", "*", ")", "data", ";", "<nl>", "<nl>", "/", "*", "All", "ZigBee", "frames", "must", "always", "have", "a", "16", "-", "bit", "source", "address", ".", "*", "/", "<nl>", "-", "if", "(", "packet", "-", ">", "src", "_", "addr", "_", "mode", "!", "=", "IEEE802154", "_", "FCF", "_", "ADDR", "_", "SHORT", ")", "{", "<nl>", "+", "if", "(", "(", "packet", "=", "=", "NULL", ")", "|", "|", "<nl>", "+", "(", "packet", "-", ">", "src", "_", "addr", "_", "mode", "!", "=", "IEEE802154", "_", "FCF", "_", "ADDR", "_", "SHORT", ")", ")", "{", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>", "/", "*", "ZigBee", "MAC", "frames", "must", "always", "contain", "a", "16", "-", "bit", "destination", "address", ".", "*", "/", "<nl>"], "docstring_tokens": ["Return", "FALSE", "from", "dissect_zbee_nwk_heur", "if", "data", "is", "NULL"]}
{"code_tokens": ["*", "Routines", "for", "LPR", "and", "LPRng", "packet", "disassembly", "<nl>", "*", "Gilbert", "Ramirez", "<", "gram", "@", "xiexie", ".", "org", ">", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "lpd", ".", "c", ",", "v", "1", ".", "17", "2000", "/", "04", "/", "08", "07", ":", "07", ":", "28", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "lpd", ".", "c", ",", "v", "1", ".", "18", "2000", "/", "04", "/", "20", "15", ":", "24", ":", "41", "gram", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "zing", ".", "org", ">", "<nl>", "dissect", "_", "lpd", "(", "const", "u", "_", "char", "*", "pd", ",", "int", "offset", ",", "frame", "_", "data", "*", "fd", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "RFC", "1179", ".", "http", ":", "/", "/", "www", ".", "astart", ".", "com", "/", "lprng", "/", "LPRng", "-", "HOWTO", ".", "html", "*", "/", "<nl>", "char", "*", "lpd", "_", "client", "_", "code", "[", "]", "=", "{", "<nl>", "\"", "Unknown", "command", "\"", ",", "<nl>", "-", "\"", "LPC", ":", "start", "print", "\"", ",", "<nl>", "-", "\"", "LPR", ":", "transfer", "a", "printer", "job", "\"", ",", "<nl>", "-", "\"", "LPQ", ":", "print", "short", "form", "of", "queue", "status", "\"", ",", "<nl>", "+", "\"", "LPC", ":", "start", "print", "/", "jobcmd", ":", "abort", "\"", ",", "<nl>", "+", "\"", "LPR", ":", "transfer", "a", "printer", "job", "/", "jobcmd", ":", "receive", "control", "file", "\"", ",", "<nl>", "+", "\"", "LPQ", ":", "print", "short", "form", "of", "queue", "status", "/", "jobcmd", ":", "receive", "data", "file", "\"", ",", "<nl>", "\"", "LPQ", ":", "print", "long", "form", "of", "queue", "status", "\"", ",", "<nl>", "\"", "LPRM", ":", "remove", "jobs", "\"", ",", "<nl>", "\"", "LPRng", "lpc", ":", "do", "control", "operation", "\"", ",", "<nl>", "dissect", "_", "lpd", "(", "const", "u", "_", "char", "*", "pd", ",", "int", "offset", ",", "frame", "_", "data", "*", "fd", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "\"", "Bad", "job", "format", ",", "do", "not", "retry", "\"", "<nl>", "}", ";", "<nl>", "<nl>", "-", "<nl>", "-", "if", "(", "pd", "[", "offset", "+", "1", "]", "=", "=", "'", "\\", "n", "'", ")", "{", "<nl>", "+", "/", "*", "rfc1179", "states", "that", "all", "responses", "are", "1", "byte", "long", "*", "/", "<nl>", "+", "if", "(", "END", "_", "OF", "_", "FRAME", "=", "=", "1", ")", "{", "<nl>", "lpr", "_", "packet", "_", "type", "=", "response", ";", "<nl>", "}", "<nl>", "else", "if", "(", "pd", "[", "offset", "]", "<", "=", "9", ")", "{", "<nl>", "dissect", "_", "lpd", "(", "const", "u", "_", "char", "*", "pd", ",", "int", "offset", ",", "frame", "_", "data", "*", "fd", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "int", "response", "=", "pd", "[", "offset", "]", ";", "<nl>", "<nl>", "if", "(", "response", "<", "=", "3", ")", "{", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "text", "(", "lpd", "_", "tree", ",", "offset", ",", "2", ",", "\"", "Response", ":", "%", "s", "\"", ",", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "text", "(", "lpd", "_", "tree", ",", "offset", ",", "1", ",", "\"", "Response", ":", "%", "s", "\"", ",", "<nl>", "lpd", "_", "server", "_", "code", "[", "response", "]", ")", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>"], "docstring_tokens": ["LPD", "fixes", "from", "Matthijs", "Melchior", "mmelchior", "lucent", "com"]}
{"code_tokens": ["/", "*", "main", ".", "c", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "main", ".", "c", ",", "v", "1", ".", "386", "2004", "/", "02", "/", "01", "20", ":", "28", ":", "11", "ulfl", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "main", ".", "c", ",", "v", "1", ".", "387", "2004", "/", "02", "/", "01", "22", ":", "43", ":", "34", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "main", "_", "window", "_", "delete", "_", "event", "_", "cb", "(", "GtkWidget", "*", "widget", "_", "U", "_", ",", "GdkEvent", "*", "event", "_", "U", "_", ",", "gpointer", "<nl>", "}", "<nl>", "<nl>", "static", "void", "<nl>", "-", "main", "_", "load", "_", "window", "_", "geometry", "(", "GtkWidget", "*", "widget", ")", "<nl>", "+", "main", "_", "load", "_", "window", "_", "geometry", "(", "GtkWidget", "*", "widget", "<nl>", "+", "#", "if", "GTK", "_", "MAJOR", "_", "VERSION", "<", "2", "<nl>", "+", "_", "U", "_", "<nl>", "+", "#", "endif", "<nl>", "+", ")", "<nl>", "{", "<nl>", "/", "*", "as", "we", "now", "have", "the", "geometry", "from", "the", "recent", "file", ",", "set", "it", "*", "/", "<nl>", "if", "(", "prefs", ".", "gui", "_", "geometry", "_", "save", "_", "position", ")", "{", "<nl>"], "docstring_tokens": ["Mark", "the", "widget", "argument", "to", "main_load_window_geometry", "as", "unused"]}
{"code_tokens": ["static", "void", "dissect", "_", "mqpcf", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "m", "<nl>", "<nl>", "static", "gboolean", "dissect", "_", "mqpcf", "_", "heur", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", ")", "<nl>", "{", "<nl>", "-", "if", "(", "tvb", "_", "length", "(", "tvb", ")", ">", "=", "36", ")", "<nl>", "+", "if", "(", "data", "&", "&", "tvb", "_", "length", "(", "tvb", ")", ">", "=", "36", ")", "<nl>", "{", "<nl>", "mq", "_", "parm", "_", "t", "*", "p", "_", "mq", "_", "parm", "=", "(", "mq", "_", "parm", "_", "t", "*", ")", "data", ";", "<nl>", "if", "(", "strncmp", "(", "(", "const", "char", "*", ")", "p", "_", "mq", "_", "parm", "-", ">", "mq", "_", "format", ",", "MQ", "_", "MQFMT", "_", "ADMIN", ",", "8", ")", "=", "=", "0", "<nl>"], "docstring_tokens": ["If", "data", "is", "NULL", "return", "FALSE"]}
{"code_tokens": ["static", "e", "_", "guid", "_", "t", "uuid", "_", "mgmt", "=", "{", "0xafa8bd80", ",", "0x7d8a", ",", "0x11c9", ",", "{", "0xbe", ",", "0xf4", ",", "0x08", ",", "0", "x", "<nl>", "static", "guint16", "ver", "_", "mgmt", "=", "1", ";", "<nl>", "<nl>", "static", "int", "<nl>", "-", "mgmtrpc", "_", "dissect", "_", "inq", "_", "princ", "_", "name", "_", "response", "(", "tvbuff", "_", "t", "*", "tvb", "_", "U", "_", ",", "int", "offset", "_", "U", "_", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "tree", "_", "U", "_", ",", "dcerpc", "_", "info", "*", "di", "_", "U", "_", ",", "guint8", "*", "drep", "_", "U", "_", ")", "<nl>", "+", "mgmtrpc", "_", "dissect", "_", "inq", "_", "princ", "_", "name", "_", "response", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "dcerpc", "_", "info", "*", "di", ",", "guint8", "*", "drep", ")", "<nl>", "{", "<nl>", "<nl>", "offset", "=", "dissect", "_", "ndr", "_", "cvstring", "(", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "di", ",", "drep", ",", "<nl>", "mgmtrpc", "_", "dissect", "_", "inq", "_", "princ", "_", "name", "_", "response", "(", "tvbuff", "_", "t", "*", "tvb", "_", "U", "_", ",", "int", "offset", "_", "U", "_", ",", "packe", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "static", "int", "<nl>", "-", "mgmtrpc", "_", "dissect", "_", "inq", "_", "princ", "_", "name", "_", "request", "(", "tvbuff", "_", "t", "*", "tvb", "_", "U", "_", ",", "int", "offset", "_", "U", "_", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "tree", "_", "U", "_", ",", "dcerpc", "_", "info", "*", "di", "_", "U", "_", ",", "guint8", "*", "drep", "_", "U", "_", ")", "<nl>", "+", "mgmtrpc", "_", "dissect", "_", "inq", "_", "princ", "_", "name", "_", "request", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "dcerpc", "_", "info", "*", "di", ",", "guint8", "*", "drep", ")", "<nl>", "{", "<nl>", "offset", "=", "dissect", "_", "ndr", "_", "uint32", "(", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "di", ",", "drep", ",", "hf", "_", "mgmt", "_", "proto", ",", "NULL", ")", ";", "<nl>", "offset", "=", "dissect", "_", "ndr", "_", "uint32", "(", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "di", ",", "drep", ",", "hf", "_", "mgmt", "_", "princ", "_", "size", ",", "NULL", ")", ";", "<nl>"], "docstring_tokens": ["mgmt", "DCERPC", "fix", "tvb", "offset", "was", "marked", "unused", "but", "was", "used", "Werror", "Wused", "but", "marked", "unused"]}
{"code_tokens": ["fp", "_", "set", "_", "per", "_", "packet", "_", "inf", "_", "from", "_", "conv", "(", "umts", "_", "fp", "_", "conversation", "_", "info", "_", "t", "*", "p", "_", "conv", "_", "data", ",", "<nl>", "<nl>", "/", "*", "Peek", "at", "C", "/", "T", ",", "different", "RLC", "params", "for", "different", "logical", "channels", "*", "/", "<nl>", "/", "*", "C", "/", "T", "is", "4", "bits", "according", "to", "3GPP", "TS", "25", ".", "321", ",", "paragraph", "9", ".", "2", ".", "1", ",", "from", "MAC", "header", "(", "not", "FP", ")", "*", "/", "<nl>", "-", "c", "_", "t", "=", "tvb", "_", "get", "_", "bits8", "(", "tvb", ",", "tb", "_", "bit", "_", "off", "/", "*", "(", "2", "+", "p", "_", "conv", "_", "data", "-", ">", "num", "_", "dch", "_", "in", "_", "flow", ")", "*", "8", "*", "/", ",", "4", ")", ";", "/", "*", "c", "_", "t", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "offset", ")", ";", "*", "/", "<nl>", "-", "macinf", "-", ">", "lchid", "[", "j", "+", "chan", "]", "=", "c", "_", "t", "+", "1", ";", "<nl>", "+", "c", "_", "t", "=", "(", "tvb", "_", "get", "_", "bits8", "(", "tvb", ",", "tb", "_", "bit", "_", "off", "/", "*", "(", "2", "+", "p", "_", "conv", "_", "data", "-", ">", "num", "_", "dch", "_", "in", "_", "flow", ")", "*", "8", "*", "/", ",", "4", ")", "+", "1", ")", "%", "0xf", ";", "/", "*", "c", "_", "t", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "offset", ")", ";", "*", "/", "<nl>", "+", "macinf", "-", ">", "lchid", "[", "j", "+", "chan", "]", "=", "c", "_", "t", ";", "<nl>", "<nl>", "-", "macinf", "-", ">", "content", "[", "j", "+", "chan", "]", "=", "lchId", "_", "type", "_", "table", "[", "c", "_", "t", "+", "1", "]", ";", "/", "*", "Base", "MAC", "content", "on", "logical", "channel", "id", "(", "Table", "is", "in", "packet", "-", "nbap", ".", "h", ")", "*", "/", "<nl>", "-", "rlcinf", "-", ">", "mode", "[", "j", "+", "chan", "]", "=", "lchId", "_", "rlc", "_", "map", "[", "c", "_", "t", "+", "1", "]", ";", "/", "*", "Based", "RLC", "mode", "on", "logical", "channel", "id", "*", "/", "<nl>", "+", "macinf", "-", ">", "content", "[", "j", "+", "chan", "]", "=", "lchId", "_", "type", "_", "table", "[", "c", "_", "t", "]", ";", "/", "*", "Base", "MAC", "content", "on", "logical", "channel", "id", "(", "Table", "is", "in", "packet", "-", "nbap", ".", "h", ")", "*", "/", "<nl>", "+", "rlcinf", "-", ">", "mode", "[", "j", "+", "chan", "]", "=", "lchId", "_", "rlc", "_", "map", "[", "c", "_", "t", "]", ";", "/", "*", "Based", "RLC", "mode", "on", "logical", "channel", "id", "*", "/", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "fake", "_", "lchid", "=", "make", "_", "fake", "_", "lchid", "(", "pinfo", ",", "p", "_", "conv", "_", "data", "-", ">", "dchs", "_", "in", "_", "flow", "_", "list", "[", "chan", "]", ")", ";", "<nl>"], "docstring_tokens": ["UMTS_FP", "fix", "handling", "reserved", "C", "T", "value"]}
{"code_tokens": ["dissect", "_", "h264", "_", "exp", "_", "golomb", "_", "code", "(", "proto", "_", "tree", "*", "tree", ",", "int", "hf", "_", "index", ",", "tvbuff", "_", "t", "*", "tvb", ",", "gint", "<nl>", "codenum", "=", "1", ";", "<nl>", "codenum", "=", "codenum", "<", "<", "leading", "_", "zero", "_", "bits", ";", "<nl>", "mask", "=", "codenum", ">", ">", "1", ";", "<nl>", "-", "if", "(", "leading", "_", "zero", "_", "bits", ">", "8", ")", "<nl>", "+", "if", "(", "leading", "_", "zero", "_", "bits", ">", "16", ")", "<nl>", "+", "value", "=", "tvb", "_", "get", "_", "bits32", "(", "tvb", ",", "bit", "_", "offset", ",", "leading", "_", "zero", "_", "bits", ",", "FALSE", ")", ";", "<nl>", "+", "else", "if", "(", "leading", "_", "zero", "_", "bits", ">", "8", ")", "<nl>", "value", "=", "tvb", "_", "get", "_", "bits16", "(", "tvb", ",", "bit", "_", "offset", ",", "leading", "_", "zero", "_", "bits", ",", "FALSE", ")", ";", "<nl>", "else", "<nl>", "value", "=", "tvb", "_", "get", "_", "bits8", "(", "tvb", ",", "bit", "_", "offset", ",", "leading", "_", "zero", "_", "bits", ")", ";", "<nl>"], "docstring_tokens": ["Call", "tvb_get_bits32", "if", "leading_zero_bits", "16"]}
{"code_tokens": ["/", "*", "file", ".", "c", "<nl>", "*", "File", "I", "/", "O", "routines", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "file", ".", "c", ",", "v", "1", ".", "59", "1999", "/", "08", "/", "10", "04", ":", "13", ":", "36", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "file", ".", "c", ",", "v", "1", ".", "60", "1999", "/", "08", "/", "10", "06", ":", "54", ":", "12", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "zing", ".", "org", ">", "<nl>", "wtap", "_", "dispatch", "_", "cb", "(", "u", "_", "char", "*", "user", ",", "const", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "int", "offset", ",", "<nl>", "/", "*", "Allocate", "the", "next", "list", "entry", ",", "and", "add", "it", "to", "the", "list", ".", "*", "/", "<nl>", "fdata", "=", "(", "frame", "_", "data", "*", ")", "g", "_", "malloc", "(", "sizeof", "(", "frame", "_", "data", ")", ")", ";", "<nl>", "<nl>", "+", "fdata", "-", ">", "next", "=", "NULL", ";", "<nl>", "fdata", "-", ">", "pkt", "_", "len", "=", "phdr", "-", ">", "len", ";", "<nl>", "fdata", "-", ">", "cap", "_", "len", "=", "phdr", "-", ">", "caplen", ";", "<nl>", "fdata", "-", ">", "file", "_", "off", "=", "offset", ";", "<nl>"], "docstring_tokens": ["Initialize", "the", "next", "pointer", "of", "a", "frame_data", "structure", "to", "NULL", "before"]}
{"code_tokens": ["const", "int", "custom", "_", "occurrence", "_", "col", "_", "=", "4", ";", "<nl>", "ColumnPreferencesFrame", ":", ":", "ColumnPreferencesFrame", "(", "QWidget", "*", "parent", ")", ":", "<nl>", "QFrame", "(", "parent", ")", ",", "<nl>", "ui", "(", "new", "Ui", ":", ":", "ColumnPreferencesFrame", ")", ",", "<nl>", "+", "cur", "_", "column", "_", "(", "0", ")", ",", "<nl>", "cur", "_", "line", "_", "edit", "_", "(", "NULL", ")", ",", "<nl>", "cur", "_", "combo", "_", "box", "_", "(", "NULL", ")", ",", "<nl>", "+", "saved", "_", "combo", "_", "idx", "_", "(", "0", ")", ",", "<nl>", "saved", "_", "custom", "_", "combo", "_", "idx", "_", "(", "-", "1", ")", "<nl>", "{", "<nl>", "ui", "-", ">", "setupUi", "(", "this", ")", ";", "<nl>"], "docstring_tokens": ["Qt", "add", "initializers", "CID", "1159363"]}
{"code_tokens": ["typedef", "struct", "_", "ext", "_", "toolbar", "_", "update", "_", "list", "_", "t", "<nl>", "GList", "*", "entries", ";", "<nl>", "}", "ext", "_", "toolbar", "_", "update", "_", "list", "_", "t", ";", "<nl>", "<nl>", "-", "extern", "gint", "<nl>", "+", "static", "gint", "<nl>", "ext", "_", "toolbar", "_", "find", "_", "item", "(", "gconstpointer", "a", ",", "gconstpointer", "b", ")", "<nl>", "{", "<nl>", "if", "(", "a", "=", "=", "0", "|", "|", "b", "=", "=", "0", ")", "<nl>"], "docstring_tokens": ["plugin_if", "fix", "no", "previous", "prototype", "for", "ext_toolbar_find_item", "Wmissing", "prototypes"]}
{"code_tokens": ["extern", "void", "avp", "_", "init", "(", "void", ")", "{", "<nl>", "extern", "AVP", "*", "new", "_", "avp", "_", "from", "_", "finfo", "(", "const", "gchar", "*", "name", ",", "field", "_", "info", "*", "finfo", ")", "{", "<nl>", "AVP", "*", "new", "=", "(", "AVP", "*", ")", "g", "_", "slice", "_", "new", "(", "any", "_", "avp", "_", "type", ")", ";", "<nl>", "gchar", "*", "value", ";", "<nl>", "+", "gchar", "*", "repr", "=", "NULL", ";", "<nl>", "<nl>", "new", "-", ">", "n", "=", "scs", "_", "subscribe", "(", "avp", "_", "strings", ",", "name", ")", ";", "<nl>", "<nl>", "if", "(", "finfo", "-", ">", "value", ".", "ftype", "-", ">", "val", "_", "to", "_", "string", "_", "repr", ")", "{", "<nl>", "-", "value", "=", "scs", "_", "subscribe", "(", "avp", "_", "strings", ",", "fvalue", "_", "to", "_", "string", "_", "repr", "(", "&", "finfo", "-", ">", "value", ",", "FTREPR", "_", "DISPLAY", ",", "NULL", ")", ")", ";", "<nl>", "+", "repr", "=", "fvalue", "_", "to", "_", "string", "_", "repr", "(", "&", "finfo", "-", ">", "value", ",", "FTREPR", "_", "DISPLAY", ",", "NULL", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "if", "(", "repr", ")", "{", "<nl>", "+", "value", "=", "scs", "_", "subscribe", "(", "avp", "_", "strings", ",", "repr", ")", ";", "<nl>", "#", "ifdef", "_", "AVP", "_", "DEBUGGING", "<nl>", "dbg", "_", "print", "(", "dbg", "_", "avp", ",", "2", ",", "dbg", "_", "fp", ",", "\"", "new", "_", "avp", "_", "from", "_", "finfo", ":", "from", "string", ":", "%", "s", "\"", ",", "value", ")", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["Fix", "Coverity", "702421", "Handle", "the", "possibility", "that", "fvalue_to_string_repr"]}
{"code_tokens": ["dissect", "_", "rtacser", "_", "data", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "<nl>", "p", "_", "add", "_", "proto", "_", "data", "(", "pinfo", "-", ">", "pool", ",", "pinfo", ",", "proto", "_", "rtacser", ",", "0", ",", "GUINT", "_", "TO", "_", "POINTER", "(", "global", "_", "rtacser", "_", "payload", "_", "proto", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "RTACSER", "_", "HEADER", "_", "LEN", ")", ">", "0", ")", "{", "<nl>", "+", "if", "(", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ">", "0", ")", "{", "<nl>", "payload", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "_", "remaining", "(", "tvb", ",", "RTACSER", "_", "HEADER", "_", "LEN", ")", ";", "<nl>", "if", "(", "!", "dissector", "_", "try", "_", "uint", "(", "subdissector", "_", "table", ",", "global", "_", "rtacser", "_", "payload", "_", "proto", ",", "payload", "_", "tvb", ",", "pinfo", ",", "tree", ")", ")", "{", "<nl>", "call", "_", "dissector", "(", "data", "_", "handle", ",", "payload", "_", "tvb", ",", "pinfo", ",", "tree", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "Dead", "Store", "Dead", "assignement", "Dead", "increment", "warning", "found", "by", "Clang"]}
{"code_tokens": ["/", "*", "proto", "_", "draw", ".", "c", "<nl>", "*", "Routines", "for", "GTK", "+", "packet", "display", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "proto", "_", "draw", ".", "c", ",", "v", "1", ".", "24", "2001", "/", "01", "/", "02", "01", ":", "32", ":", "21", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "proto", "_", "draw", ".", "c", ",", "v", "1", ".", "25", "2001", "/", "01", "/", "11", "05", ":", "51", ":", "10", "gram", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "zing", ".", "org", ">", "<nl>", "packet", "_", "hex", "_", "print", "(", "GtkText", "*", "bv", ",", "guint8", "*", "pd", ",", "frame", "_", "data", "*", "fd", ",", "field", "_", "info", "*", "finfo", ")", "<nl>", "if", "(", "bstart", ">", "0", ")", "{", "<nl>", "int", "lineheight", ",", "linenum", ";", "<nl>", "float", "scrollval", ";", "<nl>", "-", "linenum", "=", "bstart", "/", "BYTE", "_", "VIEW", "_", "WIDTH", ";", "<nl>", "<nl>", "-", "/", "*", "need", "to", "change", "to", "some", "way", "of", "getting", "that", "offset", "instead", "of", "+", "4", "*", "/", "<nl>", "-", "lineheight", "=", "gdk", "_", "string", "_", "height", "(", "m", "_", "b", "_", "font", ",", "\"", "0", "\"", ")", "+", "4", ";", "<nl>", "+", "linenum", "=", "bstart", "/", "BYTE", "_", "VIEW", "_", "WIDTH", ";", "<nl>", "+", "/", "*", "This", "is", "the", "lineheight", "that", "the", "GtkText", "widget", "uses", "when", "drawing", "text", ".", "*", "/", "<nl>", "+", "lineheight", "=", "m", "_", "b", "_", "font", "-", ">", "ascent", "+", "m", "_", "b", "_", "font", "-", ">", "descent", ";", "<nl>", "scrollval", "=", "MIN", "(", "linenum", "*", "lineheight", ",", "bv", "-", ">", "vadj", "-", ">", "upper", "-", "bv", "-", ">", "vadj", "-", ">", "page", "_", "size", ")", ";", "<nl>", "<nl>", "gtk", "_", "adjustment", "_", "set", "_", "value", "(", "bv", "-", ">", "vadj", ",", "scrollval", ")", ";", "<nl>"], "docstring_tokens": ["Get", "rid", "of", "the", "magic", "4", "and", "properly", "calculate", "the", "lineheight", "so"]}
{"code_tokens": ["static", "guint", "iax", "_", "circuit", "_", "lookup", "(", "const", "address", "*", "address", ",", "<nl>", "new", "_", "key", "-", ">", "addr", ".", "type", "=", "address", "-", ">", "type", ";", "<nl>", "new", "_", "key", "-", ">", "addr", ".", "len", "=", "MIN", "(", "address", "-", ">", "len", ",", "MAX", "_", "ADDRESS", ")", ";", "<nl>", "new", "_", "key", "-", ">", "addr", ".", "data", "=", "new", "_", "key", "-", ">", "address", "_", "data", ";", "<nl>", "-", "memmove", "(", "new", "_", "key", "-", ">", "address", "_", "data", ",", "address", "-", ">", "data", ",", "new", "_", "key", "-", ">", "addr", ".", "len", ")", ";", "<nl>", "+", "memcpy", "(", "new", "_", "key", "-", ">", "address", "_", "data", ",", "address", "-", ">", "data", ",", "new", "_", "key", "-", ">", "addr", ".", "len", ")", ";", "<nl>", "new", "_", "key", "-", ">", "ptype", "=", "ptype", ";", "<nl>", "new", "_", "key", "-", ">", "port", "=", "port", ";", "<nl>", "new", "_", "key", "-", ">", "callno", "=", "callno", ";", "<nl>"], "docstring_tokens": ["memmove", "is", "needed", "only", "if", "the", "source", "and", "destination", "might", "overlap"]}
{"code_tokens": ["save", "_", "decode", "_", "as", "_", "entries", "(", "gchar", "*", "*", "err", ")", "<nl>", "<nl>", "dissector", "_", "all", "_", "tables", "_", "foreach", "_", "changed", "(", "decode", "_", "as", "_", "write", "_", "entry", ",", "da", "_", "file", ")", ";", "<nl>", "fclose", "(", "da", "_", "file", ")", ";", "<nl>", "+", "g", "_", "free", "(", "daf", "_", "path", ")", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["decode", "as", "Fix", "small", "memory", "leak"]}
{"code_tokens": ["bssmap", "_", "le", "_", "perf", "_", "loc", "_", "resp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ",", "guint32", "offset", ",", "guint", "l", "<nl>", "/", "*", "Deciphering", "Keys", "9", ".", "2", ".", "3", "C", "(", "note", "2", ")", "3", "-", "n", "*", "/", "<nl>", "ELEM", "_", "OPT", "_", "TLV", "(", "gsm", "_", "bssmap", "_", "le", "_", "elem", "_", "strings", "[", "DE", "_", "BMAPLE", "_", "DECIPH", "_", "KEYS", "]", ".", "value", ",", "GSM", "_", "PDU", "_", "TYPE", "_", "BSSMAP", "_", "LE", ",", "DE", "_", "BMAPLE", "_", "DECIPH", "_", "KEYS", ",", "\"", "\"", ")", ";", "<nl>", "/", "*", "LCS", "Cause", "9", ".", "2", ".", "4", "C", "(", "note", "3", ")", "3", "-", "n", "*", "/", "<nl>", "-", "ELEM", "_", "OPT", "_", "TLV", "(", "gsm", "_", "bssmap", "_", "le", "_", "elem", "_", "strings", "[", "DE", "_", "BMAPLE", "_", "LCS", "_", "CAUSE", "]", ".", "value", ",", "GSM", "_", "PDU", "_", "TYPE", "_", "BSSMAP", "_", "LE", ",", "BSSMAP", "_", "LE", "_", "LCS", "_", "CAUSE", ",", "\"", "\"", ")", ";", "<nl>", "+", "ELEM", "_", "OPT", "_", "TLV", "(", "gsm", "_", "bssmap", "_", "le", "_", "elem", "_", "strings", "[", "DE", "_", "BMAPLE", "_", "LCS", "_", "CAUSE", "]", ".", "value", ",", "GSM", "_", "PDU", "_", "TYPE", "_", "BSSMAP", "_", "LE", ",", "DE", "_", "BMAPLE", "_", "LCS", "_", "CAUSE", ",", "\"", "\"", ")", ";", "<nl>", "/", "*", "Velocity", "Estimate", "9", ".", "2", ".", "5", "O", "3", "-", "n", "*", "/", "<nl>", "ELEM", "_", "OPT", "_", "TLV", "(", "gsm", "_", "bssmap", "_", "elem", "_", "strings", "[", "BE", "_", "VEL", "_", "EST", "]", ".", "value", ",", "BSSAP", "_", "PDU", "_", "TYPE", "_", "BSSMAP", ",", "BE", "_", "VEL", "_", "EST", ",", "\"", "\"", ")", ";", "<nl>", "/", "*", "GANSS", "Positioning", "Data", "9", ".", "2", ".", "6", "O", "3", "-", "n", "*", "/", "<nl>"], "docstring_tokens": ["One", "more", "fix", "for", "bug", "3081"]}
{"code_tokens": ["WSLUA", "_", "CONSTRUCTOR", "ByteArray", "_", "tvb", "(", "lua", "_", "State", "*", "L", ")", "{", "<nl>", "data", "=", "(", "guint8", "*", ")", "g", "_", "memdup", "(", "ba", "-", ">", "data", ",", "ba", "-", ">", "len", ")", ";", "<nl>", "<nl>", "tvb", "=", "(", "Tvb", ")", "g", "_", "malloc", "(", "sizeof", "(", "struct", "_", "wslua", "_", "tvb", ")", ")", ";", "<nl>", "-", "tvb", "-", ">", "ws", "_", "tvb", "=", "tvb", "_", "new", "_", "real", "_", "data", "(", "data", ",", "ba", "-", ">", "len", ",", "ba", "-", ">", "len", ")", ";", "<nl>", "+", "tvb", "-", ">", "ws", "_", "tvb", "=", "tvb", "_", "new", "_", "child", "_", "real", "_", "data", "(", "lua", "_", "tvb", ",", "data", ",", "ba", "-", ">", "len", ",", "ba", "-", ">", "len", ")", ";", "<nl>", "tvb", "-", ">", "expired", "=", "FALSE", ";", "<nl>", "-", "tvb", "-", ">", "need", "_", "free", "=", "TRUE", ";", "<nl>", "+", "tvb", "-", ">", "need", "_", "free", "=", "FALSE", ";", "<nl>", "tvb", "_", "set", "_", "free", "_", "cb", "(", "tvb", "-", ">", "ws", "_", "tvb", ",", "g", "_", "free", ")", ";", "<nl>", "<nl>", "add", "_", "new", "_", "data", "_", "source", "(", "lua", "_", "pinfo", ",", "tvb", "-", ">", "ws", "_", "tvb", ",", "name", ")", ";", "<nl>"], "docstring_tokens": ["wslua", "do", "not", "free", "TVB", "for", "data", "sources"]}
{"code_tokens": ["window", "_", "new", "_", "with", "_", "geom", "(", "GtkWindowType", "type", ",", "const", "gchar", "*", "title", ",", "const", "gchar", "*", "geom", "_", "n", "<nl>", "}", "<nl>", "<nl>", "<nl>", "-", "/", "*", "Create", "a", "new", "window", "for", "a", "splash", "screen", ";", "it", "'", "s", "a", "main", "window", ",", "with", "no", "title", ",", "<nl>", "+", "/", "*", "Create", "a", "new", "window", "for", "a", "splash", "screen", ";", "it", "'", "s", "a", "main", "window", ",", "without", "decoration", ",", "<nl>", "positioned", "in", "the", "center", "of", "the", "screen", ".", "*", "/", "<nl>", "GtkWidget", "*", "<nl>", "splash", "_", "window", "_", "new", "(", "void", ")", "<nl>", "{", "<nl>", "GtkWidget", "*", "win", ";", "<nl>", "<nl>", "-", "win", "=", "gtk", "_", "window", "_", "new", "(", "GTK", "_", "WINDOW", "_", "TOPLEVEL", ")", ";", "<nl>", "+", "win", "=", "window", "_", "new", "(", "GTK", "_", "WINDOW", "_", "TOPLEVEL", ",", "\"", "Wireshark", "\"", ")", ";", "<nl>", "gtk", "_", "window", "_", "set", "_", "decorated", "(", "GTK", "_", "WINDOW", "(", "win", ")", ",", "FALSE", ")", ";", "<nl>", "<nl>", "/", "*", "set", "the", "initial", "position", "(", "must", "be", "done", ",", "before", "show", "is", "called", "!", ")", "*", "/", "<nl>"], "docstring_tokens": ["Set", "a", "title", "on", "the", "splash", "window", "even", "though", "it", "s", "not", "decorated"]}
{"code_tokens": ["/", "*", "snoop", ".", "c", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "snoop", ".", "c", ",", "v", "1", ".", "65", "2003", "/", "11", "/", "11", "20", ":", "49", ":", "46", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "snoop", ".", "c", ",", "v", "1", ".", "66", "2003", "/", "12", "/", "19", "22", ":", "23", ":", "05", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Wiretap", "Library", "<nl>", "*", "Copyright", "(", "c", ")", "1998", "by", "Gilbert", "Ramirez", "<", "gram", "@", "alumni", ".", "rice", ".", "edu", ">", "<nl>", "static", "gboolean", "snoop", "_", "read", "(", "wtap", "*", "wth", ",", "int", "*", "err", ",", "long", "*", "data", "_", "offset", ")", "<nl>", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "RECORD", ";", "<nl>", "return", "FALSE", ";", "<nl>", "}", "<nl>", "+", "if", "(", "packet", "_", "size", ">", "rec", "_", "size", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Probably", "a", "corrupt", "capture", "file", ".", "<nl>", "+", "*", "/", "<nl>", "+", "g", "_", "message", "(", "\"", "snoop", ":", "File", "has", "%", "u", "-", "byte", "packet", ",", "bigger", "than", "record", "size", "%", "u", "\"", ",", "<nl>", "+", "packet", "_", "size", ",", "rec", "_", "size", ")", ";", "<nl>", "+", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "RECORD", ";", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "}", "<nl>", "<nl>", "*", "data", "_", "offset", "=", "wth", "-", ">", "data", "_", "offset", ";", "<nl>"], "docstring_tokens": ["Add", "some", "additional", "sanity", "checking"]}
{"code_tokens": ["csv", "_", "handle", "(", "GtkTreeModel", "*", "model", ",", "GtkTreePath", "*", "path", "_", "U", "_", ",", "GtkTreeIter", "*", "iter", ",", "<nl>", "i", "=", "=", "PERCENT", "_", "COLUMN", "|", "|", "i", "=", "=", "PROTECTION", "_", "COLUMN", ")", "{", "<nl>", "gtk", "_", "tree", "_", "model", "_", "get", "(", "model", ",", "iter", ",", "i", ",", "&", "table", "_", "text", ",", "-", "1", ")", ";", "<nl>", "g", "_", "string", "_", "append", "(", "CSV", "_", "str", ",", "table", "_", "text", ")", ";", "<nl>", "+", "g", "_", "free", "(", "table", "_", "text", ")", ";", "<nl>", "}", "else", "{", "<nl>", "gtk", "_", "tree", "_", "model", "_", "get", "(", "model", ",", "iter", ",", "i", ",", "&", "table", "_", "value", ",", "-", "1", ")", ";", "<nl>", "g", "_", "string", "_", "append", "_", "printf", "(", "CSV", "_", "str", ",", "\"", "%", "u", "\"", ",", "table", "_", "value", ")", ";", "<nl>"], "docstring_tokens": ["wlan_stat", "fix", "a", "memory", "leak"]}
{"code_tokens": ["prefs", "_", "register", "_", "protocol", "_", "subtree", "(", "const", "char", "*", "subtree", ",", "int", "id", ",", "void", "(", "*", "apply", "_", "cb", ")", "(", "vo", "<nl>", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "g", "_", "free", "(", "csubtree", ")", ";", "*", "/", "<nl>", "+", "g", "_", "free", "(", "csubtree", ")", ";", "<nl>", "<nl>", "}", "<nl>"], "docstring_tokens": ["Free", "allocated", "data"]}
{"code_tokens": ["struct", "_", "rtp", "_", "conversation", "_", "info", "<nl>", "{", "<nl>", "gchar", "method", "[", "MAX", "_", "RTP", "_", "SETUP", "_", "METHOD", "_", "SIZE", "+", "1", "]", ";", "<nl>", "guint32", "frame", "_", "number", ";", "<nl>", "-", "guint32", "rtp", "_", "event", "_", "pt", ";", "/", "*", "this", "is", "payload", "type", "for", "dynamic", "RTP", "events", "(", "RFC2833", ")", "*", "/", "<nl>", "+", "GHashTable", "*", "rtp", "_", "dyn", "_", "payload", ";", "/", "*", "a", "hash", "table", "with", "the", "dynamic", "RTP", "payload", "*", "/", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "Add", "an", "RTP", "conversation", "with", "the", "given", "details", "*", "/", "<nl>", "void", "rtp", "_", "add", "_", "address", "(", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "int", "other", "_", "port", ",", "<nl>", "gchar", "*", "setup", "_", "method", ",", "<nl>", "guint32", "setup", "_", "frame", "_", "number", ",", "<nl>", "-", "int", "rtp", "_", "event", "_", "pt", ")", ";", "<nl>", "+", "GHashTable", "*", "rtp", "_", "dyn", "_", "payload", ")", ";", "<nl>", "+", "<nl>", "+", "/", "*", "Free", "and", "destroy", "the", "dyn", "_", "payload", "hash", "table", "*", "/", "<nl>", "+", "void", "rtp", "_", "free", "_", "hash", "_", "dyn", "_", "payload", "(", "GHashTable", "*", "rtp", "_", "dyn", "_", "payload", ")", ";", "<nl>", "+", "<nl>"], "docstring_tokens": ["Previous", "commit", "failed", "doing", "them", "one", "by", "one"]}
{"code_tokens": ["GtkWidget", "*", "xpm", "_", "to", "_", "widget", "_", "from", "_", "parent", "(", "GtkWidget", "*", "parent", ",", "const", "char", "*", "*", "xpm", ")", "{", "<nl>", "}", "<nl>", "<nl>", "<nl>", "-", "/", "*", "convert", "an", "xpm", "to", "a", "GtkWidget", ",", "using", "the", "top", "_", "level", "window", "settings", "*", "/", "<nl>", "-", "/", "*", "(", "be", "sure", "that", "the", "top", "_", "level", "window", "is", "already", "being", "displayed", ")", "*", "/", "<nl>", "+", "/", "*", "convert", "an", "xpm", "to", "a", "GtkWidget", "*", "/", "<nl>", "GtkWidget", "*", "xpm", "_", "to", "_", "widget", "(", "const", "char", "*", "*", "xpm", ")", "{", "<nl>", "-", "return", "xpm", "_", "to", "_", "widget", "_", "from", "_", "parent", "(", "top", "_", "level", ",", "xpm", ")", ";", "<nl>", "+", "GdkPixbuf", "*", "pixbuf", ";", "<nl>", "+", "<nl>", "+", "pixbuf", "=", "gdk", "_", "pixbuf", "_", "new", "_", "from", "_", "xpm", "_", "data", "(", "xpm", ")", ";", "<nl>", "+", "return", "gtk", "_", "image", "_", "new", "_", "from", "_", "pixbuf", "(", "pixbuf", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Convert", "an", "pixbuf", "data", "to", "a", "GtkWidget", "*", "/", "<nl>"], "docstring_tokens": ["Use", "a", "pixbuf", "for", "widgets", "used", "for", "icons"]}
{"code_tokens": ["emem", "_", "alloc", "(", "size", "_", "t", "size", ",", "emem", "_", "header", "_", "t", "*", "mem", ",", "gboolean", "use", "_", "chunks", ",", "guint8", "*", "canary", ")", "<nl>", "/", "*", "There", "'", "s", "no", "padding", "/", "alignment", "involved", "(", "from", "our", "point", "of", "view", ")", "when", "<nl>", "*", "we", "fetch", "the", "memory", "directly", "from", "the", "system", "pool", ",", "so", "WYSIWYG", "*", "/", "<nl>", "npc", "-", ">", "free", "_", "offset", "=", "npc", "-", ">", "free", "_", "offset", "_", "init", "=", "0", ";", "<nl>", "-", "npc", "-", ">", "amount", "_", "free", "=", "npc", "-", ">", "amount", "_", "free", "_", "init", "=", "size", ";", "<nl>", "+", "npc", "-", ">", "amount", "_", "free", "=", "npc", "-", ">", "amount", "_", "free", "_", "init", "=", "(", "unsigned", "int", ")", "size", ";", "<nl>", "}", "<nl>", "<nl>", "return", "buf", ";", "<nl>"], "docstring_tokens": ["Add", "unsigned", "int", "type", "cast"]}
{"code_tokens": ["finfo", "_", "integer", "_", "changed", "(", "GtkSpinButton", "*", "spinbutton", ",", "gpointer", "user", "_", "data", ")", "<nl>", "<nl>", "else", "if", "(", "finfo", "_", "type", "=", "=", "FT", "_", "UINT8", "|", "|", "finfo", "_", "type", "=", "=", "FT", "_", "UINT16", "|", "|", "finfo", "_", "type", "=", "=", "FT", "_", "UINT24", "|", "|", "finfo", "_", "type", "=", "=", "FT", "_", "UINT32", "|", "|", "finfo", "_", "type", "=", "=", "FT", "_", "UINT64", ")", "<nl>", "u", "_", "val", "=", "(", "guint64", ")", "val", ";", "<nl>", "+", "else", "{", "<nl>", "+", "g", "_", "assert", "_", "not", "_", "reached", "(", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "FI", "_", "GET", "_", "FLAG", "(", "finfo", ",", "FI", "_", "LITTLE", "_", "ENDIAN", ")", ")", "{", "<nl>", "while", "(", "finfo", "_", "length", ")", "{", "<nl>"], "docstring_tokens": ["Fix", "compilation", "warning"]}
{"code_tokens": ["static", "const", "true", "_", "false", "_", "string", "get", "_", "dcname", "_", "request", "_", "flags", "_", "force", "_", "rediscovery", "=", "{", "<nl>", "\"", "You", "may", "return", "cached", "data", "\"", "<nl>", "}", ";", "<nl>", "static", "const", "true", "_", "false", "_", "string", "get", "_", "dcname", "_", "request", "_", "flags", "_", "directory", "_", "service", "_", "required", "=", "{", "<nl>", "-", "\"", "DIRECRTORY", "SERVICE", "is", "REQUIRED", "on", "the", "server", "\"", ",", "<nl>", "+", "\"", "DIRECTORY", "SERVICE", "is", "REQUIRED", "on", "the", "server", "\"", ",", "<nl>", "\"", "We", "do", "NOT", "require", "directory", "service", "servers", "\"", "<nl>", "}", ";", "<nl>", "static", "const", "true", "_", "false", "_", "string", "get", "_", "dcname", "_", "request", "_", "flags", "_", "directory", "_", "service", "_", "preferred", "=", "{", "<nl>", "static", "const", "true", "_", "false", "_", "string", "get", "_", "dcname", "_", "request", "_", "flags", "_", "timeserv", "_", "required", "=", "{", "<nl>", "\"", "timeserv", "service", "is", "NOT", "required", "\"", "<nl>", "}", ";", "<nl>", "static", "const", "true", "_", "false", "_", "string", "get", "_", "dcname", "_", "request", "_", "flags", "_", "writable", "_", "required", "=", "{", "<nl>", "-", "\"", "the", "requrned", "dc", "MUST", "be", "WRITEABLE", "\"", ",", "<nl>", "+", "\"", "the", "returned", "dc", "MUST", "be", "WRITEABLE", "\"", ",", "<nl>", "\"", "a", "read", "-", "only", "dc", "may", "be", "returned", "\"", "<nl>", "}", ";", "<nl>", "static", "const", "true", "_", "false", "_", "string", "get", "_", "dcname", "_", "request", "_", "flags", "_", "good", "_", "timeserv", "_", "preferred", "=", "{", "<nl>"], "docstring_tokens": ["From", "Reinhard", "Speyerer"]}
{"code_tokens": ["write", "_", "current", "_", "packet", "(", "void", ")", "<nl>", "(", "guint32", ")", "ts", "_", "sec", ",", "ts", "_", "usec", ",", "<nl>", "length", ",", "length", ",", "<nl>", "0", ",", "<nl>", "-", "6", ",", "<nl>", "+", "1000000", ",", "<nl>", "packet", "_", "buf", ",", "0", ",", "<nl>", "&", "bytes", "_", "written", ",", "&", "err", ")", ";", "<nl>", "}", "else", "{", "<nl>", "write", "_", "file", "_", "header", "(", "void", ")", "<nl>", "102400", ",", "<nl>", "&", "bytes", "_", "written", ",", "<nl>", "0", ",", "<nl>", "-", "6", ",", "<nl>", "+", "0", ",", "<nl>", "&", "err", ")", ";", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["Fix", "timestamp", "computation", "when", "using", "pcapng"]}
{"code_tokens": ["/", "*", "packet", "-", "ip", ".", "c", "<nl>", "*", "Routines", "for", "IP", "and", "miscellaneous", "IP", "protocol", "packet", "disassembly", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "ip", ".", "c", ",", "v", "1", ".", "66", "1999", "/", "12", "/", "09", "21", ":", "58", ":", "04", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "ip", ".", "c", ",", "v", "1", ".", "67", "1999", "/", "12", "/", "13", "05", ":", "09", ":", "05", "gram", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "zing", ".", "org", ">", "<nl>", "dissect", "_", "ip", "_", "tcp", "_", "options", "(", "const", "u", "_", "char", "*", "opd", ",", "int", "offset", ",", "guint", "length", ",", "<nl>", "option", "length", ".", "*", "/", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "opt", "_", "tree", ",", "offset", ",", "2", ",", "<nl>", "\"", "%", "s", "(", "with", "too", "-", "short", "option", "length", "=", "%", "u", "byte", "%", "s", ")", "\"", ",", "name", ",", "<nl>", "-", "plurality", "(", "len", ",", "\"", "\"", ",", "\"", "s", "\"", ")", ")", ";", "<nl>", "+", "len", ",", "plurality", "(", "len", ",", "\"", "\"", ",", "\"", "s", "\"", ")", ")", ";", "<nl>", "return", ";", "<nl>", "}", "else", "if", "(", "len", "-", "2", ">", "length", ")", "{", "<nl>", "/", "*", "Bogus", "-", "option", "goes", "past", "the", "end", "of", "the", "header", ".", "*", "/", "<nl>"], "docstring_tokens": ["Fix", "problem", "with", "number", "of", "format", "args", "for", "option", "length", "too", "short"]}
{"code_tokens": ["gboolean", "ws", "_", "strtoi64", "(", "const", "gchar", "*", "str", ",", "const", "gchar", "*", "*", "endptr", ",", "gint64", "*", "cint", ")", "<nl>", "gchar", "*", "end", ";", "<nl>", "gint64", "val", ";", "<nl>", "<nl>", "+", "g", "_", "assert", "(", "cint", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "str", ")", "{", "<nl>", "+", "errno", "=", "EINVAL", ";", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "errno", "=", "0", ";", "<nl>", "val", "=", "g", "_", "ascii", "_", "strtoll", "(", "str", ",", "&", "end", ",", "10", ")", ";", "<nl>", "if", "(", "(", "val", "=", "=", "0", "&", "&", "end", "=", "=", "str", ")", "|", "|", "(", "endptr", "=", "=", "NULL", "&", "&", "*", "end", "!", "=", "'", "\\", "0", "'", ")", ")", "{", "<nl>", "static", "gboolean", "ws", "_", "basestrtou64", "(", "const", "gchar", "*", "str", ",", "const", "gchar", "*", "*", "endptr", ",", "guint64", "*", "<nl>", "gchar", "*", "end", ";", "<nl>", "guint64", "val", ";", "<nl>", "<nl>", "+", "g", "_", "assert", "(", "cint", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "str", ")", "{", "<nl>", "+", "errno", "=", "EINVAL", ";", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "str", "[", "0", "]", "=", "=", "'", "-", "'", "|", "|", "str", "[", "0", "]", "=", "=", "'", "+", "'", ")", "{", "<nl>", "/", "*", "<nl>", "*", "Unsigned", "numbers", "don", "'", "t", "have", "a", "sign", ".", "<nl>"], "docstring_tokens": ["wsutil", "add", "check", "for", "input", "pointers", "to", "ws_strtoi", "functions"]}
{"code_tokens": ["dissect", "_", "erf", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", "_", "U", "_", ")", "<nl>", "atm", "_", "info", ".", "vpi", "=", "(", "(", "atm", "_", "hdr", "&", "0x0ff00000", ")", ">", ">", "20", ")", ";", "<nl>", "atm", "_", "info", ".", "vci", "=", "(", "(", "atm", "_", "hdr", "&", "0x000ffff0", ")", ">", ">", "4", ")", ";", "<nl>", "atm", "_", "info", ".", "channel", "=", "(", "flags", "&", "0x03", ")", ";", "<nl>", "+", "atm", "_", "info", ".", "aal2", "_", "cid", "=", "aal2", "_", "cid", ";", "<nl>", "atm", "_", "info", ".", "type", "=", "TRAF", "_", "UNKNOWN", ";", "<nl>", "atm", "_", "info", ".", "subtype", "=", "TRAF", "_", "ST", "_", "UNKNOWN", ";", "<nl>"], "docstring_tokens": ["ERF", "Fix", "Dead", "Store", "Dead", "assignement", "Dead", "increment", "Warning", "found", "by", "Clang"]}
{"code_tokens": ["void", "proto", "_", "register", "_", "pppoed", "(", "void", ")", "<nl>", "}", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "pppoed", "_", "tag", "_", "host", "_", "uniq", ",", "<nl>", "-", "{", "\"", "Host", "-", "Uniq", "\"", ",", "\"", "pppoed", ".", "tags", ".", "host", "_", "uniq", "\"", ",", "FT", "_", "STRING", ",", "BASE", "_", "NONE", ",", "<nl>", "+", "{", "\"", "Host", "-", "Uniq", "\"", ",", "\"", "pppoed", ".", "tags", ".", "host", "_", "uniq", "\"", ",", "FT", "_", "BYTES", ",", "BASE", "_", "NONE", ",", "<nl>", "NULL", ",", "0x0", ",", "\"", "\"", ",", "HFILL", "<nl>", "}", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "pppoed", "_", "tag", "_", "ac", "_", "cookie", ",", "<nl>", "-", "{", "\"", "AC", "-", "Cookie", "\"", ",", "\"", "pppoed", ".", "tags", ".", "ac", "_", "cookie", "\"", ",", "FT", "_", "BYTES", ",", "BASE", "_", "HEX", ",", "<nl>", "+", "{", "\"", "AC", "-", "Cookie", "\"", ",", "\"", "pppoed", ".", "tags", ".", "ac", "_", "cookie", "\"", ",", "FT", "_", "BYTES", ",", "BASE", "_", "NONE", ",", "<nl>", "NULL", ",", "0x0", ",", "\"", "\"", ",", "HFILL", "<nl>", "}", "<nl>", "}", ",", "<nl>", "void", "proto", "_", "register", "_", "pppoed", "(", "void", ")", "<nl>", "}", "<nl>", "}", ",", "<nl>", "{", "&", "hf", "_", "pppoed", "_", "tag", "_", "relay", "_", "session", "_", "id", ",", "<nl>", "-", "{", "\"", "Relay", "-", "Session", "-", "Id", "\"", ",", "\"", "pppoed", ".", "tags", ".", "relay", "_", "session", "_", "id", "\"", ",", "FT", "_", "BYTES", ",", "BASE", "_", "HEX", ",", "<nl>", "+", "{", "\"", "Relay", "-", "Session", "-", "Id", "\"", ",", "\"", "pppoed", ".", "tags", ".", "relay", "_", "session", "_", "id", "\"", ",", "FT", "_", "BYTES", ",", "BASE", "_", "NONE", ",", "<nl>", "NULL", ",", "0x0", ",", "\"", "\"", ",", "HFILL", "<nl>", "}", "<nl>", "}", ",", "<nl>"], "docstring_tokens": ["Host", "Uniq", "is", "binary", "not", "text"]}
{"code_tokens": ["gboolean", "ws", "_", "strtou64", "(", "const", "gchar", "*", "str", ",", "guint64", "*", "cint", ")", "<nl>", "gchar", "*", "endptr", ";", "<nl>", "guint64", "val", ";", "<nl>", "<nl>", "+", "if", "(", "str", "[", "0", "]", "=", "=", "'", "-", "'", "|", "|", "str", "[", "0", "]", "=", "=", "'", "+", "'", ")", "{", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Unsigned", "numbers", "don", "'", "t", "have", "a", "sign", ".", "<nl>", "+", "*", "/", "<nl>", "+", "errno", "=", "EINVAL", ";", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "}", "<nl>", "errno", "=", "0", ";", "<nl>", "val", "=", "g", "_", "ascii", "_", "strtoull", "(", "str", ",", "&", "endptr", ",", "10", ")", ";", "<nl>", "if", "(", "(", "val", "=", "=", "0", "&", "&", "endptr", "=", "=", "str", ")", "|", "|", "(", "*", "endptr", "!", "=", "0", ")", ")", "{", "<nl>"], "docstring_tokens": ["Check", "for", "signs", "in", "unsigned", "numbers", "and", "fail", "if", "we", "see", "one"]}
{"code_tokens": ["dissect", "_", "oampdu", "_", "information", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "else", "<nl>", "state", "_", "tree", "=", "proto", "_", "item", "_", "add", "_", "subtree", "(", "state", "_", "item", ",", "ett", "_", "oampdu", "_", "remote", "_", "info", "_", "state", ")", ";", "<nl>", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "boolean", "(", "state", "_", "tree", ",", "hf", "_", "oampdu", "_", "info", "_", "state", "_", "parser", ",", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "uint", "(", "state", "_", "tree", ",", "hf", "_", "oampdu", "_", "info", "_", "state", "_", "parser", ",", "<nl>", "tvb", ",", "offset", ",", "1", ",", "raw", "_", "octet", ")", ";", "<nl>", "<nl>", "proto", "_", "tree", "_", "add", "_", "boolean", "(", "state", "_", "tree", ",", "hf", "_", "oampdu", "_", "info", "_", "state", "_", "mux", ",", "<nl>", "proto", "_", "register", "_", "slow", "_", "protocols", "(", "void", ")", "<nl>", "<nl>", "{", "&", "hf", "_", "oampdu", "_", "info", "_", "state", "_", "parser", ",", "<nl>", "{", "\"", "Parser", "Action", "\"", ",", "\"", "oam", ".", "info", ".", "state", ".", "parser", "\"", ",", "<nl>", "-", "FT", "_", "BOOLEAN", ",", "8", ",", "VALS", "(", "&", "parser", "_", "vals", ")", ",", "0x03", ",", "<nl>", "+", "FT", "_", "UINT8", ",", "8", ",", "VALS", "(", "&", "parser", "_", "vals", ")", ",", "0x03", ",", "<nl>", "\"", "Parser", "Action", "\"", ",", "HFILL", "}", "}", ",", "<nl>", "<nl>", "{", "&", "hf", "_", "oampdu", "_", "info", "_", "state", "_", "mux", ",", "<nl>"], "docstring_tokens": ["hf_oampdu_info_state_parser", "seems", "to", "be", "an", "uint8", "not", "bool", "as", "it", "can", "contain", "4", "values"]}
{"code_tokens": ["capture", "_", "loop", "_", "dispatch", "(", "capture", "_", "options", "*", "capture", "_", "opts", "_", "U", "_", ",", "loop", "_", "data", "*", "ld", ",", "<nl>", "inpkts", "=", "pcap", "_", "dispatch", "(", "ld", "-", ">", "pcap", "_", "h", ",", "1", ",", "capture", "_", "loop", "_", "packet", "_", "cb", ",", "<nl>", "(", "u", "_", "char", "*", ")", "ld", ")", ";", "<nl>", "if", "(", "inpkts", "<", "0", ")", "{", "<nl>", "-", "ld", "-", ">", "pcap", "_", "err", "=", "TRUE", ";", "<nl>", "+", "if", "(", "inpkts", "=", "=", "-", "1", ")", "{", "<nl>", "+", "/", "*", "Error", ",", "rather", "than", "pcap", "_", "breakloop", "(", ")", ".", "*", "/", "<nl>", "+", "ld", "-", ">", "pcap", "_", "err", "=", "TRUE", ";", "<nl>", "+", "}", "<nl>", "ld", "-", ">", "go", "=", "FALSE", ";", "/", "*", "error", "or", "pcap", "_", "breakloop", "(", ")", "-", "stop", "capturing", "*", "/", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["From", "Rob", "Leslie", "rob", "mars", "org"]}
{"code_tokens": ["create", "_", "conv", "_", "and", "_", "add", "_", "proto", "_", "data", "(", "packet", "_", "info", "*", "pinfo", ",", "guint64", "service", "_", "id", ",", "<nl>", "conversation", "_", "add", "_", "proto", "_", "data", "(", "conv", ",", "proto", "_", "infiniband", ",", "proto", "_", "data", ")", ";", "<nl>", "<nl>", "/", "*", "next", ",", "register", "the", "conversation", "using", "the", "LIDs", "*", "/", "<nl>", "-", "set", "_", "address", "(", "addr", ",", "AT", "_", "IB", ",", "sizeof", "(", "guint16", ")", ",", "&", "lid", ")", ";", "<nl>", "+", "set", "_", "address", "(", "addr", ",", "AT", "_", "IB", ",", "sizeof", "(", "guint16", ")", ",", "wmem", "_", "memdup", "(", "pinfo", "-", ">", "pool", ",", "&", "lid", ",", "sizeof", "lid", ")", ")", ";", "<nl>", "conv", "=", "conversation", "_", "new", "(", "pinfo", "-", ">", "num", ",", "addr", ",", "addr", ",", "<nl>", "PT", "_", "IBQP", ",", "port", ",", "port", ",", "options", ")", ";", "<nl>", "conversation", "_", "add", "_", "proto", "_", "data", "(", "conv", ",", "proto", "_", "infiniband", ",", "proto", "_", "data", ")", ";", "<nl>"], "docstring_tokens": ["Revert", "Revert", "Don", "t", "use", "a", "local", "variable", "s", "address", "in", "set_address"]}
{"code_tokens": ["static", "void", "register", "_", "mibs", "(", "void", ")", "{", "<nl>", "hf", "_", "register", "_", "info", "hf", ";", "<nl>", "<nl>", "hf", ".", "p", "_", "id", "=", "&", "(", "oid", "_", "data", "-", ">", "value", "_", "hfid", ")", ";", "<nl>", "-", "hf", ".", "hfinfo", ".", "name", "=", "oid", "_", "data", "-", ">", "name", ";", "<nl>", "+", "hf", ".", "hfinfo", ".", "name", "=", "g", "_", "strdup", "(", "oid", "_", "data", "-", ">", "name", ")", ";", "<nl>", "hf", ".", "hfinfo", ".", "abbrev", "=", "alnumerize", "(", "oid", "_", "data", "-", ">", "name", ")", ";", "<nl>", "hf", ".", "hfinfo", ".", "type", "=", "typedata", "-", ">", "ft", "_", "type", ";", "<nl>", "hf", ".", "hfinfo", ".", "display", "=", "typedata", "-", ">", "display", ";", "<nl>"], "docstring_tokens": ["MIB", "OID", "Fix", "assertion", "in", "proto", "c", "tmp_fld_check_assert"]}
{"code_tokens": ["mktime", "_", "utc", "(", "struct", "tm", "*", "tm", ")", "<nl>", "{", "<nl>", "0", ",", "31", ",", "59", ",", "90", ",", "120", ",", "151", ",", "181", ",", "212", ",", "243", ",", "273", ",", "304", ",", "334", "<nl>", "}", ";", "<nl>", "+", "<nl>", "+", "int", "yr", ";", "<nl>", "#", "endif", "<nl>", "<nl>", "#", "ifndef", "HAVE", "_", "TIMEGM", "<nl>", "mktime", "_", "utc", "(", "struct", "tm", "*", "tm", ")", "<nl>", "return", "(", "time", "_", "t", ")", "-", "1", ";", "<nl>", "<nl>", "retval", "=", "(", "tm", "-", ">", "tm", "_", "year", "-", "70", ")", "*", "365", ";", "<nl>", "-", "retval", "+", "=", "(", "tm", "-", ">", "tm", "_", "year", "-", "68", ")", "/", "4", ";", "<nl>", "-", "retval", "+", "=", "days", "_", "before", "[", "tm", "-", ">", "tm", "_", "mon", "]", "+", "tm", "-", ">", "tm", "_", "mday", "-", "1", ";", "<nl>", "<nl>", "-", "if", "(", "tm", "-", ">", "tm", "_", "year", "%", "4", "=", "=", "0", "&", "&", "tm", "-", ">", "tm", "_", "mon", "<", "2", ")", "<nl>", "-", "retval", "-", "=", "1", ";", "<nl>", "+", "/", "*", "count", "number", "of", "leap", "years", "*", "/", "<nl>", "+", "yr", "=", "tm", "-", ">", "tm", "_", "year", "+", "1900", ";", "<nl>", "+", "if", "(", "tm", "-", ">", "tm", "_", "mon", "+", "1", "<", "3", "&", "&", "(", "yr", "%", "4", ")", "=", "=", "0", "&", "&", "(", "(", "yr", "%", "100", ")", "!", "=", "0", "|", "|", "(", "yr", "%", "400", ")", "=", "=", "0", ")", ")", "<nl>", "+", "yr", "-", "-", ";", "<nl>", "+", "retval", "+", "=", "(", "(", "(", "yr", "/", "4", ")", "-", "(", "yr", "/", "100", ")", "+", "(", "yr", "/", "400", ")", ")", "-", "477", ")", ";", "/", "*", "477", "=", "(", "(", "1970", "/", "4", ")", "-", "(", "1970", "/", "100", ")", "+", "(", "1970", "/", "400", ")", ")", "*", "/", "<nl>", "+", "<nl>", "+", "retval", "+", "=", "days", "_", "before", "[", "tm", "-", ">", "tm", "_", "mon", "]", "+", "tm", "-", ">", "tm", "_", "mday", "-", "1", ";", "<nl>", "<nl>", "retval", "=", "(", "(", "(", "(", "retval", "*", "24", ")", "+", "tm", "-", ">", "tm", "_", "hour", ")", "*", "60", ")", "+", "tm", "-", ">", "tm", "_", "min", ")", "*", "60", "+", "tm", "-", ">", "tm", "_", "sec", ";", "<nl>", "#", "else", "<nl>"], "docstring_tokens": ["Fix", "counting", "checking", "for", "leap", "years", "in", "mktime_utc"]}
{"code_tokens": ["main", "_", "widgets", "_", "show", "_", "or", "_", "hide", "(", "void", ")", "<nl>", "}", "else", "{", "<nl>", "gtk", "_", "widget", "_", "hide", "(", "welcome", "_", "pane", ")", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "/", "*", "workaround", "for", "bug", "in", "GtkCList", "to", "ensure", "packet", "list", "scrollbar", "is", "updated", "*", "/", "<nl>", "+", "packet", "_", "list", "_", "freeze", "(", ")", ";", "<nl>", "+", "packet", "_", "list", "_", "thaw", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["From", "Simon", "Munton", "as", "pointed", "out", "by", "Stephen", "Fisher"]}
{"code_tokens": ["be", "_", "cell", "_", "id", "_", "aux", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ",", "guint32", "offset", ",", "guint", "len", ",", "gchar", "<nl>", "<nl>", "case", "0x01", ":", "<nl>", "case", "0x05", ":", "<nl>", "-", "case", "0x0a", ":", "/", "*", "For", "intersystem", "handover", "from", "GSM", "to", "UMTS", "or", "cdma2000", ":", "*", "/", "<nl>", "+", "case", "0x0a", ":", "/", "*", "For", "intersystem", "handover", "from", "GSM", "to", "UMTS", "or", "cdma2000", ":", "*", "/", "<nl>", "<nl>", "/", "*", "LAC", "*", "/", "<nl>", "<nl>", "be", "_", "cell", "_", "id", "_", "aux", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ",", "guint32", "offset", ",", "guint", "len", ",", "gchar", "<nl>", "if", "(", "add", "_", "string", ")", "<nl>", "g", "_", "snprintf", "(", "add", "_", "string", ",", "string", "_", "len", ",", "\"", "-", "LAC", "(", "0x", "%", "04x", ")", "\"", ",", "value", ")", ";", "<nl>", "<nl>", "-", "case", "0x09", ":", "/", "*", "For", "intersystem", "handover", "from", "GSM", "to", "UMTS", "or", "cdma2000", ":", "*", "/", "<nl>", "+", "/", "*", "FALLTHRU", "*", "/", "<nl>", "+", "<nl>", "+", "case", "0x09", ":", "/", "*", "For", "intersystem", "handover", "from", "GSM", "to", "UMTS", "or", "cdma2000", ":", "*", "/", "<nl>", "<nl>", "if", "(", "(", "disc", "=", "=", "0x08", ")", "|", "|", "(", "disc", "=", "=", "0x09", ")", "|", "|", "(", "disc", "=", "=", "0x0a", ")", ")", "{", "<nl>", "/", "*", "RNC", "-", "ID", "*", "/", "<nl>"], "docstring_tokens": ["Fix", "indentation", "add", "a", "FALLTHRU", "comment"]}
{"code_tokens": ["pcapng", "_", "write", "_", "enhanced", "_", "packet", "_", "block", "(", "FILE", "*", "pfile", ",", "<nl>", "sizeof", "(", "guint32", ")", ")", ";", "<nl>", "}", "<nl>", "/", "*", "If", "we", "have", "options", "add", "size", "of", "end", "-", "of", "-", "options", "*", "/", "<nl>", "-", "/", "*", "If", "we", "have", "options", "add", "size", "of", "end", "-", "of", "-", "options", "*", "/", "<nl>", "if", "(", "options", "_", "length", "!", "=", "0", ")", "{", "<nl>", "options", "_", "length", "+", "=", "(", "guint32", ")", "sizeof", "(", "struct", "option", ")", ";", "<nl>", "}", "<nl>", "pcapng", "_", "write", "_", "enhanced", "_", "packet", "_", "block", "(", "FILE", "*", "pfile", ",", "<nl>", "option", ".", "value", "_", "length", "=", "0", ";", "<nl>", "if", "(", "!", "write", "_", "to", "_", "file", "(", "pfile", ",", "(", "const", "guint8", "*", ")", "&", "option", ",", "sizeof", "(", "struct", "option", ")", ",", "bytes", "_", "written", ",", "err", ")", ")", "<nl>", "return", "FALSE", ";", "<nl>", "-", "}", "<nl>", "+", "}", "<nl>", "+", "if", "(", "options", "_", "length", "!", "=", "0", ")", "{", "<nl>", "+", "/", "*", "write", "end", "of", "options", "*", "/", "<nl>", "+", "option", ".", "type", "=", "OPT", "_", "ENDOFOPT", ";", "<nl>", "+", "option", ".", "value", "_", "length", "=", "0", ";", "<nl>", "+", "if", "(", "!", "write", "_", "to", "_", "file", "(", "pfile", ",", "(", "const", "guint8", "*", ")", "&", "option", ",", "sizeof", "(", "struct", "option", ")", ",", "bytes", "_", "written", ",", "err", ")", ")", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "}", "<nl>", "<nl>", "return", "write", "_", "to", "_", "file", "(", "pfile", ",", "(", "const", "guint8", "*", ")", "&", "block", "_", "total", "_", "length", ",", "sizeof", "(", "guint32", ")", ",", "bytes", "_", "written", ",", "err", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["For", "an", "EPB", "write", "out", "an", "end", "of", "options", "option", "if", "we", "write", "out", "any"]}
{"code_tokens": ["/", "*", "packet", "-", "tcp", ".", "c", "<nl>", "*", "Routines", "for", "TCP", "packet", "disassembly", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "tcp", ".", "c", ",", "v", "1", ".", "184", "2003", "/", "03", "/", "03", "23", ":", "20", ":", "57", "sahlberg", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "tcp", ".", "c", ",", "v", "1", ".", "185", "2003", "/", "03", "/", "04", "04", ":", "36", ":", "44", "sharpe", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "dissect", "_", "tcpopt", "_", "sack", "(", "const", "ip", "_", "tcp", "_", "opt", "*", "optp", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "if", "(", "field", "_", "tree", "=", "=", "NULL", ")", "{", "<nl>", "/", "*", "Haven", "'", "t", "yet", "made", "a", "subtree", "out", "of", "this", "option", ".", "Do", "so", ".", "*", "/", "<nl>", "field", "_", "tree", "=", "proto", "_", "item", "_", "add", "_", "subtree", "(", "tf", ",", "*", "optp", "-", ">", "subtree", "_", "index", ")", ";", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "boolean", "_", "hidden", "(", "field", "_", "tree", ",", "hf", "_", "tcp", "_", "option", "_", "sack", ",", "tvb", ",", "<nl>", "+", "offset", ",", "optlen", ",", "TRUE", ")", ";", "<nl>", "}", "<nl>", "if", "(", "optlen", "<", "4", ")", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "field", "_", "tree", ",", "tvb", ",", "offset", ",", "optlen", ",", "<nl>", "dissect", "_", "tcpopt", "_", "sack", "(", "const", "ip", "_", "tcp", "_", "opt", "*", "optp", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "break", ";", "<nl>", "}", "<nl>", "leftedge", "=", "tvb", "_", "get", "_", "ntohl", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "(", "field", "_", "tree", ",", "hf", "_", "tcp", "_", "option", "_", "sack", "_", "sle", ",", "tvb", ",", "<nl>", "+", "offset", ",", "4", ",", "leftedge", ",", "<nl>", "+", "\"", "left", "edge", "=", "%", "u", "\"", ",", "leftedge", ")", ";", "<nl>", "optlen", "-", "=", "4", ";", "<nl>", "if", "(", "optlen", "<", "4", ")", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "field", "_", "tree", ",", "tvb", ",", "offset", ",", "optlen", ",", "<nl>", "dissect", "_", "tcpopt", "_", "sack", "(", "const", "ip", "_", "tcp", "_", "opt", "*", "optp", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "/", "*", "XXX", "-", "check", "whether", "it", "goes", "past", "end", "of", "packet", "*", "/", "<nl>", "rightedge", "=", "tvb", "_", "get", "_", "ntohl", "(", "tvb", ",", "offset", "+", "4", ")", ";", "<nl>", "optlen", "-", "=", "4", ";", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "boolean", "_", "hidden", "(", "field", "_", "tree", ",", "hf", "_", "tcp", "_", "option", "_", "sack", ",", "tvb", ",", "<nl>", "-", "offset", ",", "8", ",", "TRUE", ")", ";", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "(", "field", "_", "tree", ",", "hf", "_", "tcp", "_", "option", "_", "sack", "_", "sle", ",", "tvb", ",", "<nl>", "-", "offset", ",", "8", ",", "leftedge", ",", "<nl>", "-", "\"", "left", "edge", "=", "%", "u", "\"", ",", "leftedge", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "_", "format", "(", "field", "_", "tree", ",", "hf", "_", "tcp", "_", "option", "_", "sack", "_", "sre", ",", "tvb", ",", "<nl>", "-", "offset", ",", "8", ",", "rightedge", ",", "<nl>", "+", "offset", "+", "4", ",", "4", ",", "rightedge", ",", "<nl>", "\"", "right", "edge", "=", "%", "u", "\"", ",", "rightedge", ")", ";", "<nl>", "tcp", "_", "info", "_", "append", "_", "uint", "(", "pinfo", ",", "\"", "SLE", "\"", ",", "leftedge", ")", ";", "<nl>", "tcp", "_", "info", "_", "append", "_", "uint", "(", "pinfo", ",", "\"", "SRE", "\"", ",", "rightedge", ")", ";", "<nl>"], "docstring_tokens": ["Pretty", "up", "the", "handling", "of", "SACK", "Have", "tested", "now", "looks", "OK"]}
{"code_tokens": ["*", "Gilbert", "Ramirez", "<", "gram", "@", "xiexie", ".", "org", ">", "<nl>", "*", "Much", "stuff", "added", "by", "Guy", "Harris", "<", "guy", "@", "alum", ".", "mit", ".", "edu", ">", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "nbns", ".", "c", ",", "v", "1", ".", "61", "2001", "/", "09", "/", "30", "23", ":", "14", ":", "43", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "nbns", ".", "c", ",", "v", "1", ".", "62", "2001", "/", "10", "/", "12", "01", ":", "41", ":", "03", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "dissect", "_", "nbss", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "*", "there", "should", "be", "no", "compression", ")", ",", "and", "we", "<nl>", "*", "shouldn", "'", "t", "have", "more", "than", "128", "bytes", "(", "actually", ",", "<nl>", "*", "we", "shouldn", "'", "t", "have", "that", "many", ")", ".", "<nl>", "+", "*", "<nl>", "+", "*", "XXX", "-", "actually", ",", "MacOS", "X", "10", ".", "1", "(", "yes", ",", "that", "'", "s", "<nl>", "+", "*", "redundant", ",", "but", "that", "'", "s", "what", "Apple", "calls", "it", ",", "<nl>", "+", "*", "not", "MacOS", "X", ".", "1", ")", "puts", "names", "longer", "than", "16", "<nl>", "+", "*", "characters", "into", "session", "request", "messages", ",", "<nl>", "+", "*", "so", "we", "can", "have", "more", "than", "32", "bytes", "of", "<nl>", "+", "*", "name", "value", ",", "so", "we", "can", "have", "more", "than", "128", "<nl>", "+", "*", "bytes", "of", "data", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "length", "<", "2", "|", "|", "length", ">", "128", ")", "<nl>", "+", "if", "(", "length", "<", "2", "|", "|", "length", ">", "256", ")", "<nl>", "goto", "continuation", ";", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["Sigh", "A", "MacOS", "X", "10", "1", "appeared", "to", "have", "put", "out", "a", "malformed", "NetBIOS"]}
{"code_tokens": ["static", "INT", "AirPDcapScanForKeys", "(", "<nl>", "<nl>", "/", "*", "get", "and", "check", "the", "body", "length", "(", "IEEE", "802", ".", "1X", "-", "2004", ",", "pg", ".", "25", ")", "*", "/", "<nl>", "bodyLength", "=", "pntoh16", "(", "data", "+", "offset", "+", "2", ")", ";", "<nl>", "-", "if", "(", "(", "tot", "_", "len", "-", "offset", "-", "4", ")", "<", "bodyLength", ")", "{", "/", "*", "Only", "check", "if", "frame", "is", "long", "enough", "for", "eapol", "header", ",", "ignore", "tailing", "garbage", ",", "see", "bug", "9065", "*", "/", "<nl>", "+", "if", "(", "(", "(", "tot", "_", "len", "-", "offset", "-", "4", ")", "<", "bodyLength", ")", "|", "|", "(", "bodyLength", "<", "sizeof", "(", "EAPOL", "_", "RSN", "_", "KEY", ")", ")", ")", "{", "/", "*", "Only", "check", "if", "frame", "is", "long", "enough", "for", "eapol", "header", ",", "ignore", "tailing", "garbage", ",", "see", "bug", "9065", "*", "/", "<nl>", "AIRPDCAP", "_", "DEBUG", "_", "PRINT", "_", "LINE", "(", "\"", "AirPDcapScanForKeys", "\"", ",", "\"", "EAPOL", "body", "too", "short", "\"", ",", "AIRPDCAP", "_", "DEBUG", "_", "LEVEL", "_", "3", ")", ";", "<nl>", "return", "AIRPDCAP", "_", "RET", "_", "NO", "_", "VALID", "_", "HANDSHAKE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Make", "sure", "EAPOL", "body", "is", "big", "enough", "for", "a", "EAPOL_RSN_KEY"]}
{"code_tokens": ["epan", "_", "init", "(", "void", "(", "*", "register", "_", "all", "_", "protocols", "_", "func", ")", "(", "register", "_", "cb", "cb", ",", "gpointer", "client", "_", "da", "<nl>", "register", "_", "cb", "cb", ",", "<nl>", "gpointer", "client", "_", "data", ")", "<nl>", "{", "<nl>", "-", "gboolean", "status", "=", "TRUE", ";", "<nl>", "+", "volatile", "gboolean", "status", "=", "TRUE", ";", "<nl>", "<nl>", "/", "*", "initialize", "memory", "allocation", "subsystem", "*", "/", "<nl>", "wmem", "_", "init", "(", ")", ";", "<nl>"], "docstring_tokens": ["epan_init", "make", "status", "volatile", "to", "avoid", "might", "be", "clobbered", "warnings"]}
{"code_tokens": ["dissect", "_", "spnego", "_", "supportedMech", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "tree", ",", "tvb", ",", "offset", ",", "nbytes", ",", "\"", "supportedMech", ":", "%", "s", "\"", ",", "<nl>", "oid", "_", "string", ")", ";", "<nl>", "<nl>", "-", "g", "_", "free", "(", "oid", "_", "string", ")", ";", "<nl>", "-", "<nl>", "offset", "+", "=", "nbytes", ";", "<nl>", "<nl>", "/", "*", "Should", "check", "for", "an", "unrecognized", "OID", ".", ".", ".", "*", "/", "<nl>"], "docstring_tokens": ["I", "missed", "one", "OID", "string"]}
{"code_tokens": ["*", "Routines", "for", "megaco", "packet", "disassembly", "<nl>", "*", "RFC", "3015", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "megaco", ".", "c", ",", "v", "1", ".", "15", "2004", "/", "04", "/", "21", "19", ":", "58", ":", "14", "etxrab", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "megaco", ".", "c", ",", "v", "1", ".", "16", "2004", "/", "04", "/", "23", "03", ":", "20", ":", "58", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Christian", "Falckenberg", ",", "2002", "/", "10", "/", "17", "<nl>", "*", "Copyright", "(", "c", ")", "2002", "by", "Christian", "Falckenberg", "<nl>", "dissect", "_", "megaco", "_", "text", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "if", "(", "tree", ")", "<nl>", "len", "=", "tvb", "_", "len", "-", "tvb", "_", "previous", "_", "offset", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "megaco", "_", "tree", ",", "tvb", ",", "tvb", "_", "previous", "_", "offset", ",", "-", "1", ",", "<nl>", "-", "\"", "%", "s", "\"", ",", "tvb", "_", "format", "_", "text", "(", "tvb", ",", "tvb", "_", "previous", "_", "offset", ",", "len", ")", ",", "tvb", "_", "len", ",", "<nl>", "-", "tvb", "_", "previous", "_", "offset", ")", ";", "<nl>", "+", "\"", "%", "s", "\"", ",", "tvb", "_", "format", "_", "text", "(", "tvb", ",", "tvb", "_", "previous", "_", "offset", ",", "len", ")", ")", ";", "<nl>", "if", "(", "global", "_", "megaco", "_", "raw", "_", "text", ")", "{", "<nl>", "tvb", "_", "raw", "_", "text", "_", "add", "(", "tvb", ",", "megaco", "_", "tree", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Get", "rid", "of", "bogus", "extra", "proto_tree_add_text", "arguments"]}
{"code_tokens": ["/", "*", "libpcap", ".", "c", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "libpcap", ".", "c", ",", "v", "1", ".", "16", "1999", "/", "08", "/", "28", "01", ":", "19", ":", "44", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "libpcap", ".", "c", ",", "v", "1", ".", "17", "1999", "/", "08", "/", "31", "22", ":", "36", ":", "20", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Wiretap", "Library", "<nl>", "*", "Copyright", "(", "c", ")", "1998", "by", "Gilbert", "Ramirez", "<", "gram", "@", "verdict", ".", "uthscsa", ".", "edu", ">", "<nl>", "(", "(", "(", "x", ")", "&", "0x00FF", ")", "<", "<", "8", ")", ")", "<nl>", "<nl>", "/", "*", "On", "some", "systems", ",", "the", "FDDI", "MAC", "addresses", "are", "bit", "-", "swapped", ".", "*", "/", "<nl>", "-", "#", "if", "!", "defined", "(", "ultrix", ")", "&", "&", "!", "defined", "(", "_", "_", "alpha", ")", "&", "&", "!", "defined", "(", "_", "_", "bsdi", ")", "<nl>", "+", "#", "if", "!", "defined", "(", "ultrix", ")", "&", "&", "!", "defined", "(", "_", "_", "alpha", ")", "&", "&", "!", "defined", "(", "_", "_", "bsdi", "_", "_", ")", "<nl>", "#", "define", "BIT", "_", "SWAPPED", "_", "MAC", "_", "ADDRS", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["Fix", "from", "Bert", "Driehuis", "to", "the", "stuff", "that", "checks", "for", "BSD", "OS"]}
{"code_tokens": ["dissect", "_", "TCPFlashUpdate", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "adwin", "<nl>", "}", "<nl>", "<nl>", "/", "*", "00", ":", "50", ":", "c2", ":", "0a", ":", "2", "*", ":", "*", "*", "*", "/", "<nl>", "-", "static", "char", "mac", "_", "iab", "_", "start", "[", "]", "=", "{", "0x00", ",", "0x50", ",", "0xc2", ",", "0x0a", ",", "0x20", ",", "0x00", "}", ";", "<nl>", "-", "static", "char", "mac", "_", "iab", "_", "end", "[", "]", "=", "{", "0x00", ",", "0x50", ",", "0xc2", ",", "0x0a", ",", "0x2f", ",", "0xff", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "iab", "_", "start", "[", "]", "=", "{", "0x00", ",", "0x50", ",", "0xc2", ",", "0x0a", ",", "0x20", ",", "0x00", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "iab", "_", "end", "[", "]", "=", "{", "0x00", ",", "0x50", ",", "0xc2", ",", "0x0a", ",", "0x2f", ",", "0xff", "}", ";", "<nl>", "<nl>", "/", "*", "00", ":", "22", ":", "71", ":", "*", "*", ":", "*", "*", ":", "*", "*", "*", "/", "<nl>", "-", "static", "char", "mac", "_", "oui", "_", "start", "[", "]", "=", "{", "0x00", ",", "0x22", ",", "0x71", ",", "0x00", ",", "0x00", ",", "0x00", "}", ";", "<nl>", "-", "static", "char", "mac", "_", "oui", "_", "end", "[", "]", "=", "{", "0x00", ",", "0x22", ",", "0x71", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "oui", "_", "start", "[", "]", "=", "{", "0x00", ",", "0x22", ",", "0x71", ",", "0x00", ",", "0x00", ",", "0x00", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "oui", "_", "end", "[", "]", "=", "{", "0x00", ",", "0x22", ",", "0x71", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "<nl>", "/", "*", "ff", ":", "ff", ":", "ff", ":", "ff", ":", "ff", ":", "ff", "*", "/", "<nl>", "-", "static", "char", "mac", "_", "broadcast", "[", "]", "=", "{", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "broadcast", "[", "]", "=", "{", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "<nl>", "/", "*", "return", "TRUE", "if", "mac", "is", "in", "mac", "address", "range", "assigned", "to", "ADwin", "or", "if", "<nl>", "*", "mac", "is", "broadcast", "*", "/", "mmm", "ui", "/", "gtk", "/", "wlan", "_", "stat", "_", "dlg", ".", "c", "<nl>", "dissect", "_", "TCPFlashUpdate", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "adwin", "<nl>", "}", "<nl>", "<nl>", "/", "*", "00", ":", "50", ":", "c2", ":", "0a", ":", "2", "*", ":", "*", "*", "*", "/", "<nl>", "-", "static", "char", "mac", "_", "iab", "_", "start", "[", "]", "=", "{", "0x00", ",", "0x50", ",", "0xc2", ",", "0x0a", ",", "0x20", ",", "0x00", "}", ";", "<nl>", "-", "static", "char", "mac", "_", "iab", "_", "end", "[", "]", "=", "{", "0x00", ",", "0x50", ",", "0xc2", ",", "0x0a", ",", "0x2f", ",", "0xff", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "iab", "_", "start", "[", "]", "=", "{", "0x00", ",", "0x50", ",", "0xc2", ",", "0x0a", ",", "0x20", ",", "0x00", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "iab", "_", "end", "[", "]", "=", "{", "0x00", ",", "0x50", ",", "0xc2", ",", "0x0a", ",", "0x2f", ",", "0xff", "}", ";", "<nl>", "<nl>", "/", "*", "00", ":", "22", ":", "71", ":", "*", "*", ":", "*", "*", ":", "*", "*", "*", "/", "<nl>", "-", "static", "char", "mac", "_", "oui", "_", "start", "[", "]", "=", "{", "0x00", ",", "0x22", ",", "0x71", ",", "0x00", ",", "0x00", ",", "0x00", "}", ";", "<nl>", "-", "static", "char", "mac", "_", "oui", "_", "end", "[", "]", "=", "{", "0x00", ",", "0x22", ",", "0x71", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "oui", "_", "start", "[", "]", "=", "{", "0x00", ",", "0x22", ",", "0x71", ",", "0x00", ",", "0x00", ",", "0x00", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "oui", "_", "end", "[", "]", "=", "{", "0x00", ",", "0x22", ",", "0x71", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "<nl>", "/", "*", "ff", ":", "ff", ":", "ff", ":", "ff", ":", "ff", ":", "ff", "*", "/", "<nl>", "-", "static", "char", "mac", "_", "broadcast", "[", "]", "=", "{", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "mac", "_", "broadcast", "[", "]", "=", "{", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "<nl>", "/", "*", "return", "TRUE", "if", "mac", "is", "in", "mac", "address", "range", "assigned", "to", "ADwin", "or", "if", "<nl>", "*", "mac", "is", "broadcast", "*", "/", "<nl>", "wlanstat", "_", "launch", "(", "GtkAction", "*", "action", "_", "U", "_", ",", "gpointer", "user", "_", "data", "_", "U", "_", ")", "<nl>", "void", "<nl>", "register", "_", "tap", "_", "listener", "_", "wlanstat", "(", "void", ")", "<nl>", "{", "<nl>", "-", "static", "const", "char", "src", "[", "6", "]", "=", "{", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "+", "static", "const", "unsigned", "char", "src", "[", "6", "]", "=", "{", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", ",", "0xff", "}", ";", "<nl>", "<nl>", "SET", "_", "ADDRESS", "(", "&", "broadcast", ",", "AT", "_", "ETHER", ",", "6", ",", "src", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "overflow", "in", "implicit", "constant", "conversion", "make", "it", "const"]}
{"code_tokens": ["dissect", "_", "vmlab", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "guint8", "attributes", ";", "<nl>", "guint8", "portgroup", ";", "<nl>", "<nl>", "-", "guint16", "encap", "_", "proto", ";", "<nl>", "+", "volatile", "guint16", "encap", "_", "proto", ";", "<nl>", "<nl>", "col", "_", "set", "_", "str", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "PROTOCOL", ",", "\"", "VMLAB", "\"", ")", ";", "<nl>", "col", "_", "clear", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ")", ";", "<nl>"], "docstring_tokens": ["Put", "volatile", "back", "without", "it", "the", "compiler", "warns", "you"]}
{"code_tokens": ["static", "struct", "strfunc", "{", "<nl>", "{", "\"", "Delete", "\"", ",", "dissect", "_", "delete", "}", ",", "<nl>", "{", "\"", "Vendor", "ID", "\"", ",", "dissect", "_", "vid", "}", ",", "<nl>", "{", "\"", "Attrib", "\"", ",", "dissect", "_", "config", "}", ",", "<nl>", "-", "{", "\"", "NAT", "-", "Discovery", "\"", ",", "dissect", "_", "nat", "_", "discovery", "}", ",", "/", "*", "draft", "-", "ietf", "-", "ipsec", "-", "nat", "-", "t", "-", "ike", "*", "/", "<nl>", "+", "{", "\"", "NAT", "-", "Discovery", "\"", ",", "dissect", "_", "nat", "_", "discovery", "}", ",", "/", "*", "draft", "-", "ietf", "-", "ipsec", "-", "nat", "-", "t", "-", "ike", "-", "04", "*", "/", "<nl>", "{", "\"", "NAT", "-", "Original", "Address", "\"", ",", "dissect", "_", "nat", "_", "original", "_", "address", "}", "/", "*", "draft", "-", "ietf", "-", "ipsec", "-", "nat", "-", "t", "-", "ike", "*", "/", "<nl>", "}", ";", "<nl>", "<nl>", "payloadtype2str", "(", "guint8", "type", ")", "{", "<nl>", "if", "(", "type", "<", "128", ")", "<nl>", "return", "\"", "RESERVED", "\"", ";", "<nl>", "if", "(", "type", "=", "=", "130", ")", "<nl>", "-", "return", "\"", "NAT", "-", "D", "(", "draft", "-", "ietf", "-", "ipsec", "-", "nat", "-", "t", "-", "ike", "-", "01", "to", "04", ")", "\"", ";", "<nl>", "+", "return", "\"", "NAT", "-", "D", "(", "draft", "-", "ietf", "-", "ipsec", "-", "nat", "-", "t", "-", "ike", "-", "01", "to", "03", ")", "\"", ";", "<nl>", "if", "(", "type", "=", "=", "131", ")", "<nl>", "return", "\"", "NAT", "-", "OA", "(", "draft", "-", "ietf", "-", "ipsec", "-", "nat", "-", "t", "-", "ike", "-", "01", "to", "04", ")", "\"", ";", "<nl>", "return", "\"", "Private", "USE", "\"", ";", "<nl>"], "docstring_tokens": ["from", "Stig", "change", "the", "draft", "number", "for", "NAT", "D"]}
{"code_tokens": ["*", "Copyright", "1999", ",", "Richard", "Sharpe", "<", "rsharpe", "@", "ns", ".", "aus", ".", "com", ">", "<nl>", "*", "2001", "Rewrite", "by", "Ronnie", "Sahlberg", "and", "Guy", "Harris", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "smb", ".", "c", ",", "v", "1", ".", "327", "2003", "/", "04", "/", "14", "17", ":", "38", ":", "49", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "smb", ".", "c", ",", "v", "1", ".", "328", "2003", "/", "04", "/", "17", "00", ":", "13", ":", "26", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "proto", "_", "reg", "_", "handoff", "_", "smb", "(", "void", ")", "<nl>", "ntlmssp", "_", "handle", "=", "find", "_", "dissector", "(", "\"", "ntlmssp", "\"", ")", ";", "<nl>", "<nl>", "heur", "_", "dissector", "_", "add", "(", "\"", "netbios", "\"", ",", "dissect", "_", "smb", "_", "heur", ",", "proto", "_", "smb", ")", ";", "<nl>", "+", "heur", "_", "dissector", "_", "add", "(", "\"", "cotp", "\"", ",", "dissect", "_", "smb", "_", "heur", ",", "proto", "_", "smb", ")", ";", "<nl>", "smb", "_", "handle", "=", "create", "_", "dissector", "_", "handle", "(", "dissect", "_", "smb", ",", "proto", "_", "smb", ")", ";", "<nl>", "dissector", "_", "add", "(", "\"", "ipx", ".", "socket", "\"", ",", "IPX", "_", "SOCKET", "_", "NWLINK", "_", "SMB", "_", "SERVER", ",", "smb", "_", "handle", ")", ";", "<nl>", "dissector", "_", "add", "(", "\"", "ipx", ".", "socket", "\"", ",", "IPX", "_", "SOCKET", "_", "NWLINK", "_", "SMB", "_", "REDIR", ",", "smb", "_", "handle", ")", ";", "<nl>"], "docstring_tokens": ["Support", "SMB", "as", "one", "of", "the", "protocols", "that", "can", "run", "over", "OSI", "COTP"]}
{"code_tokens": ["dissect", "_", "nfs", "_", "argop4", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "+", "for", "(", "ops", "_", "counter", "=", "0", ";", "ops", "_", "counter", "<", "ops", ";", "ops", "_", "counter", "+", "+", ")", "<nl>", "+", "{", "<nl>", "+", "g", "_", "string", "_", "free", "(", "op", "_", "summary", "[", "ops", "_", "counter", "]", ".", "optext", ",", "TRUE", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "g", "_", "free", "(", "op", "_", "summary", ")", ";", "<nl>", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "dissect", "_", "nfs", "_", "resop4", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "+", "for", "(", "ops", "_", "counter", "=", "0", ";", "ops", "_", "counter", "<", "ops", ";", "ops", "_", "counter", "+", "+", ")", "<nl>", "+", "{", "<nl>", "+", "g", "_", "string", "_", "free", "(", "op", "_", "summary", "[", "ops", "_", "counter", "]", ".", "optext", ",", "TRUE", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "g", "_", "free", "(", "op", "_", "summary", ")", ";", "<nl>", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["From", "Evan", "Huus"]}
{"code_tokens": ["*", "Definitions", "for", "alert", "box", "routines", "with", "toolkit", "-", "independent", "APIs", "but", "<nl>", "*", "toolkit", "-", "dependent", "implementations", ".", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "simple", "_", "dialog", ".", "h", ",", "v", "1", ".", "14", "2004", "/", "06", "/", "04", "20", ":", "04", ":", "34", "ulfl", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "simple", "_", "dialog", ".", "h", ",", "v", "1", ".", "15", "2004", "/", "06", "/", "04", "21", ":", "12", ":", "01", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "extern", "gpointer", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "E", "type", ",", "gint", "btn", "_", "mask", ",", "<nl>", "*", "@", "param", "ap", "parameters", "<nl>", "*", "@", "return", "the", "newly", "created", "dialog", "<nl>", "*", "/", "<nl>", "-", "extern", "gpointer", "vsimple", "_", "dialog", "(", "gint", "type", ",", "gint", "btn", "_", "mask", ",", "<nl>", "+", "extern", "gpointer", "vsimple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "E", "type", ",", "gint", "btn", "_", "mask", ",", "<nl>", "const", "gchar", "*", "msg", "_", "format", ",", "va", "_", "list", "ap", ")", ";", "<nl>", "#", "else", "<nl>", "/", "*", "*", "Create", "and", "show", "a", "simple", "dialog", ".", "mmm", "gtk", "/", "simple", "_", "dialog", ".", "c", "<nl>", "*", "Definitions", "for", "alert", "box", "routines", "with", "toolkit", "-", "independent", "APIs", "but", "<nl>", "*", "toolkit", "-", "dependent", "implementations", ".", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "simple", "_", "dialog", ".", "h", ",", "v", "1", ".", "14", "2004", "/", "06", "/", "04", "20", ":", "04", ":", "34", "ulfl", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "simple", "_", "dialog", ".", "h", ",", "v", "1", ".", "15", "2004", "/", "06", "/", "04", "21", ":", "12", ":", "01", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "extern", "gpointer", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "E", "type", ",", "gint", "btn", "_", "mask", ",", "<nl>", "*", "@", "param", "ap", "parameters", "<nl>", "*", "@", "return", "the", "newly", "created", "dialog", "<nl>", "*", "/", "<nl>", "-", "extern", "gpointer", "vsimple", "_", "dialog", "(", "gint", "type", ",", "gint", "btn", "_", "mask", ",", "<nl>", "+", "extern", "gpointer", "vsimple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "E", "type", ",", "gint", "btn", "_", "mask", ",", "<nl>", "const", "gchar", "*", "msg", "_", "format", ",", "va", "_", "list", "ap", ")", ";", "<nl>", "#", "else", "<nl>", "/", "*", "*", "Create", "and", "show", "a", "simple", "dialog", ".", "<nl>", "/", "*", "simple", "_", "dialog", ".", "c", "<nl>", "*", "Simple", "message", "dialog", "box", "routines", ".", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "simple", "_", "dialog", ".", "c", ",", "v", "1", ".", "35", "2004", "/", "05", "/", "26", "03", ":", "49", ":", "24", "ulfl", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "simple", "_", "dialog", ".", "c", ",", "v", "1", ".", "36", "2004", "/", "06", "/", "04", "21", ":", "12", ":", "01", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "display", "_", "queued", "_", "messages", "(", "void", ")", "<nl>", "*", "/", "<nl>", "<nl>", "gpointer", "<nl>", "-", "vsimple", "_", "dialog", "(", "gint", "type", ",", "gint", "btn", "_", "mask", ",", "const", "gchar", "*", "msg", "_", "format", ",", "va", "_", "list", "ap", ")", "<nl>", "+", "vsimple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "E", "type", ",", "gint", "btn", "_", "mask", ",", "const", "gchar", "*", "msg", "_", "format", ",", "va", "_", "list", "ap", ")", "<nl>", "{", "<nl>", "gchar", "*", "message", ";", "<nl>", "queued", "_", "message", "_", "t", "*", "queued", "_", "message", ";", "<nl>", "vsimple", "_", "dialog", "(", "gint", "type", ",", "gint", "btn", "_", "mask", ",", "const", "gchar", "*", "msg", "_", "format", ",", "va", "_", "list", "ap", ")", "<nl>", "}", "<nl>", "<nl>", "gpointer", "<nl>", "-", "simple", "_", "dialog", "(", "gint", "type", ",", "gint", "btn", "_", "mask", ",", "const", "gchar", "*", "msg", "_", "format", ",", ".", ".", ".", ")", "<nl>", "+", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "E", "type", ",", "gint", "btn", "_", "mask", ",", "const", "gchar", "*", "msg", "_", "format", ",", ".", ".", ".", ")", "<nl>", "{", "<nl>", "va", "_", "list", "ap", ";", "<nl>", "gpointer", "ret", ";", "<nl>"], "docstring_tokens": ["Make", "the", "definition", "of", "simple_dialog", "match", "its", "declaration"]}
{"code_tokens": ["static", "const", "value", "_", "string", "rsvd", "_", "disk", "_", "type", "_", "vals", "[", "]", "=", "{", "<nl>", "<nl>", "static", "const", "value", "_", "string", "rsvd", "_", "disk", "_", "format", "_", "vals", "[", "]", "=", "{", "<nl>", "{", "0x03", ",", "\"", "VIRTUAL", "_", "STORAGE", "_", "TYPE", "_", "DEVICE", "_", "VHDX", "\"", "}", ",", "<nl>", "+", "{", "0x04", ",", "\"", "VIRTUAL", "_", "STORAGE", "_", "TYPE", "_", "DEVICE", "_", "VHDSET", "\"", "}", ",", "<nl>", "{", "0", ",", "NULL", "}", "<nl>", "}", ";", "<nl>", "<nl>", "dissect", "_", "RSVD", "_", "GET", "_", "INITIAL", "_", "INFO", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "const", "value", "_", "string", "rsvd", "_", "data", "_", "in", "_", "vals", "[", "]", "=", "{", "<nl>", "+", "{", "0x00", ",", "\"", "Client", "is", "requesting", "data", "from", "the", "server", "\"", "}", ",", "<nl>", "+", "{", "0x01", ",", "\"", "Client", "is", "sending", "data", "to", "the", "server", "\"", "}", ",", "<nl>", "+", "{", "0x02", ",", "\"", "Client", "is", "neither", "sending", "nor", "requesting", "an", "additional", "data", "buffer", "\"", "}", ",", "<nl>", "+", "{", "0", ",", "NULL", "}", "<nl>", "+", "}", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Dissect", "a", "tunnelled", "SCSI", "request", "and", "call", "the", "SCSI", "dissector", "where", "<nl>", "*", "needed", ".", "<nl>", "proto", "_", "register", "_", "rsvd", "(", "void", ")", "<nl>", "NULL", ",", "0", ",", "NULL", ",", "HFILL", "}", "}", ",", "<nl>", "<nl>", "{", "&", "hf", "_", "svhdx", "_", "tunnel", "_", "scsi", "_", "data", "_", "in", ",", "<nl>", "-", "{", "\"", "DataIn", "\"", ",", "\"", "rsvd", ".", "svhdx", "_", "scsi", "_", "data", "_", "in", "\"", ",", "FT", "_", "BOOLEAN", ",", "8", ",", "<nl>", "-", "NULL", ",", "0", ",", "NULL", ",", "HFILL", "}", "}", ",", "<nl>", "+", "{", "\"", "DataIn", "\"", ",", "\"", "rsvd", ".", "svhdx", "_", "scsi", "_", "data", "_", "in", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "HEX", ",", "<nl>", "+", "VALS", "(", "rsvd", "_", "data", "_", "in", "_", "vals", ")", ",", "0", ",", "\"", "SCSI", "CDB", "transfer", "type", "\"", ",", "HFILL", "}", "}", ",", "<nl>", "<nl>", "{", "&", "hf", "_", "svhdx", "_", "tunnel", "_", "scsi", "_", "reserved2", ",", "<nl>", "{", "\"", "Reserved2", "\"", ",", "\"", "rsvd", ".", "svhdx", "_", "scsi", "_", "reserved2", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "HEX", ",", "mmm", "epan", "/", "dissectors", "/", "packet", "-", "smb2", ".", "c", "<nl>", "static", "const", "value", "_", "string", "rsvd", "_", "disk", "_", "type", "_", "vals", "[", "]", "=", "{", "<nl>", "<nl>", "static", "const", "value", "_", "string", "rsvd", "_", "disk", "_", "format", "_", "vals", "[", "]", "=", "{", "<nl>", "{", "0x03", ",", "\"", "VIRTUAL", "_", "STORAGE", "_", "TYPE", "_", "DEVICE", "_", "VHDX", "\"", "}", ",", "<nl>", "+", "{", "0x04", ",", "\"", "VIRTUAL", "_", "STORAGE", "_", "TYPE", "_", "DEVICE", "_", "VHDSET", "\"", "}", ",", "<nl>", "{", "0", ",", "NULL", "}", "<nl>", "}", ";", "<nl>", "<nl>", "dissect", "_", "RSVD", "_", "GET", "_", "INITIAL", "_", "INFO", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "<nl>", "+", "static", "const", "value", "_", "string", "rsvd", "_", "data", "_", "in", "_", "vals", "[", "]", "=", "{", "<nl>", "+", "{", "0x00", ",", "\"", "Client", "is", "requesting", "data", "from", "the", "server", "\"", "}", ",", "<nl>", "+", "{", "0x01", ",", "\"", "Client", "is", "sending", "data", "to", "the", "server", "\"", "}", ",", "<nl>", "+", "{", "0x02", ",", "\"", "Client", "is", "neither", "sending", "nor", "requesting", "an", "additional", "data", "buffer", "\"", "}", ",", "<nl>", "+", "{", "0", ",", "NULL", "}", "<nl>", "+", "}", ";", "<nl>", "+", "<nl>", "/", "*", "<nl>", "*", "Dissect", "a", "tunnelled", "SCSI", "request", "and", "call", "the", "SCSI", "dissector", "where", "<nl>", "*", "needed", ".", "<nl>", "proto", "_", "register", "_", "rsvd", "(", "void", ")", "<nl>", "NULL", ",", "0", ",", "NULL", ",", "HFILL", "}", "}", ",", "<nl>", "<nl>", "{", "&", "hf", "_", "svhdx", "_", "tunnel", "_", "scsi", "_", "data", "_", "in", ",", "<nl>", "-", "{", "\"", "DataIn", "\"", ",", "\"", "rsvd", ".", "svhdx", "_", "scsi", "_", "data", "_", "in", "\"", ",", "FT", "_", "BOOLEAN", ",", "8", ",", "<nl>", "-", "NULL", ",", "0", ",", "NULL", ",", "HFILL", "}", "}", ",", "<nl>", "+", "{", "\"", "DataIn", "\"", ",", "\"", "rsvd", ".", "svhdx", "_", "scsi", "_", "data", "_", "in", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "HEX", ",", "<nl>", "+", "VALS", "(", "rsvd", "_", "data", "_", "in", "_", "vals", ")", ",", "0", ",", "\"", "SCSI", "CDB", "transfer", "type", "\"", ",", "HFILL", "}", "}", ",", "<nl>", "<nl>", "{", "&", "hf", "_", "svhdx", "_", "tunnel", "_", "scsi", "_", "reserved2", ",", "<nl>", "{", "\"", "Reserved2", "\"", ",", "\"", "rsvd", ".", "svhdx", "_", "scsi", "_", "reserved2", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "HEX", ",", "<nl>", "static", "const", "value", "_", "string", "smb2", "_", "ioctl", "_", "shared", "_", "virtual", "_", "disk", "_", "vals", "[", "]", "=", "{", "<nl>", "static", "const", "value", "_", "string", "smb2", "_", "ioctl", "_", "shared", "_", "virtual", "_", "disk", "_", "hstate", "_", "vals", "[", "]", "=", "{", "<nl>", "{", "0x00", ",", "\"", "HandleStateNone", "\"", "}", ",", "<nl>", "{", "0x01", ",", "\"", "HandleStateFileShared", "\"", "}", ",", "<nl>", "-", "{", "0x02", ",", "\"", "HandleStateShared", "\"", "}", ",", "<nl>", "+", "{", "0x03", ",", "\"", "HandleStateShared", "\"", "}", ",", "<nl>", "{", "0", ",", "NULL", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["RSVD", "dissector", "minor", "fixes"]}
{"code_tokens": ["dissect", "_", "infiniband", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "base", "_", "transport", "_", "header", "_", "tree", ",", "hf", "_", "infiniband", "_", "transport", "_", "header", "_", "version", ",", "tvb", ",", "offset", ",", "1", ",", "FALSE", ")", ";", "offset", "+", "=", "1", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "base", "_", "transport", "_", "header", "_", "tree", ",", "hf", "_", "infiniband", "_", "partition", "_", "key", ",", "tvb", ",", "offset", ",", "2", ",", "FALSE", ")", ";", "offset", "+", "=", "2", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "base", "_", "transport", "_", "header", "_", "tree", ",", "hf", "_", "infiniband", "_", "reserved8", ",", "tvb", ",", "offset", ",", "1", ",", "FALSE", ")", ";", "offset", "+", "=", "1", ";", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "item", "(", "base", "_", "transport", "_", "header", "_", "tree", ",", "hf", "_", "infiniband", "_", "destination", "_", "qp", ",", "tvb", ",", "offset", ",", "3", ",", "FALSE", ")", ";", "offset", "+", "=", "3", ";", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "item", "(", "base", "_", "transport", "_", "header", "_", "tree", ",", "hf", "_", "infiniband", "_", "destination", "_", "qp", ",", "tvb", ",", "offset", ",", "3", ",", "FALSE", ")", ";", "<nl>", "+", "dst", "_", "qp", "=", "tvb", "_", "get", "_", "ntoh24", "(", "tvb", ",", "offset", ")", ";", "offset", "+", "=", "3", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "base", "_", "transport", "_", "header", "_", "tree", ",", "hf", "_", "infiniband", "_", "acknowledge", "_", "request", ",", "tvb", ",", "offset", ",", "1", ",", "FALSE", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "base", "_", "transport", "_", "header", "_", "tree", ",", "hf", "_", "infiniband", "_", "reserved7", ",", "tvb", ",", "offset", ",", "1", ",", "FALSE", ")", ";", "offset", "+", "=", "1", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "base", "_", "transport", "_", "header", "_", "tree", ",", "hf", "_", "infiniband", "_", "packet", "_", "sequence", "_", "number", ",", "tvb", ",", "offset", ",", "3", ",", "FALSE", ")", ";", "offset", "+", "=", "3", ";", "<nl>"], "docstring_tokens": ["From", "Mellanox", "Technologies", "Ltd", "via", "bug", "5004"]}
{"code_tokens": ["static", "void", "gtk", "_", "vumeter", "_", "size", "_", "calculate", "(", "GtkWidget", "*", "widget", ",", "GtkRequisition", "*", "requi", "<nl>", "PangoLayout", "*", "layout", "=", "gtk", "_", "widget", "_", "create", "_", "pango", "_", "layout", "(", "widget", ",", "item", "-", ">", "label", ")", ";", "<nl>", "pango", "_", "layout", "_", "get", "_", "pixel", "_", "size", "(", "layout", ",", "&", "layout", "_", "width", ",", "&", "layout", "_", "height", ")", ";", "<nl>", "/", "*", "XXX", "-", "memleak", "*", "/", "<nl>", "+", "}", "else", "{", "<nl>", "+", "layout", "_", "width", "=", "0", ";", "<nl>", "+", "layout", "_", "height", "=", "0", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "vumeter", "-", ">", "vertical", "=", "=", "TRUE", ")", "{", "<nl>"], "docstring_tokens": ["Avoid", "using", "uninitialized", "values"]}
{"code_tokens": ["dlg", "_", "button", "_", "row", "_", "new", "(", "const", "gchar", "*", "stock", "_", "id", "_", "first", ",", ".", ".", ".", ")", "<nl>", "gtk", "_", "box", "_", "pack", "_", "end", "(", "GTK", "_", "BOX", "(", "hbox", ")", ",", "button", "_", "hbox", ",", "TRUE", ",", "TRUE", ",", "0", ")", ";", "<nl>", "g", "_", "object", "_", "set", "_", "data", "(", "G", "_", "OBJECT", "(", "hbox", ")", ",", "BUTTON", "_", "HBOX", "_", "KEY", ",", "button", "_", "hbox", ")", ";", "<nl>", "gtk", "_", "widget", "_", "show", "(", "button", "_", "hbox", ")", ";", "<nl>", "+", "gtk", "_", "button", "_", "box", "_", "set", "_", "spacing", "(", "GTK", "_", "BUTTON", "_", "BOX", "(", "button", "_", "hbox", ")", ",", "5", ")", ";", "<nl>", "<nl>", "help", "_", "hbox", "=", "gtk", "_", "hbutton", "_", "box", "_", "new", "(", ")", ";", "<nl>", "gtk", "_", "box", "_", "pack", "_", "end", "(", "GTK", "_", "BOX", "(", "hbox", ")", ",", "help", "_", "hbox", ",", "FALSE", ",", "FALSE", ",", "0", ")", ";", "<nl>", "gtk", "_", "widget", "_", "show", "(", "help", "_", "hbox", ")", ";", "<nl>", "+", "gtk", "_", "button", "_", "box", "_", "set", "_", "spacing", "(", "GTK", "_", "BUTTON", "_", "BOX", "(", "help", "_", "hbox", ")", ",", "5", ")", ";", "<nl>", "<nl>", "if", "(", "buttons", "=", "=", "0", ")", "{", "<nl>", "/", "*", "if", "no", "buttons", "wanted", ",", "simply", "do", "nothing", "*", "/", "<nl>", "dlg", "_", "button", "_", "row", "_", "new", "(", "const", "gchar", "*", "stock", "_", "id", "_", "first", ",", ".", ".", ".", ")", "<nl>", "/", "*", "if", "more", "than", "one", "button", ",", "sort", "buttons", "from", "left", "to", "right", "*", "/", "<nl>", "/", "*", "(", "the", "whole", "button", "cluster", "will", "then", "be", "right", "aligned", ")", "*", "/", "<nl>", "gtk", "_", "button", "_", "box", "_", "set", "_", "layout", "(", "GTK", "_", "BUTTON", "_", "BOX", "(", "button", "_", "hbox", ")", ",", "GTK", "_", "BUTTONBOX", "_", "END", ")", ";", "<nl>", "-", "gtk", "_", "button", "_", "box", "_", "set", "_", "spacing", "(", "GTK", "_", "BUTTON", "_", "BOX", "(", "button", "_", "hbox", ")", ",", "5", ")", ";", "<nl>", "<nl>", "/", "*", "GTK", "+", "1", ".", "3", "and", "later", "-", "on", "Win32", ",", "we", "use", "1", ".", "3", "[", ".", "x", "]", "or", "2", ".", "x", ",", "not", "1", ".", "2", "[", ".", "x", "]", "*", "/", "<nl>", "#", "if", "!", "defined", "(", "_", "WIN32", ")", "<nl>", "dlg", "_", "button", "_", "row", "_", "new", "(", "const", "gchar", "*", "stock", "_", "id", "_", "first", ",", ".", ".", ".", ")", "<nl>", "if", "(", "close", "!", "=", "NULL", ")", "dlg", "_", "button", "_", "new", "(", "hbox", ",", "button", "_", "hbox", ",", "close", ")", ";", "<nl>", "if", "(", "cancel", "!", "=", "NULL", ")", "dlg", "_", "button", "_", "new", "(", "hbox", ",", "button", "_", "hbox", ",", "cancel", ")", ";", "<nl>", "<nl>", "-", "/", "*", "GTK2", ":", "we", "don", "'", "t", "know", "that", "button", "combination", ",", "add", "it", "to", "the", "above", "list", "!", "*", "/", "<nl>", "-", "/", "*", "g", "_", "assert", "_", "not", "_", "reached", "(", ")", ";", "*", "/", "<nl>", "return", "hbox", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["a", "better", "spacing", "between", "the", "help", "and", "copy", "buttons"]}
{"code_tokens": ["static", "uat", "_", "field", "_", "t", "io", "_", "graph", "_", "fields", "[", "]", "=", "{", "<nl>", "UAT", "_", "END", "_", "FIELDS", "<nl>", "}", ";", "<nl>", "<nl>", "-", "static", "void", "*", "io", "_", "graph", "_", "copy", "_", "cb", "(", "void", "*", "dst", "_", "ptr", ",", "const", "void", "*", "src", "_", "ptr", ",", "size", "_", "t", "len", "_", "U", "_", ")", "{", "<nl>", "+", "static", "void", "*", "io", "_", "graph", "_", "copy", "_", "cb", "(", "void", "*", "dst", "_", "ptr", ",", "const", "void", "*", "src", "_", "ptr", ",", "size", "_", "t", "len", ")", "{", "<nl>", "+", "Q", "_", "UNUSED", "(", "len", ")", ";", "<nl>", "io", "_", "graph", "_", "settings", "_", "t", "*", "dst", "=", "(", "io", "_", "graph", "_", "settings", "_", "t", "*", ")", "dst", "_", "ptr", ";", "<nl>", "const", "io", "_", "graph", "_", "settings", "_", "t", "*", "src", "=", "(", "const", "io", "_", "graph", "_", "settings", "_", "t", "*", ")", "src", "_", "ptr", ";", "<nl>"], "docstring_tokens": ["Use", "Q_UNUSED", "instead", "of", "_U_"]}
{"code_tokens": ["fragment", "_", "add", "_", "work", "(", "fragment", "_", "data", "*", "fd", "_", "head", ",", "tvbuff", "_", "t", "*", "tvb", ",", "const", "int", "offset", ",", "<nl>", "fragment", "_", "data", "*", "fd", "_", "i", ";", "<nl>", "guint32", "max", ",", "dfpos", ",", "fraglen", ";", "<nl>", "tvbuff", "_", "t", "*", "old", "_", "tvb", "_", "data", ";", "<nl>", "-", "char", "*", "data", ";", "<nl>", "+", "guint8", "*", "data", ";", "<nl>", "<nl>", "/", "*", "create", "new", "fd", "describing", "this", "fragment", "*", "/", "<nl>", "fd", "=", "g", "_", "slice", "_", "new", "(", "fragment", "_", "data", ")", ";", "<nl>", "fragment", "_", "add", "_", "work", "(", "fragment", "_", "data", "*", "fd", "_", "head", ",", "tvbuff", "_", "t", "*", "tvb", ",", "const", "int", "offset", ",", "<nl>", "*", "/", "<nl>", "/", "*", "store", "old", "data", "just", "in", "case", "*", "/", "<nl>", "old", "_", "tvb", "_", "data", "=", "fd", "_", "head", "-", ">", "tvb", "_", "data", ";", "<nl>", "-", "data", "=", "g", "_", "malloc", "(", "fd", "_", "head", "-", ">", "datalen", ")", ";", "<nl>", "+", "data", "=", "(", "guint8", "*", ")", "g", "_", "malloc", "(", "fd", "_", "head", "-", ">", "datalen", ")", ";", "<nl>", "fd", "_", "head", "-", ">", "tvb", "_", "data", "=", "tvb", "_", "new", "_", "real", "_", "data", "(", "data", ",", "fd", "_", "head", "-", ">", "datalen", ",", "fd", "_", "head", "-", ">", "datalen", ")", ";", "<nl>", "tvb", "_", "set", "_", "free", "_", "cb", "(", "fd", "_", "head", "-", ">", "tvb", "_", "data", ",", "g", "_", "free", ")", ";", "<nl>", "<nl>", "fragment", "_", "defragment", "_", "and", "_", "free", "(", "fragment", "_", "data", "*", "fd", "_", "head", ",", "const", "packet", "_", "info", "*", "pinfo", ")", "<nl>", "fragment", "_", "data", "*", "last", "_", "fd", "=", "NULL", ";", "<nl>", "guint32", "dfpos", "=", "0", ",", "size", "=", "0", ";", "<nl>", "tvbuff", "_", "t", "*", "old", "_", "tvb", "_", "data", "=", "NULL", ";", "<nl>", "-", "char", "*", "data", ";", "<nl>", "+", "guint8", "*", "data", ";", "<nl>", "<nl>", "for", "(", "fd", "_", "i", "=", "fd", "_", "head", "-", ">", "next", ";", "fd", "_", "i", ";", "fd", "_", "i", "=", "fd", "_", "i", "-", ">", "next", ")", "{", "<nl>", "if", "(", "!", "last", "_", "fd", "|", "|", "last", "_", "fd", "-", ">", "offset", "!", "=", "fd", "_", "i", "-", ">", "offset", ")", "{", "<nl>", "fragment", "_", "defragment", "_", "and", "_", "free", "(", "fragment", "_", "data", "*", "fd", "_", "head", ",", "const", "packet", "_", "info", "*", "pinfo", ")", "<nl>", "<nl>", "/", "*", "store", "old", "data", "in", "case", "the", "fd", "_", "i", "-", ">", "data", "pointers", "refer", "to", "it", "*", "/", "<nl>", "old", "_", "tvb", "_", "data", "=", "fd", "_", "head", "-", ">", "tvb", "_", "data", ";", "<nl>", "-", "data", "=", "g", "_", "malloc", "(", "size", ")", ";", "<nl>", "+", "data", "=", "(", "guint8", "*", ")", "g", "_", "malloc", "(", "size", ")", ";", "<nl>", "fd", "_", "head", "-", ">", "tvb", "_", "data", "=", "tvb", "_", "new", "_", "real", "_", "data", "(", "data", ",", "size", ",", "size", ")", ";", "<nl>", "tvb", "_", "set", "_", "free", "_", "cb", "(", "fd", "_", "head", "-", ">", "tvb", "_", "data", ",", "g", "_", "free", ")", ";", "<nl>", "fd", "_", "head", "-", ">", "len", "=", "size", ";", "/", "*", "record", "size", "for", "caller", "*", "/", "<nl>"], "docstring_tokens": ["Cast", "the", "result", "of", "g_malloc", "to", "avoid", "warnings", "about", "trying", "to", "compile"]}
{"code_tokens": ["print", "_", "usage", "(", "gboolean", "print", "_", "ver", ")", "<nl>", "<nl>", "/", "*", "fprintf", "(", "output", ",", "\"", "\\", "n", "\"", ")", ";", "*", "/", "<nl>", "fprintf", "(", "output", ",", "\"", "Output", ":", "\\", "n", "\"", ")", ";", "<nl>", "-", "fprintf", "(", "output", ",", "\"", "-", "w", "<", "outfile", "|", "-", ">", "set", "the", "output", "filename", "(", "or", "'", "-", "'", "for", "stdout", ")", "\\", "n", "\"", ")", ";", "<nl>", "+", "fprintf", "(", "output", ",", "\"", "-", "w", "<", "outfile", "|", "-", ">", "write", "packets", "to", "a", "pcap", "-", "format", "file", "named", "\\", "\"", "outfile", "\\", "\"", "\\", "n", "\"", ")", ";", "<nl>", "+", "fprintf", "(", "output", ",", "\"", "(", "or", "to", "the", "standard", "output", "for", "\\", "\"", "-", "\\", "\"", ")", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "C", "<", "config", "profile", ">", "start", "with", "specified", "configuration", "profile", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "-", "F", "<", "output", "file", "type", ">", "set", "the", "output", "file", "type", ",", "default", "is", "libpcap", "\\", "n", "\"", ")", ";", "<nl>", "fprintf", "(", "output", ",", "\"", "an", "empty", "\\", "\"", "-", "F", "\\", "\"", "option", "will", "list", "the", "file", "types", "\\", "n", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Clarify", "that", "w", "specifies", "a", "pcap", "format", "file", "to", "be", "written", "to"]}
{"code_tokens": ["dissect", "_", "icqv5Client", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "*", "bytes", "in", "the", "buffer", ".", "<nl>", "*", "/", "<nl>", "rounded", "_", "size", "=", "(", "(", "(", "(", "capturedsize", "-", "ICQ5", "_", "CL", "_", "SESSIONID", ")", "+", "3", ")", "/", "4", ")", "*", "4", ")", "+", "ICQ5", "_", "CL", "_", "SESSIONID", ";", "<nl>", "-", "decr", "_", "pd", "=", "tvb", "_", "memdup", "(", "tvb", ",", "0", ",", "capturedsize", ")", ";", "<nl>", "+", "/", "*", "rounded", "_", "size", "might", "exceed", "the", "tvb", "bounds", "so", "we", "can", "'", "t", "just", "use", "tvb", "_", "memdup", "here", ".", "*", "/", "<nl>", "+", "decr", "_", "pd", "=", "g", "_", "malloc", "(", "rounded", "_", "size", ")", ";", "<nl>", "+", "tvb", "_", "memcpy", "(", "tvb", ",", "decr", "_", "pd", ",", "0", ",", "capturedsize", ")", ";", "<nl>", "decrypt", "_", "v5", "(", "decr", "_", "pd", ",", "rounded", "_", "size", ",", "key", ")", ";", "<nl>", "<nl>", "/", "*", "Allocate", "a", "new", "tvbuff", ",", "referring", "to", "the", "decrypted", "data", ".", "*", "/", "<nl>"], "docstring_tokens": ["Back", "out", "r30376", "which", "introduced", "a", "buffer", "overrun", "Fixes", "bug", "4285"]}
{"code_tokens": ["dissect", "_", "prp", "_", "redundancy", "_", "control", "_", "trailer", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "pr", "<nl>", "if", "(", "length", "<", "14", ")", "<nl>", "return", "0", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "This", "is", "horribly", "broken", ".", "It", "assumes", "the", "frame", "is", "an", "Ethernet", "<nl>", "+", "*", "frame", ",", "with", "a", "type", "field", "at", "an", "offset", "of", "12", "bytes", "from", "the", "header", ".", "<nl>", "+", "*", "That", "is", "not", "guaranteed", "to", "be", "true", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "tvb", "_", "bytes", "_", "exist", "(", "tvb", ",", "12", ",", "2", ")", ")", "<nl>", "+", "return", "0", ";", "<nl>", "if", "(", "ETHERTYPE", "_", "VLAN", "=", "=", "tvb", "_", "get", "_", "ntohs", "(", "tvb", ",", "12", ")", ")", "/", "*", "tagged", "frame", "*", "/", "<nl>", "{", "<nl>", "offset", "=", "18", ";", "<nl>", "dissect", "_", "prp", "_", "redundancy", "_", "control", "_", "trailer", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "pr", "<nl>", "if", "(", "!", "tree", ")", "<nl>", "return", "tvb", "_", "captured", "_", "length", "(", "tvb", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "Is", "there", "enough", "data", "in", "the", "packet", "to", "every", "try", "to", "search", "for", "a", "<nl>", "+", "*", "trailer", "?", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "!", "tvb", "_", "bytes", "_", "exist", "(", "tvb", ",", "(", "length", "-", "4", ")", "+", "2", ",", "2", ")", ")", "<nl>", "+", "return", "0", ";", "/", "*", "no", "*", "/", "<nl>", "+", "<nl>", "/", "*", "search", "for", "PRP", "-", "0", "trailer", "*", "/", "<nl>", "/", "*", "If", "the", "frame", "is", ">", "64", "bytes", ",", "the", "PRP", "-", "0", "trailer", "is", "always", "at", "the", "end", ".", "*", "/", "<nl>", "/", "*", "If", "the", "frame", "is", "<", "=", "64", "bytes", ",", "the", "PRP", "-", "0", "trailer", "may", "be", "anywhere", "(", "before", "the", "padding", ")", "*", "/", "<nl>"], "docstring_tokens": ["Fix", "some", "of", "the", "brokenness", "in", "the", "PRP", "redundancy", "control", "trailer", "dissector"]}
{"code_tokens": ["dissect", "_", "sip", "_", "contact", "_", "item", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "gi", "<nl>", "gint", "current", "_", "offset", ";", "<nl>", "gint", "queried", "_", "offset", ";", "<nl>", "gint", "contact", "_", "params", "_", "start", "_", "offset", "=", "-", "1", ";", "<nl>", "-", "gint", "contact", "_", "param", "_", "end", "_", "offset", "=", "-", "1", ";", "<nl>", "+", "/", "*", "gint", "contact", "_", "param", "_", "end", "_", "offset", "=", "-", "1", ";", "*", "/", "<nl>", "uri", "_", "offset", "_", "info", "uri", "_", "offsets", ";", "<nl>", "<nl>", "/", "*", "skip", "Spaces", "and", "Tabs", "*", "/", "<nl>"], "docstring_tokens": ["packet", "sip", "c", "1469", "warning", "unused", "variable", "contact_param_end_offset"]}
{"code_tokens": ["parse", "_", "cosine", "_", "packet", "(", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "Buffer", "*", "buf", ",", "<nl>", "{", "<nl>", "union", "wtap", "_", "pseudo", "_", "header", "*", "pseudo", "_", "header", "=", "&", "phdr", "-", ">", "pseudo", "_", "header", ";", "<nl>", "int", "num", "_", "items", "_", "scanned", ";", "<nl>", "-", "int", "yy", ",", "mm", ",", "dd", ",", "hr", ",", "min", ",", "sec", ",", "csec", ";", "<nl>", "-", "guint", "pkt", "_", "len", ";", "<nl>", "+", "int", "yy", ",", "mm", ",", "dd", ",", "hr", ",", "min", ",", "sec", ",", "csec", ",", "pkt", "_", "len", ";", "<nl>", "int", "pro", ",", "off", ",", "pri", ",", "rm", ",", "error", ";", "<nl>", "guint", "code1", ",", "code2", ";", "<nl>", "char", "if", "_", "name", "[", "COSINE", "_", "MAX", "_", "IF", "_", "NAME", "_", "LEN", "]", "=", "\"", "\"", ",", "direction", "[", "6", "]", "=", "\"", "\"", ";", "<nl>", "parse", "_", "cosine", "_", "packet", "(", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "Buffer", "*", "buf", ",", "<nl>", "&", "yy", ",", "&", "mm", ",", "&", "dd", ",", "&", "hr", ",", "&", "min", ",", "&", "sec", ",", "&", "csec", ")", "=", "=", "7", ")", "{", "<nl>", "/", "*", "appears", "to", "be", "output", "to", "a", "control", "blade", "*", "/", "<nl>", "num", "_", "items", "_", "scanned", "=", "sscanf", "(", "line", ",", "<nl>", "-", "\"", "%", "4d", "-", "%", "2d", "-", "%", "2d", ",", "%", "2d", ":", "%", "2d", ":", "%", "2d", ".", "%", "9d", ":", "%", "5s", "(", "%", "127", "[", "A", "-", "Za", "-", "z0", "-", "9", "/", ":", "]", ")", ",", "Length", ":", "%", "9u", ",", "Pro", ":", "%", "9d", ",", "Off", ":", "%", "9d", ",", "Pri", ":", "%", "9d", ",", "RM", ":", "%", "9d", ",", "Err", ":", "%", "9d", "[", "%", "8x", ",", "%", "8x", "]", "\"", ",", "<nl>", "+", "\"", "%", "4d", "-", "%", "2d", "-", "%", "2d", ",", "%", "2d", ":", "%", "2d", ":", "%", "2d", ".", "%", "9d", ":", "%", "5s", "(", "%", "127", "[", "A", "-", "Za", "-", "z0", "-", "9", "/", ":", "]", ")", ",", "Length", ":", "%", "9d", ",", "Pro", ":", "%", "9d", ",", "Off", ":", "%", "9d", ",", "Pri", ":", "%", "9d", ",", "RM", ":", "%", "9d", ",", "Err", ":", "%", "9d", "[", "%", "8x", ",", "%", "8x", "]", "\"", ",", "<nl>", "&", "yy", ",", "&", "mm", ",", "&", "dd", ",", "&", "hr", ",", "&", "min", ",", "&", "sec", ",", "&", "csec", ",", "<nl>", "direction", ",", "if", "_", "name", ",", "&", "pkt", "_", "len", ",", "<nl>", "&", "pro", ",", "&", "off", ",", "&", "pri", ",", "&", "rm", ",", "&", "error", ",", "<nl>", "parse", "_", "cosine", "_", "packet", "(", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "Buffer", "*", "buf", ",", "<nl>", "}", "else", "{", "<nl>", "/", "*", "appears", "to", "be", "output", "to", "PE", "*", "/", "<nl>", "num", "_", "items", "_", "scanned", "=", "sscanf", "(", "line", ",", "<nl>", "-", "\"", "%", "5s", "(", "%", "127", "[", "A", "-", "Za", "-", "z0", "-", "9", "/", ":", "]", ")", ",", "Length", ":", "%", "9u", ",", "Pro", ":", "%", "9d", ",", "Off", ":", "%", "9d", ",", "Pri", ":", "%", "9d", ",", "RM", ":", "%", "9d", ",", "Err", ":", "%", "9d", "[", "%", "8x", ",", "%", "8x", "]", "\"", ",", "<nl>", "+", "\"", "%", "5s", "(", "%", "127", "[", "A", "-", "Za", "-", "z0", "-", "9", "/", ":", "]", ")", ",", "Length", ":", "%", "9d", ",", "Pro", ":", "%", "9d", ",", "Off", ":", "%", "9d", ",", "Pri", ":", "%", "9d", ",", "RM", ":", "%", "9d", ",", "Err", ":", "%", "9d", "[", "%", "8x", ",", "%", "8x", "]", "\"", ",", "<nl>", "direction", ",", "if", "_", "name", ",", "&", "pkt", "_", "len", ",", "<nl>", "&", "pro", ",", "&", "off", ",", "&", "pri", ",", "&", "rm", ",", "&", "error", ",", "<nl>", "&", "code1", ",", "&", "code2", ")", ";", "<nl>", "parse", "_", "cosine", "_", "packet", "(", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "Buffer", "*", "buf", ",", "<nl>", "}", "<nl>", "yy", "=", "mm", "=", "dd", "=", "hr", "=", "min", "=", "sec", "=", "csec", "=", "0", ";", "<nl>", "}", "<nl>", "+", "if", "(", "pkt", "_", "len", "<", "0", ")", "{", "<nl>", "+", "*", "err", "=", "WTAP", "_", "ERR", "_", "BAD", "_", "FILE", ";", "<nl>", "+", "*", "err", "_", "info", "=", "g", "_", "strdup", "(", "\"", "cosine", ":", "packet", "header", "has", "a", "negative", "packet", "length", "\"", ")", ";", "<nl>", "+", "return", "FALSE", ";", "<nl>", "+", "}", "<nl>", "if", "(", "pkt", "_", "len", ">", "WTAP", "_", "MAX", "_", "PACKET", "_", "SIZE", ")", "{", "<nl>", "/", "*", "<nl>", "*", "Probably", "a", "corrupt", "capture", "file", ";", "don", "'", "t", "blow", "up", "trying", "<nl>"], "docstring_tokens": ["Don", "t", "treat", "the", "packet", "length", "as", "unsigned"]}
{"code_tokens": ["file", "_", "open", "_", "error", "_", "message", "(", "int", "err", ",", "gboolean", "for", "_", "writing", ")", "<nl>", "break", ";", "<nl>", "#", "endif", "<nl>", "<nl>", "+", "case", "EINVAL", ":", "<nl>", "+", "errmsg", "=", "\"", "The", "file", "\\", "\"", "%", "s", "\\", "\"", "could", "not", "be", "created", "because", "an", "invalid", "filename", "was", "specified", ".", "\"", ";", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "g", "_", "snprintf", "(", "errmsg", "_", "errno", ",", "sizeof", "(", "errmsg", "_", "errno", ")", ",", "<nl>", "\"", "The", "file", "\\", "\"", "%", "%", "s", "\\", "\"", "could", "not", "be", "%", "s", ":", "%", "s", ".", "\"", ",", "<nl>"], "docstring_tokens": ["Add", "a", "description", "for", "errno", "EINVAL", "Invalid", "Argument", "to"]}
{"code_tokens": ["AirPDcapGetStaAddress", "(", "<nl>", "switch", "(", "AIRPDCAP", "_", "DS", "_", "BITS", "(", "frame", "-", ">", "fc", "[", "1", "]", ")", ")", "{", "/", "*", "Bit", "1", "=", "FromDS", ",", "bit", "0", "=", "ToDS", "*", "/", "<nl>", "case", "0", ":", "<nl>", "case", "1", ":", "<nl>", "-", "case", "3", ":", "<nl>", "return", "frame", "-", ">", "addr2", ";", "<nl>", "case", "2", ":", "<nl>", "return", "frame", "-", ">", "addr1", ";", "<nl>", "+", "case", "3", ":", "<nl>", "+", "if", "(", "memcmp", "(", "frame", "-", ">", "addr1", ",", "frame", "-", ">", "addr2", ",", "AIRPDCAP", "_", "MAC", "_", "LEN", ")", "<", "0", ")", "<nl>", "+", "return", "frame", "-", ">", "addr1", ";", "<nl>", "+", "else", "<nl>", "+", "return", "frame", "-", ">", "addr2", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>", "AirPDcapGetBssidAddress", "(", "<nl>", "case", "0", ":", "<nl>", "return", "frame", "-", ">", "addr3", ";", "<nl>", "case", "1", ":", "<nl>", "-", "case", "3", ":", "<nl>", "return", "frame", "-", ">", "addr1", ";", "<nl>", "case", "2", ":", "<nl>", "return", "frame", "-", ">", "addr2", ";", "<nl>", "+", "case", "3", ":", "<nl>", "+", "if", "(", "memcmp", "(", "frame", "-", ">", "addr1", ",", "frame", "-", ">", "addr2", ",", "AIRPDCAP", "_", "MAC", "_", "LEN", ")", ">", "0", ")", "<nl>", "+", "return", "frame", "-", ">", "addr1", ";", "<nl>", "+", "else", "<nl>", "+", "return", "frame", "-", ">", "addr2", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "return", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["From", "Andrei", "Emeltchenko", "andrei", "emeltchenko", "intel", "com"]}
{"code_tokens": ["frame", "_", "data", "_", "init", "(", "frame", "_", "data", "*", "fdata", ",", "guint32", "num", ",", "<nl>", "fdata", "-", ">", "cum", "_", "bytes", "=", "cum", "_", "bytes", "+", "phdr", "-", ">", "len", ";", "<nl>", "fdata", "-", ">", "cap", "_", "len", "=", "phdr", "-", ">", "caplen", ";", "<nl>", "fdata", "-", ">", "file", "_", "off", "=", "offset", ";", "<nl>", "-", "/", "*", "To", "save", "some", "memory", ",", "we", "coarcese", "it", "into", "a", "gint8", "*", "/", "<nl>", "-", "g", "_", "assert", "(", "phdr", "-", ">", "pkt", "_", "encap", "<", "=", "G", "_", "MAXINT8", ")", ";", "<nl>", "-", "fdata", "-", ">", "lnk", "_", "t", "=", "(", "gint8", ")", "phdr", "-", ">", "pkt", "_", "encap", ";", "<nl>", "+", "/", "*", "To", "save", "some", "memory", ",", "we", "coerce", "it", "into", "a", "gint16", "*", "/", "<nl>", "+", "g", "_", "assert", "(", "phdr", "-", ">", "pkt", "_", "encap", "<", "=", "G", "_", "MAXINT16", ")", ";", "<nl>", "+", "fdata", "-", ">", "lnk", "_", "t", "=", "(", "gint16", ")", "phdr", "-", ">", "pkt", "_", "encap", ";", "<nl>", "fdata", "-", ">", "abs", "_", "ts", ".", "secs", "=", "phdr", "-", ">", "ts", ".", "secs", ";", "<nl>", "fdata", "-", ">", "abs", "_", "ts", ".", "nsecs", "=", "phdr", "-", ">", "ts", ".", "nsecs", ";", "<nl>", "fdata", "-", ">", "flags", ".", "passed", "_", "dfilter", "=", "0", ";", "mmm", "epan", "/", "frame", "_", "data", ".", "h", "<nl>", "frame", "_", "data", "_", "init", "(", "frame", "_", "data", "*", "fdata", ",", "guint32", "num", ",", "<nl>", "fdata", "-", ">", "cum", "_", "bytes", "=", "cum", "_", "bytes", "+", "phdr", "-", ">", "len", ";", "<nl>", "fdata", "-", ">", "cap", "_", "len", "=", "phdr", "-", ">", "caplen", ";", "<nl>", "fdata", "-", ">", "file", "_", "off", "=", "offset", ";", "<nl>", "-", "/", "*", "To", "save", "some", "memory", ",", "we", "coarcese", "it", "into", "a", "gint8", "*", "/", "<nl>", "-", "g", "_", "assert", "(", "phdr", "-", ">", "pkt", "_", "encap", "<", "=", "G", "_", "MAXINT8", ")", ";", "<nl>", "-", "fdata", "-", ">", "lnk", "_", "t", "=", "(", "gint8", ")", "phdr", "-", ">", "pkt", "_", "encap", ";", "<nl>", "+", "/", "*", "To", "save", "some", "memory", ",", "we", "coerce", "it", "into", "a", "gint16", "*", "/", "<nl>", "+", "g", "_", "assert", "(", "phdr", "-", ">", "pkt", "_", "encap", "<", "=", "G", "_", "MAXINT16", ")", ";", "<nl>", "+", "fdata", "-", ">", "lnk", "_", "t", "=", "(", "gint16", ")", "phdr", "-", ">", "pkt", "_", "encap", ";", "<nl>", "fdata", "-", ">", "abs", "_", "ts", ".", "secs", "=", "phdr", "-", ">", "ts", ".", "secs", ";", "<nl>", "fdata", "-", ">", "abs", "_", "ts", ".", "nsecs", "=", "phdr", "-", ">", "ts", ".", "nsecs", ";", "<nl>", "fdata", "-", ">", "flags", ".", "passed", "_", "dfilter", "=", "0", ";", "<nl>", "typedef", "struct", "_", "frame", "_", "data", "{", "<nl>", "guint32", "pkt", "_", "len", ";", "/", "*", "Packet", "length", "*", "/", "<nl>", "guint32", "cap", "_", "len", ";", "/", "*", "Amount", "actually", "captured", "*", "/", "<nl>", "guint32", "cum", "_", "bytes", ";", "/", "*", "Cumulative", "bytes", "into", "the", "capture", "*", "/", "<nl>", "-", "guint16", "subnum", ";", "/", "*", "subframe", "number", ",", "for", "protocols", "that", "require", "this", "*", "/", "<nl>", "gint64", "file", "_", "off", ";", "/", "*", "File", "offset", "*", "/", "<nl>", "-", "gint8", "lnk", "_", "t", ";", "/", "*", "Per", "-", "packet", "encapsulation", "/", "data", "-", "link", "type", "*", "/", "<nl>", "+", "guint16", "subnum", ";", "/", "*", "subframe", "number", ",", "for", "protocols", "that", "require", "this", "*", "/", "<nl>", "+", "gint16", "lnk", "_", "t", ";", "/", "*", "Per", "-", "packet", "encapsulation", "/", "data", "-", "link", "type", "*", "/", "<nl>", "struct", "{", "<nl>", "unsigned", "int", "passed", "_", "dfilter", ":", "1", ";", "/", "*", "1", "=", "display", ",", "0", "=", "no", "display", "*", "/", "<nl>", "unsigned", "int", "encoding", ":", "2", ";", "/", "*", "Character", "encoding", "(", "ASCII", ",", "EBCDIC", ".", ".", ".", ")", "*", "/", "<nl>"], "docstring_tokens": ["In", "the", "frame_data", "structure", "expand", "the", "per", "packet"]}
{"code_tokens": ["#", "define", "MOUSE", "_", "BUTTON", "_", "MIDDLE", "2", "<nl>", "#", "define", "MOUSE", "_", "BUTTON", "_", "RIGHT", "3", "<nl>", "<nl>", "-", "#", "define", "MAX", "_", "PIXELS", "_", "PER", "_", "SN", "90", "<nl>", "+", "#", "define", "MAX", "_", "PIXELS", "_", "PER", "_", "SN", "90", "<nl>", "+", "#", "define", "MAX", "_", "PIXELS", "_", "PER", "_", "SECOND", "50000", "<nl>", "<nl>", "extern", "int", "proto", "_", "rlc", "_", "lte", ";", "<nl>", "<nl>", "static", "void", "do", "_", "zoom", "_", "common", "(", "struct", "graph", "*", "g", ",", "GdkEventButton", "*", "event", ",", "<nl>", "}", "<nl>", "}", "else", "{", "<nl>", "/", "*", "Zoom", "in", "*", "/", "<nl>", "-", "if", "(", "lock", "_", "horizontal", ")", "{", "<nl>", "+", "if", "(", "(", "lock", "_", "horizontal", ")", "|", "|", "(", "g", "-", ">", "geom", ".", "width", ">", "=", "(", "g", "-", ">", "bounds", ".", "width", "*", "MAX", "_", "PIXELS", "_", "PER", "_", "SECOND", ")", ")", ")", "{", "<nl>", "factor", ".", "x", "=", "1", ".", "0", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>", "static", "void", "do", "_", "zoom", "_", "common", "(", "struct", "graph", "*", "g", ",", "GdkEventButton", "*", "event", ",", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Don", "'", "t", "zoom", "in", "too", "far", "vertically", "*", "/", "<nl>", "-", "if", "(", "(", "g", "-", ">", "geom", ".", "height", ">", "=", "(", "g", "-", ">", "bounds", ".", "height", "*", "MAX", "_", "PIXELS", "_", "PER", "_", "SN", ")", ")", "|", "|", "lock", "_", "vertical", ")", "{", "<nl>", "+", "if", "(", "lock", "_", "vertical", "|", "|", "(", "g", "-", ">", "geom", ".", "height", ">", "=", "(", "g", "-", ">", "bounds", ".", "height", "*", "MAX", "_", "PIXELS", "_", "PER", "_", "SN", ")", ")", ")", "{", "<nl>", "factor", ".", "y", "=", "1", ".", "0", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>"], "docstring_tokens": ["Also", "place", "a", "limit", "on", "how", "far", "we", "can", "zoom", "in", "horizonally", "no", "point", "in"]}
{"code_tokens": ["start", "_", "over", ":", "<nl>", "}", "<nl>", "col", "_", "prepend", "_", "fstr", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "PROTOCOL", ",", "\"", "ROHC", "<", "\"", ")", ";", "<nl>", "col", "_", "append", "_", "str", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "PROTOCOL", ",", "\"", ">", "\"", ")", ";", "<nl>", "+", "pinfo", "-", ">", "private", "_", "data", "=", "save", "_", "private", "_", "data", ";", "<nl>", "+", "return", ";", "<nl>", "}", "<nl>", "else", "if", "(", "(", "(", "oct", "&", "0x80", ")", "=", "=", "0x00", ")", "&", "&", "(", "rohc", "_", "cid", "_", "context", "-", ">", "profile", "=", "=", "ROHC", "_", "PROFILE", "_", "RTP", ")", ")", "{", "<nl>", "/", "*", "5", ".", "7", ".", "1", ".", "Packet", "type", "0", ":", "UO", "-", "0", ",", "R", "-", "0", ",", "R", "-", "0", "-", "CRC", "*", "/", "<nl>", "start", "_", "over", ":", "<nl>", "}", "<nl>", "<nl>", "payload", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "-", "call", "_", "dissector", "_", "only", "(", "data", "_", "handle", ",", "payload", "_", "tvb", ",", "pinfo", ",", "rohc", "_", "tree", ",", "NULL", ")", ";", "<nl>", "+", "call", "_", "dissector", "_", "only", "(", "data", "_", "handle", ",", "payload", "_", "tvb", ",", "pinfo", ",", "tree", ",", "NULL", ")", ";", "<nl>", "<nl>", "pinfo", "-", ">", "private", "_", "data", "=", "save", "_", "private", "_", "data", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Do", "not", "display", "payload", "twice", "when", "using", "uncompressed", "profile"]}
{"code_tokens": ["/", "*", "file", "_", "dlg", ".", "c", "<nl>", "*", "Dialog", "boxes", "for", "handling", "files", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "file", "_", "dlg", ".", "c", ",", "v", "1", ".", "41", "2001", "/", "08", "/", "21", "06", ":", "39", ":", "18", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "file", "_", "dlg", ".", "c", ",", "v", "1", ".", "42", "2001", "/", "09", "/", "10", "08", ":", "49", ":", "11", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "select", "_", "file", "_", "type", "_", "cb", "(", "GtkWidget", "*", "w", ",", "gpointer", "data", ")", "<nl>", "/", "*", "We", "can", "select", "only", "the", "filtered", "or", "marked", "packets", "to", "be", "saved", "if", "we", "can", "<nl>", "use", "Wiretap", "to", "save", "the", "file", ".", "*", "/", "<nl>", "gtk", "_", "widget", "_", "set", "_", "sensitive", "(", "filter", "_", "cb", ",", "can", "_", "save", "_", "with", "_", "wiretap", "(", "new", "_", "filetype", ")", ")", ";", "<nl>", "+", "gtk", "_", "widget", "_", "set", "_", "sensitive", "(", "mark", "_", "cb", ",", "can", "_", "save", "_", "with", "_", "wiretap", "(", "new", "_", "filetype", ")", ")", ";", "<nl>", "filetype", "=", "new", "_", "filetype", ";", "<nl>", "}", "<nl>", "}", "<nl>", "file", "_", "save", "_", "as", "_", "cmd", "_", "cb", "(", "GtkWidget", "*", "w", ",", "gpointer", "data", ")", "<nl>", "main", "_", "vb", ",", "FALSE", ",", "FALSE", ",", "0", ")", ";", "<nl>", "gtk", "_", "widget", "_", "show", "(", "main", "_", "vb", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "XXX", "-", "should", "this", "be", "sensitive", "only", "if", "the", "current", "display", "filter", "<nl>", "+", "*", "has", "rejected", "some", "packets", ",", "so", "that", "not", "all", "packets", "are", "currently", "<nl>", "+", "*", "being", "displayed", ",", "and", "if", "it", "has", "accepted", "some", "packets", ",", "so", "that", "some", "<nl>", "+", "*", "packets", "are", "currently", "being", "displayed", "?", "<nl>", "+", "*", "/", "<nl>", "filter", "_", "cb", "=", "gtk", "_", "check", "_", "button", "_", "new", "_", "with", "_", "label", "(", "\"", "Save", "only", "packets", "currently", "being", "displayed", "\"", ")", ";", "<nl>", "gtk", "_", "container", "_", "add", "(", "GTK", "_", "CONTAINER", "(", "main", "_", "vb", ")", ",", "filter", "_", "cb", ")", ";", "<nl>", "gtk", "_", "toggle", "_", "button", "_", "set", "_", "state", "(", "GTK", "_", "TOGGLE", "_", "BUTTON", "(", "filter", "_", "cb", ")", ",", "FALSE", ")", ";", "<nl>", "file", "_", "save", "_", "as", "_", "cmd", "_", "cb", "(", "GtkWidget", "*", "w", ",", "gpointer", "data", ")", "<nl>", "gtk", "_", "widget", "_", "set", "_", "sensitive", "(", "filter", "_", "cb", ",", "can", "_", "save", "_", "with", "_", "wiretap", "(", "filetype", ")", ")", ";", "<nl>", "gtk", "_", "widget", "_", "show", "(", "filter", "_", "cb", ")", ";", "<nl>", "<nl>", "+", "/", "*", "<nl>", "+", "*", "XXX", "-", "should", "this", "be", "sensitive", "only", "if", "at", "least", "one", "packet", "is", "<nl>", "+", "*", "marked", ",", "so", "that", "there", "are", "marked", "packets", "to", "save", ",", "and", "if", "not", "<nl>", "+", "*", "all", "packets", "are", "marked", ",", "so", "that", "\"", "only", "marked", "packets", "\"", "is", "different", "<nl>", "+", "*", "from", "\"", "all", "packets", "\"", "?", "<nl>", "+", "*", "/", "<nl>", "mark", "_", "cb", "=", "gtk", "_", "check", "_", "button", "_", "new", "_", "with", "_", "label", "(", "\"", "Save", "only", "marked", "packets", "\"", ")", ";", "<nl>", "gtk", "_", "container", "_", "add", "(", "GTK", "_", "CONTAINER", "(", "main", "_", "vb", ")", ",", "mark", "_", "cb", ")", ";", "<nl>", "gtk", "_", "toggle", "_", "button", "_", "set", "_", "state", "(", "GTK", "_", "TOGGLE", "_", "BUTTON", "(", "mark", "_", "cb", ")", ",", "FALSE", ")", ";", "<nl>"], "docstring_tokens": ["The", "Save", "only", "marked", "packets", "checkbox", "should", "change", "as", "the", "file", "type"]}
{"code_tokens": ["proto", "_", "item", "_", "set", "_", "len", "(", "proto", "_", "item", "*", "pi", ",", "const", "gint", "length", ")", "<nl>", "DISSECTOR", "_", "ASSERT", "(", "length", ">", "=", "0", ")", ";", "<nl>", "fi", "-", ">", "length", "=", "length", ";", "<nl>", "<nl>", "-", "if", "(", "fi", "-", ">", "value", ".", "ftype", "-", ">", "ftype", "=", "=", "FT", "_", "BYTES", ")", "<nl>", "+", "/", "*", "<nl>", "+", "*", "You", "cannot", "just", "make", "the", "\"", "len", "\"", "field", "of", "a", "GByteArray", "<nl>", "+", "*", "larger", ",", "if", "there", "'", "s", "no", "data", "to", "back", "that", "length", ";", "<nl>", "+", "*", "you", "can", "only", "make", "it", "smaller", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "fi", "-", ">", "value", ".", "ftype", "-", ">", "ftype", "=", "=", "FT", "_", "BYTES", "&", "&", "length", "<", "=", "fi", "-", ">", "length", ")", "<nl>", "fi", "-", ">", "value", ".", "value", ".", "bytes", "-", ">", "len", "=", "length", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["You", "cannot", "just", "make", "the", "len", "field", "of", "a", "GByteArray", "larger", "if", "there", "s"]}
{"code_tokens": ["void", "MulticastStatisticsDialog", ":", ":", "updateMulticastParameters", "(", ")", "<nl>", "<nl>", "param", "=", "buffer", "_", "alarm", "_", "threshold", "_", "le", "_", "-", ">", "text", "(", ")", ".", "toInt", "(", "&", "ok", ")", ";", "<nl>", "if", "(", "ok", "&", "&", "param", ">", "0", ")", "{", "<nl>", "-", "mcast", "_", "stream", "_", "trigger", "=", "param", ";", "<nl>", "+", "mcast", "_", "stream", "_", "bufferalarm", "=", "param", ";", "<nl>", "}", "<nl>", "<nl>", "param", "=", "stream", "_", "empty", "_", "speed", "_", "le", "_", "-", ">", "text", "(", ")", ".", "toInt", "(", "&", "ok", ")", ";", "<nl>"], "docstring_tokens": ["Qt", "fix", "buffer", "alarm", "threshold", "parameter", "retrieval", "in", "multicast", "statistics", "dialog"]}
{"code_tokens": ["static", "nghttp2", "_", "hd", "_", "entry", "*", "add", "_", "hd", "_", "table", "_", "incremental", "(", "nghttp2", "_", "hd", "_", "context", "*", "context", ",", "<nl>", "<nl>", "if", "(", "rv", "!", "=", "0", ")", "{", "<nl>", "-", "-", "new", "_", "ent", "-", ">", "ref", ";", "<nl>", "+", "<nl>", "+", "/", "*", "nv", "-", ">", "name", "and", "nv", "-", ">", "value", "are", "managed", "by", "caller", ".", "*", "/", "<nl>", "+", "new", "_", "ent", "-", ">", "nv", ".", "name", "=", "NULL", ";", "<nl>", "+", "new", "_", "ent", "-", ">", "nv", ".", "namelen", "=", "0", ";", "<nl>", "+", "new", "_", "ent", "-", ">", "nv", ".", "value", "=", "NULL", ";", "<nl>", "+", "new", "_", "ent", "-", ">", "nv", ".", "valuelen", "=", "0", ";", "<nl>", "+", "<nl>", "nghttp2", "_", "hd", "_", "entry", "_", "free", "(", "new", "_", "ent", ")", ";", "<nl>", "free", "(", "new", "_", "ent", ")", ";", "<nl>"], "docstring_tokens": ["HTTP2", "Fix", "double", "free"]}
{"code_tokens": ["static", "gint", "pdcp", "_", "channel", "_", "equal", "(", "gconstpointer", "v", ",", "gconstpointer", "v2", ")", "<nl>", "static", "guint", "pdcp", "_", "channel", "_", "hash", "_", "func", "(", "gconstpointer", "v", ")", "<nl>", "{", "<nl>", "/", "*", "Just", "use", "pointer", ",", "as", "the", "fields", "are", "all", "in", "this", "value", "*", "/", "<nl>", "-", "return", "(", "guint", ")", "v", ";", "<nl>", "+", "return", "GPOINTER", "_", "TO", "_", "UINT", "(", "v", ")", ";", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["Use", "GPOINTER_TO_UINT", "macro"]}
{"code_tokens": ["create", "_", "main", "_", "window", "(", "gint", "pl", "_", "size", ",", "gint", "tv", "_", "size", ",", "gint", "bv", "_", "size", ",", "e", "_", "prefs", "*", "prefs", ")", "<nl>", "channel", "_", "list", "=", "g", "_", "list", "_", "append", "(", "channel", "_", "list", ",", "ieee80211", "_", "mhz", "_", "to", "_", "str", "(", "airpcap", "_", "if", "_", "active", "-", ">", "pSupportedChannels", "[", "i", "]", ".", "Frequency", ")", ")", ";", "<nl>", "}", "<nl>", "gtk", "_", "combo", "_", "set", "_", "popdown", "_", "strings", "(", "GTK", "_", "COMBO", "(", "channel", "_", "cm", ")", ",", "channel", "_", "list", ")", ";", "<nl>", "+", "g", "_", "list", "_", "free", "(", "channel", "_", "list", ")", ";", "<nl>", "}", "<nl>", "<nl>", "gtk", "_", "tooltips", "_", "set", "_", "tip", "(", "airpcap", "_", "tooltips", ",", "GTK", "_", "WIDGET", "(", "GTK", "_", "COMBO", "(", "channel", "_", "cm", ")", "-", ">", "entry", ")", ",", "<nl>", "create", "_", "main", "_", "window", "(", "gint", "pl", "_", "size", ",", "gint", "tv", "_", "size", ",", "gint", "bv", "_", "size", ",", "e", "_", "prefs", "*", "prefs", ")", "<nl>", "linktype", "_", "list", "=", "g", "_", "list", "_", "append", "(", "linktype", "_", "list", ",", "AIRPCAP", "_", "VALIDATION", "_", "TYPE", "_", "NAME", "_", "CORRUPT", ")", ";", "<nl>", "<nl>", "gtk", "_", "combo", "_", "set", "_", "popdown", "_", "strings", "(", "GTK", "_", "COMBO", "(", "wrong", "_", "crc", "_", "cm", ")", ",", "linktype", "_", "list", ")", ";", "<nl>", "+", "g", "_", "list", "_", "free", "(", "linktype", "_", "list", ")", ";", "<nl>", "gtk", "_", "tooltips", "_", "set", "_", "tip", "(", "airpcap", "_", "tooltips", ",", "GTK", "_", "WIDGET", "(", "GTK", "_", "COMBO", "(", "wrong", "_", "crc", "_", "cm", ")", "-", ">", "entry", ")", ",", "<nl>", "\"", "Select", "the", "802", ".", "11", "FCS", "filter", "that", "the", "wireless", "adapter", "will", "apply", ".", "\"", ",", "<nl>", "NULL", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "two", "very", "minor", "memory", "leaks"]}
{"code_tokens": ["dissect", "_", "sdp", "_", "media", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "item", "*", "ti", ",", "<nl>", "proto", "_", "tree", "_", "add", "_", "string", "(", "sdp", "_", "media", "_", "tree", ",", "hf", "_", "media", "_", "format", ",", "tvb", ",", "offset", ",", "<nl>", "tokenlen", ",", "val", "_", "to", "_", "str", "(", "atol", "(", "media", "_", "format", ")", ",", "rtp", "_", "payload", "_", "type", "_", "vals", ",", "\"", "%", "u", "\"", ")", ")", ";", "<nl>", "transport", "_", "info", "-", ">", "media", "_", "pt", "[", "transport", "_", "info", "-", ">", "media", "_", "pt", "_", "count", "]", "=", "atol", "(", "media", "_", "format", ")", ";", "<nl>", "-", "if", "(", "transport", "_", "info", "-", ">", "media", "_", "pt", "_", "count", "<", "SDP", "_", "MAX", "_", "RTP", "_", "PAYLOAD", "_", "TYPES", ")", "<nl>", "+", "if", "(", "transport", "_", "info", "-", ">", "media", "_", "pt", "_", "count", "<", "SDP", "_", "MAX", "_", "RTP", "_", "PAYLOAD", "_", "TYPES", "-", "1", ")", "<nl>", "transport", "_", "info", "-", ">", "media", "_", "pt", "_", "count", "+", "+", ";", "<nl>", "g", "_", "free", "(", "media", "_", "format", ")", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["From", "Ulf", "Lamping"]}
{"code_tokens": ["/", "*", "packet", "-", "dns", ".", "c", "<nl>", "*", "Routines", "for", "DNS", "packet", "disassembly", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "dns", ".", "c", ",", "v", "1", ".", "99", "2003", "/", "01", "/", "31", "08", ":", "29", ":", "09", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "dns", ".", "c", ",", "v", "1", ".", "100", "2003", "/", "05", "/", "05", "08", ":", "14", ":", "31", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "add", "_", "opt", "_", "rr", "_", "to", "_", "tree", "(", "proto", "_", "item", "*", "trr", ",", "int", "rr", "_", "type", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "<nl>", "const", "char", "*", "name", ",", "int", "namelen", ",", "const", "char", "*", "type", "_", "name", ",", "int", "class", ",", "<nl>", "guint", "ttl", ",", "gushort", "data", "_", "len", ")", "<nl>", "{", "<nl>", "-", "proto", "_", "tree", "*", "rr", "_", "tree", ";", "<nl>", "+", "proto", "_", "tree", "*", "rr", "_", "tree", ",", "*", "Z", "_", "tree", ";", "<nl>", "+", "proto", "_", "item", "*", "Z", "_", "item", "=", "NULL", ";", "<nl>", "<nl>", "rr", "_", "tree", "=", "proto", "_", "item", "_", "add", "_", "subtree", "(", "trr", ",", "rr", "_", "type", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "rr", "_", "tree", ",", "tvb", ",", "offset", ",", "namelen", ",", "\"", "Name", ":", "%", "s", "\"", ",", "name", ")", ";", "<nl>", "add", "_", "opt", "_", "rr", "_", "to", "_", "tree", "(", "proto", "_", "item", "*", "trr", ",", "int", "rr", "_", "type", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "rr", "_", "tree", ",", "tvb", ",", "offset", ",", "1", ",", "\"", "EDNS0", "version", ":", "%", "u", "\"", ",", "<nl>", "(", "ttl", ">", ">", "16", ")", "&", "0xff", ")", ";", "<nl>", "offset", "+", "+", ";", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "text", "(", "rr", "_", "tree", ",", "tvb", ",", "offset", ",", "2", ",", "\"", "Must", "be", "zero", ":", "0x", "%", "x", "\"", ",", "ttl", "&", "0xffff", ")", ";", "<nl>", "+", "Z", "_", "item", "=", "proto", "_", "tree", "_", "add", "_", "text", "(", "rr", "_", "tree", ",", "tvb", ",", "offset", ",", "2", ",", "\"", "Z", ":", "0x", "%", "x", "\"", ",", "ttl", "&", "0xffff", ")", ";", "<nl>", "+", "if", "(", "ttl", "&", "0x8000", ")", "{", "<nl>", "+", "Z", "_", "tree", "=", "proto", "_", "item", "_", "add", "_", "subtree", "(", "Z", "_", "item", ",", "rr", "_", "type", ")", ";", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "text", "(", "Z", "_", "tree", ",", "tvb", ",", "offset", ",", "2", ",", "\"", "Bit", "0", "(", "DO", "bit", ")", ":", "1", "(", "Accepts", "DNSSEC", "security", "RRs", ")", "\"", ")", ";", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "text", "(", "Z", "_", "tree", ",", "tvb", ",", "offset", ",", "2", ",", "\"", "Bits", "1", "-", "15", ":", "0x", "%", "x", "(", "reserved", ")", "\"", ",", "(", "ttl", ">", ">", "17", ")", "&", "0xff", ")", ";", "<nl>", "+", "}", "<nl>", "offset", "+", "=", "2", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "rr", "_", "tree", ",", "tvb", ",", "offset", ",", "2", ",", "\"", "Data", "length", ":", "%", "u", "\"", ",", "data", "_", "len", ")", ";", "<nl>", "return", "rr", "_", "tree", ";", "<nl>"], "docstring_tokens": ["From", "Yaniv", "Kaul", "handle", "DNSSEC", "DO", "OK", "bit", "in", "OPT", "pseudo", "RR"]}
{"code_tokens": ["typedef", "union", "_", "EslFlagsUnion", "<nl>", "guint16", "extended", ":", "1", ";", "<nl>", "guint16", "port11", ":", "1", ";", "<nl>", "guint16", "port10", ":", "1", ";", "<nl>", "-", "guint16", "crcError", ":", "1", ";", "<nl>", "guint16", "alignError", ":", "1", ";", "<nl>", "+", "guint16", "crcError", ":", "1", ";", "<nl>", "guint16", "timeStampEna", ":", "1", ";", "<nl>", "guint16", "port9", ":", "1", ";", "<nl>", "guint16", "port8", ":", "1", ";", "<nl>", "typedef", "union", "_", "EslFlagsUnion", "<nl>", "#", "define", "esl", "_", "extended", "_", "bitmask", "0x0100", "<nl>", "#", "define", "esl", "_", "port11", "_", "bitmask", "0x0200", "<nl>", "#", "define", "esl", "_", "port10", "_", "bitmask", "0x0400", "<nl>", "-", "#", "define", "esl", "_", "crcError", "_", "bitmask", "0x0800", "<nl>", "-", "#", "define", "esl", "_", "alignError", "_", "bitmask", "0x1000", "<nl>", "+", "#", "define", "esl", "_", "alignError", "_", "bitmask", "0x0800", "<nl>", "+", "#", "define", "esl", "_", "crcError", "_", "bitmask", "0x1000", "<nl>", "#", "define", "esl", "_", "timeStampEna", "_", "bitmask", "0x2000", "<nl>", "#", "define", "esl", "_", "port9", "_", "bitmask", "0x4000", "<nl>", "#", "define", "esl", "_", "port8", "_", "bitmask", "0x8000", "<nl>", "dissect", "_", "esl", "_", "header", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "tree", ",", "void", "<nl>", "flags", "=", "tvb", "_", "get", "_", "letohs", "(", "tvb", ",", "offset", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "(", "esl", "_", "header", "_", "tree", ",", "hf", "_", "esl", "_", "port", ",", "tvb", ",", "offset", ",", "2", ",", "flags", "_", "to", "_", "port", "(", "flags", ")", ")", ";", "<nl>", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "item", "(", "esl", "_", "header", "_", "tree", ",", "hf", "_", "esl", "_", "crcerror", ",", "tvb", ",", "offset", ",", "2", ",", "ENC", "_", "LITTLE", "_", "ENDIAN", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "esl", "_", "header", "_", "tree", ",", "hf", "_", "esl", "_", "alignerror", ",", "tvb", ",", "offset", ",", "2", ",", "ENC", "_", "LITTLE", "_", "ENDIAN", ")", ";", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "item", "(", "esl", "_", "header", "_", "tree", ",", "hf", "_", "esl", "_", "crcerror", ",", "tvb", ",", "offset", ",", "2", ",", "ENC", "_", "LITTLE", "_", "ENDIAN", ")", ";", "<nl>", "+", "<nl>", "offset", "+", "=", "2", ";", "<nl>", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "esl", "_", "header", "_", "tree", ",", "hf", "_", "esl", "_", "timestamp", ",", "tvb", ",", "offset", ",", "8", ",", "ENC", "_", "LITTLE", "_", "ENDIAN", ")", ";", "<nl>"], "docstring_tokens": ["Swapped", "align", "error", "and", "crc", "error", "bit", "in", "EtherCAT", "Switch", "Link", "dissector"]}
{"code_tokens": ["void", "proto", "_", "register", "_", "tipc", "(", "void", ")", ";", "<nl>", "<nl>", "static", "int", "proto", "_", "tipc", "=", "-", "1", ";", "<nl>", "<nl>", "-", "/", "*", "dissector", "handles", "*", "/", "<nl>", "-", "static", "dissector", "_", "handle", "_", "t", "ip", "_", "handle", ";", "<nl>", "-", "<nl>", "static", "int", "hf", "_", "tipc", "_", "msg", "_", "fragments", "=", "-", "1", ";", "<nl>", "static", "int", "hf", "_", "tipc", "_", "msg", "_", "fragment", "=", "-", "1", ";", "<nl>", "static", "int", "hf", "_", "tipc", "_", "msg", "_", "fragment", "_", "overlap", "=", "-", "1", ";", "<nl>", "proto", "_", "reg", "_", "handoff", "_", "tipc", "(", "void", ")", "<nl>", "dissector", "_", "handle", "_", "t", "tipc", "_", "tcp", "_", "handle", ";", "<nl>", "<nl>", "tipc", "_", "tcp", "_", "handle", "=", "create", "_", "dissector", "_", "handle", "(", "dissect", "_", "tipc", "_", "tcp", ",", "proto", "_", "tipc", ")", ";", "<nl>", "-", "ip", "_", "handle", "=", "find", "_", "dissector", "(", "\"", "ip", "\"", ")", ";", "<nl>", "<nl>", "dissector", "_", "add", "_", "uint", "(", "\"", "ethertype", "\"", ",", "ETHERTYPE", "_", "TIPC", ",", "tipc", "_", "handle", ")", ";", "<nl>", "dissector", "_", "add", "_", "for", "_", "decode", "_", "as", "_", "with", "_", "preference", "(", "\"", "tcp", ".", "port", "\"", ",", "tipc", "_", "tcp", "_", "handle", ")", ";", "<nl>"], "docstring_tokens": ["Get", "rid", "of", "a", "no", "longer", "used", "dissector", "handle"]}
{"code_tokens": ["*", "Routines", "for", "SMB", "\\", "PIPE", "\\", "spoolss", "packet", "disassembly", "<nl>", "*", "Copyright", "2001", ",", "Tim", "Potter", "<", "tpot", "@", "samba", ".", "org", ">", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "dcerpc", "-", "spoolss", ".", "c", ",", "v", "1", ".", "5", "2002", "/", "03", "/", "19", "22", ":", "09", ":", "23", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "dcerpc", "-", "spoolss", ".", "c", ",", "v", "1", ".", "6", "2002", "/", "03", "/", "20", "09", ":", "09", ":", "07", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "static", "int", "prs", "_", "uint16uni", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "<nl>", "/", "*", "Get", "remaining", "data", "in", "buffer", "as", "a", "string", "*", "/", "<nl>", "<nl>", "-", "remaining", "=", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "remaining", "=", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", "/", "2", ";", "<nl>", "text", "=", "fake", "_", "unicode", "(", "tvb", ",", "offset", ",", "remaining", ")", ";", "<nl>", "len", "=", "strlen", "(", "text", ")", ";", "<nl>"], "docstring_tokens": ["The", "length", "argument", "to", "fake_unicode", "is", "in", "characters", "not", "bytes"]}
{"code_tokens": ["static", "const", "struct", "Flag", "_", "definition", "DATA", "_", "FRAG", "_", "FLAGS", "[", "]", "=", "{", "<nl>", "{", "'", "Q", "'", ",", "\"", "Inline", "QoS", "\"", "}", ",", "/", "*", "Bit", "1", "*", "/", "<nl>", "{", "'", "E", "'", ",", "\"", "Endianness", "bit", "\"", "}", "/", "*", "Bit", "0", "*", "/", "<nl>", "}", ";", "<nl>", "+", "#", "if", "0", "<nl>", "/", "*", "Vendor", "specific", ":", "RTI", "*", "/", "<nl>", "static", "const", "struct", "Flag", "_", "definition", "NACK", "_", "FLAGS", "[", "]", "=", "{", "<nl>", "{", "RESERVEDFLAG", "_", "CHAR", ",", "RESERVEDFLAG", "_", "STRING", "}", ",", "/", "*", "Bit", "7", "*", "/", "<nl>", "static", "const", "struct", "Flag", "_", "definition", "NACK", "_", "FLAGS", "[", "]", "=", "{", "<nl>", "{", "'", "F", "'", ",", "\"", "Final", "flag", "\"", "}", ",", "/", "*", "Bit", "1", "*", "/", "<nl>", "{", "'", "E", "'", ",", "\"", "Endianness", "bit", "\"", "}", "/", "*", "Bit", "0", "*", "/", "<nl>", "}", ";", "<nl>", "+", "#", "endif", "<nl>", "<nl>", "<nl>", "/", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "/", "<nl>", "static", "void", "dissect", "_", "DATA", "_", "FRAG", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "gint", "offset", ",", "gu", "<nl>", "proto", "_", "item", "*", "octet", "_", "item", ";", "<nl>", "guint32", "wid", ";", "<nl>", "gboolean", "from", "_", "builtin", "_", "writer", ";", "<nl>", "-", "rtps", "_", "util", "_", "decode", "_", "flags", "(", "tree", ",", "tvb", ",", "offset", "+", "1", ",", "flags", ",", "NOKEY", "_", "DATA", "_", "FRAG", "_", "FLAGS", ")", ";", "<nl>", "+", "rtps", "_", "util", "_", "decode", "_", "flags", "(", "tree", ",", "tvb", ",", "offset", "+", "1", ",", "flags", ",", "DATA", "_", "FRAG", "_", "FLAGS", ")", ";", "<nl>", "<nl>", "octet", "_", "item", "=", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "rtps", "_", "sm", "_", "octets", "_", "to", "_", "next", "_", "header", ",", "tvb", ",", "<nl>", "offset", "+", "2", ",", "2", ",", "little", "_", "endian", "?", "ENC", "_", "LITTLE", "_", "ENDIAN", ":", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "unused", "variable", "Werror", "Wunused", "const", "variable"]}
{"code_tokens": ["dissect", "_", "ICBAPhysicalDevice", "_", "get", "_", "LogicalDevice", "_", "rqst", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "<nl>", "<nl>", "offset", "=", "dissect", "_", "dcom", "_", "dcerpc", "_", "pointer", "(", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "di", ",", "drep", ",", "<nl>", "&", "u32Pointer", ")", ";", "<nl>", "+", "<nl>", "+", "szStr", "[", "0", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "+", "<nl>", "if", "(", "u32Pointer", ")", "{", "<nl>", "offset", "=", "dissect", "_", "dcom", "_", "BSTR", "(", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "di", ",", "drep", ",", "<nl>", "hf", "_", "cba", "_", "name", ",", "szStr", ",", "u32MaxStr", ")", ";", "<nl>"], "docstring_tokens": ["Prevent", "VS", "Code", "Analyzer", "warning", "AFAICT", "not", "an", "actual", "bug"]}
{"code_tokens": ["dissect", "_", "spoolss", "_", "uint16uni", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "<nl>", "<nl>", "/", "*", "Get", "remaining", "data", "in", "buffer", "as", "a", "string", "*", "/", "<nl>", "<nl>", "-", "remaining", "=", "tvb", "_", "captured", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "remaining", "=", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "if", "(", "remaining", "<", "=", "0", ")", "{", "<nl>", "if", "(", "data", ")", "<nl>", "*", "data", "=", "g", "_", "strdup", "(", "\"", "\"", ")", ";", "<nl>", "dissect", "_", "spoolss", "_", "keybuffer", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "end", "_", "offset", "=", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", "+", "1", ";", "<nl>", "}", "<nl>", "<nl>", "-", "while", "(", "offset", "<", "end", "_", "offset", ")", "<nl>", "+", "while", "(", "offset", ">", "0", "&", "&", "offset", "<", "end", "_", "offset", ")", "{", "<nl>", "offset", "=", "dissect", "_", "spoolss", "_", "uint16uni", "(", "<nl>", "tvb", ",", "offset", ",", "pinfo", ",", "tree", ",", "drep", ",", "NULL", ",", "hf", "_", "keybuffer", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["SPOOLSS", "Try", "to", "avoid", "an", "infinite", "loop"]}
{"code_tokens": ["AirPDcapDecryptWPABroadcastKey", "(", "const", "EAPOL", "_", "RSN", "_", "KEY", "*", "pEAPKey", ",", "guint8", "*", "decryption", "_", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "key", "_", "bytes", "_", "len", "<", "GROUP", "_", "KEY", "_", "MIN", "_", "LEN", "|", "|", "key", "_", "bytes", "_", "len", ">", "eapol", "_", "len", "-", "sizeof", "(", "EAPOL", "_", "RSN", "_", "KEY", ")", ")", "{", "<nl>", "+", "if", "(", "(", "key", "_", "bytes", "_", "len", "<", "GROUP", "_", "KEY", "_", "MIN", "_", "LEN", ")", "|", "|", "<nl>", "+", "(", "eapol", "_", "len", "<", "sizeof", "(", "EAPOL", "_", "RSN", "_", "KEY", ")", ")", "|", "|", "<nl>", "+", "(", "key", "_", "bytes", "_", "len", ">", "eapol", "_", "len", "-", "sizeof", "(", "EAPOL", "_", "RSN", "_", "KEY", ")", ")", ")", "{", "<nl>", "return", "AIRPDCAP", "_", "RET", "_", "NO", "_", "VALID", "_", "HANDSHAKE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Sanity", "check", "eapol_len", "in", "AirPDcapDecryptWPABroadcastKey"]}
{"code_tokens": ["nextcontext", ":", "<nl>", "tvb", "_", "previous", "_", "offset", "=", "tvb", "_", "find", "_", "guint8", "(", "tvb", ",", "tvb", "_", "current", "_", "offset", ",", "<nl>", "tvb", "_", "len", ",", "'", "=", "'", ")", "+", "1", ";", "<nl>", "tvb", "_", "previous", "_", "offset", "=", "tvb", "_", "skip", "_", "wsp", "(", "tvb", ",", "tvb", "_", "previous", "_", "offset", ")", ";", "<nl>", "-", "tvb", "_", "current", "_", "offset", "=", "tvb", "_", "find", "_", "guint8", "(", "tvb", ",", "tvb", "_", "previous", "_", "offset", ",", "<nl>", "+", "tvb", "_", "next", "_", "offset", "=", "tvb", "_", "find", "_", "guint8", "(", "tvb", ",", "tvb", "_", "previous", "_", "offset", ",", "<nl>", "tvb", "_", "len", ",", "'", "{", "'", ")", ";", "<nl>", "+", "if", "(", "tvb", "_", "current", "_", "offset", ">", "=", "tvb", "_", "next", "_", "offset", ")", "{", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "text", "(", "megaco", "_", "tree", ",", "tvb", ",", "0", ",", "0", ",", "\"", "[", "Parse", "error", ":", "Invalid", "offset", "]", "\"", ")", ";", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "tvb", "_", "current", "_", "offset", "=", "tvb", "_", "next", "_", "offset", ";", "<nl>", "<nl>", "<nl>", "tokenlen", "=", "tvb", "_", "current", "_", "offset", "-", "tvb", "_", "previous", "_", "offset", ";", "<nl>"], "docstring_tokens": ["Break", "out", "of", "an", "infinite", "loop", "Fixes", "bug", "95"]}
{"code_tokens": ["v9", "_", "template", "_", "add", "(", "struct", "v9", "_", "template", "*", "template", ")", "<nl>", "template", "-", ">", "length", "+", "=", "template", "-", ">", "entries", "[", "i", "]", ".", "length", ";", "<nl>", "}", "<nl>", "<nl>", "-", "memmove", "(", "&", "v9", "_", "template", "_", "cache", "[", "v9", "_", "template", "_", "hash", "(", "template", "-", ">", "id", ",", "<nl>", "+", "memcpy", "(", "&", "v9", "_", "template", "_", "cache", "[", "v9", "_", "template", "_", "hash", "(", "template", "-", ">", "id", ",", "<nl>", "&", "template", "-", ">", "source", "_", "addr", ",", "template", "-", ">", "source", "_", "id", ")", "]", ",", "<nl>", "template", ",", "sizeof", "(", "*", "template", ")", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["memmove", "is", "needed", "only", "if", "the", "source", "and", "destination", "might", "overlap"]}
{"code_tokens": ["static", "int", "<nl>", "dissect", "_", "dnp3", "_", "al", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "{", "<nl>", "guint8", "al", "_", "ctl", ",", "al", "_", "seq", ",", "al", "_", "func", ",", "al", "_", "class", "=", "0", ",", "i", ";", "<nl>", "-", "guint16", "bytes", ",", "obj", "_", "type", ";", "<nl>", "+", "guint16", "bytes", ",", "obj", "_", "type", "=", "0", ";", "<nl>", "guint", "data", "_", "len", "=", "0", ",", "offset", "=", "0", ";", "<nl>", "proto", "_", "item", "*", "ti", ",", "*", "tc", ",", "*", "t", "_", "robj", ";", "<nl>", "proto", "_", "tree", "*", "al", "_", "tree", ",", "*", "field", "_", "tree", ",", "*", "robj", "_", "tree", ";", "<nl>"], "docstring_tokens": ["Fix", "Visual", "Studio", "Code", "Analysis", "warning", "C6001", "Using", "uninitialized", "memory", "obj_type"]}
{"code_tokens": ["tvb", "_", "get", "_", "letohguid", "(", "tvbuff", "_", "t", "*", "tvb", ",", "const", "gint", "offset", ",", "e", "_", "guid", "_", "t", "*", "guid", ")", "<nl>", "guid", "-", ">", "data1", "=", "pletohl", "(", "ptr", "+", "0", ")", ";", "<nl>", "guid", "-", ">", "data2", "=", "pletohs", "(", "ptr", "+", "4", ")", ";", "<nl>", "guid", "-", ">", "data3", "=", "pletohs", "(", "ptr", "+", "6", ")", ";", "<nl>", "-", "memcpy", "(", "guid", "-", ">", "data4", ",", "offset", "+", "8", ",", "sizeof", "guid", "-", ">", "data4", ")", ";", "<nl>", "+", "memcpy", "(", "guid", "-", ">", "data4", ",", "ptr", "+", "8", ",", "sizeof", "guid", "-", ">", "data4", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["Fix", "buildbot", "typo"]}
{"code_tokens": ["dissect", "_", "tds", "_", "resp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "<nl>", "length", "_", "remaining", "=", "tvb", "_", "ensure", "_", "length", "_", "remaining", "(", "tvb", ",", "pos", ")", ";", "<nl>", "<nl>", "+", "if", "(", "(", "int", ")", "token", "_", "sz", "<", "0", ")", "{", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "text", "(", "tree", ",", "tvb", ",", "pos", ",", "0", ",", "\"", "Bogus", "token", "size", ":", "%", "u", "\"", ",", "<nl>", "+", "token", "_", "sz", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "+", "if", "(", "(", "int", ")", "token", "_", "len", "_", "field", "_", "size", "<", "0", ")", "{", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "text", "(", "tree", ",", "tvb", ",", "pos", ",", "0", ",", "\"", "Bogus", "token", "length", "field", "size", ":", "%", "u", "\"", ",", "<nl>", "+", "token", "_", "len", "_", "field", "_", "size", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "}", "<nl>", "token", "_", "item", "=", "proto", "_", "tree", "_", "add", "_", "text", "(", "tree", ",", "tvb", ",", "pos", ",", "token", "_", "sz", ",", "<nl>", "\"", "Token", "0x", "%", "02x", "%", "s", "\"", ",", "token", ",", "<nl>", "val", "_", "to", "_", "str", "(", "token", ",", "token", "_", "names", ",", "\"", "Unknown", "Token", "Type", "\"", ")", ")", ";", "<nl>"], "docstring_tokens": ["Catch", "a", "couple", "of", "integer", "overflows"]}
{"code_tokens": ["extcap", "_", "register", "_", "preferences", "_", "callback", "(", "gpointer", "key", ",", "gpointer", "value", "_", "U", "_", ",", "gpointer", "<nl>", "<nl>", "void", "extcap", "_", "register", "_", "preferences", "(", "void", ")", "<nl>", "{", "<nl>", "+", "if", "(", "prefs", ".", "capture", "_", "no", "_", "extcap", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "module", "_", "t", "*", "dev", "_", "module", "=", "prefs", "_", "find", "_", "module", "(", "\"", "extcap", "\"", ")", ";", "<nl>", "<nl>", "if", "(", "!", "dev", "_", "module", ")", "<nl>", "extcap", "_", "load", "_", "interface", "_", "list", "(", "void", ")", "<nl>", "gchar", "*", "argv", ";", "<nl>", "gchar", "*", "error", ";", "<nl>", "<nl>", "+", "if", "(", "prefs", ".", "capture", "_", "no", "_", "extcap", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "if", "(", "_", "toolbars", ")", "<nl>", "{", "<nl>", "/", "/", "Remove", "existing", "interface", "toolbars", "here", "instead", "of", "in", "extcap", "_", "clear", "_", "interfaces", "(", ")", "<nl>"], "docstring_tokens": ["extcap", "add", "more", "checks", "for", "extcap", "disabled"]}
{"code_tokens": ["/", "*", "follow", ".", "c", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "follow", ".", "c", ",", "v", "1", ".", "3", "1998", "/", "10", "/", "10", "03", ":", "32", ":", "09", "gerald", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "follow", ".", "c", ",", "v", "1", ".", "4", "1998", "/", "10", "/", "28", "01", ":", "29", ":", "16", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Copyright", "1998", "Mike", "Hall", "<", "mlh", "@", "io", ".", "com", ">", "<nl>", "*", "<nl>", "reassemble", "_", "tcp", "(", "u", "_", "long", "sequence", ",", "u", "_", "long", "length", ",", "const", "char", "*", "data", ",", "int", "synflag", ",", "u", "<nl>", "tmp", "_", "frag", "-", ">", "data", "=", "(", "u", "_", "char", "*", ")", "malloc", "(", "length", ")", ";", "<nl>", "tmp", "_", "frag", "-", ">", "seq", "=", "sequence", ";", "<nl>", "tmp", "_", "frag", "-", ">", "len", "=", "length", ";", "<nl>", "-", "bcopy", "(", "data", ",", "tmp", "_", "frag", "-", ">", "data", ",", "length", ")", ";", "<nl>", "+", "memcpy", "(", "tmp", "_", "frag", "-", ">", "data", ",", "data", ",", "length", ")", ";", "<nl>", "if", "(", "frags", "[", "src", "_", "index", "]", ")", "{", "<nl>", "tmp", "_", "frag", "-", ">", "next", "=", "frags", "[", "src", "_", "index", "]", ";", "<nl>", "}", "else", "{", "<nl>"], "docstring_tokens": ["Use", "memcpy", "rather", "than", "bcopy", "to", "eliminate", "one", "gcc", "Wall"]}
{"code_tokens": ["/", "*", "packet", "-", "isis", "-", "clv", ".", "c", "<nl>", "*", "Common", "CLV", "decode", "routines", ".", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "isis", "-", "clv", ".", "c", ",", "v", "1", ".", "6", "2000", "/", "06", "/", "19", "08", ":", "33", ":", "47", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "isis", "-", "clv", ".", "c", ",", "v", "1", ".", "7", "2000", "/", "08", "/", "10", "14", ":", "21", ":", "09", "deniel", "Exp", "$", "<nl>", "*", "Stuart", "Stanley", "<", "stuarts", "@", "mxmail", ".", "net", ">", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "isis", "_", "dissect", "_", "clvs", "(", "const", "isis", "_", "clv", "_", "handle", "_", "t", "*", "opts", ",", "int", "len", ",", "int", "id", "_", "length", ",", "<nl>", "length", "=", "pd", "[", "offset", "+", "+", "]", ";", "<nl>", "adj", "=", "(", "sizeof", "(", "code", ")", "+", "sizeof", "(", "length", ")", "+", "length", ")", ";", "<nl>", "len", "-", "=", "adj", ";", "<nl>", "-", "if", "(", "len", "<", "0", ")", "{", "<nl>", "+", "if", "(", "len", "<", "0", "|", "|", "!", "BYTES", "_", "ARE", "_", "IN", "_", "FRAME", "(", "offset", ",", "length", ")", ")", "{", "<nl>", "isis", "_", "dissect", "_", "unknown", "(", "offset", ",", "adj", ",", "tree", ",", "fd", ",", "<nl>", "\"", "Short", "CLV", "header", "(", "%", "d", "vs", "%", "d", ")", "\"", ",", "<nl>", "adj", ",", "len", "+", "adj", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "decoding", "of", "short", "ISIS", "CLV", "data", "frames"]}
{"code_tokens": ["typedef", "struct", "frame", "_", "analysis", "_", "data", "{", "<nl>", "static", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "<nl>", "init", "_", "mp2t", "_", "conversation", "_", "data", "(", "void", ")", "<nl>", "{", "<nl>", "-", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", "=", "NULL", ";", "<nl>", "+", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", ";", "<nl>", "<nl>", "mp2t", "_", "data", "=", "wmem", "_", "new0", "(", "wmem", "_", "file", "_", "scope", "(", ")", ",", "struct", "mp2t", "_", "analysis", "_", "data", ")", ";", "<nl>", "<nl>", "init", "_", "mp2t", "_", "conversation", "_", "data", "(", "void", ")", "<nl>", "static", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "<nl>", "get", "_", "mp2t", "_", "conversation", "_", "data", "(", "conversation", "_", "t", "*", "conv", ")", "<nl>", "{", "<nl>", "-", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", "=", "NULL", ";", "<nl>", "+", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", ";", "<nl>", "<nl>", "mp2t", "_", "data", "=", "(", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", ")", "conversation", "_", "get", "_", "proto", "_", "data", "(", "conv", ",", "proto", "_", "mp2t", ")", ";", "<nl>", "if", "(", "!", "mp2t", "_", "data", ")", "{", "<nl>", "get", "_", "mp2t", "_", "conversation", "_", "data", "(", "conversation", "_", "t", "*", "conv", ")", "<nl>", "static", "frame", "_", "analysis", "_", "data", "_", "t", "*", "<nl>", "init", "_", "frame", "_", "analysis", "_", "data", "(", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", ",", "packet", "_", "info", "*", "pinfo", ")", "<nl>", "{", "<nl>", "-", "frame", "_", "analysis", "_", "data", "_", "t", "*", "frame", "_", "analysis", "_", "data", "_", "p", "=", "NULL", ";", "<nl>", "+", "frame", "_", "analysis", "_", "data", "_", "t", "*", "frame", "_", "analysis", "_", "data", "_", "p", ";", "<nl>", "<nl>", "frame", "_", "analysis", "_", "data", "_", "p", "=", "wmem", "_", "new0", "(", "wmem", "_", "file", "_", "scope", "(", ")", ",", "struct", "frame", "_", "analysis", "_", "data", ")", ";", "<nl>", "frame", "_", "analysis", "_", "data", "_", "p", "-", ">", "ts", "_", "table", "=", "wmem", "_", "tree", "_", "new", "(", "wmem", "_", "file", "_", "scope", "(", ")", ")", ";", "<nl>", "init", "_", "frame", "_", "analysis", "_", "data", "(", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", ",", "packet", "_", "info", "*", "pinfo", ")", "<nl>", "static", "frame", "_", "analysis", "_", "data", "_", "t", "*", "<nl>", "get", "_", "frame", "_", "analysis", "_", "data", "(", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", ",", "packet", "_", "info", "*", "pinfo", ")", "<nl>", "{", "<nl>", "-", "frame", "_", "analysis", "_", "data", "_", "t", "*", "frame", "_", "analysis", "_", "data", "_", "p", "=", "NULL", ";", "<nl>", "+", "frame", "_", "analysis", "_", "data", "_", "t", "*", "frame", "_", "analysis", "_", "data", "_", "p", ";", "<nl>", "frame", "_", "analysis", "_", "data", "_", "p", "=", "(", "frame", "_", "analysis", "_", "data", "_", "t", "*", ")", "wmem", "_", "tree", "_", "lookup32", "(", "mp2t", "_", "data", "-", ">", "frame", "_", "table", ",", "pinfo", "-", ">", "fd", "-", ">", "num", ")", ";", "<nl>", "return", "frame", "_", "analysis", "_", "data", "_", "p", ";", "<nl>", "}", "<nl>", "get", "_", "frame", "_", "analysis", "_", "data", "(", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", ",", "packet", "_", "info", "*", "pinfo", ")", "<nl>", "static", "pid", "_", "analysis", "_", "data", "_", "t", "*", "<nl>", "get", "_", "pid", "_", "analysis", "(", "mp2t", "_", "analysis", "_", "data", "_", "t", "*", "mp2t", "_", "data", ",", "guint32", "pid", ")", "<nl>", "{", "<nl>", "-", "pid", "_", "analysis", "_", "data", "_", "t", "*", "pid", "_", "data", "=", "NULL", ";", "<nl>", "+", "pid", "_", "analysis", "_", "data", "_", "t", "*", "pid", "_", "data", ";", "<nl>", "<nl>", "pid", "_", "data", "=", "(", "pid", "_", "analysis", "_", "data", "_", "t", "*", ")", "wmem", "_", "tree", "_", "lookup32", "(", "mp2t", "_", "data", "-", ">", "pid", "_", "table", ",", "pid", ")", ";", "<nl>", "if", "(", "!", "pid", "_", "data", ")", "{", "<nl>", "static", "guint", "<nl>", "mp2t", "_", "get", "_", "packet", "_", "length", "(", "tvbuff", "_", "t", "*", "tvb", ",", "guint", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "guint32", "frag", "_", "id", ",", "enum", "pid", "_", "payload", "_", "type", "pload", "_", "type", ")", "<nl>", "{", "<nl>", "-", "fragment", "_", "head", "*", "frag", "=", "NULL", ";", "<nl>", "+", "fragment", "_", "head", "*", "frag", ";", "<nl>", "tvbuff", "_", "t", "*", "len", "_", "tvb", "=", "NULL", ",", "*", "frag", "_", "tvb", "=", "NULL", ",", "*", "data", "_", "tvb", "=", "NULL", ";", "<nl>", "gint", "pkt", "_", "len", "=", "0", ";", "<nl>", "guint", "remaining", "_", "len", ";", "<nl>", "save", "_", "state", ":", "<nl>", "static", "guint32", "<nl>", "calc", "_", "skips", "(", "gint32", "curr", ",", "gint32", "prev", ")", "<nl>", "{", "<nl>", "-", "int", "res", "=", "0", ";", "<nl>", "+", "int", "res", ";", "<nl>", "<nl>", "/", "*", "Only", "count", "the", "missing", "TS", "frames", "in", "between", "prev", "and", "curr", ".", "<nl>", "*", "The", "\"", "prev", "\"", "frame", "CC", "number", "seen", "is", "confirmed", "received", ",", "it", "'", "s", "<nl>"], "docstring_tokens": ["remove", "some", "more", "unnecessary", "initializations"]}
{"code_tokens": ["dissect", "_", "smpp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "guint32", "offset", "=", "0", ";", "<nl>", "while", "(", "tvb", "_", "reported", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ">", "0", ")", "{", "<nl>", "guint16", "pdu", "_", "len", "=", "tvb", "_", "get", "_", "ntohl", "(", "tvb", ",", "offset", ")", ";", "<nl>", "+", "if", "(", "pdu", "_", "len", "<", "1", ")", "<nl>", "+", "THROW", "(", "ReportedBoundsError", ")", ";", "<nl>", "gint", "pdu", "_", "real", "_", "len", "=", "tvb", "_", "length", "_", "remaining", "(", "tvb", ",", "offset", ")", ";", "<nl>", "tvbuff", "_", "t", "*", "pdu", "_", "tvb", ";", "<nl>"], "docstring_tokens": ["Catch", "an", "infinite", "loop", "in", "smpp_handle_dlist", "Fixes", "bug", "246"]}
{"code_tokens": ["dissect", "_", "transaction", "_", "request", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "<nl>", "WORD", "_", "COUNT", ";", "<nl>", "<nl>", "-", "if", "(", "wc", "=", "=", "8", ")", "{", "<nl>", "+", "if", "(", "wc", "=", "=", "8", "|", "|", "(", "wc", "=", "=", "9", "&", "&", "si", "-", ">", "cmd", "=", "=", "SMB", "_", "COM", "_", "TRANSACTION2", "_", "SECONDARY", ")", ")", "{", "<nl>", "/", "*", "secondary", "client", "request", "*", "/", "<nl>", "<nl>", "/", "*", "total", "param", "count", ",", "only", "a", "16bit", "integer", "here", "*", "/", "<nl>", "dissect", "_", "transaction", "_", "request", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "proto", "_", "tree", "_", "add", "_", "uint", "(", "tree", ",", "hf", "_", "smb", "_", "data", "_", "disp16", ",", "tvb", ",", "offset", ",", "2", ",", "dd", ")", ";", "<nl>", "offset", "+", "=", "2", ";", "<nl>", "<nl>", "-", "if", "(", "si", "-", ">", "cmd", "=", "=", "SMB", "_", "COM", "_", "TRANSACTION2", ")", "{", "<nl>", "+", "if", "(", "si", "-", ">", "cmd", "=", "=", "SMB", "_", "COM", "_", "TRANSACTION2", "|", "|", "si", "-", ">", "cmd", "=", "=", "SMB", "_", "COM", "_", "TRANSACTION2", "_", "SECONDARY", ")", "{", "<nl>", "guint16", "fid", ";", "<nl>", "<nl>", "/", "*", "fid", "*", "/", "<nl>"], "docstring_tokens": ["SMB", "Fix", "dissection", "of", "SMB_COM_TRANSACTION2_SECONDARY", "0x33"]}
{"code_tokens": ["dissect", "_", "epon", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "guint", "dpoe", "_", "sec", "_", "byte", ";", "<nl>", "gboolean", "dpoe", "_", "encrypted", "=", "FALSE", ";", "<nl>", "<nl>", "-", "/", "*", "Start", "_", "of", "_", "Packet", "delimiter", "(", "/", "S", "/", ")", "can", "either", "happen", "in", "byte", "1", "or", "byte", "2", ",", "<nl>", "-", "*", "making", "the", "captured", "preamble", "either", "7", "or", "6", "bytes", "in", "length", ".", "If", "the", "<nl>", "+", "/", "*", "Start", "_", "of", "_", "Packet", "delimiter", "(", "/", "S", "/", ")", "can", "happen", "in", "byte", "1", ",", "2", "or", "3", ",", "<nl>", "+", "*", "making", "the", "captured", "preamble", "8", ",", "7", "or", "6", "bytes", "in", "length", ".", "If", "the", "<nl>", "*", "preamble", "starts", "with", "0x55", ",", "then", "/", "S", "/", "happened", "in", "byte", "1", ",", "making", "the", "<nl>", "*", "captured", "preamble", "7", "bytes", "in", "length", ".", "<nl>", "*", "/", "<nl>", "-", "if", "(", "tvb", "_", "get", "_", "ntoh24", "(", "tvb", ",", "0", ")", "=", "=", "0x55D555", ")", "{", "<nl>", "+", "if", "(", "tvb", "_", "get", "_", "ntohl", "(", "tvb", ",", "0", ")", "=", "=", "0x5555D555", ")", "{", "<nl>", "+", "offset", "+", "=", "2", ";", "<nl>", "+", "}", "else", "if", "(", "tvb", "_", "get", "_", "ntoh24", "(", "tvb", ",", "0", ")", "=", "=", "0x55D555", ")", "{", "<nl>", "offset", "+", "=", "1", ";", "<nl>", "}", "else", "if", "(", "tvb", "_", "get", "_", "ntohs", "(", "tvb", ",", "0", ")", "=", "=", "0xD555", ")", "{", "<nl>", "offset", "+", "=", "0", ";", "<nl>"], "docstring_tokens": ["dissectors", "epon", "Improve", "preamble", "detection"]}
{"code_tokens": ["dissect", "_", "headers", "(", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "proto", "_", "item", "_", "append", "_", "text", "(", "hdr", "_", "tree", ",", "\"", "(", "\\", "\"", "%", "s", "\\", "\"", ")", "\"", ",", "str", ")", ";", "<nl>", "<nl>", "col", "_", "append", "_", "fstr", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "\"", "\\", "\"", "%", "s", "\\", "\"", "\"", ",", "str", ")", ";", "<nl>", "+", "offset", "+", "=", "item", "_", "length", "-", "3", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>", "col", "_", "append", "_", "str", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "\"", "\\", "\"", "\\", "\"", "\"", ")", ";", "<nl>", "}", "<nl>", "-", "<nl>", "-", "offset", "+", "=", "item", "_", "length", "-", "3", ";", "<nl>", "}", "<nl>", "break", ";", "<nl>", "case", "0x40", ":", "/", "*", "byte", "sequence", "*", "/", "<nl>", "dissect", "_", "headers", "(", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "col", "_", "append", "_", "fstr", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "\"", "\\", "\"", "%", "s", "\\", "\"", "\"", ",", "tvb", "_", "get", "_", "ephemeral", "_", "string", "(", "tvb", ",", "offset", ",", "item", "_", "length", "-", "3", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "-", "offset", "+", "=", "item", "_", "length", "-", "3", ";", "<nl>", "+", "if", "(", "item", "_", "length", ">", "=", "3", ")", "/", "*", "prevent", "infinite", "loops", "*", "/", "<nl>", "+", "offset", "+", "=", "item", "_", "length", "-", "3", ";", "<nl>", "break", ";", "<nl>", "case", "0x80", ":", "/", "*", "1", "byte", "*", "/", "<nl>", "proto", "_", "item", "_", "append", "_", "text", "(", "hdr", "_", "tree", ",", "\"", "(", "%", "i", ")", "\"", ",", "tvb", "_", "get", "_", "ntohl", "(", "tvb", ",", "offset", ")", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "the", "infinite", "loop", "fuzz", "failure", "reported", "in"]}
{"code_tokens": ["fAbstractSyntaxNType", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "guint", "<nl>", "offset", "=", "fReadAccessResult", "(", "tvb", ",", "pinfo", ",", "tree", ",", "offset", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "-", "/", "*", "intentially", "fall", "through", "here", "so", "don", "'", "t", "reorder", "this", "case", "statement", "*", "/", "<nl>", "+", "/", "*", "intentionally", "fall", "through", "*", "/", "/", "*", "here", "so", "don", "'", "t", "reorder", "this", "case", "statement", "*", "/", "<nl>", "default", ":", "<nl>", "if", "(", "tag", "_", "info", ")", "{", "<nl>", "if", "(", "tag", "_", "is", "_", "opening", "(", "tag", "_", "info", ")", ")", "{", "<nl>", "fPropertyReference", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "guint", "of", "<nl>", "case", "1", ":", "/", "*", "propertyArrayIndex", "*", "/", "<nl>", "offset", "=", "fPropertyArrayIndex", "(", "tvb", ",", "pinfo", ",", "tree", ",", "offset", ")", ";", "<nl>", "if", "(", "list", "!", "=", "0", ")", "break", ";", "/", "*", "Continue", "decoding", "if", "this", "may", "be", "a", "list", "*", "/", "<nl>", "+", "break", ";", "<nl>", "default", ":", "<nl>", "lastoffset", "=", "offset", ";", "/", "*", "Set", "loop", "end", "condition", "*", "/", "<nl>", "break", ";", "<nl>", "fBACnetObjectPropertyReference", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tr", "<nl>", "case", "1", ":", "/", "*", "PropertyIdentifier", "and", "propertyArrayIndex", "*", "/", "<nl>", "offset", "=", "fPropertyReference", "(", "tvb", ",", "pinfo", ",", "tree", ",", "offset", ",", "1", ",", "0", ")", ";", "<nl>", "col", "_", "set", "_", "writable", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "FALSE", ")", ";", "/", "*", "don", "'", "t", "set", "all", "infos", "into", "INFO", "column", "*", "/", "<nl>", "+", "break", ";", "<nl>", "default", ":", "<nl>", "lastoffset", "=", "offset", ";", "/", "*", "Set", "loop", "end", "condition", "*", "/", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["bacapp", "fix", "this", "statement", "may", "fall", "through", "Werror", "implicit", "fallthrough", "found", "by", "gcc7"]}
{"code_tokens": ["dissect", "_", "data", "_", "chunk", "(", "tvbuff", "_", "t", "*", "chunk", "_", "tvb", ",", "<nl>", "*", "/", "<nl>", "if", "(", "b", "_", "bit", ")", "<nl>", "{", "<nl>", "-", "gboolean", "retval", ";", "<nl>", "+", "gboolean", "retval", "=", "FALSE", ";", "<nl>", "<nl>", "/", "*", "<nl>", "*", "If", "this", "particular", "fragment", "happens", "to", "get", "a", "ReportedBoundsError", "<nl>"], "docstring_tokens": ["gcc", "4", "1", "1", "thinks", "retval", "might", "not", "get", "set", "inside", "the", "TRY", "Initialize", "it"]}
{"code_tokens": ["static", "gboolean", "uat", "_", "cancel", "_", "dlg", "_", "cb", "(", "GtkWidget", "*", "win", "_", "U", "_", ",", "gpointer", "user", "_", "data", ")", "{", "<nl>", "if", "(", "dd", "-", ">", "is", "_", "new", ")", "g", "_", "free", "(", "dd", "-", ">", "rec", ")", ";", "<nl>", "g", "_", "ptr", "_", "array", "_", "free", "(", "dd", "-", ">", "entries", ",", "TRUE", ")", ";", "<nl>", "window", "_", "destroy", "(", "GTK", "_", "WIDGET", "(", "dd", "-", ">", "win", ")", ")", ";", "<nl>", "-", "g", "_", "free", "(", "dd", ")", ";", "<nl>", "<nl>", "while", "(", "dd", "-", ">", "tobe", "_", "freed", "-", ">", "len", ")", "g", "_", "free", "(", "g", "_", "ptr", "_", "array", "_", "remove", "_", "index", "_", "fast", "(", "dd", "-", ">", "tobe", "_", "freed", ",", "dd", "-", ">", "tobe", "_", "freed", "-", ">", "len", "-", "1", ")", ")", ";", "<nl>", "<nl>", "+", "g", "_", "free", "(", "dd", ")", ";", "<nl>", "+", "<nl>", "return", "TRUE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["From", "Peter", "Johansson"]}
{"code_tokens": ["dissect", "_", "data", "_", "segment", "(", "proto", "_", "tree", "*", "ltp", "_", "tree", ",", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "int", "<nl>", "}", "<nl>", "}", "<nl>", "/", "*", "Adding", "size", "of", "the", "data", "*", "/", "<nl>", "+", "if", "(", "(", "segment", "_", "offset", "+", "(", "int", ")", "length", "<", "segment", "_", "offset", ")", "|", "|", "(", "segment", "_", "offset", "+", "(", "int", ")", "length", "<", "(", "int", ")", "length", ")", ")", "{", "<nl>", "+", "/", "*", "Addition", "result", "has", "wrapped", "*", "/", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "segment", "_", "offset", "+", "=", "(", "int", ")", "length", ";", "<nl>", "+", "<nl>", "+", "if", "(", "(", "segment", "_", "offset", "+", "frame", "_", "offset", "<", "segment", "_", "offset", ")", "|", "|", "(", "segment", "_", "offset", "+", "frame", "_", "offset", "<", "frame", "_", "offset", ")", ")", "{", "<nl>", "+", "/", "*", "Addition", "result", "has", "wrapped", "*", "/", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "if", "(", "(", "unsigned", ")", "(", "frame", "_", "offset", "+", "segment", "_", "offset", ")", ">", "tvb", "_", "length", "(", "tvb", ")", ")", "{", "<nl>", "/", "*", "This", "would", "mean", "the", "data", "segment", "is", "incomplete", "*", "/", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["Fix", "for", "bug", "4509"]}
{"code_tokens": ["dissect", "_", "bthci", "_", "evt", "_", "inq", "_", "result", "_", "with", "_", "rssi", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "p", "<nl>", "static", "int", "<nl>", "dissect", "_", "bthci", "_", "evt", "_", "eir", "_", "ad", "_", "data", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "tree", ",", "guint8", "size", ")", "<nl>", "{", "<nl>", "-", "guint16", "i", ";", "<nl>", "-", "guint8", "j", ",", "length", ",", "type", ";", "<nl>", "+", "guint16", "i", ",", "j", ";", "<nl>", "+", "guint8", "length", ",", "type", ";", "<nl>", "proto", "_", "item", "*", "ti", "_", "eir", "=", "NULL", ";", "<nl>", "proto", "_", "item", "*", "ti", "_", "eir", "_", "subtree", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["j", "should", "also", "be", "guint16", "to", "prevent", "overflows", "in", "the", "while", "loops"]}
{"code_tokens": ["tvb", "_", "uncompress", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "int", "comprlen", ")", "<nl>", "inflateReset", "(", "strm", ")", ";", "<nl>", "next", "=", "c", ";", "<nl>", "strm", "-", ">", "next", "_", "in", "=", "next", ";", "<nl>", "+", "if", "(", "c", "-", "compr", ">", "comprlen", ")", "{", "<nl>", "+", "g", "_", "free", "(", "strm", ")", ";", "<nl>", "+", "g", "_", "free", "(", "compr", ")", ";", "<nl>", "+", "g", "_", "free", "(", "strmbuf", ")", ";", "<nl>", "+", "return", "NULL", ";", "<nl>", "+", "}", "<nl>", "comprlen", "-", "=", "(", "c", "-", "compr", ")", ";", "<nl>", "<nl>", "err", "=", "inflateInit2", "(", "strm", ",", "wbits", ")", ";", "<nl>"], "docstring_tokens": ["When", "trying", "to", "handle", "gzip", "compressed", "data", "don", "t", "seek", "past", "the", "end", "of", "our"]}
{"code_tokens": ["dissect", "_", "ExpectedSubmoduleBlockReq", "_", "block", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "<nl>", "/", "*", "Initial", "*", "/", "<nl>", "io", "_", "data", "_", "object", "=", "wmem", "_", "new0", "(", "wmem", "_", "file", "_", "scope", "(", ")", ",", "ioDataObject", ")", ";", "<nl>", "io", "_", "data", "_", "object", "-", ">", "profisafeSupported", "=", "FALSE", ";", "<nl>", "-", "io", "_", "data", "_", "object", "-", ">", "moduleNameStr", "=", "wmem", "_", "strdup", "(", "wmem", "_", "file", "_", "scope", "(", ")", ",", "\"", "Unknown", "\"", ")", ";", "<nl>", "+", "io", "_", "data", "_", "object", "-", ">", "moduleNameStr", "=", "(", "gchar", "*", ")", "wmem", "_", "alloc", "(", "wmem", "_", "file", "_", "scope", "(", ")", ",", "MAX", "_", "NAMELENGTH", ")", ";", "<nl>", "+", "g", "_", "strlcpy", "(", "io", "_", "data", "_", "object", "-", ">", "moduleNameStr", ",", "\"", "Unknown", "\"", ",", "MAX", "_", "NAMELENGTH", ")", ";", "<nl>", "vendorMatch", "=", "FALSE", ";", "<nl>", "deviceMatch", "=", "FALSE", ";", "<nl>", "gsdmlFoundFlag", "=", "FALSE", ";", "<nl>", "dissect", "_", "ExpectedSubmoduleBlockReq", "_", "block", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "<nl>", "/", "*", "Find", "a", "String", "with", "the", "saved", "TextID", "and", "with", "a", "fitting", "value", "for", "it", "in", "the", "same", "line", ".", "This", "value", "is", "the", "name", "of", "the", "Module", "!", "*", "/", "<nl>", "if", "(", "(", "(", "strstr", "(", "temp", ",", "tmp", "_", "moduletext", ")", ")", "!", "=", "NULL", ")", "&", "&", "(", "(", "strstr", "(", "temp", ",", "moduleValueInfo", ")", ")", "!", "=", "NULL", ")", ")", "{", "<nl>", "pch", "=", "strstr", "(", "temp", ",", "moduleValueInfo", ")", ";", "<nl>", "-", "if", "(", "pch", "!", "=", "NULL", "&", "&", "sscanf", "(", "pch", ",", "\"", "Value", "=", "\\", "\"", "%", "[", "^", "\\", "\"", "]", "\"", ",", "io", "_", "data", "_", "object", "-", ">", "moduleNameStr", ")", "=", "=", "1", ")", "<nl>", "+", "if", "(", "pch", "!", "=", "NULL", "&", "&", "sscanf", "(", "pch", ",", "\"", "Value", "=", "\\", "\"", "%", "199", "[", "^", "\\", "\"", "]", "\"", ",", "io", "_", "data", "_", "object", "-", ">", "moduleNameStr", ")", "=", "=", "1", ")", "<nl>", "break", ";", "/", "*", "Found", "the", "name", "of", "the", "module", "*", "/", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["PNIO", "Fix", "another", "potential", "OOB", "write"]}
{"code_tokens": ["capture", "_", "loop", "_", "packet", "_", "cb", "(", "guchar", "*", "user", ",", "const", "struct", "pcap", "_", "pkthdr", "*", "phdr", ",", "<nl>", "int", "err", ";", "<nl>", "<nl>", "/", "*", "if", "the", "user", "told", "us", "to", "stop", "after", "x", "packets", ",", "do", "we", "have", "enough", "?", "*", "/", "<nl>", "-", "if", "(", "(", "ld", "-", ">", "packets", "_", "max", ">", "0", ")", "&", "&", "(", "+", "+", "ld", "-", ">", "counts", ".", "total", ">", "=", "ld", "-", ">", "packets", "_", "max", ")", ")", "<nl>", "+", "ld", "-", ">", "counts", ".", "total", "+", "+", ";", "<nl>", "+", "if", "(", "(", "ld", "-", ">", "packets", "_", "max", ">", "0", ")", "&", "&", "(", "ld", "-", ">", "counts", ".", "total", ">", "=", "ld", "-", ">", "packets", "_", "max", ")", ")", "<nl>", "{", "<nl>", "ld", "-", ">", "go", "=", "FALSE", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fix", "a", "bug", "reported", "by", "Greg", "Morris", "caused", "by", "code", "cleanup", "blame", "it", "on", "me"]}
{"code_tokens": ["dissect", "_", "dcm", "_", "pdv", "_", "fragmented", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "pdv", "_", "body", "_", "len", ",", "<nl>", "!", "(", "pdv", "-", ">", "is", "_", "last", "_", "fragment", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "(", "head", "&", "&", "(", "head", "-", ">", "next", "=", "=", "NULL", ")", ")", "|", "|", "pdv", "-", ">", "is", "_", "last", "_", "fragment", ")", "{", "<nl>", "+", "if", "(", "head", "&", "&", "(", "head", "-", ">", "next", "=", "=", "NULL", ")", ")", "{", "<nl>", "/", "*", "Was", "not", "really", "fragmented", ",", "therefore", "use", "'", "conventional", "'", "decoding", "<nl>", "fragment", "_", "add", "_", "seq", "_", "next", "(", ")", "won", "'", "t", "add", "any", "items", "to", "the", "list", ",", "when", "last", "fragment", "only", "<nl>", "*", "/", "<nl>"], "docstring_tokens": ["DICOM", "Revert", "3752a643ac5c85622822c88c69d83ce23828acb8"]}
{"code_tokens": ["/", "*", "packet", "-", "geneve", ".", "c", "<nl>", "*", "Routines", "for", "Geneve", "-", "Generic", "Network", "Virtualization", "Encapsulation", "<nl>", "-", "*", "http", ":", "/", "/", "tools", ".", "ietf", ".", "org", "/", "html", "/", "draft", "-", "gross", "-", "geneve", "-", "00", "<nl>", "+", "*", "http", ":", "/", "/", "tools", ".", "ietf", ".", "org", "/", "html", "/", "draft", "-", "ietf", "-", "nvo3", "-", "geneve", "<nl>", "*", "<nl>", "*", "Copyright", "(", "c", ")", "2014", "VMware", ",", "Inc", ".", "All", "Rights", "Reserved", ".", "<nl>", "*", "Author", ":", "Jesse", "Gross", "<", "jesse", "@", "nicira", ".", "com", ">", "<nl>", "<nl>", "static", "const", "range", "_", "string", "class", "_", "id", "_", "names", "[", "]", "=", "{", "<nl>", "{", "0", ",", "0xFF", ",", "\"", "Standard", "\"", "}", ",", "<nl>", "-", "{", "0xFFFF", ",", "0xFFFF", ",", "\"", "Experimental", "\"", "}", ",", "<nl>", "+", "{", "0x0100", ",", "0x0100", ",", "\"", "Linux", "\"", "}", ",", "<nl>", "+", "{", "0x0101", ",", "0x0101", ",", "\"", "Open", "vSwitch", "\"", "}", ",", "<nl>", "+", "{", "0x0102", ",", "0x0102", ",", "\"", "Open", "Virtual", "Networking", "(", "OVN", ")", "\"", "}", ",", "<nl>", "+", "{", "0x0103", ",", "0x0103", ",", "\"", "In", "-", "band", "Network", "Telemetry", "(", "INT", ")", "\"", "}", ",", "<nl>", "+", "{", "0x0104", ",", "0x0104", ",", "\"", "VMware", "\"", "}", ",", "<nl>", "+", "{", "0xFFF0", ",", "0xFFFF", ",", "\"", "Experimental", "\"", "}", ",", "<nl>", "{", "0", ",", "0", ",", "NULL", "}", "<nl>", "}", ";", "<nl>"], "docstring_tokens": ["Geneve", "Update", "list", "of", "option", "classes"]}
{"code_tokens": ["/", "*", "pppdump", ".", "c", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "pppdump", ".", "c", ",", "v", "1", ".", "11", "2001", "/", "12", "/", "13", "05", ":", "49", ":", "12", "gram", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "pppdump", ".", "c", ",", "v", "1", ".", "12", "2001", "/", "12", "/", "13", "05", ":", "50", ":", "51", "gram", "Exp", "$", "<nl>", "*", "<nl>", "*", "Copyright", "(", "c", ")", "2000", "by", "Gilbert", "Ramirez", "<", "gram", "@", "alumni", ".", "rice", ".", "edu", ">", "<nl>", "*", "<nl>", "pppdump", "_", "close", "(", "wtap", "*", "wth", ")", "<nl>", "}", "<nl>", "<nl>", "if", "(", "state", "-", ">", "pids", ")", "{", "/", "*", "should", "always", "be", "TRUE", "*", "/", "<nl>", "-", "int", "i", ";", "<nl>", "+", "unsigned", "int", "i", ";", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "g", "_", "ptr", "_", "array", "_", "len", "(", "state", "-", ">", "pids", ")", ";", "i", "+", "+", ")", "{", "<nl>", "g", "_", "free", "(", "g", "_", "ptr", "_", "array", "_", "index", "(", "state", "-", ">", "pids", ",", "i", ")", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Get", "rid", "of", "newly", "introduced", "signed", "unsigned", "comparison", "warning"]}
{"code_tokens": ["void", "<nl>", "frame", "_", "data", "_", "reset", "(", "frame", "_", "data", "*", "fdata", ")", "<nl>", "{", "<nl>", "fdata", "-", ">", "flags", ".", "visited", "=", "0", ";", "<nl>", "+", "fdata", "-", ">", "subnum", "=", "0", ";", "<nl>", "<nl>", "if", "(", "fdata", "-", ">", "pfd", ")", "{", "<nl>", "g", "_", "slist", "_", "free", "(", "fdata", "-", ">", "pfd", ")", ";", "<nl>"], "docstring_tokens": ["frame_data", "Reset", "subnum", "if", "visited", "is", "resetted"]}
{"code_tokens": ["pcapng", "_", "read", "_", "section", "_", "header", "_", "block", "(", "FILE", "_", "T", "fh", ",", "pcapng", "_", "block", "_", "header", "_", "t", "*", "bh", ",", "<nl>", "bytes", "_", "read", "=", "pcapng", "_", "read", "_", "option", "(", "fh", ",", "pn", ",", "&", "oh", ",", "option", "_", "content", ",", "opt", "_", "cont", "_", "buf", "_", "len", ",", "to", "_", "read", ",", "err", ",", "err", "_", "info", ",", "\"", "section", "_", "header", "\"", ")", ";", "<nl>", "if", "(", "bytes", "_", "read", "<", "=", "0", ")", "{", "<nl>", "pcapng", "_", "debug", "(", "\"", "pcapng", "_", "read", "_", "section", "_", "header", "_", "block", ":", "failed", "to", "read", "option", "\"", ")", ";", "<nl>", "+", "g", "_", "free", "(", "option", "_", "content", ")", ";", "<nl>", "return", "PCAPNG", "_", "BLOCK", "_", "ERROR", ";", "<nl>", "}", "<nl>", "to", "_", "read", "-", "=", "bytes", "_", "read", ";", "<nl>"], "docstring_tokens": ["pcapng", "Free", "option_content", "on", "error"]}
{"code_tokens": ["peektagged", "_", "read", "_", "packet", "(", "wtap", "*", "wth", ",", "FILE", "_", "T", "fh", ",", "struct", "wtap", "_", "pkthdr", "*", "phdr", ",", "<nl>", "<nl>", "case", "TAG", "_", "PEEKTAGGED", "_", "CENTER", "_", "FREQUENCY", ":", "<nl>", "/", "*", "XXX", "-", "also", "seen", "in", "an", "EtherPeek", "capture", ";", "value", "unknown", "*", "/", "<nl>", "+", "ieee", "_", "802", "_", "11", ".", "presence", "_", "flags", "|", "=", "PHDR", "_", "802", "_", "11", "_", "HAS", "_", "FREQUENCY", ";", "<nl>", "+", "ieee", "_", "802", "_", "11", ".", "frequency", "=", "pletoh32", "(", "&", "tag", "_", "value", "[", "2", "]", ")", ";", "<nl>", "break", ";", "<nl>", "<nl>", "case", "TAG", "_", "PEEKTAGGED", "_", "UNKNOWN", "_", "0x000E", ":", "<nl>"], "docstring_tokens": ["Extract", "the", "center", "frequency", "from", "Peek", "tagged", "files"]}
{"code_tokens": ["test", "_", "length", "(", "header", "_", "field", "_", "info", "*", "hfinfo", ",", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "_", "t", "*", "tvb", ",", "<nl>", "else", "{", "<nl>", "size", "+", "=", "n", ";", "<nl>", "}", "<nl>", "+", "}", "else", "if", "(", "hfinfo", "-", ">", "type", "=", "=", "FT", "_", "STRINGZ", ")", "{", "<nl>", "+", "/", "*", "If", "we", "'", "re", "fetching", "until", "the", "end", "of", "the", "TVB", ",", "only", "validate", "<nl>", "+", "*", "that", "the", "offset", "is", "within", "range", ".", "<nl>", "+", "*", "/", "<nl>", "+", "if", "(", "length", "=", "=", "-", "1", ")", "<nl>", "+", "size", "=", "0", ";", "<nl>", "}", "<nl>", "+", "<nl>", "tvb", "_", "ensure", "_", "bytes", "_", "exist", "(", "tvb", ",", "start", ",", "size", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["As", "pointed", "out", "in", "https", "www", "wireshark", "org", "lists", "wireshark", "dev", "201307", "msg00153", "html"]}
{"code_tokens": ["dissect", "_", "ntlmssp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "col", "_", "append", "_", "sep", "_", "fstr", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "\"", ",", "\"", ",", "\"", "%", "s", "\"", ",", "<nl>", "val", "_", "to", "_", "str", "(", "ntlmssph", "-", ">", "type", ",", "<nl>", "ntlmssp", "_", "message", "_", "types", ",", "<nl>", "-", "\"", "Unknown", "message", "type", "\"", ")", ")", ";", "<nl>", "+", "\"", "Unknown", "NTLMSSP", "message", "type", "\"", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Call", "the", "appropriate", "dissector", "based", "on", "the", "Message", "Type", "*", "/", "<nl>", "switch", "(", "ntlmssph", "-", ">", "type", ")", "{", "<nl>"], "docstring_tokens": ["As", "suggested", "by", "Richard", "Sharpe", "in", "http", "www", "wireshark", "org", "lists", "wireshark", "dev", "201207", "msg00111", "html"]}
{"code_tokens": ["static", "void", "calculate", "_", "roundtrip", "_", "delay", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "p", "_", "add", "_", "proto", "_", "data", "(", "pinfo", "-", ">", "fd", ",", "proto", "_", "rtcp", ",", "p", "_", "packet", "_", "data", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "*", "Don", "'", "t", "allow", "match", "seemingly", "calculated", "from", "same", "frame", "!", "*", "/", "<nl>", "+", "if", "(", "pinfo", "-", ">", "fd", "-", ">", "num", "=", "=", "p", "_", "conv", "_", "data", "-", ">", "last", "_", "received", "_", "frame", "_", "number", ")", "<nl>", "+", "{", "<nl>", "+", "return", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "*", "Any", "previous", "report", "must", "match", "the", "lsr", "given", "here", "*", "/", "<nl>", "if", "(", "p", "_", "conv", "_", "data", "-", ">", "last", "_", "received", "_", "ts", "=", "=", "lsr", ")", "<nl>", "{", "<nl>", "static", "void", "calculate", "_", "roundtrip", "_", "delay", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "gint", "nseconds", "_", "between", "_", "packets", "=", "<nl>", "pinfo", "-", ">", "fd", "-", ">", "abs", "_", "ts", ".", "nsecs", "-", "p", "_", "conv", "_", "data", "-", ">", "last", "_", "received", "_", "timestamp", ".", "nsecs", ";", "<nl>", "<nl>", "-", "<nl>", "-", "gint", "total", "_", "gap", "=", "(", "(", "seconds", "_", "between", "_", "packets", "*", "1000", ")", "+", "<nl>", "-", "nseconds", "_", "between", "_", "packets", ")", "/", "1000000", ";", "<nl>", "+", "gint", "total", "_", "gap", "=", "(", "seconds", "_", "between", "_", "packets", "*", "1000", ")", "+", "<nl>", "+", "(", "nseconds", "_", "between", "_", "packets", "/", "1000000", ")", ";", "<nl>", "gint", "delay", "=", "total", "_", "gap", "-", "(", "int", ")", "(", "(", "(", "double", ")", "dlsr", "/", "(", "double", ")", "65536", ")", "*", "1000", ".", "0", ")", ";", "<nl>", "<nl>", "/", "*", "No", "useful", "calculation", "can", "be", "done", "if", "dlsr", "not", "set", ".", ".", ".", "*", "/", "<nl>"], "docstring_tokens": ["From", "Martin", "Mathieson"]}
{"code_tokens": ["follow", "_", "udp", "_", "stream", "_", "cb", "(", "GtkWidget", "*", "w", ",", "gpointer", "data", "_", "U", "_", ")", "<nl>", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "ERROR", ",", "ESD", "_", "BTN", "_", "OK", ",", "<nl>", "\"", "Error", "creating", "filter", "for", "this", "stream", ".", "\\", "n", "\"", "<nl>", "\"", "A", "network", "layer", "header", "is", "needed", "\"", ")", ";", "<nl>", "+", "g", "_", "free", "(", "follow", "_", "info", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "<nl>", "follow", "_", "udp", "_", "stream", "_", "cb", "(", "GtkWidget", "*", "w", ",", "gpointer", "data", "_", "U", "_", ")", "<nl>", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "ERROR", ",", "ESD", "_", "BTN", "_", "OK", ",", "<nl>", "\"", "Can", "'", "t", "register", "udp", "_", "follow", "tap", ":", "%", "s", "\\", "n", "\"", ",", "<nl>", "msg", "-", ">", "str", ")", ";", "<nl>", "+", "g", "_", "free", "(", "follow", "_", "info", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "bug", "3019", "Fix", "potential", "memory", "leaks"]}
{"code_tokens": ["typedef", "struct", "capture", "_", "options", "_", "tag", "{", "<nl>", "<nl>", "/", "*", "GUI", "related", "*", "/", "<nl>", "gboolean", "real", "_", "time", "_", "mode", ";", "/", "*", "*", "<", "Update", "list", "of", "packets", "in", "real", "time", "*", "/", "<nl>", "-", "gboolean", "show", "_", "info", ";", "/", "*", "*", "<", "show", "the", "info", "dialog", ".", "GTK", "+", "only", ".", "*", "/", "<nl>", "+", "gboolean", "show", "_", "info", ";", "/", "*", "*", "<", "show", "the", "info", "dialog", ".", "*", "/", "<nl>", "gboolean", "restart", ";", "/", "*", "*", "<", "restart", "after", "closing", "is", "done", "*", "/", "<nl>", "gchar", "*", "orig", "_", "save", "_", "file", ";", "/", "*", "*", "<", "the", "original", "capture", "file", "name", "(", "saved", "for", "a", "restart", ")", "*", "/", "<nl>"], "docstring_tokens": ["Not", "GTK", "only", "any", "more"]}
{"code_tokens": ["ng", "_", "file", "_", "seek", "_", "rand", "(", "wtap", "*", "wth", ",", "long", "offset", ",", "int", "whence", ",", "int", "*", "err", ")", "<nl>", "the", "uncompressed", "byte", "stream", ",", "starting", "with", "the", "blob", "<nl>", "following", "the", "current", "blob", ".", "*", "/", "<nl>", "new", "=", "g", "_", "list", "_", "next", "(", "ngsniffer", "-", ">", "current", "_", "blob", ")", ";", "<nl>", "-", "for", "(", ";", ";", ")", "{", "<nl>", "+", "while", "(", "new", ")", "{", "<nl>", "next", "=", "g", "_", "list", "_", "next", "(", "new", ")", ";", "<nl>", "if", "(", "next", "=", "=", "NULL", ")", "{", "<nl>", "/", "*", "No", "more", "blobs", ";", "the", "current", "one", "is", "it", ".", "*", "/", "<nl>", "ng", "_", "file", "_", "seek", "_", "rand", "(", "wtap", "*", "wth", ",", "long", "offset", ",", "int", "whence", ",", "int", "*", "err", ")", "<nl>", "the", "uncompressed", "byte", "stream", ",", "starting", "with", "the", "blob", "<nl>", "preceding", "the", "current", "blob", ".", "*", "/", "<nl>", "new", "=", "g", "_", "list", "_", "previous", "(", "ngsniffer", "-", ">", "current", "_", "blob", ")", ";", "<nl>", "-", "for", "(", ";", ";", ")", "{", "<nl>", "+", "while", "(", "new", ")", "{", "<nl>", "/", "*", "Does", "this", "blob", "start", "at", "or", "before", "the", "target", "offset", "?", "<nl>", "If", "so", ",", "the", "current", "blob", "is", "the", "one", "we", "want", ".", "*", "/", "<nl>", "new", "_", "blob", "=", "new", "-", ">", "data", ";", "<nl>"], "docstring_tokens": ["Fix", "a", "possible", "NULL", "dereference", "Coverity", "CID", "33"]}
{"code_tokens": ["dissect", "_", "hip", "_", "tlv", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "int", "offset", ",", "proto", "_", "item", "*", "ti", ",", "i", "<nl>", "newoffset", "+", "=", "(", "1", "+", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "newoffset", "+", "2", ")", ")", ";", "<nl>", "tlv", "_", "len", "-", "=", "(", "1", "+", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "newoffset", "+", "2", ")", ")", ";", "<nl>", "}", "<nl>", "-", "if", "(", "ti", "_", "loc", ")", "{", "<nl>", "+", "if", "(", "locator", "_", "type", "<", "=", "2", ")", "{", "<nl>", "ti", "_", "loc", "=", "proto", "_", "item", "_", "add", "_", "subtree", "(", "ti", "_", "loc", ",", "ett", "_", "hip", "_", "locator", "_", "data", ")", ";", "<nl>", "/", "*", "Traffic", "type", "*", "/", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "ti", "_", "loc", ",", "hf", "_", "hip", "_", "tlv", "_", "locator", "_", "traffic", "_", "type", ",", "tvb", ",", "<nl>"], "docstring_tokens": ["hip", "fix", "infinite", "loop", "in", "dissect_hip_tlv"]}
{"code_tokens": ["/", "*", "packet", "-", "icq", ".", "c", "<nl>", "*", "Routines", "for", "ICQ", "packet", "disassembly", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "packet", "-", "icq", ".", "c", ",", "v", "1", ".", "22", "2000", "/", "11", "/", "19", "08", ":", "53", ":", "58", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "packet", "-", "icq", ".", "c", ",", "v", "1", ".", "23", "2000", "/", "11", "/", "19", "19", ":", "23", ":", "54", "gerald", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Johan", "Feyaerts", "<nl>", "dissect", "_", "icqv5Client", "(", "const", "u", "_", "char", "*", "pd", ",", "<nl>", "guint16", "seqnum1", "=", "0", ",", "seqnum2", "=", "0", ";", "<nl>", "guint32", "uin", "=", "-", "1", ",", "sessionid", "=", "-", "1", ";", "<nl>", "guint32", "key", "=", "-", "1", ";", "<nl>", "-", "guint16", "pktsize", "=", "-", "1", ";", "/", "*", "The", "size", "of", "the", "ICQ", "content", "*", "/", "<nl>", "-", "u", "_", "char", "decr", "_", "pd", "[", "1600", "]", ";", "/", "*", "Decrypted", "content", ",", "size", "should", "be", "dynamic", "*", "/", "<nl>", "+", "guint16", "pktsize", "=", "-", "1", ";", "/", "*", "The", "size", "of", "the", "ICQ", "content", "*", "/", "<nl>", "+", "static", "u", "_", "char", "*", "decr", "_", "pd", "=", "NULL", ";", "/", "*", "Decrypted", "content", "*", "/", "<nl>", "<nl>", "pktsize", "=", "END", "_", "OF", "_", "FRAME", ";", "<nl>", "+", "<nl>", "+", "if", "(", "decr", "_", "pd", "=", "=", "NULL", ")", "<nl>", "+", "decr", "_", "pd", "=", "(", "u", "_", "char", "*", ")", "g", "_", "malloc", "(", "sizeof", "(", "u", "_", "char", ")", "*", "128", ")", ";", "<nl>", "+", "<nl>", "+", "while", "(", "sizeof", "(", "decr", "_", "pd", ")", "<", "pktsize", "+", "3", ")", "<nl>", "+", "decr", "_", "pd", "=", "(", "u", "_", "char", "*", ")", "g", "_", "realloc", "(", "decr", "_", "pd", ",", "sizeof", "(", "decr", "_", "pd", ")", "*", "2", ")", ";", "<nl>", "+", "<nl>", "/", "*", "First", "copy", "the", "memory", ",", "we", "don", "'", "t", "want", "to", "overwrite", "the", "old", "content", "*", "/", "<nl>", "memcpy", "(", "decr", "_", "pd", ",", "&", "pd", "[", "offset", "]", ",", "pktsize", ")", ";", "<nl>", "if", "(", "pktsize", ">", "0x14", ")", "{", "<nl>"], "docstring_tokens": ["Dynamically", "resize", "decr_pd", "in", "dissect_icqv5Client", "in", "order", "to", "avoid"]}
{"code_tokens": ["elem", "_", "signal", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "tree", ",", "guint32", "off", "<nl>", "break", ";", "<nl>", "}", "<nl>", "<nl>", "+", "other", "_", "decode", "_", "bitfield", "_", "value", "(", "a", "_", "bigbuf", ",", "oct", ",", "0x03", ",", "8", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "tree", ",", "<nl>", "tvb", ",", "curr", "_", "offset", ",", "1", ",", "<nl>", "\"", "%", "s", ":", "Alert", "Pitch", ":", "%", "s", "\"", ",", "<nl>", "elem", "_", "fwd", "_", "ms", "_", "info", "_", "recs", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", "_", "U", "_", ",", "proto", "_", "tree", "*", "tree", ",", "g", "<nl>", "curr", "_", "offset", "+", "+", ";", "<nl>", "break", ";", "<nl>", "<nl>", "+", "case", "ANSI", "_", "FWD", "_", "MS", "_", "INFO", "_", "REC", "_", "SIGNAL", ":", "<nl>", "+", "curr", "_", "offset", "+", "=", "elem", "_", "signal", "(", "tvb", ",", "pinfo", ",", "subtree", ",", "curr", "_", "offset", ",", "len", ",", "add", "_", "string", ",", "string", "_", "len", ")", ";", "<nl>", "+", "break", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "subtree", ",", "<nl>", "tvb", ",", "curr", "_", "offset", ",", "oct", "_", "len", ",", "<nl>"], "docstring_tokens": ["From", "Jon", "Carmicheal", "via", "https", "bugs", "wireshark", "org", "bugzilla", "show_bug", "cgi", "id", "9068"]}
{"code_tokens": ["static", "void", "dissect", "_", "attribute", "_", "value", "_", "pairs", "(", "proto", "_", "tree", "*", "tree", ",", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "last", "_", "eap", "=", "TRUE", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "last", "_", "eap", ")", "{", "<nl>", "+", "if", "(", "last", "_", "eap", "&", "&", "eap", "_", "buffer", ")", "{", "<nl>", "gboolean", "save", "_", "writable", ";", "<nl>", "<nl>", "proto", "_", "item", "_", "append", "_", "text", "(", "avp", "_", "item", ",", "<nl>"], "docstring_tokens": ["Don", "t", "add", "a", "new", "data", "source", "if", "we", "don", "t", "have", "any", "data"]}
{"code_tokens": ["TCPStreamDialog", ":", ":", "TCPStreamDialog", "(", "QWidget", "*", "parent", ",", "capture", "_", "file", "*", "cf", ",", "tcp", "_", "graph", "_", "ty", "<nl>", "graph", "_", ".", "type", "=", "graph", "_", "type", ";", "<nl>", "<nl>", "QCustomPlot", "*", "sp", "=", "ui", "-", ">", "streamPlot", ";", "<nl>", "+", "QCPPlotTitle", "*", "file", "_", "title", "=", "new", "QCPPlotTitle", "(", "sp", ",", "cf", "_", "get", "_", "display", "_", "name", "(", "cap", "_", "file", "_", ")", ")", ";", "<nl>", "+", "file", "_", "title", "-", ">", "setFont", "(", "sp", "-", ">", "xAxis", "-", ">", "labelFont", "(", ")", ")", ";", "<nl>", "title", "_", "=", "new", "QCPPlotTitle", "(", "sp", ")", ";", "<nl>", "tracer", "_", "=", "new", "QCPItemTracer", "(", "sp", ")", ";", "<nl>", "sp", "-", ">", "plotLayout", "(", ")", "-", ">", "insertRow", "(", "0", ")", ";", "<nl>", "+", "sp", "-", ">", "plotLayout", "(", ")", "-", ">", "addElement", "(", "0", ",", "0", ",", "file", "_", "title", ")", ";", "<nl>", "+", "sp", "-", ">", "plotLayout", "(", ")", "-", ">", "insertRow", "(", "0", ")", ";", "<nl>", "sp", "-", ">", "plotLayout", "(", ")", "-", ">", "addElement", "(", "0", ",", "0", ",", "title", "_", ")", ";", "<nl>", "sp", "-", ">", "addGraph", "(", ")", ";", "/", "/", "0", "-", "All", ":", "Selectable", "segments", "<nl>", "sp", "-", ">", "addGraph", "(", "sp", "-", ">", "xAxis", ",", "sp", "-", ">", "yAxis2", ")", ";", "/", "/", "1", "-", "Throughput", ":", "Moving", "average", "<nl>", "TCPStreamDialog", ":", ":", "TCPStreamDialog", "(", "QWidget", "*", "parent", ",", "capture", "_", "file", "*", "cf", ",", "tcp", "_", "graph", "_", "ty", "<nl>", "sp", "-", ">", "graph", "(", "0", ")", "-", ">", "setScatterStyle", "(", "QCPScatterStyle", "(", "QCPScatterStyle", ":", ":", "ssDisc", ",", "5", ")", ")", ";", "<nl>", "<nl>", "sp", "-", ">", "xAxis", "-", ">", "setLabel", "(", "tr", "(", "\"", "Time", "(", "s", ")", "\"", ")", ")", ";", "<nl>", "+", "sp", "-", ">", "yAxis", "-", ">", "setLabelColor", "(", "QColor", "(", "graph", "_", "color", "_", "1", ")", ")", ";", "<nl>", "sp", "-", ">", "yAxis", "-", ">", "setTickLabelColor", "(", "QColor", "(", "graph", "_", "color", "_", "1", ")", ")", ";", "<nl>", "<nl>", "tracer", "_", "-", ">", "setVisible", "(", "false", ")", ";", "<nl>", "void", "TCPStreamDialog", ":", ":", "resetAxes", "(", ")", "<nl>", "<nl>", "void", "TCPStreamDialog", ":", ":", "initializeStevens", "(", ")", "<nl>", "{", "<nl>", "-", "QString", "dlg", "_", "title", "=", "QString", "(", "tr", "(", "\"", "TCP", "Graph", "\"", ")", ")", "+", "streamDescription", "(", ")", ";", "<nl>", "+", "QString", "dlg", "_", "title", "=", "QString", "(", "tr", "(", "\"", "Sequence", "numbers", "\"", ")", ")", "+", "streamDescription", "(", ")", ";", "<nl>", "setWindowTitle", "(", "dlg", "_", "title", ")", ";", "<nl>", "title", "_", "-", ">", "setText", "(", "dlg", "_", "title", ")", ";", "<nl>", "<nl>", "void", "TCPStreamDialog", ":", ":", "initializeStevens", "(", ")", "<nl>", "<nl>", "void", "TCPStreamDialog", ":", ":", "initializeThroughput", "(", ")", "<nl>", "{", "<nl>", "-", "QString", "dlg", "_", "title", "=", "QString", "(", "tr", "(", "\"", "Throughput", "\"", ")", ")", "<nl>", "+", "QString", "dlg", "_", "title", "=", "QString", "(", "tr", "(", "\"", "Throughput", "\"", ")", ")", "<nl>", "+", "streamDescription", "(", ")", "<nl>", "+", "QString", "(", "tr", "(", "\"", "(", "%", "1", "segment", "MA", ")", "\"", ")", ")", ".", "arg", "(", "moving", "_", "avg", "_", "period", "_", ")", ";", "<nl>", "setWindowTitle", "(", "dlg", "_", "title", ")", ";", "<nl>", "void", "TCPStreamDialog", ":", ":", "initializeThroughput", "(", ")", "<nl>", "sp", "-", ">", "yAxis", "-", ">", "setLabel", "(", "tr", "(", "\"", "Segment", "length", "(", "B", ")", "\"", ")", ")", ";", "<nl>", "<nl>", "sp", "-", ">", "yAxis2", "-", ">", "setLabel", "(", "tr", "(", "\"", "Avg", "througput", "(", "bits", "/", "s", ")", "\"", ")", ")", ";", "<nl>", "+", "sp", "-", ">", "yAxis2", "-", ">", "setLabelColor", "(", "QColor", "(", "graph", "_", "color", "_", "2", ")", ")", ";", "<nl>", "sp", "-", ">", "yAxis2", "-", ">", "setTickLabelColor", "(", "QColor", "(", "graph", "_", "color", "_", "2", ")", ")", ";", "<nl>", "sp", "-", ">", "yAxis2", "-", ">", "setVisible", "(", "true", ")", ";", "<nl>", "}", "<nl>", "<nl>", "QString", "TCPStreamDialog", ":", ":", "streamDescription", "(", ")", "<nl>", "{", "<nl>", "-", "return", "QString", "(", "tr", "(", "\"", "%", "1", "%", "2", ":", "%", "3", "%", "4", "%", "5", ":", "%", "6", "\"", ")", ")", "<nl>", "-", ".", "arg", "(", "cf", "_", "get", "_", "display", "_", "name", "(", "cap", "_", "file", "_", ")", ")", "<nl>", "+", "return", "QString", "(", "tr", "(", "\"", "for", "%", "1", ":", "%", "2", "%", "3", "%", "4", ":", "%", "5", "\"", ")", ")", "<nl>", ".", "arg", "(", "ep", "_", "address", "_", "to", "_", "str", "(", "&", "graph", "_", ".", "src", "_", "address", ")", ")", "<nl>", ".", "arg", "(", "graph", "_", ".", "src", "_", "port", ")", "<nl>", ".", "arg", "(", "UTF8", "_", "RIGHTWARDS", "_", "ARROW", ")", "<nl>"], "docstring_tokens": ["Adjust", "titles", "and", "labels"]}
{"code_tokens": ["main", "_", "cf", "_", "cb", "_", "file", "_", "closing", "(", "capture", "_", "file", "*", "cf", ")", "<nl>", "will", "there", "ever", "be", "more", "than", "one", "on", "the", "stack", "?", "*", "/", "<nl>", "statusbar", "_", "pop", "_", "file", "_", "msg", "(", ")", ";", "<nl>", "<nl>", "-", "/", "*", "go", "back", "to", "\"", "No", "packets", "\"", "*", "/", "<nl>", "-", "packets", "_", "bar", "_", "update", "(", ")", ";", "<nl>", "-", "<nl>", "/", "*", "Restore", "the", "standard", "title", "bar", "message", ".", "*", "/", "<nl>", "set", "_", "main", "_", "window", "_", "name", "(", "\"", "The", "Ethereal", "Network", "Analyzer", "\"", ")", ";", "<nl>", "<nl>", "main", "_", "cf", "_", "cb", "_", "file", "_", "closed", "(", "capture", "_", "file", "*", "cf", "_", "U", "_", ")", "<nl>", "splash", "_", "destroy", "(", "close", "_", "dlg", ")", ";", "<nl>", "close", "_", "dlg", "=", "NULL", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "/", "*", "go", "back", "to", "\"", "No", "packets", "\"", "*", "/", "<nl>", "+", "packets", "_", "bar", "_", "update", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "<nl>"], "docstring_tokens": ["minor", "bugfix", "while", "closing", "a", "capture", "file", "update", "the", "packets", "statusbar", "after", "closing", "the", "file"]}
{"code_tokens": ["gboolean", "<nl>", "profile", "_", "exists", "(", "const", "gchar", "*", "profilename", ",", "gboolean", "global", ")", "<nl>", "{", "<nl>", "gchar", "*", "path", "=", "NULL", ",", "*", "global", "_", "path", ";", "<nl>", "+", "if", "(", "!", "profilename", ")", "<nl>", "+", "return", "FALSE", ";", "<nl>", "if", "(", "global", ")", "{", "<nl>", "global", "_", "path", "=", "get", "_", "global", "_", "profiles", "_", "dir", "(", ")", ";", "<nl>", "path", "=", "g", "_", "strdup", "_", "printf", "(", "\"", "%", "s", "%", "s", "%", "s", "\"", ",", "global", "_", "path", ",", "<nl>"], "docstring_tokens": ["wsutil", "return", "false", "if", "NULL", "is", "asked", "as", "profile", "name", "CID", "1405202"]}
{"code_tokens": ["static", "const", "value", "_", "string", "smb2", "_", "class", "_", "vals", "[", "]", "=", "{", "<nl>", "{", "SMB2", "_", "CLASS", "_", "FILE", "_", "INFO", ",", "\"", "FILE", "_", "INFO", "\"", "}", ",", "<nl>", "{", "SMB2", "_", "CLASS", "_", "FS", "_", "INFO", ",", "\"", "FS", "_", "INFO", "\"", "}", ",", "<nl>", "{", "SMB2", "_", "CLASS", "_", "SEC", "_", "INFO", ",", "\"", "SEC", "_", "INFO", "\"", "}", ",", "<nl>", "+", "{", "SMB2", "_", "CLASS", "_", "QUOTA", "_", "INFO", ",", "\"", "QUOTA", "_", "INFO", "\"", "}", ",", "<nl>", "{", "SMB2", "_", "CLASS", "_", "POSIX", "_", "INFO", ",", "\"", "POSIX", "_", "INFO", "\"", "}", ",", "<nl>", "{", "0", ",", "NULL", "}", "<nl>", "}", ";", "<nl>", "dissect", "_", "smb2", "_", "class", "_", "infolevel", "(", "packet", "_", "info", "*", "pinfo", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "prot", "<nl>", "hfindex", "=", "hf", "_", "smb2", "_", "infolevel", "_", "sec", "_", "info", ";", "<nl>", "vsx", "=", "&", "smb2", "_", "sec", "_", "info", "_", "levels", "_", "ext", ";", "<nl>", "break", ";", "<nl>", "+", "case", "SMB2", "_", "CLASS", "_", "QUOTA", "_", "INFO", ":", "<nl>", "+", "/", "*", "infolevel", "is", "not", "being", "used", "for", "quota", "*", "/", "<nl>", "+", "hfindex", "=", "hf", "_", "smb2", "_", "infolevel", ";", "<nl>", "+", "vsx", "=", "NULL", ";", "<nl>", "+", "break", ";", "<nl>", "case", "SMB2", "_", "CLASS", "_", "POSIX", "_", "INFO", ":", "<nl>", "hfindex", "=", "hf", "_", "smb2", "_", "infolevel", "_", "posix", "_", "info", ";", "<nl>", "vsx", "=", "&", "smb2", "_", "posix", "_", "info", "_", "levels", "_", "ext", ";", "<nl>"], "docstring_tokens": ["SMB2", "dissect", "class", "and", "infolevel", "in", "get", "quota", "info", "request"]}
{"code_tokens": ["dissect", "_", "zcl", "_", "pwr", "_", "prof", "_", "enphsschednotif", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ",", "guint", "*", "off", "<nl>", "*", "offset", "+", "=", "1", ";", "<nl>", "<nl>", "/", "*", "Scheduled", "Energy", "Phases", "decoding", "*", "/", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "num", "_", "of", "_", "sched", "_", "phases", ";", "i", "+", "+", ")", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "(", "i", "<", "num", "_", "of", "_", "sched", "_", "phases", "&", "&", "i", "<", "ZBEE", "_", "ZCL", "_", "PWR", "_", "PROF", "_", "NUM", "_", "EN", "_", "PHS", "_", "ETT", ")", ";", "i", "+", "+", ")", "{", "<nl>", "/", "*", "Create", "subtree", "*", "/", "<nl>", "sub", "_", "tree", "=", "proto", "_", "tree", "_", "add", "_", "subtree", "_", "format", "(", "tree", ",", "tvb", ",", "*", "offset", ",", "1", ",", "<nl>", "ett", "_", "zbee", "_", "zcl", "_", "pwr", "_", "prof", "_", "enphases", "[", "i", "]", ",", "NULL", ",", "\"", "Energy", "Phase", "#", "%", "u", "\"", ",", "i", ")", ";", "<nl>", "dissect", "_", "zcl", "_", "pwr", "_", "prof", "_", "pwrprofnotif", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ",", "guint", "*", "offset", "<nl>", "*", "offset", "+", "=", "1", ";", "<nl>", "<nl>", "/", "*", "Energy", "Phases", "decoding", "*", "/", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "num", "_", "of", "_", "transferred", "_", "phases", ";", "i", "+", "+", ")", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "(", "i", "<", "num", "_", "of", "_", "transferred", "_", "phases", "&", "&", "i", "<", "ZBEE", "_", "ZCL", "_", "PWR", "_", "PROF", "_", "NUM", "_", "EN", "_", "PHS", "_", "ETT", ")", ";", "i", "+", "+", ")", "{", "<nl>", "/", "*", "Create", "subtree", "*", "/", "<nl>", "sub", "_", "tree", "=", "proto", "_", "tree", "_", "add", "_", "subtree", "_", "format", "(", "tree", ",", "tvb", ",", "*", "offset", ",", "1", ",", "<nl>", "ett", "_", "zbee", "_", "zcl", "_", "pwr", "_", "prof", "_", "enphases", "[", "i", "]", ",", "NULL", ",", "\"", "Energy", "Phase", "#", "%", "u", "\"", ",", "i", ")", ";", "<nl>"], "docstring_tokens": ["Bounds", "check", "the", "use", "of", "ett_zbee_zcl_pwr_prof_enphases", "array"]}
{"code_tokens": ["wmem", "_", "block", "_", "split", "_", "used", "_", "chunk", "(", "wmem", "_", "block", "_", "allocator", "_", "t", "*", "allocator", ",", "<nl>", "extra", "-", ">", "prev", "=", "(", "guint32", ")", "(", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ")", ";", "<nl>", "extra", "-", ">", "used", "=", "FALSE", ";", "<nl>", "<nl>", "+", "/", "*", "merge", "it", "to", "its", "right", "if", "possible", "(", "it", "can", "'", "t", "be", "merged", "left", ",", "obviously", ")", "*", "/", "<nl>", "+", "wmem", "_", "block", "_", "merge", "_", "free", "(", "allocator", ",", "extra", ")", ";", "<nl>", "+", "<nl>", "/", "*", "add", "it", "to", "the", "free", "list", "*", "/", "<nl>", "wmem", "_", "block", "_", "add", "_", "to", "_", "free", "_", "list", "(", "allocator", ",", "extra", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "issue", "where", "using", "realloc", "to", "shrink", "a", "chunk", "could", "result", "in"]}
{"code_tokens": ["tvb", "_", "skip", "_", "wsp", "(", "tvbuff", "_", "t", "*", "tvb", ",", "const", "gint", "offset", ",", "const", "gint", "maxlength", ")", "<nl>", "}", "<nl>", "<nl>", "gint", "<nl>", "-", "tvb", "_", "skip", "_", "wsp", "_", "return", "(", "tvbuff", "_", "t", "*", "tvb", ",", "const", "gint", "offset", ")", "{", "<nl>", "+", "tvb", "_", "skip", "_", "wsp", "_", "return", "(", "tvbuff", "_", "t", "*", "tvb", ",", "const", "gint", "offset", ")", "<nl>", "+", "{", "<nl>", "gint", "counter", "=", "offset", ";", "<nl>", "guint8", "tempchar", ";", "<nl>", "<nl>", "-", "for", "(", "counter", "=", "offset", ";", "counter", ">", "0", "&", "&", "<nl>", "+", "DISSECTOR", "_", "ASSERT", "(", "tvb", "&", "&", "tvb", "-", ">", "initialized", ")", ";", "<nl>", "+", "<nl>", "+", "for", "(", "counter", "=", "offset", ";", "counter", ">", "0", "&", "&", "<nl>", "(", "(", "tempchar", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "counter", ")", ")", "=", "=", "'", "'", "|", "|", "<nl>", "tempchar", "=", "=", "'", "\\", "t", "'", "|", "|", "tempchar", "=", "=", "'", "\\", "n", "'", "|", "|", "tempchar", "=", "=", "'", "\\", "r", "'", ")", ";", "counter", "-", "-", ")", ";", "<nl>", "counter", "+", "+", ";", "<nl>", "+", "<nl>", "return", "(", "counter", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["tvbuff", "add", "assertion", "to", "tvb_skip_wsp_return"]}
{"code_tokens": ["static", "int", "<nl>", "dissect", "_", "ah", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", ")", "<nl>", "{", "<nl>", "proto", "_", "tree", "*", "ah", "_", "tree", ",", "*", "root", "_", "tree", ";", "<nl>", "-", "proto", "_", "item", "*", "pi", ";", "<nl>", "+", "proto", "_", "item", "*", "pi", ",", "*", "ti", ";", "<nl>", "guint", "ah", "_", "nxt", ";", "/", "*", "Next", "header", "*", "/", "<nl>", "guint8", "ah", "_", "len", ";", "/", "*", "Length", "of", "header", "in", "32bit", "words", "minus", "2", "*", "/", "<nl>", "guint", "ah", "_", "hdr", "_", "len", ";", "/", "*", "Length", "of", "header", "in", "octets", "*", "/", "<nl>", "dissect", "_", "ah", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", ")", "<nl>", "ah", "_", "tree", "=", "proto", "_", "item", "_", "add", "_", "subtree", "(", "pi", ",", "ett", "_", "ah", ")", ";", "<nl>", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "ah", "_", "tree", ",", "hf", "_", "ah", "_", "next", "_", "header", ",", "tvb", ",", "0", ",", "1", ",", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "item", "(", "ah", "_", "tree", ",", "hf", "_", "ah", "_", "length", ",", "tvb", ",", "1", ",", "1", ",", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "+", "ti", "=", "proto", "_", "tree", "_", "add", "_", "item", "(", "ah", "_", "tree", ",", "hf", "_", "ah", "_", "length", ",", "tvb", ",", "1", ",", "1", ",", "ENC", "_", "BIG", "_", "ENDIAN", ")", ";", "<nl>", "+", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", "(", "%", "u", "bytes", ")", "\"", ",", "ah", "_", "hdr", "_", "len", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "ah", "_", "tree", ",", "hf", "_", "ah", "_", "reserved", ",", "tvb", ",", "2", ",", "2", ",", "ENC", "_", "NA", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "_", "ret", "_", "uint", "(", "ah", "_", "tree", ",", "hf", "_", "ah", "_", "spi", ",", "tvb", ",", "4", ",", "4", ",", "ENC", "_", "BIG", "_", "ENDIAN", ",", "&", "ah", "_", "spi", ")", ";", "<nl>", "<nl>", "proto", "_", "register", "_", "ipsec", "(", "void", ")", "<nl>", "{", "\"", "Next", "header", "\"", ",", "\"", "ah", ".", "next", "_", "header", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "DEC", "|", "BASE", "_", "EXT", "_", "STRING", ",", "&", "ipproto", "_", "val", "_", "ext", ",", "0x0", ",", "<nl>", "NULL", ",", "HFILL", "}", "}", ",", "<nl>", "{", "&", "hf", "_", "ah", "_", "length", ",", "<nl>", "-", "{", "\"", "Length", "\"", ",", "\"", "ah", ".", "length", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "DEC", "|", "BASE", "_", "UNIT", "_", "STRING", ",", "&", "units", "_", "byte", "_", "bytes", ",", "0x0", ",", "<nl>", "+", "{", "\"", "Length", "\"", ",", "\"", "ah", ".", "length", "\"", ",", "FT", "_", "UINT8", ",", "BASE", "_", "DEC", ",", "NULL", ",", "0x0", ",", "<nl>", "NULL", ",", "HFILL", "}", "}", ",", "<nl>", "{", "&", "hf", "_", "ah", "_", "reserved", ",", "<nl>", "{", "\"", "Reserved", "\"", ",", "\"", "ah", ".", "reserved", "\"", ",", "FT", "_", "BYTES", ",", "BASE", "_", "NONE", ",", "NULL", ",", "0x0", ",", "<nl>"], "docstring_tokens": ["IPsec", "Revert", "g232cb9a2dd"]}
{"code_tokens": ["/", "*", "display", "_", "opts", ".", "c", "<nl>", "*", "Routines", "for", "packet", "display", "windows", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "display", "_", "opts", ".", "c", ",", "v", "1", ".", "3", "2000", "/", "05", "/", "08", "01", ":", "11", ":", "46", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "display", "_", "opts", ".", "c", ",", "v", "1", ".", "4", "2000", "/", "05", "/", "08", "01", ":", "23", ":", "16", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "zing", ".", "org", ">", "<nl>", "#", "include", "\"", "packet", ".", "h", "\"", "<nl>", "#", "include", "\"", "file", ".", "h", "\"", "<nl>", "#", "include", "\"", "display", "_", "opts", ".", "h", "\"", "<nl>", "+", "#", "include", "\"", "dlg", "_", "utils", ".", "h", "\"", "<nl>", "<nl>", "extern", "capture", "_", "file", "cf", ";", "<nl>", "extern", "GtkWidget", "*", "packet", "_", "list", ";", "<nl>", "display", "_", "opt", "_", "cb", "(", "GtkWidget", "*", "w", ",", "gpointer", "d", ")", "{", "<nl>", "gtk", "_", "box", "_", "pack", "_", "start", "(", "GTK", "_", "BOX", "(", "bbox", ")", ",", "cancel", "_", "bt", ",", "TRUE", ",", "TRUE", ",", "0", ")", ";", "<nl>", "gtk", "_", "widget", "_", "show", "(", "cancel", "_", "bt", ")", ";", "<nl>", "<nl>", "+", "/", "*", "Catch", "the", "\"", "key", "_", "press", "_", "event", "\"", "signal", "in", "the", "window", ",", "so", "that", "we", "can", "catch", "<nl>", "+", "the", "ESC", "key", "being", "pressed", "and", "act", "as", "if", "the", "\"", "Cancel", "\"", "button", "had", "<nl>", "+", "been", "selected", ".", "*", "/", "<nl>", "+", "dlg", "_", "set", "_", "cancel", "(", "display", "_", "opt", "_", "w", ",", "cancel", "_", "bt", ")", ";", "<nl>", "+", "<nl>", "display", "_", "opt", "_", "window", "_", "active", "=", "TRUE", ";", "<nl>", "gtk", "_", "widget", "_", "show", "(", "display", "_", "opt", "_", "w", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Make", "the", "display", "options", "dialog", "box", "use", "the", "new", "utilities", "to", "make", "the"]}
{"code_tokens": ["*", "Copyright", "(", "C", ")", "1995", "-", "1997", "Peter", "Mattis", ",", "Spencer", "Kimball", ",", "Josh", "MacDonald", ",", "<nl>", "*", "Copyright", "(", "C", ")", "1997", "-", "1998", "Jay", "Painter", "<", "jpaint", "@", "serv", ".", "net", ">", "<", "jpaint", "@", "gimp", ".", "org", ">", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "gtkclist", ".", "c", ",", "v", "1", ".", "13", "2002", "/", "09", "/", "09", "20", ":", "32", ":", "30", "jmayer", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "gtkclist", ".", "c", ",", "v", "1", ".", "14", "2003", "/", "06", "/", "28", "21", ":", "46", ":", "08", "sahlberg", "Exp", "$", "<nl>", "*", "<nl>", "*", "This", "library", "is", "free", "software", ";", "you", "can", "redistribute", "it", "and", "/", "or", "<nl>", "*", "modify", "it", "under", "the", "terms", "of", "the", "GNU", "Library", "General", "Public", "<nl>", "*", "GTK", "+", "at", "ftp", ":", "/", "/", "ftp", ".", "gtk", ".", "org", "/", "pub", "/", "gtk", "/", ".", "<nl>", "*", "/", "<nl>", "<nl>", "+", "/", "*", "TODO", ":", "<nl>", "+", "*", "get", "rid", "of", "autoresize", "of", "the", "columns", "completely", "and", "just", "use", "some", "<nl>", "+", "*", "sane", "default", "widths", "instead", "<nl>", "+", "*", "/", "<nl>", "+", "<nl>", "#", "include", "\"", "config", ".", "h", "\"", "<nl>", "#", "include", "<", "stdlib", ".", "h", ">", "<nl>", "#", "include", "<", "string", ".", "h", ">", "<nl>", "LIST", "_", "WIDTH", "(", "GtkCList", "*", "clist", ")", "<nl>", "}", "G", "_", "STMT", "_", "END", "<nl>", "<nl>", "<nl>", "+", "/", "*", "maximum", "size", "in", "pxels", "that", "columns", "will", "be", "autosized", "to", "*", "/", "<nl>", "+", "#", "define", "MAX", "_", "COLUMN", "_", "AUTOSIZE", "_", "WIDTH", "600", "<nl>", "+", "<nl>", "/", "*", "Signals", "*", "/", "<nl>", "enum", "{", "<nl>", "SELECT", "_", "ROW", ",", "<nl>", "gtk", "_", "clist", "_", "set", "_", "column", "_", "auto", "_", "resize", "(", "GtkCList", "*", "clist", ",", "<nl>", "{", "<nl>", "gint", "width", ";", "<nl>", "<nl>", "-", "width", "=", "gtk", "_", "clist", "_", "optimal", "_", "column", "_", "width", "(", "clist", ",", "column", ")", ";", "<nl>", "+", "/", "*", "cap", "the", "auto", "-", "rezised", "width", "to", "something", "reasonable", "*", "/", "<nl>", "+", "width", "=", "MIN", "(", "gtk", "_", "clist", "_", "optimal", "_", "column", "_", "width", "(", "clist", ",", "column", ")", ",", "MAX", "_", "COLUMN", "_", "AUTOSIZE", "_", "WIDTH", ")", ";", "<nl>", "gtk", "_", "clist", "_", "set", "_", "column", "_", "width", "(", "clist", ",", "column", ",", "width", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["From", "Ian", "Schorr", "limit", "the", "size", "of", "the", "INFO", "columns", "to", "prevent", "it", "from", "becoming"]}
{"code_tokens": ["void", "iax2", "_", "analysis", "(", "<nl>", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "ERROR", ",", "ESD", "_", "BTN", "_", "OK", ",", "<nl>", "\"", "Can", "'", "t", "create", "temporary", "file", "for", "IAX2", "analysis", ":", "\\", "n", "%", "s", ".", "\"", ",", "<nl>", "g", "_", "strerror", "(", "errno", ")", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "user", "_", "data", "-", ">", "f", "_", "tempname", "=", "g", "_", "strdup", "(", "tempname", ")", ";", "<nl>", "void", "iax2", "_", "analysis", "(", "<nl>", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "ERROR", ",", "ESD", "_", "BTN", "_", "OK", ",", "<nl>", "\"", "Can", "'", "t", "create", "temporary", "file", "for", "IAX2", "analysis", ":", "\\", "n", "%", "s", ".", "\"", ",", "<nl>", "g", "_", "strerror", "(", "errno", ")", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", "-", ">", "f", "_", "tempname", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "user", "_", "data", "-", ">", "r", "_", "tempname", "=", "g", "_", "strdup", "(", "tempname", ")", ";", "mmm", "ui", "/", "gtk", "/", "rtp", "_", "analysis", ".", "c", "<nl>", "void", "iax2", "_", "analysis", "(", "<nl>", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "ERROR", ",", "ESD", "_", "BTN", "_", "OK", ",", "<nl>", "\"", "Can", "'", "t", "create", "temporary", "file", "for", "IAX2", "analysis", ":", "\\", "n", "%", "s", ".", "\"", ",", "<nl>", "g", "_", "strerror", "(", "errno", ")", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "user", "_", "data", "-", ">", "f", "_", "tempname", "=", "g", "_", "strdup", "(", "tempname", ")", ";", "<nl>", "void", "iax2", "_", "analysis", "(", "<nl>", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "ERROR", ",", "ESD", "_", "BTN", "_", "OK", ",", "<nl>", "\"", "Can", "'", "t", "create", "temporary", "file", "for", "IAX2", "analysis", ":", "\\", "n", "%", "s", ".", "\"", ",", "<nl>", "g", "_", "strerror", "(", "errno", ")", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", "-", ">", "f", "_", "tempname", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "user", "_", "data", "-", ">", "r", "_", "tempname", "=", "g", "_", "strdup", "(", "tempname", ")", ";", "<nl>", "void", "rtp", "_", "analysis", "(", "<nl>", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "ERROR", ",", "ESD", "_", "BTN", "_", "OK", ",", "<nl>", "\"", "Can", "'", "t", "create", "temporary", "file", "for", "RTP", "analysis", ":", "\\", "n", "%", "s", ".", "\"", ",", "<nl>", "g", "_", "strerror", "(", "errno", ")", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "user", "_", "data", "-", ">", "f", "_", "tempname", "=", "g", "_", "strdup", "(", "tempname", ")", ";", "<nl>", "void", "rtp", "_", "analysis", "(", "<nl>", "simple", "_", "dialog", "(", "ESD", "_", "TYPE", "_", "ERROR", ",", "ESD", "_", "BTN", "_", "OK", ",", "<nl>", "\"", "Can", "'", "t", "create", "temporary", "file", "for", "RTP", "analysis", ":", "\\", "n", "%", "s", ".", "\"", ",", "<nl>", "g", "_", "strerror", "(", "errno", ")", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", "-", ">", "f", "_", "tempname", ")", ";", "<nl>", "+", "g", "_", "free", "(", "user", "_", "data", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "user", "_", "data", "-", ">", "r", "_", "tempname", "=", "g", "_", "strdup", "(", "tempname", ")", ";", "<nl>"], "docstring_tokens": ["Free", "memory", "when", "create_tempfile", "failed"]}
{"code_tokens": ["wmem", "_", "block", "_", "split", "_", "free", "_", "chunk", "(", "wmem", "_", "block", "_", "allocator", "_", "t", "*", "allocator", ",", "<nl>", "available", "=", "chunk", "-", ">", "len", ";", "<nl>", "<nl>", "/", "*", "set", "new", "values", "for", "chunk", "*", "/", "<nl>", "-", "chunk", "-", ">", "len", "=", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ";", "<nl>", "+", "chunk", "-", ">", "len", "=", "(", "guint32", ")", "(", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ")", ";", "<nl>", "chunk", "-", ">", "last", "=", "FALSE", ";", "<nl>", "<nl>", "/", "*", "with", "chunk", "'", "s", "values", "set", ",", "we", "can", "use", "the", "standard", "macro", "to", "calculate", "<nl>", "wmem", "_", "block", "_", "split", "_", "free", "_", "chunk", "(", "wmem", "_", "block", "_", "allocator", "_", "t", "*", "allocator", ",", "<nl>", "<nl>", "/", "*", "Now", "that", "we", "'", "ve", "copied", "over", "the", "free", "-", "list", "stuff", "(", "which", "may", "have", "overlapped", "<nl>", "*", "with", "our", "new", "chunk", "header", ")", "we", "can", "safely", "write", "our", "new", "chunk", "header", ".", "*", "/", "<nl>", "-", "extra", "-", ">", "len", "=", "available", ";", "<nl>", "+", "extra", "-", ">", "len", "=", "(", "guint32", ")", "available", ";", "<nl>", "extra", "-", ">", "last", "=", "last", ";", "<nl>", "-", "extra", "-", ">", "prev", "=", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ";", "<nl>", "+", "extra", "-", ">", "prev", "=", "(", "guint32", ")", "(", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ")", ";", "<nl>", "extra", "-", ">", "used", "=", "FALSE", ";", "<nl>", "}", "<nl>", "<nl>", "wmem", "_", "block", "_", "split", "_", "used", "_", "chunk", "(", "wmem", "_", "block", "_", "allocator", "_", "t", "*", "allocator", ",", "<nl>", "available", "=", "chunk", "-", ">", "len", ";", "<nl>", "<nl>", "/", "*", "set", "new", "values", "for", "chunk", "*", "/", "<nl>", "-", "chunk", "-", ">", "len", "=", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ";", "<nl>", "+", "chunk", "-", ">", "len", "=", "(", "guint32", ")", "(", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ")", ";", "<nl>", "chunk", "-", ">", "last", "=", "FALSE", ";", "<nl>", "<nl>", "/", "*", "with", "chunk", "'", "s", "values", "set", ",", "we", "can", "use", "the", "standard", "macro", "to", "calculate", "<nl>", "wmem", "_", "block", "_", "split", "_", "used", "_", "chunk", "(", "wmem", "_", "block", "_", "allocator", "_", "t", "*", "allocator", ",", "<nl>", "available", "-", "=", "(", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ")", ";", "<nl>", "<nl>", "/", "*", "set", "the", "new", "values", "for", "the", "chunk", "*", "/", "<nl>", "-", "extra", "-", ">", "len", "=", "available", ";", "<nl>", "+", "extra", "-", ">", "len", "=", "(", "guint32", ")", "available", ";", "<nl>", "extra", "-", ">", "last", "=", "last", ";", "<nl>", "-", "extra", "-", ">", "prev", "=", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ";", "<nl>", "+", "extra", "-", ">", "prev", "=", "(", "guint32", ")", "(", "aligned", "_", "size", "+", "sizeof", "(", "wmem", "_", "block", "_", "chunk", "_", "t", ")", ")", ";", "<nl>", "extra", "-", ">", "used", "=", "FALSE", ";", "<nl>", "<nl>", "/", "*", "add", "it", "to", "the", "free", "list", "*", "/", "<nl>"], "docstring_tokens": ["Add", "explicit", "casts", "to", "pacify", "MSVC", "buildbot"]}
{"code_tokens": ["static", "void", "dissect", "_", "user", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "guint", "<nl>", "call", "_", "dissector", "(", "encap", "-", ">", "payload", "_", "handle", ",", "payload", "_", "tvb", ",", "pinfo", ",", "tree", ")", ";", "<nl>", "<nl>", "if", "(", "encap", "-", ">", "trailer", "_", "size", ")", "{", "<nl>", "-", "tvbuff", "_", "t", "*", "trailer", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "0", ",", "encap", "-", ">", "trailer", "_", "size", ",", "encap", "-", ">", "trailer", "_", "size", ")", ";", "<nl>", "+", "tvbuff", "_", "t", "*", "trailer", "_", "tvb", "=", "tvb", "_", "new", "_", "subset", "(", "tvb", ",", "encap", "-", ">", "header", "_", "size", "+", "len", ",", "encap", "-", ">", "trailer", "_", "size", ",", "encap", "-", ">", "trailer", "_", "size", ")", ";", "<nl>", "call", "_", "dissector", "(", "encap", "-", ">", "trailer", "_", "handle", ",", "trailer", "_", "tvb", ",", "pinfo", ",", "tree", ")", ";", "<nl>", "offset", "=", "encap", "-", ">", "trailer", "_", "size", ";", "<nl>", "}", "<nl>", "static", "void", "dissect", "_", "user", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "guint", "<nl>", "<nl>", "void", "proto", "_", "reg", "_", "handoff", "_", "user", "_", "encap", "(", "void", ")", "<nl>", "{", "<nl>", "-", "int", "i", "=", "0", ";", "<nl>", "+", "int", "i", ";", "<nl>", "static", "dissector", "_", "handle", "_", "t", "data", "_", "handle", ";", "<nl>", "<nl>", "data", "_", "handle", "=", "find", "_", "dissector", "(", "\"", "data", "\"", ")", ";", "<nl>", "<nl>", "-", "do", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "16", ";", "i", "+", "+", ")", "{", "<nl>", "encaps", "[", "i", "]", ".", "handle", "=", "find", "_", "dissector", "(", "encaps", "[", "i", "]", ".", "abbr", ")", ";", "<nl>", "dissector", "_", "add", "(", "\"", "wtap", "_", "encap", "\"", ",", "WTAP", "_", "ENCAP", "_", "USER0", "+", "i", ",", "encaps", "[", "i", "]", ".", "handle", ")", ";", "<nl>", "<nl>", "void", "proto", "_", "reg", "_", "handoff", "_", "user", "_", "encap", "(", "void", ")", "<nl>", "}", "<nl>", "<nl>", "encaps", "[", "i", "]", ".", "encap", "_", "dissector", "=", "encap", "_", "dissectors", "[", "encaps", "[", "i", "]", ".", "encap", "]", ";", "<nl>", "-", "<nl>", "-", "i", "+", "+", ";", "<nl>", "-", "}", "while", "(", "i", "<", "16", ")", ";", "<nl>", "-", "<nl>", "+", "}", "<nl>", "}", "<nl>", "<nl>", "void", "proto", "_", "register", "_", "user", "_", "encap", "(", "void", ")", "<nl>"], "docstring_tokens": ["the", "trailer", "s", "offset", "and", "len", "were", "not", "ok"]}
{"code_tokens": ["dissect", "_", "q931", "_", "pdu", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "offset", "+", "=", "call", "_", "ref", "_", "len", ";", "<nl>", "}", "<nl>", "message", "_", "type", "=", "tvb", "_", "get", "_", "guint8", "(", "tvb", ",", "offset", ")", ";", "<nl>", "-", "if", "(", "have", "_", "valid", "_", "q931", "_", "pi", ")", "{", "<nl>", "+", "if", "(", "have", "_", "valid", "_", "q931", "_", "pi", "&", "&", "q931", "_", "pi", ")", "{", "<nl>", "q931", "_", "pi", "-", ">", "message", "_", "type", "=", "message", "_", "type", ";", "<nl>", "}", "<nl>", "col", "_", "add", "_", "str", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "get", "_", "message", "_", "name", "(", "prot", "_", "discr", ",", "message", "_", "type", ")", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "Dereference", "of", "null", "pointer", "found", "by", "Clang", "analyzer"]}
{"code_tokens": ["#", "include", "<", "epan", "/", "packet", ".", "h", ">", "<nl>", "#", "include", "<", "epan", "/", "conversation", ".", "h", ">", "<nl>", "#", "include", "<", "epan", "/", "prefs", ".", "h", ">", "<nl>", "-", "#", "include", "<", "epan", "/", "emem", ".", "h", ">", "<nl>", "#", "include", "<", "epan", "/", "strutil", ".", "h", ">", "<nl>", "+", "#", "include", "<", "epan", "/", "wmem", "/", "wmem", ".", "h", ">", "<nl>", "<nl>", "#", "include", "\"", "packet", "-", "rdt", ".", "h", "\"", "<nl>", "<nl>", "void", "rdt", "_", "add", "_", "address", "(", "packet", "_", "info", "*", "pinfo", ",", "<nl>", "if", "(", "!", "p", "_", "conv", "_", "data", ")", "<nl>", "{", "<nl>", "/", "*", "Create", "conversation", "data", "*", "/", "<nl>", "-", "p", "_", "conv", "_", "data", "=", "se", "_", "new", "(", "struct", "_", "rdt", "_", "conversation", "_", "info", ")", ";", "<nl>", "+", "p", "_", "conv", "_", "data", "=", "wmem", "_", "new", "(", "wmem", "_", "file", "_", "scope", "(", ")", ",", "struct", "_", "rdt", "_", "conversation", "_", "info", ")", ";", "<nl>", "conversation", "_", "add", "_", "proto", "_", "data", "(", "p", "_", "conv", ",", "proto", "_", "rdt", ",", "p", "_", "conv", "_", "data", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "show", "_", "setup", "_", "info", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ")", "<nl>", "if", "(", "p", "_", "conv", "_", "data", ")", "<nl>", "{", "<nl>", "/", "*", "Save", "this", "conversation", "info", "into", "packet", "info", "*", "/", "<nl>", "-", "p", "_", "conv", "_", "packet", "_", "data", "=", "se", "_", "new", "(", "struct", "_", "rdt", "_", "conversation", "_", "info", ")", ";", "<nl>", "+", "p", "_", "conv", "_", "packet", "_", "data", "=", "wmem", "_", "new", "(", "wmem", "_", "file", "_", "scope", "(", ")", ",", "struct", "_", "rdt", "_", "conversation", "_", "info", ")", ";", "<nl>", "g", "_", "strlcpy", "(", "p", "_", "conv", "_", "packet", "_", "data", "-", ">", "method", ",", "p", "_", "conv", "_", "data", "-", ">", "method", ",", "MAX", "_", "RDT", "_", "SETUP", "_", "METHOD", "_", "SIZE", ")", ";", "<nl>", "p", "_", "conv", "_", "packet", "_", "data", "-", ">", "frame", "_", "number", "=", "p", "_", "conv", "_", "data", "-", ">", "frame", "_", "number", ";", "<nl>", "p", "_", "conv", "_", "packet", "_", "data", "-", ">", "feature", "_", "level", "=", "p", "_", "conv", "_", "data", "-", ">", "feature", "_", "level", ";", "<nl>"], "docstring_tokens": ["emem", "wmem"]}
{"code_tokens": ["static", "oid", "_", "info", "_", "t", "*", "add", "_", "oid", "(", "const", "char", "*", "name", ",", "oid", "_", "kind", "_", "t", "kind", ",", "const", "oid", "_", "value", "_", "ty", "<nl>", "if", "(", "!", "g", "_", "str", "_", "equal", "(", "n", "-", ">", "name", ",", "name", ")", ")", "{", "<nl>", "D", "(", "2", ",", "(", "\"", "Renaming", "Oid", "from", ":", "%", "s", "-", ">", "%", "s", ",", "this", "means", "the", "same", "oid", "is", "registered", "more", "than", "once", "\"", ",", "n", "-", ">", "name", ",", "name", ")", ")", ";", "<nl>", "}", "<nl>", "-", "/", "*", "XXX", "-", "Don", "'", "t", "free", "n", "-", ">", "name", "here", ".", "It", "may", "be", "part", "of", "an", "hf", "_", "register", "_", "info", "<nl>", "-", "*", "struct", "that", "has", "been", "appended", "to", "the", "hfa", "GArray", ".", "*", "/", "<nl>", "+", "/", "*", "There", "used", "to", "be", "a", "comment", "here", "that", "claimed", "we", "couldn", "'", "t", "free", "<nl>", "+", "*", "n", "-", ">", "name", "since", "it", "may", "be", "part", "of", "an", "hf", "_", "register", "_", "info", "struct", "<nl>", "+", "*", "that", "has", "been", "appended", "to", "the", "hfa", "GArray", ".", "I", "think", "that", "comment", "<nl>", "+", "*", "was", "wrong", ",", "because", "we", "only", "ever", "create", "oid", "_", "info", "_", "t", "'", "s", "in", "this", "<nl>", "+", "*", "function", ",", "and", "we", "are", "always", "careful", "here", "to", "g", "_", "strdup", "the", "name", ".", "<nl>", "+", "*", "All", "that", "to", "justify", "freeing", "n", "-", ">", "name", "in", "the", "next", "line", ",", "since", "<nl>", "+", "*", "doing", "so", "fixes", "some", "memory", "leaks", ".", "*", "/", "<nl>", "+", "g", "_", "free", "(", "n", "-", ">", "name", ")", ";", "<nl>", "}", "<nl>", "<nl>", "n", "-", ">", "name", "=", "g", "_", "strdup", "(", "name", ")", ";", "<nl>"], "docstring_tokens": ["Do", "free", "overwritten", "names", "when", "registering", "oids", "There", "was", "a", "comment", "claiming"]}
{"code_tokens": ["dissect", "_", "gryphon", "_", "message", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "/", "*", "<nl>", "*", "Indicate", "what", "kind", "of", "message", "this", "is", ".", "<nl>", "*", "/", "<nl>", "-", "col", "_", "set", "_", "str", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "val", "_", "to", "_", "str", "(", "frmtyp", ",", "frame", "_", "type", ",", "\"", "-", "Invalid", "-", "\"", ")", ")", ";", "<nl>", "+", "col", "_", "set", "_", "str", "(", "pinfo", "-", ">", "cinfo", ",", "COL", "_", "INFO", ",", "val", "_", "to", "_", "str", "_", "const", "(", "frmtyp", ",", "frame", "_", "type", ",", "\"", "-", "Invalid", "-", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "tree", "=", "=", "NULL", ")", "<nl>"], "docstring_tokens": ["Gryphon", "do", "not", "use", "col_set_str", "with", "non", "constant", "strings"]}
{"code_tokens": ["tvb", "_", "get", "_", "ephemeral", "_", "unicode", "_", "stringz", "(", "tvbuff", "_", "t", "*", "tvb", ",", "const", "gint", "offset", ",", "gint", "*", "length", "<nl>", "<nl>", "size", "=", "tvb", "_", "unicode", "_", "strsize", "(", "tvb", ",", "offset", ")", ";", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "size", ";", "i", "+", "=", "2", ")", "{", "/", "*", "XXX", "-", "make", "<", "=", "?", "?", "?", "*", "/", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "size", ";", "i", "+", "=", "2", ")", "{", "<nl>", "<nl>", "if", "(", "encoding", "=", "=", "ENC", "_", "BIG", "_", "ENDIAN", ")", "<nl>", "uchar", "=", "tvb", "_", "get", "_", "ntohs", "(", "tvb", ",", "offset", "+", "i", ")", ";", "<nl>", "else", "<nl>", "uchar", "=", "tvb", "_", "get", "_", "letohs", "(", "tvb", ",", "offset", "+", "i", ")", ";", "<nl>", "<nl>", "-", "/", "*", "Calculate", "how", "much", "space", "is", "needed", "to", "store", "UTF", "-", "16", "character", "in", "UTF", "-", "8", "*", "/", "<nl>", "+", "/", "*", "Calculate", "how", "much", "space", "is", "needed", "to", "store", "UTF", "-", "16", "character", "<nl>", "+", "*", "in", "UTF", "-", "8", "*", "/", "<nl>", "tmpbuf", "_", "len", "=", "g", "_", "unichar", "_", "to", "_", "utf8", "(", "uchar", ",", "NULL", ")", ";", "<nl>", "<nl>", "-", "tmpbuf", "=", "g", "_", "malloc", "(", "tmpbuf", "_", "len", "+", "1", ")", ";", "/", "*", "+", "1", "to", "make", "room", "for", "null", "terminator", "*", "/", "<nl>", "+", "tmpbuf", "=", "g", "_", "malloc", "(", "tmpbuf", "_", "len", "+", "1", ")", ";", "/", "*", "+", "1", "to", "make", "room", "for", "null", "<nl>", "+", "*", "terminator", "*", "/", "<nl>", "<nl>", "g", "_", "unichar", "_", "to", "_", "utf8", "(", "uchar", ",", "tmpbuf", ")", ";", "<nl>", "<nl>", "-", "/", "*", "NULL", "terminate", "the", "tmpbuf", "so", "ep", "_", "strbuf", "_", "append", "knows", "where", "to", "stop", "*", "/", "<nl>", "+", "/", "*", "NULL", "terminate", "the", "tmpbuf", "so", "ep", "_", "strbuf", "_", "append", "knows", "where", "<nl>", "+", "*", "to", "stop", "*", "/", "<nl>", "tmpbuf", "[", "tmpbuf", "_", "len", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "<nl>", "ep", "_", "strbuf", "_", "append", "(", "strbuf", ",", "tmpbuf", ")", ";", "<nl>"], "docstring_tokens": ["Remove", "comment", "to", "myself", "that", "I", "forgot", "to", "remove", "before", "commiting", "r35253"]}
{"code_tokens": ["static", "void", "*", "mqtt", "_", "message", "_", "decode", "_", "copy", "_", "cb", "(", "void", "*", "dest", ",", "const", "void", "*", "orig", ",", "size", "_", "t", "le", "<nl>", "const", "mqtt", "_", "message", "_", "decode", "_", "t", "*", "o", "=", "(", "const", "mqtt", "_", "message", "_", "decode", "_", "t", "*", ")", "orig", ";", "<nl>", "mqtt", "_", "message", "_", "decode", "_", "t", "*", "d", "=", "(", "mqtt", "_", "message", "_", "decode", "_", "t", "*", ")", "dest", ";", "<nl>", "<nl>", "+", "d", "-", ">", "match", "_", "criteria", "=", "o", "-", ">", "match", "_", "criteria", ";", "<nl>", "d", "-", ">", "topic", "_", "pattern", "=", "g", "_", "strdup", "(", "o", "-", ">", "topic", "_", "pattern", ")", ";", "<nl>", "d", "-", ">", "payload", "_", "proto", "_", "name", "=", "g", "_", "strdup", "(", "o", "-", ">", "payload", "_", "proto", "_", "name", ")", ";", "<nl>"], "docstring_tokens": ["mqtt", "Copy", "UAT", "match_criteria", "value"]}
{"code_tokens": ["static", "const", "value", "_", "string", "sflow", "_", "245", "_", "ipv4", "_", "precedence", "_", "types", "[", "]", "=", "{", "<nl>", "{", "SFLOW", "_", "245", "_", "IPV4", "_", "PRECEDENCE", "_", "CRITIC", "_", "ECP", ",", "\"", "CRITIC", "/", "ECP", "\"", "}", ",", "<nl>", "{", "SFLOW", "_", "245", "_", "IPV4", "_", "PRECEDENCE", "_", "INTERNETWORK", "_", "CONTROL", ",", "\"", "Internetwork", "Control", "\"", "}", ",", "<nl>", "{", "SFLOW", "_", "245", "_", "IPV4", "_", "PRECEDENCE", "_", "NETWORK", "_", "CONTROL", ",", "\"", "Network", "Control", "\"", "}", ",", "<nl>", "+", "{", "0", ",", "NULL", "}", "<nl>", "}", ";", "<nl>", "<nl>", "/", "*", "sFlow", "v5", "flow", "record", "formats", "*", "/", "<nl>", "dissect", "_", "sflow", "_", "5", "_", "extended", "_", "mpls", "_", "lvp", "_", "fec", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "tree", ",", "gint", "offs", "<nl>", "guint32", "length", ";", "<nl>", "<nl>", "length", "=", "tvb", "_", "get", "_", "ntohl", "(", "tvb", ",", "offset", ")", ";", "<nl>", "-", "proto", "_", "tree", "_", "add", "_", "text", "(", "tree", ",", "tvb", ",", "offset", ",", "4", ",", "\"", "MPLS", "FEC", "Address", "Prex", "Length", ":", "%", "u", "bytes", "\"", ",", "length", ")", ";", "<nl>", "+", "proto", "_", "tree", "_", "add", "_", "text", "(", "tree", ",", "tvb", ",", "offset", ",", "4", ",", "\"", "MPLS", "FEC", "Address", "Prefix", "Length", ":", "%", "u", "bytes", "\"", ",", "length", ")", ";", "<nl>", "offset", "+", "=", "4", ";", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Terminate", "a", "value_string", "and", "get", "rid", "of", "a", "non", "ASCII", "character"]}
{"code_tokens": ["static", "void", "toolbar", "_", "append", "_", "separator", "(", "GtkWidget", "*", "toolbar", ")", "{", "<nl>", "<nl>", "<nl>", "#", "define", "toolbar", "_", "icon", "(", "new", "_", "icon", ",", "window", ",", "xpm", ")", "{", "\\", "<nl>", "-", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "xpm", ")", ";", "\\", "<nl>", "+", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "(", "gchar", "*", "*", ")", "xpm", ")", ";", "\\", "<nl>", "new", "_", "icon", "=", "gtk", "_", "pixmap", "_", "new", "(", "icon", ",", "mask", ")", ";", "\\", "<nl>", "}", "<nl>", "static", "void", "toolbar", "_", "append", "_", "separator", "(", "GtkWidget", "*", "toolbar", ")", "{", "<nl>", "<nl>", "<nl>", "#", "define", "toolbar", "_", "icon", "(", "new", "_", "icon", ",", "window", ",", "xpm", ")", "{", "\\", "<nl>", "-", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "xpm", ")", ";", "\\", "<nl>", "+", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "(", "gchar", "*", "*", ")", "xpm", ")", ";", "\\", "<nl>", "new", "_", "icon", "=", "gtk", "_", "pixmap", "_", "new", "(", "icon", ",", "mask", ")", ";", "\\", "<nl>", "}", "<nl>", "<nl>", "tree", "_", "view", "_", "new", "(", "GtkTreeModel", "*", "model", ")", "<nl>", "<nl>", "#", "if", "GTK", "_", "MAJOR", "_", "VERSION", "<", "2", "<nl>", "GtkWidget", "*", "<nl>", "-", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "gchar", "*", "titles", "[", "]", ")", "<nl>", "+", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "const", "gchar", "*", "titles", "[", "]", ")", "<nl>", "{", "<nl>", "GtkWidget", "*", "tree", ";", "<nl>", "static", "void", "toolbar", "_", "append", "_", "separator", "(", "GtkWidget", "*", "toolbar", ")", "{", "<nl>", "<nl>", "<nl>", "#", "define", "toolbar", "_", "icon", "(", "new", "_", "icon", ",", "window", ",", "xpm", ")", "{", "\\", "<nl>", "-", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "xpm", ")", ";", "\\", "<nl>", "+", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "(", "gchar", "*", "*", ")", "xpm", ")", ";", "\\", "<nl>", "new", "_", "icon", "=", "gtk", "_", "pixmap", "_", "new", "(", "icon", ",", "mask", ")", ";", "\\", "<nl>", "}", "<nl>", "<nl>", "tree", "_", "view", "_", "new", "(", "GtkTreeModel", "*", "model", ")", "<nl>", "<nl>", "#", "if", "GTK", "_", "MAJOR", "_", "VERSION", "<", "2", "<nl>", "GtkWidget", "*", "<nl>", "-", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "gchar", "*", "titles", "[", "]", ")", "<nl>", "+", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "const", "gchar", "*", "titles", "[", "]", ")", "<nl>", "{", "<nl>", "GtkWidget", "*", "tree", ";", "<nl>", "<nl>", "static", "void", "graph", "_", "destroy", "(", "struct", "graph", "*", "g", ")", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "g", "-", ">", "pixmap", "[", "1", "]", ")", ";", "<nl>", "g", "_", "free", "(", "g", "-", ">", "x", "_", "axis", ")", ";", "<nl>", "g", "_", "free", "(", "g", "-", ">", "y", "_", "axis", ")", ";", "<nl>", "-", "g", "_", "free", "(", "g", "-", ">", "title", ")", ";", "<nl>", "+", "g", "_", "free", "(", "(", "gpointer", ")", "(", "g", "-", ">", "title", ")", ")", ";", "<nl>", "graph", "_", "segment", "_", "list", "_", "free", "(", "g", ")", ";", "<nl>", "graph", "_", "element", "_", "lists", "_", "free", "(", "g", ")", ";", "<nl>", "#", "if", "0", "<nl>", "static", "void", "axis", "_", "destroy", "(", "struct", "axis", "*", "axis", ")", "<nl>", "{", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "axis", "-", ">", "pixmap", "[", "0", "]", ")", ";", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "axis", "-", ">", "pixmap", "[", "1", "]", ")", ";", "<nl>", "-", "g", "_", "free", "(", "axis", "-", ">", "label", ")", ";", "<nl>", "+", "g", "_", "free", "(", "(", "gpointer", ")", "(", "axis", "-", ">", "label", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "axis", "_", "display", "(", "struct", "axis", "*", "axis", ")", "mmm", "gtk", "/", "ui", "_", "util", ".", "h", "<nl>", "static", "void", "toolbar", "_", "append", "_", "separator", "(", "GtkWidget", "*", "toolbar", ")", "{", "<nl>", "<nl>", "<nl>", "#", "define", "toolbar", "_", "icon", "(", "new", "_", "icon", ",", "window", ",", "xpm", ")", "{", "\\", "<nl>", "-", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "xpm", ")", ";", "\\", "<nl>", "+", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "(", "gchar", "*", "*", ")", "xpm", ")", ";", "\\", "<nl>", "new", "_", "icon", "=", "gtk", "_", "pixmap", "_", "new", "(", "icon", ",", "mask", ")", ";", "\\", "<nl>", "}", "<nl>", "<nl>", "tree", "_", "view", "_", "new", "(", "GtkTreeModel", "*", "model", ")", "<nl>", "<nl>", "#", "if", "GTK", "_", "MAJOR", "_", "VERSION", "<", "2", "<nl>", "GtkWidget", "*", "<nl>", "-", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "gchar", "*", "titles", "[", "]", ")", "<nl>", "+", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "const", "gchar", "*", "titles", "[", "]", ")", "<nl>", "{", "<nl>", "GtkWidget", "*", "tree", ";", "<nl>", "<nl>", "static", "void", "graph", "_", "destroy", "(", "struct", "graph", "*", "g", ")", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "g", "-", ">", "pixmap", "[", "1", "]", ")", ";", "<nl>", "g", "_", "free", "(", "g", "-", ">", "x", "_", "axis", ")", ";", "<nl>", "g", "_", "free", "(", "g", "-", ">", "y", "_", "axis", ")", ";", "<nl>", "-", "g", "_", "free", "(", "g", "-", ">", "title", ")", ";", "<nl>", "+", "g", "_", "free", "(", "(", "gpointer", ")", "(", "g", "-", ">", "title", ")", ")", ";", "<nl>", "graph", "_", "segment", "_", "list", "_", "free", "(", "g", ")", ";", "<nl>", "graph", "_", "element", "_", "lists", "_", "free", "(", "g", ")", ";", "<nl>", "#", "if", "0", "<nl>", "static", "void", "axis", "_", "destroy", "(", "struct", "axis", "*", "axis", ")", "<nl>", "{", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "axis", "-", ">", "pixmap", "[", "0", "]", ")", ";", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "axis", "-", ">", "pixmap", "[", "1", "]", ")", ";", "<nl>", "-", "g", "_", "free", "(", "axis", "-", ">", "label", ")", ";", "<nl>", "+", "g", "_", "free", "(", "(", "gpointer", ")", "(", "axis", "-", ">", "label", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "axis", "_", "display", "(", "struct", "axis", "*", "axis", ")", "<nl>", "extern", "GtkWidget", "*", "ctree", "_", "new", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ")", ";", "<nl>", "*", "@", "return", "the", "newly", "created", "GtkCTree", "<nl>", "*", "/", "<nl>", "extern", "GtkWidget", "*", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "<nl>", "-", "gchar", "*", "titles", "[", "]", ")", ";", "<nl>", "+", "const", "gchar", "*", "titles", "[", "]", ")", ";", "<nl>", "#", "else", "<nl>", "/", "*", "*", "Create", "a", "GtkTreeView", ",", "give", "it", "the", "right", "styles", ",", "and", "remember", "it", ".", "<nl>", "*", "mmm", "gtk", "/", "simple", "_", "dialog", ".", "c", "<nl>", "static", "void", "toolbar", "_", "append", "_", "separator", "(", "GtkWidget", "*", "toolbar", ")", "{", "<nl>", "<nl>", "<nl>", "#", "define", "toolbar", "_", "icon", "(", "new", "_", "icon", ",", "window", ",", "xpm", ")", "{", "\\", "<nl>", "-", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "xpm", ")", ";", "\\", "<nl>", "+", "icon", "=", "gdk", "_", "pixmap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "window", "-", ">", "window", ",", "&", "mask", ",", "&", "window", "-", ">", "style", "-", ">", "white", ",", "(", "gchar", "*", "*", ")", "xpm", ")", ";", "\\", "<nl>", "new", "_", "icon", "=", "gtk", "_", "pixmap", "_", "new", "(", "icon", ",", "mask", ")", ";", "\\", "<nl>", "}", "<nl>", "<nl>", "tree", "_", "view", "_", "new", "(", "GtkTreeModel", "*", "model", ")", "<nl>", "<nl>", "#", "if", "GTK", "_", "MAJOR", "_", "VERSION", "<", "2", "<nl>", "GtkWidget", "*", "<nl>", "-", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "gchar", "*", "titles", "[", "]", ")", "<nl>", "+", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "const", "gchar", "*", "titles", "[", "]", ")", "<nl>", "{", "<nl>", "GtkWidget", "*", "tree", ";", "<nl>", "<nl>", "static", "void", "graph", "_", "destroy", "(", "struct", "graph", "*", "g", ")", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "g", "-", ">", "pixmap", "[", "1", "]", ")", ";", "<nl>", "g", "_", "free", "(", "g", "-", ">", "x", "_", "axis", ")", ";", "<nl>", "g", "_", "free", "(", "g", "-", ">", "y", "_", "axis", ")", ";", "<nl>", "-", "g", "_", "free", "(", "g", "-", ">", "title", ")", ";", "<nl>", "+", "g", "_", "free", "(", "(", "gpointer", ")", "(", "g", "-", ">", "title", ")", ")", ";", "<nl>", "graph", "_", "segment", "_", "list", "_", "free", "(", "g", ")", ";", "<nl>", "graph", "_", "element", "_", "lists", "_", "free", "(", "g", ")", ";", "<nl>", "#", "if", "0", "<nl>", "static", "void", "axis", "_", "destroy", "(", "struct", "axis", "*", "axis", ")", "<nl>", "{", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "axis", "-", ">", "pixmap", "[", "0", "]", ")", ";", "<nl>", "gdk", "_", "pixmap", "_", "unref", "(", "axis", "-", ">", "pixmap", "[", "1", "]", ")", ";", "<nl>", "-", "g", "_", "free", "(", "axis", "-", ">", "label", ")", ";", "<nl>", "+", "g", "_", "free", "(", "(", "gpointer", ")", "(", "axis", "-", ">", "label", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "void", "axis", "_", "display", "(", "struct", "axis", "*", "axis", ")", "<nl>", "extern", "GtkWidget", "*", "ctree", "_", "new", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ")", ";", "<nl>", "*", "@", "return", "the", "newly", "created", "GtkCTree", "<nl>", "*", "/", "<nl>", "extern", "GtkWidget", "*", "ctree", "_", "new", "_", "with", "_", "titles", "(", "gint", "columns", ",", "gint", "tree", "_", "column", ",", "<nl>", "-", "gchar", "*", "titles", "[", "]", ")", ";", "<nl>", "+", "const", "gchar", "*", "titles", "[", "]", ")", ";", "<nl>", "#", "else", "<nl>", "/", "*", "*", "Create", "a", "GtkTreeView", ",", "give", "it", "the", "right", "styles", ",", "and", "remember", "it", ".", "<nl>", "*", "<nl>", "display", "_", "simple", "_", "dialog", "(", "gint", "type", ",", "gint", "btn", "_", "mask", ",", "char", "*", "message", ")", "<nl>", "GdkBitmap", "*", "mask", ";", "<nl>", "GtkStyle", "*", "style", ";", "<nl>", "GdkColormap", "*", "cmap", ";", "<nl>", "-", "gchar", "*", "*", "icon", ";", "<nl>", "+", "const", "gchar", "*", "*", "icon", ";", "<nl>", "<nl>", "/", "*", "Main", "window", "*", "/", "<nl>", "switch", "(", "type", ")", "{", "<nl>", "display", "_", "simple", "_", "dialog", "(", "gint", "type", ",", "gint", "btn", "_", "mask", ",", "char", "*", "message", ")", "<nl>", "style", "=", "gtk", "_", "widget", "_", "get", "_", "style", "(", "win", ")", ";", "<nl>", "cmap", "=", "gdk", "_", "colormap", "_", "get", "_", "system", "(", ")", ";", "<nl>", "pixmap", "=", "gdk", "_", "pixmap", "_", "colormap", "_", "create", "_", "from", "_", "xpm", "_", "d", "(", "NULL", ",", "cmap", ",", "&", "mask", ",", "<nl>", "-", "&", "style", "-", ">", "bg", "[", "GTK", "_", "STATE", "_", "NORMAL", "]", ",", "icon", ")", ";", "<nl>", "+", "&", "style", "-", ">", "bg", "[", "GTK", "_", "STATE", "_", "NORMAL", "]", ",", "(", "gchar", "*", "*", ")", "icon", ")", ";", "<nl>", "type", "_", "pm", "=", "gtk", "_", "pixmap", "_", "new", "(", "pixmap", ",", "mask", ")", ";", "<nl>", "gtk", "_", "misc", "_", "set", "_", "alignment", "(", "GTK", "_", "MISC", "(", "type", "_", "pm", ")", ",", "0", ".", "5", ",", "0", ".", "0", ")", ";", "<nl>", "gtk", "_", "container", "_", "add", "(", "GTK", "_", "CONTAINER", "(", "top", "_", "hb", ")", ",", "type", "_", "pm", ")", ";", "<nl>"], "docstring_tokens": ["fix", "some", "MSVC", "const", "warnings"]}
{"code_tokens": ["next", "_", "attribute", ":", "<nl>", "g", "_", "ptr", "_", "array", "_", "free", "(", "new", "-", ">", "element", "_", "names", ",", "TRUE", ")", ";", "<nl>", "<nl>", "g", "_", "hash", "_", "table", "_", "insert", "(", "root", "_", "element", "-", ">", "elements", ",", "new", "-", ">", "name", ",", "new", ")", ";", "<nl>", "-", "<nl>", "-", "g", "_", "free", "(", "curr", "_", "name", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["do", "not", "free", "the", "element", "name", "as", "its", "been", "passed", "to", "the", "hf", "array"]}
{"code_tokens": ["WirelessFrame", ":", ":", "WirelessFrame", "(", "QWidget", "*", "parent", ")", ":", "<nl>", "<nl>", "WirelessFrame", ":", ":", "~", "WirelessFrame", "(", ")", "<nl>", "{", "<nl>", "+", "ws80211", "_", "free", "_", "interfaces", "(", "interfaces", "_", ")", ";", "<nl>", "delete", "ui", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Qt", "Fix", "leaked", "interfaces", "array", "in", "Wireless", "frame"]}
{"code_tokens": ["guint", "oid", "_", "string2subid", "(", "wmem", "_", "allocator", "_", "t", "*", "scope", ",", "const", "char", "*", "str", ",", "guint32", "*", "*", "subid", "<nl>", "subid", "+", "=", "*", "r", "-", "'", "0", "'", ";", "<nl>", "<nl>", "if", "(", "subids", ">", "=", "subids", "_", "overflow", "|", "|", "subid", ">", "0xffffffff", ")", "{", "<nl>", "+", "wmem", "_", "free", "(", "scope", ",", "*", "subids", "_", "p", ")", ";", "<nl>", "*", "subids", "_", "p", "=", "NULL", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["oids", "c", "fix", "a", "memory", "leak", "in", "oid_string2subid"]}
{"code_tokens": ["dissect", "_", "qnet6", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "dat", "<nl>", "/", "*", "<nl>", "*", "data", "after", "header", "<nl>", "*", "/", "<nl>", "-", "if", "(", "cklen", "!", "=", "0", ")", "<nl>", "+", "if", "(", "cklen", ">", "0", ")", "<nl>", "{", "<nl>", "crc", "=", "crc32", "_", "mpeg2", "_", "seed", "(", "tvb", "_", "get", "_", "ptr", "(", "tvb", ",", "36", "+", "2", ",", "cklen", ")", ",", "cklen", ",", "~", "crc", ")", ";", "<nl>", "crc", "=", "~", "crc", ";", "<nl>"], "docstring_tokens": ["qnet6", "don", "t", "calculate", "crc", "if", "length", "is", "negative"]}
{"code_tokens": ["dissect", "_", "attribute", "_", "value", "_", "pairs", "(", "proto", "_", "tree", "*", "tree", ",", "packet", "_", "info", "*", "pinfo", ",", "tvbuff", "_", "t", "*", "tv", "<nl>", "<nl>", "avp", "_", "vsa", "_", "len", "-", "=", "avp", "_", "vsa", "_", "header", "_", "len", ";", "<nl>", "<nl>", "+", "memset", "(", "&", "vendor", "_", "type", ",", "0", ",", "sizeof", "(", "vendor", "_", "type", ")", ")", ";", "<nl>", "if", "(", "avp", "_", "is", "_", "extended", ")", "{", "<nl>", "vendor", "_", "type", ".", "u8", "_", "code", "[", "0", "]", "=", "avp", "_", "type", ".", "u8", "_", "code", "[", "0", "]", ";", "<nl>", "vendor", "_", "type", ".", "u8", "_", "code", "[", "1", "]", "=", "avp", "_", "vsa", "_", "type", ";", "<nl>"], "docstring_tokens": ["RADIUS", "Initialize", "vendor", "attribute", "type", "to", "zero"]}
{"code_tokens": ["PRIVATE", "void", "tplt", "_", "xfer", "(", "const", "char", "*", "name", ",", "FILE", "*", "in", ",", "FILE", "*", "out", ",", "int", "*", "lineno", ")", "<nl>", "PRIVATE", "FILE", "*", "tplt", "_", "open", "(", "struct", "lemon", "*", "lemp", ")", "<nl>", "{", "<nl>", "static", "char", "templatename", "[", "]", "=", "\"", "lempar", ".", "c", "\"", ";", "<nl>", "-", "char", "*", "buf", ";", "<nl>", "FILE", "*", "in", ";", "<nl>", "char", "*", "tpltname", "=", "NULL", ";", "<nl>", "char", "*", "cp", ";", "<nl>", "<nl>", "if", "(", "lemp", "-", ">", "templatename", ")", "{", "<nl>", "tpltname", "=", "strdup", "(", "lemp", "-", ">", "templatename", ")", ";", "<nl>", "-", "}", "<nl>", "-", "else", "{", "<nl>", "+", "}", "else", "{", "<nl>", "+", "char", "*", "buf", ";", "<nl>", "+", "<nl>", "cp", "=", "strrchr", "(", "lemp", "-", ">", "filename", ",", "'", ".", "'", ")", ";", "<nl>", "buf", "=", "malloc", "(", "1000", ")", ";", "<nl>", "if", "(", "cp", ")", "{", "<nl>", "PRIVATE", "FILE", "*", "tplt", "_", "open", "(", "struct", "lemon", "*", "lemp", ")", "<nl>", "sprintf", "(", "buf", ",", "\"", "%", "s", ".", "lt", "\"", ",", "lemp", "-", ">", "filename", ")", ";", "<nl>", "}", "<nl>", "if", "(", "access", "(", "buf", ",", "004", ")", "=", "=", "0", ")", "{", "<nl>", "-", "tpltname", "=", "buf", ";", "<nl>", "+", "tpltname", "=", "strdup", "(", "buf", ")", ";", "<nl>", "}", "else", "if", "(", "access", "(", "templatename", ",", "004", ")", "=", "=", "0", ")", "{", "<nl>", "tpltname", "=", "strdup", "(", "templatename", ")", ";", "<nl>", "}", "else", "{", "<nl>", "tpltname", "=", "pathsearch", "(", "lemp", "-", ">", "argv0", ",", "templatename", ",", "0", ")", ";", "<nl>", "-", "free", "(", "buf", ")", ";", "<nl>", "}", "<nl>", "+", "free", "(", "buf", ")", ";", "<nl>", "}", "<nl>", "if", "(", "tpltname", "=", "=", "0", ")", "{", "<nl>", "fprintf", "(", "stderr", ",", "\"", "Can", "'", "t", "find", "the", "parser", "driver", "template", "file", "\\", "\"", "%", "s", "\\", "\"", ".", "\\", "n", "\"", ",", "<nl>"], "docstring_tokens": ["Memory", "leak", "in", "lemon", "c"]}
{"code_tokens": ["dissect", "_", "sip", "_", "common", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tr", "<nl>", "}", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "sub", "_", "value", "_", "offset", "=", "=", "linelen", ")", "<nl>", "+", "if", "(", "sub", "_", "value", "_", "offset", "=", "=", "value", "_", "len", ")", "<nl>", "{", "<nl>", "/", "*", "Didn", "'", "t", "find", "method", "name", "*", "/", "<nl>", "THROW", "(", "ReportedBoundsError", ")", ";", "<nl>", "dissect", "_", "sip", "_", "common", "(", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tr", "<nl>", "}", "<nl>", "<nl>", "/", "*", "Extract", "method", "name", "from", "value", "*", "/", "<nl>", "-", "strlen", "_", "to", "_", "copy", "=", "(", "int", ")", "linelen", "-", "sub", "_", "value", "_", "offset", ";", "<nl>", "+", "strlen", "_", "to", "_", "copy", "=", "(", "int", ")", "value", "_", "len", "-", "sub", "_", "value", "_", "offset", ";", "<nl>", "if", "(", "strlen", "_", "to", "_", "copy", ">", "MAX", "_", "CSEQ", "_", "METHOD", "_", "SIZE", ")", "{", "<nl>", "/", "*", "Note", "the", "error", "in", "the", "protocol", "tree", "*", "/", "<nl>", "if", "(", "hdr", "_", "tree", ")", "{", "<nl>"], "docstring_tokens": ["Fix", "wrong", "length", "of", "CSeq", "Method", "parameter"]}
{"code_tokens": ["static", "int", "<nl>", "dissect", "_", "rtpproxy", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", "_", "U", "_", ")", "<nl>", "{", "<nl>", "gboolean", "has", "_", "lf", "=", "FALSE", ";", "<nl>", "-", "guint", "offset", "=", "0", ";", "<nl>", "+", "gint", "offset", "=", "0", ";", "<nl>", "gint", "new", "_", "offset", "=", "0", ";", "<nl>", "guint", "tmp", ";", "<nl>", "-", "guint", "realsize", "=", "0", ";", "<nl>", "+", "gint", "realsize", "=", "0", ";", "<nl>", "guint8", "*", "rawstr", ";", "<nl>", "proto", "_", "item", "*", "ti", ";", "<nl>", "proto", "_", "tree", "*", "rtpproxy", "_", "tree", ";", "<nl>", "dissect", "_", "rtpproxy", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "void", "*", "data", "<nl>", "<nl>", "/", "*", "Extract", "parameters", "*", "/", "<nl>", "/", "*", "Parameters", "should", "be", "right", "after", "the", "command", "and", "before", "EOL", "(", "in", "case", "of", "Info", "command", ")", "or", "before", "whitespace", "*", "/", "<nl>", "-", "new", "_", "offset", "=", "(", "tmp", "=", "=", "'", "i", "'", "?", "(", "gint", ")", "(", "realsize", "-", "1", ">", "offset", "?", "offset", "+", "strlen", "(", "\"", "Ib", "\"", ")", ":", "offset", "+", "strlen", "(", "\"", "I", "\"", ")", ")", ":", "tvb", "_", "find", "_", "guint8", "(", "tvb", ",", "offset", ",", "-", "1", ",", "'", "'", ")", ")", ";", "<nl>", "+", "new", "_", "offset", "=", "(", "tmp", "=", "=", "'", "i", "'", "?", "(", "realsize", "-", "1", ">", "offset", "?", "offset", "+", "(", "gint", ")", "strlen", "(", "\"", "Ib", "\"", ")", ":", "offset", "+", "(", "gint", ")", "strlen", "(", "\"", "I", "\"", ")", ")", ":", "tvb", "_", "find", "_", "guint8", "(", "tvb", ",", "offset", ",", "-", "1", ",", "'", "'", ")", ")", ";", "<nl>", "<nl>", "-", "if", "(", "new", "_", "offset", "!", "=", "(", "gint", ")", "offset", "+", "1", ")", "{", "<nl>", "+", "if", "(", "new", "_", "offset", "!", "=", "offset", "+", "1", ")", "{", "<nl>", "rtpproxy", "_", "tree", "=", "proto", "_", "item", "_", "add", "_", "subtree", "(", "ti", ",", "ett", "_", "rtpproxy", "_", "command", ")", ";", "<nl>", "proto", "_", "tree", "_", "add", "_", "item", "(", "rtpproxy", "_", "tree", ",", "hf", "_", "rtpproxy", "_", "command", "_", "parameters", ",", "tvb", ",", "offset", "+", "1", ",", "new", "_", "offset", "-", "(", "offset", "+", "1", ")", ",", "ENC", "_", "ASCII", "|", "ENC", "_", "NA", ")", ";", "<nl>", "rtpproxy", "_", "tree", "=", "proto", "_", "item", "_", "get", "_", "parent", "(", "ti", ")", ";", "<nl>"], "docstring_tokens": ["Try", "to", "fix"]}
{"code_tokens": ["/", "*", "console", "_", "win32", ".", "c", "<nl>", "*", "Console", "support", "for", "MSWindows", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "console", "_", "win32", ".", "c", "45689", "2012", "-", "10", "-", "21", "15", ":", "04", ":", "50", "Z", "alagoutte", "$", "<nl>", "+", "*", "$", "Id", "$", "<nl>", "*", "<nl>", "*", "Wireshark", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "wireshark", ".", "org", ">", "<nl>", "*", "<nl>", "*", "/", "<nl>", "<nl>", "+", "#", "ifdef", "_", "WIN32", "<nl>", "+", "<nl>", "#", "include", "<", "string", ".", "h", ">", "<nl>", "#", "include", "<", "stdio", ".", "h", ">", "<nl>", "#", "include", "<", "stdlib", ".", "h", ">", "<nl>", "#", "include", "\"", "console", "_", "win32", ".", "h", "\"", "<nl>", "#", "include", "\"", ".", ".", "/", ".", ".", "/", "console", "_", "io", ".", "h", "\"", "<nl>", "<nl>", "-", "#", "ifdef", "_", "WIN32", "/", "*", "Needed", "for", "console", "I", "/", "O", "*", "/", "<nl>", "#", "if", "_", "MSC", "_", "VER", "<", "1500", "<nl>", "/", "*", "AttachConsole", "(", ")", "needs", "this", "#", "define", "!", "*", "/", "<nl>", "#", "define", "_", "WIN32", "_", "WINNT", "0x0501", "<nl>", "#", "include", "<", "conio", ".", "h", ">", "<nl>", "#", "include", "<", "windows", ".", "h", ">", "<nl>", "#", "include", "<", "tchar", ".", "h", ">", "<nl>", "-", "#", "endif", "<nl>", "<nl>", "-", "#", "ifdef", "_", "WIN32", "<nl>", "static", "gboolean", "has", "_", "console", ";", "/", "*", "TRUE", "if", "app", "has", "console", "*", "/", "<nl>", "static", "gboolean", "console", "_", "wait", ";", "/", "*", "\"", "Press", "any", "key", ".", ".", ".", "\"", "*", "/", "<nl>", "static", "gboolean", "stdin", "_", "capture", "=", "FALSE", ";", "/", "*", "Don", "'", "t", "grab", "stdin", "&", "stdout", "if", "TRUE", "*", "/", "<nl>", "-", "#", "endif", "<nl>", "<nl>", "-", "#", "ifdef", "_", "WIN32", "<nl>", "/", "*", "The", "code", "to", "create", "and", "desstroy", "console", "windows", "should", "not", "be", "necessary", ",", "<nl>", "at", "least", "as", "I", "read", "the", "GLib", "source", "code", ",", "as", "it", "looks", "as", "if", "GLib", "is", ",", "on", "<nl>", "Win32", ",", "*", "supposed", "*", "to", "create", "a", "console", "window", "into", "which", "to", "display", "its", "<nl>", "set", "_", "console", "_", "wait", "(", "gboolean", "set", "_", "console", "_", "wait", ")", "<nl>", "{", "<nl>", "console", "_", "wait", "=", "set", "_", "console", "_", "wait", ";", "<nl>", "}", "<nl>", "+", "<nl>", "gboolean", "<nl>", "get", "_", "console", "_", "wait", "(", "void", ")", "<nl>", "{", "<nl>", "get", "_", "stdin", "_", "capture", "(", "void", ")", "<nl>", "{", "<nl>", "return", "stdin", "_", "capture", ";", "<nl>", "}", "<nl>", "+", "<nl>", "#", "endif", "/", "*", "_", "WIN32", "*", "/", "<nl>", "<nl>", "/", "*", "<nl>"], "docstring_tokens": ["Simplify", "ifdef", "blocks"]}
{"code_tokens": ["dissect", "_", "smb", "_", "command", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "int", "offset", ",", "proto", "_", "tree", "*", "s", "<nl>", "smb", "_", "dissector", "[", "cmd", "]", ".", "request", ":", "smb", "_", "dissector", "[", "cmd", "]", ".", "response", ";", "<nl>", "<nl>", "offset", "=", "(", "*", "dissector", ")", "(", "tvb", ",", "pinfo", ",", "cmd", "_", "tree", ",", "offset", ",", "smb", "_", "tree", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "tvb", "_", "offset", "_", "exists", "(", "tvb", ",", "offset", "-", "1", ")", ")", "{", "<nl>", "+", "THROW", "(", "ReportedBoundsError", ")", ";", "<nl>", "+", "}", "<nl>", "proto", "_", "item", "_", "set", "_", "end", "(", "cmd", "_", "item", ",", "tvb", ",", "offset", ")", ";", "<nl>", "}", "<nl>", "return", "offset", ";", "<nl>"], "docstring_tokens": ["Validate", "offset", "before", "calling", "proto_item_set_end", "prevents", "potential", "Dissector", "Bug", "msg"]}
{"code_tokens": ["dissect", "_", "extended", "_", "capabilities", "_", "ie", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "<nl>", "expert", "_", "add", "_", "info", "_", "format", "(", "pinfo", ",", "ti", "_", "len", ",", "PI", "_", "MALFORMED", ",", "PI", "_", "ERROR", ",", "\"", "Tag", "length", "%", "u", "too", "short", ",", "must", "be", "greater", "than", "0", "\"", ",", "tag", "_", "len", ")", ";", "<nl>", "return", "offset", ";", "<nl>", "}", "<nl>", "-", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", "(", "%", "d", "octets", ")", "\"", ",", "tag", "_", "len", ")", ";", "<nl>", "+", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", "(", "%", "u", "octet", "%", "s", ")", "\"", ",", "tag", "_", "len", ",", "plurality", "(", "tag", "_", "len", ",", "\"", "\"", ",", "\"", "s", "\"", ")", ")", ";", "<nl>", "<nl>", "/", "*", "Extended", "Capability", "octet", "1", "*", "/", "<nl>", "ti", "_", "ex", "_", "cap", "=", "proto", "_", "tree", "_", "add", "_", "item", "(", "tree", ",", "hf", "_", "ieee80211", "_", "tag", "_", "extended", "_", "capabilities", ",", "tvb", ",", "offset", ",", "1", ",", "ENC", "_", "NA", ")", ";", "<nl>", "add", "_", "tagged", "_", "field", "(", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "tree", ",", "tvbuff", "_", "t", "*", "tvb", ",", "int", "offset", "<nl>", "\"", "(", "%", "s", ")", "code", "not", "implemented", ",", "Contact", "\"", "<nl>", "\"", "Wireshark", "developers", "if", "you", "want", "this", "supported", "\"", ",", "val", "_", "to", "_", "str", "_", "ext", "(", "tag", "_", "no", ",", "<nl>", "&", "tag", "_", "num", "_", "vals", "_", "ext", ",", "\"", "(", "%", "d", ")", "\"", ")", ")", ";", "<nl>", "-", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", ":", "Tag", "%", "u", "Len", "%", "u", "\"", ",", "tag", "_", "no", ",", "tag", "_", "len", ")", ";", "<nl>", "+", "proto", "_", "item", "_", "append", "_", "text", "(", "ti", ",", "\"", ":", "Undecoded", "\"", ")", ";", "<nl>", "break", ";", "<nl>", "}", "<nl>", "if", "(", "offset", "<", "tag", "_", "end", ")", "{", "<nl>"], "docstring_tokens": ["Properly", "pluralize", "octet", "for", "the", "Extended", "Capabilities", "tag"]}
{"code_tokens": ["static", "int", "FieldInfo", "_", "get", "_", "range", "(", "lua", "_", "State", "*", "L", ")", "{", "<nl>", "r", "-", ">", "tvb", "=", "ep", "_", "new", "(", "struct", "_", "wslua", "_", "tvb", ")", ";", "<nl>", "<nl>", "r", "-", ">", "tvb", "-", ">", "ws", "_", "tvb", "=", "fi", "-", ">", "ds", "_", "tvb", ";", "<nl>", "+", "r", "-", ">", "tvb", "-", ">", "expired", "=", "FALSE", ";", "<nl>", "+", "r", "-", ">", "tvb", "-", ">", "need", "_", "free", "=", "FALSE", ";", "<nl>", "r", "-", ">", "offset", "=", "fi", "-", ">", "start", ";", "<nl>", "r", "-", ">", "len", "=", "fi", "-", ">", "length", ";", "<nl>"], "docstring_tokens": ["Initialize", "all", "tvb", "values", "in", "FieldInfo_get_range"]}
{"code_tokens": ["static", "void", "dissect", "_", "mac", "_", "fdd", "_", "dch", "(", "tvbuff", "_", "t", "*", "tvb", ",", "packet", "_", "info", "*", "pinfo", ",", "proto", "_", "tree", "*", "t", "<nl>", "<nl>", "macinf", "=", "p", "_", "get", "_", "proto", "_", "data", "(", "pinfo", "-", ">", "fd", ",", "proto", "_", "umts", "_", "mac", ")", ";", "<nl>", "fpinf", "=", "p", "_", "get", "_", "proto", "_", "data", "(", "pinfo", "-", ">", "fd", ",", "proto", "_", "fp", ")", ";", "<nl>", "-", "pos", "=", "fpinf", "-", ">", "cur", "_", "tb", ";", "<nl>", "if", "(", "!", "macinf", "|", "|", "!", "fpinf", ")", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "text", "(", "dch", "_", "tree", ",", "tvb", ",", "0", ",", "-", "1", ",", "<nl>", "\"", "Cannot", "dissect", "MAC", "frame", "because", "per", "-", "frame", "info", "is", "missing", "\"", ")", ";", "<nl>", "return", ";", "<nl>", "}", "<nl>", "+", "pos", "=", "fpinf", "-", ">", "cur", "_", "tb", ";", "<nl>", "if", "(", "macinf", "-", ">", "ctmux", "[", "pos", "]", ")", "{", "<nl>", "proto", "_", "tree", "_", "add", "_", "bits", "_", "item", "(", "dch", "_", "tree", ",", "hf", "_", "mac", "_", "ct", ",", "tvb", ",", "0", ",", "4", ",", "FALSE", ")", ";", "<nl>", "bitoffs", "=", "4", ";", "<nl>"], "docstring_tokens": ["Move", "fpinf", "dereference", "after", "NULL", "check"]}
{"code_tokens": ["/", "*", "capture", ".", "c", "<nl>", "*", "Routines", "for", "packet", "capture", "windows", "<nl>", "*", "<nl>", "-", "*", "$", "Id", ":", "capture", ".", "c", ",", "v", "1", ".", "197", "2002", "/", "12", "/", "18", "06", ":", "44", ":", "50", "guy", "Exp", "$", "<nl>", "+", "*", "$", "Id", ":", "capture", ".", "c", ",", "v", "1", ".", "198", "2002", "/", "12", "/", "29", "01", ":", "19", ":", "08", "guy", "Exp", "$", "<nl>", "*", "<nl>", "*", "Ethereal", "-", "Network", "traffic", "analyzer", "<nl>", "*", "By", "Gerald", "Combs", "<", "gerald", "@", "ethereal", ".", "com", ">", "<nl>", "pipe", "_", "open", "_", "live", "(", "char", "*", "pipename", ",", "struct", "pcap", "_", "hdr", "*", "hdr", ",", "loop", "_", "data", "*", "ld", ",", "<nl>", "\"", "Unexpected", "error", "from", "select", ":", "%", "s", "\"", ",", "strerror", "(", "errno", ")", ")", ";", "<nl>", "goto", "error", ";", "<nl>", "}", "else", "if", "(", "sel", "_", "ret", ">", "0", ")", "{", "<nl>", "-", "b", "=", "read", "(", "fd", ",", "&", "magic", "+", "bytes", "_", "read", ",", "sizeof", "magic", "-", "bytes", "_", "read", ")", ";", "<nl>", "+", "b", "=", "read", "(", "fd", ",", "(", "(", "char", "*", ")", "&", "magic", ")", "+", "bytes", "_", "read", ",", "sizeof", "magic", "-", "bytes", "_", "read", ")", ";", "<nl>", "if", "(", "b", "<", "=", "0", ")", "{", "<nl>", "if", "(", "b", "=", "=", "0", ")", "<nl>", "snprintf", "(", "errmsg", ",", "errmsgl", ",", "\"", "End", "of", "file", "on", "pipe", "during", "open", "\"", ")", ";", "<nl>"], "docstring_tokens": ["magic", "is", "a", "guint32", "so", "adding", "a", "byte", "count", "to", "it", "points", "that"]}
{"code_tokens": ["*", "Based", "on", "PKT", "-", "SP", "-", "DQOS", "-", "I09", "-", "040402", "(", "April", "2", ",", "2004", ")", "<nl>", "*", "<nl>", "*", "PacketCable", "Multimedia", "Specification", "<nl>", "-", "*", "Based", "on", "PKT", "-", "SP", "-", "MM", "-", "I02", "-", "040", "930", "<nl>", "+", "*", "Based", "on", "PKT", "-", "SP", "-", "MM", "-", "I04", "-", "080522", "<nl>", "*", "<nl>", "*", "www", ".", "packetcable", ".", "com", "<nl>", "*", "<nl>", "cops", "_", "classifier", "(", "tvbuff", "_", "t", "*", "tvb", ",", "proto", "_", "tree", "*", "st", ",", "guint", "n", ",", "guint32", "offset", ",", "gboolean", "<nl>", "offset", "+", "=", "2", ";", "<nl>", "}", "<nl>", "<nl>", "-", "/", "*", "Priority", "*", "/", "<nl>", "-", "info", "_", "to", "_", "display", "(", "tvb", ",", "stt", ",", "offset", ",", "1", ",", "\"", "Priority", "\"", ",", "NULL", ",", "FMT", "_", "HEX", ",", "&", "hf", "_", "cops", "_", "pcmm", "_", "classifier", "_", "priority", ")", ";", "<nl>", "-", "offset", "+", "=", "1", ";", "<nl>", "-", "<nl>", "if", "(", "extended", ")", "{", "<nl>", "/", "*", "ClassifierID", "*", "/", "<nl>", "info", "_", "to", "_", "display", "(", "tvb", ",", "stt", ",", "offset", ",", "2", ",", "\"", "ClassifierID", "\"", ",", "NULL", ",", "FMT", "_", "HEX", ",", "&", "hf", "_", "cops", "_", "pcmm", "_", "classifier", "_", "classifier", "_", "id", ")", ";", "<nl>", "offset", "+", "=", "2", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "/", "*", "Priority", "*", "/", "<nl>", "+", "info", "_", "to", "_", "display", "(", "tvb", ",", "stt", ",", "offset", ",", "1", ",", "\"", "Priority", "\"", ",", "NULL", ",", "FMT", "_", "HEX", ",", "&", "hf", "_", "cops", "_", "pcmm", "_", "classifier", "_", "priority", ")", ";", "<nl>", "+", "offset", "+", "=", "1", ";", "<nl>", "<nl>", "+", "if", "(", "extended", ")", "{", "<nl>", "/", "*", "Activation", "State", "*", "/", "<nl>", "info", "_", "to", "_", "display", "(", "tvb", ",", "stt", ",", "offset", ",", "1", ",", "\"", "Activation", "State", "\"", ",", "NULL", ",", "FMT", "_", "HEX", ",", "&", "hf", "_", "cops", "_", "pcmm", "_", "classifier", "_", "activation", "_", "state", ")", ";", "<nl>", "offset", "+", "=", "1", ";", "<nl>"], "docstring_tokens": ["From", "Juli\u00c3", "n", "Lastiri", "via", "bug", "3656"]}
{"code_tokens": ["ws", "_", "pipe", "_", "wait", "_", "for", "_", "pipe", "(", "HANDLE", "*", "pipe", "_", "handles", ",", "int", "num", "_", "pipe", "_", "handles", ",", "HANDLE", "pid", ")", "<nl>", "int", "num", "_", "waiting", "_", "to", "_", "connect", "=", "0", ";", "<nl>", "int", "num", "_", "handles", "=", "num", "_", "pipe", "_", "handles", "+", "1", ";", "/", "/", "PID", "handle", "is", "also", "added", "to", "list", "of", "handles", ".", "<nl>", "<nl>", "+", "SecureZeroMemory", "(", "pipeinsts", ",", "sizeof", "(", "pipeinsts", ")", ")", ";", "<nl>", "+", "<nl>", "if", "(", "num", "_", "pipe", "_", "handles", "=", "=", "0", "|", "|", "num", "_", "pipe", "_", "handles", ">", "3", ")", "<nl>", "{", "<nl>", "g", "_", "log", "(", "LOG", "_", "DOMAIN", "_", "CAPTURE", ",", "G", "_", "LOG", "_", "LEVEL", "_", "DEBUG", ",", "\"", "Invalid", "number", "of", "pipes", "given", "as", "argument", ".", "\"", ")", ";", "<nl>"], "docstring_tokens": ["ws_pipe", "Zero", "an", "array"]}
{"code_tokens": ["wait", "_", "again", ":", "<nl>", "/", "*", "Determine", "if", "we", "received", "data", "for", "this", "request", "*", "/", "<nl>", "if", "(", "(", "wait", "_", "type", "=", "=", "MQTT", "_", "PACKET", "_", "TYPE", "_", "ANY", "|", "|", "<nl>", "wait", "_", "type", "=", "=", "packet", "_", "type", "|", "|", "<nl>", "-", "MqttIsPubRespPacket", "(", "packet", "_", "type", ")", "=", "=", "MqttIsPubRespPacket", "(", "wait", "_", "type", ")", ")", "&", "&", "<nl>", "-", "(", "wait", "_", "packet", "_", "id", "=", "=", "0", "|", "|", "wait", "_", "packet", "_", "id", "=", "=", "packet", "_", "id", ")", ")", "<nl>", "+", "(", "MqttIsPubRespPacket", "(", "packet", "_", "type", ")", "&", "&", "<nl>", "+", "MqttIsPubRespPacket", "(", "wait", "_", "type", ")", ")", ")", "&", "&", "<nl>", "+", "(", "wait", "_", "packet", "_", "id", "=", "=", "0", "|", "|", "wait", "_", "packet", "_", "id", "=", "=", "packet", "_", "id", ")", ")", "<nl>", "{", "<nl>", "use", "_", "packet", "_", "obj", "=", "packet", "_", "obj", ";", "<nl>", "waitMatchFound", "=", "1", ";", "<nl>"], "docstring_tokens": ["Fix", "wolfmqtt", "fuzzer", "Null", "dereference", "WRITE", "in", "MqttProps_Free"]}
{"code_tokens": ["static", "int", "ClientBenchmarkThroughput", "(", "WOLFSSL", "_", "CTX", "*", "ctx", ",", "char", "*", "host", ",", "word16", "port", ",", "<nl>", "<nl>", "/", "*", "Compare", "TX", "and", "RX", "buffers", "*", "/", "<nl>", "if", "(", "XMEMCMP", "(", "tx", "_", "buffer", ",", "rx", "_", "buffer", ",", "len", ")", "!", "=", "0", ")", "{", "<nl>", "+", "free", "(", "tx", "_", "buffer", ")", ";", "<nl>", "+", "tx", "_", "buffer", "=", "NULL", ";", "<nl>", "+", "free", "(", "rx", "_", "buffer", ")", ";", "<nl>", "+", "rx", "_", "buffer", "=", "NULL", ";", "<nl>", "err", "_", "sys", "(", "\"", "Compare", "TX", "and", "RX", "buffers", "failed", "\"", ")", ";", "<nl>", "}", "<nl>", "static", "int", "ClientBenchmarkThroughput", "(", "WOLFSSL", "_", "CTX", "*", "ctx", ",", "char", "*", "host", ",", "word16", "port", ",", "<nl>", "<nl>", "/", "*", "Compare", "TX", "and", "RX", "buffers", "*", "/", "<nl>", "if", "(", "XMEMCMP", "(", "tx", "_", "buffer", ",", "rx", "_", "buffer", ",", "len", ")", "!", "=", "0", ")", "{", "<nl>", "+", "free", "(", "tx", "_", "buffer", ")", ";", "<nl>", "+", "tx", "_", "buffer", "=", "NULL", ";", "<nl>", "+", "free", "(", "rx", "_", "buffer", ")", ";", "<nl>", "+", "rx", "_", "buffer", "=", "NULL", ";", "<nl>", "err", "_", "sys", "(", "\"", "Compare", "TX", "and", "RX", "buffers", "failed", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "static", "int", "ecc", "_", "test", "_", "curve", "(", "WC", "_", "RNG", "*", "rng", ",", "int", "keySize", ")", "<nl>", "<nl>", "#", "if", "!", "defined", "(", "WOLFSSL", "_", "ATECC508A", ")", "&", "&", "defined", "(", "HAVE", "_", "ECC", "_", "KEY", "_", "IMPORT", ")", "&", "&", "\\", "<nl>", "defined", "(", "HAVE", "_", "ECC", "_", "KEY", "_", "EXPORT", ")", "<nl>", "-", "static", "int", "ecc", "_", "point", "_", "test", "(", ")", "<nl>", "+", "static", "int", "ecc", "_", "point", "_", "test", "(", "void", ")", "<nl>", "{", "<nl>", "int", "ret", ";", "<nl>", "ecc", "_", "point", "*", "point", ";", "<nl>"], "docstring_tokens": ["Fixes", "for", "scan", "build"]}
{"code_tokens": ["enum", "wolfSSL", "_", "ErrorCodes", "{", "<nl>", "SANITY", "_", "MSG", "_", "E", "=", "-", "394", ",", "/", "*", "Sanity", "check", "on", "msg", "order", "error", "*", "/", "<nl>", "DUPLICATE", "_", "MSG", "_", "E", "=", "-", "395", ",", "/", "*", "Duplicate", "message", "error", "*", "/", "<nl>", "SNI", "_", "UNSUPPORTED", "=", "-", "396", ",", "/", "*", "SSL", "3", ".", "0", "does", "not", "support", "SNI", "*", "/", "<nl>", "+", "SOCKET", "_", "PEER", "_", "CLOSED", "_", "E", "=", "-", "397", ",", "/", "*", "Underlying", "transport", "closed", "*", "/", "<nl>", "<nl>", "/", "*", "add", "strings", "to", "SetErrorString", "!", "!", "!", "!", "!", "*", "/", "<nl>", "enum", "wolfSSL", "_", "ErrorCodes", "{", "<nl>", "SANITY", "_", "MSG", "_", "E", "=", "-", "394", ",", "/", "*", "Sanity", "check", "on", "msg", "order", "error", "*", "/", "<nl>", "DUPLICATE", "_", "MSG", "_", "E", "=", "-", "395", ",", "/", "*", "Duplicate", "message", "error", "*", "/", "<nl>", "SNI", "_", "UNSUPPORTED", "=", "-", "396", ",", "/", "*", "SSL", "3", ".", "0", "does", "not", "support", "SNI", "*", "/", "<nl>", "+", "SOCKET", "_", "PEER", "_", "CLOSED", "_", "E", "=", "-", "397", ",", "/", "*", "Underlying", "transport", "closed", "*", "/", "<nl>", "<nl>", "/", "*", "add", "strings", "to", "SetErrorString", "!", "!", "!", "!", "!", "*", "/", "<nl>", "<nl>", "startScr", ":", "<nl>", "if", "(", "ssl", "-", ">", "error", "=", "=", "SOCKET", "_", "ERROR", "_", "E", ")", "{", "<nl>", "if", "(", "ssl", "-", ">", "options", ".", "connReset", "|", "|", "ssl", "-", ">", "options", ".", "isClosed", ")", "{", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "Peer", "reset", "or", "closed", ",", "connection", "done", "\"", ")", ";", "<nl>", "+", "ssl", "-", ">", "error", "=", "SOCKET", "_", "PEER", "_", "CLOSED", "_", "E", ";", "<nl>", "+", "WOLFSSL", "_", "ERROR", "(", "ssl", "-", ">", "error", ")", ";", "<nl>", "return", "0", ";", "/", "*", "peer", "reset", "or", "closed", "*", "/", "<nl>", "}", "<nl>", "}", "<nl>", "const", "char", "*", "wolfSSL", "_", "ERR", "_", "reason", "_", "error", "_", "string", "(", "unsigned", "long", "e", ")", "<nl>", "case", "DUPLICATE", "_", "MSG", "_", "E", ":", "<nl>", "return", "\"", "Duplicate", "HandShake", "message", "Error", "\"", ";", "<nl>", "<nl>", "+", "case", "SNI", "_", "UNSUPPORTED", ":", "<nl>", "+", "return", "\"", "Protocol", "version", "does", "not", "support", "SNI", "Error", "\"", ";", "<nl>", "+", "<nl>", "+", "case", "SOCKET", "_", "PEER", "_", "CLOSED", "_", "E", ":", "<nl>", "+", "return", "\"", "Peer", "closed", "underlying", "transport", "Error", "\"", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "return", "\"", "unknown", "error", "number", "\"", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["add", "SOCKET_PEER_CLOSED_E", "vs", "general", "SOCKET_E", "for", "case", "where", "peer", "closes", "underlying", "transport", "w", "o", "close", "notify"]}
{"code_tokens": ["void", "AesCtrEncrypt", "(", "Aes", "*", "aes", ",", "byte", "*", "out", ",", "const", "byte", "*", "in", ",", "word32", "sz", ")", "<nl>", "word32", "blocks", "=", "sz", "/", "AES", "_", "BLOCK", "_", "SIZE", ";", "<nl>", "<nl>", "while", "(", "blocks", "-", "-", ")", "{", "<nl>", "-", "AesEncrypt", "(", "aes", ",", "aes", "-", ">", "reg", ",", "out", ")", ";", "<nl>", "+", "AesEncrypt", "(", "aes", ",", "(", "byte", "*", ")", "aes", "-", ">", "reg", ",", "out", ")", ";", "<nl>", "IncrementAesCounter", "(", "(", "byte", "*", ")", "aes", "-", ">", "reg", ")", ";", "<nl>", "xorbuf", "(", "out", ",", "in", ",", "AES", "_", "BLOCK", "_", "SIZE", ")", ";", "<nl>"], "docstring_tokens": ["fix", "aes", "ctr", "cast"]}
{"code_tokens": ["static", "int", "TLSX", "_", "KeyShare", "_", "Parse", "(", "WOLFSSL", "*", "ssl", ",", "byte", "*", "input", ",", "word16", "length", ",", "<nl>", "if", "(", "TLSX", "_", "KeyShare", "_", "Find", "(", "ssl", ",", "group", ")", ")", "<nl>", "return", "BAD", "_", "KEY", "_", "SHARE", "_", "DATA", ";", "<nl>", "<nl>", "+", "/", "*", "Clear", "out", "unusable", "key", "shares", ".", "*", "/", "<nl>", "+", "ret", "=", "TLSX", "_", "KeyShare", "_", "Empty", "(", "ssl", ")", ";", "<nl>", "+", "if", "(", "ret", "!", "=", "0", ")", "<nl>", "+", "return", "ret", ";", "<nl>", "+", "<nl>", "/", "*", "Try", "to", "use", "the", "server", "'", "s", "group", ".", "*", "/", "<nl>", "ret", "=", "TLSX", "_", "KeyShare", "_", "Use", "(", "ssl", ",", "group", ",", "0", ",", "NULL", ",", "NULL", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "Hello", "Retry", "Request", "parsing", "of", "new", "KeyShare", "choice"]}
{"code_tokens": ["int", "wc", "_", "AddErrorNode", "(", "int", "error", ",", "int", "line", ",", "char", "*", "buf", ",", "char", "*", "file", ")", "<nl>", "if", "(", "wc", "_", "errors", "!", "=", "NULL", ")", "{", "<nl>", "/", "*", "check", "for", "unexpected", "case", "before", "over", "writing", "wc", "_", "errors", "*", "/", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "ERROR", "in", "adding", "new", "node", "to", "logging", "queue", "!", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "/", "*", "In", "the", "event", "both", "wc", "_", "last", "_", "node", "and", "wc", "_", "errors", "are", "NULL", ",", "err", "<nl>", "+", "*", "goes", "unassigned", "to", "external", "wc", "_", "errors", ",", "wc", "_", "last", "_", "node", ".", "Free", "<nl>", "+", "*", "err", "in", "this", "instance", "since", "wc", "_", "ClearErrorNodes", "will", "not", "<nl>", "+", "*", "/", "<nl>", "+", "XFREE", "(", "err", ",", "wc", "_", "error", "_", "heap", ",", "DYNAMIC", "_", "TYPE", "_", "LOG", ")", ";", "<nl>", "}", "<nl>", "else", "{", "<nl>", "wc", "_", "errors", "=", "err", ";", "<nl>"], "docstring_tokens": ["Handle", "case", "where", "external", "unassigned"]}
{"code_tokens": ["void", "wolfSSL", "_", "X509", "_", "STORE", "_", "CTX", "_", "set", "_", "time", "(", "WOLFSSL", "_", "X509", "_", "STORE", "_", "CTX", "*", "ctx", ",", "<nl>", "{", "<nl>", "(", "void", ")", "flags", ";", "<nl>", "<nl>", "+", "if", "(", "ctx", "=", "=", "NULL", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "ctx", "-", ">", "param", "-", ">", "check", "_", "time", "=", "t", ";", "<nl>", "ctx", "-", ">", "param", "-", ">", "flags", "|", "=", "WOLFSSL", "_", "USE", "_", "CHECK", "_", "TIME", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["add", "NULL", "ctx", "argument", "check", "to", "wolfSSL_X509_STORE_CTX_set_time"]}
{"code_tokens": ["int", "DoSessionTicket", "(", "WOLFSSL", "*", "ssl", ",", "<nl>", "#", "ifdef", "WOLFSSL", "_", "DTLS", "<nl>", "Hmac", "cookieHmac", ";", "<nl>", "byte", "peerCookie", "[", "MAX", "_", "COOKIE", "_", "LEN", "]", ";", "<nl>", "-", "byte", "peerCookieSz", ";", "<nl>", "+", "byte", "peerCookieSz", "=", "0", ";", "<nl>", "byte", "cookieType", ";", "<nl>", "byte", "cookieSz", ";", "<nl>", "#", "endif", "/", "*", "WOLFSSL", "_", "DTLS", "*", "/", "<nl>"], "docstring_tokens": ["Fix", "GCC", "compiler", "warning"]}
{"code_tokens": ["static", "int", "BuildMessage", "(", "CYASSL", "*", "ssl", ",", "byte", "*", "output", ",", "int", "outSz", ",", "<nl>", "ivSz", "=", "blockSz", ";", "<nl>", "sz", "+", "=", "ivSz", ";", "<nl>", "<nl>", "+", "if", "(", "ivSz", ">", "(", "word32", ")", "sizeof", "(", "iv", ")", ")", "<nl>", "+", "return", "BUFFER", "_", "E", ";", "<nl>", "+", "<nl>", "ret", "=", "RNG", "_", "GenerateBlock", "(", "ssl", "-", ">", "rng", ",", "iv", ",", "ivSz", ")", ";", "<nl>", "if", "(", "ret", "!", "=", "0", ")", "<nl>", "return", "ret", ";", "<nl>"], "docstring_tokens": ["add", "sanity", "size", "check", "to", "iv", "fill", "in", "case", "block", "size", "is", "bad"]}
{"code_tokens": ["int", "AddCA", "(", "WOLFSSL", "_", "CERT", "_", "MANAGER", "*", "cm", ",", "DerBuffer", "*", "*", "pDer", ",", "int", "type", ",", "int", "verify", ")", "<nl>", "ret", "=", "MEMORY", "_", "ERROR", ";", "<nl>", "else", "{", "<nl>", "signer", "-", ">", "keyOID", "=", "cert", "-", ">", "keyOID", ";", "<nl>", "-", "signer", "-", ">", "publicKey", "=", "cert", "-", ">", "publicKey", ";", "<nl>", "-", "signer", "-", ">", "pubKeySize", "=", "cert", "-", ">", "pubKeySize", ";", "<nl>", "-", "signer", "-", ">", "nameLen", "=", "cert", "-", ">", "subjectCNLen", ";", "<nl>", "-", "signer", "-", ">", "name", "=", "cert", "-", ">", "subjectCN", ";", "<nl>", "+", "if", "(", "cert", "-", ">", "pubKeyStored", ")", "{", "<nl>", "+", "signer", "-", ">", "publicKey", "=", "cert", "-", ">", "publicKey", ";", "<nl>", "+", "signer", "-", ">", "pubKeySize", "=", "cert", "-", ">", "pubKeySize", ";", "<nl>", "+", "}", "<nl>", "+", "if", "(", "cert", "-", ">", "subjectCNStored", ")", "{", "<nl>", "+", "signer", "-", ">", "nameLen", "=", "cert", "-", ">", "subjectCNLen", ";", "<nl>", "+", "signer", "-", ">", "name", "=", "cert", "-", ">", "subjectCN", ";", "<nl>", "+", "}", "<nl>", "signer", "-", ">", "pathLength", "=", "cert", "-", ">", "pathLength", ";", "<nl>", "signer", "-", ">", "pathLengthSet", "=", "cert", "-", ">", "pathLengthSet", ";", "<nl>", "#", "ifndef", "IGNORE", "_", "NAME", "_", "CONSTRAINTS", "<nl>"], "docstring_tokens": ["fix", "signer", "memory", "takeover", "on", "malformed", "data"]}
{"code_tokens": ["void", "InitX509Name", "(", "WOLFSSL", "_", "X509", "_", "NAME", "*", "name", ",", "int", "dynamicFlag", ")", "<nl>", "#", "ifdef", "OPENSSL", "_", "EXTRA", "<nl>", "XMEMSET", "(", "&", "name", "-", ">", "fullName", ",", "0", ",", "sizeof", "(", "DecodedName", ")", ")", ";", "<nl>", "XMEMSET", "(", "&", "name", "-", ">", "cnEntry", ",", "0", ",", "sizeof", "(", "WOLFSSL", "_", "X509", "_", "NAME", "_", "ENTRY", ")", ")", ";", "<nl>", "+", "XMEMSET", "(", "&", "name", "-", ">", "extra", ",", "0", ",", "sizeof", "(", "name", "-", ">", "extra", ")", ")", ";", "<nl>", "name", "-", ">", "cnEntry", ".", "value", "=", "&", "(", "name", "-", ">", "cnEntry", ".", "data", ")", ";", "/", "*", "point", "to", "internal", "data", "*", "/", "<nl>", "name", "-", ">", "cnEntry", ".", "nid", "=", "ASN", "_", "COMMON", "_", "NAME", ";", "<nl>", "name", "-", ">", "x509", "=", "NULL", ";", "<nl>"], "docstring_tokens": ["initialize", "extra", "name", "entries", "to", "0"]}
{"code_tokens": ["int", "SendCertificateRequest", "(", "WOLFSSL", "*", "ssl", ")", "<nl>", "/", "*", "write", "to", "output", "*", "/", "<nl>", "output", "[", "i", "+", "+", "]", "=", "(", "byte", ")", "typeTotal", ";", "/", "*", "#", "of", "types", "*", "/", "<nl>", "#", "ifdef", "HAVE", "_", "ECC", "<nl>", "-", "if", "(", "ssl", "-", ">", "options", ".", "cipherSuite0", "=", "=", "ECC", "_", "BYTE", "&", "&", "<nl>", "+", "if", "(", "(", "ssl", "-", ">", "options", ".", "cipherSuite0", "=", "=", "ECC", "_", "BYTE", "|", "|", "<nl>", "+", "ssl", "-", ">", "options", ".", "cipherSuite0", "=", "=", "CHACHA", "_", "BYTE", ")", "&", "&", "<nl>", "ssl", "-", ">", "specs", ".", "sig", "_", "algo", "=", "=", "ecc", "_", "dsa", "_", "sa", "_", "algo", ")", "{", "<nl>", "output", "[", "i", "+", "+", "]", "=", "ecdsa", "_", "sign", ";", "<nl>", "}", "else", "<nl>"], "docstring_tokens": ["set", "correct", "cert", "type", "in", "CertificateRequest", "when", "using", "ChaCha", "suite", "with", "ECDSA"]}
{"code_tokens": ["int", "mp", "_", "init", "(", "mp", "_", "int", "*", "a", ")", "<nl>", "{", "<nl>", "int", "i", ";", "<nl>", "<nl>", "+", "/", "*", "Safeguard", "against", "passing", "in", "a", "null", "pointer", "*", "/", "<nl>", "+", "if", "(", "a", "=", "=", "NULL", ")", "<nl>", "+", "return", "MP", "_", "VAL", ";", "<nl>", "+", "<nl>", "/", "*", "allocate", "memory", "required", "and", "clear", "it", "*", "/", "<nl>", "a", "-", ">", "dp", "=", "OPT", "_", "CAST", "(", "mp", "_", "digit", ")", "XMALLOC", "(", "sizeof", "(", "mp", "_", "digit", ")", "*", "MP", "_", "PREC", ",", "0", ",", "<nl>", "DYNAMIC", "_", "TYPE", "_", "BIGINT", ")", ";", "<nl>", "mp", "_", "copy", "(", "mp", "_", "int", "*", "a", ",", "mp", "_", "int", "*", "b", ")", "<nl>", "{", "<nl>", "int", "res", ",", "n", ";", "<nl>", "<nl>", "+", "/", "*", "Safeguard", "against", "passing", "in", "a", "null", "pointer", "*", "/", "<nl>", "+", "if", "(", "a", "=", "=", "NULL", "|", "|", "b", "=", "=", "NULL", ")", "<nl>", "+", "return", "MP", "_", "VAL", ";", "<nl>", "+", "<nl>", "/", "*", "if", "dst", "=", "=", "src", "do", "nothing", "*", "/", "<nl>", "if", "(", "a", "=", "=", "b", ")", "{", "<nl>", "return", "MP", "_", "OKAY", ";", "<nl>"], "docstring_tokens": ["safeguards", "to", "avoid", "de", "referencing", "a", "null", "pointer"]}
{"code_tokens": ["#", "include", "\"", "mutex", ".", "h", "\"", "<nl>", "#", "endif", "<nl>", "<nl>", "-", "#", "define", "XMALLOC", "(", "s", ",", "h", ",", "type", ")", "(", "void", "*", ")", "_", "mem", "_", "alloc", "_", "system", "(", "(", "s", ")", ")", "<nl>", "-", "#", "define", "XFREE", "(", "p", ",", "h", ",", "type", ")", "_", "mem", "_", "free", "(", "p", ")", "<nl>", "+", "#", "define", "XMALLOC", "(", "s", ",", "h", ",", "t", ")", "(", "void", "*", ")", "_", "mem", "_", "alloc", "_", "system", "(", "(", "s", ")", ")", "<nl>", "+", "#", "define", "XFREE", "(", "p", ",", "h", ",", "t", ")", "{", "void", "*", "xp", "=", "(", "p", ")", ";", "if", "(", "(", "xp", ")", ")", "_", "mem", "_", "free", "(", "(", "xp", ")", ")", ";", "}", "<nl>", "/", "*", "Note", ":", "MQX", "has", "no", "realloc", ",", "using", "fastmath", "above", "*", "/", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["prevent", "XFREE", "from", "freeing", "NULL", "pointer", "under", "Freescale", "MQX"]}
{"code_tokens": ["int", "SetCipherList", "(", "WOLFSSL", "_", "CTX", "*", "ctx", ",", "Suites", "*", "suites", ",", "const", "char", "*", "list", ")", "<nl>", "}", "<nl>", "#", "endif", "/", "*", "WOLFSSL", "_", "DTLS", "*", "/", "<nl>", "<nl>", "+", "if", "(", "idx", "+", "1", ">", "=", "WOLFSSL", "_", "MAX", "_", "SUITE", "_", "SZ", ")", "{", "<nl>", "+", "WOLFSSL", "_", "MSG", "(", "\"", "WOLFSSL", "_", "MAX", "_", "SUITE", "_", "SZ", "set", "too", "low", "\"", ")", ";", "<nl>", "+", "return", "0", ";", "/", "*", "suites", "buffer", "not", "large", "enough", ",", "error", "out", "*", "/", "<nl>", "+", "}", "<nl>", "+", "<nl>", "suites", "-", ">", "suites", "[", "idx", "+", "+", "]", "=", "(", "XSTRSTR", "(", "name", ",", "\"", "TLS13", "\"", ")", ")", "?", "TLS13", "_", "BYTE", "<nl>", ":", "(", "XSTRSTR", "(", "name", ",", "\"", "CHACHA", "\"", ")", ")", "?", "CHACHA", "_", "BYTE", "<nl>", ":", "(", "XSTRSTR", "(", "name", ",", "\"", "QSH", "\"", ")", ")", "?", "QSH", "_", "BYTE", "<nl>"], "docstring_tokens": ["sanity", "check", "on", "index", "when", "adding", "cipher", "suites"]}
{"code_tokens": ["void", "echoclient", "_", "test", "(", "void", "*", "args", ")", "<nl>", "#", "if", "defined", "(", "CYASSL", "_", "DTLS", ")", "<nl>", "method", "=", "DTLSv1", "_", "client", "_", "method", "(", ")", ";", "<nl>", "#", "elif", "!", "defined", "(", "NO", "_", "TLS", ")", "<nl>", "-", "method", "=", "TLSv1", "_", "2", "_", "client", "_", "method", "(", ")", ";", "<nl>", "+", "method", "=", "CyaSSLv23", "_", "client", "_", "method", "(", ")", ";", "<nl>", "#", "else", "<nl>", "method", "=", "SSLv3", "_", "client", "_", "method", "(", ")", ";", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["use", "CyaSSLv23_client_method", "rather", "than", "TLSv1_1_client_method", "to", "parallel", "echoserver", "c"]}
{"code_tokens": ["long", "wolfSSL", "_", "set", "_", "options", "(", "WOLFSSL", "*", "ssl", ",", "long", "op", ")", "<nl>", "long", "wolfSSL", "_", "get", "_", "options", "(", "const", "WOLFSSL", "*", "ssl", ")", "<nl>", "{", "<nl>", "WOLFSSL", "_", "ENTER", "(", "\"", "wolfSSL", "_", "get", "_", "options", "\"", ")", ";", "<nl>", "-", "if", "(", "ssl", "=", "=", "NULL", ")", "return", "WOLFSSL", "_", "FAILURE", ";", "<nl>", "+", "if", "(", "ssl", "=", "=", "NULL", ")", "<nl>", "+", "return", "WOLFSSL", "_", "FAILURE", ";", "<nl>", "return", "ssl", "-", ">", "options", ".", "mask", ";", "<nl>", "}", "<nl>", "<nl>", "long", "wolfSSL", "_", "clear", "_", "options", "(", "WOLFSSL", "*", "ssl", ",", "long", "opt", ")", "<nl>", "{", "<nl>", "WOLFSSL", "_", "ENTER", "(", "\"", "SSL", "_", "clear", "_", "options", "\"", ")", ";", "<nl>", "+", "if", "(", "ssl", "=", "=", "NULL", ")", "<nl>", "+", "return", "WOLFSSL", "_", "FAILURE", ";", "<nl>", "ssl", "-", ">", "options", ".", "mask", "&", "=", "~", "opt", ";", "<nl>", "return", "ssl", "-", ">", "options", ".", "mask", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["add", "arg", "check"]}
{"code_tokens": ["int", "TLSX", "_", "ValidateEllipticCurves", "(", "CYASSL", "*", "ssl", ",", "byte", "first", ",", "byte", "second", ")", "{", "<nl>", "int", "sig", "=", "0", ";", "/", "*", "valitade", "signature", "*", "/", "<nl>", "int", "key", "=", "0", ";", "/", "*", "validate", "key", "*", "/", "<nl>", "<nl>", "+", "(", "void", ")", "oid", ";", "<nl>", "+", "(", "void", ")", "octets", ";", "<nl>", "+", "<nl>", "if", "(", "!", "extension", ")", "<nl>", "return", "1", ";", "/", "*", "no", "suite", "restriction", "*", "/", "<nl>"], "docstring_tokens": ["fix", "github", "issue", "127"]}
{"code_tokens": ["static", "int", "TLSX", "_", "SNI", "_", "Parse", "(", "WOLFSSL", "*", "ssl", ",", "byte", "*", "input", ",", "word16", "length", ",", "<nl>", "return", "BUFFER", "_", "ERROR", ";", "<nl>", "<nl>", "for", "(", "size", "=", "0", ";", "offset", "<", "length", ";", "offset", "+", "=", "size", ")", "{", "<nl>", "-", "SNI", "*", "sni", ";", "<nl>", "+", "SNI", "*", "sni", "=", "NULL", ";", "<nl>", "byte", "type", "=", "input", "[", "offset", "+", "+", "]", ";", "<nl>", "<nl>", "if", "(", "offset", "+", "OPAQUE16", "_", "LEN", ">", "length", ")", "<nl>"], "docstring_tokens": ["Fix", "uninitialized", "warning"]}
{"code_tokens": ["static", "int", "DoCertificate", "(", "CYASSL", "*", "ssl", ",", "byte", "*", "input", ",", "word32", "*", "inOutIdx", ",", "<nl>", "ret", "=", "KEYUSE", "_", "ENCIPHER", "_", "E", ";", "<nl>", "}", "<nl>", "if", "(", "(", "ssl", "-", ">", "specs", ".", "sig", "_", "algo", "=", "=", "rsa", "_", "sa", "_", "algo", "|", "|", "<nl>", "-", "ssl", "-", ">", "specs", ".", "sig", "_", "algo", "=", "=", "ecc", "_", "dsa", "_", "sa", "_", "algo", ")", "&", "&", "<nl>", "+", "(", "ssl", "-", ">", "specs", ".", "sig", "_", "algo", "=", "=", "ecc", "_", "dsa", "_", "sa", "_", "algo", "&", "&", "<nl>", "+", "!", "ssl", "-", ">", "specs", ".", "static", "_", "ecdh", ")", ")", "&", "&", "<nl>", "(", "dCert", ".", "extKeyUsage", "&", "KEYUSE", "_", "DIGITAL", "_", "SIG", ")", "=", "=", "0", ")", "{", "<nl>", "CYASSL", "_", "MSG", "(", "\"", "KeyUse", "Digital", "Sig", "not", "set", "\"", ")", ";", "<nl>", "ret", "=", "KEYUSE", "_", "SIGNATURE", "_", "E", ";", "<nl>"], "docstring_tokens": ["Fixed", "issue", "with", "ECDH", "ECDSA", "cipher", "suites", "rejecting", "certificates", "without"]}
{"code_tokens": ["static", "int", "DoHandShakeMsgType", "(", "CYASSL", "*", "ssl", ",", "byte", "*", "input", ",", "word32", "*", "inOutIdx", ",", "<nl>", "return", "OUT", "_", "OF", "_", "ORDER", "_", "E", ";", "<nl>", "}", "<nl>", "<nl>", "+", "if", "(", "ssl", "-", ">", "options", ".", "side", "=", "=", "CLIENT", "_", "END", "&", "&", "ssl", "-", ">", "options", ".", "dtls", "=", "=", "0", "&", "&", "<nl>", "+", "ssl", "-", ">", "options", ".", "serverState", "=", "=", "NULL", "_", "STATE", "&", "&", "type", "!", "=", "server", "_", "hello", ")", "{", "<nl>", "+", "CYASSL", "_", "MSG", "(", "\"", "First", "server", "message", "not", "server", "hello", "\"", ")", ";", "<nl>", "+", "return", "OUT", "_", "OF", "_", "ORDER", "_", "E", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "if", "(", "ssl", "-", ">", "options", ".", "side", "=", "=", "SERVER", "_", "END", "&", "&", "<nl>", "+", "ssl", "-", ">", "options", ".", "clientState", "=", "=", "NULL", "_", "STATE", "&", "&", "type", "!", "=", "client", "_", "hello", ")", "{", "<nl>", "+", "CYASSL", "_", "MSG", "(", "\"", "First", "client", "message", "not", "client", "hello", "\"", ")", ";", "<nl>", "+", "return", "OUT", "_", "OF", "_", "ORDER", "_", "E", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "<nl>", "switch", "(", "type", ")", "{", "<nl>", "<nl>", "case", "hello", "_", "request", ":", "<nl>"], "docstring_tokens": ["dtls", "may", "have", "different", "first", "handshake", "message"]}
{"code_tokens": ["int", "DoSessionTicket", "(", "WOLFSSL", "*", "ssl", ",", "const", "byte", "*", "input", ",", "word32", "*", "inOutIdx", ",", "<nl>", "{", "<nl>", "int", "i", ";", "<nl>", "<nl>", "-", "if", "(", "suites", "=", "=", "NULL", ")", "{", "<nl>", "-", "WOLFSSL", "_", "MSG", "(", "\"", "Suites", "pointer", "error", "\"", ")", ";", "<nl>", "+", "if", "(", "suites", "=", "=", "NULL", "|", "|", "suites", "-", ">", "suiteSz", "=", "=", "0", ")", "{", "<nl>", "+", "WOLFSSL", "_", "MSG", "(", "\"", "Suites", "pointer", "error", "or", "suiteSz", "0", "\"", ")", ";", "<nl>", "return", "SUITES", "_", "ERROR", ";", "<nl>", "}", "<nl>", "<nl>", "-", "for", "(", "i", "=", "0", ";", "i", "<", "suites", "-", ">", "suiteSz", ";", "i", "+", "=", "2", ")", "{", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "suites", "-", ">", "suiteSz", "-", "1", ";", "i", "+", "=", "SUITE", "_", "LEN", ")", "{", "<nl>", "if", "(", "suites", "-", ">", "suites", "[", "i", "]", "=", "=", "first", "&", "&", "<nl>", "suites", "-", ">", "suites", "[", "i", "+", "1", "]", "=", "=", "second", ")", "<nl>", "return", "i", ";", "<nl>"], "docstring_tokens": ["adjust", "suiteSz", "and", "use", "SUITE_LEN", "in", "FindSuite"]}
{"code_tokens": ["const", "char", "*", "wolfSSL", "_", "ERR", "_", "reason", "_", "error", "_", "string", "(", "unsigned", "long", "e", ")", "<nl>", "case", "MATCH", "_", "SUITE", "_", "ERROR", ":", "<nl>", "return", "\"", "can", "'", "t", "match", "cipher", "suite", "\"", ";", "<nl>", "<nl>", "+", "case", "COMPRESSION", "_", "ERROR", ":", "<nl>", "+", "return", "\"", "compression", "mismatch", "error", "\"", ";", "<nl>", "+", "<nl>", "case", "BUILD", "_", "MSG", "_", "ERROR", ":", "<nl>", "return", "\"", "build", "message", "failure", "\"", ";", "<nl>", "<nl>", "static", "void", "PickHashSigAlgo", "(", "WOLFSSL", "*", "ssl", ",", "<nl>", "ssl", "-", ">", "options", ".", "cipherSuite", "=", "cs1", ";", "<nl>", "compression", "=", "input", "[", "i", "+", "+", "]", ";", "<nl>", "<nl>", "+", "if", "(", "compression", "!", "=", "NO", "_", "COMPRESSION", "&", "&", "!", "ssl", "-", ">", "options", ".", "usingCompression", ")", "{", "<nl>", "+", "WOLFSSL", "_", "MSG", "(", "\"", "Server", "forcing", "compression", "w", "/", "o", "support", "\"", ")", ";", "<nl>", "+", "return", "COMPRESSION", "_", "ERROR", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "compression", "!", "=", "ZLIB", "_", "COMPRESSION", "&", "&", "ssl", "-", ">", "options", ".", "usingCompression", ")", "{", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "Server", "refused", "compression", ",", "turning", "off", "\"", ")", ";", "<nl>", "ssl", "-", ">", "options", ".", "usingCompression", "=", "0", ";", "/", "*", "turn", "off", "if", "server", "refused", "*", "/", "mmm", "wolfssl", "/", "error", "-", "ssl", ".", "h", "<nl>", "const", "char", "*", "wolfSSL", "_", "ERR", "_", "reason", "_", "error", "_", "string", "(", "unsigned", "long", "e", ")", "<nl>", "case", "MATCH", "_", "SUITE", "_", "ERROR", ":", "<nl>", "return", "\"", "can", "'", "t", "match", "cipher", "suite", "\"", ";", "<nl>", "<nl>", "+", "case", "COMPRESSION", "_", "ERROR", ":", "<nl>", "+", "return", "\"", "compression", "mismatch", "error", "\"", ";", "<nl>", "+", "<nl>", "case", "BUILD", "_", "MSG", "_", "ERROR", ":", "<nl>", "return", "\"", "build", "message", "failure", "\"", ";", "<nl>", "<nl>", "static", "void", "PickHashSigAlgo", "(", "WOLFSSL", "*", "ssl", ",", "<nl>", "ssl", "-", ">", "options", ".", "cipherSuite", "=", "cs1", ";", "<nl>", "compression", "=", "input", "[", "i", "+", "+", "]", ";", "<nl>", "<nl>", "+", "if", "(", "compression", "!", "=", "NO", "_", "COMPRESSION", "&", "&", "!", "ssl", "-", ">", "options", ".", "usingCompression", ")", "{", "<nl>", "+", "WOLFSSL", "_", "MSG", "(", "\"", "Server", "forcing", "compression", "w", "/", "o", "support", "\"", ")", ";", "<nl>", "+", "return", "COMPRESSION", "_", "ERROR", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "compression", "!", "=", "ZLIB", "_", "COMPRESSION", "&", "&", "ssl", "-", ">", "options", ".", "usingCompression", ")", "{", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "Server", "refused", "compression", ",", "turning", "off", "\"", ")", ";", "<nl>", "ssl", "-", ">", "options", ".", "usingCompression", "=", "0", ";", "/", "*", "turn", "off", "if", "server", "refused", "*", "/", "<nl>", "enum", "wolfSSL", "_", "ErrorCodes", "{", "<nl>", "<nl>", "/", "*", "begin", "negotiation", "parameter", "errors", "*", "/", "<nl>", "UNSUPPORTED", "_", "SUITE", "=", "-", "500", ",", "/", "*", "unsupported", "cipher", "suite", "*", "/", "<nl>", "-", "MATCH", "_", "SUITE", "_", "ERROR", "=", "-", "501", "/", "*", "can", "'", "t", "match", "cipher", "suite", "*", "/", "<nl>", "+", "MATCH", "_", "SUITE", "_", "ERROR", "=", "-", "501", ",", "/", "*", "can", "'", "t", "match", "cipher", "suite", "*", "/", "<nl>", "+", "COMPRESSION", "_", "ERROR", "=", "-", "502", "/", "*", "compression", "mismatch", "*", "/", "<nl>", "/", "*", "end", "negotiation", "parameter", "errors", "only", "10", "for", "now", "*", "/", "<nl>", "/", "*", "add", "strings", "to", "wolfSSL", "_", "ERR", "_", "reason", "_", "error", "_", "string", "in", "internal", ".", "c", "!", "!", "!", "!", "!", "*", "/", "<nl>"], "docstring_tokens": ["detect", "server", "forcing", "compression", "on", "client", "w", "o", "support"]}
{"code_tokens": ["int", "wolfSSL", "_", "EVP", "_", "MD", "_", "type", "(", "const", "WOLFSSL", "_", "EVP", "_", "MD", "*", "md", ")", "<nl>", "return", "WOLFSSL", "_", "FAILURE", ";", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "-", "<nl>", "+", "#", "ifdef", "SESSION", "_", "CERTS", "<nl>", "+", "ssl", "-", ">", "session", ".", "chain", ".", "count", "=", "0", ";", "<nl>", "+", "#", "endif", "<nl>", "#", "ifdef", "KEEP", "_", "PEER", "_", "CERT", "<nl>", "FreeX509", "(", "&", "ssl", "-", ">", "peerCert", ")", ";", "<nl>", "InitX509", "(", "&", "ssl", "-", ">", "peerCert", ",", "0", ",", "ssl", "-", ">", "heap", ")", ";", "<nl>"], "docstring_tokens": ["discard", "session", "chain", "in", "SSL_clear"]}
{"code_tokens": ["void", "bench", "_", "chacha", "(", "void", ")", "<nl>", "void", "bench", "_", "chacha20", "_", "poly1305", "_", "aead", "(", "void", ")", "<nl>", "{", "<nl>", "double", "start", ";", "<nl>", "-", "int", "ret", ",", "i", ",", "count", ";", "<nl>", "+", "int", "ret", "=", "0", ",", "i", ",", "count", ";", "<nl>", "<nl>", "byte", "authTag", "[", "CHACHA20", "_", "POLY1305", "_", "AEAD", "_", "AUTHTAG", "_", "SIZE", "]", ";", "<nl>", "XMEMSET", "(", "authTag", ",", "0", ",", "sizeof", "(", "authTag", ")", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "jenkins", "warning", "with", "possible", "uninitialized", "ret"]}
{"code_tokens": ["static", "int", "DecodePolicyOID", "(", "char", "*", "out", ",", "word32", "outSz", ",", "byte", "*", "in", ",", "word32", "inSz", ")", "<nl>", "#", "endif", "<nl>", "}", "<nl>", "idx", "+", "=", "policy", "_", "length", ";", "<nl>", "-", "}", "while", "(", "(", "int", ")", "idx", "<", "total", "_", "length", "&", "&", "cert", "-", ">", "extCertPoliciesNb", "<", "MAX", "_", "CERTPOL", "_", "NB", ")", ";", "<nl>", "+", "}", "while", "(", "(", "int", ")", "idx", "<", "total", "_", "length", "<nl>", "+", "#", "if", "defined", "(", "WOLFSSL", "_", "CERT", "_", "EXT", ")", "<nl>", "+", "&", "&", "cert", "-", ">", "extCertPoliciesNb", "<", "MAX", "_", "CERTPOL", "_", "NB", "<nl>", "+", "#", "endif", "<nl>", "+", ")", ";", "<nl>", "<nl>", "WOLFSSL", "_", "LEAVE", "(", "\"", "DecodeCertPolicy", "\"", ",", "0", ")", ";", "<nl>", "return", "0", ";", "<nl>"], "docstring_tokens": ["Fix", "the", "WOLFSSL_SEP", "enable", "sep", "build", "scenario", "where", "extCertPoliciesNb", "is", "not", "available"]}
{"code_tokens": ["static", "int", "ProcessServerHello", "(", "const", "byte", "*", "input", ",", "int", "*", "sslBytes", ",", "<nl>", "XMEMCPY", "(", "session", "-", ">", "sslServer", "-", ">", "arrays", ".", "sessionID", ",", "input", ",", "ID", "_", "LEN", ")", ";", "<nl>", "input", "+", "=", "b", ";", "<nl>", "*", "sslBytes", "-", "=", "b", ";", "<nl>", "+", "if", "(", "b", ")", "<nl>", "+", "session", "-", ">", "sslServer", "-", ">", "options", ".", "haveSessionId", "=", "1", ";", "<nl>", "<nl>", "(", "void", ")", "*", "input", "+", "+", ";", "/", "*", "eat", "first", "byte", ",", "always", "0", "*", "/", "<nl>", "b", "=", "*", "input", "+", "+", ";", "<nl>", "static", "int", "ProcessServerHello", "(", "const", "byte", "*", "input", ",", "int", "*", "sslBytes", ",", "<nl>", "session", "-", ">", "sslClient", "-", ">", "options", ".", "cipherSuite", "=", "b", ";", "<nl>", "*", "sslBytes", "-", "=", "SUITE", "_", "LEN", ";", "<nl>", "<nl>", "-", "if", "(", "XMEMCMP", "(", "session", "-", ">", "sslServer", "-", ">", "arrays", ".", "sessionID", ",", "<nl>", "-", "session", "-", ">", "sslClient", "-", ">", "arrays", ".", "sessionID", ",", "ID", "_", "LEN", ")", "=", "=", "0", ")", "{", "<nl>", "+", "if", "(", "session", "-", ">", "sslServer", "-", ">", "options", ".", "haveSessionId", "&", "&", "<nl>", "+", "XMEMCMP", "(", "session", "-", ">", "sslServer", "-", ">", "arrays", ".", "sessionID", ",", "<nl>", "+", "session", "-", ">", "sslClient", "-", ">", "arrays", ".", "sessionID", ",", "ID", "_", "LEN", ")", "=", "=", "0", ")", "{", "<nl>", "/", "*", "resuming", "*", "/", "<nl>", "SSL", "_", "SESSION", "*", "resume", "=", "GetSession", "(", "session", "-", ">", "sslServer", ",", "<nl>", "session", "-", ">", "sslServer", "-", ">", "arrays", ".", "masterSecret", ")", ";", "<nl>", "static", "int", "DoHandShake", "(", "const", "byte", "*", "input", ",", "int", "*", "sslBytes", ",", "<nl>", "ret", "=", "DoFinished", "(", "ssl", ",", "input", ",", "&", "inOutIdx", ",", "SNIFF", ")", ";", "<nl>", "<nl>", "if", "(", "ret", "=", "=", "0", "&", "&", "session", "-", ">", "flags", ".", "cached", "=", "=", "0", ")", "{", "<nl>", "+", "session", "-", ">", "sslServer", "-", ">", "options", ".", "haveSessionId", "=", "1", ";", "<nl>", "AddSession", "(", "session", "-", ">", "sslServer", ")", ";", "<nl>", "session", "-", ">", "flags", ".", "cached", "=", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fix", "sniffer", "resumption", "for", "new", "sessionId", "flag", "in", "2", "2", "0"]}
{"code_tokens": ["int", "SetCipherList", "(", "Suites", "*", "s", ",", "const", "char", "*", "list", ")", "<nl>", "byte", "b", ";", "<nl>", "byte", "compression", ";", "<nl>", "ProtocolVersion", "pv", ";", "<nl>", "-", "word16", "extSz", ";", "<nl>", "word32", "i", "=", "*", "inOutIdx", ";", "<nl>", "word32", "begin", "=", "i", ";", "<nl>"], "docstring_tokens": ["cleaned", "up", "lots", "o", "warnings", "build"]}
{"code_tokens": ["static", "int", "SetMyVersion", "(", "word32", "version", ",", "byte", "*", "output", ",", "int", "header", ")", "<nl>", "}", "<nl>", "<nl>", "<nl>", "+", "/", "*", "convert", "der", "buffer", "to", "pem", "into", "output", ",", "can", "'", "t", "do", "inplace", ",", "der", "and", "output", "<nl>", "+", "need", "to", "be", "different", "*", "/", "<nl>", "int", "DerToPem", "(", "const", "byte", "*", "der", ",", "word32", "derSz", ",", "byte", "*", "output", ",", "word32", "outSz", ",", "<nl>", "int", "type", ")", "<nl>", "{", "<nl>", "int", "DerToPem", "(", "const", "byte", "*", "der", ",", "word32", "derSz", ",", "byte", "*", "output", ",", "word32", "outSz", ",", "<nl>", "int", "err", ";", "<nl>", "int", "outLen", ";", "/", "*", "return", "length", "or", "error", "*", "/", "<nl>", "<nl>", "+", "if", "(", "der", "=", "=", "output", ")", "/", "*", "no", "in", "place", "conversion", "*", "/", "<nl>", "+", "return", "BAD", "_", "FUNC", "_", "ARG", ";", "<nl>", "+", "<nl>", "if", "(", "type", "=", "=", "CERT", "_", "TYPE", ")", "{", "<nl>", "XSTRNCPY", "(", "header", ",", "\"", "-", "-", "-", "-", "-", "BEGIN", "CERTIFICATE", "-", "-", "-", "-", "-", "\\", "n", "\"", ",", "sizeof", "(", "header", ")", ")", ";", "<nl>", "XSTRNCPY", "(", "footer", ",", "\"", "-", "-", "-", "-", "-", "END", "CERTIFICATE", "-", "-", "-", "-", "-", "\\", "n", "\"", ",", "sizeof", "(", "footer", ")", ")", ";", "<nl>"], "docstring_tokens": ["don", "t", "allow", "inplace", "DerToPem", "not", "supported"]}
{"code_tokens": ["WOLFSSL", "_", "API", "int", "wc", "_", "RsaPublicKeyDecodeRaw", "(", "const", "byte", "*", "n", ",", "word32", "nSz", ",", "<nl>", "#", "endif", "<nl>", "WOLFSSL", "_", "API", "int", "wc", "_", "RsaFlattenPublicKey", "(", "RsaKey", "*", ",", "byte", "*", ",", "word32", "*", ",", "byte", "*", ",", "<nl>", "word32", "*", ")", ";", "<nl>", "+", "WOLFSSL", "_", "API", "int", "wc", "_", "RsaSetRNG", "(", "RsaKey", "*", "key", ",", "WC", "_", "RNG", "*", "rng", ")", ";", "<nl>", "<nl>", "<nl>", "#", "if", "defined", "(", "WOLFSSL", "_", "CERT", "_", "GEN", ")", "|", "|", "defined", "(", "WOLFSSL", "_", "KEY", "_", "GEN", ")", "mmm", "wolfcrypt", "/", "user", "-", "crypto", "/", "src", "/", "rsa", ".", "c", "<nl>", "WOLFSSL", "_", "API", "int", "wc", "_", "RsaPublicKeyDecodeRaw", "(", "const", "byte", "*", "n", ",", "word32", "nSz", ",", "<nl>", "#", "endif", "<nl>", "WOLFSSL", "_", "API", "int", "wc", "_", "RsaFlattenPublicKey", "(", "RsaKey", "*", ",", "byte", "*", ",", "word32", "*", ",", "byte", "*", ",", "<nl>", "word32", "*", ")", ";", "<nl>", "+", "WOLFSSL", "_", "API", "int", "wc", "_", "RsaSetRNG", "(", "RsaKey", "*", "key", ",", "WC", "_", "RNG", "*", "rng", ")", ";", "<nl>", "<nl>", "<nl>", "#", "if", "defined", "(", "WOLFSSL", "_", "CERT", "_", "GEN", ")", "|", "|", "defined", "(", "WOLFSSL", "_", "KEY", "_", "GEN", ")", "<nl>", "int", "wc", "_", "RsaKeyToPublicDer", "(", "RsaKey", "*", "key", ",", "byte", "*", "output", ",", "word32", "inLen", ")", "<nl>", "<nl>", "#", "endif", "/", "*", "WOLFSSL", "_", "KEY", "_", "GEN", "*", "/", "<nl>", "<nl>", "+", "#", "ifdef", "WC", "_", "RSA", "_", "BLINDING", "<nl>", "+", "<nl>", "+", "int", "wc", "_", "RsaSetRNG", "(", "RsaKey", "*", "key", ",", "WC", "_", "RNG", "*", "rng", ")", "<nl>", "+", "{", "<nl>", "+", "if", "(", "key", "=", "=", "NULL", ")", "<nl>", "+", "return", "BAD", "_", "FUNC", "_", "ARG", ";", "<nl>", "+", "<nl>", "+", "(", "void", ")", "rng", ";", "<nl>", "+", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "+", "#", "endif", "/", "*", "WC", "_", "RSA", "_", "BLINDING", "*", "/", "<nl>", "+", "<nl>", "#", "endif", "/", "*", "NO", "_", "RSA", "*", "/", "<nl>"], "docstring_tokens": ["fix", "user_rsa", "with", "blinding", "API", "addition"]}
{"code_tokens": ["int", "wolfSSL", "_", "BN", "_", "hex2bn", "(", "WOLFSSL", "_", "BIGNUM", "*", "*", "bn", ",", "const", "char", "*", "str", ")", "<nl>", "#", "else", "<nl>", "byte", "decoded", "[", "1024", "]", ";", "<nl>", "#", "endif", "<nl>", "+", "int", "weOwn", "=", "0", ";", "<nl>", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "wolfSSL", "_", "BN", "_", "hex2bn", "\"", ")", ";", "<nl>", "<nl>", "int", "wolfSSL", "_", "BN", "_", "hex2bn", "(", "WOLFSSL", "_", "BIGNUM", "*", "*", "bn", ",", "const", "char", "*", "str", ")", "<nl>", "else", "if", "(", "bn", "=", "=", "NULL", ")", "<nl>", "ret", "=", "decSz", ";", "<nl>", "else", "{", "<nl>", "-", "if", "(", "*", "bn", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "*", "bn", "=", "=", "NULL", ")", "{", "<nl>", "*", "bn", "=", "wolfSSL", "_", "BN", "_", "new", "(", ")", ";", "<nl>", "+", "if", "(", "*", "bn", "!", "=", "NULL", ")", "{", "<nl>", "+", "weOwn", "=", "1", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "<nl>", "if", "(", "*", "bn", "=", "=", "NULL", ")", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "BN", "new", "failed", "\"", ")", ";", "<nl>", "else", "if", "(", "wolfSSL", "_", "BN", "_", "bin2bn", "(", "decoded", ",", "decSz", ",", "*", "bn", ")", "=", "=", "NULL", ")", "{", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "Bad", "bin2bn", "error", "\"", ")", ";", "<nl>", "-", "wolfSSL", "_", "BN", "_", "free", "(", "*", "bn", ")", ";", "/", "*", "Free", "new", "BN", "*", "/", "<nl>", "+", "if", "(", "weOwn", "=", "=", "1", ")", "{", "<nl>", "+", "wolfSSL", "_", "BN", "_", "free", "(", "*", "bn", ")", ";", "/", "*", "Free", "new", "BN", "*", "/", "<nl>", "+", "}", "<nl>", "}", "<nl>", "else", "<nl>", "ret", "=", "WOLFSSL", "_", "SUCCESS", ";", "<nl>"], "docstring_tokens": ["Update", "from", "review"]}
{"code_tokens": ["const", "char", "*", "wc", "_", "GetErrorString", "(", "int", "error", ")", "<nl>", "case", "ASN", "_", "COUNTRY", "_", "SIZE", "_", "E", ":", "<nl>", "return", "\"", "Country", "code", "size", "error", ",", "either", "too", "small", "or", "large", "\"", ";", "<nl>", "<nl>", "+", "case", "MISSING", "_", "RNG", "_", "E", ":", "<nl>", "+", "return", "\"", "RNG", "required", "but", "not", "provided", "\"", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "return", "\"", "unknown", "error", "number", "\"", ";", "<nl>", "const", "char", "*", "wc", "_", "GetErrorString", "(", "int", "error", ")", "<nl>", "case", "ASN", "_", "COUNTRY", "_", "SIZE", "_", "E", ":", "<nl>", "return", "\"", "Country", "code", "size", "error", ",", "either", "too", "small", "or", "large", "\"", ";", "<nl>", "<nl>", "+", "case", "MISSING", "_", "RNG", "_", "E", ":", "<nl>", "+", "return", "\"", "RNG", "required", "but", "not", "provided", "\"", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "return", "\"", "unknown", "error", "number", "\"", ";", "<nl>", "<nl>", "static", "int", "mp", "_", "rand", "(", "mp", "_", "int", "*", "a", ",", "int", "digits", ",", "WC", "_", "RNG", "*", "rng", ")", "<nl>", "int", "ret", ";", "<nl>", "mp", "_", "digit", "d", ";", "<nl>", "<nl>", "-", "if", "(", "a", "=", "=", "NULL", "|", "|", "rng", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "rng", "=", "=", "NULL", ")", "<nl>", "+", "return", "MISSING", "_", "RNG", "_", "E", ";", "<nl>", "+", "<nl>", "+", "if", "(", "a", "=", "=", "NULL", ")", "<nl>", "return", "BAD", "_", "FUNC", "_", "ARG", ";", "<nl>", "<nl>", "mp", "_", "zero", "(", "a", ")", ";", "mmm", "wolfssl", "/", "wolfcrypt", "/", "error", "-", "crypt", ".", "h", "<nl>", "const", "char", "*", "wc", "_", "GetErrorString", "(", "int", "error", ")", "<nl>", "case", "ASN", "_", "COUNTRY", "_", "SIZE", "_", "E", ":", "<nl>", "return", "\"", "Country", "code", "size", "error", ",", "either", "too", "small", "or", "large", "\"", ";", "<nl>", "<nl>", "+", "case", "MISSING", "_", "RNG", "_", "E", ":", "<nl>", "+", "return", "\"", "RNG", "required", "but", "not", "provided", "\"", ";", "<nl>", "+", "<nl>", "default", ":", "<nl>", "return", "\"", "unknown", "error", "number", "\"", ";", "<nl>", "<nl>", "static", "int", "mp", "_", "rand", "(", "mp", "_", "int", "*", "a", ",", "int", "digits", ",", "WC", "_", "RNG", "*", "rng", ")", "<nl>", "int", "ret", ";", "<nl>", "mp", "_", "digit", "d", ";", "<nl>", "<nl>", "-", "if", "(", "a", "=", "=", "NULL", "|", "|", "rng", "=", "=", "NULL", ")", "<nl>", "+", "if", "(", "rng", "=", "=", "NULL", ")", "<nl>", "+", "return", "MISSING", "_", "RNG", "_", "E", ";", "<nl>", "+", "<nl>", "+", "if", "(", "a", "=", "=", "NULL", ")", "<nl>", "return", "BAD", "_", "FUNC", "_", "ARG", ";", "<nl>", "<nl>", "mp", "_", "zero", "(", "a", ")", ";", "<nl>", "enum", "{", "<nl>", "<nl>", "WC", "_", "KEY", "_", "SIZE", "_", "E", "=", "-", "234", ",", "/", "*", "Key", "size", "error", ",", "either", "too", "small", "or", "large", "*", "/", "<nl>", "ASN", "_", "COUNTRY", "_", "SIZE", "_", "E", "=", "-", "235", ",", "/", "*", "ASN", "Cert", "Gen", ",", "invalid", "country", "code", "size", "*", "/", "<nl>", "+", "MISSING", "_", "RNG", "_", "E", "=", "-", "236", ",", "/", "*", "RNG", "required", "but", "not", "provided", "*", "/", "<nl>", "<nl>", "MIN", "_", "CODE", "_", "E", "=", "-", "300", "/", "*", "errors", "-", "101", "-", "-", "299", "*", "/", "<nl>"], "docstring_tokens": ["add", "unique", "RNG", "missing", "error"]}
{"code_tokens": ["int", "ParseCertRelative", "(", "DecodedCert", "*", "cert", ",", "int", "type", ",", "int", "verify", ",", "void", "*", "cm", ")", "<nl>", "}", "<nl>", "<nl>", "#", "ifdef", "HAVE", "_", "OCSP", "<nl>", "-", "/", "*", "trust", "for", "the", "lifetime", "of", "the", "responder", "'", "s", "cert", "*", "/", "<nl>", "-", "if", "(", "cert", "-", ">", "ocspNoCheckSet", "&", "&", "verify", "=", "=", "VERIFY", "_", "OCSP", ")", "<nl>", "-", "verify", "=", "NO", "_", "VERIFY", ";", "<nl>", "+", "if", "(", "verify", "=", "=", "VERIFY", "_", "OCSP", "_", "CERT", ")", "{", "<nl>", "+", "/", "*", "trust", "for", "the", "lifetime", "of", "the", "responder", "'", "s", "cert", "*", "/", "<nl>", "+", "if", "(", "cert", "-", ">", "ocspNoCheckSet", ")", "<nl>", "+", "verify", "=", "VERIFY", ";", "<nl>", "+", "else", "<nl>", "+", "verify", "=", "VERIFY", "_", "OCSP", ";", "<nl>", "+", "}", "<nl>", "#", "endif", "<nl>", "/", "*", "advance", "past", "extensions", "*", "/", "<nl>", "cert", "-", ">", "srcIdx", "=", "cert", "-", ">", "sigIndex", ";", "<nl>", "static", "int", "DecodeBasicOcspResponse", "(", "byte", "*", "source", ",", "word32", "*", "ioIndex", ",", "<nl>", "<nl>", "/", "*", "Don", "'", "t", "verify", "if", "we", "don", "'", "t", "have", "access", "to", "Cert", "Manager", ".", "*", "/", "<nl>", "ret", "=", "ParseCertRelative", "(", "&", "cert", ",", "CERT", "_", "TYPE", ",", "<nl>", "-", "noVerify", "?", "NO", "_", "VERIFY", ":", "VERIFY", "_", "OCSP", ",", "cm", ")", ";", "<nl>", "+", "noVerify", "?", "NO", "_", "VERIFY", ":", "VERIFY", "_", "OCSP", "_", "CERT", ",", "cm", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "\\", "tOCSP", "Responder", "certificate", "parsing", "failed", "\"", ")", ";", "<nl>", "FreeDecodedCert", "(", "&", "cert", ")", ";", "mmm", "wolfssl", "/", "wolfcrypt", "/", "asn", ".", "h", "<nl>", "int", "ParseCertRelative", "(", "DecodedCert", "*", "cert", ",", "int", "type", ",", "int", "verify", ",", "void", "*", "cm", ")", "<nl>", "}", "<nl>", "<nl>", "#", "ifdef", "HAVE", "_", "OCSP", "<nl>", "-", "/", "*", "trust", "for", "the", "lifetime", "of", "the", "responder", "'", "s", "cert", "*", "/", "<nl>", "-", "if", "(", "cert", "-", ">", "ocspNoCheckSet", "&", "&", "verify", "=", "=", "VERIFY", "_", "OCSP", ")", "<nl>", "-", "verify", "=", "NO", "_", "VERIFY", ";", "<nl>", "+", "if", "(", "verify", "=", "=", "VERIFY", "_", "OCSP", "_", "CERT", ")", "{", "<nl>", "+", "/", "*", "trust", "for", "the", "lifetime", "of", "the", "responder", "'", "s", "cert", "*", "/", "<nl>", "+", "if", "(", "cert", "-", ">", "ocspNoCheckSet", ")", "<nl>", "+", "verify", "=", "VERIFY", ";", "<nl>", "+", "else", "<nl>", "+", "verify", "=", "VERIFY", "_", "OCSP", ";", "<nl>", "+", "}", "<nl>", "#", "endif", "<nl>", "/", "*", "advance", "past", "extensions", "*", "/", "<nl>", "cert", "-", ">", "srcIdx", "=", "cert", "-", ">", "sigIndex", ";", "<nl>", "static", "int", "DecodeBasicOcspResponse", "(", "byte", "*", "source", ",", "word32", "*", "ioIndex", ",", "<nl>", "<nl>", "/", "*", "Don", "'", "t", "verify", "if", "we", "don", "'", "t", "have", "access", "to", "Cert", "Manager", ".", "*", "/", "<nl>", "ret", "=", "ParseCertRelative", "(", "&", "cert", ",", "CERT", "_", "TYPE", ",", "<nl>", "-", "noVerify", "?", "NO", "_", "VERIFY", ":", "VERIFY", "_", "OCSP", ",", "cm", ")", ";", "<nl>", "+", "noVerify", "?", "NO", "_", "VERIFY", ":", "VERIFY", "_", "OCSP", "_", "CERT", ",", "cm", ")", ";", "<nl>", "if", "(", "ret", "<", "0", ")", "{", "<nl>", "WOLFSSL", "_", "MSG", "(", "\"", "\\", "tOCSP", "Responder", "certificate", "parsing", "failed", "\"", ")", ";", "<nl>", "FreeDecodedCert", "(", "&", "cert", ")", ";", "<nl>", "enum", "VerifyType", "{", "<nl>", "VERIFY", "_", "OCSP", "=", "3", ",", "<nl>", "VERIFY", "_", "NAME", "=", "4", ",", "<nl>", "VERIFY", "_", "SKIP", "_", "DATE", "=", "5", ",", "<nl>", "+", "VERIFY", "_", "OCSP", "_", "CERT", "=", "6", ",", "<nl>", "}", ";", "<nl>", "<nl>", "#", "ifdef", "WOLFSSL", "_", "CERT", "_", "EXT", "<nl>"], "docstring_tokens": ["OCSP", "improve", "handling", "of", "OCSP", "no", "check", "extension"]}
{"code_tokens": ["void", "PickHashSigAlgo", "(", "WOLFSSL", "*", "ssl", ",", "const", "byte", "*", "hashSigAlgo", ",", "<nl>", "<nl>", "PickHashSigAlgo", "(", "ssl", ",", "input", "+", "*", "inOutIdx", ",", "len", ")", ";", "<nl>", "*", "inOutIdx", "+", "=", "len", ";", "<nl>", "+", "#", "ifdef", "WC", "_", "RSA", "_", "PSS", "<nl>", "+", "ssl", "-", ">", "pssAlgo", "=", "0", ";", "<nl>", "+", "if", "(", "ssl", "-", ">", "suites", "-", ">", "sigAlgo", "=", "=", "rsa", "_", "pss", "_", "sa", "_", "algo", ")", "<nl>", "+", "ssl", "-", ">", "pssAlgo", "|", "=", "1", "<", "<", "ssl", "-", ">", "suites", "-", ">", "hashAlgo", ";", "<nl>", "+", "#", "endif", "<nl>", "}", "<nl>", "<nl>", "/", "*", "authorities", "*", "/", "<nl>", "int", "SendCertificateVerify", "(", "WOLFSSL", "*", "ssl", ")", "<nl>", "if", "(", "ssl", "-", ">", "hsType", "=", "=", "DYNAMIC", "_", "TYPE", "_", "RSA", ")", "{", "<nl>", "#", "ifdef", "WC", "_", "RSA", "_", "PSS", "<nl>", "if", "(", "IsAtLeastTLSv1", "_", "2", "(", "ssl", ")", "&", "&", "<nl>", "-", "(", "ssl", "-", ">", "pssAlgo", "|", "(", "1", "<", "<", "ssl", "-", ">", "suites", "-", ">", "hashAlgo", ")", ")", ")", "{", "<nl>", "+", "(", "ssl", "-", ">", "pssAlgo", "&", "(", "1", "<", "<", "ssl", "-", ">", "suites", "-", ">", "hashAlgo", ")", ")", ")", "{", "<nl>", "args", "-", ">", "sigAlgo", "=", "rsa", "_", "pss", "_", "sa", "_", "algo", ";", "<nl>", "}", "<nl>", "elsemmm", "src", "/", "tls13", ".", "c", "<nl>", "void", "PickHashSigAlgo", "(", "WOLFSSL", "*", "ssl", ",", "const", "byte", "*", "hashSigAlgo", ",", "<nl>", "<nl>", "PickHashSigAlgo", "(", "ssl", ",", "input", "+", "*", "inOutIdx", ",", "len", ")", ";", "<nl>", "*", "inOutIdx", "+", "=", "len", ";", "<nl>", "+", "#", "ifdef", "WC", "_", "RSA", "_", "PSS", "<nl>", "+", "ssl", "-", ">", "pssAlgo", "=", "0", ";", "<nl>", "+", "if", "(", "ssl", "-", ">", "suites", "-", ">", "sigAlgo", "=", "=", "rsa", "_", "pss", "_", "sa", "_", "algo", ")", "<nl>", "+", "ssl", "-", ">", "pssAlgo", "|", "=", "1", "<", "<", "ssl", "-", ">", "suites", "-", ">", "hashAlgo", ";", "<nl>", "+", "#", "endif", "<nl>", "}", "<nl>", "<nl>", "/", "*", "authorities", "*", "/", "<nl>", "int", "SendCertificateVerify", "(", "WOLFSSL", "*", "ssl", ")", "<nl>", "if", "(", "ssl", "-", ">", "hsType", "=", "=", "DYNAMIC", "_", "TYPE", "_", "RSA", ")", "{", "<nl>", "#", "ifdef", "WC", "_", "RSA", "_", "PSS", "<nl>", "if", "(", "IsAtLeastTLSv1", "_", "2", "(", "ssl", ")", "&", "&", "<nl>", "-", "(", "ssl", "-", ">", "pssAlgo", "|", "(", "1", "<", "<", "ssl", "-", ">", "suites", "-", ">", "hashAlgo", ")", ")", ")", "{", "<nl>", "+", "(", "ssl", "-", ">", "pssAlgo", "&", "(", "1", "<", "<", "ssl", "-", ">", "suites", "-", ">", "hashAlgo", ")", ")", ")", "{", "<nl>", "args", "-", ">", "sigAlgo", "=", "rsa", "_", "pss", "_", "sa", "_", "algo", ";", "<nl>", "}", "<nl>", "else", "<nl>", "int", "SendTls13CertificateVerify", "(", "WOLFSSL", "*", "ssl", ")", "<nl>", "/", "*", "Add", "signature", "algorithm", ".", "*", "/", "<nl>", "if", "(", "ssl", "-", ">", "hsType", "=", "=", "DYNAMIC", "_", "TYPE", "_", "RSA", ")", "{", "<nl>", "#", "ifdef", "WC", "_", "RSA", "_", "PSS", "<nl>", "-", "if", "(", "ssl", "-", ">", "pssAlgo", "|", "(", "1", "<", "<", "ssl", "-", ">", "suites", "-", ">", "hashAlgo", ")", ")", "<nl>", "+", "if", "(", "ssl", "-", ">", "pssAlgo", "&", "(", "1", "<", "<", "ssl", "-", ">", "suites", "-", ">", "hashAlgo", ")", ")", "<nl>", "args", "-", ">", "sigAlgo", "=", "rsa", "_", "pss", "_", "sa", "_", "algo", ";", "<nl>", "else", "<nl>", "#", "endif", "<nl>"], "docstring_tokens": ["Fix", "check", "for", "PSS", "availability", "in", "peer"]}
{"code_tokens": ["bool", "VideoPlayerCodec", ":", ":", "Init", "(", "const", "CFileItem", "&", "file", ",", "unsigned", "int", "filecache", ")", "<nl>", "/", "/", "we", "have", "to", "decode", "initial", "data", "in", "order", "to", "get", "channels", "/", "samplerate", "<nl>", "/", "/", "for", "sanity", "-", "we", "read", "no", "more", "than", "10", "packets", "<nl>", "int", "nErrors", "=", "0", ";", "<nl>", "-", "for", "(", "int", "nPacket", "=", "0", ";", "nPacket", "<", "10", "&", "&", "(", "m", "_", "channels", "=", "=", "0", "|", "|", "m", "_", "format", ".", "m", "_", "sampleRate", "=", "=", "0", ")", ";", "nPacket", "+", "+", ")", "<nl>", "+", "for", "(", "int", "nPacket", "=", "0", ";", "<nl>", "+", "nPacket", "<", "10", "&", "&", "(", "m", "_", "channels", "=", "=", "0", "|", "|", "m", "_", "format", ".", "m", "_", "sampleRate", "=", "=", "0", "|", "|", "m", "_", "format", ".", "m", "_", "frameSize", "=", "=", "0", ")", ";", "<nl>", "+", "nPacket", "+", "+", ")", "<nl>", "{", "<nl>", "uint8", "_", "t", "dummy", "[", "256", "]", ";", "<nl>", "size", "_", "t", "nSize", "=", "256", ";", "<nl>", "bool", "VideoPlayerCodec", ":", ":", "Init", "(", "const", "CFileItem", "&", "file", ",", "unsigned", "int", "filecache", ")", "<nl>", "if", "(", "NeedConvert", "(", "m", "_", "srcFormat", ".", "m", "_", "dataFormat", ")", ")", "<nl>", "{", "<nl>", "m", "_", "needConvert", "=", "true", ";", "<nl>", "+", "/", "/", "if", "we", "don", "'", "t", "know", "the", "framesize", "yet", ",", "we", "will", "fail", "when", "converting", "<nl>", "+", "if", "(", "m", "_", "srcFormat", ".", "m", "_", "frameSize", "=", "=", "0", ")", "<nl>", "+", "return", "false", ";", "<nl>", "+", "<nl>", "m", "_", "pResampler", "=", "ActiveAE", ":", ":", "CAEResampleFactory", ":", ":", "Create", "(", ")", ";", "<nl>", "<nl>", "SampleConfig", "dstConfig", ",", "srcConfig", ";", "<nl>"], "docstring_tokens": ["VideoPlayerCodec", "Stop", "dividing", "by", "zero"]}
{"code_tokens": ["thunar", "_", "transfer", "_", "job", "_", "copy", "_", "node", "(", "ThunarTransferJob", "*", "job", ",", "<nl>", "}", "<nl>", "<nl>", "/", "*", "update", "progress", "information", "*", "/", "<nl>", "-", "exo", "_", "job", "_", "info", "_", "message", "(", "EXO", "_", "JOB", "(", "job", ")", ",", "g", "_", "file", "_", "info", "_", "get", "_", "display", "_", "name", "(", "info", ")", ")", ";", "<nl>", "+", "exo", "_", "job", "_", "info", "_", "message", "(", "EXO", "_", "JOB", "(", "job", ")", ",", "\"", "%", "s", "\"", ",", "g", "_", "file", "_", "info", "_", "get", "_", "display", "_", "name", "(", "info", ")", ")", ";", "<nl>", "<nl>", "retry", "_", "copy", ":", "<nl>", "/", "*", "copy", "the", "item", "specified", "by", "this", "node", "(", "not", "recursively", ")", "*", "/", "<nl>"], "docstring_tokens": ["Don", "t", "interpret", "file", "display", "names", "as", "format", "strings"]}
{"code_tokens": ["static", "int", "op", "_", "get", "_", "data", "(", "OggOpusFile", "*", "_", "of", ",", "int", "_", "nbytes", ")", "{", "<nl>", "int", "nbytes", ";", "<nl>", "OP", "_", "ASSERT", "(", "_", "nbytes", ">", "0", ")", ";", "<nl>", "buffer", "=", "(", "unsigned", "char", "*", ")", "ogg", "_", "sync", "_", "buffer", "(", "&", "_", "of", "-", ">", "oy", ",", "_", "nbytes", ")", ";", "<nl>", "+", "if", "(", "OP", "_", "UNLIKELY", "(", "buffer", "=", "=", "NULL", ")", ")", "return", "OP", "_", "EFAULT", ";", "<nl>", "nbytes", "=", "(", "int", ")", "(", "*", "_", "of", "-", ">", "callbacks", ".", "read", ")", "(", "_", "of", "-", ">", "stream", ",", "buffer", ",", "_", "nbytes", ")", ";", "<nl>", "OP", "_", "ASSERT", "(", "nbytes", "<", "=", "_", "nbytes", ")", ";", "<nl>", "if", "(", "OP", "_", "LIKELY", "(", "nbytes", ">", "0", ")", ")", "ogg", "_", "sync", "_", "wrote", "(", "&", "_", "of", "-", ">", "oy", ",", "nbytes", ")", ";", "<nl>", "static", "int", "op", "_", "open1", "(", "OggOpusFile", "*", "_", "of", ",", "<nl>", "if", "(", "_", "initial", "_", "bytes", ">", "0", ")", "{", "<nl>", "char", "*", "buffer", ";", "<nl>", "buffer", "=", "ogg", "_", "sync", "_", "buffer", "(", "&", "_", "of", "-", ">", "oy", ",", "(", "long", ")", "_", "initial", "_", "bytes", ")", ";", "<nl>", "+", "if", "(", "OP", "_", "UNLIKELY", "(", "buffer", "=", "=", "NULL", ")", ")", "return", "OP", "_", "EFAULT", ";", "<nl>", "memcpy", "(", "buffer", ",", "_", "initial", "_", "data", ",", "_", "initial", "_", "bytes", "*", "sizeof", "(", "*", "buffer", ")", ")", ";", "<nl>", "ogg", "_", "sync", "_", "wrote", "(", "&", "_", "of", "-", ">", "oy", ",", "(", "long", ")", "_", "initial", "_", "bytes", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Propagate", "allocation", "failure", "from", "ogg_sync_buffer"]}
{"code_tokens": ["XkbRF", "_", "SubstituteVars", "(", "char", "*", "name", ",", "XkbRF", "_", "MultiDefsPtr", "mdefs", ")", "<nl>", "int", "len", ",", "ndx", ";", "<nl>", "<nl>", "orig", "=", "name", ";", "<nl>", "-", "str", "=", "index", "(", "name", ",", "'", "%", "'", ")", ";", "<nl>", "+", "str", "=", "strchr", "(", "name", ",", "'", "%", "'", ")", ";", "<nl>", "if", "(", "str", "=", "=", "NULL", ")", "<nl>", "return", "name", ";", "<nl>", "len", "=", "strlen", "(", "name", ")", ";", "<nl>", "XkbRF", "_", "SubstituteVars", "(", "char", "*", "name", ",", "XkbRF", "_", "MultiDefsPtr", "mdefs", ")", "<nl>", "var", "=", "str", "+", "1", ";", "<nl>", "str", "=", "get", "_", "index", "(", "var", "+", "1", ",", "&", "ndx", ")", ";", "<nl>", "if", "(", "ndx", "=", "=", "-", "1", ")", "{", "<nl>", "-", "str", "=", "index", "(", "str", ",", "'", "%", "'", ")", ";", "<nl>", "+", "str", "=", "strchr", "(", "str", ",", "'", "%", "'", ")", ";", "<nl>", "continue", ";", "<nl>", "}", "<nl>", "if", "(", "(", "*", "var", "=", "=", "'", "l", "'", ")", "&", "&", "mdefs", "-", ">", "layout", "[", "ndx", "]", "&", "&", "*", "mdefs", "-", ">", "layout", "[", "ndx", "]", ")", "<nl>", "XkbRF", "_", "SubstituteVars", "(", "char", "*", "name", ",", "XkbRF", "_", "MultiDefsPtr", "mdefs", ")", "<nl>", "if", "(", "(", "pfx", "=", "=", "'", "(", "'", ")", "&", "&", "(", "*", "str", "=", "=", "'", ")", "'", ")", ")", "{", "<nl>", "str", "+", "+", ";", "<nl>", "}", "<nl>", "-", "str", "=", "index", "(", "&", "str", "[", "0", "]", ",", "'", "%", "'", ")", ";", "<nl>", "+", "str", "=", "strchr", "(", "&", "str", "[", "0", "]", ",", "'", "%", "'", ")", ";", "<nl>", "}", "<nl>", "name", "=", "(", "char", "*", ")", "malloc", "(", "len", "+", "1", ")", ";", "<nl>", "str", "=", "orig", ";", "<nl>"], "docstring_tokens": ["Use", "strchr", "instead", "of", "index"]}
{"code_tokens": ["ExprResolveBoolean", "(", "struct", "xkb", "_", "context", "*", "ctx", ",", "const", "ExprDef", "*", "expr", ",", "<nl>", "<nl>", "case", "EXPR", "_", "INVERT", ":", "<nl>", "case", "EXPR", "_", "NOT", ":", "<nl>", "-", "ok", "=", "ExprResolveBoolean", "(", "ctx", ",", "expr", ",", "set", "_", "rtrn", ")", ";", "<nl>", "+", "ok", "=", "ExprResolveBoolean", "(", "ctx", ",", "expr", "-", ">", "unary", ".", "child", ",", "set", "_", "rtrn", ")", ";", "<nl>", "if", "(", "ok", ")", "<nl>", "*", "set", "_", "rtrn", "=", "!", "*", "set", "_", "rtrn", ";", "<nl>", "return", "ok", ";", "<nl>"], "docstring_tokens": ["xkbcomp", "fix", "stack", "overflow", "when", "evaluating", "boolean", "negation"]}
{"code_tokens": ["ExprResolveLhs", "(", "struct", "xkb", "_", "context", "*", "ctx", ",", "const", "ExprDef", "*", "expr", ",", "<nl>", "*", "elem", "_", "rtrn", "=", "NULL", ";", "<nl>", "*", "field", "_", "rtrn", "=", "xkb", "_", "atom", "_", "text", "(", "ctx", ",", "expr", "-", ">", "ident", ".", "ident", ")", ";", "<nl>", "*", "index", "_", "rtrn", "=", "NULL", ";", "<nl>", "-", "return", "true", ";", "<nl>", "+", "return", "(", "*", "field", "_", "rtrn", "!", "=", "NULL", ")", ";", "<nl>", "case", "EXPR", "_", "FIELD", "_", "REF", ":", "<nl>", "*", "elem", "_", "rtrn", "=", "xkb", "_", "atom", "_", "text", "(", "ctx", ",", "expr", "-", ">", "field", "_", "ref", ".", "element", ")", ";", "<nl>", "*", "field", "_", "rtrn", "=", "xkb", "_", "atom", "_", "text", "(", "ctx", ",", "expr", "-", ">", "field", "_", "ref", ".", "field", ")", ";", "<nl>"], "docstring_tokens": ["xkbcomp", "Don", "t", "falsely", "promise", "from", "ExprResolveLhs"]}
{"code_tokens": ["LookupModMask", "(", "struct", "xkb", "_", "context", "*", "ctx", ",", "const", "void", "*", "priv", ",", "xkb", "_", "atom", "_", "t", "field", ",", "<nl>", "return", "false", ";", "<nl>", "<nl>", "str", "=", "xkb", "_", "atom", "_", "text", "(", "ctx", ",", "field", ")", ";", "<nl>", "+", "if", "(", "!", "str", ")", "<nl>", "+", "return", "false", ";", "<nl>", "<nl>", "if", "(", "istreq", "(", "str", ",", "\"", "all", "\"", ")", ")", "{", "<nl>", "*", "val", "_", "rtrn", "=", "MOD", "_", "REAL", "_", "MASK", "_", "ALL", ";", "<nl>"], "docstring_tokens": ["xkbcomp", "Don", "t", "explode", "on", "invalid", "virtual", "modifiers"]}
{"code_tokens": ["bool", "<nl>", "map", "_", "file", "(", "FILE", "*", "file", ",", "char", "*", "*", "string", "_", "out", ",", "size", "_", "t", "*", "size", "_", "out", ")", "<nl>", "{", "<nl>", "struct", "stat", "stat", "_", "buf", ";", "<nl>", "-", "const", "int", "fd", "=", "fileno", "(", "file", ")", ";", "<nl>", "+", "int", "fd", ";", "<nl>", "char", "*", "string", ";", "<nl>", "<nl>", "/", "*", "Make", "sure", "to", "keep", "the", "errno", "on", "failure", "!", "*", "/", "<nl>", "+", "fd", "=", "fileno", "(", "file", ")", ";", "<nl>", "+", "if", "(", "fd", "<", "0", ")", "<nl>", "+", "return", "false", ";", "<nl>", "<nl>", "if", "(", "fstat", "(", "fd", ",", "&", "stat", "_", "buf", ")", "!", "=", "0", ")", "<nl>", "return", "false", ";", "<nl>"], "docstring_tokens": ["src", "utils", "check", "if", "fileno", "failed", "in", "map_file"]}
{"code_tokens": ["skip", "_", "more", "_", "whitespace", "_", "and", "_", "comments", ":", "<nl>", "<nl>", "/", "*", "LHS", "Keysym", ".", "*", "/", "<nl>", "if", "(", "chr", "(", "s", ",", "'", "<", "'", ")", ")", "{", "<nl>", "-", "while", "(", "peek", "(", "s", ")", "!", "=", "'", ">", "'", "&", "&", "!", "eol", "(", "s", ")", ")", "<nl>", "+", "while", "(", "peek", "(", "s", ")", "!", "=", "'", ">", "'", "&", "&", "!", "eol", "(", "s", ")", "&", "&", "!", "eof", "(", "s", ")", ")", "<nl>", "buf", "_", "append", "(", "s", ",", "next", "(", "s", ")", ")", ";", "<nl>", "if", "(", "!", "chr", "(", "s", ",", "'", ">", "'", ")", ")", "{", "<nl>", "scanner", "_", "err", "(", "s", ",", "\"", "unterminated", "keysym", "literal", "\"", ")", ";", "<nl>"], "docstring_tokens": ["compose", "fix", "infinite", "loop", "in", "parser", "on", "some", "inputs"]}
{"code_tokens": ["CompileKeymap", "(", "XkbFile", "*", "file", ",", "struct", "xkb", "_", "keymap", "*", "keymap", ",", "enum", "merge", "_", "mode", "merge", ")", "<nl>", "file", "=", "(", "XkbFile", "*", ")", "file", "-", ">", "common", ".", "next", ")", "{", "<nl>", "if", "(", "file", "-", ">", "file", "_", "type", "<", "FIRST", "_", "KEYMAP", "_", "FILE", "_", "TYPE", "|", "|", "<nl>", "file", "-", ">", "file", "_", "type", ">", "LAST", "_", "KEYMAP", "_", "FILE", "_", "TYPE", ")", "{", "<nl>", "-", "log", "_", "err", "(", "ctx", ",", "\"", "Cannot", "define", "%", "s", "in", "a", "keymap", "file", "\\", "n", "\"", ",", "<nl>", "-", "xkb", "_", "file", "_", "type", "_", "to", "_", "string", "(", "file", "-", ">", "file", "_", "type", ")", ")", ";", "<nl>", "+", "if", "(", "file", "-", ">", "file", "_", "type", "=", "=", "FILE", "_", "TYPE", "_", "GEOMETRY", ")", "{", "<nl>", "+", "log", "_", "vrb", "(", "ctx", ",", "1", ",", "<nl>", "+", "\"", "Geometry", "sections", "are", "not", "supported", ";", "ignoring", "\\", "n", "\"", ")", ";", "<nl>", "+", "}", "else", "{", "<nl>", "+", "log", "_", "err", "(", "ctx", ",", "\"", "Cannot", "define", "%", "s", "in", "a", "keymap", "file", "\\", "n", "\"", ",", "<nl>", "+", "xkb", "_", "file", "_", "type", "_", "to", "_", "string", "(", "file", "-", ">", "file", "_", "type", ")", ")", ";", "<nl>", "+", "}", "<nl>", "continue", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["xkbcomp", "fix", "crash", "when", "parsing", "an", "xkb_geometry", "section"]}
{"code_tokens": ["ResolveStateAndPredicate", "(", "ExprDef", "*", "expr", ",", "enum", "xkb", "_", "match", "_", "operation", "*", "pred", "_", "rtrn", ",", "<nl>", "*", "pred", "_", "rtrn", "=", "MATCH", "_", "EXACTLY", ";", "<nl>", "if", "(", "expr", "-", ">", "expr", ".", "op", "=", "=", "EXPR", "_", "ACTION", "_", "DECL", ")", "{", "<nl>", "const", "char", "*", "pred", "_", "txt", "=", "xkb", "_", "atom", "_", "text", "(", "info", "-", ">", "ctx", ",", "expr", "-", ">", "action", ".", "name", ")", ";", "<nl>", "-", "if", "(", "!", "LookupString", "(", "symInterpretMatchMaskNames", ",", "pred", "_", "txt", ",", "pred", "_", "rtrn", ")", ")", "{", "<nl>", "+", "if", "(", "!", "LookupString", "(", "symInterpretMatchMaskNames", ",", "pred", "_", "txt", ",", "pred", "_", "rtrn", ")", "|", "|", "<nl>", "+", "!", "expr", "-", ">", "action", ".", "args", ")", "{", "<nl>", "log", "_", "err", "(", "info", "-", ">", "ctx", ",", "<nl>", "\"", "Illegal", "modifier", "predicate", "\\", "\"", "%", "s", "\\", "\"", ";", "Ignored", "\\", "n", "\"", ",", "pred", "_", "txt", ")", ";", "<nl>", "return", "false", ";", "<nl>"], "docstring_tokens": ["xkbcomp", "Don", "t", "crash", "on", "no", "op", "modmask", "expressions"]}
{"code_tokens": ["CopyKeyAliasesToKeymap", "(", "struct", "xkb", "_", "keymap", "*", "keymap", ",", "KeyNamesInfo", "*", "info", ")", "<nl>", "key", "_", "aliases", "=", "calloc", "(", "num", "_", "key", "_", "aliases", ",", "sizeof", "(", "*", "key", "_", "aliases", ")", ")", ";", "<nl>", "if", "(", "!", "key", "_", "aliases", ")", "<nl>", "return", "false", ";", "<nl>", "-", "}", "<nl>", "<nl>", "-", "i", "=", "0", ";", "<nl>", "-", "darray", "_", "foreach", "(", "alias", ",", "info", "-", ">", "aliases", ")", "{", "<nl>", "-", "if", "(", "alias", "-", ">", "real", "!", "=", "XKB", "_", "ATOM", "_", "NONE", ")", "{", "<nl>", "-", "key", "_", "aliases", "[", "i", "]", ".", "alias", "=", "alias", "-", ">", "alias", ";", "<nl>", "-", "key", "_", "aliases", "[", "i", "]", ".", "real", "=", "alias", "-", ">", "real", ";", "<nl>", "-", "i", "+", "+", ";", "<nl>", "+", "i", "=", "0", ";", "<nl>", "+", "darray", "_", "foreach", "(", "alias", ",", "info", "-", ">", "aliases", ")", "{", "<nl>", "+", "if", "(", "alias", "-", ">", "real", "!", "=", "XKB", "_", "ATOM", "_", "NONE", ")", "{", "<nl>", "+", "key", "_", "aliases", "[", "i", "]", ".", "alias", "=", "alias", "-", ">", "alias", ";", "<nl>", "+", "key", "_", "aliases", "[", "i", "]", ".", "real", "=", "alias", "-", ">", "real", ";", "<nl>", "+", "i", "+", "+", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["keycodes", "don", "t", "try", "to", "copy", "zero", "key", "aliases"]}
{"code_tokens": ["ExprResolveLhs", "(", "struct", "xkb", "_", "context", "*", "ctx", ",", "const", "ExprDef", "*", "expr", ",", "<nl>", "*", "elem", "_", "rtrn", "=", "xkb", "_", "atom", "_", "text", "(", "ctx", ",", "expr", "-", ">", "field", "_", "ref", ".", "element", ")", ";", "<nl>", "*", "field", "_", "rtrn", "=", "xkb", "_", "atom", "_", "text", "(", "ctx", ",", "expr", "-", ">", "field", "_", "ref", ".", "field", ")", ";", "<nl>", "*", "index", "_", "rtrn", "=", "NULL", ";", "<nl>", "-", "return", "true", ";", "<nl>", "+", "return", "(", "*", "elem", "_", "rtrn", "!", "=", "NULL", "&", "&", "*", "field", "_", "rtrn", "!", "=", "NULL", ")", ";", "<nl>", "case", "EXPR", "_", "ARRAY", "_", "REF", ":", "<nl>", "*", "elem", "_", "rtrn", "=", "xkb", "_", "atom", "_", "text", "(", "ctx", ",", "expr", "-", ">", "array", "_", "ref", ".", "element", ")", ";", "<nl>", "*", "field", "_", "rtrn", "=", "xkb", "_", "atom", "_", "text", "(", "ctx", ",", "expr", "-", ">", "array", "_", "ref", ".", "field", ")", ";", "<nl>", "*", "index", "_", "rtrn", "=", "expr", "-", ">", "array", "_", "ref", ".", "entry", ";", "<nl>", "+", "if", "(", "expr", "-", ">", "array", "_", "ref", ".", "element", "!", "=", "XKB", "_", "ATOM", "_", "NONE", "&", "&", "*", "elem", "_", "rtrn", "=", "=", "NULL", ")", "<nl>", "+", "return", "false", ";", "<nl>", "+", "if", "(", "*", "field", "_", "rtrn", "=", "=", "NULL", ")", "<nl>", "+", "return", "false", ";", "<nl>", "return", "true", ";", "<nl>", "default", ":", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["Fail", "expression", "lookup", "on", "invalid", "atoms"]}
{"code_tokens": ["ExprAppendMultiKeysymList", "(", "ExprDef", "*", "expr", ",", "ExprDef", "*", "append", ")", "<nl>", "darray", "_", "append", "(", "expr", "-", ">", "keysym", "_", "list", ".", "symsNumEntries", ",", "numEntries", ")", ";", "<nl>", "darray", "_", "concat", "(", "expr", "-", ">", "keysym", "_", "list", ".", "syms", ",", "append", "-", ">", "keysym", "_", "list", ".", "syms", ")", ";", "<nl>", "<nl>", "-", "FreeStmt", "(", "(", "ParseCommon", "*", ")", "&", "append", ")", ";", "<nl>", "+", "FreeStmt", "(", "(", "ParseCommon", "*", ")", "append", ")", ";", "<nl>", "<nl>", "return", "expr", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["xkbcomp", "fix", "pointer", "value", "for", "FreeStmt"]}
{"code_tokens": ["get", "_", "controls", "(", "struct", "xkb", "_", "keymap", "*", "keymap", ",", "xcb", "_", "connection", "_", "t", "*", "conn", ",", "<nl>", "xcb", "_", "xkb", "_", "get", "_", "controls", "_", "reply", "(", "conn", ",", "cookie", ",", "NULL", ")", ";", "<nl>", "<nl>", "FAIL", "_", "IF", "_", "BAD", "_", "REPLY", "(", "reply", ",", "\"", "XkbGetControls", "\"", ")", ";", "<nl>", "+", "FAIL", "_", "UNLESS", "(", "reply", "-", ">", "numGroups", ">", "0", "&", "&", "reply", "-", ">", "numGroups", "<", "=", "4", ")", ";", "<nl>", "<nl>", "keymap", "-", ">", "enabled", "_", "ctrls", "=", "translate", "_", "controls", "_", "mask", "(", "reply", "-", ">", "enabledControls", ")", ";", "<nl>", "keymap", "-", ">", "num", "_", "groups", "=", "reply", "-", ">", "numGroups", ";", "<nl>"], "docstring_tokens": ["x11", "add", "0", "ctrls", "numGroups", "4", "assertion"]}
{"code_tokens": ["typedef", "struct", "_", "GroupCompatInfo", "<nl>", "{", "<nl>", "unsigned", "char", "fileID", ";", "<nl>", "unsigned", "char", "merge", ";", "<nl>", "+", "Bool", "defined", ";", "<nl>", "unsigned", "char", "real", "_", "mods", ";", "<nl>", "xkb", "_", "atom", "_", "t", "vmods", ";", "<nl>", "}", "GroupCompatInfo", ";", "<nl>", "AddGroupCompat", "(", "CompatInfo", "*", "info", ",", "unsigned", "group", ",", "GroupCompatInfo", "*", "newGC", ")", "<nl>", "ACTION", "(", "\"", "Using", "%", "s", "definition", "\\", "n", "\"", ",", "<nl>", "(", "merge", "=", "=", "MergeAugment", "?", "\"", "old", "\"", ":", "\"", "new", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "-", "if", "(", "merge", "!", "=", "MergeAugment", ")", "<nl>", "+", "if", "(", "newGC", "-", ">", "defined", "&", "&", "(", "merge", "!", "=", "MergeAugment", "|", "|", "!", "gc", "-", ">", "defined", ")", ")", "<nl>", "*", "gc", "=", "*", "newGC", ";", "<nl>", "return", "True", ";", "<nl>", "}", "<nl>", "HandleGroupCompatDef", "(", "GroupCompatDef", "*", "def", ",", "<nl>", "}", "<nl>", "tmp", ".", "real", "_", "mods", "=", "val", ".", "uval", "&", "0xff", ";", "<nl>", "tmp", ".", "vmods", "=", "(", "val", ".", "uval", ">", ">", "8", ")", "&", "0xffff", ";", "<nl>", "+", "tmp", ".", "defined", "=", "True", ";", "<nl>", "return", "AddGroupCompat", "(", "info", ",", "def", "-", ">", "group", "-", "1", ",", "&", "tmp", ")", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["include", "resets", "group", "compatibility", "modifiers", "43091"]}
{"code_tokens": ["int", "XrdConfig", ":", ":", "Configure", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "<nl>", "if", "(", "*", "dfltProt", "!", "=", "'", ".", "'", ")", "<nl>", "{", "char", "*", "p", "=", "dfltProt", ";", "<nl>", "while", "(", "*", "p", "&", "&", "*", "p", "!", "=", "'", ".", "'", ")", "p", "+", "+", ";", "<nl>", "-", "if", "(", "*", "p", "=", "=", "'", ".", "'", ")", "{", "*", "p", "=", "'", "\\", "0", "'", ";", "dfltProt", "=", "strdup", "(", "dfltProt", ")", ";", "*", "p", "=", "'", ",", "'", ";", "}", "<nl>", "+", "if", "(", "*", "p", "=", "=", "'", ".", "'", ")", "{", "*", "p", "=", "'", "\\", "0", "'", ";", "dfltProt", "=", "strdup", "(", "dfltProt", ")", ";", "*", "p", "=", "'", ".", "'", ";", "}", "<nl>", "}", "<nl>", "<nl>", "/", "/", "Process", "the", "options", "<nl>"], "docstring_tokens": ["Fix", "typo", "when", "reassembling", "prog", "name", "in", "argv", "0", "related", "to", "bug", "80905"]}
{"code_tokens": ["namespace", "XrdCl", "<nl>", "<nl>", "XrdSysPwd", "pwdHandler", ";", "<nl>", "passwd", "*", "pwd", "=", "pwdHandler", ".", "Get", "(", "getuid", "(", ")", ")", ";", "<nl>", "+", "if", "(", "!", "pwd", ")", "return", ";", "<nl>", "std", ":", ":", "string", "userPlugIns", "=", "pwd", "-", ">", "pw", "_", "dir", ";", "<nl>", "userPlugIns", "+", "=", "\"", "/", ".", "xrootd", "/", "client", ".", "plugins", ".", "d", "\"", ";", "<nl>", "ProcessConfigDir", "(", "userPlugIns", ")", ";", "<nl>"], "docstring_tokens": ["XrdCl", "Prevent", "segv", "in", "case", "user", "has", "no", "name"]}
{"code_tokens": ["int", "XrdOdcFinderRMT", ":", ":", "Locate", "(", "XrdOucErrInfo", "&", "Resp", ",", "const", "char", "*", "path", ",", "int", "flags", ",", "<nl>", "{", "xmsg", "[", "1", "]", ".", "iov", "_", "base", "=", "(", "char", "*", ")", "\"", "select", "\"", ";", "xmsg", "[", "1", "]", ".", "iov", "_", "len", "=", "7", ";", "}", "<nl>", "xmsg", "[", "2", "]", ".", "iov", "_", "base", "=", "(", "char", "*", ")", "ptype", ";", "xmsg", "[", "2", "]", ".", "iov", "_", "len", "=", "2", ";", "<nl>", "if", "(", "Avoid", ")", "<nl>", "-", "{", "xmsg", "[", "3", "]", ".", "iov", "_", "base", "=", "(", "char", "*", ")", "\"", "-", "\"", ";", "xmsg", "[", "3", "]", ".", "iov", "_", "len", "=", "2", ";", "<nl>", "+", "{", "xmsg", "[", "3", "]", ".", "iov", "_", "base", "=", "(", "char", "*", ")", "\"", "-", "\"", ";", "xmsg", "[", "3", "]", ".", "iov", "_", "len", "=", "1", ";", "<nl>", "xmsg", "[", "4", "]", ".", "iov", "_", "base", "=", "Avoid", ";", "xmsg", "[", "4", "]", ".", "iov", "_", "len", "=", "strlen", "(", "Avoid", ")", ";", "<nl>", "xmsg", "[", "5", "]", ".", "iov", "_", "base", "=", "(", "char", "*", ")", "\"", "\"", ";", "xmsg", "[", "5", "]", ".", "iov", "_", "len", "=", "1", ";", "<nl>", "ioveol", "=", "6", ";", "<nl>"], "docstring_tokens": ["Remove", "extraneous", "space", "from", "message", "sent", "to", "olbd"]}
{"code_tokens": ["namespace", "XrdCl", "<nl>", "XRDCL", "_", "SMART", "_", "PTR", "_", "T", "<", "Message", ">", "msgPtr", "(", "pResponse", ")", ";", "<nl>", "pResponse", "=", "0", ";", "<nl>", "<nl>", "-", "if", "(", "rsp", "-", ">", "hdr", ".", "dlen", "<", "4", ")", "<nl>", "+", "if", "(", "rsp", "-", ">", "hdr", ".", "dlen", "<", "=", "4", ")", "<nl>", "{", "<nl>", "log", "-", ">", "Error", "(", "XRootDMsg", ",", "\"", "[", "%", "s", "]", "Got", "invalid", "redirect", "response", ".", "\"", ",", "<nl>", "pUrl", ".", "GetHostId", "(", ")", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>"], "docstring_tokens": ["XrdCl", "Treat", "empty", "redirect", "response", "as", "error"]}
{"code_tokens": ["void", "XrdClientUrlSet", ":", ":", "ConvertDNSAlias", "(", "UrlArray", "&", "urls", ",", "XrdClientString", "proto", ",", "<nl>", "/", "/", "Notify", "<nl>", "Info", "(", "XrdClientDebug", ":", ":", "kHIDEBUG", ",", "\"", "ConvertDNSAlias", "\"", ",", "<nl>", "\"", "found", "host", "\"", "<", "<", "newurl", "-", ">", "Host", "<", "<", "\"", "with", "addr", "\"", "<", "<", "newurl", "-", ">", "HostAddr", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "Get", "a", "copy", ",", "if", "we", "need", "to", "store", "another", "<nl>", "+", "if", "(", "i", "<", "(", "naddr", "-", "1", ")", ")", "<nl>", "+", "newurl", "=", "new", "XrdClientUrlInfo", "(", "*", "newurl", ")", ";", "<nl>", "+", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["Fix", "problem", "building", "the", "url", "array", "in", "multi", "alias", "cases"]}
{"code_tokens": ["int", "XrdSutGetPass", "(", "const", "char", "*", "prompt", ",", "XrdOucString", "&", "passwd", ")", "<nl>", "<nl>", "char", "*", "pw", "=", "getpass", "(", "prompt", ")", ";", "<nl>", "if", "(", "pw", ")", "{", "<nl>", "-", "if", "(", "pw", "[", "strlen", "(", "pw", ")", "-", "1", "]", "=", "=", "'", "\\", "n", "'", ")", "<nl>", "-", "pw", "[", "strlen", "(", "pw", ")", "-", "1", "]", "=", "0", ";", "/", "/", "get", "rid", "of", "\\", "n", "<nl>", "+", "/", "/", "Get", "rid", "of", "special", "chars", ",", "if", "any", "<nl>", "+", "int", "k", "=", "0", ",", "i", "=", "0", ",", "len", "=", "strlen", "(", "pw", ")", ";", "<nl>", "+", "for", "(", ";", "i", "<", "len", ";", "i", "+", "+", ")", "<nl>", "+", "if", "(", "pw", "[", "i", "]", ">", "0x20", ")", "pw", "[", "k", "+", "+", "]", "=", "pw", "[", "i", "]", ";", "<nl>", "+", "pw", "[", "k", "]", "=", "0", ";", "<nl>", "passwd", "=", "pw", ";", "<nl>", "-", "XrdSutMemSet", "(", "(", "volatile", "void", "*", ")", "pw", ",", "0", ",", "strlen", "(", "pw", ")", ")", ";", "<nl>", "+", "XrdSutMemSet", "(", "(", "volatile", "void", "*", ")", "pw", ",", "0", ",", "len", ")", ";", "<nl>", "}", "else", "{", "<nl>", "DEBUG", "(", "\"", "error", "from", "getpass", "\"", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>"], "docstring_tokens": ["Do", "not", "allow", "special", "chars", "in", "passwords"]}
{"code_tokens": ["int", "XrdHttpReq", ":", ":", "ProcessHTTPReq", "(", ")", "{", "<nl>", "}", "else", "{", "<nl>", "<nl>", "/", "/", "We", "lookup", "the", "requested", "path", "in", "a", "hash", "containing", "the", "preread", "files", "<nl>", "-", "XrdHttpProtocol", ":", ":", "StaticPreloadInfo", "*", "mydata", "=", "prot", "-", ">", "staticpreload", "-", ">", "Find", "(", "resource", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "-", "if", "(", "mydata", ")", "{", "<nl>", "+", "if", "(", "prot", "-", ">", "staticpreload", ")", "{", "<nl>", "+", "XrdHttpProtocol", ":", ":", "StaticPreloadInfo", "*", "mydata", "=", "prot", "-", ">", "staticpreload", "-", ">", "Find", "(", "resource", ".", "c", "_", "str", "(", ")", ")", ";", "<nl>", "+", "if", "(", "mydata", ")", "{", "<nl>", "prot", "-", ">", "SendSimpleResp", "(", "200", ",", "NULL", ",", "NULL", ",", "(", "char", "*", ")", "mydata", "-", ">", "data", ",", "mydata", "-", ">", "len", ")", ";", "<nl>", "reset", "(", ")", ";", "<nl>", "return", "1", ";", "<nl>", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "}", "<nl>", "<nl>"], "docstring_tokens": ["Avoid", "a", "lookup", "to", "the", "staticpreload", "hash", "if", "there", "is", "no", "staticpreload", "Fixes", "https", "github", "com", "xrootd", "xrootd", "issues", "753"]}
{"code_tokens": ["do", "{", "while", "(", "optind", "<", "Argc", "&", "&", "Legacy", "(", "optind", ")", ")", "{", "}", "<nl>", "switch", "(", "opC", ")", "<nl>", "{", "case", "OpCksum", ":", "defCks", "(", "optarg", ")", ";", "<nl>", "break", ";", "<nl>", "+", "case", "OpCoerce", ":", "OpSpec", "|", "=", "DoCoerce", ";", "<nl>", "+", "break", ";", "<nl>", "case", "OpDebug", ":", "OpSpec", "|", "=", "DoDebug", ";", "<nl>", "if", "(", "!", "a2i", "(", "optarg", ",", "&", "Dlvl", ",", "0", ",", "3", ")", ")", "Usage", "(", "22", ")", ";", "<nl>", "break", ";", "<nl>"], "docstring_tokens": ["Recognize", "the", "coerce", "xrdcp", "option", "it", "was", "forgotten"]}
{"code_tokens": ["int", "XrdOuca2x", ":", ":", "a2sz", "(", "XrdSysError", "&", "Eroute", ",", "const", "char", "*", "emsg", ",", "const", "char", "*", "item", ",", "<nl>", "else", "if", "(", "*", "fP", "=", "=", "'", "t", "'", "|", "|", "*", "fP", "=", "=", "'", "T", "'", ")", "qmult", "=", "1024L", "L", "*", "1024L", "L", "*", "1024L", "L", "*", "1024L", "L", ";", "<nl>", "else", "{", "qmult", "=", "1", ";", "fP", "+", "+", ";", "}", "<nl>", "errno", "=", "0", ";", "<nl>", "-", "*", "val", "=", "strtoll", "(", "item", ",", "&", "eP", ",", "10", ")", "*", "qmult", ";", "<nl>", "+", "double", "dval", "=", "strtod", "(", "item", ",", "&", "eP", ")", "*", "qmult", ";", "<nl>", "if", "(", "errno", "|", "|", "eP", "!", "=", "fP", ")", "<nl>", "{", "Eroute", ".", "Emsg", "(", "\"", "a2x", "\"", ",", "emsg", ",", "item", ",", "\"", "is", "not", "a", "number", "\"", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "+", "*", "val", "=", "(", "long", "long", ")", "dval", ";", "<nl>", "if", "(", "*", "val", "<", "minv", ")", "<nl>", "return", "Emsg", "(", "Eroute", ",", "emsg", ",", "item", ",", "\"", "may", "not", "be", "less", "than", "%", "lld", "\"", ",", "minv", ")", ";", "<nl>", "if", "(", "maxv", ">", "=", "0", "&", "&", "*", "val", ">", "maxv", ")", "<nl>"], "docstring_tokens": ["Allow", "conversion", "of", "decimal", "numbers", "in", "a2sz"]}
{"code_tokens": ["void", "DoIt", "(", ")", "{", "myMutex", ".", "Lock", "(", ")", ";", "<nl>", "virtual", "void", "Finished", "(", "XrdSsiRequest", "&", "rqstR", ",", "<nl>", "const", "XrdSsiRespInfo", "&", "rInfo", ",", "<nl>", "bool", "cancel", "=", "false", ")", "<nl>", "-", "{", "myMutex", ".", "Lock", "(", ")", ";", "<nl>", "+", "{", "UnBindRequest", "(", ")", ";", "<nl>", "+", "myMutex", ".", "Lock", "(", ")", ";", "<nl>", "if", "(", "!", "isActive", ")", "delete", "this", ";", "<nl>", "else", "{", "isActive", "=", "false", ";", "<nl>", "myMutex", ".", "UnLock", "(", ")", ";", "<nl>"], "docstring_tokens": ["SSI", "Unbind", "the", "request", "prior", "to", "teardown"]}
{"code_tokens": ["bool", "Handler", ":", ":", "xsecretkey", "(", "XrdOucStream", "&", "config", "_", "obj", ",", "XrdSysError", "*", "log", ",", "std", ":", ":", "string", "<nl>", "return", "false", ";", "<nl>", "}", "<nl>", "<nl>", "-", "FILE", "*", "fp", "=", "fopen", "(", "val", ",", "\"", "r", "+", "\"", ")", ";", "<nl>", "+", "FILE", "*", "fp", "=", "fopen", "(", "val", ",", "\"", "rb", "\"", ")", ";", "<nl>", "<nl>", "if", "(", "fp", "=", "=", "NULL", ")", "{", "<nl>", "log", "-", ">", "Emsg", "(", "\"", "Config", "\"", ",", "\"", "Cannot", "open", "shared", "secret", "key", "file", "'", "\"", ",", "val", ",", "\"", "'", "\"", ")", ";", "<nl>"], "docstring_tokens": ["XrdMacaroons", "Open", "secret", "file", "with", "correct", "mode"]}
{"code_tokens": ["namespace", "XrdCl", "<nl>", "pFileUrl", "(", "0", ")", ",", "<nl>", "pDataServer", "(", "0", ")", ",", "<nl>", "pLoadBalancer", "(", "0", ")", ",", "<nl>", "+", "pStateRedirect", "(", "0", ")", ",", "<nl>", "pFileHandle", "(", "0", ")", ",", "<nl>", "pOpenMode", "(", "0", ")", ",", "<nl>", "pOpenFlags", "(", "0", ")", ",", "<nl>"], "docstring_tokens": ["XrdCl", "Initialize", "pStateRedirec", "to", "avoid", "a", "segfault", "while", "recovering"]}
{"code_tokens": ["XReqErrorType", "XrdClientConn", ":", ":", "GoBackToRedirector", "(", ")", "{", "<nl>", "/", "/", "redirections", ".", "Used", "typically", "for", "stat", "and", "similar", "functions", "<nl>", "Disconnect", "(", "false", ")", ";", "<nl>", "if", "(", "fGlobalRedirCnt", ")", "fGlobalRedirCnt", "-", "-", ";", "<nl>", "-", "return", "GoToAnotherServer", "(", "*", "fLBSUrl", ")", ";", "<nl>", "+", "return", "(", "fLBSUrl", "?", "GoToAnotherServer", "(", "*", "fLBSUrl", ")", ":", "kOK", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "/", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "_", "<nl>"], "docstring_tokens": ["Add", "missing", "protection", "in", "GoBackToRedirector"]}
{"code_tokens": ["bool", "XrdClient", ":", ":", "TryOpen", "(", "kXR", "_", "unt16", "mode", ",", "kXR", "_", "unt16", "options", ",", "bool", "doitparallel", ")", "{", "<nl>", "<nl>", "/", "/", "If", "the", "open", "request", "failed", "for", "the", "error", "\"", "file", "not", "found", "\"", "proceed", ",", "<nl>", "/", "/", "otherwise", "return", "FALSE", "<nl>", "-", "if", "(", "fConnModule", "-", ">", "LastServerResp", ".", "status", "!", "=", "kXR", "_", "NotFound", ")", "{", "<nl>", "+", "if", "(", "(", "fConnModule", "-", ">", "LastServerResp", ".", "status", "!", "=", "kXR", "_", "error", ")", "|", "|", "<nl>", "+", "(", "(", "fConnModule", "-", ">", "LastServerResp", ".", "status", "=", "=", "kXR", "_", "error", ")", "&", "&", "<nl>", "+", "(", "fConnModule", "-", ">", "LastServerError", ".", "errnum", "!", "=", "kXR", "_", "NotFound", ")", ")", ")", "{", "<nl>", "+", "<nl>", "TerminateOpenAttempt", "(", ")", ";", "<nl>", "<nl>", "return", "FALSE", ";", "<nl>", "bool", "XrdClient", ":", ":", "TryOpen", "(", "kXR", "_", "unt16", "mode", ",", "kXR", "_", "unt16", "options", ",", "bool", "doitparallel", ")", "{", "<nl>", "/", "/", "from", "the", "one", "we", "formerly", "connected", ",", "then", "we", "resend", "the", "request", "<nl>", "/", "/", "specifyng", "the", "supposed", "failing", "server", "as", "opaque", "info", "<nl>", "if", "(", "fConnModule", "-", ">", "GetLBSUrl", "(", ")", "&", "&", "<nl>", "-", "(", "fConnModule", "-", ">", "GetCurrentUrl", "(", ")", ".", "Host", "!", "=", "fConnModule", "-", ">", "GetLBSUrl", "(", ")", "-", ">", "Host", ")", ")", "{", "<nl>", "+", "(", "(", "fConnModule", "-", ">", "GetCurrentUrl", "(", ")", ".", "Host", "!", "=", "fConnModule", "-", ">", "GetLBSUrl", "(", ")", "-", ">", "Host", ")", "|", "|", "<nl>", "+", "(", "fConnModule", "-", ">", "GetCurrentUrl", "(", ")", ".", "Port", "!", "=", "fConnModule", "-", ">", "GetLBSUrl", "(", ")", "-", ">", "Port", ")", ")", ")", "{", "<nl>", "XrdOucString", "opinfo", ";", "<nl>", "<nl>", "opinfo", "=", "\"", "&", "tried", "=", "\"", "+", "fConnModule", "-", ">", "GetCurrentUrl", "(", ")", ".", "Host", ";", "<nl>"], "docstring_tokens": ["Refined", "the", "rules", "which", "trigger", "the", "retry", "refresh", "on", "notfound", "mechanism"]}
{"code_tokens": ["kXR", "_", "int32", "XrdClientReadV", ":", ":", "UnpackReadVResp", "(", "char", "*", "destbuf", ",", "char", "*", "respdata", ",", "kXR", "_", "int", "<nl>", "<nl>", "/", "/", "I", "just", "rebuild", "the", "readahead", "_", "list", "element", "<nl>", "struct", "readahead", "_", "list", "header", ";", "<nl>", "-", "kXR", "_", "int64", "pos", "_", "from", "=", "0", ",", "pos", "_", "to", "=", "0", ";", "<nl>", "+", "kXR", "_", "int32", "pos", "_", "from", "=", "0", ",", "pos", "_", "to", "=", "0", ";", "<nl>", "int", "i", "=", "0", ";", "<nl>", "-", "<nl>", "-", "int", "cur", "_", "buf", "_", "len", "=", "0", ",", "cur", "_", "buf", "_", "offset", "=", "-", "1", ",", "cur", "_", "buf", "=", "0", ";", "<nl>", "+", "kXR", "_", "int64", "cur", "_", "buf", "_", "offset", "=", "-", "1", ";", "<nl>", "+", "int", "cur", "_", "buf", "_", "len", "=", "0", ",", "cur", "_", "buf", "=", "0", ";", "<nl>", "<nl>", "while", "(", "(", "pos", "_", "from", "<", "respdatalen", ")", "&", "&", "(", "i", "<", "nbuf", ")", ")", "{", "<nl>", "memcpy", "(", "&", "header", ",", "respdata", "+", "pos", "_", "from", ",", "sizeof", "(", "struct", "readahead", "_", "list", ")", ")", ";", "<nl>"], "docstring_tokens": ["Correctly", "reconstruct", "a", "sync", "readv", "response", "containing", "offsets", "2GB"]}
{"code_tokens": ["namespace", "XrdCl", "<nl>", "/", "/", "Check", "if", "we", "'", "re", "IPv6", "encoded", "IPv4", "<nl>", "/", "/", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "<nl>", "pos", "=", "pHostName", ".", "find", "(", "\"", ".", "\"", ")", ";", "<nl>", "-", "if", "(", "pos", "!", "=", "std", ":", ":", "string", ":", ":", "npos", ")", "<nl>", "+", "size", "_", "t", "pos2", "=", "pHostName", ".", "find", "(", "\"", "[", ":", ":", "ffff", "\"", ")", ";", "<nl>", "+", "if", "(", "pos", "!", "=", "std", ":", ":", "string", ":", ":", "npos", "&", "&", "pos2", "=", "=", "std", ":", ":", "string", ":", ":", "npos", ")", "<nl>", "{", "<nl>", "pHostName", ".", "erase", "(", "0", ",", "3", ")", ";", "<nl>", "pHostName", ".", "erase", "(", "pHostName", ".", "length", "(", ")", "-", "1", ",", "1", ")", ";", "<nl>"], "docstring_tokens": ["XrdCl", "aaa", "bbb", "ccc", "ddd", "is", "not", "a", "valid", "IPv6", "address", "but", "ffff", "aaa", "bbb", "ccc", "ddd", "is"]}
{"code_tokens": ["int", "XrdOlbConfig", ":", ":", "Configure2", "(", ")", "<nl>", "/", "/", "<nl>", "Say", ".", "Say", "(", "0", ",", "myInstance", ",", "\"", "phase", "2", "initialization", "started", ".", "\"", ")", ";", "<nl>", "<nl>", "+", "/", "/", "Readjust", "the", "thread", "parameters", "as", "we", "know", "how", "many", "we", "will", "actually", "need", "<nl>", "+", "/", "/", "<nl>", "+", "Sched", "-", ">", "setParms", "(", "16", ",", "256", ",", "8", ",", "0", ")", ";", "<nl>", "+", "<nl>", "/", "/", "Determine", "who", "we", "are", ".", "If", "we", "are", "a", "manager", "or", "supervisor", "start", "the", "file", "<nl>", "/", "/", "location", "cache", "scrubber", ".", "<nl>", "/", "/", "<nl>"], "docstring_tokens": ["Set", "thread", "parameters", "to", "be", "optimal", "for", "olbd"]}
{"code_tokens": ["bool", "Factory", ":", ":", "ConfigParameters", "(", "std", ":", ":", "string", "part", ",", "XrdOucStream", "&", "config", ")", "<nl>", "}", "<nl>", "else", "if", "(", "part", "=", "=", "\"", "prefetch", "\"", ")", "<nl>", "{", "<nl>", "-", "printf", "(", "\"", "prefetch", "enabled", "!", "!", "!", "!", "\\", "n", "\"", ")", ";", "<nl>", "-", "m", "_", "configuration", ".", "m", "_", "prefetch", "=", "true", ";", "<nl>", "-", "config", ".", "GetWord", "(", ")", ";", "<nl>", "+", "int", "p", "=", ":", ":", "atoi", "(", "config", ".", "GetWord", "(", ")", ")", ";", "<nl>", "+", "if", "(", "p", "!", "=", "0", ")", "{", "<nl>", "+", "printf", "(", "\"", "prefetch", "enabled", "!", "!", "!", "!", "\\", "n", "\"", ")", ";", "<nl>", "+", "m", "_", "configuration", ".", "m", "_", "prefetch", "=", "true", ";", "<nl>", "+", "}", "<nl>", "+", "else", "{", "<nl>", "+", "m", "_", "configuration", ".", "m", "_", "prefetch", "=", "false", ";", "<nl>", "+", "}", "<nl>", "}", "<nl>", "else", "if", "(", "part", "=", "=", "\"", "nram", "\"", ")", "<nl>", "{", "<nl>"], "docstring_tokens": ["Parse", "prefetch", "entry", "correctly"]}
{"code_tokens": ["namespace", "XrdCl", "<nl>", "<nl>", "props", ".", "Get", "(", "\"", "source", "\"", ",", "tmp", ")", ";", "<nl>", "URL", "source", "=", "tmp", ";", "<nl>", "+", "if", "(", "!", "source", ".", "IsValid", "(", ")", ")", "<nl>", "+", "return", "XRootDStatus", "(", "stError", ",", "errInvalidArgs", ",", "0", ",", "\"", "invalid", "source", "\"", ")", ";", "<nl>", "+", "<nl>", "props", ".", "Get", "(", "\"", "target", "\"", ",", "tmp", ")", ";", "<nl>", "URL", "target", "=", "tmp", ";", "<nl>", "+", "if", "(", "!", "target", ".", "IsValid", "(", ")", ")", "<nl>", "+", "return", "XRootDStatus", "(", "stError", ",", "errInvalidArgs", ",", "0", ",", "\"", "invalid", "target", "\"", ")", ";", "<nl>", "<nl>", "bool", "tpc", "=", "false", ";", "<nl>", "bool", "tpcFallBack", "=", "false", ";", "<nl>"], "docstring_tokens": ["XrdCl", "Check", "for", "copy", "source", "and", "target", "validity", "to", "display", "proper", "error", "messages"]}
{"code_tokens": ["int", "XrdNet", ":", ":", "do", "_", "Accept", "_", "UDP", "(", "XrdNetPeer", "&", "myPeer", ",", "int", "opts", ")", "<nl>", "<nl>", "/", "/", "Read", "the", "message", "and", "get", "the", "host", "address", "<nl>", "/", "/", "<nl>", "-", "do", "{", "dlen", "=", "recvfrom", "(", "iofd", ",", "(", "Sokdata", "_", "t", ")", "bp", "-", ">", "data", ",", "BuffSize", ",", "0", ",", "&", "addr", ",", "&", "addrlen", ")", ";", "<nl>", "+", "do", "{", "dlen", "=", "recvfrom", "(", "iofd", ",", "(", "Sokdata", "_", "t", ")", "bp", "-", ">", "data", ",", "BuffSize", "-", "1", ",", "0", ",", "&", "addr", ",", "&", "addrlen", ")", ";", "<nl>", "}", "while", "(", "dlen", "<", "0", "&", "&", "errno", "=", "=", "EINTR", ")", ";", "<nl>", "<nl>", "if", "(", "dlen", "<", "0", ")", "<nl>", "{", "eDest", "-", ">", "Emsg", "(", "\"", "Receive", "\"", ",", "errno", ",", "\"", "perform", "UDP", "recvfrom", "(", ")", "\"", ")", ";", "<nl>", "BuffQ", "-", ">", "Recycle", "(", "bp", ")", ";", "<nl>", "return", "0", ";", "<nl>", "-", "}", "<nl>", "+", "}", "else", "bp", "-", ">", "data", "[", "dlen", "]", "=", "'", "\\", "0", "'", ";", "<nl>", "<nl>", "/", "/", "Authorize", "this", "connection", ".", "We", "don", "'", "t", "accept", "messages", "that", "set", "the", "<nl>", "/", "/", "loopback", "address", "since", "this", "can", "be", "trivially", "spoofed", "in", "UDP", "packets", ".", "<nl>"], "docstring_tokens": ["Make", "sure", "that", "UDP", "messages", "are", "terminated", "with", "a", "null", "byte"]}
{"code_tokens": ["int", "doCp", "_", "xrd2xrd", "(", "XrdClient", "*", "*", "xrddest", ",", "const", "char", "*", "src", ",", "const", "char", "*", "dst", ")", "{", "<nl>", "cout", "<", "<", "endl", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "(", "unsigned", ")", "cpnfo", ".", "len", "!", "=", "bytesread", ")", "retvalue", "=", "13", ";", "<nl>", "+", "if", "(", "cpnfo", ".", "len", "!", "=", "bytesread", ")", "retvalue", "=", "13", ";", "<nl>", "<nl>", "#", "ifdef", "HAVE", "_", "XRDCRYPTO", "<nl>", "if", "(", "md5", ")", "MD", "_", "5", "-", ">", "Final", "(", ")", ";", "<nl>", "int", "doCp", "_", "xrd2loc", "(", "const", "char", "*", "src", ",", "const", "char", "*", "dst", ")", "{", "<nl>", "cout", "<", "<", "endl", ";", "<nl>", "}", "<nl>", "<nl>", "-", "if", "(", "(", "unsigned", ")", "cpnfo", ".", "len", "!", "=", "bytesread", ")", "retvalue", "=", "13", ";", "<nl>", "+", "if", "(", "cpnfo", ".", "len", "!", "=", "bytesread", ")", "retvalue", "=", "13", ";", "<nl>", "<nl>", "#", "ifdef", "HAVE", "_", "XRDCRYPTO", "<nl>", "if", "(", "md5", ")", "MD", "_", "5", "-", ">", "Final", "(", ")", ";", "<nl>"], "docstring_tokens": ["Correctly", "detect", "mismatches", "in", "the", "number", "of", "copied", "bytes"]}
{"code_tokens": ["XrdXrootdMonitor", ":", ":", "~", "XrdXrootdMonitor", "(", ")", "<nl>", "<nl>", "void", "XrdXrootdMonitor", ":", ":", "appID", "(", "char", "*", "id", ")", "<nl>", "{", "<nl>", "+", "static", "const", "int", "apInfoSize", "=", "sizeof", "(", "XrdXrootdMonTrace", ")", "-", "4", ";", "<nl>", "<nl>", "/", "/", "Application", "ID", "'", "s", "are", "only", "meaningful", "for", "io", "event", "recording", "<nl>", "/", "/", "<nl>", "void", "XrdXrootdMonitor", ":", ":", "appID", "(", "char", "*", "id", ")", "<nl>", "if", "(", "lastWindow", "!", "=", "currWindow", ")", "Mark", "(", ")", ";", "<nl>", "else", "if", "(", "nextEnt", "=", "=", "lastEnt", ")", "Flush", "(", ")", ";", "<nl>", "monBuff", "-", ">", "info", "[", "nextEnt", "]", ".", "arg0", ".", "id", "[", "0", "]", "=", "XROOTD", "_", "MON", "_", "APPID", ";", "<nl>", "-", "strncpy", "(", "(", "char", "*", ")", "&", "monBuff", "-", ">", "info", "[", "nextEnt", "]", ".", "arg0", ".", "id", "[", "4", "]", ",", "id", ",", "<nl>", "-", "sizeof", "(", "XrdXrootdMonTrace", ")", "-", "4", ")", ";", "<nl>", "+", "strncpy", "(", "(", "char", "*", ")", "(", "&", "(", "monBuff", "-", ">", "info", "[", "nextEnt", "]", ")", "+", "4", ")", ",", "id", ",", "apInfoSize", ")", ";", "<nl>", "}", "<nl>", "<nl>", "/", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "/", "<nl>"], "docstring_tokens": ["Squelch", "useless", "noise", "from", "g", "on", "Ubuntu"]}
{"code_tokens": ["int", "XrdOuca2x", ":", ":", "a2sp", "(", "XrdSysError", "&", "Eroute", ",", "const", "char", "*", "emsg", ",", "const", "char", "*", "item", ",", "<nl>", "if", "(", "maxv", "<", "0", ")", "maxv", "=", "100", ";", "<nl>", "<nl>", "if", "(", "*", "val", ">", "maxv", ")", "<nl>", "-", "{", "sprintf", "(", "buff", ",", "\"", "may", "not", "be", "greater", "than", "%", "d", "%", "%", "\"", ",", "maxv", ")", ";", "<nl>", "+", "{", "sprintf", "(", "buff", ",", "\"", "may", "not", "be", "greater", "than", "%", "lld", "%", "%", "\"", ",", "maxv", ")", ";", "<nl>", "Eroute", ".", "Emsg", "(", "\"", "a2x", "\"", ",", "emsg", ",", "item", ",", "buff", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "int", "XrdOuca2x", ":", ":", "a2sp", "(", "XrdSysError", "&", "Eroute", ",", "const", "char", "*", "emsg", ",", "const", "char", "*", "item", ",", "<nl>", "if", "(", "minv", "<", "0", ")", "minv", "=", "0", ";", "<nl>", "<nl>", "if", "(", "*", "val", ">", "maxv", ")", "<nl>", "-", "{", "sprintf", "(", "buff", ",", "\"", "may", "not", "be", "less", "than", "%", "d", "%", "%", "\"", ",", "minv", ")", ";", "<nl>", "+", "{", "sprintf", "(", "buff", ",", "\"", "may", "not", "be", "less", "than", "%", "lld", "%", "%", "\"", ",", "minv", ")", ";", "<nl>", "Eroute", ".", "Emsg", "(", "\"", "a2x", "\"", ",", "emsg", ",", "item", ",", "buff", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "mmm", "src", "/", "XrdOuc", "/", "XrdOucUtils", ".", "cc", "<nl>", "int", "XrdOuca2x", ":", ":", "a2sp", "(", "XrdSysError", "&", "Eroute", ",", "const", "char", "*", "emsg", ",", "const", "char", "*", "item", ",", "<nl>", "if", "(", "maxv", "<", "0", ")", "maxv", "=", "100", ";", "<nl>", "<nl>", "if", "(", "*", "val", ">", "maxv", ")", "<nl>", "-", "{", "sprintf", "(", "buff", ",", "\"", "may", "not", "be", "greater", "than", "%", "d", "%", "%", "\"", ",", "maxv", ")", ";", "<nl>", "+", "{", "sprintf", "(", "buff", ",", "\"", "may", "not", "be", "greater", "than", "%", "lld", "%", "%", "\"", ",", "maxv", ")", ";", "<nl>", "Eroute", ".", "Emsg", "(", "\"", "a2x", "\"", ",", "emsg", ",", "item", ",", "buff", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "int", "XrdOuca2x", ":", ":", "a2sp", "(", "XrdSysError", "&", "Eroute", ",", "const", "char", "*", "emsg", ",", "const", "char", "*", "item", ",", "<nl>", "if", "(", "minv", "<", "0", ")", "minv", "=", "0", ";", "<nl>", "<nl>", "if", "(", "*", "val", ">", "maxv", ")", "<nl>", "-", "{", "sprintf", "(", "buff", ",", "\"", "may", "not", "be", "less", "than", "%", "d", "%", "%", "\"", ",", "minv", ")", ";", "<nl>", "+", "{", "sprintf", "(", "buff", ",", "\"", "may", "not", "be", "less", "than", "%", "lld", "%", "%", "\"", ",", "minv", ")", ";", "<nl>", "Eroute", ".", "Emsg", "(", "\"", "a2x", "\"", ",", "emsg", ",", "item", ",", "buff", ")", ";", "<nl>", "return", "-", "1", ";", "<nl>", "}", "<nl>", "int", "XrdOucUtils", ":", ":", "fmtBytes", "(", "long", "long", "val", ",", "char", "*", "buff", ",", "int", "bsz", ")", "<nl>", "static", "const", "long", "long", "Gval", "=", "1024L", "L", "*", "1024L", "L", "*", "1024L", "L", ";", "<nl>", "static", "const", "long", "long", "Tval", "=", "1024L", "L", "*", "1024L", "L", "*", "1024L", "L", "*", "1024L", "L", ";", "<nl>", "char", "sName", "=", "'", "'", ";", "<nl>", "-", "int", "n", ",", "resid", ";", "<nl>", "+", "int", "resid", ";", "<nl>", "<nl>", "/", "/", "Get", "correct", "scaling", "<nl>", "/", "/", "<nl>"], "docstring_tokens": ["Squelch", "g", "warnings"]}
{"code_tokens": ["int", "XrdHttpReq", ":", ":", "PostProcessHTTPReq", "(", "bool", "final", "_", ")", "{", "<nl>", "<nl>", "}", "else", "<nl>", "for", "(", "int", "i", "=", "0", ";", "i", "<", "iovN", ";", "i", "+", "+", ")", "{", "<nl>", "-", "prot", "-", ">", "SendData", "(", "(", "char", "*", ")", "iovP", "[", "i", "]", ".", "iov", "_", "base", ",", "iovP", "[", "i", "]", ".", "iov", "_", "len", ")", ";", "<nl>", "+", "if", "(", "prot", "-", ">", "SendData", "(", "(", "char", "*", ")", "iovP", "[", "i", "]", ".", "iov", "_", "base", ",", "iovP", "[", "i", "]", ".", "iov", "_", "len", ")", ")", "return", "1", ";", "<nl>", "writtenbytes", "+", "=", "iovP", "[", "i", "]", ".", "iov", "_", "len", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["XrdHttp", "Add", "missing", "return", "statement"]}
{"code_tokens": ["int", "main", "(", "int", "argc", ",", "char", "*", "*", "argv", ")", "{", "<nl>", "<nl>", "if", "(", "!", "path", ".", "length", "(", ")", ")", "{", "<nl>", "cout", "<", "<", "\"", "The", "current", "path", "is", "empty", ".", "\"", "<", "<", "endl", ";", "<nl>", "-", "retval", "=", "1", ";", "<nl>", "+", "path", "=", "'", "/", "'", ";", "<nl>", "}", "<nl>", "<nl>", "/", "/", "Now", "try", "to", "issue", "the", "request", "<nl>"], "docstring_tokens": ["Do", "not", "complain", "if", "a", "path", "to", "be", "dirlisted", "is", "empty"]}
{"code_tokens": ["int", "XrdNet", ":", ":", "do", "_", "Accept", "_", "TCP", "(", "XrdNetAddr", "&", "hAddr", ",", "int", "opts", ")", "<nl>", "<nl>", "/", "/", "Initialize", "the", "address", "of", "the", "new", "connection", "<nl>", "/", "/", "<nl>", "-", "hAddr", ".", "Set", "(", "&", "IP", ".", "Addr", ",", "newfd", ")", ";", "<nl>", "+", "const", "char", "*", "eMsg", "=", "hAddr", ".", "Set", "(", "&", "IP", ".", "Addr", ",", "newfd", ")", ";", "<nl>", "+", "if", "(", "eMsg", ")", "<nl>", "+", "{", "char", "buff", "[", "256", "]", ";", "<nl>", "+", "snprintf", "(", "buff", ",", "sizeof", "(", "buff", ")", ",", "\"", "%", "d", ";", "\"", ",", "newfd", ")", ";", "<nl>", "+", "eDest", "-", ">", "Emsg", "(", "\"", "Accept", "\"", ",", "\"", "Failed", "to", "identify", "FD", "\"", ",", "buff", ",", "eMsg", ")", ";", "<nl>", "+", "close", "(", "newfd", ")", ";", "<nl>", "+", "return", "0", ";", "<nl>", "+", "}", "<nl>", "<nl>", "/", "/", "Remove", "TCP", "_", "NODELAY", "option", "for", "unix", "domain", "sockets", "to", "avoid", "error", "message", "<nl>", "/", "/", "<nl>"], "docstring_tokens": ["Server", "Print", "error", "msg", "and", "close", "socket", "when", "we", "can", "t", "handle", "an", "FD"]}
{"code_tokens": ["int", "XrdSecProtocolgsi", ":", ":", "Encrypt", "(", "const", "char", "*", "inbuf", ",", "/", "/", "Data", "to", "be", "encrypted", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "/", "/", "Get", "output", "buffer", "<nl>", "-", "char", "*", "buf", "=", "(", "char", "*", ")", "malloc", "(", "sessionKey", "-", ">", "EncOutLength", "(", "inlen", ")", ")", ";", "<nl>", "-", "if", "(", "!", "buf", ")", "<nl>", "-", "return", "-", "ENOMEM", ";", "<nl>", "+", "int", "sz", "=", "sessionKey", "-", ">", "EncOutLength", "(", "inlen", ")", ";", "<nl>", "+", "char", "*", "buf", "=", "(", "char", "*", ")", "malloc", "(", "sz", ")", ";", "<nl>", "+", "if", "(", "!", "buf", ")", "return", "-", "ENOMEM", ";", "<nl>", "+", "memset", "(", "buf", ",", "0", ",", "sz", ")", ";", "<nl>", "<nl>", "/", "/", "Encrypt", "<nl>", "int", "len", "=", "sessionKey", "-", ">", "Encrypt", "(", "inbuf", ",", "inlen", ",", "buf", ")", ";", "<nl>", "int", "XrdSecProtocolgsi", ":", ":", "Decrypt", "(", "const", "char", "*", "inbuf", ",", "/", "/", "Data", "to", "be", "decrypted", "<nl>", "return", "-", "EINVAL", ";", "<nl>", "<nl>", "/", "/", "Get", "output", "buffer", "<nl>", "-", "char", "*", "buf", "=", "(", "char", "*", ")", "malloc", "(", "sessionKey", "-", ">", "DecOutLength", "(", "inlen", ")", ")", ";", "<nl>", "-", "if", "(", "!", "buf", ")", "<nl>", "-", "return", "-", "ENOMEM", ";", "<nl>", "+", "int", "sz", "=", "sessionKey", "-", ">", "DecOutLength", "(", "inlen", ")", ";", "<nl>", "+", "char", "*", "buf", "=", "(", "char", "*", ")", "malloc", "(", "sz", ")", ";", "<nl>", "+", "if", "(", "!", "buf", ")", "return", "-", "ENOMEM", ";", "<nl>", "+", "memset", "(", "buf", ",", "0", ",", "sz", ")", ";", "<nl>", "<nl>", "/", "/", "Decrypt", "<nl>", "int", "len", "=", "sessionKey", "-", ">", "Decrypt", "(", "inbuf", ",", "inlen", ",", "buf", ")", ";", "<nl>"], "docstring_tokens": ["secgsi", "initialize", "output", "buffers", "in", "Encrypt", "Decrypt"]}
{"code_tokens": ["ssize", "_", "t", "Prefetch", ":", ":", "ReadInBlocks", "(", "char", "*", "buff", ",", "off", "_", "t", "off", ",", "size", "_", "t", "size", ")", "<nl>", "<nl>", "int", "Prefetch", ":", ":", "ReadV", "(", "const", "XrdOucIOVec", "*", "readV", ",", "int", "n", ")", "<nl>", "{", "<nl>", "+", "{", "<nl>", "+", "XrdSysCondVarHelper", "monitor", "(", "m", "_", "stateCond", ")", ";", "<nl>", "+", "<nl>", "+", "/", "/", "AMT", "check", "if", "this", "can", "be", "done", "once", "during", "initalization", "<nl>", "+", "if", "(", "m", "_", "failed", ")", "return", "m", "_", "input", ".", "ReadV", "(", "readV", ",", "n", ")", ";", "<nl>", "+", "<nl>", "+", "if", "(", "!", "m", "_", "started", ")", "<nl>", "+", "{", "<nl>", "+", "m", "_", "stateCond", ".", "Wait", "(", ")", ";", "<nl>", "+", "if", "(", "m", "_", "failed", ")", "return", "0", ";", "<nl>", "+", "}", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "/", "check", "if", "read", "sizes", "are", "big", "enough", "to", "cache", "<nl>", "<nl>", "XrdCl", ":", ":", "XRootDStatus", "Status", ";", "<nl>"], "docstring_tokens": ["Add", "startup", "protection", "for", "ReadV", "too", "It", "was", "already", "there", "for", "Read"]}
{"code_tokens": ["class", "ProgressDisplay", ":", "public", "XrdCl", ":", ":", "CopyProgressHandler", "<nl>", "uint64", "_", "t", "speed", "=", "0", ";", "<nl>", "if", "(", "now", "-", "d", ".", "started", ")", "<nl>", "speed", "=", "d", ".", "bytesProcessed", "/", "(", "now", "-", "d", ".", "started", ")", ";", "<nl>", "+", "else", "<nl>", "+", "speed", "=", "d", ".", "bytesProcessed", ";", "<nl>", "<nl>", "std", ":", ":", "string", "bar", ";", "<nl>", "int", "prog", "=", "0", ";", "<nl>"], "docstring_tokens": ["XrdCl", "Fix", "xrdcp", "progress", "bar", "displaying", "a", "trasfer", "speed", "of", "0", "for", "small", "files", "fast", "trasfers"]}
{"code_tokens": ["extern", "\"", "C", "\"", "{", "<nl>", "char", "tok1", "[", "256", "]", ",", "tok2", "[", "256", "]", ";", "<nl>", "long", "v", ";", "<nl>", "<nl>", "-", "if", "(", "sscanf", "(", "(", "*", "env", ")", "[", "it", "]", ".", "c", "_", "str", "(", ")", ",", "\"", "%", "256s", "%", "d", "\"", ",", "tok1", ",", "&", "v", ")", "=", "=", "2", ")", "{", "<nl>", "+", "if", "(", "sscanf", "(", "(", "*", "env", ")", "[", "it", "]", ".", "c", "_", "str", "(", ")", ",", "\"", "%", "256s", "%", "ld", "\"", ",", "tok1", ",", "&", "v", ")", "=", "=", "2", ")", "{", "<nl>", "/", "/", "It", "'", "s", "an", "integer", "value", "<nl>", "EnvPutInt", "(", "tok1", ",", "v", ")", ";", "<nl>", "/", "/", "cout", "<", "<", "\"", "Env", ":", "\"", "<", "<", "tok1", "<", "<", "\"", "Val", "=", "\"", "<", "<", "EnvGetLong", "(", "tok1", ")", "<", "<", "endl", ";", "<nl>"], "docstring_tokens": ["Correct", "mismatch", "between", "format", "string", "and", "data", "item"]}
{"code_tokens": ["XrdVERSIONINFO", "(", "XrdSecgsiGMAPFun", ",", "secgsigmap", ")", ";", "<nl>", "/", "*", "*", "/", "<nl>", "/", "*", "GMAP", "function", "implementation", "querying", "a", "LDAP", "database", "*", "/", "<nl>", "/", "*", "*", "/", "<nl>", "+", "/", "*", "Warning", ":", "this", "plug", "-", "in", "is", "not", "build", "any", "longer", "because", "the", "external", "*", "/", "<nl>", "+", "/", "*", "LDAP", "query", "via", "the", "popen", "(", ")", "represents", "a", "potential", "security", "threat", "*", "/", "<nl>", "+", "/", "*", "and", "it", "is", "believed", "that", "functionality", "provided", "is", "not", "actually", "used", ".", "*", "/", "<nl>", "+", "/", "*", "If", "this", "believe", "happens", "to", "be", "uncorrect", "please", "report", "at", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "/", "*", "https", ":", "/", "/", "github", ".", "com", "/", "xrootd", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "/", "*", "a", "sanitized", "version", "of", "the", "plug", "-", "in", "can", "be", "provided", "using", "a", "proper", "library", ".", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "/", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "/", "<nl>", "<nl>", "#", "include", "<", "stdio", ".", "h", ">", "mmm", "src", "/", "XrdCl", "/", "XrdClDefaultEnv", ".", "cc", "<nl>", "XrdVERSIONINFO", "(", "XrdSecgsiGMAPFun", ",", "secgsigmap", ")", ";", "<nl>", "/", "*", "*", "/", "<nl>", "/", "*", "GMAP", "function", "implementation", "querying", "a", "LDAP", "database", "*", "/", "<nl>", "/", "*", "*", "/", "<nl>", "+", "/", "*", "Warning", ":", "this", "plug", "-", "in", "is", "not", "build", "any", "longer", "because", "the", "external", "*", "/", "<nl>", "+", "/", "*", "LDAP", "query", "via", "the", "popen", "(", ")", "represents", "a", "potential", "security", "threat", "*", "/", "<nl>", "+", "/", "*", "and", "it", "is", "believed", "that", "functionality", "provided", "is", "not", "actually", "used", ".", "*", "/", "<nl>", "+", "/", "*", "If", "this", "believe", "happens", "to", "be", "uncorrect", "please", "report", "at", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "/", "*", "https", ":", "/", "/", "github", ".", "com", "/", "xrootd", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "+", "/", "*", "a", "sanitized", "version", "of", "the", "plug", "-", "in", "can", "be", "provided", "using", "a", "proper", "library", ".", "*", "/", "<nl>", "+", "/", "*", "*", "/", "<nl>", "/", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "/", "<nl>", "<nl>", "#", "include", "<", "stdio", ".", "h", ">", "<nl>", "namespace", "XrdCl", "<nl>", "\"", "libXrdSecgsi", ".", "so", "\"", ",", "<nl>", "\"", "libXrdSecgsiAuthzVO", ".", "so", "\"", ",", "<nl>", "\"", "libXrdSecgsiGMAPDN", ".", "so", "\"", ",", "<nl>", "-", "\"", "libXrdSecgsiGMAPLDAP", ".", "so", "\"", ",", "<nl>", "\"", "libXrdSecpwd", ".", "so", "\"", ",", "<nl>", "\"", "libXrdSecsss", ".", "so", "\"", ",", "<nl>", "\"", "libXrdSecunix", ".", "so", "\"", ",", "<nl>"], "docstring_tokens": ["secgsi", "do", "not", "build", "package", "libXrdSecgsiGMAPLDAP", "4", "so"]}
{"code_tokens": ["int", "XrdNetConnect", ":", ":", "Connect", "(", "int", "fd", ",", "<nl>", "new", "_", "flags", "=", "old", "_", "flags", "|", "O", "_", "NDELAY", "|", "O", "_", "NONBLOCK", ";", "<nl>", "fcntl", "(", "fd", ",", "F", "_", "SETFL", ",", "new", "_", "flags", ")", ";", "<nl>", "if", "(", "!", "connect", "(", "fd", ",", "name", ",", "namelen", ")", ")", "myRC", "=", "0", ";", "<nl>", "-", "else", "if", "(", "EINPROGRESS", "!", "=", "errno", ")", "myRC", "=", "errno", ";", "<nl>", "+", "else", "if", "(", "EINPROGRESS", "!", "=", "net", "_", "errno", ")", "myRC", "=", "net", "_", "errno", ";", "<nl>", "else", "{", "struct", "pollfd", "polltab", "=", "{", "fd", ",", "POLLOUT", "|", "POLLWRNORM", ",", "0", "}", ";", "<nl>", "do", "{", "myRC", "=", "poll", "(", "&", "polltab", ",", "1", ",", "tsec", "*", "1000", ")", ";", "}", "<nl>", "while", "(", "myRC", "<", "0", "&", "&", "errno", "=", "=", "EINTR", ")", ";", "<nl>"], "docstring_tokens": ["Use", "newly", "defined", "net_errno", "instead", "of", "errno", "from", "B", "Bellenot"]}
{"code_tokens": ["int", "ceph", "_", "posix", "_", "open", "(", "XrdOucEnv", "*", "env", ",", "const", "char", "*", "pathname", ",", "int", "flags", ",", "mode", "_", "t", "mode", "<nl>", "/", "/", "in", "case", "of", "O", "_", "TRUNC", ",", "we", "should", "truncate", "the", "file", "<nl>", "if", "(", "flags", "&", "O", "_", "TRUNC", ")", "{", "<nl>", "int", "rc", "=", "ceph", "_", "posix", "_", "internal", "_", "truncate", "(", "fr", ",", "0", ")", ";", "<nl>", "-", "if", "(", "rc", "<", "0", ")", "return", "rc", ";", "<nl>", "+", "/", "/", "fail", "only", "if", "file", "exists", "and", "cannot", "be", "truncated", "<nl>", "+", "if", "(", "rc", "<", "0", "&", "&", "rc", "!", "=", "-", "ENOENT", ")", "return", "rc", ";", "<nl>", "}", "<nl>", "return", "g", "_", "nextCephFd", "-", "1", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["XrdCeph", "Do", "not", "fail", "an", "open", "with", "O_TRUNC", "flag", "if", "the", "file", "is", "created"]}
{"code_tokens": ["int", "XrdOfs", ":", ":", "xred", "(", "XrdOucStream", "&", "Config", ",", "XrdOucError", "&", "Eroute", ")", "<nl>", "if", "(", "!", "ropt", ")", "ropt", "=", "XrdOfsREDIRRMT", ";", "<nl>", "else", "if", "(", "val", ")", "val", "=", "Config", ".", "GetWord", "(", ")", ";", "<nl>", "<nl>", "-", "if", "(", "val", "&", "&", "!", "strcmp", "(", "\"", "if", "\"", ",", "val", ")", ")", "<nl>", "-", "if", "(", "(", "rc", "=", "XrdOucUtils", ":", ":", "doIf", "(", "&", "Eroute", ",", "Config", ",", "\"", "redirect", "directive", "\"", ",", "<nl>", "+", "if", "(", "val", ")", "<nl>", "+", "{", "if", "(", "strcmp", "(", "\"", "if", "\"", ",", "val", ")", ")", "<nl>", "+", "{", "Config", ".", "RetToken", "(", ")", ";", "<nl>", "+", "Eroute", ".", "Emsg", "(", "\"", "Config", "\"", ",", "\"", "Warning", "!", "Implied", "'", "if", "'", "on", "redirect", "is", "now", "deprecated", ".", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "+", "if", "(", "(", "rc", "=", "XrdOucUtils", ":", ":", "doIf", "(", "&", "Eroute", ",", "Config", ",", "\"", "redirect", "directive", "\"", ",", "<nl>", "getenv", "(", "\"", "XRDHOST", "\"", ")", ",", "getenv", "(", "\"", "XRDNAME", "\"", ")", ")", ")", "<", "=", "0", ")", "<nl>", "-", "return", "(", "rc", "<", "0", ")", ";", "<nl>", "-", "<nl>", "+", "return", "(", "rc", "<", "0", ")", ";", "<nl>", "+", "}", "<nl>", "Options", "|", "=", "ropt", ";", "<nl>", "return", "0", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["Make", "redirect", "backward", "compatible", "but", "print", "warning", "that", "it", "won", "t", "be", "always", "that", "way"]}
{"code_tokens": ["unsigned", "long", "XrdSysTimer", ":", ":", "Report", "(", "double", "&", "Total", "_", "Time", ")", "<nl>", "<nl>", "/", "/", "Add", "up", "the", "time", "as", "a", "double", "<nl>", "/", "/", "<nl>", "-", "Total", "_", "Time", "+", "=", "(", "double", ")", "LastReport", ".", "tv", "_", "sec", "+", "<nl>", "-", "(", "(", "double", ")", "(", "LastReport", ".", "tv", "_", "usec", "/", "1000", ")", ")", "/", "1000", ".", "0", ";", "<nl>", "+", "Total", "_", "Time", "+", "=", "static", "_", "cast", "<", "double", ">", "(", "LastReport", ".", "tv", "_", "sec", ")", "+", "<nl>", "+", "static", "_", "cast", "<", "double", ">", "(", "LastReport", ".", "tv", "_", "usec", "/", "1000", ")", "/", "1000", ".", "0", ";", "<nl>", "<nl>", "/", "/", "Return", "time", "<nl>", "/", "/", "<nl>", "unsigned", "long", "XrdSysTimer", ":", ":", "Report", "(", "unsigned", "long", "&", "Total", "_", "Time", ")", "<nl>", "{", "<nl>", "unsigned", "long", "report", "_", "time", "=", "Report", "(", ")", ";", "<nl>", "<nl>", "-", "/", "/", "Add", "up", "the", "time", "as", "a", "32", "-", "bit", "value", "to", "nearest", "microsecond", "(", "max", "=", "24", "days", ")", "<nl>", "+", "/", "/", "Add", "up", "the", "time", "as", "a", "32", "-", "bit", "value", "to", "nearest", "milliseconds", "(", "max", "=", "24", "days", ")", "<nl>", "/", "/", "<nl>", "Total", "_", "Time", "+", "=", "(", "unsigned", "long", ")", "LastReport", ".", "tv", "_", "sec", "*", "1000", "+", "<nl>", "(", "unsigned", "long", ")", "(", "LastReport", ".", "tv", "_", "usec", "/", "1000", ")", ";", "<nl>", "unsigned", "long", "XrdSysTimer", ":", ":", "Report", "(", "unsigned", "long", "long", "&", "Total", "_", "Time", ")", "<nl>", "{", "<nl>", "unsigned", "long", "report", "_", "time", "=", "Report", "(", ")", ";", "<nl>", "<nl>", "-", "/", "/", "Add", "up", "the", "time", "as", "a", "64", "-", "bit", "value", "to", "nearest", "microsecond", "<nl>", "+", "/", "/", "Add", "up", "the", "time", "as", "a", "64", "-", "bit", "value", "to", "nearest", "milliseconds", "<nl>", "/", "/", "<nl>", "Total", "_", "Time", "+", "=", "(", "unsigned", "long", "long", ")", "LastReport", ".", "tv", "_", "sec", "*", "1000", "+", "<nl>", "(", "unsigned", "long", "long", ")", "(", "LastReport", ".", "tv", "_", "usec", "/", "1000", ")", ";", "<nl>"], "docstring_tokens": ["Correct", "comments", "that", "are", "misleading", "and", "produced", "a", "brain", "dead", "patch"]}
{"code_tokens": ["int", "XrdXrootdResponse", ":", ":", "Send", "(", "XResponseType", "rcode", ",", "int", "info", ",", "const", "char", "*", "data", ")", "<nl>", "kXR", "_", "int32", "xbuf", "=", "static", "_", "cast", "<", "kXR", "_", "int32", ">", "(", "htonl", "(", "info", ")", ")", ";", "<nl>", "int", "dlen", ";", "<nl>", "<nl>", "-", "TRACES", "(", "RSP", ",", "\"", "sending", "\"", "<", "<", "dlen", "<", "<", "\"", "data", "bytes", ";", "status", "=", "\"", "<", "<", "rcode", ")", ";", "<nl>", "-", "<nl>", "RespIO", "[", "1", "]", ".", "iov", "_", "base", "=", "(", "caddr", "_", "t", ")", "(", "&", "xbuf", ")", ";", "<nl>", "RespIO", "[", "1", "]", ".", "iov", "_", "len", "=", "sizeof", "(", "xbuf", ")", ";", "<nl>", "RespIO", "[", "2", "]", ".", "iov", "_", "base", "=", "(", "caddr", "_", "t", ")", "data", ";", "<nl>", "RespIO", "[", "2", "]", ".", "iov", "_", "len", "=", "dlen", "=", "strlen", "(", "data", ")", ";", "<nl>", "<nl>", "+", "TRACES", "(", "RSP", ",", "\"", "sending", "\"", "<", "<", "(", "sizeof", "(", "xbuf", ")", "+", "dlen", ")", "<", "<", "\"", "data", "bytes", ";", "status", "=", "\"", "<", "<", "rcode", ")", ";", "<nl>", "+", "<nl>", "if", "(", "Bridge", ")", "<nl>", "{", "if", "(", "Bridge", "-", ">", "Send", "(", "rcode", ",", "&", "RespIO", "[", "1", "]", ",", "1", ",", "dlen", ")", ">", "=", "0", ")", "return", "0", ";", "<nl>", "return", "Link", "-", ">", "setEtext", "(", "\"", "send", "failure", "\"", ")", ";", "<nl>"], "docstring_tokens": ["Fix", "misplaced", "trace", "statement"]}
{"code_tokens": ["int", "XrdOucPup", ":", ":", "Pack", "(", "struct", "iovec", "*", "iovP", ",", "struct", "iovec", "*", "iovE", ",", "XrdOucPupArgs", "*", "pup", ",", "<nl>", "break", ";", "<nl>", "<nl>", "case", "PT", "_", "int", ":", "<nl>", "-", "n32", "=", "htons", "(", "*", "Base", ".", "B32", ")", ";", "<nl>", "+", "n32", "=", "htonl", "(", "*", "Base", ".", "B32", ")", ";", "<nl>", "*", "wP", "=", "PT", "_", "int", ";", "memcpy", "(", "wP", "+", "1", ",", "&", "n32", ",", "sizeof", "(", "n32", ")", ")", ";", "<nl>", "vP", "-", ">", "iov", "_", "base", "=", "wP", ";", "vP", "-", ">", "iov", "_", "len", "=", "Sz32", ";", "vP", "+", "+", ";", "<nl>", "wP", "+", "=", "Sz32", ";", "TotLen", "+", "=", "Sz32", ";", "dlen", "=", "sizeof", "(", "n32", ")", ";", "<nl>", "break", ";", "<nl>", "<nl>", "case", "PT", "_", "longlong", ":", "<nl>", "-", "n64", "=", "htons", "(", "*", "Base", ".", "B64", ")", ";", "<nl>", "+", "h2nll", "(", "*", "Base", ".", "B64", ",", "n64", ")", ";", "<nl>", "*", "wP", "=", "PT", "_", "longlong", ";", "memcpy", "(", "wP", "+", "1", ",", "&", "n64", ",", "sizeof", "(", "n64", ")", ")", ";", "<nl>", "vP", "-", ">", "iov", "_", "base", "=", "wP", ";", "vP", "-", ">", "iov", "_", "len", "=", "Sz64", ";", "vP", "+", "+", ";", "<nl>", "wP", "+", "=", "Sz64", ";", "TotLen", "+", "=", "Sz64", ";", "dlen", "=", "sizeof", "(", "n64", ")", ";", "<nl>"], "docstring_tokens": ["Correct", "endian", "problems", "when", "packing", "data"]}
{"code_tokens": ["int", "XrdXrootdProtocol", ":", ":", "do", "_", "Qconf", "(", ")", "<nl>", "/", "/", "Now", "determine", "what", "the", "user", "wants", "to", "query", "<nl>", "/", "/", "<nl>", "if", "(", "!", "strcmp", "(", "\"", "readv", "_", "ior", "_", "max", "\"", ",", "val", ")", ")", "<nl>", "-", "{", "n", "=", "sprintf", "(", "bp", ",", "\"", "%", "d", "\\", "n", "\"", ",", "maxTransz", "-", "sizeof", "(", "readahead", "_", "list", ")", ")", ";", "<nl>", "+", "{", "n", "=", "sprintf", "(", "bp", ",", "\"", "%", "d", "\\", "n", "\"", ",", "maxTransz", "-", "(", "int", ")", "sizeof", "(", "readahead", "_", "list", ")", ")", ";", "<nl>", "bp", "+", "=", "n", ";", "bleft", "-", "=", "n", ";", "<nl>", "}", "<nl>", "else", "if", "(", "!", "strcmp", "(", "\"", "readv", "_", "iov", "_", "max", "\"", ",", "val", ")", ")", "<nl>"], "docstring_tokens": ["Fix", "warning", "on", "64", "bit", "machines", "F", "Rademakers"]}
{"code_tokens": ["RhelShutDown", "(", "<nl>", "<nl>", "virtio", "_", "device", "_", "reset", "(", "&", "adaptExt", "-", ">", "vdev", ")", ";", "<nl>", "virtio", "_", "delete", "_", "queues", "(", "&", "adaptExt", "-", ">", "vdev", ")", ";", "<nl>", "+", "virtio", "_", "device", "_", "shutdown", "(", "&", "adaptExt", "-", ">", "vdev", ")", ";", "<nl>", "adaptExt", "-", ">", "vq", "=", "NULL", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["viostor", "Add", "missing", "virtio_device_shutdown", "call"]}
{"code_tokens": ["void", "virtio", "_", "delete", "_", "queues", "(", "VirtIODevice", "*", "vdev", ")", "<nl>", "struct", "virtqueue", "*", "vq", ";", "<nl>", "unsigned", "i", ";", "<nl>", "<nl>", "+", "if", "(", "vdev", "-", ">", "info", "=", "=", "NULL", ")", "<nl>", "+", "return", ";", "<nl>", "+", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "vdev", "-", ">", "maxQueues", ";", "i", "+", "+", ")", "{", "<nl>", "vq", "=", "vdev", "-", ">", "info", "[", "i", "]", ".", "vq", ";", "<nl>", "if", "(", "vq", "!", "=", "NULL", ")", "{", "<nl>"], "docstring_tokens": ["bug", "fix", "for", "bz", "1352432"]}
{"code_tokens": ["static", "NDIS", "_", "STATUS", "ParaNdis", "_", "VirtIONetInit", "(", "PARANDIS", "_", "ADAPTER", "*", "pContext", ")", "<nl>", "for", "(", "i", "=", "0", ";", "i", "<", "pContext", "-", ">", "nPathBundles", ";", "i", "+", "+", ")", "<nl>", "{", "<nl>", "new", "(", "pContext", "-", ">", "pPathBundles", "+", "i", ",", "PLACEMENT", "_", "NEW", ")", "CPUPathesBundle", "(", ")", ";", "<nl>", "+", "}", "<nl>", "<nl>", "+", "for", "(", "i", "=", "0", ";", "i", "<", "pContext", "-", ">", "nPathBundles", ";", "i", "+", "+", ")", "<nl>", "+", "{", "<nl>", "if", "(", "!", "pContext", "-", ">", "pPathBundles", "[", "i", "]", ".", "rxPath", ".", "Create", "(", "pContext", ",", "i", "*", "2", ")", ")", "<nl>", "{", "<nl>", "DPrintf", "(", "0", ",", "(", "\"", "%", "s", ":", "CParaNdisRX", "creation", "failed", "\\", "n", "\"", ",", "_", "_", "FUNCTION", "_", "_", ")", ")", ";", "<nl>"], "docstring_tokens": ["NetKVM", "BZ", "1147239", "Initializing", "CPathBundle", "instances", "and", "their", "flags", "before", "path", "creation"]}
{"code_tokens": ["BYTE", "*", "DecompressRTF", "(", "variableLength", "*", "p", ",", "int", "*", "size", ")", "{", "<nl>", "ALLOCCHECK", "_", "CHAR", "(", "dst", ")", ";", "<nl>", "memcpy", "(", "dst", ",", "comp", "_", "Prebuf", ".", "data", ",", "comp", "_", "Prebuf", ".", "size", ")", ";", "<nl>", "out", "=", "comp", "_", "Prebuf", ".", "size", ";", "<nl>", "-", "while", "(", "out", "<", "(", "comp", "_", "Prebuf", ".", "size", "+", "uncompressedSize", ")", ")", "{", "<nl>", "+", "while", "(", "(", "out", "<", "(", "comp", "_", "Prebuf", ".", "size", "+", "uncompressedSize", ")", ")", "&", "&", "(", "in", "<", "p", "-", ">", "size", ")", ")", "{", "<nl>", "/", "/", "each", "flag", "byte", "flags", "8", "literals", "/", "references", ",", "1", "per", "bit", "<nl>", "flags", "=", "(", "flagCount", "+", "+", "%", "8", "=", "=", "0", ")", "?", "src", "[", "in", "+", "+", "]", ":", "flags", ">", ">", "1", ";", "<nl>", "if", "(", "(", "flags", "&", "1", ")", "=", "=", "1", ")", "{", "/", "/", "each", "flag", "bit", "is", "1", "for", "reference", ",", "0", "for", "literal", "<nl>"], "docstring_tokens": ["Added", "safety", "check", "for", "Compressed", "RTF", "Streams"]}
{"code_tokens": ["int", "TNEFParse", "(", "TNEFStruct", "*", "TNEF", ")", "{", "<nl>", "while", "(", "TNEFGetHeader", "(", "TNEF", ",", "&", "type", ",", "&", "size", ")", "=", "=", "0", ")", "{", "<nl>", "DEBUG2", "(", "TNEF", "-", ">", "Debug", ",", "2", ",", "\"", "Header", "says", "type", "=", "0x", "%", "X", ",", "size", "=", "%", "u", "\"", ",", "type", ",", "size", ")", ";", "<nl>", "DEBUG2", "(", "TNEF", "-", ">", "Debug", ",", "2", ",", "\"", "Header", "says", "type", "=", "%", "u", ",", "size", "=", "%", "u", "\"", ",", "type", ",", "size", ")", ";", "<nl>", "+", "if", "(", "size", "=", "=", "0", ")", "{", "<nl>", "+", "printf", "(", "\"", "ERROR", ":", "Field", "with", "size", "of", "0", "\\", "n", "\"", ")", ";", "<nl>", "+", "return", "YTNEF", "_", "ERROR", "_", "READING", "_", "DATA", ";", "<nl>", "+", "}", "<nl>", "data", "=", "calloc", "(", "size", ",", "sizeof", "(", "BYTE", ")", ")", ";", "<nl>", "ALLOCCHECK", "(", "data", ")", ";", "<nl>", "if", "(", "TNEFRawRead", "(", "TNEF", ",", "data", ",", "size", ",", "&", "header", "_", "checksum", ")", "<", "0", ")", "{", "<nl>"], "docstring_tokens": ["BugFix", "Potential", "OOB", "with", "Fields", "of", "Size", "0"]}
{"code_tokens": ["void", "SaveVCalendar", "(", "TNEFStruct", "TNEF", ",", "int", "isMtgReq", ")", "{", "<nl>", "if", "(", "isMtgReq", ")", "{", "<nl>", "CreateUniqueFilename", "(", "ifilename", ",", "MAX", "_", "FILENAME", "_", "SIZE", ",", "\"", "MtgReq", "\"", ",", "\"", "ics", "\"", ",", "filepath", ")", ";", "<nl>", "}", "else", "{", "<nl>", "-", "CreateUniqueFilename", "(", "ifilename", ",", "MAX", "_", "FILENAME", "_", "SIZE", ",", "\"", "calendar", "\"", ",", "\"", "vcf", "\"", ",", "filepath", ")", ";", "<nl>", "+", "CreateUniqueFilename", "(", "ifilename", ",", "MAX", "_", "FILENAME", "_", "SIZE", ",", "\"", "calendar", "\"", ",", "\"", "ics", "\"", ",", "filepath", ")", ";", "<nl>", "}", "<nl>", "<nl>", "printf", "(", "\"", "%", "s", "\\", "n", "\"", ",", "ifilename", ")", ";", "<nl>"], "docstring_tokens": ["Changed", "name", "extension", "of", "calendar", "files", "from", "vcf", "to", "ics"]}
{"code_tokens": ["void", "MAPIPrint", "(", "MAPIProps", "*", "p", ")", "{", "<nl>", "printf", "(", "\"", "]", "(", "%", "llu", ")", "\\", "n", "\"", ",", "ddword", "_", "tmp", ")", ";", "<nl>", "break", ";", "<nl>", "case", "PT", "_", "LONG", ":", "<nl>", "-", "printf", "(", "\"", "Value", ":", "%", "li", "\\", "n", "\"", ",", "*", "(", "(", "long", "*", ")", "mapidata", "-", ">", "data", ")", ")", ";", "<nl>", "+", "printf", "(", "\"", "Value", ":", "%", "i", "\\", "n", "\"", ",", "*", "(", "(", "int", "*", ")", "mapidata", "-", ">", "data", ")", ")", ";", "<nl>", "break", ";", "<nl>", "case", "PT", "_", "I2", ":", "<nl>", "printf", "(", "\"", "Value", ":", "%", "hi", "\\", "n", "\"", ",", "*", "(", "(", "short", "int", "*", ")", "mapidata", "-", ">", "data", ")", ")", ";", "<nl>"], "docstring_tokens": ["BugFix", "data", "length"]}
{"code_tokens": ["void", "hexdump", "(", "msg", "_", "info", "msg", "_", "info", ",", "const", "char", "*", "mem", ",", "unsigned", "int", "len", ")", "<nl>", "}", "<nl>", "str", "[", "c", "+", "+", "]", "=", "'", "\\", "n", "'", ";", "<nl>", "str", "[", "c", "+", "+", "]", "=", "0", ";", "<nl>", "-", "print", "_", "message", "(", "msg", "_", "info", ",", "str", ")", ";", "<nl>", "+", "print", "_", "message", "(", "msg", "_", "info", ",", "\"", "%", "s", "\"", ",", "str", ")", ";", "<nl>", "c", "=", "0", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["fix", "possible", "format", "string", "exploit", "if", "packet", "dumping", "enabled"]}
{"code_tokens": ["display", "_", "error", "(", "pam", "_", "handle", "_", "t", "*", "pamh", ",", "const", "char", "*", "message", ")", "{", "<nl>", "}", "<nl>", "<nl>", "D", "(", "(", "\"", "conv", "returned", ":", "'", "%", "s", "'", "\"", ",", "resp", "-", ">", "resp", ")", ")", ";", "<nl>", "+", "free", "(", "resp", ")", ";", "<nl>", "return", "retval", ";", "<nl>", "}", "<nl>", "#", "endif", "/", "*", "HAVE", "_", "CR", "*", "/", "<nl>", "pam", "_", "sm", "_", "authenticate", "(", "pam", "_", "handle", "_", "t", "*", "pamh", ",", "<nl>", "struct", "pam", "_", "conv", "*", "conv", ";", "<nl>", "const", "struct", "pam", "_", "message", "*", "pmsg", "[", "1", "]", ";", "<nl>", "struct", "pam", "_", "message", "msg", "[", "1", "]", ";", "<nl>", "-", "struct", "pam", "_", "response", "*", "resp", ";", "<nl>", "+", "struct", "pam", "_", "response", "*", "resp", "=", "NULL", ";", "<nl>", "int", "nargs", "=", "1", ";", "<nl>", "ykclient", "_", "t", "*", "ykc", "=", "NULL", ";", "<nl>", "struct", "cfg", "cfg", "_", "st", ";", "<nl>", "pam", "_", "sm", "_", "authenticate", "(", "pam", "_", "handle", "_", "t", "*", "pamh", ",", "<nl>", "}", "<nl>", "}", "<nl>", "msg", "[", "0", "]", ".", "msg", "_", "style", "=", "cfg", "-", ">", "verbose", "_", "otp", "?", "PAM", "_", "PROMPT", "_", "ECHO", "_", "ON", ":", "PAM", "_", "PROMPT", "_", "ECHO", "_", "OFF", ";", "<nl>", "-", "resp", "=", "NULL", ";", "<nl>", "<nl>", "retval", "=", "conv", "-", ">", "conv", "(", "nargs", ",", "pmsg", ",", "&", "resp", ",", "conv", "-", ">", "appdata", "_", "ptr", ")", ";", "<nl>", "<nl>", "done", ":", "<nl>", "DBG", "(", "(", "\"", "done", ".", "[", "%", "s", "]", "\"", ",", "pam", "_", "strerror", "(", "pamh", ",", "retval", ")", ")", ")", ";", "<nl>", "pam", "_", "set", "_", "data", "(", "pamh", ",", "\"", "yubico", "_", "setcred", "_", "return", "\"", ",", "(", "void", "*", ")", "(", "intptr", "_", "t", ")", "retval", ",", "NULL", ")", ";", "<nl>", "<nl>", "+", "if", "(", "resp", ")", "<nl>", "+", "free", "(", "resp", ")", ";", "<nl>", "+", "<nl>", "return", "retval", ";", "<nl>", "}", "<nl>"], "docstring_tokens": ["fixup", "a", "memory", "leak"]}
{"code_tokens": ["check", "_", "user", "_", "token", "(", "const", "char", "*", "authfile", ",", "<nl>", "{", "<nl>", "if", "(", "verbose", ")", "<nl>", "D", "(", "debug", "_", "file", ",", "\"", "Match", "user", "/", "token", "as", "%", "s", "/", "%", "s", "\"", ",", "username", ",", "otp", "_", "id", ")", ";", "<nl>", "+", "<nl>", "+", "fclose", "(", "opwfile", ")", ";", "<nl>", "return", "AUTH", "_", "FOUND", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["util", "make", "sure", "to", "close", "the", "authfile", "before", "returning", "success"]}
{"code_tokens": ["CoinSpend", ":", ":", "CoinSpend", "(", "const", "Params", "*", "p", ",", "const", "PrivateCoin", "&", "coin", ",", "<nl>", "throw", "ZerocoinException", "(", "\"", "Accumulator", "witness", "does", "not", "verify", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "/", "The", "serial", "#", "needs", "to", "be", "within", "the", "specified", "range", "our", "else", "it", "can", "be", "incremented", "by", "the", "modulus", "and", "create", "another", "valid", "proof", "<nl>", "+", "if", "(", "!", "HasValidSerial", "(", ")", ")", "{", "<nl>", "+", "throw", "ZerocoinException", "(", "\"", "Invalid", "serial", "#", "range", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "/", "1", ":", "Generate", "two", "separate", "commitments", "to", "the", "public", "coin", "(", "C", ")", ",", "each", "under", "<nl>", "/", "/", "a", "different", "set", "of", "public", "parameters", ".", "We", "do", "this", "because", "the", "RSA", "accumulator", "<nl>", "/", "/", "has", "specific", "requirements", "for", "the", "commitment", "parameters", "that", "are", "not", "<nl>", "const", "uint256", "CoinSpend", ":", ":", "signatureHash", "(", "const", "SpendMetaData", "&", "m", ")", "const", "{", "<nl>", "return", "h", ".", "GetHash", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "bool", "CoinSpend", ":", ":", "HasValidSerial", "(", ")", "const", "<nl>", "+", "{", "<nl>", "+", "return", "coinSerialNumber", ">", "0", "&", "&", "coinSerialNumber", "<", "params", "-", ">", "coinCommitmentGroup", ".", "groupOrder", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "}", "/", "*", "namespace", "libzerocoin", "*", "/", "mmm", "CoinSpend", ".", "h", "<nl>", "CoinSpend", ":", ":", "CoinSpend", "(", "const", "Params", "*", "p", ",", "const", "PrivateCoin", "&", "coin", ",", "<nl>", "throw", "ZerocoinException", "(", "\"", "Accumulator", "witness", "does", "not", "verify", "\"", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "/", "/", "The", "serial", "#", "needs", "to", "be", "within", "the", "specified", "range", "our", "else", "it", "can", "be", "incremented", "by", "the", "modulus", "and", "create", "another", "valid", "proof", "<nl>", "+", "if", "(", "!", "HasValidSerial", "(", ")", ")", "{", "<nl>", "+", "throw", "ZerocoinException", "(", "\"", "Invalid", "serial", "#", "range", "\"", ")", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "/", "/", "1", ":", "Generate", "two", "separate", "commitments", "to", "the", "public", "coin", "(", "C", ")", ",", "each", "under", "<nl>", "/", "/", "a", "different", "set", "of", "public", "parameters", ".", "We", "do", "this", "because", "the", "RSA", "accumulator", "<nl>", "/", "/", "has", "specific", "requirements", "for", "the", "commitment", "parameters", "that", "are", "not", "<nl>", "const", "uint256", "CoinSpend", ":", ":", "signatureHash", "(", "const", "SpendMetaData", "&", "m", ")", "const", "{", "<nl>", "return", "h", ".", "GetHash", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "+", "bool", "CoinSpend", ":", ":", "HasValidSerial", "(", ")", "const", "<nl>", "+", "{", "<nl>", "+", "return", "coinSerialNumber", ">", "0", "&", "&", "coinSerialNumber", "<", "params", "-", ">", "coinCommitmentGroup", ".", "groupOrder", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "}", "/", "*", "namespace", "libzerocoin", "*", "/", "<nl>", "public", ":", "<nl>", "*", "/", "<nl>", "const", "CoinDenomination", "getDenomination", "(", ")", ";", "<nl>", "<nl>", "+", "bool", "HasValidSerial", "(", ")", "const", ";", "<nl>", "bool", "Verify", "(", "const", "Accumulator", "&", "a", ",", "const", "SpendMetaData", "&", "metaData", ")", "const", ";", "<nl>", "<nl>", "IMPLEMENT", "_", "SERIALIZE", "<nl>"], "docstring_tokens": ["Patch", "serial", "exploit"]}
{"code_tokens": ["class", "c", "_", "single", "_", "allocator", "<nl>", "<nl>", "std", ":", ":", "size", "_", "t", "size", "(", ")", "const", "{", "return", "_", "buf", "_", "size", ";", "}", "<nl>", "<nl>", "-", "void", "resize", "(", "std", ":", ":", "size", "_", "t", "new", "_", "size", "_", ")", "{", "_", "buf", "_", "size", "=", "new", "_", "size", "_", ";", "}", "<nl>", "+", "/", "/", "This", "buffer", "is", "fixed", ",", "size", "must", "not", "be", "changed", "<nl>", "+", "void", "resize", "(", "std", ":", ":", "size", "_", "t", "new", "_", "size", "_", ")", "{", "LIBZMQ", "_", "UNUSED", "(", "new", "_", "size", "_", ")", ";", "}", "<nl>", "<nl>", "private", ":", "<nl>", "std", ":", ":", "size", "_", "t", "_", "buf", "_", "size", ";", "<nl>"], "docstring_tokens": ["Problem", "ZMTP", "v1", "static", "allocator", "is", "needlessly", "resized"]}
{"code_tokens": ["opfunc", "_", "instanceof", "(", "ecma", "_", "value", "_", "t", "left", "_", "value", ",", "/", "*", "*", "<", "left", "value", "*", "/", "<nl>", "<nl>", "if", "(", "!", "ecma", "_", "is", "_", "value", "_", "object", "(", "right", "_", "value", ")", ")", "<nl>", "{", "<nl>", "-", "ret", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "ret", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Expected", "an", "object", "in", "'", "instanceof", "'", "check", ".", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "opfunc", "_", "in", "(", "ecma", "_", "value", "_", "t", "left", "_", "value", ",", "/", "*", "*", "<", "left", "value", "*", "/", "<nl>", "<nl>", "if", "(", "!", "ecma", "_", "is", "_", "value", "_", "object", "(", "right", "_", "value", ")", ")", "<nl>", "{", "<nl>", "-", "ret", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "ret", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Expected", "an", "object", "in", "'", "in", "'", "check", ".", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "mmm", "jerry", "-", "core", "/", "vm", "/", "vm", ".", "c", "<nl>", "opfunc", "_", "instanceof", "(", "ecma", "_", "value", "_", "t", "left", "_", "value", ",", "/", "*", "*", "<", "left", "value", "*", "/", "<nl>", "<nl>", "if", "(", "!", "ecma", "_", "is", "_", "value", "_", "object", "(", "right", "_", "value", ")", ")", "<nl>", "{", "<nl>", "-", "ret", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "ret", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Expected", "an", "object", "in", "'", "instanceof", "'", "check", ".", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "opfunc", "_", "in", "(", "ecma", "_", "value", "_", "t", "left", "_", "value", ",", "/", "*", "*", "<", "left", "value", "*", "/", "<nl>", "<nl>", "if", "(", "!", "ecma", "_", "is", "_", "value", "_", "object", "(", "right", "_", "value", ")", ")", "<nl>", "{", "<nl>", "-", "ret", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "ret", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Expected", "an", "object", "in", "'", "in", "'", "check", ".", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "vm", "_", "op", "_", "get", "_", "value", "(", "ecma", "_", "value", "_", "t", "object", ",", "/", "*", "*", "<", "base", "object", "*", "/", "<nl>", "<nl>", "if", "(", "unlikely", "(", "ecma", "_", "is", "_", "value", "_", "undefined", "(", "object", ")", "|", "|", "ecma", "_", "is", "_", "value", "_", "null", "(", "object", ")", ")", ")", "<nl>", "{", "<nl>", "-", "return", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "return", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Base", "object", "cannot", "be", "null", "or", "undefined", ".", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "ecma", "_", "value", "_", "t", "prop", "_", "to", "_", "string", "_", "result", "=", "ecma", "_", "op", "_", "to", "_", "string", "(", "property", ")", ";", "<nl>", "opfunc", "_", "call", "(", "vm", "_", "frame", "_", "ctx", "_", "t", "*", "frame", "_", "ctx", "_", "p", ")", "/", "*", "*", "<", "frame", "context", "*", "/", "<nl>", "<nl>", "if", "(", "!", "ecma", "_", "op", "_", "is", "_", "callable", "(", "func", "_", "value", ")", ")", "<nl>", "{", "<nl>", "-", "completion", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "completion", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Expected", "a", "function", ".", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "opfunc", "_", "construct", "(", "vm", "_", "frame", "_", "ctx", "_", "t", "*", "frame", "_", "ctx", "_", "p", ")", "/", "*", "*", "<", "frame", "context", "*", "/", "<nl>", "<nl>", "if", "(", "!", "ecma", "_", "is", "_", "constructor", "(", "constructor", "_", "value", ")", ")", "<nl>", "{", "<nl>", "-", "completion", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "completion", "_", "value", "=", "ecma", "_", "raise", "_", "type", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Expected", "a", "constructor", ".", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "vm", "_", "loop", "(", "vm", "_", "frame", "_", "ctx", "_", "t", "*", "frame", "_", "ctx", "_", "p", ")", "/", "*", "*", "<", "frame", "context", "*", "/", "<nl>", "}", "<nl>", "else", "<nl>", "{", "<nl>", "-", "result", "=", "ecma", "_", "raise", "_", "reference", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "result", "=", "ecma", "_", "raise", "_", "reference", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Cannot", "resolve", "reference", ".", "\"", ")", ")", ";", "<nl>", "}", "<nl>", "<nl>", "if", "(", "ECMA", "_", "IS", "_", "VALUE", "_", "ERROR", "(", "result", ")", ")", "<nl>", "vm", "_", "loop", "(", "vm", "_", "frame", "_", "ctx", "_", "t", "*", "frame", "_", "ctx", "_", "p", ")", "/", "*", "*", "<", "frame", "context", "*", "/", "<nl>", "}", "<nl>", "case", "VM", "_", "OC", "_", "THROW", "_", "REFERENCE", "_", "ERROR", ":", "<nl>", "{", "<nl>", "-", "result", "=", "ecma", "_", "raise", "_", "reference", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "\"", ")", ")", ";", "<nl>", "+", "result", "=", "ecma", "_", "raise", "_", "reference", "_", "error", "(", "ECMA", "_", "ERR", "_", "MSG", "(", "\"", "Undefined", "reference", ".", "\"", ")", ")", ";", "<nl>", "goto", "error", ";", "<nl>", "}", "<nl>", "case", "VM", "_", "OC", "_", "EVAL", ":", "<nl>"], "docstring_tokens": ["Add", "error", "messages", "to", "VM", "1405"]}
{"code_tokens": ["opfunc", "_", "in", "(", "opcode", "_", "t", "opdata", "_", "_", "unused", ",", "/", "*", "*", "<", "operation", "data", "*", "/", "<nl>", "const", "idx", "_", "t", "left", "_", "var", "_", "idx", "=", "opdata", ".", "data", ".", "in", ".", "var", "_", "left", ";", "<nl>", "const", "idx", "_", "t", "right", "_", "var", "_", "idx", "=", "opdata", ".", "data", ".", "in", ".", "var", "_", "right", ";", "<nl>", "<nl>", "+", "int", "_", "data", "-", ">", "pos", "+", "+", ";", "<nl>", "+", "<nl>", "ecma", "_", "completion", "_", "value", "_", "t", "ret", "_", "value", ";", "<nl>", "<nl>", "ECMA", "_", "TRY", "_", "CATCH", "(", "left", "_", "value", ",", "get", "_", "variable", "_", "value", "(", "int", "_", "data", ",", "left", "_", "var", "_", "idx", ",", "false", ")", ",", "ret", "_", "value", ")", ";", "<nl>"], "docstring_tokens": ["Fixing", "in", "opcode", "handler"]}
{"code_tokens": ["main", "(", "int", "argc", ",", "<nl>", "{", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "jerry", "_", "release", "_", "value", "(", "ret", "_", "value", ")", ";", "<nl>", "+", "ret", "_", "value", "=", "jerry", "_", "create", "_", "undefined", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "int", "ret", "_", "code", "=", "JERRY", "_", "STANDALONE", "_", "EXIT", "_", "CODE", "_", "OK", ";", "mmm", "jerry", "-", "main", "/", "main", "-", "unix", ".", "c", "<nl>", "main", "(", "int", "argc", ",", "<nl>", "{", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "jerry", "_", "release", "_", "value", "(", "ret", "_", "value", ")", ";", "<nl>", "+", "ret", "_", "value", "=", "jerry", "_", "create", "_", "undefined", "(", ")", ";", "<nl>", "}", "<nl>", "<nl>", "int", "ret", "_", "code", "=", "JERRY", "_", "STANDALONE", "_", "EXIT", "_", "CODE", "_", "OK", ";", "<nl>", "main", "(", "int", "argc", ",", "<nl>", "{", "<nl>", "break", ";", "<nl>", "}", "<nl>", "+", "<nl>", "+", "jerry", "_", "release", "_", "value", "(", "ret", "_", "value", ")", ";", "<nl>", "+", "ret", "_", "value", "=", "jerry", "_", "create", "_", "undefined", "(", ")", ";", "<nl>", "}", "<nl>", "}", "<nl>"], "docstring_tokens": ["The", "main", "unix", "utility", "should", "free", "the", "return", "value", "to", "avoid", "leaks", "1578"]}
{"code_tokens": ["static", "int", "oidc", "_", "request", "_", "post", "_", "preserved", "_", "restore", "(", "request", "_", "rec", "*", "r", ",", "<nl>", "\"", "input", ".", "type", "=", "\\", "\"", "hidden", "\\", "\"", ";", "\\", "n", "\"", "<nl>", "\"", "document", ".", "forms", "[", "0", "]", ".", "appendChild", "(", "input", ")", ";", "\\", "n", "\"", "<nl>", "\"", "}", "\\", "n", "\"", "<nl>", "-", "\"", "document", ".", "forms", "[", "0", "]", ".", "action", "=", "'", "%", "s", "'", ";", "\\", "n", "\"", "<nl>", "+", "\"", "document", ".", "forms", "[", "0", "]", ".", "action", "=", "\\", "\"", "%", "s", "\\", "\"", ";", "\\", "n", "\"", "<nl>", "\"", "document", ".", "forms", "[", "0", "]", ".", "submit", "(", ")", ";", "\\", "n", "\"", "<nl>", "\"", "}", "\\", "n", "\"", "<nl>", "\"", "<", "/", "script", ">", "\\", "n", "\"", ",", "method", ",", "original", "_", "url", ")", ";", "<nl>"], "docstring_tokens": ["avoid", "XSS", "vulnerability", "when", "using", "OIDCPreservePost", "On"]}
{"code_tokens": ["static", "int", "oidc", "_", "handle", "_", "session", "_", "management", "_", "iframe", "_", "rp", "(", "request", "_", "rec", "*", "r", ",", "oidc", "_", "cfg", "*", "c", ",", "<nl>", "\"", "\\", "n", "\"", "<nl>", "\"", "function", "setTimer", "(", ")", "{", "\\", "n", "\"", "<nl>", "\"", "checkSession", "(", ")", ";", "\\", "n", "\"", "<nl>", "-", "\"", "timerID", "=", "setInterval", "(", "'", "checkSession", "(", ")", "'", ",", "%", "s", ")", ";", "\\", "n", "\"", "<nl>", "+", "\"", "timerID", "=", "setInterval", "(", "'", "checkSession", "(", ")", "'", ",", "%", "d", ")", ";", "\\", "n", "\"", "<nl>", "\"", "}", "\\", "n", "\"", "<nl>", "\"", "\\", "n", "\"", "<nl>", "\"", "function", "receiveMessage", "(", "e", ")", "{", "\\", "n", "\"", "<nl>", "static", "int", "oidc", "_", "handle", "_", "session", "_", "management", "_", "iframe", "_", "rp", "(", "request", "_", "rec", "*", "r", ",", "oidc", "_", "cfg", "*", "c", ",", "<nl>", "<nl>", "char", "*", "s", "_", "poll", "_", "interval", "=", "NULL", ";", "<nl>", "oidc", "_", "util", "_", "get", "_", "request", "_", "parameter", "(", "r", ",", "\"", "poll", "\"", ",", "&", "s", "_", "poll", "_", "interval", ")", ";", "<nl>", "-", "if", "(", "s", "_", "poll", "_", "interval", "=", "=", "NULL", ")", "<nl>", "-", "s", "_", "poll", "_", "interval", "=", "\"", "3000", "\"", ";", "<nl>", "+", "int", "poll", "_", "interval", "=", "s", "_", "poll", "_", "interval", "?", "strtol", "(", "s", "_", "poll", "_", "interval", ",", "NULL", ",", "10", ")", ":", "0", ";", "<nl>", "+", "if", "(", "(", "poll", "_", "interval", "<", "=", "0", ")", "|", "|", "(", "poll", "_", "interval", ">", "3600", "*", "24", ")", ")", "<nl>", "+", "poll", "_", "interval", "=", "3000", ";", "<nl>", "<nl>", "const", "char", "*", "redirect", "_", "uri", "=", "oidc", "_", "get", "_", "redirect", "_", "uri", "(", "r", ",", "c", ")", ";", "<nl>", "java", "_", "script", "=", "apr", "_", "psprintf", "(", "r", "-", ">", "pool", ",", "java", "_", "script", ",", "origin", ",", "client", "_", "id", ",", "<nl>", "-", "session", "_", "state", ",", "op", "_", "iframe", "_", "id", ",", "s", "_", "poll", "_", "interval", ",", "redirect", "_", "uri", ",", "<nl>", "+", "session", "_", "state", ",", "op", "_", "iframe", "_", "id", ",", "poll", "_", "interval", ",", "redirect", "_", "uri", ",", "<nl>", "redirect", "_", "uri", ")", ";", "<nl>", "<nl>", "return", "oidc", "_", "util", "_", "html", "_", "send", "(", "r", ",", "NULL", ",", "java", "_", "script", ",", "\"", "setTimer", "\"", ",", "NULL", ",", "DONE", ")", ";", "<nl>"], "docstring_tokens": ["release", "2", "3", "10", "2", "fix", "XSS", "vulnerability", "for", "poll", "parameter"]}
{"code_tokens": ["static", "char", "ExtensionClass", "_", "module", "_", "documentation", "[", "]", "=", "<nl>", "\"", "-", "They", "provide", "access", "to", "unbound", "methods", ",", "\\", "n", "\"", "<nl>", "\"", "-", "They", "can", "be", "called", "to", "create", "instances", ".", "\\", "n", "\"", "<nl>", "\"", "\\", "n", "\"", "<nl>", "-", "\"", "$", "Id", ":", "ExtensionClass", ".", "c", ",", "v", "1", ".", "56", "2002", "/", "06", "/", "18", "23", ":", "19", ":", "02", "jeremy", "Exp", "$", "\\", "n", "\"", "<nl>", "+", "\"", "$", "Id", ":", "ExtensionClass", ".", "c", ",", "v", "1", ".", "57", "2002", "/", "08", "/", "22", "16", ":", "55", ":", "53", "shane", "Exp", "$", "\\", "n", "\"", "<nl>", ";", "<nl>", "<nl>", "#", "include", "<", "stdio", ".", "h", ">", "<nl>", "PMethod", "_", "repr", "(", "PMethod", "*", "self", ")", "<nl>", "char", "*", "func", "_", "name", ",", "buf", "[", "8192", "]", ";", "<nl>", "int", "n", ";", "<nl>", "<nl>", "-", "func", "_", "name", "=", "PyString", "_", "AS", "_", "STRING", "(", "(", "(", "PyFunctionObject", "*", ")", "self", "-", ">", "meth", ")", "-", ">", "func", "_", "name", ")", ";", "<nl>", "+", "if", "(", "PyFunction", "_", "Check", "(", "self", "-", ">", "meth", ")", ")", "{", "<nl>", "+", "func", "_", "name", "=", "PyString", "_", "AS", "_", "STRING", "(", "<nl>", "+", "(", "(", "PyFunctionObject", "*", ")", "self", "-", ">", "meth", ")", "-", ">", "func", "_", "name", ")", ";", "<nl>", "+", "}", "<nl>", "+", "else", "{", "<nl>", "+", "/", "*", "self", "-", ">", "meth", "is", "some", "other", "kind", "of", "object", "*", "/", "<nl>", "+", "func", "_", "name", "=", "\"", "(", "?", ")", "\"", ";", "<nl>", "+", "}", "<nl>", "+", "<nl>", "if", "(", "self", "-", ">", "self", ")", "{", "<nl>", "PyObject", "*", "repr", "=", "PyObject", "_", "Repr", "(", "self", "-", ">", "self", ")", ";", "<nl>", "if", "(", "!", "repr", ")", "<nl>"], "docstring_tokens": ["Fixed", "a", "segfault", "bug", "in", "the", "repr", "of", "extension", "class", "methods"]}
